var RQ=Object.defineProperty;var Lj=e=>{throw TypeError(e)};var zQ=(e,t,r)=>t in e?RQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var LQ=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var je=(e,t,r)=>zQ(e,typeof t!="symbol"?t+"":t,r),o3=(e,t,r)=>t.has(e)||Lj("Cannot "+r);var Le=(e,t,r)=>(o3(e,t,"read from private field"),r?r.call(e):t.get(e)),Cr=(e,t,r)=>t.has(e)?Lj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),sr=(e,t,r,n)=>(o3(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),$r=(e,t,r)=>(o3(e,t,"access private method"),r);var Nj=(e,t,r,n)=>({set _(i){sr(e,t,i,r)},get _(){return Le(e,t,n)}});var kUe=LQ((ia,oa)=>{function q7(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(n,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var Bj=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function ld(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var Y7={exports:{}},t2={},$7={exports:{}},Zt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy=Symbol.for("react.element"),NQ=Symbol.for("react.portal"),BQ=Symbol.for("react.fragment"),FQ=Symbol.for("react.strict_mode"),UQ=Symbol.for("react.profiler"),VQ=Symbol.for("react.provider"),HQ=Symbol.for("react.context"),WQ=Symbol.for("react.forward_ref"),GQ=Symbol.for("react.suspense"),qQ=Symbol.for("react.memo"),YQ=Symbol.for("react.lazy"),Fj=Symbol.iterator;function $Q(e){return e===null||typeof e!="object"?null:(e=Fj&&e[Fj]||e["@@iterator"],typeof e=="function"?e:null)}var X7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},K7=Object.assign,Q7={};function ng(e,t,r){this.props=e,this.context=t,this.refs=Q7,this.updater=r||X7}ng.prototype.isReactComponent={};ng.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ng.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Z7(){}Z7.prototype=ng.prototype;function z4(e,t,r){this.props=e,this.context=t,this.refs=Q7,this.updater=r||X7}var L4=z4.prototype=new Z7;L4.constructor=z4;K7(L4,ng.prototype);L4.isPureReactComponent=!0;var Uj=Array.isArray,J7=Object.prototype.hasOwnProperty,N4={current:null},eF={key:!0,ref:!0,__self:!0,__source:!0};function tF(e,t,r){var n,i={},o=null,l=null;if(t!=null)for(n in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)J7.call(t,n)&&!eF.hasOwnProperty(n)&&(i[n]=t[n]);var c=arguments.length-2;if(c===1)i.children=r;else if(1<c){for(var a=Array(c),s=0;s<c;s++)a[s]=arguments[s+2];i.children=a}if(e&&e.defaultProps)for(n in c=e.defaultProps,c)i[n]===void 0&&(i[n]=c[n]);return{$$typeof:Iy,type:e,key:o,ref:l,props:i,_owner:N4.current}}function XQ(e,t){return{$$typeof:Iy,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function B4(e){return typeof e=="object"&&e!==null&&e.$$typeof===Iy}function KQ(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var Vj=/\/+/g;function a3(e,t){return typeof e=="object"&&e!==null&&e.key!=null?KQ(""+e.key):t.toString(36)}function gx(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case Iy:case NQ:l=!0}}if(l)return l=e,i=i(l),e=n===""?"."+a3(l,0):n,Uj(i)?(r="",e!=null&&(r=e.replace(Vj,"$&/")+"/"),gx(i,t,r,"",function(s){return s})):i!=null&&(B4(i)&&(i=XQ(i,r+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(Vj,"$&/")+"/")+e)),t.push(i)),1;if(l=0,n=n===""?".":n+":",Uj(e))for(var c=0;c<e.length;c++){o=e[c];var a=n+a3(o,c);l+=gx(o,t,r,a,i)}else if(a=$Q(e),typeof a=="function")for(e=a.call(e),c=0;!(o=e.next()).done;)o=o.value,a=n+a3(o,c++),l+=gx(o,t,r,a,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function g1(e,t,r){if(e==null)return e;var n=[],i=0;return gx(e,n,"","",function(o){return t.call(r,o,i++)}),n}function QQ(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var co={current:null},vx={transition:null},ZQ={ReactCurrentDispatcher:co,ReactCurrentBatchConfig:vx,ReactCurrentOwner:N4};function rF(){throw Error("act(...) is not supported in production builds of React.")}Zt.Children={map:g1,forEach:function(e,t,r){g1(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return g1(e,function(){t++}),t},toArray:function(e){return g1(e,function(t){return t})||[]},only:function(e){if(!B4(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Zt.Component=ng;Zt.Fragment=BQ;Zt.Profiler=UQ;Zt.PureComponent=z4;Zt.StrictMode=FQ;Zt.Suspense=GQ;Zt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZQ;Zt.act=rF;Zt.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=K7({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=N4.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(a in t)J7.call(t,a)&&!eF.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&c!==void 0?c[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){c=Array(a);for(var s=0;s<a;s++)c[s]=arguments[s+2];n.children=c}return{$$typeof:Iy,type:e.type,key:i,ref:o,props:n,_owner:l}};Zt.createContext=function(e){return e={$$typeof:HQ,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:VQ,_context:e},e.Consumer=e};Zt.createElement=tF;Zt.createFactory=function(e){var t=tF.bind(null,e);return t.type=e,t};Zt.createRef=function(){return{current:null}};Zt.forwardRef=function(e){return{$$typeof:WQ,render:e}};Zt.isValidElement=B4;Zt.lazy=function(e){return{$$typeof:YQ,_payload:{_status:-1,_result:e},_init:QQ}};Zt.memo=function(e,t){return{$$typeof:qQ,type:e,compare:t===void 0?null:t}};Zt.startTransition=function(e){var t=vx.transition;vx.transition={};try{e()}finally{vx.transition=t}};Zt.unstable_act=rF;Zt.useCallback=function(e,t){return co.current.useCallback(e,t)};Zt.useContext=function(e){return co.current.useContext(e)};Zt.useDebugValue=function(){};Zt.useDeferredValue=function(e){return co.current.useDeferredValue(e)};Zt.useEffect=function(e,t){return co.current.useEffect(e,t)};Zt.useId=function(){return co.current.useId()};Zt.useImperativeHandle=function(e,t,r){return co.current.useImperativeHandle(e,t,r)};Zt.useInsertionEffect=function(e,t){return co.current.useInsertionEffect(e,t)};Zt.useLayoutEffect=function(e,t){return co.current.useLayoutEffect(e,t)};Zt.useMemo=function(e,t){return co.current.useMemo(e,t)};Zt.useReducer=function(e,t,r){return co.current.useReducer(e,t,r)};Zt.useRef=function(e){return co.current.useRef(e)};Zt.useState=function(e){return co.current.useState(e)};Zt.useSyncExternalStore=function(e,t,r){return co.current.useSyncExternalStore(e,t,r)};Zt.useTransition=function(){return co.current.useTransition()};Zt.version="18.3.1";$7.exports=Zt;var V=$7.exports;const mt=Jh(V),nw=q7({__proto__:null,default:mt},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JQ=V,eZ=Symbol.for("react.element"),tZ=Symbol.for("react.fragment"),rZ=Object.prototype.hasOwnProperty,nZ=JQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,iZ={key:!0,ref:!0,__self:!0,__source:!0};function nF(e,t,r){var n,i={},o=null,l=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(n in t)rZ.call(t,n)&&!iZ.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:eZ,type:e,key:o,ref:l,props:i,_owner:nZ.current}}t2.Fragment=tZ;t2.jsx=nF;t2.jsxs=nF;Y7.exports=t2;var z=Y7.exports,UA={},iF={exports:{}},ha={},oF={exports:{}},aF={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,N){var R=j.length;j.push(N);e:for(;0<R;){var F=R-1>>>1,U=j[F];if(0<i(U,N))j[F]=N,j[R]=U,R=F;else break e}}function r(j){return j.length===0?null:j[0]}function n(j){if(j.length===0)return null;var N=j[0],R=j.pop();if(R!==N){j[0]=R;e:for(var F=0,U=j.length,B=U>>>1;F<B;){var H=2*(F+1)-1,X=j[H],G=H+1,Z=j[G];if(0>i(X,R))G<U&&0>i(Z,X)?(j[F]=Z,j[G]=R,F=G):(j[F]=X,j[H]=R,F=H);else if(G<U&&0>i(Z,R))j[F]=Z,j[G]=R,F=G;else break e}}return N}function i(j,N){var R=j.sortIndex-N.sortIndex;return R!==0?R:j.id-N.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var a=[],s=[],u=1,d=null,h=3,p=!1,m=!1,f=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(j){for(var N=r(s);N!==null;){if(N.callback===null)n(s);else if(N.startTime<=j)n(s),N.sortIndex=N.expirationTime,t(a,N);else break;N=r(s)}}function b(j){if(f=!1,y(j),!m)if(r(a)!==null)m=!0,I(w);else{var N=r(s);N!==null&&O(b,N.startTime-j)}}function w(j,N){m=!1,f&&(f=!1,v(E),E=-1),p=!0;var R=h;try{for(y(N),d=r(a);d!==null&&(!(d.expirationTime>N)||j&&!M());){var F=d.callback;if(typeof F=="function"){d.callback=null,h=d.priorityLevel;var U=F(d.expirationTime<=N);N=e.unstable_now(),typeof U=="function"?d.callback=U:d===r(a)&&n(a),y(N)}else n(a);d=r(a)}if(d!==null)var B=!0;else{var H=r(s);H!==null&&O(b,H.startTime-N),B=!1}return B}finally{d=null,h=R,p=!1}}var _=!1,S=null,E=-1,A=5,C=-1;function M(){return!(e.unstable_now()-C<A)}function T(){if(S!==null){var j=e.unstable_now();C=j;var N=!0;try{N=S(!0,j)}finally{N?k():(_=!1,S=null)}}else _=!1}var k;if(typeof x=="function")k=function(){x(T)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,D=P.port2;P.port1.onmessage=T,k=function(){D.postMessage(null)}}else k=function(){g(T,0)};function I(j){S=j,_||(_=!0,k())}function O(j,N){E=g(function(){j(e.unstable_now())},N)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){m||p||(m=!0,I(w))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(a)},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var N=3;break;default:N=h}var R=h;h=N;try{return j()}finally{h=R}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,N){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var R=h;h=j;try{return N()}finally{h=R}},e.unstable_scheduleCallback=function(j,N,R){var F=e.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?F+R:F):R=F,j){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=R+U,j={id:u++,callback:N,priorityLevel:j,startTime:R,expirationTime:U,sortIndex:-1},R>F?(j.sortIndex=R,t(s,j),r(a)===null&&j===r(s)&&(f?(v(E),E=-1):f=!0,O(b,R-F))):(j.sortIndex=U,t(a,j),m||p||(m=!0,I(w))),j},e.unstable_shouldYield=M,e.unstable_wrapCallback=function(j){var N=h;return function(){var R=h;h=N;try{return j.apply(this,arguments)}finally{h=R}}}})(aF);oF.exports=aF;var oZ=oF.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aZ=V,ua=oZ;function Be(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var sF=new Set,Iv={};function ep(e,t){Cm(e,t),Cm(e+"Capture",t)}function Cm(e,t){for(Iv[e]=t,e=0;e<t.length;e++)sF.add(t[e])}var Tc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),VA=Object.prototype.hasOwnProperty,sZ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Hj={},Wj={};function lZ(e){return VA.call(Wj,e)?!0:VA.call(Hj,e)?!1:sZ.test(e)?Wj[e]=!0:(Hj[e]=!0,!1)}function cZ(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uZ(e,t,r,n){if(t===null||typeof t>"u"||cZ(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function uo(e,t,r,n,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var xi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xi[e]=new uo(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xi[t]=new uo(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xi[e]=new uo(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xi[e]=new uo(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xi[e]=new uo(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xi[e]=new uo(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xi[e]=new uo(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xi[e]=new uo(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xi[e]=new uo(e,5,!1,e.toLowerCase(),null,!1,!1)});var F4=/[\-:]([a-z])/g;function U4(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(F4,U4);xi[t]=new uo(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(F4,U4);xi[t]=new uo(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(F4,U4);xi[t]=new uo(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xi[e]=new uo(e,1,!1,e.toLowerCase(),null,!1,!1)});xi.xlinkHref=new uo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xi[e]=new uo(e,1,!1,e.toLowerCase(),null,!0,!0)});function V4(e,t,r,n){var i=xi.hasOwnProperty(t)?xi[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uZ(t,r,i,n)&&(r=null),n||i===null?lZ(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Fc=aZ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v1=Symbol.for("react.element"),pf=Symbol.for("react.portal"),ff=Symbol.for("react.fragment"),H4=Symbol.for("react.strict_mode"),HA=Symbol.for("react.profiler"),lF=Symbol.for("react.provider"),cF=Symbol.for("react.context"),W4=Symbol.for("react.forward_ref"),WA=Symbol.for("react.suspense"),GA=Symbol.for("react.suspense_list"),G4=Symbol.for("react.memo"),pu=Symbol.for("react.lazy"),uF=Symbol.for("react.offscreen"),Gj=Symbol.iterator;function Og(e){return e===null||typeof e!="object"?null:(e=Gj&&e[Gj]||e["@@iterator"],typeof e=="function"?e:null)}var rn=Object.assign,s3;function I0(e){if(s3===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);s3=t&&t[1]||""}return`
`+s3+e}var l3=!1;function c3(e,t){if(!e||l3)return"";l3=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(s){var n=s}Reflect.construct(e,[],t)}else{try{t.call()}catch(s){n=s}e.call(t.prototype)}else{try{throw Error()}catch(s){n=s}e()}}catch(s){if(s&&n&&typeof s.stack=="string"){for(var i=s.stack.split(`
`),o=n.stack.split(`
`),l=i.length-1,c=o.length-1;1<=l&&0<=c&&i[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(i[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||i[l]!==o[c]){var a=`
`+i[l].replace(" at new "," at ");return e.displayName&&a.includes("<anonymous>")&&(a=a.replace("<anonymous>",e.displayName)),a}while(1<=l&&0<=c);break}}}finally{l3=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?I0(e):""}function dZ(e){switch(e.tag){case 5:return I0(e.type);case 16:return I0("Lazy");case 13:return I0("Suspense");case 19:return I0("SuspenseList");case 0:case 2:case 15:return e=c3(e.type,!1),e;case 11:return e=c3(e.type.render,!1),e;case 1:return e=c3(e.type,!0),e;default:return""}}function qA(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ff:return"Fragment";case pf:return"Portal";case HA:return"Profiler";case H4:return"StrictMode";case WA:return"Suspense";case GA:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case cF:return(e.displayName||"Context")+".Consumer";case lF:return(e._context.displayName||"Context")+".Provider";case W4:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case G4:return t=e.displayName||null,t!==null?t:qA(e.type)||"Memo";case pu:t=e._payload,e=e._init;try{return qA(e(t))}catch{}}return null}function hZ(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return qA(t);case 8:return t===H4?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ed(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function dF(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pZ(e){var t=dF(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){n=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(l){n=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function y1(e){e._valueTracker||(e._valueTracker=pZ(e))}function hF(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=dF(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function iw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function YA(e,t){var r=t.checked;return rn({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function qj(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=ed(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function pF(e,t){t=t.checked,t!=null&&V4(e,"checked",t,!1)}function $A(e,t){pF(e,t);var r=ed(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?XA(e,t.type,r):t.hasOwnProperty("defaultValue")&&XA(e,t.type,ed(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Yj(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function XA(e,t,r){(t!=="number"||iw(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var O0=Array.isArray;function Wf(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+ed(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function KA(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Be(91));return rn({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function $j(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(Be(92));if(O0(r)){if(1<r.length)throw Error(Be(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:ed(r)}}function fF(e,t){var r=ed(t.value),n=ed(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Xj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function mF(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function QA(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?mF(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var b1,gF=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(b1=b1||document.createElement("div"),b1.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=b1.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ov(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var Z0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fZ=["Webkit","ms","Moz","O"];Object.keys(Z0).forEach(function(e){fZ.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Z0[t]=Z0[e]})});function vF(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||Z0.hasOwnProperty(e)&&Z0[e]?(""+t).trim():t+"px"}function yF(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=vF(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var mZ=rn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ZA(e,t){if(t){if(mZ[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Be(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Be(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Be(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Be(62))}}function JA(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var eM=null;function q4(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tM=null,Gf=null,qf=null;function Kj(e){if(e=zy(e)){if(typeof tM!="function")throw Error(Be(280));var t=e.stateNode;t&&(t=a2(t),tM(e.stateNode,e.type,t))}}function bF(e){Gf?qf?qf.push(e):qf=[e]:Gf=e}function xF(){if(Gf){var e=Gf,t=qf;if(qf=Gf=null,Kj(e),t)for(e=0;e<t.length;e++)Kj(t[e])}}function wF(e,t){return e(t)}function _F(){}var u3=!1;function SF(e,t,r){if(u3)return e(t,r);u3=!0;try{return wF(e,t,r)}finally{u3=!1,(Gf!==null||qf!==null)&&(_F(),xF())}}function Rv(e,t){var r=e.stateNode;if(r===null)return null;var n=a2(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(Be(231,t,typeof r));return r}var rM=!1;if(Tc)try{var Rg={};Object.defineProperty(Rg,"passive",{get:function(){rM=!0}}),window.addEventListener("test",Rg,Rg),window.removeEventListener("test",Rg,Rg)}catch{rM=!1}function gZ(e,t,r,n,i,o,l,c,a){var s=Array.prototype.slice.call(arguments,3);try{t.apply(r,s)}catch(u){this.onError(u)}}var J0=!1,ow=null,aw=!1,nM=null,vZ={onError:function(e){J0=!0,ow=e}};function yZ(e,t,r,n,i,o,l,c,a){J0=!1,ow=null,gZ.apply(vZ,arguments)}function bZ(e,t,r,n,i,o,l,c,a){if(yZ.apply(this,arguments),J0){if(J0){var s=ow;J0=!1,ow=null}else throw Error(Be(198));aw||(aw=!0,nM=s)}}function tp(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function EF(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qj(e){if(tp(e)!==e)throw Error(Be(188))}function xZ(e){var t=e.alternate;if(!t){if(t=tp(e),t===null)throw Error(Be(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return Qj(i),e;if(o===n)return Qj(i),t;o=o.sibling}throw Error(Be(188))}if(r.return!==n.return)r=i,n=o;else{for(var l=!1,c=i.child;c;){if(c===r){l=!0,r=i,n=o;break}if(c===n){l=!0,n=i,r=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===r){l=!0,r=o,n=i;break}if(c===n){l=!0,n=o,r=i;break}c=c.sibling}if(!l)throw Error(Be(189))}}if(r.alternate!==n)throw Error(Be(190))}if(r.tag!==3)throw Error(Be(188));return r.stateNode.current===r?e:t}function CF(e){return e=xZ(e),e!==null?AF(e):null}function AF(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=AF(e);if(t!==null)return t;e=e.sibling}return null}var MF=ua.unstable_scheduleCallback,Zj=ua.unstable_cancelCallback,wZ=ua.unstable_shouldYield,_Z=ua.unstable_requestPaint,xn=ua.unstable_now,SZ=ua.unstable_getCurrentPriorityLevel,Y4=ua.unstable_ImmediatePriority,TF=ua.unstable_UserBlockingPriority,sw=ua.unstable_NormalPriority,EZ=ua.unstable_LowPriority,PF=ua.unstable_IdlePriority,r2=null,vl=null;function CZ(e){if(vl&&typeof vl.onCommitFiberRoot=="function")try{vl.onCommitFiberRoot(r2,e,void 0,(e.current.flags&128)===128)}catch{}}var Cs=Math.clz32?Math.clz32:TZ,AZ=Math.log,MZ=Math.LN2;function TZ(e){return e>>>=0,e===0?32:31-(AZ(e)/MZ|0)|0}var x1=64,w1=4194304;function R0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function lw(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,l=r&268435455;if(l!==0){var c=l&~i;c!==0?n=R0(c):(o&=l,o!==0&&(n=R0(o)))}else l=r&~i,l!==0?n=R0(l):o!==0&&(n=R0(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Cs(t),i=1<<r,n|=e[r],t&=~i;return n}function PZ(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kZ(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Cs(o),c=1<<l,a=i[l];a===-1?(!(c&r)||c&n)&&(i[l]=PZ(c,t)):a<=t&&(e.expiredLanes|=c),o&=~c}}function iM(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function kF(){var e=x1;return x1<<=1,!(x1&4194240)&&(x1=64),e}function d3(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Oy(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Cs(t),e[t]=r}function DZ(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-Cs(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function $4(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Cs(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var xr=0;function DF(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var jF,X4,IF,OF,RF,oM=!1,_1=[],Nu=null,Bu=null,Fu=null,zv=new Map,Lv=new Map,vu=[],jZ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Jj(e,t){switch(e){case"focusin":case"focusout":Nu=null;break;case"dragenter":case"dragleave":Bu=null;break;case"mouseover":case"mouseout":Fu=null;break;case"pointerover":case"pointerout":zv.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lv.delete(t.pointerId)}}function zg(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=zy(t),t!==null&&X4(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function IZ(e,t,r,n,i){switch(t){case"focusin":return Nu=zg(Nu,e,t,r,n,i),!0;case"dragenter":return Bu=zg(Bu,e,t,r,n,i),!0;case"mouseover":return Fu=zg(Fu,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return zv.set(o,zg(zv.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Lv.set(o,zg(Lv.get(o)||null,e,t,r,n,i)),!0}return!1}function zF(e){var t=Zd(e.target);if(t!==null){var r=tp(t);if(r!==null){if(t=r.tag,t===13){if(t=EF(r),t!==null){e.blockedOn=t,RF(e.priority,function(){IF(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function yx(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=aM(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);eM=n,r.target.dispatchEvent(n),eM=null}else return t=zy(r),t!==null&&X4(t),e.blockedOn=r,!1;t.shift()}return!0}function eI(e,t,r){yx(e)&&r.delete(t)}function OZ(){oM=!1,Nu!==null&&yx(Nu)&&(Nu=null),Bu!==null&&yx(Bu)&&(Bu=null),Fu!==null&&yx(Fu)&&(Fu=null),zv.forEach(eI),Lv.forEach(eI)}function Lg(e,t){e.blockedOn===t&&(e.blockedOn=null,oM||(oM=!0,ua.unstable_scheduleCallback(ua.unstable_NormalPriority,OZ)))}function Nv(e){function t(i){return Lg(i,e)}if(0<_1.length){Lg(_1[0],e);for(var r=1;r<_1.length;r++){var n=_1[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Nu!==null&&Lg(Nu,e),Bu!==null&&Lg(Bu,e),Fu!==null&&Lg(Fu,e),zv.forEach(t),Lv.forEach(t),r=0;r<vu.length;r++)n=vu[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<vu.length&&(r=vu[0],r.blockedOn===null);)zF(r),r.blockedOn===null&&vu.shift()}var Yf=Fc.ReactCurrentBatchConfig,cw=!0;function RZ(e,t,r,n){var i=xr,o=Yf.transition;Yf.transition=null;try{xr=1,K4(e,t,r,n)}finally{xr=i,Yf.transition=o}}function zZ(e,t,r,n){var i=xr,o=Yf.transition;Yf.transition=null;try{xr=4,K4(e,t,r,n)}finally{xr=i,Yf.transition=o}}function K4(e,t,r,n){if(cw){var i=aM(e,t,r,n);if(i===null)w3(e,t,n,uw,r),Jj(e,n);else if(IZ(i,e,t,r,n))n.stopPropagation();else if(Jj(e,n),t&4&&-1<jZ.indexOf(e)){for(;i!==null;){var o=zy(i);if(o!==null&&jF(o),o=aM(e,t,r,n),o===null&&w3(e,t,n,uw,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else w3(e,t,n,null,r)}}var uw=null;function aM(e,t,r,n){if(uw=null,e=q4(n),e=Zd(e),e!==null)if(t=tp(e),t===null)e=null;else if(r=t.tag,r===13){if(e=EF(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return uw=e,null}function LF(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(SZ()){case Y4:return 1;case TF:return 4;case sw:case EZ:return 16;case PF:return 536870912;default:return 16}default:return 16}}var Au=null,Q4=null,bx=null;function NF(){if(bx)return bx;var e,t=Q4,r=t.length,n,i="value"in Au?Au.value:Au.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var l=r-e;for(n=1;n<=l&&t[r-n]===i[o-n];n++);return bx=i.slice(e,1<n?1-n:void 0)}function xx(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function S1(){return!0}function tI(){return!1}function pa(e){function t(r,n,i,o,l){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in e)e.hasOwnProperty(c)&&(r=e[c],this[c]=r?r(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?S1:tI,this.isPropagationStopped=tI,this}return rn(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=S1)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=S1)},persist:function(){},isPersistent:S1}),t}var ig={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z4=pa(ig),Ry=rn({},ig,{view:0,detail:0}),LZ=pa(Ry),h3,p3,Ng,n2=rn({},Ry,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J4,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ng&&(Ng&&e.type==="mousemove"?(h3=e.screenX-Ng.screenX,p3=e.screenY-Ng.screenY):p3=h3=0,Ng=e),h3)},movementY:function(e){return"movementY"in e?e.movementY:p3}}),rI=pa(n2),NZ=rn({},n2,{dataTransfer:0}),BZ=pa(NZ),FZ=rn({},Ry,{relatedTarget:0}),f3=pa(FZ),UZ=rn({},ig,{animationName:0,elapsedTime:0,pseudoElement:0}),VZ=pa(UZ),HZ=rn({},ig,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),WZ=pa(HZ),GZ=rn({},ig,{data:0}),nI=pa(GZ),qZ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},YZ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$Z={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XZ(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=$Z[e])?!!t[e]:!1}function J4(){return XZ}var KZ=rn({},Ry,{key:function(e){if(e.key){var t=qZ[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xx(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?YZ[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J4,charCode:function(e){return e.type==="keypress"?xx(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xx(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),QZ=pa(KZ),ZZ=rn({},n2,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),iI=pa(ZZ),JZ=rn({},Ry,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J4}),eJ=pa(JZ),tJ=rn({},ig,{propertyName:0,elapsedTime:0,pseudoElement:0}),rJ=pa(tJ),nJ=rn({},n2,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),iJ=pa(nJ),oJ=[9,13,27,32],ek=Tc&&"CompositionEvent"in window,ev=null;Tc&&"documentMode"in document&&(ev=document.documentMode);var aJ=Tc&&"TextEvent"in window&&!ev,BF=Tc&&(!ek||ev&&8<ev&&11>=ev),oI=" ",aI=!1;function FF(e,t){switch(e){case"keyup":return oJ.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UF(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var mf=!1;function sJ(e,t){switch(e){case"compositionend":return UF(t);case"keypress":return t.which!==32?null:(aI=!0,oI);case"textInput":return e=t.data,e===oI&&aI?null:e;default:return null}}function lJ(e,t){if(mf)return e==="compositionend"||!ek&&FF(e,t)?(e=NF(),bx=Q4=Au=null,mf=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return BF&&t.locale!=="ko"?null:t.data;default:return null}}var cJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sI(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cJ[e.type]:t==="textarea"}function VF(e,t,r,n){bF(n),t=dw(t,"onChange"),0<t.length&&(r=new Z4("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var tv=null,Bv=null;function uJ(e){JF(e,0)}function i2(e){var t=yf(e);if(hF(t))return e}function dJ(e,t){if(e==="change")return t}var HF=!1;if(Tc){var m3;if(Tc){var g3="oninput"in document;if(!g3){var lI=document.createElement("div");lI.setAttribute("oninput","return;"),g3=typeof lI.oninput=="function"}m3=g3}else m3=!1;HF=m3&&(!document.documentMode||9<document.documentMode)}function cI(){tv&&(tv.detachEvent("onpropertychange",WF),Bv=tv=null)}function WF(e){if(e.propertyName==="value"&&i2(Bv)){var t=[];VF(t,Bv,e,q4(e)),SF(uJ,t)}}function hJ(e,t,r){e==="focusin"?(cI(),tv=t,Bv=r,tv.attachEvent("onpropertychange",WF)):e==="focusout"&&cI()}function pJ(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return i2(Bv)}function fJ(e,t){if(e==="click")return i2(t)}function mJ(e,t){if(e==="input"||e==="change")return i2(t)}function gJ(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ts=typeof Object.is=="function"?Object.is:gJ;function Fv(e,t){if(Ts(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!VA.call(t,i)||!Ts(e[i],t[i]))return!1}return!0}function uI(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dI(e,t){var r=uI(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=uI(r)}}function GF(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?GF(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qF(){for(var e=window,t=iw();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=iw(e.document)}return t}function tk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function vJ(e){var t=qF(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&GF(r.ownerDocument.documentElement,r)){if(n!==null&&tk(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=dI(r,o);var l=dI(r,n);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var yJ=Tc&&"documentMode"in document&&11>=document.documentMode,gf=null,sM=null,rv=null,lM=!1;function hI(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;lM||gf==null||gf!==iw(n)||(n=gf,"selectionStart"in n&&tk(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),rv&&Fv(rv,n)||(rv=n,n=dw(sM,"onSelect"),0<n.length&&(t=new Z4("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gf)))}function E1(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var vf={animationend:E1("Animation","AnimationEnd"),animationiteration:E1("Animation","AnimationIteration"),animationstart:E1("Animation","AnimationStart"),transitionend:E1("Transition","TransitionEnd")},v3={},YF={};Tc&&(YF=document.createElement("div").style,"AnimationEvent"in window||(delete vf.animationend.animation,delete vf.animationiteration.animation,delete vf.animationstart.animation),"TransitionEvent"in window||delete vf.transitionend.transition);function o2(e){if(v3[e])return v3[e];if(!vf[e])return e;var t=vf[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in YF)return v3[e]=t[r];return e}var $F=o2("animationend"),XF=o2("animationiteration"),KF=o2("animationstart"),QF=o2("transitionend"),ZF=new Map,pI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cd(e,t){ZF.set(e,t),ep(t,[e])}for(var y3=0;y3<pI.length;y3++){var b3=pI[y3],bJ=b3.toLowerCase(),xJ=b3[0].toUpperCase()+b3.slice(1);cd(bJ,"on"+xJ)}cd($F,"onAnimationEnd");cd(XF,"onAnimationIteration");cd(KF,"onAnimationStart");cd("dblclick","onDoubleClick");cd("focusin","onFocus");cd("focusout","onBlur");cd(QF,"onTransitionEnd");Cm("onMouseEnter",["mouseout","mouseover"]);Cm("onMouseLeave",["mouseout","mouseover"]);Cm("onPointerEnter",["pointerout","pointerover"]);Cm("onPointerLeave",["pointerout","pointerover"]);ep("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ep("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ep("onBeforeInput",["compositionend","keypress","textInput","paste"]);ep("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ep("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ep("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var z0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(z0));function fI(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,bZ(n,t,void 0,e),e.currentTarget=null}function JF(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var l=n.length-1;0<=l;l--){var c=n[l],a=c.instance,s=c.currentTarget;if(c=c.listener,a!==o&&i.isPropagationStopped())break e;fI(i,c,s),o=a}else for(l=0;l<n.length;l++){if(c=n[l],a=c.instance,s=c.currentTarget,c=c.listener,a!==o&&i.isPropagationStopped())break e;fI(i,c,s),o=a}}}if(aw)throw e=nM,aw=!1,nM=null,e}function Lr(e,t){var r=t[pM];r===void 0&&(r=t[pM]=new Set);var n=e+"__bubble";r.has(n)||(eU(t,e,2,!1),r.add(n))}function x3(e,t,r){var n=0;t&&(n|=4),eU(r,e,n,t)}var C1="_reactListening"+Math.random().toString(36).slice(2);function Uv(e){if(!e[C1]){e[C1]=!0,sF.forEach(function(r){r!=="selectionchange"&&(wJ.has(r)||x3(r,!1,e),x3(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[C1]||(t[C1]=!0,x3("selectionchange",!1,t))}}function eU(e,t,r,n){switch(LF(t)){case 1:var i=RZ;break;case 4:i=zZ;break;default:i=K4}r=i.bind(null,t,r,e),i=void 0,!rM||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function w3(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var l=n.tag;if(l===3||l===4){var c=n.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(l===4)for(l=n.return;l!==null;){var a=l.tag;if((a===3||a===4)&&(a=l.stateNode.containerInfo,a===i||a.nodeType===8&&a.parentNode===i))return;l=l.return}for(;c!==null;){if(l=Zd(c),l===null)return;if(a=l.tag,a===5||a===6){n=o=l;continue e}c=c.parentNode}}n=n.return}SF(function(){var s=o,u=q4(r),d=[];e:{var h=ZF.get(e);if(h!==void 0){var p=Z4,m=e;switch(e){case"keypress":if(xx(r)===0)break e;case"keydown":case"keyup":p=QZ;break;case"focusin":m="focus",p=f3;break;case"focusout":m="blur",p=f3;break;case"beforeblur":case"afterblur":p=f3;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=BZ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=eJ;break;case $F:case XF:case KF:p=VZ;break;case QF:p=rJ;break;case"scroll":p=LZ;break;case"wheel":p=iJ;break;case"copy":case"cut":case"paste":p=WZ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=iI}var f=(t&4)!==0,g=!f&&e==="scroll",v=f?h!==null?h+"Capture":null:h;f=[];for(var x=s,y;x!==null;){y=x;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,v!==null&&(b=Rv(x,v),b!=null&&f.push(Vv(x,b,y)))),g)break;x=x.return}0<f.length&&(h=new p(h,m,null,r,u),d.push({event:h,listeners:f}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==eM&&(m=r.relatedTarget||r.fromElement)&&(Zd(m)||m[Pc]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=s,m=m?Zd(m):null,m!==null&&(g=tp(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=s),p!==m)){if(f=rI,b="onMouseLeave",v="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(f=iI,b="onPointerLeave",v="onPointerEnter",x="pointer"),g=p==null?h:yf(p),y=m==null?h:yf(m),h=new f(b,x+"leave",p,r,u),h.target=g,h.relatedTarget=y,b=null,Zd(u)===s&&(f=new f(v,x+"enter",m,r,u),f.target=y,f.relatedTarget=g,b=f),g=b,p&&m)t:{for(f=p,v=m,x=0,y=f;y;y=pp(y))x++;for(y=0,b=v;b;b=pp(b))y++;for(;0<x-y;)f=pp(f),x--;for(;0<y-x;)v=pp(v),y--;for(;x--;){if(f===v||v!==null&&f===v.alternate)break t;f=pp(f),v=pp(v)}f=null}else f=null;p!==null&&mI(d,h,p,f,!1),m!==null&&g!==null&&mI(d,g,m,f,!0)}}e:{if(h=s?yf(s):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var w=dJ;else if(sI(h))if(HF)w=mJ;else{w=pJ;var _=hJ}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(w=fJ);if(w&&(w=w(e,s))){VF(d,w,r,u);break e}_&&_(e,h,s),e==="focusout"&&(_=h._wrapperState)&&_.controlled&&h.type==="number"&&XA(h,"number",h.value)}switch(_=s?yf(s):window,e){case"focusin":(sI(_)||_.contentEditable==="true")&&(gf=_,sM=s,rv=null);break;case"focusout":rv=sM=gf=null;break;case"mousedown":lM=!0;break;case"contextmenu":case"mouseup":case"dragend":lM=!1,hI(d,r,u);break;case"selectionchange":if(yJ)break;case"keydown":case"keyup":hI(d,r,u)}var S;if(ek)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else mf?FF(e,r)&&(E="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(BF&&r.locale!=="ko"&&(mf||E!=="onCompositionStart"?E==="onCompositionEnd"&&mf&&(S=NF()):(Au=u,Q4="value"in Au?Au.value:Au.textContent,mf=!0)),_=dw(s,E),0<_.length&&(E=new nI(E,e,null,r,u),d.push({event:E,listeners:_}),S?E.data=S:(S=UF(r),S!==null&&(E.data=S)))),(S=aJ?sJ(e,r):lJ(e,r))&&(s=dw(s,"onBeforeInput"),0<s.length&&(u=new nI("onBeforeInput","beforeinput",null,r,u),d.push({event:u,listeners:s}),u.data=S))}JF(d,t)})}function Vv(e,t,r){return{instance:e,listener:t,currentTarget:r}}function dw(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Rv(e,r),o!=null&&n.unshift(Vv(e,o,i)),o=Rv(e,t),o!=null&&n.push(Vv(e,o,i))),e=e.return}return n}function pp(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function mI(e,t,r,n,i){for(var o=t._reactName,l=[];r!==null&&r!==n;){var c=r,a=c.alternate,s=c.stateNode;if(a!==null&&a===n)break;c.tag===5&&s!==null&&(c=s,i?(a=Rv(r,o),a!=null&&l.unshift(Vv(r,a,c))):i||(a=Rv(r,o),a!=null&&l.push(Vv(r,a,c)))),r=r.return}l.length!==0&&e.push({event:t,listeners:l})}var _J=/\r\n?/g,SJ=/\u0000|\uFFFD/g;function gI(e){return(typeof e=="string"?e:""+e).replace(_J,`
`).replace(SJ,"")}function A1(e,t,r){if(t=gI(t),gI(e)!==t&&r)throw Error(Be(425))}function hw(){}var cM=null,uM=null;function dM(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hM=typeof setTimeout=="function"?setTimeout:void 0,EJ=typeof clearTimeout=="function"?clearTimeout:void 0,vI=typeof Promise=="function"?Promise:void 0,CJ=typeof queueMicrotask=="function"?queueMicrotask:typeof vI<"u"?function(e){return vI.resolve(null).then(e).catch(AJ)}:hM;function AJ(e){setTimeout(function(){throw e})}function _3(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Nv(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Nv(t)}function Uu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function yI(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var og=Math.random().toString(36).slice(2),ll="__reactFiber$"+og,Hv="__reactProps$"+og,Pc="__reactContainer$"+og,pM="__reactEvents$"+og,MJ="__reactListeners$"+og,TJ="__reactHandles$"+og;function Zd(e){var t=e[ll];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Pc]||r[ll]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=yI(e);e!==null;){if(r=e[ll])return r;e=yI(e)}return t}e=r,r=e.parentNode}return null}function zy(e){return e=e[ll]||e[Pc],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function yf(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Be(33))}function a2(e){return e[Hv]||null}var fM=[],bf=-1;function ud(e){return{current:e}}function Fr(e){0>bf||(e.current=fM[bf],fM[bf]=null,bf--)}function Rr(e,t){bf++,fM[bf]=e.current,e.current=t}var td={},zi=ud(td),Po=ud(!1),Th=td;function Am(e,t){var r=e.type.contextTypes;if(!r)return td;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function ko(e){return e=e.childContextTypes,e!=null}function pw(){Fr(Po),Fr(zi)}function bI(e,t,r){if(zi.current!==td)throw Error(Be(168));Rr(zi,t),Rr(Po,r)}function tU(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(Be(108,hZ(e)||"Unknown",i));return rn({},r,n)}function fw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||td,Th=zi.current,Rr(zi,e),Rr(Po,Po.current),!0}function xI(e,t,r){var n=e.stateNode;if(!n)throw Error(Be(169));r?(e=tU(e,t,Th),n.__reactInternalMemoizedMergedChildContext=e,Fr(Po),Fr(zi),Rr(zi,e)):Fr(Po),Rr(Po,r)}var rc=null,s2=!1,S3=!1;function rU(e){rc===null?rc=[e]:rc.push(e)}function PJ(e){s2=!0,rU(e)}function dd(){if(!S3&&rc!==null){S3=!0;var e=0,t=xr;try{var r=rc;for(xr=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}rc=null,s2=!1}catch(i){throw rc!==null&&(rc=rc.slice(e+1)),MF(Y4,dd),i}finally{xr=t,S3=!1}}return null}var xf=[],wf=0,mw=null,gw=0,Ia=[],Oa=0,Ph=null,uc=1,dc="";function jd(e,t){xf[wf++]=gw,xf[wf++]=mw,mw=e,gw=t}function nU(e,t,r){Ia[Oa++]=uc,Ia[Oa++]=dc,Ia[Oa++]=Ph,Ph=e;var n=uc;e=dc;var i=32-Cs(n)-1;n&=~(1<<i),r+=1;var o=32-Cs(t)+i;if(30<o){var l=i-i%5;o=(n&(1<<l)-1).toString(32),n>>=l,i-=l,uc=1<<32-Cs(t)+i|r<<i|n,dc=o+e}else uc=1<<o|r<<i|n,dc=e}function rk(e){e.return!==null&&(jd(e,1),nU(e,1,0))}function nk(e){for(;e===mw;)mw=xf[--wf],xf[wf]=null,gw=xf[--wf],xf[wf]=null;for(;e===Ph;)Ph=Ia[--Oa],Ia[Oa]=null,dc=Ia[--Oa],Ia[Oa]=null,uc=Ia[--Oa],Ia[Oa]=null}var aa=null,ea=null,Wr=!1,gs=null;function iU(e,t){var r=Fa(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function wI(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,aa=e,ea=Uu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,aa=e,ea=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Ph!==null?{id:uc,overflow:dc}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Fa(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,aa=e,ea=null,!0):!1;default:return!1}}function mM(e){return(e.mode&1)!==0&&(e.flags&128)===0}function gM(e){if(Wr){var t=ea;if(t){var r=t;if(!wI(e,t)){if(mM(e))throw Error(Be(418));t=Uu(r.nextSibling);var n=aa;t&&wI(e,t)?iU(n,r):(e.flags=e.flags&-4097|2,Wr=!1,aa=e)}}else{if(mM(e))throw Error(Be(418));e.flags=e.flags&-4097|2,Wr=!1,aa=e}}}function _I(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;aa=e}function M1(e){if(e!==aa)return!1;if(!Wr)return _I(e),Wr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!dM(e.type,e.memoizedProps)),t&&(t=ea)){if(mM(e))throw oU(),Error(Be(418));for(;t;)iU(e,t),t=Uu(t.nextSibling)}if(_I(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Be(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){ea=Uu(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}ea=null}}else ea=aa?Uu(e.stateNode.nextSibling):null;return!0}function oU(){for(var e=ea;e;)e=Uu(e.nextSibling)}function Mm(){ea=aa=null,Wr=!1}function ik(e){gs===null?gs=[e]:gs.push(e)}var kJ=Fc.ReactCurrentBatchConfig;function Bg(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Be(309));var n=r.stateNode}if(!n)throw Error(Be(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var c=i.refs;l===null?delete c[o]:c[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(Be(284));if(!r._owner)throw Error(Be(290,e))}return e}function T1(e,t){throw e=Object.prototype.toString.call(t),Error(Be(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function SI(e){var t=e._init;return t(e._payload)}function aU(e){function t(v,x){if(e){var y=v.deletions;y===null?(v.deletions=[x],v.flags|=16):y.push(x)}}function r(v,x){if(!e)return null;for(;x!==null;)t(v,x),x=x.sibling;return null}function n(v,x){for(v=new Map;x!==null;)x.key!==null?v.set(x.key,x):v.set(x.index,x),x=x.sibling;return v}function i(v,x){return v=Gu(v,x),v.index=0,v.sibling=null,v}function o(v,x,y){return v.index=y,e?(y=v.alternate,y!==null?(y=y.index,y<x?(v.flags|=2,x):y):(v.flags|=2,x)):(v.flags|=1048576,x)}function l(v){return e&&v.alternate===null&&(v.flags|=2),v}function c(v,x,y,b){return x===null||x.tag!==6?(x=k3(y,v.mode,b),x.return=v,x):(x=i(x,y),x.return=v,x)}function a(v,x,y,b){var w=y.type;return w===ff?u(v,x,y.props.children,b,y.key):x!==null&&(x.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===pu&&SI(w)===x.type)?(b=i(x,y.props),b.ref=Bg(v,x,y),b.return=v,b):(b=Mx(y.type,y.key,y.props,null,v.mode,b),b.ref=Bg(v,x,y),b.return=v,b)}function s(v,x,y,b){return x===null||x.tag!==4||x.stateNode.containerInfo!==y.containerInfo||x.stateNode.implementation!==y.implementation?(x=D3(y,v.mode,b),x.return=v,x):(x=i(x,y.children||[]),x.return=v,x)}function u(v,x,y,b,w){return x===null||x.tag!==7?(x=vh(y,v.mode,b,w),x.return=v,x):(x=i(x,y),x.return=v,x)}function d(v,x,y){if(typeof x=="string"&&x!==""||typeof x=="number")return x=k3(""+x,v.mode,y),x.return=v,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case v1:return y=Mx(x.type,x.key,x.props,null,v.mode,y),y.ref=Bg(v,null,x),y.return=v,y;case pf:return x=D3(x,v.mode,y),x.return=v,x;case pu:var b=x._init;return d(v,b(x._payload),y)}if(O0(x)||Og(x))return x=vh(x,v.mode,y,null),x.return=v,x;T1(v,x)}return null}function h(v,x,y,b){var w=x!==null?x.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return w!==null?null:c(v,x,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case v1:return y.key===w?a(v,x,y,b):null;case pf:return y.key===w?s(v,x,y,b):null;case pu:return w=y._init,h(v,x,w(y._payload),b)}if(O0(y)||Og(y))return w!==null?null:u(v,x,y,b,null);T1(v,y)}return null}function p(v,x,y,b,w){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(y)||null,c(x,v,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case v1:return v=v.get(b.key===null?y:b.key)||null,a(x,v,b,w);case pf:return v=v.get(b.key===null?y:b.key)||null,s(x,v,b,w);case pu:var _=b._init;return p(v,x,y,_(b._payload),w)}if(O0(b)||Og(b))return v=v.get(y)||null,u(x,v,b,w,null);T1(x,b)}return null}function m(v,x,y,b){for(var w=null,_=null,S=x,E=x=0,A=null;S!==null&&E<y.length;E++){S.index>E?(A=S,S=null):A=S.sibling;var C=h(v,S,y[E],b);if(C===null){S===null&&(S=A);break}e&&S&&C.alternate===null&&t(v,S),x=o(C,x,E),_===null?w=C:_.sibling=C,_=C,S=A}if(E===y.length)return r(v,S),Wr&&jd(v,E),w;if(S===null){for(;E<y.length;E++)S=d(v,y[E],b),S!==null&&(x=o(S,x,E),_===null?w=S:_.sibling=S,_=S);return Wr&&jd(v,E),w}for(S=n(v,S);E<y.length;E++)A=p(S,v,E,y[E],b),A!==null&&(e&&A.alternate!==null&&S.delete(A.key===null?E:A.key),x=o(A,x,E),_===null?w=A:_.sibling=A,_=A);return e&&S.forEach(function(M){return t(v,M)}),Wr&&jd(v,E),w}function f(v,x,y,b){var w=Og(y);if(typeof w!="function")throw Error(Be(150));if(y=w.call(y),y==null)throw Error(Be(151));for(var _=w=null,S=x,E=x=0,A=null,C=y.next();S!==null&&!C.done;E++,C=y.next()){S.index>E?(A=S,S=null):A=S.sibling;var M=h(v,S,C.value,b);if(M===null){S===null&&(S=A);break}e&&S&&M.alternate===null&&t(v,S),x=o(M,x,E),_===null?w=M:_.sibling=M,_=M,S=A}if(C.done)return r(v,S),Wr&&jd(v,E),w;if(S===null){for(;!C.done;E++,C=y.next())C=d(v,C.value,b),C!==null&&(x=o(C,x,E),_===null?w=C:_.sibling=C,_=C);return Wr&&jd(v,E),w}for(S=n(v,S);!C.done;E++,C=y.next())C=p(S,v,E,C.value,b),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?E:C.key),x=o(C,x,E),_===null?w=C:_.sibling=C,_=C);return e&&S.forEach(function(T){return t(v,T)}),Wr&&jd(v,E),w}function g(v,x,y,b){if(typeof y=="object"&&y!==null&&y.type===ff&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case v1:e:{for(var w=y.key,_=x;_!==null;){if(_.key===w){if(w=y.type,w===ff){if(_.tag===7){r(v,_.sibling),x=i(_,y.props.children),x.return=v,v=x;break e}}else if(_.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===pu&&SI(w)===_.type){r(v,_.sibling),x=i(_,y.props),x.ref=Bg(v,_,y),x.return=v,v=x;break e}r(v,_);break}else t(v,_);_=_.sibling}y.type===ff?(x=vh(y.props.children,v.mode,b,y.key),x.return=v,v=x):(b=Mx(y.type,y.key,y.props,null,v.mode,b),b.ref=Bg(v,x,y),b.return=v,v=b)}return l(v);case pf:e:{for(_=y.key;x!==null;){if(x.key===_)if(x.tag===4&&x.stateNode.containerInfo===y.containerInfo&&x.stateNode.implementation===y.implementation){r(v,x.sibling),x=i(x,y.children||[]),x.return=v,v=x;break e}else{r(v,x);break}else t(v,x);x=x.sibling}x=D3(y,v.mode,b),x.return=v,v=x}return l(v);case pu:return _=y._init,g(v,x,_(y._payload),b)}if(O0(y))return m(v,x,y,b);if(Og(y))return f(v,x,y,b);T1(v,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,x!==null&&x.tag===6?(r(v,x.sibling),x=i(x,y),x.return=v,v=x):(r(v,x),x=k3(y,v.mode,b),x.return=v,v=x),l(v)):r(v,x)}return g}var Tm=aU(!0),sU=aU(!1),vw=ud(null),yw=null,_f=null,ok=null;function ak(){ok=_f=yw=null}function sk(e){var t=vw.current;Fr(vw),e._currentValue=t}function vM(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function $f(e,t){yw=e,ok=_f=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Eo=!0),e.firstContext=null)}function Ga(e){var t=e._currentValue;if(ok!==e)if(e={context:e,memoizedValue:t,next:null},_f===null){if(yw===null)throw Error(Be(308));_f=e,yw.dependencies={lanes:0,firstContext:e}}else _f=_f.next=e;return t}var Jd=null;function lk(e){Jd===null?Jd=[e]:Jd.push(e)}function lU(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,lk(t)):(r.next=i.next,i.next=r),t.interleaved=r,kc(e,n)}function kc(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var fu=!1;function ck(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cU(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function bc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vu(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,lr&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,kc(e,r)}return i=n.interleaved,i===null?(t.next=t,lk(n)):(t.next=i.next,i.next=t),n.interleaved=t,kc(e,r)}function wx(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$4(e,r)}}function EI(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var l={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=l:o=o.next=l,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function bw(e,t,r,n){var i=e.updateQueue;fu=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var a=c,s=a.next;a.next=null,l===null?o=s:l.next=s,l=a;var u=e.alternate;u!==null&&(u=u.updateQueue,c=u.lastBaseUpdate,c!==l&&(c===null?u.firstBaseUpdate=s:c.next=s,u.lastBaseUpdate=a))}if(o!==null){var d=i.baseState;l=0,u=s=a=null,c=o;do{var h=c.lane,p=c.eventTime;if((n&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var m=e,f=c;switch(h=t,p=r,f.tag){case 1:if(m=f.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=f.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=rn({},d,h);break e;case 2:fu=!0}}c.callback!==null&&c.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[c]:h.push(c))}else p={eventTime:p,lane:h,tag:c.tag,payload:c.payload,callback:c.callback,next:null},u===null?(s=u=p,a=d):u=u.next=p,l|=h;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;h=c,c=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(a=d),i.baseState=a,i.firstBaseUpdate=s,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Dh|=l,e.lanes=l,e.memoizedState=d}}function CI(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Be(191,i));i.call(n)}}}var Ly={},yl=ud(Ly),Wv=ud(Ly),Gv=ud(Ly);function eh(e){if(e===Ly)throw Error(Be(174));return e}function uk(e,t){switch(Rr(Gv,t),Rr(Wv,e),Rr(yl,Ly),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:QA(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=QA(t,e)}Fr(yl),Rr(yl,t)}function Pm(){Fr(yl),Fr(Wv),Fr(Gv)}function uU(e){eh(Gv.current);var t=eh(yl.current),r=QA(t,e.type);t!==r&&(Rr(Wv,e),Rr(yl,r))}function dk(e){Wv.current===e&&(Fr(yl),Fr(Wv))}var Qr=ud(0);function xw(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var E3=[];function hk(){for(var e=0;e<E3.length;e++)E3[e]._workInProgressVersionPrimary=null;E3.length=0}var _x=Fc.ReactCurrentDispatcher,C3=Fc.ReactCurrentBatchConfig,kh=0,tn=null,qn=null,ii=null,ww=!1,nv=!1,qv=0,DJ=0;function _i(){throw Error(Be(321))}function pk(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ts(e[r],t[r]))return!1;return!0}function fk(e,t,r,n,i,o){if(kh=o,tn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_x.current=e===null||e.memoizedState===null?RJ:zJ,e=r(n,i),nv){o=0;do{if(nv=!1,qv=0,25<=o)throw Error(Be(301));o+=1,ii=qn=null,t.updateQueue=null,_x.current=LJ,e=r(n,i)}while(nv)}if(_x.current=_w,t=qn!==null&&qn.next!==null,kh=0,ii=qn=tn=null,ww=!1,t)throw Error(Be(300));return e}function mk(){var e=qv!==0;return qv=0,e}function Qs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?tn.memoizedState=ii=e:ii=ii.next=e,ii}function qa(){if(qn===null){var e=tn.alternate;e=e!==null?e.memoizedState:null}else e=qn.next;var t=ii===null?tn.memoizedState:ii.next;if(t!==null)ii=t,qn=e;else{if(e===null)throw Error(Be(310));qn=e,e={memoizedState:qn.memoizedState,baseState:qn.baseState,baseQueue:qn.baseQueue,queue:qn.queue,next:null},ii===null?tn.memoizedState=ii=e:ii=ii.next=e}return ii}function Yv(e,t){return typeof t=="function"?t(e):t}function A3(e){var t=qa(),r=t.queue;if(r===null)throw Error(Be(311));r.lastRenderedReducer=e;var n=qn,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var c=l=null,a=null,s=o;do{var u=s.lane;if((kh&u)===u)a!==null&&(a=a.next={lane:0,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null}),n=s.hasEagerState?s.eagerState:e(n,s.action);else{var d={lane:u,action:s.action,hasEagerState:s.hasEagerState,eagerState:s.eagerState,next:null};a===null?(c=a=d,l=n):a=a.next=d,tn.lanes|=u,Dh|=u}s=s.next}while(s!==null&&s!==o);a===null?l=n:a.next=c,Ts(n,t.memoizedState)||(Eo=!0),t.memoizedState=n,t.baseState=l,t.baseQueue=a,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,tn.lanes|=o,Dh|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function M3(e){var t=qa(),r=t.queue;if(r===null)throw Error(Be(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);Ts(o,t.memoizedState)||(Eo=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function dU(){}function hU(e,t){var r=tn,n=qa(),i=t(),o=!Ts(n.memoizedState,i);if(o&&(n.memoizedState=i,Eo=!0),n=n.queue,gk(mU.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||ii!==null&&ii.memoizedState.tag&1){if(r.flags|=2048,$v(9,fU.bind(null,r,n,i,t),void 0,null),li===null)throw Error(Be(349));kh&30||pU(r,t,i)}return i}function pU(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function fU(e,t,r,n){t.value=r,t.getSnapshot=n,gU(t)&&vU(e)}function mU(e,t,r){return r(function(){gU(t)&&vU(e)})}function gU(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ts(e,r)}catch{return!0}}function vU(e){var t=kc(e,1);t!==null&&As(t,e,1,-1)}function AI(e){var t=Qs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Yv,lastRenderedState:e},t.queue=e,e=e.dispatch=OJ.bind(null,tn,e),[t.memoizedState,e]}function $v(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=tn.updateQueue,t===null?(t={lastEffect:null,stores:null},tn.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function yU(){return qa().memoizedState}function Sx(e,t,r,n){var i=Qs();tn.flags|=e,i.memoizedState=$v(1|t,r,void 0,n===void 0?null:n)}function l2(e,t,r,n){var i=qa();n=n===void 0?null:n;var o=void 0;if(qn!==null){var l=qn.memoizedState;if(o=l.destroy,n!==null&&pk(n,l.deps)){i.memoizedState=$v(t,r,o,n);return}}tn.flags|=e,i.memoizedState=$v(1|t,r,o,n)}function MI(e,t){return Sx(8390656,8,e,t)}function gk(e,t){return l2(2048,8,e,t)}function bU(e,t){return l2(4,2,e,t)}function xU(e,t){return l2(4,4,e,t)}function wU(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function _U(e,t,r){return r=r!=null?r.concat([e]):null,l2(4,4,wU.bind(null,t,e),r)}function vk(){}function SU(e,t){var r=qa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pk(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function EU(e,t){var r=qa();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&pk(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function CU(e,t,r){return kh&21?(Ts(r,t)||(r=kF(),tn.lanes|=r,Dh|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Eo=!0),e.memoizedState=r)}function jJ(e,t){var r=xr;xr=r!==0&&4>r?r:4,e(!0);var n=C3.transition;C3.transition={};try{e(!1),t()}finally{xr=r,C3.transition=n}}function AU(){return qa().memoizedState}function IJ(e,t,r){var n=Wu(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},MU(e))TU(t,r);else if(r=lU(e,t,r,n),r!==null){var i=oo();As(r,e,n,i),PU(r,t,n)}}function OJ(e,t,r){var n=Wu(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(MU(e))TU(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,c=o(l,r);if(i.hasEagerState=!0,i.eagerState=c,Ts(c,l)){var a=t.interleaved;a===null?(i.next=i,lk(t)):(i.next=a.next,a.next=i),t.interleaved=i;return}}catch{}finally{}r=lU(e,t,i,n),r!==null&&(i=oo(),As(r,e,n,i),PU(r,t,n))}}function MU(e){var t=e.alternate;return e===tn||t!==null&&t===tn}function TU(e,t){nv=ww=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function PU(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,$4(e,r)}}var _w={readContext:Ga,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useInsertionEffect:_i,useLayoutEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useMutableSource:_i,useSyncExternalStore:_i,useId:_i,unstable_isNewReconciler:!1},RJ={readContext:Ga,useCallback:function(e,t){return Qs().memoizedState=[e,t===void 0?null:t],e},useContext:Ga,useEffect:MI,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Sx(4194308,4,wU.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Sx(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sx(4,2,e,t)},useMemo:function(e,t){var r=Qs();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qs();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=IJ.bind(null,tn,e),[n.memoizedState,e]},useRef:function(e){var t=Qs();return e={current:e},t.memoizedState=e},useState:AI,useDebugValue:vk,useDeferredValue:function(e){return Qs().memoizedState=e},useTransition:function(){var e=AI(!1),t=e[0];return e=jJ.bind(null,e[1]),Qs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=tn,i=Qs();if(Wr){if(r===void 0)throw Error(Be(407));r=r()}else{if(r=t(),li===null)throw Error(Be(349));kh&30||pU(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,MI(mU.bind(null,n,o,e),[e]),n.flags|=2048,$v(9,fU.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Qs(),t=li.identifierPrefix;if(Wr){var r=dc,n=uc;r=(n&~(1<<32-Cs(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=qv++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=DJ++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},zJ={readContext:Ga,useCallback:SU,useContext:Ga,useEffect:gk,useImperativeHandle:_U,useInsertionEffect:bU,useLayoutEffect:xU,useMemo:EU,useReducer:A3,useRef:yU,useState:function(){return A3(Yv)},useDebugValue:vk,useDeferredValue:function(e){var t=qa();return CU(t,qn.memoizedState,e)},useTransition:function(){var e=A3(Yv)[0],t=qa().memoizedState;return[e,t]},useMutableSource:dU,useSyncExternalStore:hU,useId:AU,unstable_isNewReconciler:!1},LJ={readContext:Ga,useCallback:SU,useContext:Ga,useEffect:gk,useImperativeHandle:_U,useInsertionEffect:bU,useLayoutEffect:xU,useMemo:EU,useReducer:M3,useRef:yU,useState:function(){return M3(Yv)},useDebugValue:vk,useDeferredValue:function(e){var t=qa();return qn===null?t.memoizedState=e:CU(t,qn.memoizedState,e)},useTransition:function(){var e=M3(Yv)[0],t=qa().memoizedState;return[e,t]},useMutableSource:dU,useSyncExternalStore:hU,useId:AU,unstable_isNewReconciler:!1};function hs(e,t){if(e&&e.defaultProps){t=rn({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function yM(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:rn({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var c2={isMounted:function(e){return(e=e._reactInternals)?tp(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=oo(),i=Wu(e),o=bc(n,i);o.payload=t,r!=null&&(o.callback=r),t=Vu(e,o,i),t!==null&&(As(t,e,i,n),wx(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=oo(),i=Wu(e),o=bc(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=Vu(e,o,i),t!==null&&(As(t,e,i,n),wx(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=oo(),n=Wu(e),i=bc(r,n);i.tag=2,t!=null&&(i.callback=t),t=Vu(e,i,n),t!==null&&(As(t,e,n,r),wx(t,e,n))}};function TI(e,t,r,n,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,l):t.prototype&&t.prototype.isPureReactComponent?!Fv(r,n)||!Fv(i,o):!0}function kU(e,t,r){var n=!1,i=td,o=t.contextType;return typeof o=="object"&&o!==null?o=Ga(o):(i=ko(t)?Th:zi.current,n=t.contextTypes,o=(n=n!=null)?Am(e,i):td),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=c2,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function PI(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&c2.enqueueReplaceState(t,t.state,null)}function bM(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},ck(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=Ga(o):(o=ko(t)?Th:zi.current,i.context=Am(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(yM(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&c2.enqueueReplaceState(i,i.state,null),bw(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function km(e,t){try{var r="",n=t;do r+=dZ(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function T3(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function xM(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var NJ=typeof WeakMap=="function"?WeakMap:Map;function DU(e,t,r){r=bc(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ew||(Ew=!0,kM=n),xM(e,t)},r}function jU(e,t,r){r=bc(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){xM(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){xM(e,t),typeof n!="function"&&(Hu===null?Hu=new Set([this]):Hu.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),r}function kI(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new NJ;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=ZJ.bind(null,e,t,r),t.then(e,e))}function DI(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jI(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=bc(-1,1),t.tag=2,Vu(r,t,1))),r.lanes|=1),e)}var BJ=Fc.ReactCurrentOwner,Eo=!1;function qi(e,t,r,n){t.child=e===null?sU(t,null,r,n):Tm(t,e.child,r,n)}function II(e,t,r,n,i){r=r.render;var o=t.ref;return $f(t,i),n=fk(e,t,r,n,o,i),r=mk(),e!==null&&!Eo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dc(e,t,i)):(Wr&&r&&rk(t),t.flags|=1,qi(e,t,n,i),t.child)}function OI(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!Ck(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,IU(e,t,o,n,i)):(e=Mx(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(r=r.compare,r=r!==null?r:Fv,r(l,n)&&e.ref===t.ref)return Dc(e,t,i)}return t.flags|=1,e=Gu(o,n),e.ref=t.ref,e.return=t,t.child=e}function IU(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Fv(o,n)&&e.ref===t.ref)if(Eo=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(Eo=!0);else return t.lanes=e.lanes,Dc(e,t,i)}return wM(e,t,r,n,i)}function OU(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rr(Ef,Xo),Xo|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rr(Ef,Xo),Xo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Rr(Ef,Xo),Xo|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Rr(Ef,Xo),Xo|=n;return qi(e,t,i,r),t.child}function RU(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function wM(e,t,r,n,i){var o=ko(r)?Th:zi.current;return o=Am(t,o),$f(t,i),r=fk(e,t,r,n,o,i),n=mk(),e!==null&&!Eo?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Dc(e,t,i)):(Wr&&n&&rk(t),t.flags|=1,qi(e,t,r,i),t.child)}function RI(e,t,r,n,i){if(ko(r)){var o=!0;fw(t)}else o=!1;if($f(t,i),t.stateNode===null)Ex(e,t),kU(t,r,n),bM(t,r,n,i),n=!0;else if(e===null){var l=t.stateNode,c=t.memoizedProps;l.props=c;var a=l.context,s=r.contextType;typeof s=="object"&&s!==null?s=Ga(s):(s=ko(r)?Th:zi.current,s=Am(t,s));var u=r.getDerivedStateFromProps,d=typeof u=="function"||typeof l.getSnapshotBeforeUpdate=="function";d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==n||a!==s)&&PI(t,l,n,s),fu=!1;var h=t.memoizedState;l.state=h,bw(t,n,l,i),a=t.memoizedState,c!==n||h!==a||Po.current||fu?(typeof u=="function"&&(yM(t,r,u,n),a=t.memoizedState),(c=fu||TI(t,r,c,n,h,a,s))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=a),l.props=n,l.state=a,l.context=s,n=c):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,cU(e,t),c=t.memoizedProps,s=t.type===t.elementType?c:hs(t.type,c),l.props=s,d=t.pendingProps,h=l.context,a=r.contextType,typeof a=="object"&&a!==null?a=Ga(a):(a=ko(r)?Th:zi.current,a=Am(t,a));var p=r.getDerivedStateFromProps;(u=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==d||h!==a)&&PI(t,l,n,a),fu=!1,h=t.memoizedState,l.state=h,bw(t,n,l,i);var m=t.memoizedState;c!==d||h!==m||Po.current||fu?(typeof p=="function"&&(yM(t,r,p,n),m=t.memoizedState),(s=fu||TI(t,r,s,n,h,m,a)||!1)?(u||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,m,a),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,m,a)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),l.props=n,l.state=m,l.context=a,n=s):(typeof l.componentDidUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return _M(e,t,r,n,o,i)}function _M(e,t,r,n,i,o){RU(e,t);var l=(t.flags&128)!==0;if(!n&&!l)return i&&xI(t,r,!1),Dc(e,t,o);n=t.stateNode,BJ.current=t;var c=l&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&l?(t.child=Tm(t,e.child,null,o),t.child=Tm(t,null,c,o)):qi(e,t,c,o),t.memoizedState=n.state,i&&xI(t,r,!0),t.child}function zU(e){var t=e.stateNode;t.pendingContext?bI(e,t.pendingContext,t.pendingContext!==t.context):t.context&&bI(e,t.context,!1),uk(e,t.containerInfo)}function zI(e,t,r,n,i){return Mm(),ik(i),t.flags|=256,qi(e,t,r,n),t.child}var SM={dehydrated:null,treeContext:null,retryLane:0};function EM(e){return{baseLanes:e,cachePool:null,transitions:null}}function LU(e,t,r){var n=t.pendingProps,i=Qr.current,o=!1,l=(t.flags&128)!==0,c;if((c=l)||(c=e!==null&&e.memoizedState===null?!1:(i&2)!==0),c?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Rr(Qr,i&1),e===null)return gM(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=n.children,e=n.fallback,o?(n=t.mode,o=t.child,l={mode:"hidden",children:l},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=h2(l,n,0,null),e=vh(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=EM(r),t.memoizedState=SM,e):yk(t,l));if(i=e.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return FJ(e,t,l,n,c,i,r);if(o){o=n.fallback,l=t.mode,i=e.child,c=i.sibling;var a={mode:"hidden",children:n.children};return!(l&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=a,t.deletions=null):(n=Gu(i,a),n.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Gu(c,o):(o=vh(o,l,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,l=e.child.memoizedState,l=l===null?EM(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~r,t.memoizedState=SM,n}return o=e.child,e=o.sibling,n=Gu(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function yk(e,t){return t=h2({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function P1(e,t,r,n){return n!==null&&ik(n),Tm(t,e.child,null,r),e=yk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function FJ(e,t,r,n,i,o,l){if(r)return t.flags&256?(t.flags&=-257,n=T3(Error(Be(422))),P1(e,t,l,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=h2({mode:"visible",children:n.children},i,0,null),o=vh(o,i,l,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Tm(t,e.child,null,l),t.child.memoizedState=EM(l),t.memoizedState=SM,o);if(!(t.mode&1))return P1(e,t,l,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var c=n.dgst;return n=c,o=Error(Be(419)),n=T3(o,n,void 0),P1(e,t,l,n)}if(c=(l&e.childLanes)!==0,Eo||c){if(n=li,n!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,kc(e,i),As(n,e,i,-1))}return Ek(),n=T3(Error(Be(421))),P1(e,t,l,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=JJ.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,ea=Uu(i.nextSibling),aa=t,Wr=!0,gs=null,e!==null&&(Ia[Oa++]=uc,Ia[Oa++]=dc,Ia[Oa++]=Ph,uc=e.id,dc=e.overflow,Ph=t),t=yk(t,n.children),t.flags|=4096,t)}function LI(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),vM(e.return,t,r)}function P3(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function NU(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(qi(e,t,n.children,r),n=Qr.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&LI(e,r,t);else if(e.tag===19)LI(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Rr(Qr,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&xw(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),P3(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&xw(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}P3(t,!0,r,null,o);break;case"together":P3(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ex(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Dc(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Dh|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Be(153));if(t.child!==null){for(e=t.child,r=Gu(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Gu(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function UJ(e,t,r){switch(t.tag){case 3:zU(t),Mm();break;case 5:uU(t);break;case 1:ko(t.type)&&fw(t);break;case 4:uk(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Rr(vw,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Rr(Qr,Qr.current&1),t.flags|=128,null):r&t.child.childLanes?LU(e,t,r):(Rr(Qr,Qr.current&1),e=Dc(e,t,r),e!==null?e.sibling:null);Rr(Qr,Qr.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return NU(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rr(Qr,Qr.current),n)break;return null;case 22:case 23:return t.lanes=0,OU(e,t,r)}return Dc(e,t,r)}var BU,CM,FU,UU;BU=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};CM=function(){};FU=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,eh(yl.current);var o=null;switch(r){case"input":i=YA(e,i),n=YA(e,n),o=[];break;case"select":i=rn({},i,{value:void 0}),n=rn({},n,{value:void 0}),o=[];break;case"textarea":i=KA(e,i),n=KA(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=hw)}ZA(r,n);var l;r=null;for(s in i)if(!n.hasOwnProperty(s)&&i.hasOwnProperty(s)&&i[s]!=null)if(s==="style"){var c=i[s];for(l in c)c.hasOwnProperty(l)&&(r||(r={}),r[l]="")}else s!=="dangerouslySetInnerHTML"&&s!=="children"&&s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Iv.hasOwnProperty(s)?o||(o=[]):(o=o||[]).push(s,null));for(s in n){var a=n[s];if(c=i!=null?i[s]:void 0,n.hasOwnProperty(s)&&a!==c&&(a!=null||c!=null))if(s==="style")if(c){for(l in c)!c.hasOwnProperty(l)||a&&a.hasOwnProperty(l)||(r||(r={}),r[l]="");for(l in a)a.hasOwnProperty(l)&&c[l]!==a[l]&&(r||(r={}),r[l]=a[l])}else r||(o||(o=[]),o.push(s,r)),r=a;else s==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,c=c?c.__html:void 0,a!=null&&c!==a&&(o=o||[]).push(s,a)):s==="children"?typeof a!="string"&&typeof a!="number"||(o=o||[]).push(s,""+a):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&(Iv.hasOwnProperty(s)?(a!=null&&s==="onScroll"&&Lr("scroll",e),o||c===a||(o=[])):(o=o||[]).push(s,a))}r&&(o=o||[]).push("style",r);var s=o;(t.updateQueue=s)&&(t.flags|=4)}};UU=function(e,t,r,n){r!==n&&(t.flags|=4)};function Fg(e,t){if(!Wr)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Si(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function VJ(e,t,r){var n=t.pendingProps;switch(nk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Si(t),null;case 1:return ko(t.type)&&pw(),Si(t),null;case 3:return n=t.stateNode,Pm(),Fr(Po),Fr(zi),hk(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(M1(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,gs!==null&&(IM(gs),gs=null))),CM(e,t),Si(t),null;case 5:dk(t);var i=eh(Gv.current);if(r=t.type,e!==null&&t.stateNode!=null)FU(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(Be(166));return Si(t),null}if(e=eh(yl.current),M1(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ll]=t,n[Hv]=o,e=(t.mode&1)!==0,r){case"dialog":Lr("cancel",n),Lr("close",n);break;case"iframe":case"object":case"embed":Lr("load",n);break;case"video":case"audio":for(i=0;i<z0.length;i++)Lr(z0[i],n);break;case"source":Lr("error",n);break;case"img":case"image":case"link":Lr("error",n),Lr("load",n);break;case"details":Lr("toggle",n);break;case"input":qj(n,o),Lr("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Lr("invalid",n);break;case"textarea":$j(n,o),Lr("invalid",n)}ZA(r,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?n.textContent!==c&&(o.suppressHydrationWarning!==!0&&A1(n.textContent,c,e),i=["children",c]):typeof c=="number"&&n.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&A1(n.textContent,c,e),i=["children",""+c]):Iv.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Lr("scroll",n)}switch(r){case"input":y1(n),Yj(n,o,!0);break;case"textarea":y1(n),Xj(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=hw)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mF(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),r==="select"&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ll]=t,e[Hv]=n,BU(e,t,!1,!1),t.stateNode=e;e:{switch(l=JA(r,n),r){case"dialog":Lr("cancel",e),Lr("close",e),i=n;break;case"iframe":case"object":case"embed":Lr("load",e),i=n;break;case"video":case"audio":for(i=0;i<z0.length;i++)Lr(z0[i],e);i=n;break;case"source":Lr("error",e),i=n;break;case"img":case"image":case"link":Lr("error",e),Lr("load",e),i=n;break;case"details":Lr("toggle",e),i=n;break;case"input":qj(e,n),i=YA(e,n),Lr("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=rn({},n,{value:void 0}),Lr("invalid",e);break;case"textarea":$j(e,n),i=KA(e,n),Lr("invalid",e);break;default:i=n}ZA(r,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var a=c[o];o==="style"?yF(e,a):o==="dangerouslySetInnerHTML"?(a=a?a.__html:void 0,a!=null&&gF(e,a)):o==="children"?typeof a=="string"?(r!=="textarea"||a!=="")&&Ov(e,a):typeof a=="number"&&Ov(e,""+a):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Iv.hasOwnProperty(o)?a!=null&&o==="onScroll"&&Lr("scroll",e):a!=null&&V4(e,o,a,l))}switch(r){case"input":y1(e),Yj(e,n,!1);break;case"textarea":y1(e),Xj(e);break;case"option":n.value!=null&&e.setAttribute("value",""+ed(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Wf(e,!!n.multiple,o,!1):n.defaultValue!=null&&Wf(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=hw)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Si(t),null;case 6:if(e&&t.stateNode!=null)UU(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(Be(166));if(r=eh(Gv.current),eh(yl.current),M1(t)){if(n=t.stateNode,r=t.memoizedProps,n[ll]=t,(o=n.nodeValue!==r)&&(e=aa,e!==null))switch(e.tag){case 3:A1(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&A1(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ll]=t,t.stateNode=n}return Si(t),null;case 13:if(Fr(Qr),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Wr&&ea!==null&&t.mode&1&&!(t.flags&128))oU(),Mm(),t.flags|=98560,o=!1;else if(o=M1(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(Be(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(Be(317));o[ll]=t}else Mm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Si(t),o=!1}else gs!==null&&(IM(gs),gs=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||Qr.current&1?$n===0&&($n=3):Ek())),t.updateQueue!==null&&(t.flags|=4),Si(t),null);case 4:return Pm(),CM(e,t),e===null&&Uv(t.stateNode.containerInfo),Si(t),null;case 10:return sk(t.type._context),Si(t),null;case 17:return ko(t.type)&&pw(),Si(t),null;case 19:if(Fr(Qr),o=t.memoizedState,o===null)return Si(t),null;if(n=(t.flags&128)!==0,l=o.rendering,l===null)if(n)Fg(o,!1);else{if($n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=xw(e),l!==null){for(t.flags|=128,Fg(o,!1),n=l.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Rr(Qr,Qr.current&1|2),t.child}e=e.sibling}o.tail!==null&&xn()>Dm&&(t.flags|=128,n=!0,Fg(o,!1),t.lanes=4194304)}else{if(!n)if(e=xw(l),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Fg(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Wr)return Si(t),null}else 2*xn()-o.renderingStartTime>Dm&&r!==1073741824&&(t.flags|=128,n=!0,Fg(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(r=o.last,r!==null?r.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=xn(),t.sibling=null,r=Qr.current,Rr(Qr,n?r&1|2:r&1),t):(Si(t),null);case 22:case 23:return Sk(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Xo&1073741824&&(Si(t),t.subtreeFlags&6&&(t.flags|=8192)):Si(t),null;case 24:return null;case 25:return null}throw Error(Be(156,t.tag))}function HJ(e,t){switch(nk(t),t.tag){case 1:return ko(t.type)&&pw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Pm(),Fr(Po),Fr(zi),hk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return dk(t),null;case 13:if(Fr(Qr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Be(340));Mm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Fr(Qr),null;case 4:return Pm(),null;case 10:return sk(t.type._context),null;case 22:case 23:return Sk(),null;case 24:return null;default:return null}}var k1=!1,Ti=!1,WJ=typeof WeakSet=="function"?WeakSet:Set,nt=null;function Sf(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){dn(e,t,n)}else r.current=null}function AM(e,t,r){try{r()}catch(n){dn(e,t,n)}}var NI=!1;function GJ(e,t){if(cM=cw,e=qF(),tk(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var l=0,c=-1,a=-1,s=0,u=0,d=e,h=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(c=l+i),d!==o||n!==0&&d.nodeType!==3||(a=l+n),d.nodeType===3&&(l+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===e)break t;if(h===r&&++s===i&&(c=l),h===o&&++u===n&&(a=l),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}r=c===-1||a===-1?null:{start:c,end:a}}else r=null}r=r||{start:0,end:0}}else r=null;for(uM={focusedElem:e,selectionRange:r},cw=!1,nt=t;nt!==null;)if(t=nt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,nt=e;else for(;nt!==null;){t=nt;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var f=m.memoizedProps,g=m.memoizedState,v=t.stateNode,x=v.getSnapshotBeforeUpdate(t.elementType===t.type?f:hs(t.type,f),g);v.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Be(163))}}catch(b){dn(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,nt=e;break}nt=t.return}return m=NI,NI=!1,m}function iv(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&AM(t,r,o)}i=i.next}while(i!==n)}}function u2(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function MM(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function VU(e){var t=e.alternate;t!==null&&(e.alternate=null,VU(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ll],delete t[Hv],delete t[pM],delete t[MJ],delete t[TJ])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function HU(e){return e.tag===5||e.tag===3||e.tag===4}function BI(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||HU(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function TM(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=hw));else if(n!==4&&(e=e.child,e!==null))for(TM(e,t,r),e=e.sibling;e!==null;)TM(e,t,r),e=e.sibling}function PM(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(PM(e,t,r),e=e.sibling;e!==null;)PM(e,t,r),e=e.sibling}var mi=null,fs=!1;function qc(e,t,r){for(r=r.child;r!==null;)WU(e,t,r),r=r.sibling}function WU(e,t,r){if(vl&&typeof vl.onCommitFiberUnmount=="function")try{vl.onCommitFiberUnmount(r2,r)}catch{}switch(r.tag){case 5:Ti||Sf(r,t);case 6:var n=mi,i=fs;mi=null,qc(e,t,r),mi=n,fs=i,mi!==null&&(fs?(e=mi,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):mi.removeChild(r.stateNode));break;case 18:mi!==null&&(fs?(e=mi,r=r.stateNode,e.nodeType===8?_3(e.parentNode,r):e.nodeType===1&&_3(e,r),Nv(e)):_3(mi,r.stateNode));break;case 4:n=mi,i=fs,mi=r.stateNode.containerInfo,fs=!0,qc(e,t,r),mi=n,fs=i;break;case 0:case 11:case 14:case 15:if(!Ti&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&AM(r,t,l),i=i.next}while(i!==n)}qc(e,t,r);break;case 1:if(!Ti&&(Sf(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(c){dn(r,t,c)}qc(e,t,r);break;case 21:qc(e,t,r);break;case 22:r.mode&1?(Ti=(n=Ti)||r.memoizedState!==null,qc(e,t,r),Ti=n):qc(e,t,r);break;default:qc(e,t,r)}}function FI(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new WJ),t.forEach(function(n){var i=eee.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ts(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,l=t,c=l;e:for(;c!==null;){switch(c.tag){case 5:mi=c.stateNode,fs=!1;break e;case 3:mi=c.stateNode.containerInfo,fs=!0;break e;case 4:mi=c.stateNode.containerInfo,fs=!0;break e}c=c.return}if(mi===null)throw Error(Be(160));WU(o,l,i),mi=null,fs=!1;var a=i.alternate;a!==null&&(a.return=null),i.return=null}catch(s){dn(i,t,s)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)GU(t,e),t=t.sibling}function GU(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ts(t,e),Ls(e),n&4){try{iv(3,e,e.return),u2(3,e)}catch(f){dn(e,e.return,f)}try{iv(5,e,e.return)}catch(f){dn(e,e.return,f)}}break;case 1:ts(t,e),Ls(e),n&512&&r!==null&&Sf(r,r.return);break;case 5:if(ts(t,e),Ls(e),n&512&&r!==null&&Sf(r,r.return),e.flags&32){var i=e.stateNode;try{Ov(i,"")}catch(f){dn(e,e.return,f)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=r!==null?r.memoizedProps:o,c=e.type,a=e.updateQueue;if(e.updateQueue=null,a!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&pF(i,o),JA(c,l);var s=JA(c,o);for(l=0;l<a.length;l+=2){var u=a[l],d=a[l+1];u==="style"?yF(i,d):u==="dangerouslySetInnerHTML"?gF(i,d):u==="children"?Ov(i,d):V4(i,u,d,s)}switch(c){case"input":$A(i,o);break;case"textarea":fF(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Wf(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Wf(i,!!o.multiple,o.defaultValue,!0):Wf(i,!!o.multiple,o.multiple?[]:"",!1))}i[Hv]=o}catch(f){dn(e,e.return,f)}}break;case 6:if(ts(t,e),Ls(e),n&4){if(e.stateNode===null)throw Error(Be(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(f){dn(e,e.return,f)}}break;case 3:if(ts(t,e),Ls(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Nv(t.containerInfo)}catch(f){dn(e,e.return,f)}break;case 4:ts(t,e),Ls(e);break;case 13:ts(t,e),Ls(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(wk=xn())),n&4&&FI(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ti=(s=Ti)||u,ts(t,e),Ti=s):ts(t,e),Ls(e),n&8192){if(s=e.memoizedState!==null,(e.stateNode.isHidden=s)&&!u&&e.mode&1)for(nt=e,u=e.child;u!==null;){for(d=nt=u;nt!==null;){switch(h=nt,p=h.child,h.tag){case 0:case 11:case 14:case 15:iv(4,h,h.return);break;case 1:Sf(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(f){dn(n,r,f)}}break;case 5:Sf(h,h.return);break;case 22:if(h.memoizedState!==null){VI(d);continue}}p!==null?(p.return=h,nt=p):VI(d)}u=u.sibling}e:for(u=null,d=e;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,s?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=d.stateNode,a=d.memoizedProps.style,l=a!=null&&a.hasOwnProperty("display")?a.display:null,c.style.display=vF("display",l))}catch(f){dn(e,e.return,f)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=s?"":d.memoizedProps}catch(f){dn(e,e.return,f)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ts(t,e),Ls(e),n&4&&FI(e);break;case 21:break;default:ts(t,e),Ls(e)}}function Ls(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(HU(r)){var n=r;break e}r=r.return}throw Error(Be(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Ov(i,""),n.flags&=-33);var o=BI(e);PM(e,o,i);break;case 3:case 4:var l=n.stateNode.containerInfo,c=BI(e);TM(e,c,l);break;default:throw Error(Be(161))}}catch(a){dn(e,e.return,a)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function qJ(e,t,r){nt=e,qU(e)}function qU(e,t,r){for(var n=(e.mode&1)!==0;nt!==null;){var i=nt,o=i.child;if(i.tag===22&&n){var l=i.memoizedState!==null||k1;if(!l){var c=i.alternate,a=c!==null&&c.memoizedState!==null||Ti;c=k1;var s=Ti;if(k1=l,(Ti=a)&&!s)for(nt=i;nt!==null;)l=nt,a=l.child,l.tag===22&&l.memoizedState!==null?HI(i):a!==null?(a.return=l,nt=a):HI(i);for(;o!==null;)nt=o,qU(o),o=o.sibling;nt=i,k1=c,Ti=s}UI(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,nt=o):UI(e)}}function UI(e){for(;nt!==null;){var t=nt;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ti||u2(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ti)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:hs(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&CI(t,o,n);break;case 3:var l=t.updateQueue;if(l!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}CI(t,l,r)}break;case 5:var c=t.stateNode;if(r===null&&t.flags&4){r=c;var a=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break;case"img":a.src&&(r.src=a.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var s=t.alternate;if(s!==null){var u=s.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Nv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Be(163))}Ti||t.flags&512&&MM(t)}catch(h){dn(t,t.return,h)}}if(t===e){nt=null;break}if(r=t.sibling,r!==null){r.return=t.return,nt=r;break}nt=t.return}}function VI(e){for(;nt!==null;){var t=nt;if(t===e){nt=null;break}var r=t.sibling;if(r!==null){r.return=t.return,nt=r;break}nt=t.return}}function HI(e){for(;nt!==null;){var t=nt;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{u2(4,t)}catch(a){dn(t,r,a)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(a){dn(t,i,a)}}var o=t.return;try{MM(t)}catch(a){dn(t,o,a)}break;case 5:var l=t.return;try{MM(t)}catch(a){dn(t,l,a)}}}catch(a){dn(t,t.return,a)}if(t===e){nt=null;break}var c=t.sibling;if(c!==null){c.return=t.return,nt=c;break}nt=t.return}}var YJ=Math.ceil,Sw=Fc.ReactCurrentDispatcher,bk=Fc.ReactCurrentOwner,Ua=Fc.ReactCurrentBatchConfig,lr=0,li=null,Ln=null,yi=0,Xo=0,Ef=ud(0),$n=0,Xv=null,Dh=0,d2=0,xk=0,ov=null,yo=null,wk=0,Dm=1/0,Kl=null,Ew=!1,kM=null,Hu=null,D1=!1,Mu=null,Cw=0,av=0,DM=null,Cx=-1,Ax=0;function oo(){return lr&6?xn():Cx!==-1?Cx:Cx=xn()}function Wu(e){return e.mode&1?lr&2&&yi!==0?yi&-yi:kJ.transition!==null?(Ax===0&&(Ax=kF()),Ax):(e=xr,e!==0||(e=window.event,e=e===void 0?16:LF(e.type)),e):1}function As(e,t,r,n){if(50<av)throw av=0,DM=null,Error(Be(185));Oy(e,r,n),(!(lr&2)||e!==li)&&(e===li&&(!(lr&2)&&(d2|=r),$n===4&&yu(e,yi)),Do(e,n),r===1&&lr===0&&!(t.mode&1)&&(Dm=xn()+500,s2&&dd()))}function Do(e,t){var r=e.callbackNode;kZ(e,t);var n=lw(e,e===li?yi:0);if(n===0)r!==null&&Zj(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Zj(r),t===1)e.tag===0?PJ(WI.bind(null,e)):rU(WI.bind(null,e)),CJ(function(){!(lr&6)&&dd()}),r=null;else{switch(DF(n)){case 1:r=Y4;break;case 4:r=TF;break;case 16:r=sw;break;case 536870912:r=PF;break;default:r=sw}r=eV(r,YU.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function YU(e,t){if(Cx=-1,Ax=0,lr&6)throw Error(Be(327));var r=e.callbackNode;if(Xf()&&e.callbackNode!==r)return null;var n=lw(e,e===li?yi:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Aw(e,n);else{t=n;var i=lr;lr|=2;var o=XU();(li!==e||yi!==t)&&(Kl=null,Dm=xn()+500,gh(e,t));do try{KJ();break}catch(c){$U(e,c)}while(!0);ak(),Sw.current=o,lr=i,Ln!==null?t=0:(li=null,yi=0,t=$n)}if(t!==0){if(t===2&&(i=iM(e),i!==0&&(n=i,t=jM(e,i))),t===1)throw r=Xv,gh(e,0),yu(e,n),Do(e,xn()),r;if(t===6)yu(e,n);else{if(i=e.current.alternate,!(n&30)&&!$J(i)&&(t=Aw(e,n),t===2&&(o=iM(e),o!==0&&(n=o,t=jM(e,o))),t===1))throw r=Xv,gh(e,0),yu(e,n),Do(e,xn()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(Be(345));case 2:Id(e,yo,Kl);break;case 3:if(yu(e,n),(n&130023424)===n&&(t=wk+500-xn(),10<t)){if(lw(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){oo(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hM(Id.bind(null,e,yo,Kl),t);break}Id(e,yo,Kl);break;case 4:if(yu(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var l=31-Cs(n);o=1<<l,l=t[l],l>i&&(i=l),n&=~o}if(n=i,n=xn()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*YJ(n/1960))-n,10<n){e.timeoutHandle=hM(Id.bind(null,e,yo,Kl),n);break}Id(e,yo,Kl);break;case 5:Id(e,yo,Kl);break;default:throw Error(Be(329))}}}return Do(e,xn()),e.callbackNode===r?YU.bind(null,e):null}function jM(e,t){var r=ov;return e.current.memoizedState.isDehydrated&&(gh(e,t).flags|=256),e=Aw(e,t),e!==2&&(t=yo,yo=r,t!==null&&IM(t)),e}function IM(e){yo===null?yo=e:yo.push.apply(yo,e)}function $J(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!Ts(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function yu(e,t){for(t&=~xk,t&=~d2,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Cs(t),n=1<<r;e[r]=-1,t&=~n}}function WI(e){if(lr&6)throw Error(Be(327));Xf();var t=lw(e,0);if(!(t&1))return Do(e,xn()),null;var r=Aw(e,t);if(e.tag!==0&&r===2){var n=iM(e);n!==0&&(t=n,r=jM(e,n))}if(r===1)throw r=Xv,gh(e,0),yu(e,t),Do(e,xn()),r;if(r===6)throw Error(Be(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Id(e,yo,Kl),Do(e,xn()),null}function _k(e,t){var r=lr;lr|=1;try{return e(t)}finally{lr=r,lr===0&&(Dm=xn()+500,s2&&dd())}}function jh(e){Mu!==null&&Mu.tag===0&&!(lr&6)&&Xf();var t=lr;lr|=1;var r=Ua.transition,n=xr;try{if(Ua.transition=null,xr=1,e)return e()}finally{xr=n,Ua.transition=r,lr=t,!(lr&6)&&dd()}}function Sk(){Xo=Ef.current,Fr(Ef)}function gh(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,EJ(r)),Ln!==null)for(r=Ln.return;r!==null;){var n=r;switch(nk(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&pw();break;case 3:Pm(),Fr(Po),Fr(zi),hk();break;case 5:dk(n);break;case 4:Pm();break;case 13:Fr(Qr);break;case 19:Fr(Qr);break;case 10:sk(n.type._context);break;case 22:case 23:Sk()}r=r.return}if(li=e,Ln=e=Gu(e.current,null),yi=Xo=t,$n=0,Xv=null,xk=d2=Dh=0,yo=ov=null,Jd!==null){for(t=0;t<Jd.length;t++)if(r=Jd[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var l=o.next;o.next=i,n.next=l}r.pending=n}Jd=null}return e}function $U(e,t){do{var r=Ln;try{if(ak(),_x.current=_w,ww){for(var n=tn.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}ww=!1}if(kh=0,ii=qn=tn=null,nv=!1,qv=0,bk.current=null,r===null||r.return===null){$n=1,Xv=t,Ln=null;break}e:{var o=e,l=r.return,c=r,a=t;if(t=yi,c.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){var s=a,u=c,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=DI(l);if(p!==null){p.flags&=-257,jI(p,l,c,o,t),p.mode&1&&kI(o,s,t),t=p,a=s;var m=t.updateQueue;if(m===null){var f=new Set;f.add(a),t.updateQueue=f}else m.add(a);break e}else{if(!(t&1)){kI(o,s,t),Ek();break e}a=Error(Be(426))}}else if(Wr&&c.mode&1){var g=DI(l);if(g!==null){!(g.flags&65536)&&(g.flags|=256),jI(g,l,c,o,t),ik(km(a,c));break e}}o=a=km(a,c),$n!==4&&($n=2),ov===null?ov=[o]:ov.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var v=DU(o,a,t);EI(o,v);break e;case 1:c=a;var x=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Hu===null||!Hu.has(y)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=jU(o,c,t);EI(o,b);break e}}o=o.return}while(o!==null)}QU(r)}catch(w){t=w,Ln===r&&r!==null&&(Ln=r=r.return);continue}break}while(!0)}function XU(){var e=Sw.current;return Sw.current=_w,e===null?_w:e}function Ek(){($n===0||$n===3||$n===2)&&($n=4),li===null||!(Dh&268435455)&&!(d2&268435455)||yu(li,yi)}function Aw(e,t){var r=lr;lr|=2;var n=XU();(li!==e||yi!==t)&&(Kl=null,gh(e,t));do try{XJ();break}catch(i){$U(e,i)}while(!0);if(ak(),lr=r,Sw.current=n,Ln!==null)throw Error(Be(261));return li=null,yi=0,$n}function XJ(){for(;Ln!==null;)KU(Ln)}function KJ(){for(;Ln!==null&&!wZ();)KU(Ln)}function KU(e){var t=JU(e.alternate,e,Xo);e.memoizedProps=e.pendingProps,t===null?QU(e):Ln=t,bk.current=null}function QU(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=HJ(r,t),r!==null){r.flags&=32767,Ln=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{$n=6,Ln=null;return}}else if(r=VJ(r,t,Xo),r!==null){Ln=r;return}if(t=t.sibling,t!==null){Ln=t;return}Ln=t=e}while(t!==null);$n===0&&($n=5)}function Id(e,t,r){var n=xr,i=Ua.transition;try{Ua.transition=null,xr=1,QJ(e,t,r,n)}finally{Ua.transition=i,xr=n}return null}function QJ(e,t,r,n){do Xf();while(Mu!==null);if(lr&6)throw Error(Be(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(Be(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(DZ(e,o),e===li&&(Ln=li=null,yi=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||D1||(D1=!0,eV(sw,function(){return Xf(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=Ua.transition,Ua.transition=null;var l=xr;xr=1;var c=lr;lr|=4,bk.current=null,GJ(e,r),GU(r,e),vJ(uM),cw=!!cM,uM=cM=null,e.current=r,qJ(r),_Z(),lr=c,xr=l,Ua.transition=o}else e.current=r;if(D1&&(D1=!1,Mu=e,Cw=i),o=e.pendingLanes,o===0&&(Hu=null),CZ(r.stateNode),Do(e,xn()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ew)throw Ew=!1,e=kM,kM=null,e;return Cw&1&&e.tag!==0&&Xf(),o=e.pendingLanes,o&1?e===DM?av++:(av=0,DM=e):av=0,dd(),null}function Xf(){if(Mu!==null){var e=DF(Cw),t=Ua.transition,r=xr;try{if(Ua.transition=null,xr=16>e?16:e,Mu===null)var n=!1;else{if(e=Mu,Mu=null,Cw=0,lr&6)throw Error(Be(331));var i=lr;for(lr|=4,nt=e.current;nt!==null;){var o=nt,l=o.child;if(nt.flags&16){var c=o.deletions;if(c!==null){for(var a=0;a<c.length;a++){var s=c[a];for(nt=s;nt!==null;){var u=nt;switch(u.tag){case 0:case 11:case 15:iv(8,u,o)}var d=u.child;if(d!==null)d.return=u,nt=d;else for(;nt!==null;){u=nt;var h=u.sibling,p=u.return;if(VU(u),u===s){nt=null;break}if(h!==null){h.return=p,nt=h;break}nt=p}}}var m=o.alternate;if(m!==null){var f=m.child;if(f!==null){m.child=null;do{var g=f.sibling;f.sibling=null,f=g}while(f!==null)}}nt=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,nt=l;else e:for(;nt!==null;){if(o=nt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:iv(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,nt=v;break e}nt=o.return}}var x=e.current;for(nt=x;nt!==null;){l=nt;var y=l.child;if(l.subtreeFlags&2064&&y!==null)y.return=l,nt=y;else e:for(l=x;nt!==null;){if(c=nt,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:u2(9,c)}}catch(w){dn(c,c.return,w)}if(c===l){nt=null;break e}var b=c.sibling;if(b!==null){b.return=c.return,nt=b;break e}nt=c.return}}if(lr=i,dd(),vl&&typeof vl.onPostCommitFiberRoot=="function")try{vl.onPostCommitFiberRoot(r2,e)}catch{}n=!0}return n}finally{xr=r,Ua.transition=t}}return!1}function GI(e,t,r){t=km(r,t),t=DU(e,t,1),e=Vu(e,t,1),t=oo(),e!==null&&(Oy(e,1,t),Do(e,t))}function dn(e,t,r){if(e.tag===3)GI(e,e,r);else for(;t!==null;){if(t.tag===3){GI(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Hu===null||!Hu.has(n))){e=km(r,e),e=jU(t,e,1),t=Vu(t,e,1),e=oo(),t!==null&&(Oy(t,1,e),Do(t,e));break}}t=t.return}}function ZJ(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=oo(),e.pingedLanes|=e.suspendedLanes&r,li===e&&(yi&r)===r&&($n===4||$n===3&&(yi&130023424)===yi&&500>xn()-wk?gh(e,0):xk|=r),Do(e,t)}function ZU(e,t){t===0&&(e.mode&1?(t=w1,w1<<=1,!(w1&130023424)&&(w1=4194304)):t=1);var r=oo();e=kc(e,t),e!==null&&(Oy(e,t,r),Do(e,r))}function JJ(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),ZU(e,r)}function eee(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(Be(314))}n!==null&&n.delete(t),ZU(e,r)}var JU;JU=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Po.current)Eo=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Eo=!1,UJ(e,t,r);Eo=!!(e.flags&131072)}else Eo=!1,Wr&&t.flags&1048576&&nU(t,gw,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Ex(e,t),e=t.pendingProps;var i=Am(t,zi.current);$f(t,r),i=fk(null,t,n,e,i,r);var o=mk();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ko(n)?(o=!0,fw(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ck(t),i.updater=c2,t.stateNode=i,i._reactInternals=t,bM(t,n,e,r),t=_M(null,t,n,!0,o,r)):(t.tag=0,Wr&&o&&rk(t),qi(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Ex(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=ree(n),e=hs(n,e),i){case 0:t=wM(null,t,n,e,r);break e;case 1:t=RI(null,t,n,e,r);break e;case 11:t=II(null,t,n,e,r);break e;case 14:t=OI(null,t,n,hs(n.type,e),r);break e}throw Error(Be(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hs(n,i),wM(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hs(n,i),RI(e,t,n,i,r);case 3:e:{if(zU(t),e===null)throw Error(Be(387));n=t.pendingProps,o=t.memoizedState,i=o.element,cU(e,t),bw(t,n,null,r);var l=t.memoizedState;if(n=l.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=km(Error(Be(423)),t),t=zI(e,t,n,r,i);break e}else if(n!==i){i=km(Error(Be(424)),t),t=zI(e,t,n,r,i);break e}else for(ea=Uu(t.stateNode.containerInfo.firstChild),aa=t,Wr=!0,gs=null,r=sU(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mm(),n===i){t=Dc(e,t,r);break e}qi(e,t,n,r)}t=t.child}return t;case 5:return uU(t),e===null&&gM(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,dM(n,i)?l=null:o!==null&&dM(n,o)&&(t.flags|=32),RU(e,t),qi(e,t,l,r),t.child;case 6:return e===null&&gM(t),null;case 13:return LU(e,t,r);case 4:return uk(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Tm(t,null,n,r):qi(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hs(n,i),II(e,t,n,i,r);case 7:return qi(e,t,t.pendingProps,r),t.child;case 8:return qi(e,t,t.pendingProps.children,r),t.child;case 12:return qi(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Rr(vw,n._currentValue),n._currentValue=l,o!==null)if(Ts(o.value,l)){if(o.children===i.children&&!Po.current){t=Dc(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var a=c.firstContext;a!==null;){if(a.context===n){if(o.tag===1){a=bc(-1,r&-r),a.tag=2;var s=o.updateQueue;if(s!==null){s=s.shared;var u=s.pending;u===null?a.next=a:(a.next=u.next,u.next=a),s.pending=a}}o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),vM(o.return,r,t),c.lanes|=r;break}a=a.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(Be(341));l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),vM(l,r,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}qi(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,$f(t,r),i=Ga(i),n=n(i),t.flags|=1,qi(e,t,n,r),t.child;case 14:return n=t.type,i=hs(n,t.pendingProps),i=hs(n.type,i),OI(e,t,n,i,r);case 15:return IU(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:hs(n,i),Ex(e,t),t.tag=1,ko(n)?(e=!0,fw(t)):e=!1,$f(t,r),kU(t,n,i),bM(t,n,i,r),_M(null,t,n,!0,e,r);case 19:return NU(e,t,r);case 22:return OU(e,t,r)}throw Error(Be(156,t.tag))};function eV(e,t){return MF(e,t)}function tee(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fa(e,t,r,n){return new tee(e,t,r,n)}function Ck(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ree(e){if(typeof e=="function")return Ck(e)?1:0;if(e!=null){if(e=e.$$typeof,e===W4)return 11;if(e===G4)return 14}return 2}function Gu(e,t){var r=e.alternate;return r===null?(r=Fa(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Mx(e,t,r,n,i,o){var l=2;if(n=e,typeof e=="function")Ck(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case ff:return vh(r.children,i,o,t);case H4:l=8,i|=8;break;case HA:return e=Fa(12,r,t,i|2),e.elementType=HA,e.lanes=o,e;case WA:return e=Fa(13,r,t,i),e.elementType=WA,e.lanes=o,e;case GA:return e=Fa(19,r,t,i),e.elementType=GA,e.lanes=o,e;case uF:return h2(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lF:l=10;break e;case cF:l=9;break e;case W4:l=11;break e;case G4:l=14;break e;case pu:l=16,n=null;break e}throw Error(Be(130,e==null?e:typeof e,""))}return t=Fa(l,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function vh(e,t,r,n){return e=Fa(7,e,n,t),e.lanes=r,e}function h2(e,t,r,n){return e=Fa(22,e,n,t),e.elementType=uF,e.lanes=r,e.stateNode={isHidden:!1},e}function k3(e,t,r){return e=Fa(6,e,null,t),e.lanes=r,e}function D3(e,t,r){return t=Fa(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function nee(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=d3(0),this.expirationTimes=d3(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=d3(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ak(e,t,r,n,i,o,l,c,a){return e=new nee(e,t,r,c,a),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Fa(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ck(o),e}function iee(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pf,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function tV(e){if(!e)return td;e=e._reactInternals;e:{if(tp(e)!==e||e.tag!==1)throw Error(Be(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ko(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Be(171))}if(e.tag===1){var r=e.type;if(ko(r))return tU(e,r,t)}return t}function rV(e,t,r,n,i,o,l,c,a){return e=Ak(r,n,!0,e,i,o,l,c,a),e.context=tV(null),r=e.current,n=oo(),i=Wu(r),o=bc(n,i),o.callback=t??null,Vu(r,o,i),e.current.lanes=i,Oy(e,i,n),Do(e,n),e}function p2(e,t,r,n){var i=t.current,o=oo(),l=Wu(i);return r=tV(r),t.context===null?t.context=r:t.pendingContext=r,t=bc(o,l),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Vu(i,t,l),e!==null&&(As(e,i,l,o),wx(e,i,l)),l}function Mw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function qI(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function Mk(e,t){qI(e,t),(e=e.alternate)&&qI(e,t)}var nV=typeof reportError=="function"?reportError:function(e){console.error(e)};function Tk(e){this._internalRoot=e}f2.prototype.render=Tk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Be(409));p2(e,t,null,null)};f2.prototype.unmount=Tk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jh(function(){p2(null,e,null,null)}),t[Pc]=null}};function f2(e){this._internalRoot=e}f2.prototype.unstable_scheduleHydration=function(e){if(e){var t=OF();e={blockedOn:null,target:e,priority:t};for(var r=0;r<vu.length&&t!==0&&t<vu[r].priority;r++);vu.splice(r,0,e),r===0&&zF(e)}};function Pk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function m2(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function YI(){}function oee(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var s=Mw(l);o.call(s)}}var l=rV(t,n,e,0,null,!1,!1,"",YI);return e._reactRootContainer=l,e[Pc]=l.current,Uv(e.nodeType===8?e.parentNode:e),jh(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var c=n;n=function(){var s=Mw(a);c.call(s)}}var a=Ak(e,0,!1,null,null,!1,!1,"",YI);return e._reactRootContainer=a,e[Pc]=a.current,Uv(e.nodeType===8?e.parentNode:e),jh(function(){p2(t,a,r,n)}),a}function g2(e,t,r,n,i){var o=r._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var c=i;i=function(){var a=Mw(l);c.call(a)}}p2(t,l,e,i)}else l=oee(r,t,e,i,n);return Mw(l)}jF=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=R0(t.pendingLanes);r!==0&&($4(t,r|1),Do(t,xn()),!(lr&6)&&(Dm=xn()+500,dd()))}break;case 13:jh(function(){var n=kc(e,1);if(n!==null){var i=oo();As(n,e,1,i)}}),Mk(e,1)}};X4=function(e){if(e.tag===13){var t=kc(e,134217728);if(t!==null){var r=oo();As(t,e,134217728,r)}Mk(e,134217728)}};IF=function(e){if(e.tag===13){var t=Wu(e),r=kc(e,t);if(r!==null){var n=oo();As(r,e,t,n)}Mk(e,t)}};OF=function(){return xr};RF=function(e,t){var r=xr;try{return xr=e,t()}finally{xr=r}};tM=function(e,t,r){switch(t){case"input":if($A(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=a2(n);if(!i)throw Error(Be(90));hF(n),$A(n,i)}}}break;case"textarea":fF(e,r);break;case"select":t=r.value,t!=null&&Wf(e,!!r.multiple,t,!1)}};wF=_k;_F=jh;var aee={usingClientEntryPoint:!1,Events:[zy,yf,a2,bF,xF,_k]},Ug={findFiberByHostInstance:Zd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},see={bundleType:Ug.bundleType,version:Ug.version,rendererPackageName:Ug.rendererPackageName,rendererConfig:Ug.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Fc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=CF(e),e===null?null:e.stateNode},findFiberByHostInstance:Ug.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var j1=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!j1.isDisabled&&j1.supportsFiber)try{r2=j1.inject(see),vl=j1}catch{}}ha.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aee;ha.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pk(t))throw Error(Be(200));return iee(e,t,null,r)};ha.createRoot=function(e,t){if(!Pk(e))throw Error(Be(299));var r=!1,n="",i=nV;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Ak(e,1,!1,null,null,r,!1,n,i),e[Pc]=t.current,Uv(e.nodeType===8?e.parentNode:e),new Tk(t)};ha.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Be(188)):(e=Object.keys(e).join(","),Error(Be(268,e)));return e=CF(t),e=e===null?null:e.stateNode,e};ha.flushSync=function(e){return jh(e)};ha.hydrate=function(e,t,r){if(!m2(t))throw Error(Be(200));return g2(null,e,t,!0,r)};ha.hydrateRoot=function(e,t,r){if(!Pk(e))throw Error(Be(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",l=nV;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(l=r.onRecoverableError)),t=rV(t,null,e,1,r??null,i,!1,o,l),e[Pc]=t.current,Uv(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new f2(t)};ha.render=function(e,t,r){if(!m2(t))throw Error(Be(200));return g2(null,e,t,!1,r)};ha.unmountComponentAtNode=function(e){if(!m2(e))throw Error(Be(40));return e._reactRootContainer?(jh(function(){g2(null,null,e,!1,function(){e._reactRootContainer=null,e[Pc]=null})}),!0):!1};ha.unstable_batchedUpdates=_k;ha.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!m2(r))throw Error(Be(200));if(e==null||e._reactInternals===void 0)throw Error(Be(38));return g2(e,t,r,!1,n)};ha.version="18.3.1-next-f1338f8080-20240426";function iV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(iV)}catch(e){console.error(e)}}iV(),iF.exports=ha;var v2=iF.exports;const L0=Jh(v2),lee=q7({__proto__:null,default:L0},[v2]);var $I=v2;UA.createRoot=$I.createRoot,UA.hydrateRoot=$I.hydrateRoot;/**
 * @remix-run/router v1.16.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kr.apply(this,arguments)}var In;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(In||(In={}));const XI="popstate";function cee(e){e===void 0&&(e={});function t(n,i){let{pathname:o,search:l,hash:c}=n.location;return Kv("",{pathname:o,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Ih(i)}return dee(t,r,null,e)}function Kt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function uee(){return Math.random().toString(36).substr(2,8)}function KI(e,t){return{usr:e.state,key:e.key,idx:t}}function Kv(e,t,r,n){return r===void 0&&(r=null),Kr({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?hd(t):t,{state:r,key:t&&t.key||n||uee()})}function Ih(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function hd(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function dee(e,t,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:o=!1}=n,l=i.history,c=In.Pop,a=null,s=u();s==null&&(s=0,l.replaceState(Kr({},l.state,{idx:s}),""));function u(){return(l.state||{idx:null}).idx}function d(){c=In.Pop;let g=u(),v=g==null?null:g-s;s=g,a&&a({action:c,location:f.location,delta:v})}function h(g,v){c=In.Push;let x=Kv(f.location,g,v);s=u()+1;let y=KI(x,s),b=f.createHref(x);try{l.pushState(y,"",b)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(b)}o&&a&&a({action:c,location:f.location,delta:1})}function p(g,v){c=In.Replace;let x=Kv(f.location,g,v);s=u();let y=KI(x,s),b=f.createHref(x);l.replaceState(y,"",b),o&&a&&a({action:c,location:f.location,delta:0})}function m(g){let v=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof g=="string"?g:Ih(g);return x=x.replace(/ $/,"%20"),Kt(v,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,v)}let f={get action(){return c},get location(){return e(i,l)},listen(g){if(a)throw new Error("A history only accepts one active listener");return i.addEventListener(XI,d),a=g,()=>{i.removeEventListener(XI,d),a=null}},createHref(g){return t(i,g)},createURL:m,encodeLocation(g){let v=m(g);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:h,replace:p,go(g){return l.go(g)}};return f}var Hr;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Hr||(Hr={}));const hee=new Set(["lazy","caseSensitive","path","id","index","children"]);function pee(e){return e.index===!0}function OM(e,t,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),e.map((i,o)=>{let l=[...r,o],c=typeof i.id=="string"?i.id:l.join("-");if(Kt(i.index!==!0||!i.children,"Cannot specify children on an index route"),Kt(!n[c],'Found a route id collision on id "'+c+`".  Route id's must be globally unique within Data Router usages`),pee(i)){let a=Kr({},i,t(i),{id:c});return n[c]=a,a}else{let a=Kr({},i,t(i),{id:c,children:void 0});return n[c]=a,i.children&&(a.children=OM(i.children,t,l,n)),a}})}function Cf(e,t,r){r===void 0&&(r="/");let n=typeof t=="string"?hd(t):t,i=ag(n.pathname||"/",r);if(i==null)return null;let o=oV(e);mee(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let a=Mee(i);l=Eee(o[c],a)}return l}function fee(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],handle:r.handle}}function oV(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(o,l,c)=>{let a={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};a.relativePath.startsWith("/")&&(Kt(a.relativePath.startsWith(n),'Absolute route path "'+a.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),a.relativePath=a.relativePath.slice(n.length));let s=xc([n,a.relativePath]),u=r.concat(a);o.children&&o.children.length>0&&(Kt(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+s+'".')),oV(o.children,t,u,s)),!(o.path==null&&!o.index)&&t.push({path:s,score:_ee(s,o.index),routesMeta:u})};return e.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let a of aV(o.path))i(o,l,a)}),t}function aV(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let l=aV(n.join("/")),c=[];return c.push(...l.map(a=>a===""?o:[o,a].join("/"))),i&&c.push(...l),c.map(a=>e.startsWith("/")&&a===""?"/":a)}function mee(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:See(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const gee=/^:[\w-]+$/,vee=3,yee=2,bee=1,xee=10,wee=-2,QI=e=>e==="*";function _ee(e,t){let r=e.split("/"),n=r.length;return r.some(QI)&&(n+=wee),t&&(n+=yee),r.filter(i=>!QI(i)).reduce((i,o)=>i+(gee.test(o)?vee:o===""?bee:xee),n)}function See(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Eee(e,t){let{routesMeta:r}=e,n={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],a=l===r.length-1,s=i==="/"?t:t.slice(i.length)||"/",u=Cee({path:c.relativePath,caseSensitive:c.caseSensitive,end:a},s);if(!u)return null;Object.assign(n,u.params);let d=c.route;o.push({params:n,pathname:xc([i,u.pathname]),pathnameBase:kee(xc([i,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(i=xc([i,u.pathnameBase]))}return o}function Cee(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Aee(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce((s,u,d)=>{let{paramName:h,isOptional:p}=u;if(h==="*"){let f=c[d]||"";l=o.slice(0,o.length-f.length).replace(/(.)\/+$/,"$1")}const m=c[d];return p&&!m?s[h]=void 0:s[h]=(m||"").replace(/%2F/g,"/"),s},{}),pathname:o,pathnameBase:l,pattern:e}}function Aee(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),jm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,a)=>(n.push({paramName:c,isOptional:a!=null}),a?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Mee(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function ag(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function Tee(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?hd(e):e;return{pathname:r?r.startsWith("/")?r:Pee(r,t):t,search:Dee(n),hash:jee(i)}}function Pee(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function j3(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function sV(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function kk(e,t){let r=sV(e);return t?r.map((n,i)=>i===e.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Dk(e,t,r,n){n===void 0&&(n=!1);let i;typeof e=="string"?i=hd(e):(i=Kr({},e),Kt(!i.pathname||!i.pathname.includes("?"),j3("?","pathname","search",i)),Kt(!i.pathname||!i.pathname.includes("#"),j3("#","pathname","hash",i)),Kt(!i.search||!i.search.includes("#"),j3("#","search","hash",i)));let o=e===""||i.pathname==="",l=o?"/":i.pathname,c;if(l==null)c=r;else{let d=t.length-1;if(!n&&l.startsWith("..")){let h=l.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}c=d>=0?t[d]:"/"}let a=Tee(i,c),s=l&&l!=="/"&&l.endsWith("/"),u=(o||l===".")&&r.endsWith("/");return!a.pathname.endsWith("/")&&(s||u)&&(a.pathname+="/"),a}const xc=e=>e.join("/").replace(/\/\/+/g,"/"),kee=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Dee=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,jee=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;class jk{constructor(t,r,n,i){i===void 0&&(i=!1),this.status=t,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Ik(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const lV=["post","put","patch","delete"],Iee=new Set(lV),Oee=["get",...lV],Ree=new Set(Oee),zee=new Set([301,302,303,307,308]),Lee=new Set([307,308]),I3={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Nee={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Vg={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ok=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Bee=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),cV="remix-router-transitions";function Fee(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u",n=!r;Kt(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(e.mapRouteProperties)i=e.mapRouteProperties;else if(e.detectErrorBoundary){let ae=e.detectErrorBoundary;i=ve=>({hasErrorBoundary:ae(ve)})}else i=Bee;let o={},l=OM(e.routes,i,void 0,o),c,a=e.basename||"/",s=e.unstable_dataStrategy||Wee,u=Kr({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_partialHydration:!1,v7_prependBasename:!1,v7_relativeSplatPath:!1,unstable_skipActionErrorRevalidation:!1},e.future),d=null,h=new Set,p=null,m=null,f=null,g=e.hydrationData!=null,v=Cf(l,e.history.location,a),x=null;if(v==null){let ae=Aa(404,{pathname:e.history.location.pathname}),{matches:ve,route:Ae}=s6(l);v=ve,x={[Ae.id]:ae}}let y,b=v.some(ae=>ae.route.lazy),w=v.some(ae=>ae.route.loader);if(b)y=!1;else if(!w)y=!0;else if(u.v7_partialHydration){let ae=e.hydrationData?e.hydrationData.loaderData:null,ve=e.hydrationData?e.hydrationData.errors:null,Ae=Ie=>Ie.route.loader?typeof Ie.route.loader=="function"&&Ie.route.loader.hydrate===!0?!1:ae&&ae[Ie.route.id]!==void 0||ve&&ve[Ie.route.id]!==void 0:!0;if(ve){let Ie=v.findIndex(Ke=>ve[Ke.route.id]!==void 0);y=v.slice(0,Ie+1).every(Ae)}else y=v.every(Ae)}else y=e.hydrationData!=null;let _,S={historyAction:e.history.action,location:e.history.location,matches:v,initialized:y,navigation:I3,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||x,fetchers:new Map,blockers:new Map},E=In.Pop,A=!1,C,M=!1,T=new Map,k=null,P=!1,D=!1,I=[],O=[],j=new Map,N=0,R=-1,F=new Map,U=new Set,B=new Map,H=new Map,X=new Set,G=new Map,Z=new Map,J=!1;function ee(){if(d=e.history.listen(ae=>{let{action:ve,location:Ae,delta:Ie}=ae;if(J){J=!1;return}jm(Z.size===0||Ie!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ke=tt({currentLocation:S.location,nextLocation:Ae,historyAction:ve});if(Ke&&Ie!=null){J=!0,e.history.go(Ie*-1),He(Ke,{state:"blocked",location:Ae,proceed(){He(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),e.history.go(Ie)},reset(){let ut=new Map(S.blockers);ut.set(Ke,Vg),Q({blockers:ut})}});return}return De(ve,Ae)}),r){rte(t,T);let ae=()=>nte(t,T);t.addEventListener("pagehide",ae),k=()=>t.removeEventListener("pagehide",ae)}return S.initialized||De(In.Pop,S.location,{initialHydration:!0}),_}function q(){d&&d(),k&&k(),h.clear(),C&&C.abort(),S.fetchers.forEach((ae,ve)=>fe(ve)),S.blockers.forEach((ae,ve)=>st(ve))}function Y(ae){return h.add(ae),()=>h.delete(ae)}function Q(ae,ve){ve===void 0&&(ve={}),S=Kr({},S,ae);let Ae=[],Ie=[];u.v7_fetcherPersist&&S.fetchers.forEach((Ke,ut)=>{Ke.state==="idle"&&(X.has(ut)?Ie.push(ut):Ae.push(ut))}),[...h].forEach(Ke=>Ke(S,{deletedFetchers:Ie,unstable_viewTransitionOpts:ve.viewTransitionOpts,unstable_flushSync:ve.flushSync===!0})),u.v7_fetcherPersist&&(Ae.forEach(Ke=>S.fetchers.delete(Ke)),Ie.forEach(Ke=>fe(Ke)))}function ie(ae,ve,Ae){var Ie,Ke;let{flushSync:ut}=Ae===void 0?{}:Ae,dt=S.actionData!=null&&S.navigation.formMethod!=null&&ms(S.navigation.formMethod)&&S.navigation.state==="loading"&&((Ie=ae.state)==null?void 0:Ie._isRedirect)!==!0,it;ve.actionData?Object.keys(ve.actionData).length>0?it=ve.actionData:it=null:dt?it=S.actionData:it=null;let Nt=ve.loaderData?o6(S.loaderData,ve.loaderData,ve.matches||[],ve.errors):S.loaderData,Pt=S.blockers;Pt.size>0&&(Pt=new Map(Pt),Pt.forEach((pe,ue)=>Pt.set(ue,Vg)));let $=A===!0||S.navigation.formMethod!=null&&ms(S.navigation.formMethod)&&((Ke=ae.state)==null?void 0:Ke._isRedirect)!==!0;c&&(l=c,c=void 0),P||E===In.Pop||(E===In.Push?e.history.push(ae,ae.state):E===In.Replace&&e.history.replace(ae,ae.state));let me;if(E===In.Pop){let pe=T.get(S.location.pathname);pe&&pe.has(ae.pathname)?me={currentLocation:S.location,nextLocation:ae}:T.has(ae.pathname)&&(me={currentLocation:ae,nextLocation:S.location})}else if(M){let pe=T.get(S.location.pathname);pe?pe.add(ae.pathname):(pe=new Set([ae.pathname]),T.set(S.location.pathname,pe)),me={currentLocation:S.location,nextLocation:ae}}Q(Kr({},ve,{actionData:it,loaderData:Nt,historyAction:E,location:ae,initialized:!0,navigation:I3,revalidation:"idle",restoreScrollPosition:gt(ae,ve.matches||S.matches),preventScrollReset:$,blockers:Pt}),{viewTransitionOpts:me,flushSync:ut===!0}),E=In.Pop,A=!1,M=!1,P=!1,D=!1,I=[],O=[]}async function le(ae,ve){if(typeof ae=="number"){e.history.go(ae);return}let Ae=RM(S.location,S.matches,a,u.v7_prependBasename,ae,u.v7_relativeSplatPath,ve==null?void 0:ve.fromRouteId,ve==null?void 0:ve.relative),{path:Ie,submission:Ke,error:ut}=ZI(u.v7_normalizeFormMethod,!1,Ae,ve),dt=S.location,it=Kv(S.location,Ie,ve&&ve.state);it=Kr({},it,e.history.encodeLocation(it));let Nt=ve&&ve.replace!=null?ve.replace:void 0,Pt=In.Push;Nt===!0?Pt=In.Replace:Nt===!1||Ke!=null&&ms(Ke.formMethod)&&Ke.formAction===S.location.pathname+S.location.search&&(Pt=In.Replace);let $=ve&&"preventScrollReset"in ve?ve.preventScrollReset===!0:void 0,me=(ve&&ve.unstable_flushSync)===!0,pe=tt({currentLocation:dt,nextLocation:it,historyAction:Pt});if(pe){He(pe,{state:"blocked",location:it,proceed(){He(pe,{state:"proceeding",proceed:void 0,reset:void 0,location:it}),le(ae,ve)},reset(){let ue=new Map(S.blockers);ue.set(pe,Vg),Q({blockers:ue})}});return}return await De(Pt,it,{submission:Ke,pendingError:ut,preventScrollReset:$,replace:ve&&ve.replace,enableViewTransition:ve&&ve.unstable_viewTransition,flushSync:me})}function de(){if(Se(),Q({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){De(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}De(E||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function De(ae,ve,Ae){C&&C.abort(),C=null,E=ae,P=(Ae&&Ae.startUninterruptedRevalidation)===!0,Qe(S.location,S.matches),A=(Ae&&Ae.preventScrollReset)===!0,M=(Ae&&Ae.enableViewTransition)===!0;let Ie=c||l,Ke=Ae&&Ae.overrideNavigation,ut=Cf(Ie,ve,a),dt=(Ae&&Ae.flushSync)===!0;if(!ut){let pe=Aa(404,{pathname:ve.pathname}),{matches:ue,route:xe}=s6(Ie);ne(),ie(ve,{matches:ue,loaderData:{},errors:{[xe.id]:pe}},{flushSync:dt});return}if(S.initialized&&!D&&Kee(S.location,ve)&&!(Ae&&Ae.submission&&ms(Ae.submission.formMethod))){ie(ve,{matches:ut},{flushSync:dt});return}C=new AbortController;let it=fp(e.history,ve,C.signal,Ae&&Ae.submission),Nt;if(Ae&&Ae.pendingError)Nt=[sv(ut).route.id,{type:Hr.error,error:Ae.pendingError}];else if(Ae&&Ae.submission&&ms(Ae.submission.formMethod)){let pe=await Me(it,ve,Ae.submission,ut,{replace:Ae.replace,flushSync:dt});if(pe.shortCircuited)return;Nt=pe.pendingActionResult,Ke=O3(ve,Ae.submission),dt=!1,it=fp(e.history,it.url,it.signal)}let{shortCircuited:Pt,loaderData:$,errors:me}=await Ee(it,ve,ut,Ke,Ae&&Ae.submission,Ae&&Ae.fetcherSubmission,Ae&&Ae.replace,Ae&&Ae.initialHydration===!0,dt,Nt);Pt||(C=null,ie(ve,Kr({matches:ut},a6(Nt),{loaderData:$,errors:me})))}async function Me(ae,ve,Ae,Ie,Ke){Ke===void 0&&(Ke={}),Se();let ut=ete(ve,Ae);Q({navigation:ut},{flushSync:Ke.flushSync===!0});let dt,it=LM(Ie,ve);if(!it.route.action&&!it.route.lazy)dt={type:Hr.error,error:Aa(405,{method:ae.method,pathname:ve.pathname,routeId:it.route.id})};else if(dt=(await W("action",ae,[it],Ie))[0],ae.signal.aborted)return{shortCircuited:!0};if(rh(dt)){let Nt;return Ke&&Ke.replace!=null?Nt=Ke.replace:Nt=r6(dt.response.headers.get("Location"),new URL(ae.url),a)===S.location.pathname+S.location.search,await K(ae,dt,{submission:Ae,replace:Nt}),{shortCircuited:!0}}if(th(dt))throw Aa(400,{type:"defer-action"});if(Ra(dt)){let Nt=sv(Ie,it.route.id);return(Ke&&Ke.replace)!==!0&&(E=In.Push),{pendingActionResult:[Nt.route.id,dt]}}return{pendingActionResult:[it.route.id,dt]}}async function Ee(ae,ve,Ae,Ie,Ke,ut,dt,it,Nt,Pt){let $=Ie||O3(ve,Ke),me=Ke||ut||u6($),pe=c||l,[ue,xe]=JI(e.history,S,Ae,me,ve,u.v7_partialHydration&&it===!0,u.unstable_skipActionErrorRevalidation,D,I,O,X,B,U,pe,a,Pt);if(ne(zt=>!(Ae&&Ae.some(Yr=>Yr.route.id===zt))||ue&&ue.some(Yr=>Yr.route.id===zt)),R=++N,ue.length===0&&xe.length===0){let zt=Ce();return ie(ve,Kr({matches:Ae,loaderData:{},errors:Pt&&Ra(Pt[1])?{[Pt[0]]:Pt[1].error}:null},a6(Pt),zt?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Nt}),{shortCircuited:!0}}if(!P&&(!u.v7_partialHydration||!it)){xe.forEach(Yr=>{let ar=S.fetchers.get(Yr.key),bt=Hg(void 0,ar?ar.data:void 0);S.fetchers.set(Yr.key,bt)});let zt;Pt&&!Ra(Pt[1])?zt={[Pt[0]]:Pt[1].data}:S.actionData&&(Object.keys(S.actionData).length===0?zt=null:zt=S.actionData),Q(Kr({navigation:$},zt!==void 0?{actionData:zt}:{},xe.length>0?{fetchers:new Map(S.fetchers)}:{}),{flushSync:Nt})}xe.forEach(zt=>{j.has(zt.key)&&Ne(zt.key),zt.controller&&j.set(zt.key,zt.controller)});let ot=()=>xe.forEach(zt=>Ne(zt.key));C&&C.signal.addEventListener("abort",ot);let{loaderResults:yt,fetcherResults:Dt}=await se(S.matches,Ae,ue,xe,ae);if(ae.signal.aborted)return{shortCircuited:!0};C&&C.signal.removeEventListener("abort",ot),xe.forEach(zt=>j.delete(zt.key));let Bt=l6([...yt,...Dt]);if(Bt){if(Bt.idx>=ue.length){let zt=xe[Bt.idx-ue.length].key;U.add(zt)}return await K(ae,Bt.result,{replace:dt}),{shortCircuited:!0}}let{loaderData:ir,errors:Ft}=i6(S,Ae,ue,yt,Pt,xe,Dt,G);G.forEach((zt,Yr)=>{zt.subscribe(ar=>{(ar||zt.done)&&G.delete(Yr)})}),u.v7_partialHydration&&it&&S.errors&&Object.entries(S.errors).filter(zt=>{let[Yr]=zt;return!ue.some(ar=>ar.route.id===Yr)}).forEach(zt=>{let[Yr,ar]=zt;Ft=Object.assign(Ft||{},{[Yr]:ar})});let qt=Ce(),mn=Ue(R),ei=qt||mn||xe.length>0;return Kr({loaderData:ir,errors:Ft},ei?{fetchers:new Map(S.fetchers)}:{})}function Te(ae,ve,Ae,Ie){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");j.has(ae)&&Ne(ae);let Ke=(Ie&&Ie.unstable_flushSync)===!0,ut=c||l,dt=RM(S.location,S.matches,a,u.v7_prependBasename,Ae,u.v7_relativeSplatPath,ve,Ie==null?void 0:Ie.relative),it=Cf(ut,dt,a);if(!it){ce(ae,ve,Aa(404,{pathname:dt}),{flushSync:Ke});return}let{path:Nt,submission:Pt,error:$}=ZI(u.v7_normalizeFormMethod,!0,dt,Ie);if($){ce(ae,ve,$,{flushSync:Ke});return}let me=LM(it,Nt);if(A=(Ie&&Ie.preventScrollReset)===!0,Pt&&ms(Pt.formMethod)){$e(ae,ve,Nt,me,it,Ke,Pt);return}B.set(ae,{routeId:ve,path:Nt}),ze(ae,ve,Nt,me,it,Ke,Pt)}async function $e(ae,ve,Ae,Ie,Ke,ut,dt){if(Se(),B.delete(ae),!Ie.route.action&&!Ie.route.lazy){let bt=Aa(405,{method:dt.formMethod,pathname:Ae,routeId:ve});ce(ae,ve,bt,{flushSync:ut});return}let it=S.fetchers.get(ae);te(ae,tte(dt,it),{flushSync:ut});let Nt=new AbortController,Pt=fp(e.history,Ae,Nt.signal,dt);j.set(ae,Nt);let $=N,pe=(await W("action",Pt,[Ie],Ke))[0];if(Pt.signal.aborted){j.get(ae)===Nt&&j.delete(ae);return}if(u.v7_fetcherPersist&&X.has(ae)){if(rh(pe)||Ra(pe)){te(ae,uu(void 0));return}}else{if(rh(pe))if(j.delete(ae),R>$){te(ae,uu(void 0));return}else return U.add(ae),te(ae,Hg(dt)),K(Pt,pe,{fetcherSubmission:dt});if(Ra(pe)){ce(ae,ve,pe.error);return}}if(th(pe))throw Aa(400,{type:"defer-action"});let ue=S.navigation.location||S.location,xe=fp(e.history,ue,Nt.signal),ot=c||l,yt=S.navigation.state!=="idle"?Cf(ot,S.navigation.location,a):S.matches;Kt(yt,"Didn't find any matches after fetcher action");let Dt=++N;F.set(ae,Dt);let Bt=Hg(dt,pe.data);S.fetchers.set(ae,Bt);let[ir,Ft]=JI(e.history,S,yt,dt,ue,!1,u.unstable_skipActionErrorRevalidation,D,I,O,X,B,U,ot,a,[Ie.route.id,pe]);Ft.filter(bt=>bt.key!==ae).forEach(bt=>{let Il=bt.key,hp=S.fetchers.get(Il),Ol=Hg(void 0,hp?hp.data:void 0);S.fetchers.set(Il,Ol),j.has(Il)&&Ne(Il),bt.controller&&j.set(Il,bt.controller)}),Q({fetchers:new Map(S.fetchers)});let qt=()=>Ft.forEach(bt=>Ne(bt.key));Nt.signal.addEventListener("abort",qt);let{loaderResults:mn,fetcherResults:ei}=await se(S.matches,yt,ir,Ft,xe);if(Nt.signal.aborted)return;Nt.signal.removeEventListener("abort",qt),F.delete(ae),j.delete(ae),Ft.forEach(bt=>j.delete(bt.key));let zt=l6([...mn,...ei]);if(zt){if(zt.idx>=ir.length){let bt=Ft[zt.idx-ir.length].key;U.add(bt)}return K(xe,zt.result)}let{loaderData:Yr,errors:ar}=i6(S,S.matches,ir,mn,void 0,Ft,ei,G);if(S.fetchers.has(ae)){let bt=uu(pe.data);S.fetchers.set(ae,bt)}Ue(Dt),S.navigation.state==="loading"&&Dt>R?(Kt(E,"Expected pending action"),C&&C.abort(),ie(S.navigation.location,{matches:yt,loaderData:Yr,errors:ar,fetchers:new Map(S.fetchers)})):(Q({errors:ar,loaderData:o6(S.loaderData,Yr,yt,ar),fetchers:new Map(S.fetchers)}),D=!1)}async function ze(ae,ve,Ae,Ie,Ke,ut,dt){let it=S.fetchers.get(ae);te(ae,Hg(dt,it?it.data:void 0),{flushSync:ut});let Nt=new AbortController,Pt=fp(e.history,Ae,Nt.signal);j.set(ae,Nt);let $=N,pe=(await W("loader",Pt,[Ie],Ke))[0];if(th(pe)&&(pe=await pV(pe,Pt.signal,!0)||pe),j.get(ae)===Nt&&j.delete(ae),!Pt.signal.aborted){if(X.has(ae)){te(ae,uu(void 0));return}if(rh(pe))if(R>$){te(ae,uu(void 0));return}else{U.add(ae),await K(Pt,pe);return}if(Ra(pe)){ce(ae,ve,pe.error);return}Kt(!th(pe),"Unhandled fetcher deferred data"),te(ae,uu(pe.data))}}async function K(ae,ve,Ae){let{submission:Ie,fetcherSubmission:Ke,replace:ut}=Ae===void 0?{}:Ae;ve.response.headers.has("X-Remix-Revalidate")&&(D=!0);let dt=ve.response.headers.get("Location");Kt(dt,"Expected a Location header on the redirect Response"),dt=r6(dt,new URL(ae.url),a);let it=Kv(S.location,dt,{_isRedirect:!0});if(r){let ue=!1;if(ve.response.headers.has("X-Remix-Reload-Document"))ue=!0;else if(Ok.test(dt)){const xe=e.history.createURL(dt);ue=xe.origin!==t.location.origin||ag(xe.pathname,a)==null}if(ue){ut?t.location.replace(dt):t.location.assign(dt);return}}C=null;let Nt=ut===!0?In.Replace:In.Push,{formMethod:Pt,formAction:$,formEncType:me}=S.navigation;!Ie&&!Ke&&Pt&&$&&me&&(Ie=u6(S.navigation));let pe=Ie||Ke;if(Lee.has(ve.response.status)&&pe&&ms(pe.formMethod))await De(Nt,it,{submission:Kr({},pe,{formAction:dt}),preventScrollReset:A});else{let ue=O3(it,Ie);await De(Nt,it,{overrideNavigation:ue,fetcherSubmission:Ke,preventScrollReset:A})}}async function W(ae,ve,Ae,Ie){try{let Ke=await Gee(s,ae,ve,Ae,Ie,o,i);return await Promise.all(Ke.map((ut,dt)=>{if(Qee(ut)){let it=ut.result;return{type:Hr.redirect,response:$ee(it,ve,Ae[dt].route.id,Ie,a,u.v7_relativeSplatPath)}}return Yee(ut)}))}catch(Ke){return Ae.map(()=>({type:Hr.error,error:Ke}))}}async function se(ae,ve,Ae,Ie,Ke){let[ut,...dt]=await Promise.all([Ae.length?W("loader",Ke,Ae,ve):[],...Ie.map(it=>{if(it.matches&&it.match&&it.controller){let Nt=fp(e.history,it.path,it.controller.signal);return W("loader",Nt,[it.match],it.matches).then(Pt=>Pt[0])}else return Promise.resolve({type:Hr.error,error:Aa(404,{pathname:it.path})})})]);return await Promise.all([c6(ae,Ae,ut,ut.map(()=>Ke.signal),!1,S.loaderData),c6(ae,Ie.map(it=>it.match),dt,Ie.map(it=>it.controller?it.controller.signal:null),!0)]),{loaderResults:ut,fetcherResults:dt}}function Se(){D=!0,I.push(...ne()),B.forEach((ae,ve)=>{j.has(ve)&&(O.push(ve),Ne(ve))})}function te(ae,ve,Ae){Ae===void 0&&(Ae={}),S.fetchers.set(ae,ve),Q({fetchers:new Map(S.fetchers)},{flushSync:(Ae&&Ae.flushSync)===!0})}function ce(ae,ve,Ae,Ie){Ie===void 0&&(Ie={});let Ke=sv(S.matches,ve);fe(ae),Q({errors:{[Ke.route.id]:Ae},fetchers:new Map(S.fetchers)},{flushSync:(Ie&&Ie.flushSync)===!0})}function we(ae){return u.v7_fetcherPersist&&(H.set(ae,(H.get(ae)||0)+1),X.has(ae)&&X.delete(ae)),S.fetchers.get(ae)||Nee}function fe(ae){let ve=S.fetchers.get(ae);j.has(ae)&&!(ve&&ve.state==="loading"&&F.has(ae))&&Ne(ae),B.delete(ae),F.delete(ae),U.delete(ae),X.delete(ae),S.fetchers.delete(ae)}function he(ae){if(u.v7_fetcherPersist){let ve=(H.get(ae)||0)-1;ve<=0?(H.delete(ae),X.add(ae)):H.set(ae,ve)}else fe(ae);Q({fetchers:new Map(S.fetchers)})}function Ne(ae){let ve=j.get(ae);Kt(ve,"Expected fetch controller: "+ae),ve.abort(),j.delete(ae)}function Xe(ae){for(let ve of ae){let Ae=we(ve),Ie=uu(Ae.data);S.fetchers.set(ve,Ie)}}function Ce(){let ae=[],ve=!1;for(let Ae of U){let Ie=S.fetchers.get(Ae);Kt(Ie,"Expected fetcher: "+Ae),Ie.state==="loading"&&(U.delete(Ae),ae.push(Ae),ve=!0)}return Xe(ae),ve}function Ue(ae){let ve=[];for(let[Ae,Ie]of F)if(Ie<ae){let Ke=S.fetchers.get(Ae);Kt(Ke,"Expected fetcher: "+Ae),Ke.state==="loading"&&(Ne(Ae),F.delete(Ae),ve.push(Ae))}return Xe(ve),ve.length>0}function Ge(ae,ve){let Ae=S.blockers.get(ae)||Vg;return Z.get(ae)!==ve&&Z.set(ae,ve),Ae}function st(ae){S.blockers.delete(ae),Z.delete(ae)}function He(ae,ve){let Ae=S.blockers.get(ae)||Vg;Kt(Ae.state==="unblocked"&&ve.state==="blocked"||Ae.state==="blocked"&&ve.state==="blocked"||Ae.state==="blocked"&&ve.state==="proceeding"||Ae.state==="blocked"&&ve.state==="unblocked"||Ae.state==="proceeding"&&ve.state==="unblocked","Invalid blocker state transition: "+Ae.state+" -> "+ve.state);let Ie=new Map(S.blockers);Ie.set(ae,ve),Q({blockers:Ie})}function tt(ae){let{currentLocation:ve,nextLocation:Ae,historyAction:Ie}=ae;if(Z.size===0)return;Z.size>1&&jm(!1,"A router only supports one blocker at a time");let Ke=Array.from(Z.entries()),[ut,dt]=Ke[Ke.length-1],it=S.blockers.get(ut);if(!(it&&it.state==="proceeding")&&dt({currentLocation:ve,nextLocation:Ae,historyAction:Ie}))return ut}function ne(ae){let ve=[];return G.forEach((Ae,Ie)=>{(!ae||ae(Ie))&&(Ae.cancel(),ve.push(Ie),G.delete(Ie))}),ve}function ye(ae,ve,Ae){if(p=ae,f=ve,m=Ae||null,!g&&S.navigation===I3){g=!0;let Ie=gt(S.location,S.matches);Ie!=null&&Q({restoreScrollPosition:Ie})}return()=>{p=null,f=null,m=null}}function Pe(ae,ve){return m&&m(ae,ve.map(Ie=>fee(Ie,S.loaderData)))||ae.key}function Qe(ae,ve){if(p&&f){let Ae=Pe(ae,ve);p[Ae]=f()}}function gt(ae,ve){if(p){let Ae=Pe(ae,ve),Ie=p[Ae];if(typeof Ie=="number")return Ie}return null}function Xt(ae){o={},c=OM(ae,i,void 0,o)}return _={get basename(){return a},get future(){return u},get state(){return S},get routes(){return l},get window(){return t},initialize:ee,subscribe:Y,enableScrollRestoration:ye,navigate:le,fetch:Te,revalidate:de,createHref:ae=>e.history.createHref(ae),encodeLocation:ae=>e.history.encodeLocation(ae),getFetcher:we,deleteFetcher:he,dispose:q,getBlocker:Ge,deleteBlocker:st,_internalFetchControllers:j,_internalActiveDeferreds:G,_internalSetRoutes:Xt},_}function Uee(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function RM(e,t,r,n,i,o,l,c){let a,s;if(l){a=[];for(let d of t)if(a.push(d),d.route.id===l){s=d;break}}else a=t,s=t[t.length-1];let u=Dk(i||".",kk(a,o),ag(e.pathname,r)||e.pathname,c==="path");return i==null&&(u.search=e.search,u.hash=e.hash),(i==null||i===""||i===".")&&s&&s.route.index&&!Rk(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(u.pathname=u.pathname==="/"?r:xc([r,u.pathname])),Ih(u)}function ZI(e,t,r,n){if(!n||!Uee(n))return{path:r};if(n.formMethod&&!Jee(n.formMethod))return{path:r,error:Aa(405,{method:n.formMethod})};let i=()=>({path:r,error:Aa(400,{type:"invalid-body"})}),o=n.formMethod||"get",l=e?o.toUpperCase():o.toLowerCase(),c=dV(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!ms(l))return i();let h=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((p,m)=>{let[f,g]=m;return""+p+f+"="+g+`
`},""):String(n.body);return{path:r,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:void 0,text:h}}}else if(n.formEncType==="application/json"){if(!ms(l))return i();try{let h=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:l,formAction:c,formEncType:n.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Kt(typeof FormData=="function","FormData is not available in this environment");let a,s;if(n.formData)a=zM(n.formData),s=n.formData;else if(n.body instanceof FormData)a=zM(n.body),s=n.body;else if(n.body instanceof URLSearchParams)a=n.body,s=n6(a);else if(n.body==null)a=new URLSearchParams,s=new FormData;else try{a=new URLSearchParams(n.body),s=n6(a)}catch{return i()}let u={formMethod:l,formAction:c,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:s,json:void 0,text:void 0};if(ms(u.formMethod))return{path:r,submission:u};let d=hd(r);return t&&d.search&&Rk(d.search)&&a.append("index",""),d.search="?"+a,{path:Ih(d),submission:u}}function Vee(e,t){let r=e;if(t){let n=e.findIndex(i=>i.route.id===t);n>=0&&(r=e.slice(0,n))}return r}function JI(e,t,r,n,i,o,l,c,a,s,u,d,h,p,m,f){let g=f?Ra(f[1])?f[1].error:f[1].data:void 0,v=e.createURL(t.location),x=e.createURL(i),y=f&&Ra(f[1])?f[0]:void 0,b=y?Vee(r,y):r,w=f?f[1].statusCode:void 0,_=l&&w&&w>=400,S=b.filter((A,C)=>{let{route:M}=A;if(M.lazy)return!0;if(M.loader==null)return!1;if(o)return typeof M.loader!="function"||M.loader.hydrate?!0:t.loaderData[M.id]===void 0&&(!t.errors||t.errors[M.id]===void 0);if(Hee(t.loaderData,t.matches[C],A)||a.some(P=>P===A.route.id))return!0;let T=t.matches[C],k=A;return e6(A,Kr({currentUrl:v,currentParams:T.params,nextUrl:x,nextParams:k.params},n,{actionResult:g,unstable_actionStatus:w,defaultShouldRevalidate:_?!1:c||v.pathname+v.search===x.pathname+x.search||v.search!==x.search||uV(T,k)}))}),E=[];return d.forEach((A,C)=>{if(o||!r.some(D=>D.route.id===A.routeId)||u.has(C))return;let M=Cf(p,A.path,m);if(!M){E.push({key:C,routeId:A.routeId,path:A.path,matches:null,match:null,controller:null});return}let T=t.fetchers.get(C),k=LM(M,A.path),P=!1;h.has(C)?P=!1:s.includes(C)?P=!0:T&&T.state!=="idle"&&T.data===void 0?P=c:P=e6(k,Kr({currentUrl:v,currentParams:t.matches[t.matches.length-1].params,nextUrl:x,nextParams:r[r.length-1].params},n,{actionResult:g,unstable_actionStatus:w,defaultShouldRevalidate:_?!1:c})),P&&E.push({key:C,routeId:A.routeId,path:A.path,matches:M,match:k,controller:new AbortController})}),[S,E]}function Hee(e,t,r){let n=!t||r.route.id!==t.route.id,i=e[r.route.id]===void 0;return n||i}function uV(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function e6(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}async function t6(e,t,r){if(!e.lazy)return;let n=await e.lazy();if(!e.lazy)return;let i=r[e.id];Kt(i,"No route found in manifest");let o={};for(let l in n){let a=i[l]!==void 0&&l!=="hasErrorBoundary";jm(!a,'Route "'+i.id+'" has a static property "'+l+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+l+'" will be ignored.')),!a&&!hee.has(l)&&(o[l]=n[l])}Object.assign(i,o),Object.assign(i,Kr({},t(i),{lazy:void 0}))}function Wee(e){return Promise.all(e.matches.map(t=>t.resolve()))}async function Gee(e,t,r,n,i,o,l,c){let a=n.reduce((d,h)=>d.add(h.route.id),new Set),s=new Set,u=await e({matches:i.map(d=>{let h=a.has(d.route.id);return Kr({},d,{shouldLoad:h,resolve:m=>(s.add(d.route.id),h?qee(t,r,d,o,l,m,c):Promise.resolve({type:Hr.data,result:void 0}))})}),request:r,params:i[0].params,context:c});return i.forEach(d=>Kt(s.has(d.route.id),'`match.resolve()` was not called for route id "'+d.route.id+'". You must call `match.resolve()` on every match passed to `dataStrategy` to ensure all routes are properly loaded.')),u.filter((d,h)=>a.has(i[h].route.id))}async function qee(e,t,r,n,i,o,l){let c,a,s=u=>{let d,h=new Promise((f,g)=>d=g);a=()=>d(),t.signal.addEventListener("abort",a);let p=f=>typeof u!="function"?Promise.reject(new Error("You cannot call the handler for a route which defines a boolean "+('"'+e+'" [routeId: '+r.route.id+"]"))):u({request:t,params:r.params,context:l},...f!==void 0?[f]:[]),m;return o?m=o(f=>p(f)):m=(async()=>{try{return{type:"data",result:await p()}}catch(f){return{type:"error",result:f}}})(),Promise.race([m,h])};try{let u=r.route[e];if(r.route.lazy)if(u){let d,[h]=await Promise.all([s(u).catch(p=>{d=p}),t6(r.route,i,n)]);if(d!==void 0)throw d;c=h}else if(await t6(r.route,i,n),u=r.route[e],u)c=await s(u);else if(e==="action"){let d=new URL(t.url),h=d.pathname+d.search;throw Aa(405,{method:t.method,pathname:h,routeId:r.route.id})}else return{type:Hr.data,result:void 0};else if(u)c=await s(u);else{let d=new URL(t.url),h=d.pathname+d.search;throw Aa(404,{pathname:h})}Kt(c.result!==void 0,"You defined "+(e==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+e+"` ")+"function. Please return a value or `null`.")}catch(u){return{type:Hr.error,result:u}}finally{a&&t.signal.removeEventListener("abort",a)}return c}async function Yee(e){let{result:t,type:r,status:n}=e;if(hV(t)){let l;try{let c=t.headers.get("Content-Type");c&&/\bapplication\/json\b/.test(c)?t.body==null?l=null:l=await t.json():l=await t.text()}catch(c){return{type:Hr.error,error:c}}return r===Hr.error?{type:Hr.error,error:new jk(t.status,t.statusText,l),statusCode:t.status,headers:t.headers}:{type:Hr.data,data:l,statusCode:t.status,headers:t.headers}}if(r===Hr.error)return{type:Hr.error,error:t,statusCode:Ik(t)?t.status:n};if(Zee(t)){var i,o;return{type:Hr.deferred,deferredData:t,statusCode:(i=t.init)==null?void 0:i.status,headers:((o=t.init)==null?void 0:o.headers)&&new Headers(t.init.headers)}}return{type:Hr.data,data:t,statusCode:n}}function $ee(e,t,r,n,i,o){let l=e.headers.get("Location");if(Kt(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Ok.test(l)){let c=n.slice(0,n.findIndex(a=>a.route.id===r)+1);l=RM(new URL(t.url),c,i,!0,l,o),e.headers.set("Location",l)}return e}function r6(e,t,r){if(Ok.test(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),o=ag(i.pathname,r)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function fp(e,t,r,n){let i=e.createURL(dV(t)).toString(),o={signal:r};if(n&&ms(n.formMethod)){let{formMethod:l,formEncType:c}=n;o.method=l.toUpperCase(),c==="application/json"?(o.headers=new Headers({"Content-Type":c}),o.body=JSON.stringify(n.json)):c==="text/plain"?o.body=n.text:c==="application/x-www-form-urlencoded"&&n.formData?o.body=zM(n.formData):o.body=n.formData}return new Request(i,o)}function zM(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function n6(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function Xee(e,t,r,n,i,o){let l={},c=null,a,s=!1,u={},d=n&&Ra(n[1])?n[1].error:void 0;return r.forEach((h,p)=>{let m=t[p].route.id;if(Kt(!rh(h),"Cannot handle redirect results in processLoaderData"),Ra(h)){let f=h.error;d!==void 0&&(f=d,d=void 0),c=c||{};{let g=sv(e,m);c[g.route.id]==null&&(c[g.route.id]=f)}l[m]=void 0,s||(s=!0,a=Ik(h.error)?h.error.status:500),h.headers&&(u[m]=h.headers)}else th(h)?(i.set(m,h.deferredData),l[m]=h.deferredData.data,h.statusCode!=null&&h.statusCode!==200&&!s&&(a=h.statusCode),h.headers&&(u[m]=h.headers)):(l[m]=h.data,h.statusCode&&h.statusCode!==200&&!s&&(a=h.statusCode),h.headers&&(u[m]=h.headers))}),d!==void 0&&n&&(c={[n[0]]:d},l[n[0]]=void 0),{loaderData:l,errors:c,statusCode:a||200,loaderHeaders:u}}function i6(e,t,r,n,i,o,l,c){let{loaderData:a,errors:s}=Xee(t,r,n,i,c);for(let u=0;u<o.length;u++){let{key:d,match:h,controller:p}=o[u];Kt(l!==void 0&&l[u]!==void 0,"Did not find corresponding fetcher result");let m=l[u];if(!(p&&p.signal.aborted))if(Ra(m)){let f=sv(e.matches,h==null?void 0:h.route.id);s&&s[f.route.id]||(s=Kr({},s,{[f.route.id]:m.error})),e.fetchers.delete(d)}else if(rh(m))Kt(!1,"Unhandled fetcher revalidation redirect");else if(th(m))Kt(!1,"Unhandled fetcher deferred data");else{let f=uu(m.data);e.fetchers.set(d,f)}}return{loaderData:a,errors:s}}function o6(e,t,r,n){let i=Kr({},t);for(let o of r){let l=o.route.id;if(t.hasOwnProperty(l)?t[l]!==void 0&&(i[l]=t[l]):e[l]!==void 0&&o.route.loader&&(i[l]=e[l]),n&&n.hasOwnProperty(l))break}return i}function a6(e){return e?Ra(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function sv(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function s6(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Aa(e,t){let{pathname:r,routeId:n,method:i,type:o}=t===void 0?{}:t,l="Unknown Server Error",c="Unknown @remix-run/router error";return e===400?(l="Bad Request",i&&r&&n?c="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":o==="defer-action"?c="defer() is not supported in actions":o==="invalid-body"&&(c="Unable to encode submission body")):e===403?(l="Forbidden",c='Route "'+n+'" does not match URL "'+r+'"'):e===404?(l="Not Found",c='No route matches URL "'+r+'"'):e===405&&(l="Method Not Allowed",i&&r&&n?c="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(c='Invalid request method "'+i.toUpperCase()+'"')),new jk(e||500,l,new Error(c),!0)}function l6(e){for(let t=e.length-1;t>=0;t--){let r=e[t];if(rh(r))return{result:r,idx:t}}}function dV(e){let t=typeof e=="string"?hd(e):e;return Ih(Kr({},t,{hash:""}))}function Kee(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function Qee(e){return hV(e.result)&&zee.has(e.result.status)}function th(e){return e.type===Hr.deferred}function Ra(e){return e.type===Hr.error}function rh(e){return(e&&e.type)===Hr.redirect}function Zee(e){let t=e;return t&&typeof t=="object"&&typeof t.data=="object"&&typeof t.subscribe=="function"&&typeof t.cancel=="function"&&typeof t.resolveData=="function"}function hV(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function Jee(e){return Ree.has(e.toLowerCase())}function ms(e){return Iee.has(e.toLowerCase())}async function c6(e,t,r,n,i,o){for(let l=0;l<r.length;l++){let c=r[l],a=t[l];if(!a)continue;let s=e.find(d=>d.route.id===a.route.id),u=s!=null&&!uV(s,a)&&(o&&o[a.route.id])!==void 0;if(th(c)&&(i||u)){let d=n[l];Kt(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await pV(c,d,i).then(h=>{h&&(r[l]=h||r[l])})}}}async function pV(e,t,r){if(r===void 0&&(r=!1),!await e.deferredData.resolveData(t)){if(r)try{return{type:Hr.data,data:e.deferredData.unwrappedData}}catch(i){return{type:Hr.error,error:i}}return{type:Hr.data,data:e.deferredData.data}}}function Rk(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function LM(e,t){let r=typeof t=="string"?hd(t).search:t.search;if(e[e.length-1].route.index&&Rk(r||""))return e[e.length-1];let n=sV(e);return n[n.length-1]}function u6(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:o,json:l}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(l!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:l,text:void 0}}}function O3(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function ete(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function Hg(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function tte(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function uu(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function rte(e,t){try{let r=e.sessionStorage.getItem(cV);if(r){let n=JSON.parse(r);for(let[i,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function nte(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(cV,JSON.stringify(r))}catch(n){jm(!1,"Failed to save applied view transitions in sessionStorage ("+n+").")}}}/**
 * React Router v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tw(){return Tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tw.apply(this,arguments)}const y2=V.createContext(null),fV=V.createContext(null),rp=V.createContext(null),zk=V.createContext(null),pd=V.createContext({outlet:null,matches:[],isDataRoute:!1}),mV=V.createContext(null);function ite(e,t){let{relative:r}=t===void 0?{}:t;Ny()||Kt(!1);let{basename:n,navigator:i}=V.useContext(rp),{hash:o,pathname:l,search:c}=vV(e,{relative:r}),a=l;return n!=="/"&&(a=l==="/"?n:xc([n,l])),i.createHref({pathname:a,search:c,hash:o})}function Ny(){return V.useContext(zk)!=null}function b2(){return Ny()||Kt(!1),V.useContext(zk).location}function gV(e){V.useContext(rp).static||V.useLayoutEffect(e)}function By(){let{isDataRoute:e}=V.useContext(pd);return e?yte():ote()}function ote(){Ny()||Kt(!1);let e=V.useContext(y2),{basename:t,future:r,navigator:n}=V.useContext(rp),{matches:i}=V.useContext(pd),{pathname:o}=b2(),l=JSON.stringify(kk(i,r.v7_relativeSplatPath)),c=V.useRef(!1);return gV(()=>{c.current=!0}),V.useCallback(function(s,u){if(u===void 0&&(u={}),!c.current)return;if(typeof s=="number"){n.go(s);return}let d=Dk(s,JSON.parse(l),o,u.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:xc([t,d.pathname])),(u.replace?n.replace:n.push)(d,u.state,u)},[t,n,l,o,e])}const ate=V.createContext(null);function ste(e){let t=V.useContext(pd).outlet;return t&&V.createElement(ate.Provider,{value:e},t)}function vV(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=V.useContext(rp),{matches:i}=V.useContext(pd),{pathname:o}=b2(),l=JSON.stringify(kk(i,n.v7_relativeSplatPath));return V.useMemo(()=>Dk(e,JSON.parse(l),o,r==="path"),[e,l,o,r])}function lte(e,t,r,n){Ny()||Kt(!1);let{navigator:i}=V.useContext(rp),{matches:o}=V.useContext(pd),l=o[o.length-1],c=l?l.params:{};l&&l.pathname;let a=l?l.pathnameBase:"/";l&&l.route;let s=b2(),u;u=s;let d=u.pathname||"/",h=d;if(a!=="/"){let f=a.replace(/^\//,"").split("/");h="/"+d.replace(/^\//,"").split("/").slice(f.length).join("/")}let p=Cf(e,{pathname:h});return pte(p&&p.map(f=>Object.assign({},f,{params:Object.assign({},c,f.params),pathname:xc([a,i.encodeLocation?i.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?a:xc([a,i.encodeLocation?i.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),o,r,n)}function cte(){let e=vte(),t=Ik(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),r?V.createElement("pre",{style:i},r):null,null)}const ute=V.createElement(cte,null);class dte extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?V.createElement(pd.Provider,{value:this.props.routeContext},V.createElement(mV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function hte(e){let{routeContext:t,match:r,children:n}=e,i=V.useContext(y2);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),V.createElement(pd.Provider,{value:t},n)}function pte(e,t,r,n){var i;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var o;if((o=r)!=null&&o.errors)e=r.matches;else return null}let l=e,c=(i=r)==null?void 0:i.errors;if(c!=null){let u=l.findIndex(d=>d.route.id&&(c==null?void 0:c[d.route.id])!==void 0);u>=0||Kt(!1),l=l.slice(0,Math.min(l.length,u+1))}let a=!1,s=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<l.length;u++){let d=l[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(s=u),d.route.id){let{loaderData:h,errors:p}=r,m=d.route.loader&&h[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){a=!0,s>=0?l=l.slice(0,s+1):l=[l[0]];break}}}return l.reduceRight((u,d,h)=>{let p,m=!1,f=null,g=null;r&&(p=c&&d.route.id?c[d.route.id]:void 0,f=d.route.errorElement||ute,a&&(s<0&&h===0?(bte("route-fallback"),m=!0,g=null):s===h&&(m=!0,g=d.route.hydrateFallbackElement||null)));let v=t.concat(l.slice(0,h+1)),x=()=>{let y;return p?y=f:m?y=g:d.route.Component?y=V.createElement(d.route.Component,null):d.route.element?y=d.route.element:y=u,V.createElement(hte,{match:d,routeContext:{outlet:u,matches:v,isDataRoute:r!=null},children:y})};return r&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?V.createElement(dte,{location:r.location,revalidation:r.revalidation,component:f,error:p,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var yV=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(yV||{}),Pw=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Pw||{});function fte(e){let t=V.useContext(y2);return t||Kt(!1),t}function mte(e){let t=V.useContext(fV);return t||Kt(!1),t}function gte(e){let t=V.useContext(pd);return t||Kt(!1),t}function bV(e){let t=gte(),r=t.matches[t.matches.length-1];return r.route.id||Kt(!1),r.route.id}function vte(){var e;let t=V.useContext(mV),r=mte(Pw.UseRouteError),n=bV(Pw.UseRouteError);return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function yte(){let{router:e}=fte(yV.UseNavigateStable),t=bV(Pw.UseNavigateStable),r=V.useRef(!1);return gV(()=>{r.current=!0}),V.useCallback(function(i,o){o===void 0&&(o={}),r.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,Tw({fromRouteId:t},o)))},[e,t])}const d6={};function bte(e,t,r){d6[e]||(d6[e]=!0)}function xte(e){return ste(e.context)}function wte(e){let{basename:t="/",children:r=null,location:n,navigationType:i=In.Pop,navigator:o,static:l=!1,future:c}=e;Ny()&&Kt(!1);let a=t.replace(/^\/*/,"/"),s=V.useMemo(()=>({basename:a,navigator:o,static:l,future:Tw({v7_relativeSplatPath:!1},c)}),[a,c,o,l]);typeof n=="string"&&(n=hd(n));let{pathname:u="/",search:d="",hash:h="",state:p=null,key:m="default"}=n,f=V.useMemo(()=>{let g=ag(u,a);return g==null?null:{location:{pathname:g,search:d,hash:h,state:p,key:m},navigationType:i}},[a,u,d,h,p,m,i]);return f==null?null:V.createElement(rp.Provider,{value:s},V.createElement(zk.Provider,{children:r,value:f}))}new Promise(()=>{});function _te(e){let t={hasErrorBoundary:e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&Object.assign(t,{element:V.createElement(e.Component),Component:void 0}),e.HydrateFallback&&Object.assign(t,{hydrateFallbackElement:V.createElement(e.HydrateFallback),HydrateFallback:void 0}),e.ErrorBoundary&&Object.assign(t,{errorElement:V.createElement(e.ErrorBoundary),ErrorBoundary:void 0}),t}/**
 * React Router DOM v6.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qv(){return Qv=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Qv.apply(this,arguments)}function Ste(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function Ete(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Cte(e,t){return e.button===0&&(!t||t==="_self")&&!Ete(e)}const Ate=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],Mte="6";try{window.__reactRouterVersion=Mte}catch{}function Tte(e,t){return Fee({basename:void 0,future:Qv({},void 0,{v7_prependBasename:!0}),history:cee({window:void 0}),hydrationData:Pte(),routes:e,mapRouteProperties:_te,unstable_dataStrategy:void 0,window:void 0}).initialize()}function Pte(){var e;let t=(e=window)==null?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Qv({},t,{errors:kte(t.errors)})),t}function kte(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new jk(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let l=new o(i.message);l.stack="",r[n]=l}catch{}}if(r[n]==null){let o=new Error(i.message);o.stack="",r[n]=o}}else r[n]=i;return r}const Dte=V.createContext({isTransitioning:!1}),jte=V.createContext(new Map),Ite="startTransition",h6=nw[Ite],Ote="flushSync",p6=lee[Ote];function Rte(e){h6?h6(e):e()}function Wg(e){p6?p6(e):e()}class zte{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}}function Lte(e){let{fallbackElement:t,router:r,future:n}=e,[i,o]=V.useState(r.state),[l,c]=V.useState(),[a,s]=V.useState({isTransitioning:!1}),[u,d]=V.useState(),[h,p]=V.useState(),[m,f]=V.useState(),g=V.useRef(new Map),{v7_startTransition:v}=n||{},x=V.useCallback(S=>{v?Rte(S):S()},[v]),y=V.useCallback((S,E)=>{let{deletedFetchers:A,unstable_flushSync:C,unstable_viewTransitionOpts:M}=E;A.forEach(k=>g.current.delete(k)),S.fetchers.forEach((k,P)=>{k.data!==void 0&&g.current.set(P,k.data)});let T=r.window==null||r.window.document==null||typeof r.window.document.startViewTransition!="function";if(!M||T){C?Wg(()=>o(S)):x(()=>o(S));return}if(C){Wg(()=>{h&&(u&&u.resolve(),h.skipTransition()),s({isTransitioning:!0,flushSync:!0,currentLocation:M.currentLocation,nextLocation:M.nextLocation})});let k=r.window.document.startViewTransition(()=>{Wg(()=>o(S))});k.finished.finally(()=>{Wg(()=>{d(void 0),p(void 0),c(void 0),s({isTransitioning:!1})})}),Wg(()=>p(k));return}h?(u&&u.resolve(),h.skipTransition(),f({state:S,currentLocation:M.currentLocation,nextLocation:M.nextLocation})):(c(S),s({isTransitioning:!0,flushSync:!1,currentLocation:M.currentLocation,nextLocation:M.nextLocation}))},[r.window,h,u,g,x]);V.useLayoutEffect(()=>r.subscribe(y),[r,y]),V.useEffect(()=>{a.isTransitioning&&!a.flushSync&&d(new zte)},[a]),V.useEffect(()=>{if(u&&l&&r.window){let S=l,E=u.promise,A=r.window.document.startViewTransition(async()=>{x(()=>o(S)),await E});A.finished.finally(()=>{d(void 0),p(void 0),c(void 0),s({isTransitioning:!1})}),p(A)}},[x,l,u,r.window]),V.useEffect(()=>{u&&l&&i.location.key===l.location.key&&u.resolve()},[u,h,i.location,l]),V.useEffect(()=>{!a.isTransitioning&&m&&(c(m.state),s({isTransitioning:!0,flushSync:!1,currentLocation:m.currentLocation,nextLocation:m.nextLocation}),f(void 0))},[a.isTransitioning,m]),V.useEffect(()=>{},[]);let b=V.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:S=>r.navigate(S),push:(S,E,A)=>r.navigate(S,{state:E,preventScrollReset:A==null?void 0:A.preventScrollReset}),replace:(S,E,A)=>r.navigate(S,{replace:!0,state:E,preventScrollReset:A==null?void 0:A.preventScrollReset})}),[r]),w=r.basename||"/",_=V.useMemo(()=>({router:r,navigator:b,static:!1,basename:w}),[r,b,w]);return V.createElement(V.Fragment,null,V.createElement(y2.Provider,{value:_},V.createElement(fV.Provider,{value:i},V.createElement(jte.Provider,{value:g.current},V.createElement(Dte.Provider,{value:a},V.createElement(wte,{basename:w,location:i.location,navigationType:i.historyAction,navigator:b,future:{v7_relativeSplatPath:r.future.v7_relativeSplatPath}},i.initialized||r.future.v7_partialHydration?V.createElement(Nte,{routes:r.routes,future:r.future,state:i}):t))))),null)}function Nte(e){let{routes:t,future:r,state:n}=e;return lte(t,void 0,n,r)}const Bte=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fte=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Kf=V.forwardRef(function(t,r){let{onClick:n,relative:i,reloadDocument:o,replace:l,state:c,target:a,to:s,preventScrollReset:u,unstable_viewTransition:d}=t,h=Ste(t,Ate),{basename:p}=V.useContext(rp),m,f=!1;if(typeof s=="string"&&Fte.test(s)&&(m=s,Bte))try{let y=new URL(window.location.href),b=s.startsWith("//")?new URL(y.protocol+s):new URL(s),w=ag(b.pathname,p);b.origin===y.origin&&w!=null?s=w+b.search+b.hash:f=!0}catch{}let g=ite(s,{relative:i}),v=Ute(s,{replace:l,state:c,target:a,preventScrollReset:u,relative:i,unstable_viewTransition:d});function x(y){n&&n(y),y.defaultPrevented||v(y)}return V.createElement("a",Qv({},h,{href:m||g,onClick:f||o?n:x,ref:r,target:a}))});var f6;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(f6||(f6={}));var m6;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(m6||(m6={}));function Ute(e,t){let{target:r,replace:n,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:c}=t===void 0?{}:t,a=By(),s=b2(),u=vV(e,{relative:l});return V.useCallback(d=>{if(Cte(d,r)){d.preventDefault();let h=n!==void 0?n:Ih(s)===Ih(u);a(e,{replace:h,state:i,preventScrollReset:o,relative:l,unstable_viewTransition:c})}},[s,a,u,n,i,r,e,o,l,c])}const xV=V.createContext(),wV=({children:e})=>{const[t,r]=V.useState(null),n=o=>{r(o)},i=()=>{r(null)};return z.jsx(xV.Provider,{value:{user:t,signIn:n,signOut:i},children:e})},x2=()=>{const e=V.useContext(xV);if(!e)throw new Error("useUser must be used within a UserProvider");return e},Vte="6.13.4";function Hte(e,t,r){const n=t.split("|").map(o=>o.trim());for(let o=0;o<n.length;o++)switch(t){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof e===t)return}const i=new Error(`invalid value for type ${t}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${r}`,i.value=e,i}async function NM(e){const t=Object.keys(e);return(await Promise.all(t.map(n=>Promise.resolve(e[n])))).reduce((n,i,o)=>(n[t[o]]=i,n),{})}function $t(e,t,r){for(let n in t){let i=t[n];const o=r?r[n]:null;o&&Hte(i,o,n),Object.defineProperty(e,n,{enumerable:!0,value:i,writable:!1})}}function Af(e){if(e==null)return"null";if(Array.isArray(e))return"[ "+e.map(Af).join(", ")+" ]";if(e instanceof Uint8Array){const t="0123456789abcdef";let r="0x";for(let n=0;n<e.length;n++)r+=t[e[n]>>4],r+=t[e[n]&15];return r}if(typeof e=="object"&&typeof e.toJSON=="function")return Af(e.toJSON());switch(typeof e){case"boolean":case"symbol":return e.toString();case"bigint":return BigInt(e).toString();case"number":return e.toString();case"string":return JSON.stringify(e);case"object":{const t=Object.keys(e);return t.sort(),"{ "+t.map(r=>`${Af(r)}: ${Af(e[r])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Im(e,t){return e&&e.code===t}function _V(e){return Im(e,"CALL_EXCEPTION")}function Zv(e,t,r){let n=e;{const o=[];if(r){if("message"in r||"code"in r||"name"in r)throw new Error(`value will overwrite populated values: ${Af(r)}`);for(const l in r){if(l==="shortMessage")continue;const c=r[l];o.push(l+"="+Af(c))}}o.push(`code=${t}`),o.push(`version=${Vte}`),o.length&&(e+=" ("+o.join(", ")+")")}let i;switch(t){case"INVALID_ARGUMENT":i=new TypeError(e);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(e);break;default:i=new Error(e)}return $t(i,{code:t}),r&&Object.assign(i,r),i.shortMessage==null&&$t(i,{shortMessage:n}),i}function Tt(e,t,r,n){if(!e)throw Zv(t,r,n)}function qe(e,t,r,n){Tt(e,t,"INVALID_ARGUMENT",{argument:r,value:n})}function SV(e,t,r){r==null&&(r=""),r&&(r=": "+r),Tt(e>=t,"missing arguemnt"+r,"MISSING_ARGUMENT",{count:e,expectedCount:t}),Tt(e<=t,"too many arguments"+r,"UNEXPECTED_ARGUMENT",{count:e,expectedCount:t})}["NFD","NFC","NFKD","NFKC"].reduce((e,t)=>{try{if("test".normalize(t)!=="test")throw new Error("bad");if(t==="NFD"&&"é".normalize("NFD")!=="é")throw new Error("broken");e.push(t)}catch{}return e},[]);function Lk(e,t,r){if(r==null&&(r=""),e!==t){let n=r,i="new";r&&(n+=".",i+=" "+r),Tt(!1,`private constructor; use ${n}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function EV(e,t,r){if(e instanceof Uint8Array)return r?new Uint8Array(e):e;if(typeof e=="string"&&e.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const n=new Uint8Array((e.length-2)/2);let i=2;for(let o=0;o<n.length;o++)n[o]=parseInt(e.substring(i,i+2),16),i+=2;return n}qe(!1,"invalid BytesLike value",t||"value",e)}function jc(e,t){return EV(e,t,!1)}function bl(e,t){return EV(e,t,!0)}function hc(e,t){return!(typeof e!="string"||!e.match(/^0x[0-9A-Fa-f]*$/)||typeof t=="number"&&e.length!==2+2*t||t===!0&&e.length%2!==0)}function Wte(e){return hc(e,!0)||e instanceof Uint8Array}const g6="0123456789abcdef";function Yn(e){const t=jc(e);let r="0x";for(let n=0;n<t.length;n++){const i=t[n];r+=g6[(i&240)>>4]+g6[i&15]}return r}function Qf(e){return"0x"+e.map(t=>Yn(t).substring(2)).join("")}function mp(e,t,r){const n=jc(e);return r!=null&&r>n.length&&Tt(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:n,length:n.length,offset:r}),Yn(n.slice(t??0,r??n.length))}function CV(e,t,r){const n=jc(e);Tt(t>=n.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(n),length:t,offset:t+1});const i=new Uint8Array(t);return i.fill(0),r?i.set(n,t-n.length):i.set(n,0),Yn(i)}function Gte(e,t){return CV(e,t,!0)}function qte(e,t){return CV(e,t,!1)}const w2=BigInt(0),ys=BigInt(1),Mf=9007199254740991;function Yte(e,t){const r=_2(e,"value"),n=BigInt(Uc(t,"width"));if(Tt(r>>n===w2,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:e}),r>>n-ys){const i=(ys<<n)-ys;return-((~r&i)+ys)}return r}function $te(e,t){let r=fd(e,"value");const n=BigInt(Uc(t,"width")),i=ys<<n-ys;if(r<w2){r=-r,Tt(r<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});const o=(ys<<n)-ys;return(~r&o)+ys}else Tt(r<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:e});return r}function I1(e,t){const r=_2(e,"value"),n=BigInt(Uc(t,"bits"));return r&(ys<<n)-ys}function fd(e,t){switch(typeof e){case"bigint":return e;case"number":return qe(Number.isInteger(e),"underflow",t||"value",e),qe(e>=-Mf&&e<=Mf,"overflow",t||"value",e),BigInt(e);case"string":try{if(e==="")throw new Error("empty string");return e[0]==="-"&&e[1]!=="-"?-BigInt(e.substring(1)):BigInt(e)}catch(r){qe(!1,`invalid BigNumberish string: ${r.message}`,t||"value",e)}}qe(!1,"invalid BigNumberish value",t||"value",e)}function _2(e,t){const r=fd(e,t);return Tt(r>=w2,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:e}),r}const v6="0123456789abcdef";function AV(e){if(e instanceof Uint8Array){let t="0x0";for(const r of e)t+=v6[r>>4],t+=v6[r&15];return BigInt(t)}return fd(e)}function Uc(e,t){switch(typeof e){case"bigint":return qe(e>=-Mf&&e<=Mf,"overflow",t||"value",e),Number(e);case"number":return qe(Number.isInteger(e),"underflow",t||"value",e),qe(e>=-Mf&&e<=Mf,"overflow",t||"value",e),e;case"string":try{if(e==="")throw new Error("empty string");return Uc(BigInt(e),t)}catch(r){qe(!1,`invalid numeric string: ${r.message}`,t||"value",e)}}qe(!1,"invalid numeric value",t||"value",e)}function Xte(e){return Uc(AV(e))}function MV(e,t){let n=_2(e,"value").toString(16);if(t==null)n.length%2&&(n="0"+n);else{const i=Uc(t,"width");for(Tt(i*2>=n.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:e});n.length<i*2;)n="0"+n}return"0x"+n}function Kte(e){const t=_2(e,"value");if(t===w2)return new Uint8Array([]);let r=t.toString(16);r.length%2&&(r="0"+r);const n=new Uint8Array(r.length/2);for(let i=0;i<n.length;i++){const o=i*2;n[i]=parseInt(r.substring(o,o+2),16)}return n}var xm;class Qte{constructor(t,r,n){je(this,"filter");je(this,"emitter");Cr(this,xm);sr(this,xm,r),$t(this,{emitter:t,filter:n})}async removeListener(){Le(this,xm)!=null&&await this.emitter.off(this.filter,Le(this,xm))}}xm=new WeakMap;function Zte(e,t,r,n,i){qe(!1,`invalid codepoint at offset ${t}; ${e}`,"bytes",r)}function TV(e,t,r,n,i){if(e==="BAD_PREFIX"||e==="UNEXPECTED_CONTINUE"){let o=0;for(let l=t+1;l<r.length&&r[l]>>6===2;l++)o++;return o}return e==="OVERRUN"?r.length-t-1:0}function Jte(e,t,r,n,i){return e==="OVERLONG"?(qe(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),n.push(i),0):(n.push(65533),TV(e,t,r))}const ere=Object.freeze({error:Zte,ignore:TV,replace:Jte});function tre(e,t){t==null&&(t=ere.error);const r=jc(e,"bytes"),n=[];let i=0;for(;i<r.length;){const o=r[i++];if(!(o>>7)){n.push(o);continue}let l=null,c=null;if((o&224)===192)l=1,c=127;else if((o&240)===224)l=2,c=2047;else if((o&248)===240)l=3,c=65535;else{(o&192)===128?i+=t("UNEXPECTED_CONTINUE",i-1,r,n):i+=t("BAD_PREFIX",i-1,r,n);continue}if(i-1+l>=r.length){i+=t("OVERRUN",i-1,r,n);continue}let a=o&(1<<8-l-1)-1;for(let s=0;s<l;s++){let u=r[i];if((u&192)!=128){i+=t("MISSING_CONTINUE",i,r,n),a=null;break}a=a<<6|u&63,i++}if(a!==null){if(a>1114111){i+=t("OUT_OF_RANGE",i-1-l,r,n,a);continue}if(a>=55296&&a<=57343){i+=t("UTF16_SURROGATE",i-1-l,r,n,a);continue}if(a<=c){i+=t("OVERLONG",i-1-l,r,n,a);continue}n.push(a)}}return n}function PV(e,t){qe(typeof e=="string","invalid string value","str",e);let r=[];for(let n=0;n<e.length;n++){const i=e.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const o=e.charCodeAt(n);qe(n<e.length&&(o&64512)===56320,"invalid surrogate pair","str",e);const l=65536+((i&1023)<<10)+(o&1023);r.push(l>>18|240),r.push(l>>12&63|128),r.push(l>>6&63|128),r.push(l&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return new Uint8Array(r)}function rre(e){return e.map(t=>t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10&1023)+55296,(t&1023)+56320))).join("")}function nre(e,t){return rre(tre(e,t))}const Ji=32,BM=new Uint8Array(Ji),ire=["then"],O1={},kV=new WeakMap;function Wd(e){return kV.get(e)}function y6(e,t){kV.set(e,t)}function Gg(e,t){const r=new Error(`deferred error during ABI decoding triggered accessing ${e}`);throw r.error=t,r}function FM(e,t,r){return e.indexOf(null)>=0?t.map((n,i)=>n instanceof Om?FM(Wd(n),n,r):n):e.reduce((n,i,o)=>{let l=t.getValue(i);return i in n||(r&&l instanceof Om&&(l=FM(Wd(l),l,r)),n[i]=l),n},{})}var wm;const Hf=class Hf extends Array{constructor(...r){const n=r[0];let i=r[1],o=(r[2]||[]).slice(),l=!0;n!==O1&&(i=r,o=[],l=!1);super(i.length);Cr(this,wm);i.forEach((s,u)=>{this[u]=s});const c=o.reduce((s,u)=>(typeof u=="string"&&s.set(u,(s.get(u)||0)+1),s),new Map);if(y6(this,Object.freeze(i.map((s,u)=>{const d=o[u];return d!=null&&c.get(d)===1?d:null}))),sr(this,wm,[]),Le(this,wm)==null&&Le(this,wm),!l)return;Object.freeze(this);const a=new Proxy(this,{get:(s,u,d)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const p=Uc(u,"%index");if(p<0||p>=this.length)throw new RangeError("out of result range");const m=s[p];return m instanceof Error&&Gg(`index ${p}`,m),m}if(ire.indexOf(u)>=0)return Reflect.get(s,u,d);const h=s[u];if(h instanceof Function)return function(...p){return h.apply(this===d?s:this,p)};if(!(u in s))return s.getValue.apply(this===d?s:this,[u])}return Reflect.get(s,u,d)}});return y6(a,Wd(this)),a}toArray(r){const n=[];return this.forEach((i,o)=>{i instanceof Error&&Gg(`index ${o}`,i),r&&i instanceof Hf&&(i=i.toArray(r)),n.push(i)}),n}toObject(r){const n=Wd(this);return n.reduce((i,o,l)=>(Tt(o!=null,`value at index ${l} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),FM(n,this,r)),{})}slice(r,n){r==null&&(r=0),r<0&&(r+=this.length,r<0&&(r=0)),n==null&&(n=this.length),n<0&&(n+=this.length,n<0&&(n=0)),n>this.length&&(n=this.length);const i=Wd(this),o=[],l=[];for(let c=r;c<n;c++)o.push(this[c]),l.push(i[c]);return new Hf(O1,o,l)}filter(r,n){const i=Wd(this),o=[],l=[];for(let c=0;c<this.length;c++){const a=this[c];a instanceof Error&&Gg(`index ${c}`,a),r.call(n,a,c,this)&&(o.push(a),l.push(i[c]))}return new Hf(O1,o,l)}map(r,n){const i=[];for(let o=0;o<this.length;o++){const l=this[o];l instanceof Error&&Gg(`index ${o}`,l),i.push(r.call(n,l,o,this))}return i}getValue(r){const n=Wd(this).indexOf(r);if(n===-1)return;const i=this[n];return i instanceof Error&&Gg(`property ${JSON.stringify(r)}`,i.error),i}static fromItems(r,n){return new Hf(O1,r,n)}};wm=new WeakMap;let Om=Hf;function b6(e){let t=Kte(e);return Tt(t.length<=Ji,"value out-of-bounds","BUFFER_OVERRUN",{buffer:t,length:Ji,offset:t.length}),t.length!==Ji&&(t=bl(Qf([BM.slice(t.length%Ji),t]))),t}class Vc{constructor(t,r,n,i){je(this,"name");je(this,"type");je(this,"localName");je(this,"dynamic");$t(this,{name:t,type:r,localName:n,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(t,r){qe(!1,t,this.localName,r)}}var ac,hh,_m,Tx;class UM{constructor(){Cr(this,_m);Cr(this,ac);Cr(this,hh);sr(this,ac,[]),sr(this,hh,0)}get data(){return Qf(Le(this,ac))}get length(){return Le(this,hh)}appendWriter(t){return $r(this,_m,Tx).call(this,bl(t.data))}writeBytes(t){let r=bl(t);const n=r.length%Ji;return n&&(r=bl(Qf([r,BM.slice(n)]))),$r(this,_m,Tx).call(this,r)}writeValue(t){return $r(this,_m,Tx).call(this,b6(t))}writeUpdatableValue(){const t=Le(this,ac).length;return Le(this,ac).push(BM),sr(this,hh,Le(this,hh)+Ji),r=>{Le(this,ac)[t]=b6(r)}}}ac=new WeakMap,hh=new WeakMap,_m=new WeakSet,Tx=function(t){return Le(this,ac).push(t),sr(this,hh,Le(this,hh)+t.length),t.length};var mo,$o,ph,fh,Su,Zh,HM,DV;const Ij=class Ij{constructor(t,r,n){Cr(this,Zh);je(this,"allowLoose");Cr(this,mo);Cr(this,$o);Cr(this,ph);Cr(this,fh);Cr(this,Su);$t(this,{allowLoose:!!r}),sr(this,mo,bl(t)),sr(this,ph,0),sr(this,fh,null),sr(this,Su,n??1024),sr(this,$o,0)}get data(){return Yn(Le(this,mo))}get dataLength(){return Le(this,mo).length}get consumed(){return Le(this,$o)}get bytes(){return new Uint8Array(Le(this,mo))}subReader(t){const r=new Ij(Le(this,mo).slice(Le(this,$o)+t),this.allowLoose,Le(this,Su));return sr(r,fh,this),r}readBytes(t,r){let n=$r(this,Zh,DV).call(this,0,t,!!r);return $r(this,Zh,HM).call(this,t),sr(this,$o,Le(this,$o)+n.length),n.slice(0,t)}readValue(){return AV(this.readBytes(Ji))}readIndex(){return Xte(this.readBytes(Ji))}};mo=new WeakMap,$o=new WeakMap,ph=new WeakMap,fh=new WeakMap,Su=new WeakMap,Zh=new WeakSet,HM=function(t){var r;if(Le(this,fh))return $r(r=Le(this,fh),Zh,HM).call(r,t);sr(this,ph,Le(this,ph)+t),Tt(Le(this,Su)<1||Le(this,ph)<=Le(this,Su)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${Le(this,Su)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:bl(Le(this,mo)),offset:Le(this,$o),length:t,info:{bytesRead:Le(this,ph),dataLength:this.dataLength}})},DV=function(t,r,n){let i=Math.ceil(r/Ji)*Ji;return Le(this,$o)+i>Le(this,mo).length&&(this.allowLoose&&n&&Le(this,$o)+r<=Le(this,mo).length?i=r:Tt(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:bl(Le(this,mo)),length:Le(this,mo).length,offset:Le(this,$o)+i})),Le(this,mo).slice(Le(this,$o),Le(this,$o)+i)};let VM=Ij;function x6(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function jV(e,...t){if(!(e instanceof Uint8Array))throw new Error("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new Error(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function w6(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function ore(e,t){jV(e);const r=t.outputLen;if(e.length<r)throw new Error(`digestInto() expects output buffer of length at least ${r}`)}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const are=e=>e instanceof Uint8Array,sre=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),lre=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!lre)throw new Error("Non little-endian hardware is not supported");function cre(e){if(typeof e!="string")throw new Error(`utf8ToBytes expected string, got ${typeof e}`);return new Uint8Array(new TextEncoder().encode(e))}function IV(e){if(typeof e=="string"&&(e=cre(e)),!are(e))throw new Error(`expected Uint8Array, got ${typeof e}`);return e}class ure{clone(){return this._cloneInto()}}function dre(e){const t=n=>e().update(IV(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}const R1=BigInt(2**32-1),_6=BigInt(32);function hre(e,t=!1){return t?{h:Number(e&R1),l:Number(e>>_6&R1)}:{h:Number(e>>_6&R1)|0,l:Number(e&R1)|0}}function pre(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let i=0;i<e.length;i++){const{h:o,l}=hre(e[i],t);[r[i],n[i]]=[o,l]}return[r,n]}const fre=(e,t,r)=>e<<r|t>>>32-r,mre=(e,t,r)=>t<<r|e>>>32-r,gre=(e,t,r)=>t<<r-32|e>>>64-r,vre=(e,t,r)=>e<<r-32|t>>>64-r,[OV,RV,zV]=[[],[],[]],yre=BigInt(0),qg=BigInt(1),bre=BigInt(2),xre=BigInt(7),wre=BigInt(256),_re=BigInt(113);for(let e=0,t=qg,r=1,n=0;e<24;e++){[r,n]=[n,(2*r+3*n)%5],OV.push(2*(5*n+r)),RV.push((e+1)*(e+2)/2%64);let i=yre;for(let o=0;o<7;o++)t=(t<<qg^(t>>xre)*_re)%wre,t&bre&&(i^=qg<<(qg<<BigInt(o))-qg);zV.push(i)}const[Sre,Ere]=pre(zV,!0),S6=(e,t,r)=>r>32?gre(e,t,r):fre(e,t,r),E6=(e,t,r)=>r>32?vre(e,t,r):mre(e,t,r);function Cre(e,t=24){const r=new Uint32Array(10);for(let n=24-t;n<24;n++){for(let l=0;l<10;l++)r[l]=e[l]^e[l+10]^e[l+20]^e[l+30]^e[l+40];for(let l=0;l<10;l+=2){const c=(l+8)%10,a=(l+2)%10,s=r[a],u=r[a+1],d=S6(s,u,1)^r[c],h=E6(s,u,1)^r[c+1];for(let p=0;p<50;p+=10)e[l+p]^=d,e[l+p+1]^=h}let i=e[2],o=e[3];for(let l=0;l<24;l++){const c=RV[l],a=S6(i,o,c),s=E6(i,o,c),u=OV[l];i=e[u],o=e[u+1],e[u]=a,e[u+1]=s}for(let l=0;l<50;l+=10){for(let c=0;c<10;c++)r[c]=e[l+c];for(let c=0;c<10;c++)e[l+c]^=~r[(c+2)%10]&r[(c+4)%10]}e[0]^=Sre[n],e[1]^=Ere[n]}r.fill(0)}class Nk extends ure{constructor(t,r,n,i=!1,o=24){if(super(),this.blockLen=t,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,x6(n),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=sre(this.state)}keccak(){Cre(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){w6(this);const{blockLen:r,state:n}=this;t=IV(t);const i=t.length;for(let o=0;o<i;){const l=Math.min(r-this.pos,i-o);for(let c=0;c<l;c++)n[this.pos++]^=t[o++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:r,pos:n,blockLen:i}=this;t[n]^=r,r&128&&n===i-1&&this.keccak(),t[i-1]^=128,this.keccak()}writeInto(t){w6(this,!1),jV(t),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,o=t.length;i<o;){this.posOut>=n&&this.keccak();const l=Math.min(n-this.posOut,o-i);t.set(r.subarray(this.posOut,this.posOut+l),i),this.posOut+=l,i+=l}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return x6(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(ore(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:r,suffix:n,outputLen:i,rounds:o,enableXOF:l}=this;return t||(t=new Nk(r,n,i,l,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=n,t.outputLen=i,t.enableXOF=l,t.destroyed=this.destroyed,t}}const Are=(e,t,r)=>dre(()=>new Nk(t,e,r)),Mre=Are(1,136,256/8);let LV=!1;const NV=function(e){return Mre(e)};let BV=NV;function rd(e){const t=jc(e,"data");return Yn(BV(t))}rd._=NV;rd.lock=function(){LV=!0};rd.register=function(e){if(LV)throw new TypeError("keccak256 is locked");BV=e};Object.freeze(rd);const Tre=BigInt(0),Pre=BigInt(36);function C6(e){e=e.toLowerCase();const t=e.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=t[i].charCodeAt(0);const n=jc(rd(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(t[i]=t[i].toUpperCase()),(n[i>>1]&15)>=8&&(t[i+1]=t[i+1].toUpperCase());return"0x"+t.join("")}const Bk={};for(let e=0;e<10;e++)Bk[String(e)]=String(e);for(let e=0;e<26;e++)Bk[String.fromCharCode(65+e)]=String(10+e);const A6=15;function kre(e){e=e.toUpperCase(),e=e.substring(4)+e.substring(0,2)+"00";let t=e.split("").map(n=>Bk[n]).join("");for(;t.length>=A6;){let n=t.substring(0,A6);t=parseInt(n,10)%97+t.substring(n.length)}let r=String(98-parseInt(t,10)%97);for(;r.length<2;)r="0"+r;return r}const Dre=function(){const e={};for(let t=0;t<36;t++){const r="0123456789abcdefghijklmnopqrstuvwxyz"[t];e[r]=BigInt(t)}return e}();function jre(e){e=e.toLowerCase();let t=Tre;for(let r=0;r<e.length;r++)t=t*Pre+Dre[e[r]];return t}function Oh(e){if(qe(typeof e=="string","invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);const t=C6(e);return qe(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||t===e,"bad address checksum","address",e),t}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){qe(e.substring(2,4)===kre(e),"bad icap checksum","address",e);let t=jre(e.substring(4)).toString(16);for(;t.length<40;)t="0"+t;return C6("0x"+t)}qe(!1,"invalid address","address",e)}function FV(e){return e&&typeof e.getAddress=="function"}async function R3(e,t){const r=await t;return(r==null||r==="0x0000000000000000000000000000000000000000")&&(Tt(typeof e!="string","unconfigured name","UNCONFIGURED_NAME",{value:e}),qe(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),Oh(r)}function Jv(e,t){if(typeof e=="string")return e.match(/^0x[0-9a-f]{40}$/i)?Oh(e):(Tt(t!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),R3(e,t.resolveName(e)));if(FV(e))return R3(e,e.getAddress());if(e&&typeof e.then=="function")return R3(e,e);qe(!1,"unsupported addressable value","target",e)}const Ql={};function rt(e,t){let r=!1;return t<0&&(r=!0,t*=-1),new Ii(Ql,`${r?"":"u"}int${t}`,e,{signed:r,width:t})}function cr(e,t){return new Ii(Ql,`bytes${t||""}`,e,{size:t})}const M6=Symbol.for("_ethers_typed");var mh;const tc=class tc{constructor(t,r,n,i){je(this,"type");je(this,"value");Cr(this,mh);je(this,"_typedSymbol");i==null&&(i=null),Lk(Ql,t,"Typed"),$t(this,{_typedSymbol:M6,type:r,value:n}),sr(this,mh,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(t=>t.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return Le(this,mh)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return Le(this,mh)===!0?-1:Le(this,mh)===!1?this.value.length:null}static from(t,r){return new tc(Ql,t,r)}static uint8(t){return rt(t,8)}static uint16(t){return rt(t,16)}static uint24(t){return rt(t,24)}static uint32(t){return rt(t,32)}static uint40(t){return rt(t,40)}static uint48(t){return rt(t,48)}static uint56(t){return rt(t,56)}static uint64(t){return rt(t,64)}static uint72(t){return rt(t,72)}static uint80(t){return rt(t,80)}static uint88(t){return rt(t,88)}static uint96(t){return rt(t,96)}static uint104(t){return rt(t,104)}static uint112(t){return rt(t,112)}static uint120(t){return rt(t,120)}static uint128(t){return rt(t,128)}static uint136(t){return rt(t,136)}static uint144(t){return rt(t,144)}static uint152(t){return rt(t,152)}static uint160(t){return rt(t,160)}static uint168(t){return rt(t,168)}static uint176(t){return rt(t,176)}static uint184(t){return rt(t,184)}static uint192(t){return rt(t,192)}static uint200(t){return rt(t,200)}static uint208(t){return rt(t,208)}static uint216(t){return rt(t,216)}static uint224(t){return rt(t,224)}static uint232(t){return rt(t,232)}static uint240(t){return rt(t,240)}static uint248(t){return rt(t,248)}static uint256(t){return rt(t,256)}static uint(t){return rt(t,256)}static int8(t){return rt(t,-8)}static int16(t){return rt(t,-16)}static int24(t){return rt(t,-24)}static int32(t){return rt(t,-32)}static int40(t){return rt(t,-40)}static int48(t){return rt(t,-48)}static int56(t){return rt(t,-56)}static int64(t){return rt(t,-64)}static int72(t){return rt(t,-72)}static int80(t){return rt(t,-80)}static int88(t){return rt(t,-88)}static int96(t){return rt(t,-96)}static int104(t){return rt(t,-104)}static int112(t){return rt(t,-112)}static int120(t){return rt(t,-120)}static int128(t){return rt(t,-128)}static int136(t){return rt(t,-136)}static int144(t){return rt(t,-144)}static int152(t){return rt(t,-152)}static int160(t){return rt(t,-160)}static int168(t){return rt(t,-168)}static int176(t){return rt(t,-176)}static int184(t){return rt(t,-184)}static int192(t){return rt(t,-192)}static int200(t){return rt(t,-200)}static int208(t){return rt(t,-208)}static int216(t){return rt(t,-216)}static int224(t){return rt(t,-224)}static int232(t){return rt(t,-232)}static int240(t){return rt(t,-240)}static int248(t){return rt(t,-248)}static int256(t){return rt(t,-256)}static int(t){return rt(t,-256)}static bytes1(t){return cr(t,1)}static bytes2(t){return cr(t,2)}static bytes3(t){return cr(t,3)}static bytes4(t){return cr(t,4)}static bytes5(t){return cr(t,5)}static bytes6(t){return cr(t,6)}static bytes7(t){return cr(t,7)}static bytes8(t){return cr(t,8)}static bytes9(t){return cr(t,9)}static bytes10(t){return cr(t,10)}static bytes11(t){return cr(t,11)}static bytes12(t){return cr(t,12)}static bytes13(t){return cr(t,13)}static bytes14(t){return cr(t,14)}static bytes15(t){return cr(t,15)}static bytes16(t){return cr(t,16)}static bytes17(t){return cr(t,17)}static bytes18(t){return cr(t,18)}static bytes19(t){return cr(t,19)}static bytes20(t){return cr(t,20)}static bytes21(t){return cr(t,21)}static bytes22(t){return cr(t,22)}static bytes23(t){return cr(t,23)}static bytes24(t){return cr(t,24)}static bytes25(t){return cr(t,25)}static bytes26(t){return cr(t,26)}static bytes27(t){return cr(t,27)}static bytes28(t){return cr(t,28)}static bytes29(t){return cr(t,29)}static bytes30(t){return cr(t,30)}static bytes31(t){return cr(t,31)}static bytes32(t){return cr(t,32)}static address(t){return new tc(Ql,"address",t)}static bool(t){return new tc(Ql,"bool",!!t)}static bytes(t){return new tc(Ql,"bytes",t)}static string(t){return new tc(Ql,"string",t)}static array(t,r){throw new Error("not implemented yet")}static tuple(t,r){throw new Error("not implemented yet")}static overrides(t){return new tc(Ql,"overrides",Object.assign({},t))}static isTyped(t){return t&&typeof t=="object"&&"_typedSymbol"in t&&t._typedSymbol===M6}static dereference(t,r){if(tc.isTyped(t)){if(t.type!==r)throw new Error(`invalid type: expecetd ${r}, got ${t.type}`);return t.value}return t}};mh=new WeakMap;let Ii=tc;class Ire extends Vc{constructor(t){super("address","address",t,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(t,r){let n=Ii.dereference(r,"string");try{n=Oh(n)}catch(i){return this._throwError(i.message,r)}return t.writeValue(n)}decode(t){return Oh(MV(t.readValue(),20))}}class Ore extends Vc{constructor(r){super(r.name,r.type,"_",r.dynamic);je(this,"coder");this.coder=r}defaultValue(){return this.coder.defaultValue()}encode(r,n){return this.coder.encode(r,n)}decode(r){return this.coder.decode(r)}}function UV(e,t,r){let n=[];if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let a={};n=t.map(s=>{const u=s.localName;return Tt(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:s},value:r}),Tt(!a[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:s},value:r}),a[u]=!0,r[u]})}else qe(!1,"invalid tuple value","tuple",r);qe(t.length===n.length,"types/value length mismatch","tuple",r);let i=new UM,o=new UM,l=[];t.forEach((a,s)=>{let u=n[s];if(a.dynamic){let d=o.length;a.encode(o,u);let h=i.writeUpdatableValue();l.push(p=>{h(p+d)})}else a.encode(i,u)}),l.forEach(a=>{a(i.length)});let c=e.appendWriter(i);return c+=e.appendWriter(o),c}function VV(e,t){let r=[],n=[],i=e.subReader(0);return t.forEach(o=>{let l=null;if(o.dynamic){let c=e.readIndex(),a=i.subReader(c);try{l=o.decode(a)}catch(s){if(Im(s,"BUFFER_OVERRUN"))throw s;l=s,l.baseType=o.name,l.name=o.localName,l.type=o.type}}else try{l=o.decode(e)}catch(c){if(Im(c,"BUFFER_OVERRUN"))throw c;l=c,l.baseType=o.name,l.name=o.localName,l.type=o.type}if(l==null)throw new Error("investigate");r.push(l),n.push(o.localName||null)}),Om.fromItems(r,n)}class Rre extends Vc{constructor(r,n,i){const o=r.type+"["+(n>=0?n:"")+"]",l=n===-1||r.dynamic;super("array",o,i,l);je(this,"coder");je(this,"length");$t(this,{coder:r,length:n})}defaultValue(){const r=this.coder.defaultValue(),n=[];for(let i=0;i<this.length;i++)n.push(r);return n}encode(r,n){const i=Ii.dereference(n,"array");Array.isArray(i)||this._throwError("expected array value",i);let o=this.length;o===-1&&(o=i.length,r.writeValue(i.length)),SV(i.length,o,"coder array"+(this.localName?" "+this.localName:""));let l=[];for(let c=0;c<i.length;c++)l.push(this.coder);return UV(r,l,i)}decode(r){let n=this.length;n===-1&&(n=r.readIndex(),Tt(n*Ji<=r.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:r.bytes,offset:n*Ji,length:r.dataLength}));let i=[];for(let o=0;o<n;o++)i.push(new Ore(this.coder));return VV(r,i)}}class zre extends Vc{constructor(t){super("bool","bool",t,!1)}defaultValue(){return!1}encode(t,r){const n=Ii.dereference(r,"bool");return t.writeValue(n?1:0)}decode(t){return!!t.readValue()}}class HV extends Vc{constructor(t,r){super(t,t,r,!0)}defaultValue(){return"0x"}encode(t,r){r=bl(r);let n=t.writeValue(r.length);return n+=t.writeBytes(r),n}decode(t){return t.readBytes(t.readIndex(),!0)}}class Lre extends HV{constructor(t){super("bytes",t)}decode(t){return Yn(super.decode(t))}}class Nre extends Vc{constructor(r,n){let i="bytes"+String(r);super(i,i,n,!1);je(this,"size");$t(this,{size:r},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(r,n){let i=bl(Ii.dereference(n,this.type));return i.length!==this.size&&this._throwError("incorrect data length",n),r.writeBytes(i)}decode(r){return Yn(r.readBytes(this.size))}}const Bre=new Uint8Array([]);class Fre extends Vc{constructor(t){super("null","",t,!1)}defaultValue(){return null}encode(t,r){return r!=null&&this._throwError("not null",r),t.writeBytes(Bre)}decode(t){return t.readBytes(0),null}}const Ure=BigInt(0),Vre=BigInt(1),Hre=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class Wre extends Vc{constructor(r,n,i){const o=(n?"int":"uint")+r*8;super(o,o,i,!1);je(this,"size");je(this,"signed");$t(this,{size:r,signed:n},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(r,n){let i=fd(Ii.dereference(n,this.type)),o=I1(Hre,Ji*8);if(this.signed){let l=I1(o,this.size*8-1);(i>l||i<-(l+Vre))&&this._throwError("value out-of-bounds",n),i=$te(i,8*Ji)}else(i<Ure||i>I1(o,this.size*8))&&this._throwError("value out-of-bounds",n);return r.writeValue(i)}decode(r){let n=I1(r.readValue(),this.size*8);return this.signed&&(n=Yte(n,this.size*8)),n}}class Gre extends HV{constructor(t){super("string",t)}defaultValue(){return""}encode(t,r){return super.encode(t,PV(Ii.dereference(r,"string")))}decode(t){return nre(super.decode(t))}}class z1 extends Vc{constructor(r,n){let i=!1;const o=[];r.forEach(c=>{c.dynamic&&(i=!0),o.push(c.type)});const l="tuple("+o.join(",")+")";super("tuple",l,n,i);je(this,"coders");$t(this,{coders:Object.freeze(r.slice())})}defaultValue(){const r=[];this.coders.forEach(i=>{r.push(i.defaultValue())});const n=this.coders.reduce((i,o)=>{const l=o.localName;return l&&(i[l]||(i[l]=0),i[l]++),i},{});return this.coders.forEach((i,o)=>{let l=i.localName;!l||n[l]!==1||(l==="length"&&(l="_length"),r[l]==null&&(r[l]=r[o]))}),Object.freeze(r)}encode(r,n){const i=Ii.dereference(n,"tuple");return UV(r,this.coders,i)}decode(r){return VV(r,this.coders)}}function ey(e){return rd(PV(e))}function z3(e,t){return{address:Oh(e),storageKeys:t.map((r,n)=>(qe(hc(r,32),"invalid slot",`storageKeys[${n}]`,r),r.toLowerCase()))}}function qre(e){if(Array.isArray(e))return e.map((r,n)=>Array.isArray(r)?(qe(r.length===2,"invalid slot set",`value[${n}]`,r),z3(r[0],r[1])):(qe(r!=null&&typeof r=="object","invalid address-slot set","value",e),z3(r.address,r.storageKeys)));qe(e!=null&&typeof e=="object","invalid access list","value",e);const t=Object.keys(e).map(r=>{const n=e[r].reduce((i,o)=>(i[o]=!0,i),{});return z3(r,Object.keys(n).sort())});return t.sort((r,n)=>r.address.localeCompare(n.address)),t}function eo(e){const t=new Set;return e.forEach(r=>t.add(r)),Object.freeze(t)}const Yre="external public payable override",$re=eo(Yre.split(" ")),WV="constant external internal payable private public pure view override",Xre=eo(WV.split(" ")),GV="constructor error event fallback function receive struct",qV=eo(GV.split(" ")),YV="calldata memory storage payable indexed",Kre=eo(YV.split(" ")),Qre="tuple returns",Zre=[GV,YV,Qre,WV].join(" "),Jre=eo(Zre.split(" ")),ene={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},tne=new RegExp("^(\\s*)"),rne=new RegExp("^([0-9]+)"),nne=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),$V=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),XV=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var fi,ps,Py,WM;const J_=class J_{constructor(t){Cr(this,Py);Cr(this,fi);Cr(this,ps);sr(this,fi,0),sr(this,ps,t.slice())}get offset(){return Le(this,fi)}get length(){return Le(this,ps).length-Le(this,fi)}clone(){return new J_(Le(this,ps))}reset(){sr(this,fi,0)}popKeyword(t){const r=this.peek();if(r.type!=="KEYWORD"||!t.has(r.text))throw new Error(`expected keyword ${r.text}`);return this.pop().text}popType(t){if(this.peek().type!==t){const r=this.peek();throw new Error(`expected ${t}; got ${r.type} ${JSON.stringify(r.text)}`)}return this.pop().text}popParen(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const r=$r(this,Py,WM).call(this,Le(this,fi)+1,t.match+1);return sr(this,fi,t.match+1),r}popParams(){const t=this.peek();if(t.type!=="OPEN_PAREN")throw new Error("bad start");const r=[];for(;Le(this,fi)<t.match-1;){const n=this.peek().linkNext;r.push($r(this,Py,WM).call(this,Le(this,fi)+1,n)),sr(this,fi,n)}return sr(this,fi,t.match+1),r}peek(){if(Le(this,fi)>=Le(this,ps).length)throw new Error("out-of-bounds");return Le(this,ps)[Le(this,fi)]}peekKeyword(t){const r=this.peekType("KEYWORD");return r!=null&&t.has(r)?r:null}peekType(t){if(this.length===0)return null;const r=this.peek();return r.type===t?r.text:null}pop(){const t=this.peek();return Nj(this,fi)._++,t}toString(){const t=[];for(let r=Le(this,fi);r<Le(this,ps).length;r++){const n=Le(this,ps)[r];t.push(`${n.type}:${n.text}`)}return`<TokenString ${t.join(" ")}>`}};fi=new WeakMap,ps=new WeakMap,Py=new WeakSet,WM=function(t=0,r=0){return new J_(Le(this,ps).slice(t,r).map(n=>Object.freeze(Object.assign({},n,{match:n.match-t,linkBack:n.linkBack-t,linkNext:n.linkNext-t}))))};let Ps=J_;function md(e){const t=[],r=l=>{const c=o<e.length?JSON.stringify(e[o]):"$EOI";throw new Error(`invalid token ${c} at ${o}: ${l}`)};let n=[],i=[],o=0;for(;o<e.length;){let l=e.substring(o),c=l.match(tne);c&&(o+=c[1].length,l=e.substring(o));const a={depth:n.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:o,value:-1};t.push(a);let s=ene[l[0]]||"";if(s){if(a.type=s,a.text=l[0],o++,s==="OPEN_PAREN")n.push(t.length-1),i.push(t.length-1);else if(s=="CLOSE_PAREN")n.length===0&&r("no matching open bracket"),a.match=n.pop(),t[a.match].match=t.length-1,a.depth--,a.linkBack=i.pop(),t[a.linkBack].linkNext=t.length-1;else if(s==="COMMA")a.linkBack=i.pop(),t[a.linkBack].linkNext=t.length-1,i.push(t.length-1);else if(s==="OPEN_BRACKET")a.type="BRACKET";else if(s==="CLOSE_BRACKET"){let u=t.pop().text;if(t.length>0&&t[t.length-1].type==="NUMBER"){const d=t.pop().text;u=d+u,t[t.length-1].value=Uc(d)}if(t.length===0||t[t.length-1].type!=="BRACKET")throw new Error("missing opening bracket");t[t.length-1].text+=u}continue}if(c=l.match(nne),c){if(a.text=c[1],o+=a.text.length,Jre.has(a.text)){a.type="KEYWORD";continue}if(a.text.match(XV)){a.type="TYPE";continue}a.type="ID";continue}if(c=l.match(rne),c){a.text=c[1],a.type="NUMBER",o+=a.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(l[0])} at position ${o}`)}return new Ps(t.map(l=>Object.freeze(l)))}function T6(e,t){let r=[];for(const n in t.keys())e.has(n)&&r.push(n);if(r.length>1)throw new Error(`conflicting types: ${r.join(", ")}`)}function S2(e,t){if(t.peekKeyword(qV)){const r=t.pop().text;if(r!==e)throw new Error(`expected ${e}, got ${r}`)}return t.popType("ID")}function Ic(e,t){const r=new Set;for(;;){const n=e.peekType("KEYWORD");if(n==null||t&&!t.has(n))break;if(e.pop(),r.has(n))throw new Error(`duplicate keywords: ${JSON.stringify(n)}`);r.add(n)}return Object.freeze(r)}function KV(e){let t=Ic(e,Xre);return T6(t,eo("constant payable nonpayable".split(" "))),T6(t,eo("pure view payable nonpayable".split(" "))),t.has("view")?"view":t.has("pure")?"pure":t.has("payable")?"payable":t.has("nonpayable")?"nonpayable":t.has("constant")?"view":"nonpayable"}function wc(e,t){return e.popParams().map(r=>bi.from(r,t))}function QV(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return fd(e.pop().text);throw new Error("invalid gas")}return null}function Rh(e){if(e.length)throw new Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}const ine=new RegExp(/^(.*)\[([0-9]*)\]$/);function P6(e){const t=e.match(XV);if(qe(t,"invalid type","type",e),e==="uint")return"uint256";if(e==="int")return"int256";if(t[2]){const r=parseInt(t[2]);qe(r!==0&&r<=32,"invalid bytes length","type",e)}else if(t[3]){const r=parseInt(t[3]);qe(r!==0&&r<=256&&r%8===0,"invalid numeric width","type",e)}return e}const Zr={},Ro=Symbol.for("_ethers_internal"),k6="_ParamTypeInternal",D6="_ErrorInternal",j6="_EventInternal",I6="_ConstructorInternal",O6="_FallbackInternal",R6="_FunctionInternal",z6="_StructInternal";var Sm,Px;const Ea=class Ea{constructor(t,r,n,i,o,l,c,a){Cr(this,Sm);je(this,"name");je(this,"type");je(this,"baseType");je(this,"indexed");je(this,"components");je(this,"arrayLength");je(this,"arrayChildren");if(Lk(t,Zr,"ParamType"),Object.defineProperty(this,Ro,{value:k6}),l&&(l=Object.freeze(l.slice())),i==="array"){if(c==null||a==null)throw new Error("")}else if(c!=null||a!=null)throw new Error("");if(i==="tuple"){if(l==null)throw new Error("")}else if(l!=null)throw new Error("");$t(this,{name:r,type:n,baseType:i,indexed:o,components:l,arrayLength:c,arrayChildren:a})}format(t){if(t==null&&(t="sighash"),t==="json"){const n=this.name||"";if(this.isArray()){const o=JSON.parse(this.arrayChildren.format("json"));return o.name=n,o.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(o)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:n};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(o=>JSON.parse(o.format(t)))),JSON.stringify(i)}let r="";return this.isArray()?(r+=this.arrayChildren.format(t),r+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?r+="("+this.components.map(n=>n.format(t)).join(t==="full"?", ":",")+")":r+=this.type,t!=="sighash"&&(this.indexed===!0&&(r+=" indexed"),t==="full"&&this.name&&(r+=" "+this.name)),r}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(t,r){if(this.isArray()){if(!Array.isArray(t))throw new Error("invalid array value");if(this.arrayLength!==-1&&t.length!==this.arrayLength)throw new Error("array is wrong length");const n=this;return t.map(i=>n.arrayChildren.walk(i,r))}if(this.isTuple()){if(!Array.isArray(t))throw new Error("invalid tuple value");if(t.length!==this.components.length)throw new Error("array is wrong length");const n=this;return t.map((i,o)=>n.components[o].walk(i,r))}return r(this.type,t)}async walkAsync(t,r){const n=[],i=[t];return $r(this,Sm,Px).call(this,n,t,r,o=>{i[0]=o}),n.length&&await Promise.all(n),i[0]}static from(t,r){if(Ea.isParamType(t))return t;if(typeof t=="string")try{return Ea.from(md(t),r)}catch{qe(!1,"invalid param type","obj",t)}else if(t instanceof Ps){let c="",a="",s=null;Ic(t,eo(["tuple"])).has("tuple")||t.peekType("OPEN_PAREN")?(a="tuple",s=t.popParams().map(f=>Ea.from(f)),c=`tuple(${s.map(f=>f.format()).join(",")})`):(c=P6(t.popType("TYPE")),a=c);let u=null,d=null;for(;t.length&&t.peekType("BRACKET");){const f=t.pop();u=new Ea(Zr,"",c,a,null,s,d,u),d=f.value,c+=f.text,a="array",s=null}let h=null;if(Ic(t,Kre).has("indexed")){if(!r)throw new Error("");h=!0}const m=t.peekType("ID")?t.pop().text:"";if(t.length)throw new Error("leftover tokens");return new Ea(Zr,m,c,a,h,s,d,u)}const n=t.name;qe(!n||typeof n=="string"&&n.match($V),"invalid name","obj.name",n);let i=t.indexed;i!=null&&(qe(r,"parameter cannot be indexed","obj.indexed",t.indexed),i=!!i);let o=t.type,l=o.match(ine);if(l){const c=parseInt(l[2]||"-1"),a=Ea.from({type:l[1],components:t.components});return new Ea(Zr,n||"",o,"array",i,null,c,a)}if(o==="tuple"||o.startsWith("tuple(")||o.startsWith("(")){const c=t.components!=null?t.components.map(s=>Ea.from(s)):null;return new Ea(Zr,n||"",o,"tuple",i,c,null,null)}return o=P6(t.type),new Ea(Zr,n||"",o,o,i,null,null,null)}static isParamType(t){return t&&t[Ro]===k6}};Sm=new WeakSet,Px=function(t,r,n,i){if(this.isArray()){if(!Array.isArray(r))throw new Error("invalid array value");if(this.arrayLength!==-1&&r.length!==this.arrayLength)throw new Error("array is wrong length");const l=this.arrayChildren,c=r.slice();c.forEach((a,s)=>{var u;$r(u=l,Sm,Px).call(u,t,a,n,d=>{c[s]=d})}),i(c);return}if(this.isTuple()){const l=this.components;let c;if(Array.isArray(r))c=r.slice();else{if(r==null||typeof r!="object")throw new Error("invalid tuple value");c=l.map(a=>{if(!a.name)throw new Error("cannot use object value with unnamed components");if(!(a.name in r))throw new Error(`missing value for component ${a.name}`);return r[a.name]})}if(c.length!==this.components.length)throw new Error("array is wrong length");c.forEach((a,s)=>{var u;$r(u=l[s],Sm,Px).call(u,t,a,n,d=>{c[s]=d})}),i(c);return}const o=n(this.type,r);o.then?t.push(async function(){i(await o)}()):i(o)};let bi=Ea;class zh{constructor(t,r,n){je(this,"type");je(this,"inputs");Lk(t,Zr,"Fragment"),n=Object.freeze(n.slice()),$t(this,{type:r,inputs:n})}static from(t){if(typeof t=="string"){try{zh.from(JSON.parse(t))}catch{}return zh.from(md(t))}if(t instanceof Ps)switch(t.peekKeyword(qV)){case"constructor":return pc.from(t);case"error":return bo.from(t);case"event":return cl.from(t);case"fallback":case"receive":return nc.from(t);case"function":return ul.from(t);case"struct":return yh.from(t)}else if(typeof t=="object"){switch(t.type){case"constructor":return pc.from(t);case"error":return bo.from(t);case"event":return cl.from(t);case"fallback":case"receive":return nc.from(t);case"function":return ul.from(t);case"struct":return yh.from(t)}Tt(!1,`unsupported type: ${t.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}qe(!1,"unsupported frgament object","obj",t)}static isConstructor(t){return pc.isFragment(t)}static isError(t){return bo.isFragment(t)}static isEvent(t){return cl.isFragment(t)}static isFunction(t){return ul.isFragment(t)}static isStruct(t){return yh.isFragment(t)}}class E2 extends zh{constructor(r,n,i,o){super(r,n,o);je(this,"name");qe(typeof i=="string"&&i.match($V),"invalid identifier","name",i),o=Object.freeze(o.slice()),$t(this,{name:i})}}function ty(e,t){return"("+t.map(r=>r.format(e)).join(e==="full"?", ":",")+")"}class bo extends E2{constructor(t,r,n){super(t,"error",r,n),Object.defineProperty(this,Ro,{value:D6})}get selector(){return ey(this.format("sighash")).substring(0,10)}format(t){if(t==null&&(t="sighash"),t==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(t)))});const r=[];return t!=="sighash"&&r.push("error"),r.push(this.name+ty(t,this.inputs)),r.join(" ")}static from(t){if(bo.isFragment(t))return t;if(typeof t=="string")return bo.from(md(t));if(t instanceof Ps){const r=S2("error",t),n=wc(t);return Rh(t),new bo(Zr,r,n)}return new bo(Zr,t.name,t.inputs?t.inputs.map(bi.from):[])}static isFragment(t){return t&&t[Ro]===D6}}class cl extends E2{constructor(r,n,i,o){super(r,"event",n,i);je(this,"anonymous");Object.defineProperty(this,Ro,{value:j6}),$t(this,{anonymous:o})}get topicHash(){return ey(this.format("sighash"))}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("event"),n.push(this.name+ty(r,this.inputs)),r!=="sighash"&&this.anonymous&&n.push("anonymous"),n.join(" ")}static getTopicHash(r,n){return n=(n||[]).map(o=>bi.from(o)),new cl(Zr,r,n,!1).topicHash}static from(r){if(cl.isFragment(r))return r;if(typeof r=="string")try{return cl.from(md(r))}catch{qe(!1,"invalid event fragment","obj",r)}else if(r instanceof Ps){const n=S2("event",r),i=wc(r,!0),o=!!Ic(r,eo(["anonymous"])).has("anonymous");return Rh(r),new cl(Zr,n,i,o)}return new cl(Zr,r.name,r.inputs?r.inputs.map(n=>bi.from(n,!0)):[],!!r.anonymous)}static isFragment(r){return r&&r[Ro]===j6}}class pc extends zh{constructor(r,n,i,o,l){super(r,n,i);je(this,"payable");je(this,"gas");Object.defineProperty(this,Ro,{value:I6}),$t(this,{payable:o,gas:l})}format(r){if(Tt(r!=null&&r!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),r==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r)))});const n=[`constructor${ty(r,this.inputs)}`];return this.payable&&n.push("payable"),this.gas!=null&&n.push(`@${this.gas.toString()}`),n.join(" ")}static from(r){if(pc.isFragment(r))return r;if(typeof r=="string")try{return pc.from(md(r))}catch{qe(!1,"invalid constuctor fragment","obj",r)}else if(r instanceof Ps){Ic(r,eo(["constructor"]));const n=wc(r),i=!!Ic(r,$re).has("payable"),o=QV(r);return Rh(r),new pc(Zr,"constructor",n,i,o)}return new pc(Zr,"constructor",r.inputs?r.inputs.map(bi.from):[],!!r.payable,r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Ro]===I6}}class nc extends zh{constructor(r,n,i){super(r,"fallback",n);je(this,"payable");Object.defineProperty(this,Ro,{value:O6}),$t(this,{payable:i})}format(r){const n=this.inputs.length===0?"receive":"fallback";if(r==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:n,stateMutability:i})}return`${n}()${this.payable?" payable":""}`}static from(r){if(nc.isFragment(r))return r;if(typeof r=="string")try{return nc.from(md(r))}catch{qe(!1,"invalid fallback fragment","obj",r)}else if(r instanceof Ps){const n=r.toString(),i=r.peekKeyword(eo(["fallback","receive"]));if(qe(i,"type must be fallback or receive","obj",n),r.popKeyword(eo(["fallback","receive"]))==="receive"){const a=wc(r);return qe(a.length===0,"receive cannot have arguments","obj.inputs",a),Ic(r,eo(["payable"])),Rh(r),new nc(Zr,[],!0)}let l=wc(r);l.length?qe(l.length===1&&l[0].type==="bytes","invalid fallback inputs","obj.inputs",l.map(a=>a.format("minimal")).join(", ")):l=[bi.from("bytes")];const c=KV(r);if(qe(c==="nonpayable"||c==="payable","fallback cannot be constants","obj.stateMutability",c),Ic(r,eo(["returns"])).has("returns")){const a=wc(r);qe(a.length===1&&a[0].type==="bytes","invalid fallback outputs","obj.outputs",a.map(s=>s.format("minimal")).join(", "))}return Rh(r),new nc(Zr,l,c==="payable")}if(r.type==="receive")return new nc(Zr,[],!0);if(r.type==="fallback"){const n=[bi.from("bytes")],i=r.stateMutability==="payable";return new nc(Zr,n,i)}qe(!1,"invalid fallback description","obj",r)}static isFragment(r){return r&&r[Ro]===O6}}class ul extends E2{constructor(r,n,i,o,l,c){super(r,"function",n,o);je(this,"constant");je(this,"outputs");je(this,"stateMutability");je(this,"payable");je(this,"gas");Object.defineProperty(this,Ro,{value:R6}),l=Object.freeze(l.slice()),$t(this,{constant:i==="view"||i==="pure",gas:c,outputs:l,payable:i==="payable",stateMutability:i})}get selector(){return ey(this.format("sighash")).substring(0,10)}format(r){if(r==null&&(r="sighash"),r==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(r))),outputs:this.outputs.map(i=>JSON.parse(i.format(r)))});const n=[];return r!=="sighash"&&n.push("function"),n.push(this.name+ty(r,this.inputs)),r!=="sighash"&&(this.stateMutability!=="nonpayable"&&n.push(this.stateMutability),this.outputs&&this.outputs.length&&(n.push("returns"),n.push(ty(r,this.outputs))),this.gas!=null&&n.push(`@${this.gas.toString()}`)),n.join(" ")}static getSelector(r,n){return n=(n||[]).map(o=>bi.from(o)),new ul(Zr,r,"view",n,[],null).selector}static from(r){if(ul.isFragment(r))return r;if(typeof r=="string")try{return ul.from(md(r))}catch{qe(!1,"invalid function fragment","obj",r)}else if(r instanceof Ps){const i=S2("function",r),o=wc(r),l=KV(r);let c=[];Ic(r,eo(["returns"])).has("returns")&&(c=wc(r));const a=QV(r);return Rh(r),new ul(Zr,i,l,o,c,a)}let n=r.stateMutability;return n==null&&(n="payable",typeof r.constant=="boolean"?(n="view",r.constant||(n="payable",typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable"))):typeof r.payable=="boolean"&&!r.payable&&(n="nonpayable")),new ul(Zr,r.name,n,r.inputs?r.inputs.map(bi.from):[],r.outputs?r.outputs.map(bi.from):[],r.gas!=null?r.gas:null)}static isFragment(r){return r&&r[Ro]===R6}}class yh extends E2{constructor(t,r,n){super(t,"struct",r,n),Object.defineProperty(this,Ro,{value:z6})}format(){throw new Error("@TODO")}static from(t){if(typeof t=="string")try{return yh.from(md(t))}catch{qe(!1,"invalid struct fragment","obj",t)}else if(t instanceof Ps){const r=S2("struct",t),n=wc(t);return Rh(t),new yh(Zr,r,n)}return new yh(Zr,t.name,t.inputs?t.inputs.map(bi.from):[])}static isFragment(t){return t&&t[Ro]===z6}}const js=new Map;js.set(0,"GENERIC_PANIC");js.set(1,"ASSERT_FALSE");js.set(17,"OVERFLOW");js.set(18,"DIVIDE_BY_ZERO");js.set(33,"ENUM_RANGE_ERROR");js.set(34,"BAD_STORAGE_DATA");js.set(49,"STACK_UNDERFLOW");js.set(50,"ARRAY_RANGE_ERROR");js.set(65,"OUT_OF_MEMORY");js.set(81,"UNINITIALIZED_FUNCTION_CALL");const one=new RegExp(/^bytes([0-9]*)$/),ane=new RegExp(/^(u?int)([0-9]*)$/);let L3=null,L6=1024;function sne(e,t,r,n){let i="missing revert data",o=null;const l=null;let c=null;if(r){i="execution reverted";const s=jc(r);if(r=Yn(r),s.length===0)i+=" (no data present; likely require(false) occurred",o="require(false)";else if(s.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(Yn(s.slice(0,4))==="0x08c379a0")try{o=n.decode(["string"],s.slice(4))[0],c={signature:"Error(string)",name:"Error",args:[o]},i+=`: ${JSON.stringify(o)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(Yn(s.slice(0,4))==="0x4e487b71")try{const u=Number(n.decode(["uint256"],s.slice(4))[0]);c={signature:"Panic(uint256)",name:"Panic",args:[u]},o=`Panic due to ${js.get(u)||"UNKNOWN"}(${u})`,i+=`: ${o}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const a={to:t.to?Oh(t.to):null,data:t.data||"0x"};return t.from&&(a.from=Oh(t.from)),Zv(i,"CALL_EXCEPTION",{action:e,data:r,reason:o,transaction:a,invocation:l,revert:c})}var Eu,of;const e2=class e2{constructor(){Cr(this,Eu)}getDefaultValue(t){const r=t.map(i=>$r(this,Eu,of).call(this,bi.from(i)));return new z1(r,"_").defaultValue()}encode(t,r){SV(r.length,t.length,"types/values length mismatch");const n=t.map(l=>$r(this,Eu,of).call(this,bi.from(l))),i=new z1(n,"_"),o=new UM;return i.encode(o,r),o.data}decode(t,r,n){const i=t.map(l=>$r(this,Eu,of).call(this,bi.from(l)));return new z1(i,"_").decode(new VM(r,n,L6))}static _setDefaultMaxInflation(t){qe(typeof t=="number"&&Number.isInteger(t),"invalid defaultMaxInflation factor","value",t),L6=t}static defaultAbiCoder(){return L3==null&&(L3=new e2),L3}static getBuiltinCallException(t,r,n){return sne(t,r,n,e2.defaultAbiCoder())}};Eu=new WeakSet,of=function(t){if(t.isArray())return new Rre($r(this,Eu,of).call(this,t.arrayChildren),t.arrayLength,t.name);if(t.isTuple())return new z1(t.components.map(n=>$r(this,Eu,of).call(this,n)),t.name);switch(t.baseType){case"address":return new Ire(t.name);case"bool":return new zre(t.name);case"string":return new Gre(t.name);case"bytes":return new Lre(t.name);case"":return new Fre(t.name)}let r=t.type.match(ane);if(r){let n=parseInt(r[2]||"256");return qe(n!==0&&n<=256&&n%8===0,"invalid "+r[1]+" bit length","param",t),new Wre(n/8,r[1]==="int",t.name)}if(r=t.type.match(one),r){let n=parseInt(r[1]);return qe(n!==0&&n<=32,"invalid bytes length","param",t),new Nre(n,t.name)}qe(!1,"invalid type","type",t.type)};let kw=e2;class lne{constructor(t,r,n){je(this,"fragment");je(this,"name");je(this,"signature");je(this,"topic");je(this,"args");const i=t.name,o=t.format();$t(this,{fragment:t,name:i,signature:o,topic:r,args:n})}}class cne{constructor(t,r,n,i){je(this,"fragment");je(this,"name");je(this,"args");je(this,"signature");je(this,"selector");je(this,"value");const o=t.name,l=t.format();$t(this,{fragment:t,name:o,args:n,signature:l,selector:r,value:i})}}class une{constructor(t,r,n){je(this,"fragment");je(this,"name");je(this,"args");je(this,"signature");je(this,"selector");const i=t.name,o=t.format();$t(this,{fragment:t,name:i,args:n,signature:o,selector:r})}}class N6{constructor(t){je(this,"hash");je(this,"_isIndexed");$t(this,{hash:t,_isIndexed:!0})}static isIndexed(t){return!!(t&&t._isIndexed)}}const B6={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},F6={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let t="unknown panic code";return e>=0&&e<=255&&B6[e.toString()]&&(t=B6[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${t})`}}};var el,tl,rl,Ai,Sl,kx,Dx;const Qd=class Qd{constructor(t){Cr(this,Sl);je(this,"fragments");je(this,"deploy");je(this,"fallback");je(this,"receive");Cr(this,el);Cr(this,tl);Cr(this,rl);Cr(this,Ai);let r=[];typeof t=="string"?r=JSON.parse(t):r=t,sr(this,rl,new Map),sr(this,el,new Map),sr(this,tl,new Map);const n=[];for(const l of r)try{n.push(zh.from(l))}catch(c){console.log(`[Warning] Invalid Fragment ${JSON.stringify(l)}:`,c.message)}$t(this,{fragments:Object.freeze(n)});let i=null,o=!1;sr(this,Ai,this.getAbiCoder()),this.fragments.forEach((l,c)=>{let a;switch(l.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}$t(this,{deploy:l});return;case"fallback":l.inputs.length===0?o=!0:(qe(!i||l.payable!==i.payable,"conflicting fallback fragments",`fragments[${c}]`,l),i=l,o=i.payable);return;case"function":a=Le(this,rl);break;case"event":a=Le(this,tl);break;case"error":a=Le(this,el);break;default:return}const s=l.format();a.has(s)||a.set(s,l)}),this.deploy||$t(this,{deploy:pc.from("constructor()")}),$t(this,{fallback:i,receive:o})}format(t){const r=t?"minimal":"full";return this.fragments.map(i=>i.format(r))}formatJson(){const t=this.fragments.map(r=>r.format("json"));return JSON.stringify(t.map(r=>JSON.parse(r)))}getAbiCoder(){return kw.defaultAbiCoder()}getFunctionName(t){const r=$r(this,Sl,kx).call(this,t,null,!1);return qe(r,"no matching function","key",t),r.name}hasFunction(t){return!!$r(this,Sl,kx).call(this,t,null,!1)}getFunction(t,r){return $r(this,Sl,kx).call(this,t,r||null,!0)}forEachFunction(t){const r=Array.from(Le(this,rl).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];t(Le(this,rl).get(i),n)}}getEventName(t){const r=$r(this,Sl,Dx).call(this,t,null,!1);return qe(r,"no matching event","key",t),r.name}hasEvent(t){return!!$r(this,Sl,Dx).call(this,t,null,!1)}getEvent(t,r){return $r(this,Sl,Dx).call(this,t,r||null,!0)}forEachEvent(t){const r=Array.from(Le(this,tl).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];t(Le(this,tl).get(i),n)}}getError(t,r){if(hc(t)){const i=t.toLowerCase();if(F6[i])return bo.from(F6[i].signature);for(const o of Le(this,el).values())if(i===o.selector)return o;return null}if(t.indexOf("(")===-1){const i=[];for(const[o,l]of Le(this,el))o.split("(")[0]===t&&i.push(l);if(i.length===0)return t==="Error"?bo.from("error Error(string)"):t==="Panic"?bo.from("error Panic(uint256)"):null;if(i.length>1){const o=i.map(l=>JSON.stringify(l.format())).join(", ");qe(!1,`ambiguous error description (i.e. ${o})`,"name",t)}return i[0]}if(t=bo.from(t).format(),t==="Error(string)")return bo.from("error Error(string)");if(t==="Panic(uint256)")return bo.from("error Panic(uint256)");const n=Le(this,el).get(t);return n||null}forEachError(t){const r=Array.from(Le(this,el).keys());r.sort((n,i)=>n.localeCompare(i));for(let n=0;n<r.length;n++){const i=r[n];t(Le(this,el).get(i),n)}}_decodeParams(t,r){return Le(this,Ai).decode(t,r)}_encodeParams(t,r){return Le(this,Ai).encode(t,r)}encodeDeploy(t){return this._encodeParams(this.deploy.inputs,t||[])}decodeErrorResult(t,r){if(typeof t=="string"){const n=this.getError(t);qe(n,"unknown error","fragment",t),t=n}return qe(mp(r,0,4)===t.selector,`data signature does not match error ${t.name}.`,"data",r),this._decodeParams(t.inputs,mp(r,4))}encodeErrorResult(t,r){if(typeof t=="string"){const n=this.getError(t);qe(n,"unknown error","fragment",t),t=n}return Qf([t.selector,this._encodeParams(t.inputs,r||[])])}decodeFunctionData(t,r){if(typeof t=="string"){const n=this.getFunction(t);qe(n,"unknown function","fragment",t),t=n}return qe(mp(r,0,4)===t.selector,`data signature does not match function ${t.name}.`,"data",r),this._decodeParams(t.inputs,mp(r,4))}encodeFunctionData(t,r){if(typeof t=="string"){const n=this.getFunction(t);qe(n,"unknown function","fragment",t),t=n}return Qf([t.selector,this._encodeParams(t.inputs,r||[])])}decodeFunctionResult(t,r){if(typeof t=="string"){const o=this.getFunction(t);qe(o,"unknown function","fragment",t),t=o}let n="invalid length for result data";const i=bl(r);if(i.length%32===0)try{return Le(this,Ai).decode(t.outputs,i)}catch{n="could not decode result data"}Tt(!1,n,"BAD_DATA",{value:Yn(i),info:{method:t.name,signature:t.format()}})}makeError(t,r){const n=jc(t,"data"),i=kw.getBuiltinCallException("call",r,n);if(i.message.startsWith("execution reverted (unknown custom error)")){const c=Yn(n.slice(0,4)),a=this.getError(c);if(a)try{const s=Le(this,Ai).decode(a.inputs,n.slice(4));i.revert={name:a.name,signature:a.format(),args:s},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const l=this.parseTransaction(r);return l&&(i.invocation={method:l.name,signature:l.signature,args:l.args}),i}encodeFunctionResult(t,r){if(typeof t=="string"){const n=this.getFunction(t);qe(n,"unknown function","fragment",t),t=n}return Yn(Le(this,Ai).encode(t.outputs,r||[]))}encodeFilterTopics(t,r){if(typeof t=="string"){const o=this.getEvent(t);qe(o,"unknown event","eventFragment",t),t=o}Tt(r.length<=t.inputs.length,`too many arguments for ${t.format()}`,"UNEXPECTED_ARGUMENT",{count:r.length,expectedCount:t.inputs.length});const n=[];t.anonymous||n.push(t.topicHash);const i=(o,l)=>o.type==="string"?ey(l):o.type==="bytes"?rd(Yn(l)):(o.type==="bool"&&typeof l=="boolean"?l=l?"0x01":"0x00":o.type.match(/^u?int/)?l=MV(l):o.type.match(/^bytes/)?l=qte(l,32):o.type==="address"&&Le(this,Ai).encode(["address"],[l]),Gte(Yn(l),32));for(r.forEach((o,l)=>{const c=t.inputs[l];if(!c.indexed){qe(o==null,"cannot filter non-indexed parameters; must be null","contract."+c.name,o);return}o==null?n.push(null):c.baseType==="array"||c.baseType==="tuple"?qe(!1,"filtering with tuples or arrays not supported","contract."+c.name,o):Array.isArray(o)?n.push(o.map(a=>i(c,a))):n.push(i(c,o))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(t,r){if(typeof t=="string"){const l=this.getEvent(t);qe(l,"unknown event","eventFragment",t),t=l}const n=[],i=[],o=[];return t.anonymous||n.push(t.topicHash),qe(r.length===t.inputs.length,"event arguments/values mismatch","values",r),t.inputs.forEach((l,c)=>{const a=r[c];if(l.indexed)if(l.type==="string")n.push(ey(a));else if(l.type==="bytes")n.push(rd(a));else{if(l.baseType==="tuple"||l.baseType==="array")throw new Error("not implemented");n.push(Le(this,Ai).encode([l.type],[a]))}else i.push(l),o.push(a)}),{data:Le(this,Ai).encode(i,o),topics:n}}decodeEventLog(t,r,n){if(typeof t=="string"){const p=this.getEvent(t);qe(p,"unknown event","eventFragment",t),t=p}if(n!=null&&!t.anonymous){const p=t.topicHash;qe(hc(n[0],32)&&n[0].toLowerCase()===p,"fragment/topic mismatch","topics[0]",n[0]),n=n.slice(1)}const i=[],o=[],l=[];t.inputs.forEach((p,m)=>{p.indexed?p.type==="string"||p.type==="bytes"||p.baseType==="tuple"||p.baseType==="array"?(i.push(bi.from({type:"bytes32",name:p.name})),l.push(!0)):(i.push(p),l.push(!1)):(o.push(p),l.push(!1))});const c=n!=null?Le(this,Ai).decode(i,Qf(n)):null,a=Le(this,Ai).decode(o,r,!0),s=[],u=[];let d=0,h=0;return t.inputs.forEach((p,m)=>{let f=null;if(p.indexed)if(c==null)f=new N6(null);else if(l[m])f=new N6(c[h++]);else try{f=c[h++]}catch(g){f=g}else try{f=a[d++]}catch(g){f=g}s.push(f),u.push(p.name||null)}),Om.fromItems(s,u)}parseTransaction(t){const r=jc(t.data,"tx.data"),n=fd(t.value!=null?t.value:0,"tx.value"),i=this.getFunction(Yn(r.slice(0,4)));if(!i)return null;const o=Le(this,Ai).decode(i.inputs,r.slice(4));return new cne(i,i.selector,o,n)}parseCallResult(t){throw new Error("@TODO")}parseLog(t){const r=this.getEvent(t.topics[0]);return!r||r.anonymous?null:new lne(r,r.topicHash,this.decodeEventLog(r,t.data,t.topics))}parseError(t){const r=Yn(t),n=this.getError(mp(r,0,4));if(!n)return null;const i=Le(this,Ai).decode(n.inputs,mp(r,4));return new une(n,n.selector,i)}static from(t){return t instanceof Qd?t:typeof t=="string"?new Qd(JSON.parse(t)):typeof t.formatJson=="function"?new Qd(t.formatJson()):typeof t.format=="function"?new Qd(t.format("json")):new Qd(t)}};el=new WeakMap,tl=new WeakMap,rl=new WeakMap,Ai=new WeakMap,Sl=new WeakSet,kx=function(t,r,n){if(hc(t)){const o=t.toLowerCase();for(const l of Le(this,rl).values())if(o===l.selector)return l;return null}if(t.indexOf("(")===-1){const o=[];for(const[l,c]of Le(this,rl))l.split("(")[0]===t&&o.push(c);if(r){const l=r.length>0?r[r.length-1]:null;let c=r.length,a=!0;Ii.isTyped(l)&&l.type==="overrides"&&(a=!1,c--);for(let s=o.length-1;s>=0;s--){const u=o[s].inputs.length;u!==c&&(!a||u!==c-1)&&o.splice(s,1)}for(let s=o.length-1;s>=0;s--){const u=o[s].inputs;for(let d=0;d<r.length;d++)if(Ii.isTyped(r[d])){if(d>=u.length){if(r[d].type==="overrides")continue;o.splice(s,1);break}if(r[d].type!==u[d].baseType){o.splice(s,1);break}}}}if(o.length===1&&r&&r.length!==o[0].inputs.length){const l=r[r.length-1];(l==null||Array.isArray(l)||typeof l!="object")&&o.splice(0,1)}if(o.length===0)return null;if(o.length>1&&n){const l=o.map(c=>JSON.stringify(c.format())).join(", ");qe(!1,`ambiguous function description (i.e. matches ${l})`,"key",t)}return o[0]}const i=Le(this,rl).get(ul.from(t).format());return i||null},Dx=function(t,r,n){if(hc(t)){const o=t.toLowerCase();for(const l of Le(this,tl).values())if(o===l.topicHash)return l;return null}if(t.indexOf("(")===-1){const o=[];for(const[l,c]of Le(this,tl))l.split("(")[0]===t&&o.push(c);if(r){for(let l=o.length-1;l>=0;l--)o[l].inputs.length<r.length&&o.splice(l,1);for(let l=o.length-1;l>=0;l--){const c=o[l].inputs;for(let a=0;a<r.length;a++)if(Ii.isTyped(r[a])&&r[a].type!==c[a].baseType){o.splice(l,1);break}}}if(o.length===0)return null;if(o.length>1&&n){const l=o.map(c=>JSON.stringify(c.format())).join(", ");qe(!1,`ambiguous event description (i.e. matches ${l})`,"key",t)}return o[0]}const i=Le(this,tl).get(cl.from(t).format());return i||null};let GM=Qd;const ZV=BigInt(0);function ka(e){return e==null?null:e.toString()}function dne(e){const t={};e.to&&(t.to=e.to),e.from&&(t.from=e.from),e.data&&(t.data=Yn(e.data));const r="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of r)!(i in e)||e[i]==null||(t[i]=fd(e[i],`request.${i}`));const n="type,nonce".split(/,/);for(const i of n)!(i in e)||e[i]==null||(t[i]=Uc(e[i],`request.${i}`));return e.accessList&&(t.accessList=qre(e.accessList)),"blockTag"in e&&(t.blockTag=e.blockTag),"enableCcipRead"in e&&(t.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(t.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(t.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(t.kzg=e.kzg),"blobs"in e&&e.blobs&&(t.blobs=e.blobs.map(i=>Wte(i)?Yn(i):Object.assign({},i))),t}class C2{constructor(t,r){je(this,"provider");je(this,"transactionHash");je(this,"blockHash");je(this,"blockNumber");je(this,"removed");je(this,"address");je(this,"data");je(this,"topics");je(this,"index");je(this,"transactionIndex");this.provider=r;const n=Object.freeze(t.topics.slice());$t(this,{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,removed:t.removed,address:t.address,data:t.data,topics:n,index:t.index,transactionIndex:t.transactionIndex})}toJSON(){const{address:t,blockHash:r,blockNumber:n,data:i,index:o,removed:l,topics:c,transactionHash:a,transactionIndex:s}=this;return{_type:"log",address:t,blockHash:r,blockNumber:n,data:i,index:o,removed:l,topics:c,transactionHash:a,transactionIndex:s}}async getBlock(){const t=await this.provider.getBlock(this.blockHash);return Tt(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransaction(){const t=await this.provider.getTransaction(this.transactionHash);return Tt(!!t,"failed to find transaction","UNKNOWN_ERROR",{}),t}async getTransactionReceipt(){const t=await this.provider.getTransactionReceipt(this.transactionHash);return Tt(!!t,"failed to find transaction receipt","UNKNOWN_ERROR",{}),t}removedEvent(){return pne(this)}}var ky;class hne{constructor(t,r){je(this,"provider");je(this,"to");je(this,"from");je(this,"contractAddress");je(this,"hash");je(this,"index");je(this,"blockHash");je(this,"blockNumber");je(this,"logsBloom");je(this,"gasUsed");je(this,"blobGasUsed");je(this,"cumulativeGasUsed");je(this,"gasPrice");je(this,"blobGasPrice");je(this,"type");je(this,"status");je(this,"root");Cr(this,ky);sr(this,ky,Object.freeze(t.logs.map(i=>new C2(i,r))));let n=ZV;t.effectiveGasPrice!=null?n=t.effectiveGasPrice:t.gasPrice!=null&&(n=t.gasPrice),$t(this,{provider:r,to:t.to,from:t.from,contractAddress:t.contractAddress,hash:t.hash,index:t.index,blockHash:t.blockHash,blockNumber:t.blockNumber,logsBloom:t.logsBloom,gasUsed:t.gasUsed,cumulativeGasUsed:t.cumulativeGasUsed,blobGasUsed:t.blobGasUsed,gasPrice:n,blobGasPrice:t.blobGasPrice,type:t.type,status:t.status,root:t.root})}get logs(){return Le(this,ky)}toJSON(){const{to:t,from:r,contractAddress:n,hash:i,index:o,blockHash:l,blockNumber:c,logsBloom:a,logs:s,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:l,blockNumber:c,contractAddress:n,cumulativeGasUsed:ka(this.cumulativeGasUsed),from:r,gasPrice:ka(this.gasPrice),blobGasUsed:ka(this.blobGasUsed),blobGasPrice:ka(this.blobGasPrice),gasUsed:ka(this.gasUsed),hash:i,index:o,logs:s,logsBloom:a,root:d,status:u,to:t}}get length(){return this.logs.length}[Symbol.iterator](){let t=0;return{next:()=>t<this.length?{value:this.logs[t++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const t=await this.provider.getBlock(this.blockHash);if(t==null)throw new Error("TODO");return t}async getTransaction(){const t=await this.provider.getTransaction(this.hash);if(t==null)throw new Error("TODO");return t}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return eH(this)}reorderedEvent(t){return Tt(!t||t.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),JV(this,t)}}ky=new WeakMap;var Cu;const Oj=class Oj{constructor(t,r){je(this,"provider");je(this,"blockNumber");je(this,"blockHash");je(this,"index");je(this,"hash");je(this,"type");je(this,"to");je(this,"from");je(this,"nonce");je(this,"gasLimit");je(this,"gasPrice");je(this,"maxPriorityFeePerGas");je(this,"maxFeePerGas");je(this,"maxFeePerBlobGas");je(this,"data");je(this,"value");je(this,"chainId");je(this,"signature");je(this,"accessList");je(this,"blobVersionedHashes");Cr(this,Cu);this.provider=r,this.blockNumber=t.blockNumber!=null?t.blockNumber:null,this.blockHash=t.blockHash!=null?t.blockHash:null,this.hash=t.hash,this.index=t.index,this.type=t.type,this.from=t.from,this.to=t.to||null,this.gasLimit=t.gasLimit,this.nonce=t.nonce,this.data=t.data,this.value=t.value,this.gasPrice=t.gasPrice,this.maxPriorityFeePerGas=t.maxPriorityFeePerGas!=null?t.maxPriorityFeePerGas:null,this.maxFeePerGas=t.maxFeePerGas!=null?t.maxFeePerGas:null,this.maxFeePerBlobGas=t.maxFeePerBlobGas!=null?t.maxFeePerBlobGas:null,this.chainId=t.chainId,this.signature=t.signature,this.accessList=t.accessList!=null?t.accessList:null,this.blobVersionedHashes=t.blobVersionedHashes!=null?t.blobVersionedHashes:null,sr(this,Cu,-1)}toJSON(){const{blockNumber:t,blockHash:r,index:n,hash:i,type:o,to:l,from:c,nonce:a,data:s,signature:u,accessList:d,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:t,blockHash:r,blobVersionedHashes:h,chainId:ka(this.chainId),data:s,from:c,gasLimit:ka(this.gasLimit),gasPrice:ka(this.gasPrice),hash:i,maxFeePerGas:ka(this.maxFeePerGas),maxPriorityFeePerGas:ka(this.maxPriorityFeePerGas),maxFeePerBlobGas:ka(this.maxFeePerBlobGas),nonce:a,signature:u,to:l,index:n,type:o,value:ka(this.value)}}async getBlock(){let t=this.blockNumber;if(t==null){const n=await this.getTransaction();n&&(t=n.blockNumber)}if(t==null)return null;const r=this.provider.getBlock(t);if(r==null)throw new Error("TODO");return r}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:r,blockNumber:n}=await NM({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return r==null||r.blockNumber==null?0:n-r.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(t,r){const n=t??1,i=r??0;let o=Le(this,Cu),l=-1,c=o===-1;const a=async()=>{if(c)return null;const{blockNumber:h,nonce:p}=await NM({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(p<this.nonce){o=h;return}if(c)return null;const m=await this.getTransaction();if(!(m&&m.blockNumber!=null))for(l===-1&&(l=o-3,l<Le(this,Cu)&&(l=Le(this,Cu)));l<=h;){if(c)return null;const f=await this.provider.getBlock(l,!0);if(f==null)return;for(const g of f)if(g===this.hash)return;for(let g=0;g<f.length;g++){const v=await f.getTransaction(g);if(v.from===this.from&&v.nonce===this.nonce){if(c)return null;const x=await this.provider.getTransactionReceipt(v.hash);if(x==null||h-x.blockNumber+1<n)return;let y="replaced";v.data===this.data&&v.to===this.to&&v.value===this.value?y="repriced":v.data==="0x"&&v.from===v.to&&v.value===ZV&&(y="cancelled"),Tt(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:y==="replaced"||y==="cancelled",reason:y,replacement:v.replaceableTransaction(o),hash:v.hash,receipt:x})}}l++}},s=h=>{if(h==null||h.status!==0)return h;Tt(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(n===0)return s(u);if(u){if(await u.confirmations()>=n)return s(u)}else if(await a(),n===0)return null;return await new Promise((h,p)=>{const m=[],f=()=>{m.forEach(v=>v())};if(m.push(()=>{c=!0}),i>0){const v=setTimeout(()=>{f(),p(Zv("wait for transaction timeout","TIMEOUT"))},i);m.push(()=>{clearTimeout(v)})}const g=async v=>{if(await v.confirmations()>=n){f();try{h(s(v))}catch(x){p(x)}}};if(m.push(()=>{this.provider.off(this.hash,g)}),this.provider.on(this.hash,g),o>=0){const v=async()=>{try{await a()}catch(x){if(Im(x,"TRANSACTION_REPLACED")){f(),p(x);return}}c||this.provider.once("block",v)};m.push(()=>{this.provider.off("block",v)}),this.provider.once("block",v)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Tt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),eH(this)}reorderedEvent(t){return Tt(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Tt(!t||t.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),JV(this,t)}replaceableTransaction(t){qe(Number.isInteger(t)&&t>=0,"invalid startBlock","startBlock",t);const r=new Oj(this,this.provider);return sr(r,Cu,t),r}};Cu=new WeakMap;let qM=Oj;function JV(e,t){return{orphan:"reorder-transaction",tx:e,other:t}}function eH(e){return{orphan:"drop-transaction",tx:e}}function pne(e){return{orphan:"drop-log",log:{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,address:e.address,data:e.data,topics:Object.freeze(e.topics.slice()),index:e.index}}}class Fk extends C2{constructor(r,n,i){super(r,r.provider);je(this,"interface");je(this,"fragment");je(this,"args");const o=n.decodeEventLog(i,r.data,r.topics);$t(this,{args:o,fragment:i,interface:n})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class tH extends C2{constructor(r,n){super(r,r.provider);je(this,"error");$t(this,{error:n})}}var Em;class fne extends hne{constructor(r,n,i){super(i,n);Cr(this,Em);sr(this,Em,r)}get logs(){return super.logs.map(r=>{const n=r.topics.length?Le(this,Em).getEvent(r.topics[0]):null;if(n)try{return new Fk(r,Le(this,Em),n)}catch(i){return new tH(r,i)}return r})}}Em=new WeakMap;var Dy;class Uk extends qM{constructor(r,n,i){super(i,n);Cr(this,Dy);sr(this,Dy,r)}async wait(r,n){const i=await super.wait(r,n);return i==null?null:new fne(Le(this,Dy),this.provider,i)}}Dy=new WeakMap;class rH extends Qte{constructor(r,n,i,o){super(r,n,i);je(this,"log");$t(this,{log:o})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class mne extends rH{constructor(t,r,n,i,o){super(t,r,n,new Fk(o,t.interface,i));const l=t.interface.decodeEventLog(i,this.log.data,this.log.topics);$t(this,{args:l,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const U6=BigInt(0);function nH(e){return e&&typeof e.call=="function"}function iH(e){return e&&typeof e.estimateGas=="function"}function A2(e){return e&&typeof e.resolveName=="function"}function oH(e){return e&&typeof e.sendTransaction=="function"}function aH(e){if(e!=null){if(A2(e))return e;if(e.provider)return e.provider}}var jy;class gne{constructor(t,r,n){Cr(this,jy);je(this,"fragment");if($t(this,{fragment:r}),r.inputs.length<n.length)throw new Error("too many arguments");const i=Lh(t.runner,"resolveName"),o=A2(i)?i:null;sr(this,jy,async function(){const l=await Promise.all(r.inputs.map((c,a)=>n[a]==null?null:c.walkAsync(n[a],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(h=>Jv(h,o))):Jv(d,o):d)));return t.interface.encodeFilterTopics(r,l)}())}getTopicFilter(){return Le(this,jy)}}jy=new WeakMap;function Lh(e,t){return e==null?null:typeof e[t]=="function"?e:e.provider&&typeof e.provider[t]=="function"?e.provider:null}function nh(e){return e==null?null:e.provider||null}async function sH(e,t){const r=Ii.dereference(e,"overrides");qe(typeof r=="object","invalid overrides parameter","overrides",e);const n=dne(r);return qe(n.to==null||(t||[]).indexOf("to")>=0,"cannot override to","overrides.to",n.to),qe(n.data==null||(t||[]).indexOf("data")>=0,"cannot override data","overrides.data",n.data),n.from&&(n.from=n.from),n}async function vne(e,t,r){const n=Lh(e,"resolveName"),i=A2(n)?n:null;return await Promise.all(t.map((o,l)=>o.walkAsync(r[l],(c,a)=>(a=Ii.dereference(a,c),c==="address"?Jv(a,i):a))))}function yne(e){const t=async function(l){const c=await sH(l,["data"]);c.to=await e.getAddress(),c.from&&(c.from=await Jv(c.from,aH(e.runner)));const a=e.interface,s=fd(c.value||U6,"overrides.value")===U6,u=(c.data||"0x")==="0x";a.fallback&&!a.fallback.payable&&a.receive&&!u&&!s&&qe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",l),qe(a.fallback||u,"cannot send data to receive-only contract","overrides.data",c.data);const d=a.receive||a.fallback&&a.fallback.payable;return qe(d||s,"cannot send value to non-payable fallback","overrides.value",c.value),qe(a.fallback||u,"cannot send data to receive-only contract","overrides.data",c.data),c},r=async function(l){const c=Lh(e.runner,"call");Tt(nH(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const a=await t(l);try{return await c.call(a)}catch(s){throw _V(s)&&s.data?e.interface.makeError(s.data,a):s}},n=async function(l){const c=e.runner;Tt(oH(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const a=await c.sendTransaction(await t(l)),s=nh(e.runner);return new Uk(e.interface,s,a)},i=async function(l){const c=Lh(e.runner,"estimateGas");return Tt(iH(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await t(l))},o=async l=>await n(l);return $t(o,{_contract:e,estimateGas:i,populateTransaction:t,send:n,staticCall:r}),o}function bne(e,t){const r=function(...s){const u=e.interface.getFunction(t,s);return Tt(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:s}}),u},n=async function(...s){const u=r(...s);let d={};if(u.inputs.length+1===s.length&&(d=await sH(s.pop()),d.from&&(d.from=await Jv(d.from,aH(e.runner)))),u.inputs.length!==s.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await vne(e.runner,u.inputs,s);return Object.assign({},d,await NM({to:e.getAddress(),data:e.interface.encodeFunctionData(u,h)}))},i=async function(...s){const u=await c(...s);return u.length===1?u[0]:u},o=async function(...s){const u=e.runner;Tt(oH(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await n(...s)),h=nh(e.runner);return new Uk(e.interface,h,d)},l=async function(...s){const u=Lh(e.runner,"estimateGas");return Tt(iH(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await n(...s))},c=async function(...s){const u=Lh(e.runner,"call");Tt(nH(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await n(...s);let h="0x";try{h=await u.call(d)}catch(m){throw _V(m)&&m.data?e.interface.makeError(m.data,d):m}const p=r(...s);return e.interface.decodeFunctionResult(p,h)},a=async(...s)=>r(...s).constant?await i(...s):await o(...s);return $t(a,{name:e.interface.getFunctionName(t),_contract:e,_key:t,getFragment:r,estimateGas:l,populateTransaction:n,send:o,staticCall:i,staticCallResult:c}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=e.interface.getFunction(t);return Tt(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),s}}),a}function xne(e,t){const r=function(...i){const o=e.interface.getEvent(t,i);return Tt(o,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t,args:i}}),o},n=function(...i){return new gne(e,r(...i),i)};return $t(n,{name:e.interface.getEventName(t),_contract:e,_key:t,getFragment:r}),Object.defineProperty(n,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=e.interface.getEvent(t);return Tt(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:t}}),i}}),n}const Dw=Symbol.for("_ethersInternal_contract"),lH=new WeakMap;function wne(e,t){lH.set(e[Dw],t)}function Yo(e){return lH.get(e[Dw])}function _ne(e){return e&&typeof e=="object"&&"getTopicFilter"in e&&typeof e.getTopicFilter=="function"&&e.fragment}async function Vk(e,t){let r,n=null;if(Array.isArray(t)){const o=function(l){if(hc(l,32))return l;const c=e.interface.getEvent(l);return qe(c,"unknown fragment","name",l),c.topicHash};r=t.map(l=>l==null?null:Array.isArray(l)?l.map(o):o(l))}else t==="*"?r=[null]:typeof t=="string"?hc(t,32)?r=[t]:(n=e.interface.getEvent(t),qe(n,"unknown fragment","event",t),r=[n.topicHash]):_ne(t)?r=await t.getTopicFilter():"fragment"in t?(n=t.fragment,r=[n.topicHash]):qe(!1,"unknown event name","event",t);r=r.map(o=>{if(o==null)return null;if(Array.isArray(o)){const l=Array.from(new Set(o.map(c=>c.toLowerCase())).values());return l.length===1?l[0]:(l.sort(),l)}return o.toLowerCase()});const i=r.map(o=>o==null?"null":Array.isArray(o)?o.join("|"):o).join("&");return{fragment:n,tag:i,topics:r}}async function N0(e,t){const{subs:r}=Yo(e);return r.get((await Vk(e,t)).tag)||null}async function V6(e,t,r){const n=nh(e.runner);Tt(n,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:t});const{fragment:i,tag:o,topics:l}=await Vk(e,r),{addr:c,subs:a}=Yo(e);let s=a.get(o);if(!s){const d={address:c||e,topics:l},h=g=>{let v=i;if(v==null)try{v=e.interface.getEvent(g.topics[0])}catch{}if(v){const x=v,y=i?e.interface.decodeEventLog(i,g.data,g.topics):[];$M(e,r,y,b=>new mne(e,b,r,x,g))}else $M(e,r,[],x=>new rH(e,x,r,g))};let p=[];s={tag:o,listeners:[],start:()=>{p.length||p.push(n.on(d,h))},stop:async()=>{if(p.length==0)return;let g=p;p=[],await Promise.all(g),n.off(d,h)}},a.set(o,s)}return s}let YM=Promise.resolve();async function Sne(e,t,r,n){await YM;const i=await N0(e,t);if(!i)return!1;const o=i.listeners.length;return i.listeners=i.listeners.filter(({listener:l,once:c})=>{const a=Array.from(r);n&&a.push(n(c?null:l));try{l.call(e,...a)}catch{}return!c}),i.listeners.length===0&&(i.stop(),Yo(e).subs.delete(i.tag)),o>0}async function $M(e,t,r,n){try{await YM}catch{}const i=Sne(e,t,r,n);return YM=i,await i}const L1=["then"];var G7;G7=Dw;const jv=class jv{constructor(t,r,n,i){je(this,"target");je(this,"interface");je(this,"runner");je(this,"filters");je(this,G7);je(this,"fallback");qe(typeof t=="string"||FV(t),"invalid value for Contract target","target",t),n==null&&(n=null);const o=GM.from(r);$t(this,{target:t,runner:n,interface:o}),Object.defineProperty(this,Dw,{value:{}});let l,c=null,a=null;if(i){const d=nh(n);a=new Uk(this.interface,d,i)}let s=new Map;if(typeof t=="string")if(hc(t))c=t,l=Promise.resolve(t);else{const d=Lh(n,"resolveName");if(!A2(d))throw Zv("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});l=d.resolveName(t).then(h=>{if(h==null)throw Zv("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:t});return Yo(this).addr=h,h})}else l=t.getAddress().then(d=>{if(d==null)throw new Error("TODO");return Yo(this).addr=d,d});wne(this,{addrPromise:l,addr:c,deployTx:a,subs:s});const u=new Proxy({},{get:(d,h,p)=>{if(typeof h=="symbol"||L1.indexOf(h)>=0)return Reflect.get(d,h,p);try{return this.getEvent(h)}catch(m){if(!Im(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(d,h)=>L1.indexOf(h)>=0?Reflect.has(d,h):Reflect.has(d,h)||this.interface.hasEvent(String(h))});return $t(this,{filters:u}),$t(this,{fallback:o.receive||o.fallback?yne(this):null}),new Proxy(this,{get:(d,h,p)=>{if(typeof h=="symbol"||h in d||L1.indexOf(h)>=0)return Reflect.get(d,h,p);try{return d.getFunction(h)}catch(m){if(!Im(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(d,h)=>typeof h=="symbol"||h in d||L1.indexOf(h)>=0?Reflect.has(d,h):d.interface.hasFunction(h)})}connect(t){return new jv(this.target,this.interface,t)}attach(t){return new jv(t,this.interface,this.runner)}async getAddress(){return await Yo(this).addrPromise}async getDeployedCode(){const t=nh(this.runner);Tt(t,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const r=await t.getCode(await this.getAddress());return r==="0x"?null:r}async waitForDeployment(){const t=this.deploymentTransaction();if(t)return await t.wait(),this;if(await this.getDeployedCode()!=null)return this;const n=nh(this.runner);return Tt(n!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,o)=>{const l=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);n.once("block",l)}catch(c){o(c)}};l()})}deploymentTransaction(){return Yo(this).deployTx}getFunction(t){return typeof t!="string"&&(t=t.format()),bne(this,t)}getEvent(t){return typeof t!="string"&&(t=t.format()),xne(this,t)}async queryTransaction(t){throw new Error("@TODO")}async queryFilter(t,r,n){r==null&&(r=0),n==null&&(n="latest");const{addr:i,addrPromise:o}=Yo(this),l=i||await o,{fragment:c,topics:a}=await Vk(this,t),s={address:l,topics:a,fromBlock:r,toBlock:n},u=nh(this.runner);return Tt(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(s)).map(d=>{let h=c;if(h==null)try{h=this.interface.getEvent(d.topics[0])}catch{}if(h)try{return new Fk(d,this.interface,h)}catch(p){return new tH(d,p)}return new C2(d,u)})}async on(t,r){const n=await V6(this,"on",t);return n.listeners.push({listener:r,once:!1}),n.start(),this}async once(t,r){const n=await V6(this,"once",t);return n.listeners.push({listener:r,once:!0}),n.start(),this}async emit(t,...r){return await $M(this,t,r,null)}async listenerCount(t){if(t){const i=await N0(this,t);return i?i.listeners.length:0}const{subs:r}=Yo(this);let n=0;for(const{listeners:i}of r.values())n+=i.length;return n}async listeners(t){if(t){const i=await N0(this,t);return i?i.listeners.map(({listener:o})=>o):[]}const{subs:r}=Yo(this);let n=[];for(const{listeners:i}of r.values())n=n.concat(i.map(({listener:o})=>o));return n}async off(t,r){const n=await N0(this,t);if(!n)return this;if(r){const i=n.listeners.map(({listener:o})=>o).indexOf(r);i>=0&&n.listeners.splice(i,1)}return(r==null||n.listeners.length===0)&&(n.stop(),Yo(this).subs.delete(n.tag)),this}async removeAllListeners(t){if(t){const r=await N0(this,t);if(!r)return this;r.stop(),Yo(this).subs.delete(r.tag)}else{const{subs:r}=Yo(this);for(const{tag:n,stop:i}of r.values())i(),r.delete(n)}return this}async addListener(t,r){return await this.on(t,r)}async removeListener(t,r){return await this.off(t,r)}static buildClass(t){class r extends jv{constructor(i,o=null){super(i,t,o)}}return r}static from(t,r,n){return n==null&&(n=null),new this(t,r,n)}};let XM=jv;function Ene(){return XM}class Cne extends Ene(){}const Ane="/bg.jpg";var cH={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},H6=mt.createContext&&mt.createContext(cH),qu=function(){return qu=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++){t=arguments[r];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},qu.apply(this,arguments)},Mne=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};function uH(e){return e&&e.map(function(t,r){return mt.createElement(t.tag,qu({key:r},t.attr),uH(t.child))})}function Dr(e){return function(t){return mt.createElement(Tne,qu({attr:qu({},e.attr)},t),uH(e.child))}}function Tne(e){var t=function(r){var n=e.attr,i=e.size,o=e.title,l=Mne(e,["attr","size","title"]),c=i||r.size||"1em",a;return r.className&&(a=r.className),e.className&&(a=(a?a+" ":"")+e.className),mt.createElement("svg",qu({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,l,{className:a,style:qu(qu({color:e.color||r.color},r.style),e.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),o&&mt.createElement("title",null,o),e.children)};return H6!==void 0?mt.createElement(H6.Consumer,null,function(r){return t(r)}):t(cH)}function Pne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"}}]})(e)}function kne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"}}]})(e)}function Dne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"}}]})(e)}function dH(e){return Dr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"}}]})(e)}function jne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"}}]})(e)}function Hk(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"}}]})(e)}function hH(e){return Dr({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"}}]})(e)}function pH(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M444.52 3.52L28.74 195.42c-47.97 22.39-31.98 92.75 19.19 92.75h175.91v175.91c0 51.17 70.36 67.17 92.75 19.19l191.9-415.78c15.99-38.39-25.59-79.97-63.97-63.97z"}}]})(e)}function Ine(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M96 480h320V128h-32V80c0-26.51-21.49-48-48-48H176c-26.51 0-48 21.49-48 48v48H96v352zm96-384h128v32H192V96zm320 80v256c0 26.51-21.49 48-48 48h-16V128h16c26.51 0 48 21.49 48 48zM64 480H48c-26.51 0-48-21.49-48-48V176c0-26.51 21.49-48 48-48h16v352zm288-208v32c0 8.837-7.163 16-16 16h-48v48c0 8.837-7.163 16-16 16h-32c-8.837 0-16-7.163-16-16v-48h-48c-8.837 0-16-7.163-16-16v-32c0-8.837 7.163-16 16-16h48v-48c0-8.837 7.163-16 16-16h32c8.837 0 16 7.163 16 16v48h48c8.837 0 16 7.163 16 16z"}}]})(e)}function One(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M136.6 138.79a64.003 64.003 0 0 0-43.31 41.35L0 460l14.69 14.69L164.8 324.58c-2.99-6.26-4.8-13.18-4.8-20.58 0-26.51 21.49-48 48-48s48 21.49 48 48-21.49 48-48 48c-7.4 0-14.32-1.81-20.58-4.8L37.31 497.31 52 512l279.86-93.29a64.003 64.003 0 0 0 41.35-43.31L416 224 288 96l-151.4 42.79zm361.34-64.62l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.75 18.75-49.15 0-67.91z"}}]})(e)}function Rne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"}}]})(e)}function zne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm144 276c0 6.6-5.4 12-12 12h-92v92c0 6.6-5.4 12-12 12h-56c-6.6 0-12-5.4-12-12v-92h-92c-6.6 0-12-5.4-12-12v-56c0-6.6 5.4-12 12-12h92v-92c0-6.6 5.4-12 12-12h56c6.6 0 12 5.4 12 12v92h92c6.6 0 12 5.4 12 12v56z"}}]})(e)}function Lne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"}}]})(e)}function Nne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"}}]})(e)}function Bne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 224h13.5c24.7 56.5 80.9 96 146.5 96s121.8-39.5 146.5-96H384c8.8 0 16-7.2 16-16v-96c0-8.8-7.2-16-16-16h-13.5C345.8 39.5 289.6 0 224 0S102.2 39.5 77.5 96H64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16zm40-88c0-22.1 21.5-40 48-40h144c26.5 0 48 17.9 48 40v24c0 53-43 96-96 96h-48c-53 0-96-43-96-96v-24zm72 72l12-36 36-12-36-12-12-36-12 36-36 12 36 12 12 36zm151.6 113.4C297.7 340.7 262.2 352 224 352s-73.7-11.3-103.6-30.6C52.9 328.5 0 385 0 454.4v9.6c0 26.5 21.5 48 48 48h80v-64c0-17.7 14.3-32 32-32h128c17.7 0 32 14.3 32 32v64h80c26.5 0 48-21.5 48-48v-9.6c0-69.4-52.9-125.9-120.4-133zM272 448c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm-96 0c-8.8 0-16 7.2-16 16v48h32v-48c0-8.8-7.2-16-16-16z"}}]})(e)}function W6(e){return Dr({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"}}]})(e)}function Fne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"}}]})(e)}function Une(e){return Dr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}}]})(e)}function Vne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M10 15v4a3 3 0 0 0 3 3l4-9V2H5.72a2 2 0 0 0-2 1.7l-1.38 9a2 2 0 0 0 2 2.3zm7-13h2.67A2.31 2.31 0 0 1 22 4v7a2.31 2.31 0 0 1-2.33 2H17"}}]})(e)}function Hne(e){return Dr({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}}]})(e)}const fH=V.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),M2=V.createContext({}),Wk=V.createContext(null),T2=typeof document<"u",Wne=T2?V.useLayoutEffect:V.useEffect,mH=V.createContext({strict:!1}),Gk=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Gne="framerAppearId",gH="data-"+Gk(Gne);function qne(e,t,r,n){const{visualElement:i}=V.useContext(M2),o=V.useContext(mH),l=V.useContext(Wk),c=V.useContext(fH).reducedMotion,a=V.useRef();n=n||o.renderer,!a.current&&n&&(a.current=n(e,{visualState:t,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const s=a.current;V.useInsertionEffect(()=>{s&&s.update(r,l)});const u=V.useRef(!!(r[gH]&&!window.HandoffComplete));return Wne(()=>{s&&(s.render(),u.current&&s.animationState&&s.animationState.animateChanges())}),V.useEffect(()=>{s&&(s.updateFeatures(),!u.current&&s.animationState&&s.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),s}function Tf(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Yne(e,t,r){return V.useCallback(n=>{n&&e.mount&&e.mount(n),t&&(n?t.mount(n):t.unmount()),r&&(typeof r=="function"?r(n):Tf(r)&&(r.current=n))},[t])}function ry(e){return typeof e=="string"||Array.isArray(e)}function P2(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const qk=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Yk=["initial",...qk];function k2(e){return P2(e.animate)||Yk.some(t=>ry(e[t]))}function vH(e){return!!(k2(e)||e.variants)}function $ne(e,t){if(k2(e)){const{initial:r,animate:n}=e;return{initial:r===!1||ry(r)?r:void 0,animate:ry(n)?n:void 0}}return e.inherit!==!1?t:{}}function Xne(e){const{initial:t,animate:r}=$ne(e,V.useContext(M2));return V.useMemo(()=>({initial:t,animate:r}),[G6(t),G6(r)])}function G6(e){return Array.isArray(e)?e.join(" "):e}const q6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ny={};for(const e in q6)ny[e]={isEnabled:t=>q6[e].some(r=>!!t[r])};function Kne(e){for(const t in e)ny[t]={...ny[t],...e[t]}}const yH=V.createContext({}),bH=V.createContext({}),Qne=Symbol.for("motionComponentSymbol");function Zne({preloadedFeatures:e,createVisualElement:t,useRender:r,useVisualState:n,Component:i}){e&&Kne(e);function o(c,a){let s;const u={...V.useContext(fH),...c,layoutId:Jne(c)},{isStatic:d}=u,h=Xne(c),p=n(c,d);if(!d&&T2){h.visualElement=qne(i,p,u,t);const m=V.useContext(bH),f=V.useContext(mH).strict;h.visualElement&&(s=h.visualElement.loadFeatures(u,f,e,m))}return V.createElement(M2.Provider,{value:h},s&&h.visualElement?V.createElement(s,{visualElement:h.visualElement,...u}):null,r(i,c,Yne(p,h.visualElement,a),p,d,h.visualElement))}const l=V.forwardRef(o);return l[Qne]=i,l}function Jne({layoutId:e}){const t=V.useContext(yH).id;return t&&e!==void 0?t+"-"+e:e}function eie(e){function t(n,i={}){return Zne(e(n,i))}if(typeof Proxy>"u")return t;const r=new Map;return new Proxy(t,{get:(n,i)=>(r.has(i)||r.set(i,t(i)),r.get(i))})}const tie=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function $k(e){return typeof e!="string"||e.includes("-")?!1:!!(tie.indexOf(e)>-1||/[A-Z]/.test(e))}const jw={};function rie(e){Object.assign(jw,e)}const Fy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],np=new Set(Fy);function xH(e,{layout:t,layoutId:r}){return np.has(e)||e.startsWith("origin")||(t||r!==void 0)&&(!!jw[e]||e==="opacity")}const zo=e=>!!(e&&e.getVelocity),nie={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iie=Fy.length;function oie(e,{enableHardwareAcceleration:t=!0,allowTransformNone:r=!0},n,i){let o="";for(let l=0;l<iie;l++){const c=Fy[l];if(e[c]!==void 0){const a=nie[c]||c;o+=`${a}(${e[c]}) `}}return t&&!e.z&&(o+="translateZ(0)"),o=o.trim(),i?o=i(e,n?"":o):r&&n&&(o="none"),o}const wH=e=>t=>typeof t=="string"&&t.startsWith(e),_H=wH("--"),KM=wH("var(--"),aie=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,sie=(e,t)=>t&&typeof e=="number"?t.transform(e):e,nd=(e,t,r)=>Math.min(Math.max(r,e),t),ip={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},lv={...ip,transform:e=>nd(0,1,e)},N1={...ip,default:1},cv=e=>Math.round(e*1e5)/1e5,D2=/(-)?([\d]*\.?[\d])+/g,SH=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,lie=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Uy(e){return typeof e=="string"}const Vy=e=>({test:t=>Uy(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),du=Vy("deg"),xl=Vy("%"),Et=Vy("px"),cie=Vy("vh"),uie=Vy("vw"),Y6={...xl,parse:e=>xl.parse(e)/100,transform:e=>xl.transform(e*100)},$6={...ip,transform:Math.round},EH={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,size:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,rotate:du,rotateX:du,rotateY:du,rotateZ:du,scale:N1,scaleX:N1,scaleY:N1,scaleZ:N1,skew:du,skewX:du,skewY:du,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:lv,originX:Y6,originY:Y6,originZ:Et,zIndex:$6,fillOpacity:lv,strokeOpacity:lv,numOctaves:$6};function Xk(e,t,r,n){const{style:i,vars:o,transform:l,transformOrigin:c}=e;let a=!1,s=!1,u=!0;for(const d in t){const h=t[d];if(_H(d)){o[d]=h;continue}const p=EH[d],m=sie(h,p);if(np.has(d)){if(a=!0,l[d]=m,!u)continue;h!==(p.default||0)&&(u=!1)}else d.startsWith("origin")?(s=!0,c[d]=m):i[d]=m}if(t.transform||(a||n?i.transform=oie(e.transform,r,u,n):i.transform&&(i.transform="none")),s){const{originX:d="50%",originY:h="50%",originZ:p=0}=c;i.transformOrigin=`${d} ${h} ${p}`}}const Kk=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function CH(e,t,r){for(const n in t)!zo(t[n])&&!xH(n,r)&&(e[n]=t[n])}function die({transformTemplate:e},t,r){return V.useMemo(()=>{const n=Kk();return Xk(n,t,{enableHardwareAcceleration:!r},e),Object.assign({},n.vars,n.style)},[t])}function hie(e,t,r){const n=e.style||{},i={};return CH(i,n,e),Object.assign(i,die(e,t,r)),e.transformValues?e.transformValues(i):i}function pie(e,t,r){const n={},i=hie(e,t,r);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=i,n}const fie=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Iw(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||fie.has(e)}let AH=e=>!Iw(e);function mie(e){e&&(AH=t=>t.startsWith("on")?!Iw(t):e(t))}try{mie(require("@emotion/is-prop-valid").default)}catch{}function gie(e,t,r){const n={};for(const i in e)i==="values"&&typeof e.values=="object"||(AH(i)||r===!0&&Iw(i)||!t&&!Iw(i)||e.draggable&&i.startsWith("onDrag"))&&(n[i]=e[i]);return n}function X6(e,t,r){return typeof e=="string"?e:Et.transform(t+r*e)}function vie(e,t,r){const n=X6(t,e.x,e.width),i=X6(r,e.y,e.height);return`${n} ${i}`}const yie={offset:"stroke-dashoffset",array:"stroke-dasharray"},bie={offset:"strokeDashoffset",array:"strokeDasharray"};function xie(e,t,r=1,n=0,i=!0){e.pathLength=1;const o=i?yie:bie;e[o.offset]=Et.transform(-n);const l=Et.transform(t),c=Et.transform(r);e[o.array]=`${l} ${c}`}function Qk(e,{attrX:t,attrY:r,attrScale:n,originX:i,originY:o,pathLength:l,pathSpacing:c=1,pathOffset:a=0,...s},u,d,h){if(Xk(e,s,u,h),d){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:p,style:m,dimensions:f}=e;p.transform&&(f&&(m.transform=p.transform),delete p.transform),f&&(i!==void 0||o!==void 0||m.transform)&&(m.transformOrigin=vie(f,i!==void 0?i:.5,o!==void 0?o:.5)),t!==void 0&&(p.x=t),r!==void 0&&(p.y=r),n!==void 0&&(p.scale=n),l!==void 0&&xie(p,l,c,a,!1)}const MH=()=>({...Kk(),attrs:{}}),Zk=e=>typeof e=="string"&&e.toLowerCase()==="svg";function wie(e,t,r,n){const i=V.useMemo(()=>{const o=MH();return Qk(o,t,{enableHardwareAcceleration:!1},Zk(n),e.transformTemplate),{...o.attrs,style:{...o.style}}},[t]);if(e.style){const o={};CH(o,e.style,e),i.style={...o,...i.style}}return i}function _ie(e=!1){return(r,n,i,{latestValues:o},l)=>{const a=($k(r)?wie:pie)(n,o,l,r),u={...gie(n,typeof r=="string",e),...a,ref:i},{children:d}=n,h=V.useMemo(()=>zo(d)?d.get():d,[d]);return V.createElement(r,{...u,children:h})}}function TH(e,{style:t,vars:r},n,i){Object.assign(e.style,t,i&&i.getProjectionStyles(n));for(const o in r)e.style.setProperty(o,r[o])}const PH=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function kH(e,t,r,n){TH(e,t,void 0,n);for(const i in t.attrs)e.setAttribute(PH.has(i)?i:Gk(i),t.attrs[i])}function Jk(e,t){const{style:r}=e,n={};for(const i in r)(zo(r[i])||t.style&&zo(t.style[i])||xH(i,e))&&(n[i]=r[i]);return n}function DH(e,t){const r=Jk(e,t);for(const n in e)if(zo(e[n])||zo(t[n])){const i=Fy.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=e[n]}return r}function e5(e,t,r,n={},i={}){return typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(r!==void 0?r:e.custom,n,i)),t}function Sie(e){const t=V.useRef(null);return t.current===null&&(t.current=e()),t.current}const Ow=e=>Array.isArray(e),Eie=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),Cie=e=>Ow(e)?e[e.length-1]||0:e;function jx(e){const t=zo(e)?e.get():e;return Eie(t)?t.toValue():t}function Aie({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:r},n,i,o){const l={latestValues:Mie(n,i,o,e),renderState:t()};return r&&(l.mount=c=>r(n,c,l)),l}const jH=e=>(t,r)=>{const n=V.useContext(M2),i=V.useContext(Wk),o=()=>Aie(e,t,n,i);return r?o():Sie(o)};function Mie(e,t,r,n){const i={},o=n(e,{});for(const h in o)i[h]=jx(o[h]);let{initial:l,animate:c}=e;const a=k2(e),s=vH(e);t&&s&&!a&&e.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let u=r?r.initial===!1:!1;u=u||l===!1;const d=u?c:l;return d&&typeof d!="boolean"&&!P2(d)&&(Array.isArray(d)?d:[d]).forEach(p=>{const m=e5(e,p);if(!m)return;const{transitionEnd:f,transition:g,...v}=m;for(const x in v){let y=v[x];if(Array.isArray(y)){const b=u?y.length-1:0;y=y[b]}y!==null&&(i[x]=y)}for(const x in f)i[x]=f[x]}),i}const wn=e=>e;class K6{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const r=this.order.indexOf(t);r!==-1&&(this.order.splice(r,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function Tie(e){let t=new K6,r=new K6,n=0,i=!1,o=!1;const l=new WeakSet,c={schedule:(a,s=!1,u=!1)=>{const d=u&&i,h=d?t:r;return s&&l.add(a),h.add(a)&&d&&i&&(n=t.order.length),a},cancel:a=>{r.remove(a),l.delete(a)},process:a=>{if(i){o=!0;return}if(i=!0,[t,r]=[r,t],r.clear(),n=t.order.length,n)for(let s=0;s<n;s++){const u=t.order[s];u(a),l.has(u)&&(c.schedule(u),e())}i=!1,o&&(o=!1,c.process(a))}};return c}const B1=["prepare","read","update","preRender","render","postRender"],Pie=40;function kie(e,t){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},o=B1.reduce((d,h)=>(d[h]=Tie(()=>r=!0),d),{}),l=d=>o[d].process(i),c=()=>{const d=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(d-i.timestamp,Pie),1),i.timestamp=d,i.isProcessing=!0,B1.forEach(l),i.isProcessing=!1,r&&t&&(n=!1,e(c))},a=()=>{r=!0,n=!0,i.isProcessing||e(c)};return{schedule:B1.reduce((d,h)=>{const p=o[h];return d[h]=(m,f=!1,g=!1)=>(r||a(),p.schedule(m,f,g)),d},{}),cancel:d=>B1.forEach(h=>o[h].cancel(d)),state:i,steps:o}}const{schedule:Ur,cancel:Oc,state:Mi,steps:N3}=kie(typeof requestAnimationFrame<"u"?requestAnimationFrame:wn,!0),Die={useVisualState:jH({scrapeMotionValuesFromProps:DH,createRenderState:MH,onMount:(e,t,{renderState:r,latestValues:n})=>{Ur.read(()=>{try{r.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}}),Ur.render(()=>{Qk(r,n,{enableHardwareAcceleration:!1},Zk(t.tagName),e.transformTemplate),kH(t,r)})}})},jie={useVisualState:jH({scrapeMotionValuesFromProps:Jk,createRenderState:Kk})};function Iie(e,{forwardMotionProps:t=!1},r,n){return{...$k(e)?Die:jie,preloadedFeatures:r,useRender:_ie(t),createVisualElement:n,Component:e}}function fc(e,t,r,n={passive:!0}){return e.addEventListener(t,r,n),()=>e.removeEventListener(t,r)}const IH=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function j2(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const Oie=e=>t=>IH(t)&&e(t,j2(t));function _c(e,t,r,n){return fc(e,t,Oie(r),n)}const Rie=(e,t)=>r=>t(e(r)),Yu=(...e)=>e.reduce(Rie);function OH(e){let t=null;return()=>{const r=()=>{t=null};return t===null?(t=e,r):!1}}const Q6=OH("dragHorizontal"),Z6=OH("dragVertical");function RH(e){let t=!1;if(e==="y")t=Z6();else if(e==="x")t=Q6();else{const r=Q6(),n=Z6();r&&n?t=()=>{r(),n()}:(r&&r(),n&&n())}return t}function zH(){const e=RH(!0);return e?(e(),!1):!0}let gd=class{constructor(t){this.isMounted=!1,this.node=t}update(){}};function J6(e,t){const r="pointer"+(t?"enter":"leave"),n="onHover"+(t?"Start":"End"),i=(o,l)=>{if(o.pointerType==="touch"||zH())return;const c=e.getProps();e.animationState&&c.whileHover&&e.animationState.setActive("whileHover",t),c[n]&&Ur.update(()=>c[n](o,l))};return _c(e.current,r,i,{passive:!e.getProps()[n]})}class zie extends gd{mount(){this.unmount=Yu(J6(this.node,!0),J6(this.node,!1))}unmount(){}}class Lie extends gd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Yu(fc(this.node.current,"focus",()=>this.onFocus()),fc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const LH=(e,t)=>t?e===t?!0:LH(e,t.parentElement):!1;function B3(e,t){if(!t)return;const r=new PointerEvent("pointer"+e);t(r,j2(r))}class Nie extends gd{constructor(){super(...arguments),this.removeStartListeners=wn,this.removeEndListeners=wn,this.removeAccessibleListeners=wn,this.startPointerPress=(t,r)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),o=_c(window,"pointerup",(c,a)=>{if(!this.checkPressEnd())return;const{onTap:s,onTapCancel:u,globalTapTarget:d}=this.node.getProps();Ur.update(()=>{!d&&!LH(this.node.current,c.target)?u&&u(c,a):s&&s(c,a)})},{passive:!(n.onTap||n.onPointerUp)}),l=_c(window,"pointercancel",(c,a)=>this.cancelPress(c,a),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=Yu(o,l),this.startPress(t,r)},this.startAccessiblePress=()=>{const t=o=>{if(o.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||B3("up",(a,s)=>{const{onTap:u}=this.node.getProps();u&&Ur.update(()=>u(a,s))})};this.removeEndListeners(),this.removeEndListeners=fc(this.node.current,"keyup",l),B3("down",(c,a)=>{this.startPress(c,a)})},r=fc(this.node.current,"keydown",t),n=()=>{this.isPressing&&B3("cancel",(o,l)=>this.cancelPress(o,l))},i=fc(this.node.current,"blur",n);this.removeAccessibleListeners=Yu(r,i)}}startPress(t,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Ur.update(()=>n(t,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!zH()}cancelPress(t,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Ur.update(()=>n(t,r))}mount(){const t=this.node.getProps(),r=_c(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=fc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Yu(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const QM=new WeakMap,F3=new WeakMap,Bie=e=>{const t=QM.get(e.target);t&&t(e)},Fie=e=>{e.forEach(Bie)};function Uie({root:e,...t}){const r=e||document;F3.has(r)||F3.set(r,{});const n=F3.get(r),i=JSON.stringify(t);return n[i]||(n[i]=new IntersectionObserver(Fie,{root:e,...t})),n[i]}function Vie(e,t,r){const n=Uie(t);return QM.set(e,r),n.observe(e),()=>{QM.delete(e),n.unobserve(e)}}const Hie={some:0,all:1};class Wie extends gd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:o}=t,l={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Hie[i]},c=a=>{const{isIntersecting:s}=a;if(this.isInView===s||(this.isInView=s,o&&!s&&this.hasEnteredView))return;s&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",s);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=s?u:d;h&&h(a)};return Vie(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:r}=this.node;["amount","margin","root"].some(Gie(t,r))&&this.startObserver()}unmount(){}}function Gie({viewport:e={}},{viewport:t={}}={}){return r=>e[r]!==t[r]}const qie={inView:{Feature:Wie},tap:{Feature:Nie},focus:{Feature:Lie},hover:{Feature:zie}};function NH(e,t){if(!Array.isArray(t))return!1;const r=t.length;if(r!==e.length)return!1;for(let n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Yie(e){const t={};return e.values.forEach((r,n)=>t[n]=r.get()),t}function $ie(e){const t={};return e.values.forEach((r,n)=>t[n]=r.getVelocity()),t}function I2(e,t,r){const n=e.getProps();return e5(n,t,r!==void 0?r:n.custom,Yie(e),$ie(e))}let Rw=wn;const bh=e=>e*1e3,Sc=e=>e/1e3,Xie={current:!1},BH=e=>Array.isArray(e)&&typeof e[0]=="number";function FH(e){return!!(!e||typeof e=="string"&&UH[e]||BH(e)||Array.isArray(e)&&e.every(FH))}const B0=([e,t,r,n])=>`cubic-bezier(${e}, ${t}, ${r}, ${n})`,UH={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:B0([0,.65,.55,1]),circOut:B0([.55,0,1,.45]),backIn:B0([.31,.01,.66,-.59]),backOut:B0([.33,1.53,.69,.99])};function VH(e){if(e)return BH(e)?B0(e):Array.isArray(e)?e.map(VH):UH[e]}function Kie(e,t,r,{delay:n=0,duration:i,repeat:o=0,repeatType:l="loop",ease:c,times:a}={}){const s={[t]:r};a&&(s.offset=a);const u=VH(c);return Array.isArray(u)&&(s.easing=u),e.animate(s,{delay:n,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:o+1,direction:l==="reverse"?"alternate":"normal"})}function Qie(e,{repeat:t,repeatType:r="loop"}){const n=t&&r!=="loop"&&t%2===1?0:e.length-1;return e[n]}const HH=(e,t,r)=>(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e,Zie=1e-7,Jie=12;function eoe(e,t,r,n,i){let o,l,c=0;do l=t+(r-t)/2,o=HH(l,n,i)-e,o>0?r=l:t=l;while(Math.abs(o)>Zie&&++c<Jie);return l}function Hy(e,t,r,n){if(e===t&&r===n)return wn;const i=o=>eoe(o,0,1,e,r);return o=>o===0||o===1?o:HH(i(o),t,n)}const toe=Hy(.42,0,1,1),roe=Hy(0,0,.58,1),WH=Hy(.42,0,.58,1),noe=e=>Array.isArray(e)&&typeof e[0]!="number",GH=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,qH=e=>t=>1-e(1-t),t5=e=>1-Math.sin(Math.acos(e)),YH=qH(t5),ioe=GH(t5),$H=Hy(.33,1.53,.69,.99),r5=qH($H),ooe=GH(r5),aoe=e=>(e*=2)<1?.5*r5(e):.5*(2-Math.pow(2,-10*(e-1))),eO={linear:wn,easeIn:toe,easeInOut:WH,easeOut:roe,circIn:t5,circInOut:ioe,circOut:YH,backIn:r5,backInOut:ooe,backOut:$H,anticipate:aoe},tO=e=>{if(Array.isArray(e)){Rw(e.length===4);const[t,r,n,i]=e;return Hy(t,r,n,i)}else if(typeof e=="string")return Rw(eO[e]!==void 0),eO[e];return e},n5=(e,t)=>r=>!!(Uy(r)&&lie.test(r)&&r.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(r,t)),XH=(e,t,r)=>n=>{if(!Uy(n))return n;const[i,o,l,c]=n.match(D2);return{[e]:parseFloat(i),[t]:parseFloat(o),[r]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},soe=e=>nd(0,255,e),U3={...ip,transform:e=>Math.round(soe(e))},ih={test:n5("rgb","red"),parse:XH("red","green","blue"),transform:({red:e,green:t,blue:r,alpha:n=1})=>"rgba("+U3.transform(e)+", "+U3.transform(t)+", "+U3.transform(r)+", "+cv(lv.transform(n))+")"};function loe(e){let t="",r="",n="",i="";return e.length>5?(t=e.substring(1,3),r=e.substring(3,5),n=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),r=e.substring(2,3),n=e.substring(3,4),i=e.substring(4,5),t+=t,r+=r,n+=n,i+=i),{red:parseInt(t,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const ZM={test:n5("#"),parse:loe,transform:ih.transform},Pf={test:n5("hsl","hue"),parse:XH("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:r,alpha:n=1})=>"hsla("+Math.round(e)+", "+xl.transform(cv(t))+", "+xl.transform(cv(r))+", "+cv(lv.transform(n))+")"},Gi={test:e=>ih.test(e)||ZM.test(e)||Pf.test(e),parse:e=>ih.test(e)?ih.parse(e):Pf.test(e)?Pf.parse(e):ZM.parse(e),transform:e=>Uy(e)?e:e.hasOwnProperty("red")?ih.transform(e):Pf.transform(e)},Jr=(e,t,r)=>-r*e+r*t+e;function V3(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function coe({hue:e,saturation:t,lightness:r,alpha:n}){e/=360,t/=100,r/=100;let i=0,o=0,l=0;if(!t)i=o=l=r;else{const c=r<.5?r*(1+t):r+t-r*t,a=2*r-c;i=V3(a,c,e+1/3),o=V3(a,c,e),l=V3(a,c,e-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(l*255),alpha:n}}const H3=(e,t,r)=>{const n=e*e;return Math.sqrt(Math.max(0,r*(t*t-n)+n))},uoe=[ZM,ih,Pf],doe=e=>uoe.find(t=>t.test(e));function rO(e){const t=doe(e);let r=t.parse(e);return t===Pf&&(r=coe(r)),r}const KH=(e,t)=>{const r=rO(e),n=rO(t),i={...r};return o=>(i.red=H3(r.red,n.red,o),i.green=H3(r.green,n.green,o),i.blue=H3(r.blue,n.blue,o),i.alpha=Jr(r.alpha,n.alpha,o),ih.transform(i))};function hoe(e){var t,r;return isNaN(e)&&Uy(e)&&(((t=e.match(D2))===null||t===void 0?void 0:t.length)||0)+(((r=e.match(SH))===null||r===void 0?void 0:r.length)||0)>0}const QH={regex:aie,countKey:"Vars",token:"${v}",parse:wn},ZH={regex:SH,countKey:"Colors",token:"${c}",parse:Gi.parse},JH={regex:D2,countKey:"Numbers",token:"${n}",parse:ip.parse};function W3(e,{regex:t,countKey:r,token:n,parse:i}){const o=e.tokenised.match(t);o&&(e["num"+r]=o.length,e.tokenised=e.tokenised.replace(t,n),e.values.push(...o.map(i)))}function zw(e){const t=e.toString(),r={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&W3(r,QH),W3(r,ZH),W3(r,JH),r}function eW(e){return zw(e).values}function tW(e){const{values:t,numColors:r,numVars:n,tokenised:i}=zw(e),o=t.length;return l=>{let c=i;for(let a=0;a<o;a++)a<n?c=c.replace(QH.token,l[a]):a<n+r?c=c.replace(ZH.token,Gi.transform(l[a])):c=c.replace(JH.token,cv(l[a]));return c}}const poe=e=>typeof e=="number"?0:e;function foe(e){const t=eW(e);return tW(e)(t.map(poe))}const id={test:hoe,parse:eW,createTransformer:tW,getAnimatableNone:foe},rW=(e,t)=>r=>`${r>0?t:e}`;function nW(e,t){return typeof e=="number"?r=>Jr(e,t,r):Gi.test(e)?KH(e,t):e.startsWith("var(")?rW(e,t):oW(e,t)}const iW=(e,t)=>{const r=[...e],n=r.length,i=e.map((o,l)=>nW(o,t[l]));return o=>{for(let l=0;l<n;l++)r[l]=i[l](o);return r}},moe=(e,t)=>{const r={...e,...t},n={};for(const i in r)e[i]!==void 0&&t[i]!==void 0&&(n[i]=nW(e[i],t[i]));return i=>{for(const o in n)r[o]=n[o](i);return r}},oW=(e,t)=>{const r=id.createTransformer(t),n=zw(e),i=zw(t);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?Yu(iW(n.values,i.values),r):rW(e,t)},iy=(e,t,r)=>{const n=t-e;return n===0?1:(r-e)/n},nO=(e,t)=>r=>Jr(e,t,r);function goe(e){return typeof e=="number"?nO:typeof e=="string"?Gi.test(e)?KH:oW:Array.isArray(e)?iW:typeof e=="object"?moe:nO}function voe(e,t,r){const n=[],i=r||goe(e[0]),o=e.length-1;for(let l=0;l<o;l++){let c=i(e[l],e[l+1]);if(t){const a=Array.isArray(t)?t[l]||wn:t;c=Yu(a,c)}n.push(c)}return n}function aW(e,t,{clamp:r=!0,ease:n,mixer:i}={}){const o=e.length;if(Rw(o===t.length),o===1)return()=>t[0];e[0]>e[o-1]&&(e=[...e].reverse(),t=[...t].reverse());const l=voe(t,n,i),c=l.length,a=s=>{let u=0;if(c>1)for(;u<e.length-2&&!(s<e[u+1]);u++);const d=iy(e[u],e[u+1],s);return l[u](d)};return r?s=>a(nd(e[0],e[o-1],s)):a}function yoe(e,t){const r=e[e.length-1];for(let n=1;n<=t;n++){const i=iy(0,t,n);e.push(Jr(r,1,i))}}function boe(e){const t=[0];return yoe(t,e.length-1),t}function xoe(e,t){return e.map(r=>r*t)}function woe(e,t){return e.map(()=>t||WH).splice(0,e.length-1)}function Lw({duration:e=300,keyframes:t,times:r,ease:n="easeInOut"}){const i=noe(n)?n.map(tO):tO(n),o={done:!1,value:t[0]},l=xoe(r&&r.length===t.length?r:boe(t),e),c=aW(l,t,{ease:Array.isArray(i)?i:woe(t,i)});return{calculatedDuration:e,next:a=>(o.value=c(a),o.done=a>=e,o)}}function sW(e,t){return t?e*(1e3/t):0}const _oe=5;function lW(e,t,r){const n=Math.max(t-_oe,0);return sW(r-e(n),t-n)}const G3=.001,Soe=.01,Eoe=10,Coe=.05,Aoe=1;function Moe({duration:e=800,bounce:t=.25,velocity:r=0,mass:n=1}){let i,o,l=1-t;l=nd(Coe,Aoe,l),e=nd(Soe,Eoe,Sc(e)),l<1?(i=s=>{const u=s*l,d=u*e,h=u-r,p=JM(s,l),m=Math.exp(-d);return G3-h/p*m},o=s=>{const d=s*l*e,h=d*r+r,p=Math.pow(l,2)*Math.pow(s,2)*e,m=Math.exp(-d),f=JM(Math.pow(s,2),l);return(-i(s)+G3>0?-1:1)*((h-p)*m)/f}):(i=s=>{const u=Math.exp(-s*e),d=(s-r)*e+1;return-G3+u*d},o=s=>{const u=Math.exp(-s*e),d=(r-s)*(e*e);return u*d});const c=5/e,a=Poe(i,o,c);if(e=bh(e),isNaN(a))return{stiffness:100,damping:10,duration:e};{const s=Math.pow(a,2)*n;return{stiffness:s,damping:l*2*Math.sqrt(n*s),duration:e}}}const Toe=12;function Poe(e,t,r){let n=r;for(let i=1;i<Toe;i++)n=n-e(n)/t(n);return n}function JM(e,t){return e*Math.sqrt(1-t*t)}const koe=["duration","bounce"],Doe=["stiffness","damping","mass"];function iO(e,t){return t.some(r=>e[r]!==void 0)}function joe(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!iO(e,Doe)&&iO(e,koe)){const r=Moe(e);t={...t,...r,mass:1},t.isResolvedFromDuration=!0}return t}function cW({keyframes:e,restDelta:t,restSpeed:r,...n}){const i=e[0],o=e[e.length-1],l={done:!1,value:i},{stiffness:c,damping:a,mass:s,duration:u,velocity:d,isResolvedFromDuration:h}=joe({...n,velocity:-Sc(n.velocity||0)}),p=d||0,m=a/(2*Math.sqrt(c*s)),f=o-i,g=Sc(Math.sqrt(c/s)),v=Math.abs(f)<5;r||(r=v?.01:2),t||(t=v?.005:.5);let x;if(m<1){const y=JM(g,m);x=b=>{const w=Math.exp(-m*g*b);return o-w*((p+m*g*f)/y*Math.sin(y*b)+f*Math.cos(y*b))}}else if(m===1)x=y=>o-Math.exp(-g*y)*(f+(p+g*f)*y);else{const y=g*Math.sqrt(m*m-1);x=b=>{const w=Math.exp(-m*g*b),_=Math.min(y*b,300);return o-w*((p+m*g*f)*Math.sinh(_)+y*f*Math.cosh(_))/y}}return{calculatedDuration:h&&u||null,next:y=>{const b=x(y);if(h)l.done=y>=u;else{let w=p;y!==0&&(m<1?w=lW(x,y,b):w=0);const _=Math.abs(w)<=r,S=Math.abs(o-b)<=t;l.done=_&&S}return l.value=l.done?o:b,l}}}function oO({keyframes:e,velocity:t=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:o=500,modifyTarget:l,min:c,max:a,restDelta:s=.5,restSpeed:u}){const d=e[0],h={done:!1,value:d},p=E=>c!==void 0&&E<c||a!==void 0&&E>a,m=E=>c===void 0?a:a===void 0||Math.abs(c-E)<Math.abs(a-E)?c:a;let f=r*t;const g=d+f,v=l===void 0?g:l(g);v!==g&&(f=v-d);const x=E=>-f*Math.exp(-E/n),y=E=>v+x(E),b=E=>{const A=x(E),C=y(E);h.done=Math.abs(A)<=s,h.value=h.done?v:C};let w,_;const S=E=>{p(h.value)&&(w=E,_=cW({keyframes:[h.value,m(h.value)],velocity:lW(y,E,h.value),damping:i,stiffness:o,restDelta:s,restSpeed:u}))};return S(0),{calculatedDuration:null,next:E=>{let A=!1;return!_&&w===void 0&&(A=!0,b(E),S(E)),w!==void 0&&E>w?_.next(E-w):(!A&&b(E),h)}}}const Ioe=e=>{const t=({timestamp:r})=>e(r);return{start:()=>Ur.update(t,!0),stop:()=>Oc(t),now:()=>Mi.isProcessing?Mi.timestamp:performance.now()}},aO=2e4;function sO(e){let t=0;const r=50;let n=e.next(t);for(;!n.done&&t<aO;)t+=r,n=e.next(t);return t>=aO?1/0:t}const Ooe={decay:oO,inertia:oO,tween:Lw,keyframes:Lw,spring:cW};function Nw({autoplay:e=!0,delay:t=0,driver:r=Ioe,keyframes:n,type:i="keyframes",repeat:o=0,repeatDelay:l=0,repeatType:c="loop",onPlay:a,onStop:s,onComplete:u,onUpdate:d,...h}){let p=1,m=!1,f,g;const v=()=>{g=new Promise(F=>{f=F})};v();let x;const y=Ooe[i]||Lw;let b;y!==Lw&&typeof n[0]!="number"&&(b=aW([0,100],n,{clamp:!1}),n=[0,100]);const w=y({...h,keyframes:n});let _;c==="mirror"&&(_=y({...h,keyframes:[...n].reverse(),velocity:-(h.velocity||0)}));let S="idle",E=null,A=null,C=null;w.calculatedDuration===null&&o&&(w.calculatedDuration=sO(w));const{calculatedDuration:M}=w;let T=1/0,k=1/0;M!==null&&(T=M+l,k=T*(o+1)-l);let P=0;const D=F=>{if(A===null)return;p>0&&(A=Math.min(A,F)),p<0&&(A=Math.min(F-k/p,A)),E!==null?P=E:P=Math.round(F-A)*p;const U=P-t*(p>=0?1:-1),B=p>=0?U<0:U>k;P=Math.max(U,0),S==="finished"&&E===null&&(P=k);let H=P,X=w;if(o){const ee=Math.min(P,k)/T;let q=Math.floor(ee),Y=ee%1;!Y&&ee>=1&&(Y=1),Y===1&&q--,q=Math.min(q,o+1),!!(q%2)&&(c==="reverse"?(Y=1-Y,l&&(Y-=l/T)):c==="mirror"&&(X=_)),H=nd(0,1,Y)*T}const G=B?{done:!1,value:n[0]}:X.next(H);b&&(G.value=b(G.value));let{done:Z}=G;!B&&M!==null&&(Z=p>=0?P>=k:P<=0);const J=E===null&&(S==="finished"||S==="running"&&Z);return d&&d(G.value),J&&j(),G},I=()=>{x&&x.stop(),x=void 0},O=()=>{S="idle",I(),f(),v(),A=C=null},j=()=>{S="finished",u&&u(),I(),f()},N=()=>{if(m)return;x||(x=r(D));const F=x.now();a&&a(),E!==null?A=F-E:(!A||S==="finished")&&(A=F),S==="finished"&&v(),C=A,E=null,S="running",x.start()};e&&N();const R={then(F,U){return g.then(F,U)},get time(){return Sc(P)},set time(F){F=bh(F),P=F,E!==null||!x||p===0?E=F:A=x.now()-F/p},get duration(){const F=w.calculatedDuration===null?sO(w):w.calculatedDuration;return Sc(F)},get speed(){return p},set speed(F){F===p||!x||(p=F,R.time=Sc(P))},get state(){return S},play:N,pause:()=>{S="paused",E=P},stop:()=>{m=!0,S!=="idle"&&(S="idle",s&&s(),O())},cancel:()=>{C!==null&&D(C),O()},complete:()=>{S="finished"},sample:F=>(A=0,D(F))};return R}function Roe(e){let t;return()=>(t===void 0&&(t=e()),t)}const zoe=Roe(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Loe=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),F1=10,Noe=2e4,Boe=(e,t)=>t.type==="spring"||e==="backgroundColor"||!FH(t.ease);function Foe(e,t,{onUpdate:r,onComplete:n,...i}){if(!(zoe()&&Loe.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let l=!1,c,a,s=!1;const u=()=>{a=new Promise(y=>{c=y})};u();let{keyframes:d,duration:h=300,ease:p,times:m}=i;if(Boe(t,i)){const y=Nw({...i,repeat:0,delay:0});let b={done:!1,value:d[0]};const w=[];let _=0;for(;!b.done&&_<Noe;)b=y.sample(_),w.push(b.value),_+=F1;m=void 0,d=w,h=_-F1,p="linear"}const f=Kie(e.owner.current,t,d,{...i,duration:h,ease:p,times:m}),g=()=>{s=!1,f.cancel()},v=()=>{s=!0,Ur.update(g),c(),u()};return f.onfinish=()=>{s||(e.set(Qie(d,i)),n&&n(),v())},{then(y,b){return a.then(y,b)},attachTimeline(y){return f.timeline=y,f.onfinish=null,wn},get time(){return Sc(f.currentTime||0)},set time(y){f.currentTime=bh(y)},get speed(){return f.playbackRate},set speed(y){f.playbackRate=y},get duration(){return Sc(h)},play:()=>{l||(f.play(),Oc(g))},pause:()=>f.pause(),stop:()=>{if(l=!0,f.playState==="idle")return;const{currentTime:y}=f;if(y){const b=Nw({...i,autoplay:!1});e.setWithVelocity(b.sample(y-F1).value,b.sample(y).value,F1)}v()},complete:()=>{s||f.finish()},cancel:v}}function Uoe({keyframes:e,delay:t,onUpdate:r,onComplete:n}){const i=()=>(r&&r(e[e.length-1]),n&&n(),{time:0,speed:1,duration:0,play:wn,pause:wn,stop:wn,then:o=>(o(),Promise.resolve()),cancel:wn,complete:wn});return t?Nw({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Voe={type:"spring",stiffness:500,damping:25,restSpeed:10},Hoe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Woe={type:"keyframes",duration:.8},Goe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},qoe=(e,{keyframes:t})=>t.length>2?Woe:np.has(e)?e.startsWith("scale")?Hoe(t[1]):Voe:Goe,eT=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(id.test(t)||t==="0")&&!t.startsWith("url(")),Yoe=new Set(["brightness","contrast","saturate","opacity"]);function $oe(e){const[t,r]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[n]=r.match(D2)||[];if(!n)return e;const i=r.replace(n,"");let o=Yoe.has(t)?1:0;return n!==r&&(o*=100),t+"("+o+i+")"}const Xoe=/([a-z-]*)\(.*?\)/g,tT={...id,getAnimatableNone:e=>{const t=e.match(Xoe);return t?t.map($oe).join(" "):e}},Koe={...EH,color:Gi,backgroundColor:Gi,outlineColor:Gi,fill:Gi,stroke:Gi,borderColor:Gi,borderTopColor:Gi,borderRightColor:Gi,borderBottomColor:Gi,borderLeftColor:Gi,filter:tT,WebkitFilter:tT},i5=e=>Koe[e];function uW(e,t){let r=i5(e);return r!==tT&&(r=id),r.getAnimatableNone?r.getAnimatableNone(t):void 0}const dW=e=>/^0[^.\s]+$/.test(e);function Qoe(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||dW(e)}function Zoe(e,t,r,n){const i=eT(t,r);let o;Array.isArray(r)?o=[...r]:o=[null,r];const l=n.from!==void 0?n.from:e.get();let c;const a=[];for(let s=0;s<o.length;s++)o[s]===null&&(o[s]=s===0?l:o[s-1]),Qoe(o[s])&&a.push(s),typeof o[s]=="string"&&o[s]!=="none"&&o[s]!=="0"&&(c=o[s]);if(i&&a.length&&c)for(let s=0;s<a.length;s++){const u=a[s];o[u]=uW(t,c)}return o}function Joe({when:e,delay:t,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:o,repeatType:l,repeatDelay:c,from:a,elapsed:s,...u}){return!!Object.keys(u).length}function o5(e,t){return e[t]||e.default||e}const eae={skipAnimations:!1},a5=(e,t,r,n={})=>i=>{const o=o5(n,e)||{},l=o.delay||n.delay||0;let{elapsed:c=0}=n;c=c-bh(l);const a=Zoe(t,e,r,o),s=a[0],u=a[a.length-1],d=eT(e,s),h=eT(e,u);let p={keyframes:a,velocity:t.getVelocity(),ease:"easeOut",...o,delay:-c,onUpdate:m=>{t.set(m),o.onUpdate&&o.onUpdate(m)},onComplete:()=>{i(),o.onComplete&&o.onComplete()}};if(Joe(o)||(p={...p,...qoe(e,p)}),p.duration&&(p.duration=bh(p.duration)),p.repeatDelay&&(p.repeatDelay=bh(p.repeatDelay)),!d||!h||Xie.current||o.type===!1||eae.skipAnimations)return Uoe(p);if(!n.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const m=Foe(t,e,p);if(m)return m}return Nw(p)};function Bw(e){return!!(zo(e)&&e.add)}const hW=e=>/^\-?\d*\.?\d+$/.test(e);function s5(e,t){e.indexOf(t)===-1&&e.push(t)}function l5(e,t){const r=e.indexOf(t);r>-1&&e.splice(r,1)}class c5{constructor(){this.subscriptions=[]}add(t){return s5(this.subscriptions,t),()=>l5(this.subscriptions,t)}notify(t,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,r,n);else for(let o=0;o<i;o++){const l=this.subscriptions[o];l&&l(t,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const tae=e=>!isNaN(parseFloat(e));class rae{constructor(t,r={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:o,timestamp:l}=Mi;this.lastUpdated!==l&&(this.timeDelta=o,this.lastUpdated=l,Ur.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ur.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=tae(this.current),this.owner=r.owner}onChange(t){return this.on("change",t)}on(t,r){this.events[t]||(this.events[t]=new c5);const n=this.events[t].add(r);return t==="change"?()=>{n(),Ur.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,r){this.passiveEffect=t,this.stopPassiveEffect=r}set(t,r=!0){!r||!this.passiveEffect?this.updateAndNotify(t,r):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,r,n){this.set(r),this.prev=t,this.timeDelta=n}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?sW(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=t(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rm(e,t){return new rae(e,t)}const pW=e=>t=>t.test(e),nae={test:e=>e==="auto",parse:e=>e},fW=[ip,Et,xl,du,uie,cie,nae],Yg=e=>fW.find(pW(e)),iae=[...fW,Gi,id],oae=e=>iae.find(pW(e));function aae(e,t,r){e.hasValue(t)?e.getValue(t).set(r):e.addValue(t,Rm(r))}function sae(e,t){const r=I2(e,t);let{transitionEnd:n={},transition:i={},...o}=r?e.makeTargetAnimatable(r,!1):{};o={...o,...n};for(const l in o){const c=Cie(o[l]);aae(e,l,c)}}function lae(e,t,r){var n,i;const o=Object.keys(t).filter(c=>!e.hasValue(c)),l=o.length;if(l)for(let c=0;c<l;c++){const a=o[c],s=t[a];let u=null;Array.isArray(s)&&(u=s[0]),u===null&&(u=(i=(n=r[a])!==null&&n!==void 0?n:e.readValue(a))!==null&&i!==void 0?i:t[a]),u!=null&&(typeof u=="string"&&(hW(u)||dW(u))?u=parseFloat(u):!oae(u)&&id.test(s)&&(u=uW(a,s)),e.addValue(a,Rm(u,{owner:e})),r[a]===void 0&&(r[a]=u),u!==null&&e.setBaseTarget(a,u))}}function cae(e,t){return t?(t[e]||t.default||t).from:void 0}function uae(e,t,r){const n={};for(const i in e){const o=cae(i,t);if(o!==void 0)n[i]=o;else{const l=r.getValue(i);l&&(n[i]=l.get())}}return n}function dae({protectedKeys:e,needsAnimating:t},r){const n=e.hasOwnProperty(r)&&t[r]!==!0;return t[r]=!1,n}function hae(e,t){const r=e.get();if(Array.isArray(t)){for(let n=0;n<t.length;n++)if(t[n]!==r)return!0}else return r!==t}function mW(e,t,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:o=e.getDefaultTransition(),transitionEnd:l,...c}=e.makeTargetAnimatable(t);const a=e.getValue("willChange");n&&(o=n);const s=[],u=i&&e.animationState&&e.animationState.getState()[i];for(const d in c){const h=e.getValue(d),p=c[d];if(!h||p===void 0||u&&dae(u,d))continue;const m={delay:r,elapsed:0,...o5(o||{},d)};if(window.HandoffAppearAnimations){const v=e.getProps()[gH];if(v){const x=window.HandoffAppearAnimations(v,d,h,Ur);x!==null&&(m.elapsed=x,m.isHandoff=!0)}}let f=!m.isHandoff&&!hae(h,p);if(m.type==="spring"&&(h.getVelocity()||m.velocity)&&(f=!1),h.animation&&(f=!1),f)continue;h.start(a5(d,h,p,e.shouldReduceMotion&&np.has(d)?{type:!1}:m));const g=h.animation;Bw(a)&&(a.add(d),g.then(()=>a.remove(d))),s.push(g)}return l&&Promise.all(s).then(()=>{l&&sae(e,l)}),s}function rT(e,t,r={}){const n=I2(e,t,r.custom);let{transition:i=e.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const o=n?()=>Promise.all(mW(e,n,r)):()=>Promise.resolve(),l=e.variantChildren&&e.variantChildren.size?(a=0)=>{const{delayChildren:s=0,staggerChildren:u,staggerDirection:d}=i;return pae(e,t,s+a,u,d,r)}:()=>Promise.resolve(),{when:c}=i;if(c){const[a,s]=c==="beforeChildren"?[o,l]:[l,o];return a().then(()=>s())}else return Promise.all([o(),l(r.delay)])}function pae(e,t,r=0,n=0,i=1,o){const l=[],c=(e.variantChildren.size-1)*n,a=i===1?(s=0)=>s*n:(s=0)=>c-s*n;return Array.from(e.variantChildren).sort(fae).forEach((s,u)=>{s.notify("AnimationStart",t),l.push(rT(s,t,{...o,delay:r+a(u)}).then(()=>s.notify("AnimationComplete",t)))}),Promise.all(l)}function fae(e,t){return e.sortNodePosition(t)}function mae(e,t,r={}){e.notify("AnimationStart",t);let n;if(Array.isArray(t)){const i=t.map(o=>rT(e,o,r));n=Promise.all(i)}else if(typeof t=="string")n=rT(e,t,r);else{const i=typeof t=="function"?I2(e,t,r.custom):t;n=Promise.all(mW(e,i,r))}return n.then(()=>e.notify("AnimationComplete",t))}const gae=[...qk].reverse(),vae=qk.length;function yae(e){return t=>Promise.all(t.map(({animation:r,options:n})=>mae(e,r,n)))}function bae(e){let t=yae(e);const r=wae();let n=!0;const i=(a,s)=>{const u=I2(e,s);if(u){const{transition:d,transitionEnd:h,...p}=u;a={...a,...p,...h}}return a};function o(a){t=a(e)}function l(a,s){const u=e.getProps(),d=e.getVariantContext(!0)||{},h=[],p=new Set;let m={},f=1/0;for(let v=0;v<vae;v++){const x=gae[v],y=r[x],b=u[x]!==void 0?u[x]:d[x],w=ry(b),_=x===s?y.isActive:null;_===!1&&(f=v);let S=b===d[x]&&b!==u[x]&&w;if(S&&n&&e.manuallyAnimateOnMount&&(S=!1),y.protectedKeys={...m},!y.isActive&&_===null||!b&&!y.prevProp||P2(b)||typeof b=="boolean")continue;let A=xae(y.prevProp,b)||x===s&&y.isActive&&!S&&w||v>f&&w,C=!1;const M=Array.isArray(b)?b:[b];let T=M.reduce(i,{});_===!1&&(T={});const{prevResolvedValues:k={}}=y,P={...k,...T},D=I=>{A=!0,p.has(I)&&(C=!0,p.delete(I)),y.needsAnimating[I]=!0};for(const I in P){const O=T[I],j=k[I];if(m.hasOwnProperty(I))continue;let N=!1;Ow(O)&&Ow(j)?N=!NH(O,j):N=O!==j,N?O!==void 0?D(I):p.add(I):O!==void 0&&p.has(I)?D(I):y.protectedKeys[I]=!0}y.prevProp=b,y.prevResolvedValues=T,y.isActive&&(m={...m,...T}),n&&e.blockInitialAnimation&&(A=!1),A&&(!S||C)&&h.push(...M.map(I=>({animation:I,options:{type:x,...a}})))}if(p.size){const v={};p.forEach(x=>{const y=e.getBaseTarget(x);y!==void 0&&(v[x]=y)}),h.push({animation:v})}let g=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!e.manuallyAnimateOnMount&&(g=!1),n=!1,g?t(h):Promise.resolve()}function c(a,s,u){var d;if(r[a].isActive===s)return Promise.resolve();(d=e.variantChildren)===null||d===void 0||d.forEach(p=>{var m;return(m=p.animationState)===null||m===void 0?void 0:m.setActive(a,s)}),r[a].isActive=s;const h=l(u,a);for(const p in r)r[p].protectedKeys={};return h}return{animateChanges:l,setActive:c,setAnimateFunction:o,getState:()=>r}}function xae(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!NH(t,e):!1}function _d(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function wae(){return{animate:_d(!0),whileInView:_d(),whileHover:_d(),whileTap:_d(),whileDrag:_d(),whileFocus:_d(),exit:_d()}}class _ae extends gd{constructor(t){super(t),t.animationState||(t.animationState=bae(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),P2(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:r}=this.node.prevProps||{};t!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let Sae=0;class Eae extends gd{constructor(){super(...arguments),this.id=Sae++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const o=this.node.animationState.setActive("exit",!t,{custom:n??this.node.getProps().custom});r&&!t&&o.then(()=>r(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const Cae={animation:{Feature:_ae},exit:{Feature:Eae}},lO=(e,t)=>Math.abs(e-t);function Aae(e,t){const r=lO(e.x,t.x),n=lO(e.y,t.y);return Math.sqrt(r**2+n**2)}class gW{constructor(t,r,{transformPagePoint:n,contextWindow:i,dragSnapToOrigin:o=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=Y3(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,p=Aae(d.offset,{x:0,y:0})>=3;if(!h&&!p)return;const{point:m}=d,{timestamp:f}=Mi;this.history.push({...m,timestamp:f});const{onStart:g,onMove:v}=this.handlers;h||(g&&g(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),v&&v(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=q3(h,this.transformPagePoint),Ur.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:p,onSessionEnd:m,resumeAnimation:f}=this.handlers;if(this.dragSnapToOrigin&&f&&f(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=Y3(d.type==="pointercancel"?this.lastMoveEventInfo:q3(h,this.transformPagePoint),this.history);this.startEvent&&p&&p(d,g),m&&m(d,g)},!IH(t))return;this.dragSnapToOrigin=o,this.handlers=r,this.transformPagePoint=n,this.contextWindow=i||window;const l=j2(t),c=q3(l,this.transformPagePoint),{point:a}=c,{timestamp:s}=Mi;this.history=[{...a,timestamp:s}];const{onSessionStart:u}=r;u&&u(t,Y3(c,this.history)),this.removeListeners=Yu(_c(this.contextWindow,"pointermove",this.handlePointerMove),_c(this.contextWindow,"pointerup",this.handlePointerUp),_c(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Oc(this.updatePoint)}}function q3(e,t){return t?{point:t(e.point)}:e}function cO(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Y3({point:e},t){return{point:e,delta:cO(e,vW(t)),offset:cO(e,Mae(t)),velocity:Tae(t,.1)}}function Mae(e){return e[0]}function vW(e){return e[e.length-1]}function Tae(e,t){if(e.length<2)return{x:0,y:0};let r=e.length-1,n=null;const i=vW(e);for(;r>=0&&(n=e[r],!(i.timestamp-n.timestamp>bh(t)));)r--;if(!n)return{x:0,y:0};const o=Sc(i.timestamp-n.timestamp);if(o===0)return{x:0,y:0};const l={x:(i.x-n.x)/o,y:(i.y-n.y)/o};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function da(e){return e.max-e.min}function nT(e,t=0,r=.01){return Math.abs(e-t)<=r}function uO(e,t,r,n=.5){e.origin=n,e.originPoint=Jr(t.min,t.max,e.origin),e.scale=da(r)/da(t),(nT(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=Jr(r.min,r.max,e.origin)-e.originPoint,(nT(e.translate)||isNaN(e.translate))&&(e.translate=0)}function uv(e,t,r,n){uO(e.x,t.x,r.x,n?n.originX:void 0),uO(e.y,t.y,r.y,n?n.originY:void 0)}function dO(e,t,r){e.min=r.min+t.min,e.max=e.min+da(t)}function Pae(e,t,r){dO(e.x,t.x,r.x),dO(e.y,t.y,r.y)}function hO(e,t,r){e.min=t.min-r.min,e.max=e.min+da(t)}function dv(e,t,r){hO(e.x,t.x,r.x),hO(e.y,t.y,r.y)}function kae(e,{min:t,max:r},n){return t!==void 0&&e<t?e=n?Jr(t,e,n.min):Math.max(e,t):r!==void 0&&e>r&&(e=n?Jr(r,e,n.max):Math.min(e,r)),e}function pO(e,t,r){return{min:t!==void 0?e.min+t:void 0,max:r!==void 0?e.max+r-(e.max-e.min):void 0}}function Dae(e,{top:t,left:r,bottom:n,right:i}){return{x:pO(e.x,r,i),y:pO(e.y,t,n)}}function fO(e,t){let r=t.min-e.min,n=t.max-e.max;return t.max-t.min<e.max-e.min&&([r,n]=[n,r]),{min:r,max:n}}function jae(e,t){return{x:fO(e.x,t.x),y:fO(e.y,t.y)}}function Iae(e,t){let r=.5;const n=da(e),i=da(t);return i>n?r=iy(t.min,t.max-n,e.min):n>i&&(r=iy(e.min,e.max-i,t.min)),nd(0,1,r)}function Oae(e,t){const r={};return t.min!==void 0&&(r.min=t.min-e.min),t.max!==void 0&&(r.max=t.max-e.min),r}const iT=.35;function Rae(e=iT){return e===!1?e=0:e===!0&&(e=iT),{x:mO(e,"left","right"),y:mO(e,"top","bottom")}}function mO(e,t,r){return{min:gO(e,t),max:gO(e,r)}}function gO(e,t){return typeof e=="number"?e:e[t]||0}const vO=()=>({translate:0,scale:1,origin:0,originPoint:0}),kf=()=>({x:vO(),y:vO()}),yO=()=>({min:0,max:0}),Dn=()=>({x:yO(),y:yO()});function Sa(e){return[e("x"),e("y")]}function yW({top:e,left:t,right:r,bottom:n}){return{x:{min:t,max:r},y:{min:e,max:n}}}function zae({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function Lae(e,t){if(!t)return e;const r=t({x:e.left,y:e.top}),n=t({x:e.right,y:e.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function $3(e){return e===void 0||e===1}function oT({scale:e,scaleX:t,scaleY:r}){return!$3(e)||!$3(t)||!$3(r)}function Od(e){return oT(e)||bW(e)||e.z||e.rotate||e.rotateX||e.rotateY}function bW(e){return bO(e.x)||bO(e.y)}function bO(e){return e&&e!=="0%"}function Fw(e,t,r){const n=e-r,i=t*n;return r+i}function xO(e,t,r,n,i){return i!==void 0&&(e=Fw(e,i,n)),Fw(e,r,n)+t}function aT(e,t=0,r=1,n,i){e.min=xO(e.min,t,r,n,i),e.max=xO(e.max,t,r,n,i)}function xW(e,{x:t,y:r}){aT(e.x,t.translate,t.scale,t.originPoint),aT(e.y,r.translate,r.scale,r.originPoint)}function Nae(e,t,r,n=!1){const i=r.length;if(!i)return;t.x=t.y=1;let o,l;for(let c=0;c<i;c++){o=r[c],l=o.projectionDelta;const a=o.instance;a&&a.style&&a.style.display==="contents"||(n&&o.options.layoutScroll&&o.scroll&&o!==o.root&&Df(e,{x:-o.scroll.offset.x,y:-o.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,xW(e,l)),n&&Od(o.latestValues)&&Df(e,o.latestValues))}t.x=wO(t.x),t.y=wO(t.y)}function wO(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function mu(e,t){e.min=e.min+t,e.max=e.max+t}function _O(e,t,[r,n,i]){const o=t[i]!==void 0?t[i]:.5,l=Jr(e.min,e.max,o);aT(e,t[r],t[n],l,t.scale)}const Bae=["x","scaleX","originX"],Fae=["y","scaleY","originY"];function Df(e,t){_O(e.x,t,Bae),_O(e.y,t,Fae)}function wW(e,t){return yW(Lae(e.getBoundingClientRect(),t))}function Uae(e,t,r){const n=wW(e,r),{scroll:i}=t;return i&&(mu(n.x,i.offset.x),mu(n.y,i.offset.y)),n}const _W=({current:e})=>e?e.ownerDocument.defaultView:null,Vae=new WeakMap;class Hae{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Dn(),this.visualElement=t}start(t,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(j2(u,"page").point)},o=(u,d)=>{const{drag:h,dragPropagation:p,onDragStart:m}=this.getProps();if(h&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=RH(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Sa(g=>{let v=this.getAxisMotionValue(g).get()||0;if(xl.test(v)){const{projection:x}=this.visualElement;if(x&&x.layout){const y=x.layout.layoutBox[g];y&&(v=da(y)*(parseFloat(v)/100))}}this.originPoint[g]=v}),m&&Ur.update(()=>m(u,d),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},l=(u,d)=>{const{dragPropagation:h,dragDirectionLock:p,onDirectionLock:m,onDrag:f}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:g}=d;if(p&&this.currentDirection===null){this.currentDirection=Wae(g),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,g),this.updateAxis("y",d.point,g),this.visualElement.render(),f&&f(u,d)},c=(u,d)=>this.stop(u,d),a=()=>Sa(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:s}=this.getProps();this.panSession=new gW(t,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:a},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:s,contextWindow:_W(this.visualElement)})}stop(t,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o&&Ur.update(()=>o(t,r))}cancel(){this.isDragging=!1;const{projection:t,animationState:r}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(t,r,n){const{drag:i}=this.getProps();if(!n||!U1(t,i,this.currentDirection))return;const o=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=kae(l,this.constraints[t],this.elastic[t])),o.set(l)}resolveConstraints(){var t;const{dragConstraints:r,dragElastic:n}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,o=this.constraints;r&&Tf(r)?this.constraints||(this.constraints=this.resolveRefConstraints()):r&&i?this.constraints=Dae(i.layoutBox,r):this.constraints=!1,this.elastic=Rae(n),o!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Sa(l=>{this.getAxisMotionValue(l)&&(this.constraints[l]=Oae(i.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:r}=this.getProps();if(!t||!Tf(t))return!1;const n=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=Uae(n,i.root,this.visualElement.getTransformPagePoint());let l=jae(i.layout.layoutBox,o);if(r){const c=r(zae(l));this.hasMutatedConstraints=!!c,c&&(l=yW(c))}return l}startAnimation(t){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:o,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),a=this.constraints||{},s=Sa(u=>{if(!U1(u,r,this.currentDirection))return;let d=a[u]||{};l&&(d={min:0,max:0});const h=i?200:1e6,p=i?40:1e7,m={type:"inertia",velocity:n?t[u]:0,bounceStiffness:h,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(s).then(c)}startAxisValueAnimation(t,r){const n=this.getAxisMotionValue(t);return n.start(a5(t,n,0,r))}stopAnimation(){Sa(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Sa(t=>{var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.pause()})}getAnimationState(t){var r;return(r=this.getAxisMotionValue(t).animation)===null||r===void 0?void 0:r.state}getAxisMotionValue(t){const r="_drag"+t.toUpperCase(),n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){Sa(r=>{const{drag:n}=this.getProps();if(!U1(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(r);if(i&&i.layout){const{min:l,max:c}=i.layout.layoutBox[r];o.set(t[r]-Jr(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Tf(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Sa(l=>{const c=this.getAxisMotionValue(l);if(c){const a=c.get();i[l]=Iae({min:a,max:a},this.constraints[l])}});const{transformTemplate:o}=this.visualElement.getProps();this.visualElement.current.style.transform=o?o({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Sa(l=>{if(!U1(l,t,null))return;const c=this.getAxisMotionValue(l),{min:a,max:s}=this.constraints[l];c.set(Jr(a,s,i[l]))})}addListeners(){if(!this.visualElement.current)return;Vae.set(this.visualElement,this);const t=this.visualElement.current,r=_c(t,"pointerdown",a=>{const{drag:s,dragListener:u=!0}=this.getProps();s&&u&&this.start(a)}),n=()=>{const{dragConstraints:a}=this.getProps();Tf(a)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,o=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const l=fc(window,"resize",()=>this.scalePositionWithinConstraints()),c=i.addEventListener("didUpdate",({delta:a,hasLayoutChanged:s})=>{this.isDragging&&s&&(Sa(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=a[u].translate,d.set(d.get()+a[u].translate))}),this.visualElement.render())});return()=>{l(),r(),o(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:l=iT,dragMomentum:c=!0}=t;return{...t,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:o,dragElastic:l,dragMomentum:c}}}function U1(e,t,r){return(t===!0||t===e)&&(r===null||r===e)}function Wae(e,t=10){let r=null;return Math.abs(e.y)>t?r="y":Math.abs(e.x)>t&&(r="x"),r}class Gae extends gd{constructor(t){super(t),this.removeGroupControls=wn,this.removeListeners=wn,this.controls=new Hae(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const SO=e=>(t,r)=>{e&&Ur.update(()=>e(t,r))};class qae extends gd{constructor(){super(...arguments),this.removePointerDownListener=wn}onPointerDown(t){this.session=new gW(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_W(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:SO(t),onStart:SO(r),onMove:n,onEnd:(o,l)=>{delete this.session,i&&Ur.update(()=>i(o,l))}}}mount(){this.removePointerDownListener=_c(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function Yae(){const e=V.useContext(Wk);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:n}=e,i=V.useId();return V.useEffect(()=>n(i),[]),!t&&r?[!1,()=>r&&r(i)]:[!0]}const Ix={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function EO(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const $g={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Et.test(e))e=parseFloat(e);else return e;const r=EO(e,t.target.x),n=EO(e,t.target.y);return`${r}% ${n}%`}},$ae={correct:(e,{treeScale:t,projectionDelta:r})=>{const n=e,i=id.parse(e);if(i.length>5)return n;const o=id.createTransformer(e),l=typeof i[0]!="number"?1:0,c=r.x.scale*t.x,a=r.y.scale*t.y;i[0+l]/=c,i[1+l]/=a;const s=Jr(c,a,.5);return typeof i[2+l]=="number"&&(i[2+l]/=s),typeof i[3+l]=="number"&&(i[3+l]/=s),o(i)}};class Xae extends mt.Component{componentDidMount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:o}=t;rie(Kae),o&&(r.group&&r.group.add(o),n&&n.register&&i&&n.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),Ix.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:r,visualElement:n,drag:i,isPresent:o}=this.props,l=n.projection;return l&&(l.isPresent=o,i||t.layoutDependency!==r||r===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==o&&(o?l.promote():l.relegate()||Ur.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function SW(e){const[t,r]=Yae(),n=V.useContext(yH);return mt.createElement(Xae,{...e,layoutGroup:n,switchLayoutGroup:V.useContext(bH),isPresent:t,safeToRemove:r})}const Kae={borderRadius:{...$g,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:$g,borderTopRightRadius:$g,borderBottomLeftRadius:$g,borderBottomRightRadius:$g,boxShadow:$ae},EW=["TopLeft","TopRight","BottomLeft","BottomRight"],Qae=EW.length,CO=e=>typeof e=="string"?parseFloat(e):e,AO=e=>typeof e=="number"||Et.test(e);function Zae(e,t,r,n,i,o){i?(e.opacity=Jr(0,r.opacity!==void 0?r.opacity:1,Jae(n)),e.opacityExit=Jr(t.opacity!==void 0?t.opacity:1,0,ese(n))):o&&(e.opacity=Jr(t.opacity!==void 0?t.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let l=0;l<Qae;l++){const c=`border${EW[l]}Radius`;let a=MO(t,c),s=MO(r,c);if(a===void 0&&s===void 0)continue;a||(a=0),s||(s=0),a===0||s===0||AO(a)===AO(s)?(e[c]=Math.max(Jr(CO(a),CO(s),n),0),(xl.test(s)||xl.test(a))&&(e[c]+="%")):e[c]=s}(t.rotate||r.rotate)&&(e.rotate=Jr(t.rotate||0,r.rotate||0,n))}function MO(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Jae=CW(0,.5,YH),ese=CW(.5,.95,wn);function CW(e,t,r){return n=>n<e?0:n>t?1:r(iy(e,t,n))}function TO(e,t){e.min=t.min,e.max=t.max}function ma(e,t){TO(e.x,t.x),TO(e.y,t.y)}function PO(e,t,r,n,i){return e-=t,e=Fw(e,1/r,n),i!==void 0&&(e=Fw(e,1/i,n)),e}function tse(e,t=0,r=1,n=.5,i,o=e,l=e){if(xl.test(t)&&(t=parseFloat(t),t=Jr(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=Jr(o.min,o.max,n);e===o&&(c-=t),e.min=PO(e.min,t,r,c,i),e.max=PO(e.max,t,r,c,i)}function kO(e,t,[r,n,i],o,l){tse(e,t[r],t[n],t[i],t.scale,o,l)}const rse=["x","scaleX","originX"],nse=["y","scaleY","originY"];function DO(e,t,r,n){kO(e.x,t,rse,r?r.x:void 0,n?n.x:void 0),kO(e.y,t,nse,r?r.y:void 0,n?n.y:void 0)}function jO(e){return e.translate===0&&e.scale===1}function AW(e){return jO(e.x)&&jO(e.y)}function ise(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function MW(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function IO(e){return da(e.x)/da(e.y)}class ose{constructor(){this.members=[]}add(t){s5(this.members,t),t.scheduleRender()}remove(t){if(l5(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(t){const r=this.members.findIndex(i=>t===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){n=o;break}}return n?(this.promote(n),!0):!1}promote(t,r){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,r&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:r,resumingFrom:n}=t;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function OO(e,t,r){let n="";const i=e.x.translate/t.x,o=e.y.translate/t.y;if((i||o)&&(n=`translate3d(${i}px, ${o}px, 0) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),r){const{rotate:a,rotateX:s,rotateY:u}=r;a&&(n+=`rotate(${a}deg) `),s&&(n+=`rotateX(${s}deg) `),u&&(n+=`rotateY(${u}deg) `)}const l=e.x.scale*t.x,c=e.y.scale*t.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const ase=(e,t)=>e.depth-t.depth;class sse{constructor(){this.children=[],this.isDirty=!1}add(t){s5(this.children,t),this.isDirty=!0}remove(t){l5(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(ase),this.isDirty=!1,this.children.forEach(t)}}function lse(e,t){const r=performance.now(),n=({timestamp:i})=>{const o=i-r;o>=t&&(Oc(n),e(o-t))};return Ur.read(n,!0),()=>Oc(n)}function cse(e){window.MotionDebug&&window.MotionDebug.record(e)}function use(e){return e instanceof SVGElement&&e.tagName!=="svg"}function dse(e,t,r){const n=zo(e)?e:Rm(e);return n.start(a5("",n,t,r)),n.animation}const RO=["","X","Y","Z"],hse={visibility:"hidden"},zO=1e3;let pse=0;const Rd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function TW({attachResizeListener:e,defaultParent:t,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(l={},c=t==null?void 0:t()){this.id=pse++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Rd.totalNodes=Rd.resolvedTargetDeltas=Rd.recalculatedProjection=0,this.nodes.forEach(gse),this.nodes.forEach(wse),this.nodes.forEach(_se),this.nodes.forEach(vse),cse(Rd)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new sse)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new c5),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const a=this.eventHandlers.get(l);a&&a.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=use(l),this.instance=l;const{layoutId:a,layout:s,visualElement:u}=this.options;if(u&&!u.current&&u.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(s||a)&&(this.isLayoutDirty=!0),e){let d;const h=()=>this.root.updateBlockedByResize=!1;e(l,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=lse(h,250),Ix.hasAnimatedSinceResize&&(Ix.hasAnimatedSinceResize=!1,this.nodes.forEach(NO))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&u&&(a||s)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:p,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const f=this.options.transition||u.getDefaultTransition()||Mse,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=u.getProps(),x=!this.targetLayout||!MW(this.targetLayout,m)||p,y=!h&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||y||h&&(x||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,y);const b={...o5(f,"layout"),onPlay:g,onComplete:v};(u.shouldReduceMotion||this.options.layoutRoot)&&(b.delay=0,b.type=!1),this.startAnimation(b)}else h||NO(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Oc(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Sse),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:c,layout:a}=this.options;if(c===void 0&&!a)return;const s=this.getTransformTemplate();this.prevTransformTemplateValue=s?s(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LO);return}this.isUpdating||this.nodes.forEach(bse),this.isUpdating=!1,this.nodes.forEach(xse),this.nodes.forEach(fse),this.nodes.forEach(mse),this.clearAllSnapshots();const c=performance.now();Mi.delta=nd(0,1e3/60,c-Mi.timestamp),Mi.timestamp=c,Mi.isProcessing=!0,N3.update.process(Mi),N3.preRender.process(Mi),N3.render.process(Mi),Mi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(yse),this.sharedNodes.forEach(Ese)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ur.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ur.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Dn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c&&(this.scroll={animationId:this.root.animationId,phase:l,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const l=this.isLayoutDirty||this.shouldResetTransform,c=this.projectionDelta&&!AW(this.projectionDelta),a=this.getTransformTemplate(),s=a?a(this.latestValues,""):void 0,u=s!==this.prevTransformTemplateValue;l&&(c||Od(this.latestValues)||u)&&(i(this.instance,s),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let a=this.removeElementScroll(c);return l&&(a=this.removeTransform(a)),Tse(a),{animationId:this.root.animationId,measuredBox:c,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Dn();const c=l.measureViewportBox(),{scroll:a}=this.root;return a&&(mu(c.x,a.offset.x),mu(c.y,a.offset.y)),c}removeElementScroll(l){const c=Dn();ma(c,l);for(let a=0;a<this.path.length;a++){const s=this.path[a],{scroll:u,options:d}=s;if(s!==this.root&&u&&d.layoutScroll){if(u.isRoot){ma(c,l);const{scroll:h}=this.root;h&&(mu(c.x,-h.offset.x),mu(c.y,-h.offset.y))}mu(c.x,u.offset.x),mu(c.y,u.offset.y)}}return c}applyTransform(l,c=!1){const a=Dn();ma(a,l);for(let s=0;s<this.path.length;s++){const u=this.path[s];!c&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Df(a,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Od(u.latestValues)&&Df(a,u.latestValues)}return Od(this.latestValues)&&Df(a,this.latestValues),a}removeTransform(l){const c=Dn();ma(c,l);for(let a=0;a<this.path.length;a++){const s=this.path[a];if(!s.instance||!Od(s.latestValues))continue;oT(s.latestValues)&&s.updateSnapshot();const u=Dn(),d=s.measurePageBox();ma(u,d),DO(c,s.latestValues,s.snapshot?s.snapshot.layoutBox:void 0,u)}return Od(this.latestValues)&&DO(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const s=!!this.resumingFrom||this!==a;if(!(l||s&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Mi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),dv(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Dn(),this.targetWithTransforms=Dn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Pae(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ma(this.target,this.layout.layoutBox),xW(this.target,this.targetDelta)):ma(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Dn(),this.relativeTargetOrigin=Dn(),dv(this.relativeTargetOrigin,this.target,p.target),ma(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Rd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||oT(this.parent.latestValues)||bW(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),a=!!this.resumingFrom||this!==c;let s=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(s=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(s=!1),this.resolvedRelativeTargetAt===Mi.timestamp&&(s=!1),s)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ma(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,p=this.treeScale.y;Nae(this.layoutCorrected,this.treeScale,this.path,a),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox);const{target:m}=c;if(!m){this.projectionTransform&&(this.projectionDelta=kf(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=kf(),this.projectionDeltaWithTransform=kf());const f=this.projectionTransform;uv(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=OO(this.projectionDelta,this.treeScale),(this.projectionTransform!==f||this.treeScale.x!==h||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),Rd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),l){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(l,c=!1){const a=this.snapshot,s=a?a.latestValues:{},u={...this.latestValues},d=kf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const h=Dn(),p=a?a.source:void 0,m=this.layout?this.layout.source:void 0,f=p!==m,g=this.getStack(),v=!g||g.members.length<=1,x=!!(f&&!v&&this.options.crossfade===!0&&!this.path.some(Ase));this.animationProgress=0;let y;this.mixTargetDelta=b=>{const w=b/1e3;BO(d.x,l.x,w),BO(d.y,l.y,w),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(dv(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Cse(this.relativeTarget,this.relativeTargetOrigin,h,w),y&&ise(this.relativeTarget,y)&&(this.isProjectionDirty=!1),y||(y=Dn()),ma(y,this.relativeTarget)),f&&(this.animationValues=u,Zae(u,s,this.latestValues,w,x,v)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=w},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Oc(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ur.update(()=>{Ix.hasAnimatedSinceResize=!0,this.currentAnimation=dse(0,zO,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(zO),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:a,layout:s,latestValues:u}=l;if(!(!c||!a||!s)){if(this!==l&&this.layout&&s&&PW(this.options.animationType,this.layout.layoutBox,s.layoutBox)){a=this.target||Dn();const d=da(this.layout.layoutBox.x);a.x.min=l.target.x.min,a.x.max=a.x.min+d;const h=da(this.layout.layoutBox.y);a.y.min=l.target.y.min,a.y.max=a.y.min+h}ma(c,a),Df(c,u),uv(this.projectionDeltaWithTransform,this.layoutCorrected,c,u)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new ose),this.sharedNodes.get(l).add(c);const s=c.options.initialPromotionConfig;c.promote({transition:s?s.transition:void 0,preserveFollowOpacity:s&&s.shouldPreserveFollowOpacity?s.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:a}={}){const s=this.getStack();s&&s.promote(this,a),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:a}=l;if((a.rotate||a.rotateX||a.rotateY||a.rotateZ)&&(c=!0),!c)return;const s={};for(let u=0;u<RO.length;u++){const d="rotate"+RO[u];a[d]&&(s[d]=a[d],l.setStaticValue(d,0))}l.render();for(const u in s)l.setStaticValue(u,s[u]);l.scheduleRender()}getProjectionStyles(l){var c,a;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hse;const s={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,s.opacity="",s.pointerEvents=jx(l==null?void 0:l.pointerEvents)||"",s.transform=u?u(this.latestValues,""):"none",s;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const f={};return this.options.layoutId&&(f.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,f.pointerEvents=jx(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Od(this.latestValues)&&(f.transform=u?u({},""):"none",this.hasProjected=!1),f}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),s.transform=OO(this.projectionDeltaWithTransform,this.treeScale,h),u&&(s.transform=u(h,s.transform));const{x:p,y:m}=this.projectionDelta;s.transformOrigin=`${p.origin*100}% ${m.origin*100}% 0`,d.animationValues?s.opacity=d===this?(a=(c=h.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:s.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const f in jw){if(h[f]===void 0)continue;const{correct:g,applyTo:v}=jw[f],x=s.transform==="none"?h[f]:g(h[f],d);if(v){const y=v.length;for(let b=0;b<y;b++)s[v[b]]=x}else s[f]=x}return this.options.layoutId&&(s.pointerEvents=d===this?jx(l==null?void 0:l.pointerEvents)||"":"none"),s}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(LO),this.root.sharedNodes.clear()}}}function fse(e){e.updateLayout()}function mse(e){var t;const r=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&r&&e.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=e.layout,{animationType:o}=e.options,l=r.source!==e.layout.source;o==="size"?Sa(d=>{const h=l?r.measuredBox[d]:r.layoutBox[d],p=da(h);h.min=n[d].min,h.max=h.min+p}):PW(o,r.layoutBox,n)&&Sa(d=>{const h=l?r.measuredBox[d]:r.layoutBox[d],p=da(n[d]);h.max=h.min+p,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[d].max=e.relativeTarget[d].min+p)});const c=kf();uv(c,n,r.layoutBox);const a=kf();l?uv(a,e.applyTransform(i,!0),r.measuredBox):uv(a,n,r.layoutBox);const s=!AW(c);let u=!1;if(!e.resumeFrom){const d=e.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:p}=d;if(h&&p){const m=Dn();dv(m,r.layoutBox,h.layoutBox);const f=Dn();dv(f,n,p.layoutBox),MW(m,f)||(u=!0),d.options.layoutRoot&&(e.relativeTarget=f,e.relativeTargetOrigin=m,e.relativeParent=d)}}}e.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:a,layoutDelta:c,hasLayoutChanged:s,hasRelativeTargetChanged:u})}else if(e.isLead()){const{onExitComplete:n}=e.options;n&&n()}e.options.transition=void 0}function gse(e){Rd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function vse(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function yse(e){e.clearSnapshot()}function LO(e){e.clearMeasurements()}function bse(e){e.isLayoutDirty=!1}function xse(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function NO(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function wse(e){e.resolveTargetDelta()}function _se(e){e.calcProjection()}function Sse(e){e.resetRotation()}function Ese(e){e.removeLeadSnapshot()}function BO(e,t,r){e.translate=Jr(t.translate,0,r),e.scale=Jr(t.scale,1,r),e.origin=t.origin,e.originPoint=t.originPoint}function FO(e,t,r,n){e.min=Jr(t.min,r.min,n),e.max=Jr(t.max,r.max,n)}function Cse(e,t,r,n){FO(e.x,t.x,r.x,n),FO(e.y,t.y,r.y,n)}function Ase(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const Mse={duration:.45,ease:[.4,0,.1,1]},UO=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),VO=UO("applewebkit/")&&!UO("chrome/")?Math.round:wn;function HO(e){e.min=VO(e.min),e.max=VO(e.max)}function Tse(e){HO(e.x),HO(e.y)}function PW(e,t,r){return e==="position"||e==="preserve-aspect"&&!nT(IO(t),IO(r),.2)}const Pse=TW({attachResizeListener:(e,t)=>fc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),X3={current:void 0},kW=TW({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!X3.current){const e=new Pse({});e.mount(window),e.setOptions({layoutScroll:!0}),X3.current=e}return X3.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kse={pan:{Feature:qae},drag:{Feature:Gae,ProjectionNode:kW,MeasureLayout:SW}},Dse=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function jse(e){const t=Dse.exec(e);if(!t)return[,];const[,r,n]=t;return[r,n]}function sT(e,t,r=1){const[n,i]=jse(e);if(!n)return;const o=window.getComputedStyle(t).getPropertyValue(n);if(o){const l=o.trim();return hW(l)?parseFloat(l):l}else return KM(i)?sT(i,t,r+1):i}function Ise(e,{...t},r){const n=e.current;if(!(n instanceof Element))return{target:t,transitionEnd:r};r&&(r={...r}),e.values.forEach(i=>{const o=i.get();if(!KM(o))return;const l=sT(o,n);l&&i.set(l)});for(const i in t){const o=t[i];if(!KM(o))continue;const l=sT(o,n);l&&(t[i]=l,r||(r={}),r[i]===void 0&&(r[i]=o))}return{target:t,transitionEnd:r}}const Ose=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),DW=e=>Ose.has(e),Rse=e=>Object.keys(e).some(DW),WO=e=>e===ip||e===Et,GO=(e,t)=>parseFloat(e.split(", ")[t]),qO=(e,t)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return GO(i[1],t);{const o=n.match(/^matrix\((.+)\)$/);return o?GO(o[1],e):0}},zse=new Set(["x","y","z"]),Lse=Fy.filter(e=>!zse.has(e));function Nse(e){const t=[];return Lse.forEach(r=>{const n=e.getValue(r);n!==void 0&&(t.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),t.length&&e.render(),t}const zm={width:({x:e},{paddingLeft:t="0",paddingRight:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),height:({y:e},{paddingTop:t="0",paddingBottom:r="0"})=>e.max-e.min-parseFloat(t)-parseFloat(r),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:qO(4,13),y:qO(5,14)};zm.translateX=zm.x;zm.translateY=zm.y;const Bse=(e,t,r)=>{const n=t.measureViewportBox(),i=t.current,o=getComputedStyle(i),{display:l}=o,c={};l==="none"&&t.setStaticValue("display",e.display||"block"),r.forEach(s=>{c[s]=zm[s](n,o)}),t.render();const a=t.measureViewportBox();return r.forEach(s=>{const u=t.getValue(s);u&&u.jump(c[s]),e[s]=zm[s](a,o)}),e},Fse=(e,t,r={},n={})=>{t={...t},n={...n};const i=Object.keys(t).filter(DW);let o=[],l=!1;const c=[];if(i.forEach(a=>{const s=e.getValue(a);if(!e.hasValue(a))return;let u=r[a],d=Yg(u);const h=t[a];let p;if(Ow(h)){const m=h.length,f=h[0]===null?1:0;u=h[f],d=Yg(u);for(let g=f;g<m&&h[g]!==null;g++)p?Rw(Yg(h[g])===p):p=Yg(h[g])}else p=Yg(h);if(d!==p)if(WO(d)&&WO(p)){const m=s.get();typeof m=="string"&&s.set(parseFloat(m)),typeof h=="string"?t[a]=parseFloat(h):Array.isArray(h)&&p===Et&&(t[a]=h.map(parseFloat))}else d!=null&&d.transform&&(p!=null&&p.transform)&&(u===0||h===0)?u===0?s.set(p.transform(u)):t[a]=d.transform(h):(l||(o=Nse(e),l=!0),c.push(a),n[a]=n[a]!==void 0?n[a]:t[a],s.jump(h))}),c.length){const a=c.indexOf("height")>=0?window.pageYOffset:null,s=Bse(t,e,c);return o.length&&o.forEach(([u,d])=>{e.getValue(u).set(d)}),e.render(),T2&&a!==null&&window.scrollTo({top:a}),{target:s,transitionEnd:n}}else return{target:t,transitionEnd:n}};function Use(e,t,r,n){return Rse(t)?Fse(e,t,r,n):{target:t,transitionEnd:n}}const Vse=(e,t,r,n)=>{const i=Ise(e,t,n);return t=i.target,n=i.transitionEnd,Use(e,t,r,n)},lT={current:null},jW={current:!1};function Hse(){if(jW.current=!0,!!T2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>lT.current=e.matches;e.addListener(t),t()}else lT.current=!1}function Wse(e,t,r){const{willChange:n}=t;for(const i in t){const o=t[i],l=r[i];if(zo(o))e.addValue(i,o),Bw(n)&&n.add(i);else if(zo(l))e.addValue(i,Rm(o,{owner:e})),Bw(n)&&n.remove(i);else if(l!==o)if(e.hasValue(i)){const c=e.getValue(i);!c.hasAnimated&&c.set(o)}else{const c=e.getStaticValue(i);e.addValue(i,Rm(c!==void 0?c:o,{owner:e}))}}for(const i in r)t[i]===void 0&&e.removeValue(i);return t}const YO=new WeakMap,IW=Object.keys(ny),Gse=IW.length,$O=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],qse=Yk.length;class Yse{constructor({parent:t,props:r,presenceContext:n,reducedMotionConfig:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ur.render(this.render,!1,!0);const{latestValues:c,renderState:a}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=a,this.parent=t,this.props=r,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=l,this.isControllingVariants=k2(r),this.isVariantNode=vH(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:s,...u}=this.scrapeMotionValuesFromProps(r,{});for(const d in u){const h=u[d];c[d]!==void 0&&zo(h)&&(h.set(c[d],!1),Bw(s)&&s.add(d))}}scrapeMotionValuesFromProps(t,r){return{}}mount(t){this.current=t,YO.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),jW.current||Hse(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){YO.delete(this.current),this.projection&&this.projection.unmount(),Oc(this.notifyUpdate),Oc(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,r){const n=np.has(t),i=r.on("change",l=>{this.latestValues[t]=l,this.props.onUpdate&&Ur.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),o=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),o()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...r},n,i,o){let l,c;for(let a=0;a<Gse;a++){const s=IW[a],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:p}=ny[s];h&&(l=h),u(r)&&(!this.features[s]&&d&&(this.features[s]=new d(this)),p&&(c=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&l){this.projection=new l(this.latestValues,this.parent&&this.parent.projection);const{layoutId:a,layout:s,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:p}=r;this.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!u||d&&Tf(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof s=="string"?s:"both",initialPromotionConfig:o,layoutScroll:h,layoutRoot:p})}return c}updateFeatures(){for(const t in this.features){const r=this.features[t];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Dn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,r){this.latestValues[t]=r}makeTargetAnimatable(t,r=!0){return this.makeTargetAnimatableFromInstance(t,this.props,r)}update(t,r){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<$O.length;n++){const i=$O[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const o=t["on"+i];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Wse(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<qse;n++){const i=Yk[n],o=this.props[i];(ry(o)||o===!1)&&(r[i]=o)}return r}addVariantChild(t){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(t),()=>r.variantChildren.delete(t)}addValue(t,r){r!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,r)),this.values.set(t,r),this.latestValues[t]=r.get()}removeValue(t){this.values.delete(t);const r=this.valueSubscriptions.get(t);r&&(r(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,r){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&r!==void 0&&(n=Rm(r,{owner:this}),this.addValue(t,n)),n}readValue(t){var r;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,r){this.baseTarget[t]=r}getBaseTarget(t){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=e5(this.props,n))===null||r===void 0?void 0:r[t]:void 0;if(n&&i!==void 0)return i;const o=this.getBaseTargetFromProps(this.props,t);return o!==void 0&&!zo(o)?o:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,r){return this.events[t]||(this.events[t]=new c5),this.events[t].add(r)}notify(t,...r){this.events[t]&&this.events[t].notify(...r)}}class OW extends Yse{sortInstanceNodePosition(t,r){return t.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(t,r){return t.style?t.style[r]:void 0}removeValueFromRenderState(t,{vars:r,style:n}){delete r[t],delete n[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:r,...n},{transformValues:i},o){let l=uae(n,t||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),l&&(l=i(l))),o){lae(this,n,l);const c=Vse(this,n,l,r);r=c.transitionEnd,n=c.target}return{transition:t,transitionEnd:r,...n}}}function $se(e){return window.getComputedStyle(e)}class Xse extends OW{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,r){if(np.has(r)){const n=i5(r);return n&&n.default||0}else{const n=$se(t),i=(_H(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:r}){return wW(t,r)}build(t,r,n,i){Xk(t,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(t,r){return Jk(t,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zo(t)&&(this.childSubscription=t.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(t,r,n,i){TH(t,r,n,i)}}class Kse extends OW{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,r){return t[r]}readValueFromInstance(t,r){if(np.has(r)){const n=i5(r);return n&&n.default||0}return r=PH.has(r)?r:Gk(r),t.getAttribute(r)}measureInstanceViewportBox(){return Dn()}scrapeMotionValuesFromProps(t,r){return DH(t,r)}build(t,r,n,i){Qk(t,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(t,r,n,i){kH(t,r,n,i)}mount(t){this.isSVGTag=Zk(t.tagName),super.mount(t)}}const Qse=(e,t)=>$k(e)?new Kse(t,{enableHardwareAcceleration:!1}):new Xse(t,{enableHardwareAcceleration:!0}),Zse={layout:{ProjectionNode:kW,MeasureLayout:SW}},Jse={...Cae,...qie,...kse,...Zse},hu=eie((e,t)=>Iie(e,t,Jse,Qse)),ele=({data:e})=>{if(!e||e.length===0)return null;const t=e[0];return z.jsxs("div",{className:"cont-project",children:[z.jsxs("div",{className:"left",children:[z.jsx(hu.span,{initial:{x:"250%",y:"50%"},animate:{x:"10%"},transition:{type:"easein",delay:"0.1",duration:"0.7"},className:"addon",children:z.jsx(kne,{className:"icon-pro"})}),z.jsx(hu.span,{initial:{x:"250%",y:"50%"},animate:{x:"10%"},transition:{type:"easein",delay:"0.1",duration:"0.7"},className:"addon",children:z.jsx(Nne,{className:"icon-pro"})}),z.jsx(hu.span,{initial:{x:"250%",y:"50%"},animate:{x:"10%"},transition:{duration:"0.7"},className:"addon",children:z.jsx(Hk,{className:"icon-pro"})})]}),z.jsxs("div",{className:"center",children:[z.jsx("h1",{children:t[0]}),z.jsxs("div",{className:"made",children:[" ",z.jsx("h3",{children:"Built by "})," ",z.jsx("span",{children:" Dev"})]}),z.jsxs(hu.div,{className:"card-pro",initial:{scale:"0.9",rotate:"-5deg"},animate:{rotate:"0deg"},whileHover:{scale:"1",rotateZ:"2deg"},transition:{delay:"0.2"},children:[z.jsx("img",{src:Ane,alt:""}),z.jsxs("div",{className:"text-pro",children:[z.jsx("h1",{children:t[0]}),z.jsx("p",{children:t[1]})]}),z.jsxs("div",{className:"end-pro",children:[z.jsx("div",{className:"end-pro-left",children:z.jsx("span",{children:"link to project"})}),z.jsxs("div",{className:"end-pro-right",children:[z.jsx(Hne,{className:"icon-like"}),z.jsx(Vne,{className:"icon-like"})]})]})]})]}),z.jsxs("div",{className:"right",children:[z.jsx(hu.span,{initial:{x:"-250%"},animate:{x:"-10%"},transition:{duration:"0.7"},className:"addon",children:z.jsx(Ine,{className:"icon-pro"})}),z.jsx(hu.span,{initial:{x:"-250%"},animate:{x:"-10%"},transition:{duration:"0.7"},className:"addon",children:z.jsx(W6,{className:"icon-pro"})}),z.jsx(hu.span,{initial:{x:"-250%",rotate:"0deg"},animate:{x:"-10%",rotateX:"5deg"},transition:{type:"easein",delay:"0.1",duration:"0.7"},className:"addon",children:z.jsx(W6,{className:"icon-pro"})})]})]})},tle=({onClose:e})=>{V.useState(""),V.useState("");const[t,r]=V.useState(""),[n,i]=V.useState(""),[o,l]=V.useState(""),[c,a]=V.useState(""),[s,u]=V.useState(!1),[d,h]=V.useState(""),[p,m]=V.useState(!1),[f,g]=V.useState("");V.useEffect(()=>{(async()=>{try{await w()}catch(S){console.error("Error fetching data:",S)}})()},[]);const v=async()=>{try{if(window.ethereum){await window.ethereum.request({method:"eth_requestAccounts"});const S=(await window.ethereum.request({method:"eth_accounts"}))[0];console.log("Connected to MetaMask. Account:",S)}else console.error("MetaMask is not installed!")}catch(_){console.error("Error connecting to MetaMask:",_.message)}};let x;const y=async()=>{const _="0x350f1246bDcb60Dca95727E77F440Deede54a036",S=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"projectOwner",type:"address"},{indexed:!1,internalType:"string",name:"title",type:"string"}],name:"ProjectAdded",type:"event"},{inputs:[{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"pictureLink",type:"string"},{internalType:"string",name:"githubLink",type:"string"},{internalType:"bool",name:"allowContributions",type:"bool"},{internalType:"string",name:"domain",type:"string"},{internalType:"bool",name:"isDeployed",type:"bool"}],name:"addProject",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"projectOwner",type:"address"}],name:"getAllProjects",outputs:[{components:[{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"pictureLink",type:"string"},{internalType:"string",name:"githubLink",type:"string"},{internalType:"bool",name:"allowContributions",type:"bool"},{internalType:"string",name:"domain",type:"string"},{internalType:"bool",name:"isDeployed",type:"bool"}],internalType:"struct Project.ProjectData[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"projects",outputs:[{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"description",type:"string"},{internalType:"string",name:"pictureLink",type:"string"},{internalType:"string",name:"githubLink",type:"string"},{internalType:"bool",name:"allowContributions",type:"bool"},{internalType:"string",name:"domain",type:"string"},{internalType:"bool",name:"isDeployed",type:"bool"}],stateMutability:"view",type:"function"}],A=new(void 0).Web3Provider(window.ethereum).getSigner();x=new Cne(_,S,A),console.log(x.address)},b=async _=>{_.preventDefault();try{const E=new(void 0).Web3Provider(window.ethereum).getSigner();await x.connect(E).addProject(t,n,o,c,s,d,p),console.log("Project added successfully!")}catch(S){console.error("Error adding project:",S.message)}},w=async _=>{try{const E=new(void 0).Web3Provider(window.ethereum).getSigner();console.log(x);const C=await x.connect(E).getAllProjects("0x906AE658f4e996FAB721b9C2722276De5eDc056d");console.log(C),console.log(C.title),g(C)}catch(S){console.log(S)}};return z.jsxs("div",{className:"addpro-cont",tabIndex:"-1",role:"dialog",children:[z.jsxs("div",{className:"registerp",children:[z.jsxs("form",{className:"registerp-form",children:[z.jsx("div",{className:"line-reg",children:z.jsx("h1",{children:"Add a project"})}),z.jsxs("div",{className:"leftformpro",children:[z.jsxs("div",{className:"addpro-left",children:[z.jsx("label",{htmlFor:"title",children:"Project Title"}),z.jsx("input",{name:"title",type:"text",placeholder:"PROJECT",value:t,onChange:_=>r(_.target.value)}),z.jsx("label",{htmlFor:"desc",children:"Write Project Description"}),z.jsx("textarea",{placeholder:"A short description of your project",name:"desc",value:n,onChange:_=>i(_.target.value),cols:"30",rows:"10"})]}),z.jsxs("div",{className:"addpro-right",children:[" ",z.jsx("label",{htmlFor:"pictureLink",children:"Project Picture"}),z.jsx("input",{type:"file",onChange:_=>l(_.target.files[0])}),z.jsx("label",{htmlFor:"githubLink",children:"Github Link"}),z.jsx("input",{name:"githubLink",type:"text",placeholder:"Link",value:c,onChange:_=>a(_.target.value)}),z.jsxs("div",{className:"toggle",children:[z.jsx("label",{htmlFor:"allowContributions",children:"Want People to contribute?"}),z.jsxs("label",{className:"switch",children:[z.jsx("input",{type:"checkbox",checked:s,onChange:_=>u(_.target.checked)}),z.jsx("span",{className:"slider round"})]})]}),z.jsx("label",{htmlFor:"domain",children:"Select Your Project Domain"}),z.jsxs("select",{name:"domain",id:"",value:d,onChange:_=>h(_.target.value),children:[z.jsx("option",{value:"medical",children:"Medical"}),z.jsx("option",{value:"fintech",children:"Fintech"}),z.jsx("option",{value:"industry",children:"Industry"}),z.jsx("option",{value:"environment",children:"Environment"})]}),z.jsxs("div",{className:"toggle",children:[z.jsx("label",{htmlFor:"isDeployed",children:"Is it deployed?"}),z.jsxs("label",{className:"switch",children:[z.jsx("input",{type:"checkbox",checked:p,onChange:_=>m(_.target.checked)}),z.jsx("span",{className:"slider round"})]})]}),z.jsx("button",{onClick:b,children:"Save and Add"})]})]})]}),z.jsxs("div",{className:"but-addpro",children:[" ",z.jsx("button",{onClick:v,className:"form-add-but",children:"Connect To MetaMask"}),z.jsx("button",{onClick:y,className:"form-add-but",children:"Initiate Contract"})]})]}),z.jsx("button",{onClick:w,className:"pro-but-fet",children:"See Project"}),z.jsx("div",{className:"see-pro-cont",style:{width:"100%"},children:z.jsx(ele,{data:f})})]})},Uw=({title:e,img:t,desc:r,socialLinks:n})=>z.jsxs("div",{className:"card-cont",children:[e&&z.jsx("div",{className:"card-head",children:e}),t&&z.jsx("div",{className:"card-img",children:z.jsx("img",{src:t,alt:""})}),r&&z.jsx("div",{className:"card-desc",children:r}),n&&z.jsx("div",{className:"card-social-links",children:n.map((i,o)=>z.jsxs("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",children:[i.icon==="twitter"&&z.jsx(jne,{}),i.icon==="linkedIn"&&z.jsx(Dne,{})]},o))})]}),rle=()=>{const[e,t]=V.useState(""),r=By(),n={name:"John Doe",desc:"Software Engineer",img:"user1.jpg",email:"john.doe@example.com",country:"USA",contact:"+1 123-456-7890",linkedin:"https://www.linkedin.com/in/johndoe",github:"https://github.com/johndoe"},i=[{index:1,title:"Farm Financer",img:"/bg.jpg",desc:"A one stop solution to deal with all the financial hassales for farmers"},{index:2,title:"Athena Data Analytics",img:"/pr2.png",desc:"Leveraging machine learning to transform big data into actionable insights for businesses"},{index:3,title:"Green Horizon Energy",img:"/pr3.png",desc:"Developing sustainable, renewable energy solutions to combat climate change"},{index:4,title:"Urban Agriculture Revolution",img:"/pr4.png",desc:"Implementing vertical farming techniques to create food security in urban environments"}],o=()=>{r("/addproject")},l=()=>{t(!1)};return z.jsxs(z.Fragment,{children:[e&&z.jsx("div",{className:"modal-overlay",children:z.jsx("div",{className:"centre-user",tabIndex:"-1",role:"dialog",children:z.jsx(AddProject,{onClose:l})})}),z.jsxs("div",{className:"cont-userpro",children:[z.jsxs("div",{className:"left-user",children:[z.jsx("div",{className:"user-img",children:z.jsx("img",{src:n.img,alt:""})}),z.jsx("div",{className:"user-desc",children:z.jsx("p",{children:n.desc})}),z.jsxs("div",{className:"user-social",children:[z.jsxs("div",{className:"u-link",children:[z.jsx("span",{className:"icon",children:z.jsx(dH,{})}),z.jsx("span",{className:"link",children:n.linkedin})]}),z.jsxs("div",{className:"u-link",children:[z.jsx("span",{className:"icon",children:z.jsx(Une,{})}),z.jsx("span",{className:"link",children:n.github})]})]})]}),z.jsxs("div",{className:"right-user",children:[z.jsxs("div",{className:"user-header",children:[z.jsx("div",{className:"user-head",children:z.jsxs("h1",{children:["Hello , It's ",z.jsx("span",{className:"head-name",children:n.name})," "]})}),z.jsx("div",{className:"user-edit",children:z.jsx(Rne,{})})]}),z.jsxs("div",{className:"user-deets",children:[z.jsx("span",{className:"user-info",children:n.desc}),z.jsx("span",{className:"user-info",children:n.email}),z.jsx("span",{className:"user-info",children:n.country}),z.jsx("span",{className:"user-info",children:n.contact}),z.jsx("span",{className:"user-info",children:"Lorem ipsum dolor sit, amet consectetur adipisicing elit. Mollitia dolores accusamus laborum."})]}),z.jsxs("div",{className:"user-project-sec",children:[z.jsx("div",{className:"user-projects",children:i.map(c=>z.jsx(Uw,{title:c.title,img:c.img},c.index))}),z.jsx("div",{className:"user-add-pro",onClick:o,children:z.jsx(Uw,{title:z.jsx(Lne,{})})})]})]})]})]})};var u5={exports:{}},RW=function(t,r){return function(){for(var i=new Array(arguments.length),o=0;o<i.length;o++)i[o]=arguments[o];return t.apply(r,i)}};/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var nle=function(t){return t!=null&&t.constructor!=null&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)},ile=RW,ole=nle,sg=Object.prototype.toString;function zW(e){return sg.call(e)==="[object Array]"}function ale(e){return sg.call(e)==="[object ArrayBuffer]"}function sle(e){return typeof FormData<"u"&&e instanceof FormData}function lle(e){var t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function cle(e){return typeof e=="string"}function ule(e){return typeof e=="number"}function dle(e){return typeof e>"u"}function LW(e){return e!==null&&typeof e=="object"}function hle(e){return sg.call(e)==="[object Date]"}function ple(e){return sg.call(e)==="[object File]"}function fle(e){return sg.call(e)==="[object Blob]"}function NW(e){return sg.call(e)==="[object Function]"}function mle(e){return LW(e)&&NW(e.pipe)}function gle(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}function vle(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function yle(){return typeof navigator<"u"&&navigator.product==="ReactNative"?!1:typeof window<"u"&&typeof document<"u"}function d5(e,t){if(!(e===null||typeof e>"u"))if(typeof e!="object"&&(e=[e]),zW(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function BW(){var e={};function t(i,o){typeof e[o]=="object"&&typeof i=="object"?e[o]=BW(e[o],i):e[o]=i}for(var r=0,n=arguments.length;r<n;r++)d5(arguments[r],t);return e}function ble(e,t,r){return d5(t,function(i,o){r&&typeof i=="function"?e[o]=ile(i,r):e[o]=i}),e}var Qa={isArray:zW,isArrayBuffer:ale,isBuffer:ole,isFormData:sle,isArrayBufferView:lle,isString:cle,isNumber:ule,isObject:LW,isUndefined:dle,isDate:hle,isFile:ple,isBlob:fle,isFunction:NW,isStream:mle,isURLSearchParams:gle,isStandardBrowserEnv:yle,forEach:d5,merge:BW,extend:ble,trim:vle},xle=Qa,wle=function(t,r){xle.forEach(t,function(i,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=i,delete t[o])})},K3,XO;function _le(){return XO||(XO=1,K3=function(t,r,n,i,o){return t.config=r,n&&(t.code=n),t.request=i,t.response=o,t}),K3}var Q3,KO;function FW(){if(KO)return Q3;KO=1;var e=_le();return Q3=function(r,n,i,o,l){var c=new Error(r);return e(c,n,i,o,l)},Q3}var Z3,QO;function Sle(){if(QO)return Z3;QO=1;var e=FW();return Z3=function(r,n,i){var o=i.config.validateStatus;!i.status||!o||o(i.status)?r(i):n(e("Request failed with status code "+i.status,i.config,null,i.request,i))},Z3}var J3,ZO;function Ele(){if(ZO)return J3;ZO=1;var e=Qa;function t(r){return encodeURIComponent(r).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return J3=function(n,i,o){if(!i)return n;var l;if(o)l=o(i);else if(e.isURLSearchParams(i))l=i.toString();else{var c=[];e.forEach(i,function(s,u){s===null||typeof s>"u"||(e.isArray(s)?u=u+"[]":s=[s],e.forEach(s,function(h){e.isDate(h)?h=h.toISOString():e.isObject(h)&&(h=JSON.stringify(h)),c.push(t(u)+"="+t(h))}))}),l=c.join("&")}return l&&(n+=(n.indexOf("?")===-1?"?":"&")+l),n},J3}var eE,JO;function Cle(){if(JO)return eE;JO=1;var e=Qa,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return eE=function(n){var i={},o,l,c;return n&&e.forEach(n.split(`
`),function(s){if(c=s.indexOf(":"),o=e.trim(s.substr(0,c)).toLowerCase(),l=e.trim(s.substr(c+1)),o){if(i[o]&&t.indexOf(o)>=0)return;o==="set-cookie"?i[o]=(i[o]?i[o]:[]).concat([l]):i[o]=i[o]?i[o]+", "+l:l}}),i},eE}var tE,eR;function Ale(){if(eR)return tE;eR=1;var e=Qa;return tE=e.isStandardBrowserEnv()?function(){var r=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function o(l){var c=l;return r&&(n.setAttribute("href",c),c=n.href),n.setAttribute("href",c),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=o(window.location.href),function(c){var a=e.isString(c)?o(c):c;return a.protocol===i.protocol&&a.host===i.host}}():function(){return function(){return!0}}(),tE}var rE,tR;function Mle(){if(tR)return rE;tR=1;var e=Qa;return rE=e.isStandardBrowserEnv()?function(){return{write:function(n,i,o,l,c,a){var s=[];s.push(n+"="+encodeURIComponent(i)),e.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),e.isString(l)&&s.push("path="+l),e.isString(c)&&s.push("domain="+c),a===!0&&s.push("secure"),document.cookie=s.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),rE}var nE,rR;function nR(){if(rR)return nE;rR=1;var e=Qa,t=Sle(),r=Ele(),n=Cle(),i=Ale(),o=FW();return nE=function(c){return new Promise(function(s,u){var d=c.data,h=c.headers;e.isFormData(d)&&delete h["Content-Type"];var p=new XMLHttpRequest;if(c.auth){var m=c.auth.username||"",f=c.auth.password||"";h.Authorization="Basic "+btoa(m+":"+f)}if(p.open(c.method.toUpperCase(),r(c.url,c.params,c.paramsSerializer),!0),p.timeout=c.timeout,p.onreadystatechange=function(){if(!(!p||p.readyState!==4)&&!(p.status===0&&!(p.responseURL&&p.responseURL.indexOf("file:")===0))){var y="getAllResponseHeaders"in p?n(p.getAllResponseHeaders()):null,b=!c.responseType||c.responseType==="text"?p.responseText:p.response,w={data:b,status:p.status,statusText:p.statusText,headers:y,config:c,request:p};t(s,u,w),p=null}},p.onerror=function(){u(o("Network Error",c,null,p)),p=null},p.ontimeout=function(){u(o("timeout of "+c.timeout+"ms exceeded",c,"ECONNABORTED",p)),p=null},e.isStandardBrowserEnv()){var g=Mle(),v=(c.withCredentials||i(c.url))&&c.xsrfCookieName?g.read(c.xsrfCookieName):void 0;v&&(h[c.xsrfHeaderName]=v)}if("setRequestHeader"in p&&e.forEach(h,function(y,b){typeof d>"u"&&b.toLowerCase()==="content-type"?delete h[b]:p.setRequestHeader(b,y)}),c.withCredentials&&(p.withCredentials=!0),c.responseType)try{p.responseType=c.responseType}catch(x){if(c.responseType!=="json")throw x}typeof c.onDownloadProgress=="function"&&p.addEventListener("progress",c.onDownloadProgress),typeof c.onUploadProgress=="function"&&p.upload&&p.upload.addEventListener("progress",c.onUploadProgress),c.cancelToken&&c.cancelToken.promise.then(function(y){p&&(p.abort(),u(y),p=null)}),d===void 0&&(d=null),p.send(d)})},nE}var go=Qa,Tle=wle,Ple={"Content-Type":"application/x-www-form-urlencoded"};function iR(e,t){!go.isUndefined(e)&&go.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function kle(){var e;return(typeof XMLHttpRequest<"u"||typeof process<"u")&&(e=nR()),e}var O2={adapter:kle(),transformRequest:[function(t,r){return Tle(r,"Content-Type"),go.isFormData(t)||go.isArrayBuffer(t)||go.isBuffer(t)||go.isStream(t)||go.isFile(t)||go.isBlob(t)?t:go.isArrayBufferView(t)?t.buffer:go.isURLSearchParams(t)?(iR(r,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):go.isObject(t)?(iR(r,"application/json;charset=utf-8"),JSON.stringify(t)):t}],transformResponse:[function(t){if(typeof t=="string")try{t=JSON.parse(t)}catch{}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(t){return t>=200&&t<300}};O2.headers={common:{Accept:"application/json, text/plain, */*"}};go.forEach(["delete","get","head"],function(t){O2.headers[t]={}});go.forEach(["post","put","patch"],function(t){O2.headers[t]=go.merge(Ple)});var h5=O2,Dle=Qa;function R2(){this.handlers=[]}R2.prototype.use=function(t,r){return this.handlers.push({fulfilled:t,rejected:r}),this.handlers.length-1};R2.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)};R2.prototype.forEach=function(t){Dle.forEach(this.handlers,function(n){n!==null&&t(n)})};var jle=R2,Ile=Qa,Ole=function(t,r,n){return Ile.forEach(n,function(o){t=o(t,r)}),t},iE,oR;function UW(){return oR||(oR=1,iE=function(t){return!!(t&&t.__CANCEL__)}),iE}var Rle=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)},zle=function(t,r){return r?t.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):t},aR=Qa,oE=Ole,Lle=UW(),Nle=h5,Ble=Rle,Fle=zle;function aE(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var Ule=function(t){aE(t),t.baseURL&&!Ble(t.url)&&(t.url=Fle(t.baseURL,t.url)),t.headers=t.headers||{},t.data=oE(t.data,t.headers,t.transformRequest),t.headers=aR.merge(t.headers.common||{},t.headers[t.method]||{},t.headers||{}),aR.forEach(["delete","get","head","post","put","patch","common"],function(i){delete t.headers[i]});var r=t.adapter||Nle.adapter;return r(t).then(function(i){return aE(t),i.data=oE(i.data,i.headers,t.transformResponse),i},function(i){return Lle(i)||(aE(t),i&&i.response&&(i.response.data=oE(i.response.data,i.response.headers,t.transformResponse))),Promise.reject(i)})},Vle=h5,Lm=Qa,sR=jle,Hle=Ule;function z2(e){this.defaults=e,this.interceptors={request:new sR,response:new sR}}z2.prototype.request=function(t){typeof t=="string"&&(t=Lm.merge({url:arguments[0]},arguments[1])),t=Lm.merge(Vle,{method:"get"},this.defaults,t),t.method=t.method.toLowerCase();var r=[Hle,void 0],n=Promise.resolve(t);for(this.interceptors.request.forEach(function(o){r.unshift(o.fulfilled,o.rejected)}),this.interceptors.response.forEach(function(o){r.push(o.fulfilled,o.rejected)});r.length;)n=n.then(r.shift(),r.shift());return n};Lm.forEach(["delete","get","head","options"],function(t){z2.prototype[t]=function(r,n){return this.request(Lm.merge(n||{},{method:t,url:r}))}});Lm.forEach(["post","put","patch"],function(t){z2.prototype[t]=function(r,n,i){return this.request(Lm.merge(i||{},{method:t,url:r,data:n}))}});var Wle=z2,sE,lR;function VW(){if(lR)return sE;lR=1;function e(t){this.message=t}return e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,sE=e,sE}var lE,cR;function Gle(){if(cR)return lE;cR=1;var e=VW();function t(r){if(typeof r!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(l){n=l});var i=this;r(function(l){i.reason||(i.reason=new e(l),n(i.reason))})}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.source=function(){var n,i=new t(function(l){n=l});return{token:i,cancel:n}},lE=t,lE}var cE,uR;function qle(){return uR||(uR=1,cE=function(t){return function(n){return t.apply(null,n)}}),cE}var cT=Qa,Yle=RW,Ox=Wle,HW=h5;function WW(e){var t=new Ox(e),r=Yle(Ox.prototype.request,t);return cT.extend(r,Ox.prototype,t),cT.extend(r,t),r}var Hc=WW(HW);Hc.Axios=Ox;Hc.create=function(t){return WW(cT.merge(HW,t))};Hc.Cancel=VW();Hc.CancelToken=Gle();Hc.isCancel=UW();Hc.all=function(t){return Promise.all(t)};Hc.spread=qle();u5.exports=Hc;u5.exports.default=Hc;var $le=u5.exports,Xle=$le;const op=Jh(Xle);function Kle(){const e=By(),[t,r]=V.useState(null),[n,i]=V.useState(null),[o,l]=V.useState({username:"",email:"",password:"",img:"",country:"",name:"",contact:"",resume:" ",isSeller:!1,desc:""}),c=u=>{l(d=>({...d,[u.target.name]:u.target.value}))},a=async u=>{u.preventDefault(),e("/sign");try{console.log(o);const d=new FormData;d.append("username",o.username),d.append("email",o.email),d.append("password",o.password),d.append("img",t),d.append("country",o.country),d.append("name",o.name),d.append("contact",o.contact),d.append("resume",n),d.append("isSeller",o.isSeller),d.append("desc",o.desc),await op.post("http://localhost:3000/api/v1/users/register",d),console.log("User created successfully")}catch(d){console.log(d)}},s={hover:{scale:1.025},tap:{scale:.975}};return z.jsx("div",{className:"register",children:z.jsxs("div",{className:"cont-reg",children:[z.jsxs("div",{className:"nav-main-reg",children:[z.jsxs("div",{className:"opt-reg",children:[z.jsx("span",{className:"red"}),z.jsx("span",{className:"yellow"}),z.jsx("span",{className:"green"})]}),z.jsx("span",{className:"textreg",children:"register@admin.dev"})]}),z.jsxs("form",{onSubmit:a,children:[z.jsxs("div",{className:"leftform",children:[z.jsxs("div",{className:"line-reg",children:[z.jsx(Fne,{className:"icon-reg"})," ",z.jsx("h1",{children:"Create new account"})]}),z.jsx("label",{htmlFor:"",children:"Username"}),z.jsx("input",{name:"username",type:"text",placeholder:"johndoe",onChange:c}),z.jsx("label",{htmlFor:"",children:"Email"}),z.jsx("input",{name:"email",type:"email",placeholder:"email",onChange:c}),z.jsx("label",{htmlFor:"",children:"Password"}),z.jsx("input",{name:"password",type:"password",onChange:c}),z.jsx("label",{htmlFor:"",children:"Profile Picture"}),z.jsx("input",{type:"file",onChange:u=>r(u.target.files[0])}),z.jsx("label",{htmlFor:"",children:"Country"}),z.jsx("input",{name:"country",type:"text",placeholder:"Uttar Pradesh",onChange:c}),z.jsx(hu.button,{variants:s,whileHover:"hover",whileTap:"tap",type:"submit",children:"Register"})]}),z.jsxs("div",{className:"rightform",children:[z.jsxs("div",{className:"line-reg",children:[z.jsx(One,{className:"icon-reg"})," ",z.jsx("h1",{children:"Basic Information"})]}),z.jsx("label",{htmlFor:"",children:"Name"}),z.jsx("input",{name:"name",type:"text",placeholder:"dev",onChange:c}),z.jsx("label",{htmlFor:"",children:"Add Resume"}),z.jsx("input",{type:"file",onChange:u=>i(u.target.files[0])}),z.jsx("label",{htmlFor:"",children:"Phone Number"}),z.jsx("input",{name:"phone",type:"text",placeholder:"+1 234 567 89",onChange:c}),z.jsx("label",{htmlFor:"",children:"Write about Yourself 🖋️"}),z.jsx("textarea",{placeholder:"A short description of yourself",name:"desc",id:"",cols:"30",rows:"10",onChange:c})]})]})]})})}const Qle=()=>{const e=[{index:1,title:"Farm Financer",img:"/bg.jpg",desc:"A one stop solution to deal with all the financial hassales for farmers"},{index:2,title:"Athena Data Analytics",img:"/pr2.png",desc:"Leveraging machine learning to transform big data into actionable insights for businesses"},{index:3,title:"Green Horizon Energy",img:"/pr3.png",desc:"Developing sustainable, renewable energy solutions to combat climate change"},{index:4,title:"Urban Agriculture Revolution",img:"/pr4.png",desc:"Implementing vertical farming techniques to create food security in urban environments"}];return z.jsx("div",{style:{display:"flex",flexWrap:"wrap"},children:e.map(t=>z.jsx(Uw,{title:t.title,img:t.img,desc:t.desc},t.index))})},oy={black:"#000",white:"#fff"},gp={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},vp={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},yp={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},bp={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},xp={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Xg={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Zle={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"};function Nh(e){let t="https://mui.com/production-error/?code="+e;for(let r=1;r<arguments.length;r+=1)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}const Jle=Object.freeze(Object.defineProperty({__proto__:null,default:Nh},Symbol.toStringTag,{value:"Module"})),Wy="$$material";function oe(){return oe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},oe.apply(null,arguments)}function At(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}function GW(e){var t=Object.create(null);return function(r){return t[r]===void 0&&(t[r]=e(r)),t[r]}}var ece=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,tce=GW(function(e){return ece.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91});function rce(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}function nce(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),e.nonce!==void 0&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}var ice=function(){function e(r){var n=this;this._insertTag=function(i){var o;n.tags.length===0?n.insertionPoint?o=n.insertionPoint.nextSibling:n.prepend?o=n.container.firstChild:o=n.before:o=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(i,o),n.tags.push(i)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(n){n.forEach(this._insertTag)},t.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(nce(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=rce(i);try{o.insertRule(n,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(n));this.ctr++},t.flush=function(){this.tags.forEach(function(n){return n.parentNode&&n.parentNode.removeChild(n)}),this.tags=[],this.ctr=0},e}(),Ci="-ms-",Vw="-moz-",hr="-webkit-",qW="comm",p5="rule",f5="decl",oce="@import",YW="@keyframes",ace="@layer",sce=Math.abs,L2=String.fromCharCode,lce=Object.assign;function cce(e,t){return vi(e,0)^45?(((t<<2^vi(e,0))<<2^vi(e,1))<<2^vi(e,2))<<2^vi(e,3):0}function $W(e){return e.trim()}function uce(e,t){return(e=t.exec(e))?e[0]:e}function pr(e,t,r){return e.replace(t,r)}function uT(e,t){return e.indexOf(t)}function vi(e,t){return e.charCodeAt(t)|0}function ay(e,t,r){return e.slice(t,r)}function nl(e){return e.length}function m5(e){return e.length}function V1(e,t){return t.push(e),e}function dce(e,t){return e.map(t).join("")}var N2=1,Nm=1,XW=0,Lo=0,Rn=0,lg="";function B2(e,t,r,n,i,o,l){return{value:e,root:t,parent:r,type:n,props:i,children:o,line:N2,column:Nm,length:l,return:""}}function Kg(e,t){return lce(B2("",null,null,"",null,null,0),e,{length:-e.length},t)}function hce(){return Rn}function pce(){return Rn=Lo>0?vi(lg,--Lo):0,Nm--,Rn===10&&(Nm=1,N2--),Rn}function sa(){return Rn=Lo<XW?vi(lg,Lo++):0,Nm++,Rn===10&&(Nm=1,N2++),Rn}function wl(){return vi(lg,Lo)}function Rx(){return Lo}function Gy(e,t){return ay(lg,e,t)}function sy(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KW(e){return N2=Nm=1,XW=nl(lg=e),Lo=0,[]}function QW(e){return lg="",e}function zx(e){return $W(Gy(Lo-1,dT(e===91?e+2:e===40?e+1:e)))}function fce(e){for(;(Rn=wl())&&Rn<33;)sa();return sy(e)>2||sy(Rn)>3?"":" "}function mce(e,t){for(;--t&&sa()&&!(Rn<48||Rn>102||Rn>57&&Rn<65||Rn>70&&Rn<97););return Gy(e,Rx()+(t<6&&wl()==32&&sa()==32))}function dT(e){for(;sa();)switch(Rn){case e:return Lo;case 34:case 39:e!==34&&e!==39&&dT(Rn);break;case 40:e===41&&dT(e);break;case 92:sa();break}return Lo}function gce(e,t){for(;sa()&&e+Rn!==57;)if(e+Rn===84&&wl()===47)break;return"/*"+Gy(t,Lo-1)+"*"+L2(e===47?e:sa())}function vce(e){for(;!sy(wl());)sa();return Gy(e,Lo)}function yce(e){return QW(Lx("",null,null,null,[""],e=KW(e),0,[0],e))}function Lx(e,t,r,n,i,o,l,c,a){for(var s=0,u=0,d=l,h=0,p=0,m=0,f=1,g=1,v=1,x=0,y="",b=i,w=o,_=n,S=y;g;)switch(m=x,x=sa()){case 40:if(m!=108&&vi(S,d-1)==58){uT(S+=pr(zx(x),"&","&\f"),"&\f")!=-1&&(v=-1);break}case 34:case 39:case 91:S+=zx(x);break;case 9:case 10:case 13:case 32:S+=fce(m);break;case 92:S+=mce(Rx()-1,7);continue;case 47:switch(wl()){case 42:case 47:V1(bce(gce(sa(),Rx()),t,r),a);break;default:S+="/"}break;case 123*f:c[s++]=nl(S)*v;case 125*f:case 59:case 0:switch(x){case 0:case 125:g=0;case 59+u:v==-1&&(S=pr(S,/\f/g,"")),p>0&&nl(S)-d&&V1(p>32?hR(S+";",n,r,d-1):hR(pr(S," ","")+";",n,r,d-2),a);break;case 59:S+=";";default:if(V1(_=dR(S,t,r,s,u,i,c,y,b=[],w=[],d),o),x===123)if(u===0)Lx(S,t,_,_,b,o,d,c,w);else switch(h===99&&vi(S,3)===110?100:h){case 100:case 108:case 109:case 115:Lx(e,_,_,n&&V1(dR(e,_,_,0,0,i,c,y,i,b=[],d),w),i,w,d,c,n?b:w);break;default:Lx(S,_,_,_,[""],w,0,c,w)}}s=u=p=0,f=v=1,y=S="",d=l;break;case 58:d=1+nl(S),p=m;default:if(f<1){if(x==123)--f;else if(x==125&&f++==0&&pce()==125)continue}switch(S+=L2(x),x*f){case 38:v=u>0?1:(S+="\f",-1);break;case 44:c[s++]=(nl(S)-1)*v,v=1;break;case 64:wl()===45&&(S+=zx(sa())),h=wl(),u=d=nl(y=S+=vce(Rx())),x++;break;case 45:m===45&&nl(S)==2&&(f=0)}}return o}function dR(e,t,r,n,i,o,l,c,a,s,u){for(var d=i-1,h=i===0?o:[""],p=m5(h),m=0,f=0,g=0;m<n;++m)for(var v=0,x=ay(e,d+1,d=sce(f=l[m])),y=e;v<p;++v)(y=$W(f>0?h[v]+" "+x:pr(x,/&\f/g,h[v])))&&(a[g++]=y);return B2(e,t,r,i===0?p5:c,a,s,u)}function bce(e,t,r){return B2(e,t,r,qW,L2(hce()),ay(e,2,-2),0)}function hR(e,t,r,n){return B2(e,t,r,f5,ay(e,0,n),ay(e,n+1,-1),n)}function Zf(e,t){for(var r="",n=m5(e),i=0;i<n;i++)r+=t(e[i],i,e,t)||"";return r}function xce(e,t,r,n){switch(e.type){case ace:if(e.children.length)break;case oce:case f5:return e.return=e.return||e.value;case qW:return"";case YW:return e.return=e.value+"{"+Zf(e.children,n)+"}";case p5:e.value=e.props.join(",")}return nl(r=Zf(e.children,n))?e.return=e.value+"{"+r+"}":""}function wce(e){var t=m5(e);return function(r,n,i,o){for(var l="",c=0;c<t;c++)l+=e[c](r,n,i,o)||"";return l}}function _ce(e){return function(t){t.root||(t=t.return)&&e(t)}}var Sce=function(t,r,n){for(var i=0,o=0;i=o,o=wl(),i===38&&o===12&&(r[n]=1),!sy(o);)sa();return Gy(t,Lo)},Ece=function(t,r){var n=-1,i=44;do switch(sy(i)){case 0:i===38&&wl()===12&&(r[n]=1),t[n]+=Sce(Lo-1,r,n);break;case 2:t[n]+=zx(i);break;case 4:if(i===44){t[++n]=wl()===58?"&\f":"",r[n]=t[n].length;break}default:t[n]+=L2(i)}while(i=sa());return t},Cce=function(t,r){return QW(Ece(KW(t),r))},pR=new WeakMap,Ace=function(t){if(!(t.type!=="rule"||!t.parent||t.length<1)){for(var r=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(t.props.length===1&&r.charCodeAt(0)!==58&&!pR.get(n))&&!i){pR.set(t,!0);for(var o=[],l=Cce(r,o),c=n.props,a=0,s=0;a<l.length;a++)for(var u=0;u<c.length;u++,s++)t.props[s]=o[a]?l[a].replace(/&\f/g,c[u]):c[u]+" "+l[a]}}},Mce=function(t){if(t.type==="decl"){var r=t.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(t.return="",t.value="")}};function ZW(e,t){switch(cce(e,t)){case 5103:return hr+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return hr+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return hr+e+Vw+e+Ci+e+e;case 6828:case 4268:return hr+e+Ci+e+e;case 6165:return hr+e+Ci+"flex-"+e+e;case 5187:return hr+e+pr(e,/(\w+).+(:[^]+)/,hr+"box-$1$2"+Ci+"flex-$1$2")+e;case 5443:return hr+e+Ci+"flex-item-"+pr(e,/flex-|-self/,"")+e;case 4675:return hr+e+Ci+"flex-line-pack"+pr(e,/align-content|flex-|-self/,"")+e;case 5548:return hr+e+Ci+pr(e,"shrink","negative")+e;case 5292:return hr+e+Ci+pr(e,"basis","preferred-size")+e;case 6060:return hr+"box-"+pr(e,"-grow","")+hr+e+Ci+pr(e,"grow","positive")+e;case 4554:return hr+pr(e,/([^-])(transform)/g,"$1"+hr+"$2")+e;case 6187:return pr(pr(pr(e,/(zoom-|grab)/,hr+"$1"),/(image-set)/,hr+"$1"),e,"")+e;case 5495:case 3959:return pr(e,/(image-set\([^]*)/,hr+"$1$`$1");case 4968:return pr(pr(e,/(.+:)(flex-)?(.*)/,hr+"box-pack:$3"+Ci+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+hr+e+e;case 4095:case 3583:case 4068:case 2532:return pr(e,/(.+)-inline(.+)/,hr+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(nl(e)-1-t>6)switch(vi(e,t+1)){case 109:if(vi(e,t+4)!==45)break;case 102:return pr(e,/(.+:)(.+)-([^]+)/,"$1"+hr+"$2-$3$1"+Vw+(vi(e,t+3)==108?"$3":"$2-$3"))+e;case 115:return~uT(e,"stretch")?ZW(pr(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(vi(e,t+1)!==115)break;case 6444:switch(vi(e,nl(e)-3-(~uT(e,"!important")&&10))){case 107:return pr(e,":",":"+hr)+e;case 101:return pr(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+hr+(vi(e,14)===45?"inline-":"")+"box$3$1"+hr+"$2$3$1"+Ci+"$2box$3")+e}break;case 5936:switch(vi(e,t+11)){case 114:return hr+e+Ci+pr(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return hr+e+Ci+pr(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return hr+e+Ci+pr(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return hr+e+Ci+e+e}return e}var Tce=function(t,r,n,i){if(t.length>-1&&!t.return)switch(t.type){case f5:t.return=ZW(t.value,t.length);break;case YW:return Zf([Kg(t,{value:pr(t.value,"@","@"+hr)})],i);case p5:if(t.length)return dce(t.props,function(o){switch(uce(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Zf([Kg(t,{props:[pr(o,/:(read-\w+)/,":"+Vw+"$1")]})],i);case"::placeholder":return Zf([Kg(t,{props:[pr(o,/:(plac\w+)/,":"+hr+"input-$1")]}),Kg(t,{props:[pr(o,/:(plac\w+)/,":"+Vw+"$1")]}),Kg(t,{props:[pr(o,/:(plac\w+)/,Ci+"input-$1")]})],i)}return""})}},Pce=[Tce],JW=function(t){var r=t.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(f){var g=f.getAttribute("data-emotion");g.indexOf(" ")!==-1&&(document.head.appendChild(f),f.setAttribute("data-s",""))})}var i=t.stylisPlugins||Pce,o={},l,c=[];l=t.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(f){for(var g=f.getAttribute("data-emotion").split(" "),v=1;v<g.length;v++)o[g[v]]=!0;c.push(f)});var a,s=[Ace,Mce];{var u,d=[xce,_ce(function(f){u.insert(f)})],h=wce(s.concat(i,d)),p=function(g){return Zf(yce(g),h)};a=function(g,v,x,y){u=x,p(g?g+"{"+v.styles+"}":v.styles),y&&(m.inserted[v.name]=!0)}}var m={key:r,sheet:new ice({key:r,container:l,nonce:t.nonce,speedy:t.speedy,prepend:t.prepend,insertionPoint:t.insertionPoint}),nonce:t.nonce,inserted:o,registered:{},insert:a};return m.sheet.hydrate(c),m},eG={exports:{}},_r={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ui=typeof Symbol=="function"&&Symbol.for,g5=ui?Symbol.for("react.element"):60103,v5=ui?Symbol.for("react.portal"):60106,F2=ui?Symbol.for("react.fragment"):60107,U2=ui?Symbol.for("react.strict_mode"):60108,V2=ui?Symbol.for("react.profiler"):60114,H2=ui?Symbol.for("react.provider"):60109,W2=ui?Symbol.for("react.context"):60110,y5=ui?Symbol.for("react.async_mode"):60111,G2=ui?Symbol.for("react.concurrent_mode"):60111,q2=ui?Symbol.for("react.forward_ref"):60112,Y2=ui?Symbol.for("react.suspense"):60113,kce=ui?Symbol.for("react.suspense_list"):60120,$2=ui?Symbol.for("react.memo"):60115,X2=ui?Symbol.for("react.lazy"):60116,Dce=ui?Symbol.for("react.block"):60121,jce=ui?Symbol.for("react.fundamental"):60117,Ice=ui?Symbol.for("react.responder"):60118,Oce=ui?Symbol.for("react.scope"):60119;function fa(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case g5:switch(e=e.type,e){case y5:case G2:case F2:case V2:case U2:case Y2:return e;default:switch(e=e&&e.$$typeof,e){case W2:case q2:case X2:case $2:case H2:return e;default:return t}}case v5:return t}}}function tG(e){return fa(e)===G2}_r.AsyncMode=y5;_r.ConcurrentMode=G2;_r.ContextConsumer=W2;_r.ContextProvider=H2;_r.Element=g5;_r.ForwardRef=q2;_r.Fragment=F2;_r.Lazy=X2;_r.Memo=$2;_r.Portal=v5;_r.Profiler=V2;_r.StrictMode=U2;_r.Suspense=Y2;_r.isAsyncMode=function(e){return tG(e)||fa(e)===y5};_r.isConcurrentMode=tG;_r.isContextConsumer=function(e){return fa(e)===W2};_r.isContextProvider=function(e){return fa(e)===H2};_r.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===g5};_r.isForwardRef=function(e){return fa(e)===q2};_r.isFragment=function(e){return fa(e)===F2};_r.isLazy=function(e){return fa(e)===X2};_r.isMemo=function(e){return fa(e)===$2};_r.isPortal=function(e){return fa(e)===v5};_r.isProfiler=function(e){return fa(e)===V2};_r.isStrictMode=function(e){return fa(e)===U2};_r.isSuspense=function(e){return fa(e)===Y2};_r.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===F2||e===G2||e===V2||e===U2||e===Y2||e===kce||typeof e=="object"&&e!==null&&(e.$$typeof===X2||e.$$typeof===$2||e.$$typeof===H2||e.$$typeof===W2||e.$$typeof===q2||e.$$typeof===jce||e.$$typeof===Ice||e.$$typeof===Oce||e.$$typeof===Dce)};_r.typeOf=fa;eG.exports=_r;var Rce=eG.exports,rG=Rce,zce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Lce={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nG={};nG[rG.ForwardRef]=zce;nG[rG.Memo]=Lce;var Nce=!0;function Bce(e,t,r){var n="";return r.split(" ").forEach(function(i){e[i]!==void 0?t.push(e[i]+";"):n+=i+" "}),n}var iG=function(t,r,n){var i=t.key+"-"+r.name;(n===!1||Nce===!1)&&t.registered[i]===void 0&&(t.registered[i]=r.styles)},oG=function(t,r,n){iG(t,r,n);var i=t.key+"-"+r.name;if(t.inserted[r.name]===void 0){var o=r;do t.insert(r===o?"."+i:"",o,t.sheet,!0),o=o.next;while(o!==void 0)}};function Fce(e){for(var t=0,r,n=0,i=e.length;i>=4;++n,i-=4)r=e.charCodeAt(n)&255|(e.charCodeAt(++n)&255)<<8|(e.charCodeAt(++n)&255)<<16|(e.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,t=(r&65535)*1540483477+((r>>>16)*59797<<16)^(t&65535)*1540483477+((t>>>16)*59797<<16);switch(i){case 3:t^=(e.charCodeAt(n+2)&255)<<16;case 2:t^=(e.charCodeAt(n+1)&255)<<8;case 1:t^=e.charCodeAt(n)&255,t=(t&65535)*1540483477+((t>>>16)*59797<<16)}return t^=t>>>13,t=(t&65535)*1540483477+((t>>>16)*59797<<16),((t^t>>>15)>>>0).toString(36)}var Uce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Vce=/[A-Z]|^ms/g,Hce=/_EMO_([^_]+?)_([^]*?)_EMO_/g,aG=function(t){return t.charCodeAt(1)===45},fR=function(t){return t!=null&&typeof t!="boolean"},uE=GW(function(e){return aG(e)?e:e.replace(Vce,"-$&").toLowerCase()}),mR=function(t,r){switch(t){case"animation":case"animationName":if(typeof r=="string")return r.replace(Hce,function(n,i,o){return il={name:i,styles:o,next:il},i})}return Uce[t]!==1&&!aG(t)&&typeof r=="number"&&r!==0?r+"px":r};function ly(e,t,r){if(r==null)return"";if(r.__emotion_styles!==void 0)return r;switch(typeof r){case"boolean":return"";case"object":{if(r.anim===1)return il={name:r.name,styles:r.styles,next:il},r.name;if(r.styles!==void 0){var n=r.next;if(n!==void 0)for(;n!==void 0;)il={name:n.name,styles:n.styles,next:il},n=n.next;var i=r.styles+";";return i}return Wce(e,t,r)}case"function":{if(e!==void 0){var o=il,l=r(e);return il=o,ly(e,t,l)}break}}if(t==null)return r;var c=t[r];return c!==void 0?c:r}function Wce(e,t,r){var n="";if(Array.isArray(r))for(var i=0;i<r.length;i++)n+=ly(e,t,r[i])+";";else for(var o in r){var l=r[o];if(typeof l!="object")t!=null&&t[l]!==void 0?n+=o+"{"+t[l]+"}":fR(l)&&(n+=uE(o)+":"+mR(o,l)+";");else if(Array.isArray(l)&&typeof l[0]=="string"&&(t==null||t[l[0]]===void 0))for(var c=0;c<l.length;c++)fR(l[c])&&(n+=uE(o)+":"+mR(o,l[c])+";");else{var a=ly(e,t,l);switch(o){case"animation":case"animationName":{n+=uE(o)+":"+a+";";break}default:n+=o+"{"+a+"}"}}}return n}var gR=/label:\s*([^\s;\n{]+)\s*(;|$)/g,il,b5=function(t,r,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var i=!0,o="";il=void 0;var l=t[0];l==null||l.raw===void 0?(i=!1,o+=ly(n,r,l)):o+=l[0];for(var c=1;c<t.length;c++)o+=ly(n,r,t[c]),i&&(o+=l[c]);gR.lastIndex=0;for(var a="",s;(s=gR.exec(o))!==null;)a+="-"+s[1];var u=Fce(o)+a;return{name:u,styles:o,next:il}},Gce=function(t){return t()},sG=nw.useInsertionEffect?nw.useInsertionEffect:!1,qce=sG||Gce,vR=sG||V.useLayoutEffect,lG=V.createContext(typeof HTMLElement<"u"?JW({key:"css"}):null),Yce=lG.Provider,cG=function(t){return V.forwardRef(function(r,n){var i=V.useContext(lG);return t(r,i,n)})},K2=V.createContext({}),dE={exports:{}},yR;function uG(){return yR||(yR=1,function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(r){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var o in i)({}).hasOwnProperty.call(i,o)&&(r[o]=i[o])}return r},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(null,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(dE)),dE.exports}uG();var $ce=cG(function(e,t){var r=e.styles,n=b5([r],void 0,V.useContext(K2)),i=V.useRef();return vR(function(){var o=t.key+"-global",l=new t.sheet.constructor({key:o,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),c=!1,a=document.querySelector('style[data-emotion="'+o+" "+n.name+'"]');return t.sheet.tags.length&&(l.before=t.sheet.tags[0]),a!==null&&(c=!0,a.setAttribute("data-emotion",o),l.hydrate([a])),i.current=[l,c],function(){l.flush()}},[t]),vR(function(){var o=i.current,l=o[0],c=o[1];if(c){o[1]=!1;return}if(n.next!==void 0&&oG(t,n.next,!0),l.tags.length){var a=l.tags[l.tags.length-1].nextElementSibling;l.before=a,l.flush()}t.insert("",n,l,!1)},[t,n.name]),null});function dG(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return b5(t)}var Q2=function(){var t=dG.apply(void 0,arguments),r="animation-"+t.name;return{name:r,styles:"@keyframes "+r+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Xce=tce,Kce=function(t){return t!=="theme"},bR=function(t){return typeof t=="string"&&t.charCodeAt(0)>96?Xce:Kce},xR=function(t,r,n){var i;if(r){var o=r.shouldForwardProp;i=t.__emotion_forwardProp&&o?function(l){return t.__emotion_forwardProp(l)&&o(l)}:o}return typeof i!="function"&&n&&(i=t.__emotion_forwardProp),i},Qce=function(t){var r=t.cache,n=t.serialized,i=t.isStringTag;return iG(r,n,i),qce(function(){return oG(r,n,i)}),null},Zce=function e(t,r){var n=t.__emotion_real===t,i=n&&t.__emotion_base||t,o,l;r!==void 0&&(o=r.label,l=r.target);var c=xR(t,r,n),a=c||bR(i),s=!a("as");return function(){var u=arguments,d=n&&t.__emotion_styles!==void 0?t.__emotion_styles.slice(0):[];if(o!==void 0&&d.push("label:"+o+";"),u[0]==null||u[0].raw===void 0)d.push.apply(d,u);else{d.push(u[0][0]);for(var h=u.length,p=1;p<h;p++)d.push(u[p],u[0][p])}var m=cG(function(f,g,v){var x=s&&f.as||i,y="",b=[],w=f;if(f.theme==null){w={};for(var _ in f)w[_]=f[_];w.theme=V.useContext(K2)}typeof f.className=="string"?y=Bce(g.registered,b,f.className):f.className!=null&&(y=f.className+" ");var S=b5(d.concat(b),g.registered,w);y+=g.key+"-"+S.name,l!==void 0&&(y+=" "+l);var E=s&&c===void 0?bR(x):a,A={};for(var C in f)s&&C==="as"||E(C)&&(A[C]=f[C]);return A.className=y,A.ref=v,V.createElement(V.Fragment,null,V.createElement(Qce,{cache:g,serialized:S,isStringTag:typeof x=="string"}),V.createElement(x,A))});return m.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=i,m.__emotion_styles=d,m.__emotion_forwardProp=c,Object.defineProperty(m,"toString",{value:function(){return"."+l}}),m.withComponent=function(f,g){return e(f,oe({},r,g,{shouldForwardProp:xR(m,g,!0)})).apply(void 0,d)},m}},Jce=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],hT=Zce.bind();Jce.forEach(function(e){hT[e]=hT(e)});var hG={exports:{}},eue="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",tue=eue,rue=tue;function pG(){}function fG(){}fG.resetWarningCache=pG;var nue=function(){function e(n,i,o,l,c,a){if(a!==rue){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:fG,resetWarningCache:pG};return r.PropTypes=r,r};hG.exports=nue();var iue=hG.exports;const Ve=Jh(iue);let pT;typeof document=="object"&&(pT=JW({key:"css",prepend:!0}));function oue(e){const{injectFirst:t,children:r}=e;return t&&pT?z.jsx(Yce,{value:pT,children:r}):r}function aue(e){return e==null||Object.keys(e).length===0}function mG(e){const{styles:t,defaultTheme:r={}}=e,n=typeof t=="function"?i=>t(aue(i)?r:i):t;return z.jsx($ce,{styles:n})}function x5(e,t){return hT(e,t)}const gG=(e,t)=>{Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))},sue=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:mG,StyledEngineProvider:oue,ThemeContext:K2,css:dG,default:x5,internal_processStyles:gG,keyframes:Q2},Symbol.toStringTag,{value:"Module"}));function sc(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function vG(e){if(!sc(e))return e;const t={};return Object.keys(e).forEach(r=>{t[r]=vG(e[r])}),t}function la(e,t,r={clone:!0}){const n=r.clone?oe({},e):e;return sc(e)&&sc(t)&&Object.keys(t).forEach(i=>{i!=="__proto__"&&(sc(t[i])&&i in e&&sc(e[i])?n[i]=la(e[i],t[i],r):r.clone?n[i]=sc(t[i])?vG(t[i]):t[i]:n[i]=t[i])}),n}const lue=Object.freeze(Object.defineProperty({__proto__:null,default:la,isPlainObject:sc},Symbol.toStringTag,{value:"Module"})),cue=["values","unit","step"],uue=e=>{const t=Object.keys(e).map(r=>({key:r,val:e[r]}))||[];return t.sort((r,n)=>r.val-n.val),t.reduce((r,n)=>oe({},r,{[n.key]:n.val}),{})};function yG(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:r="px",step:n=5}=e,i=At(e,cue),o=uue(t),l=Object.keys(o);function c(h){return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${r})`}function a(h){return`@media (max-width:${(typeof t[h]=="number"?t[h]:h)-n/100}${r})`}function s(h,p){const m=l.indexOf(p);return`@media (min-width:${typeof t[h]=="number"?t[h]:h}${r}) and (max-width:${(m!==-1&&typeof t[l[m]]=="number"?t[l[m]]:p)-n/100}${r})`}function u(h){return l.indexOf(h)+1<l.length?s(h,l[l.indexOf(h)+1]):c(h)}function d(h){const p=l.indexOf(h);return p===0?c(l[1]):p===l.length-1?a(l[p]):s(h,l[l.indexOf(h)+1]).replace("@media","@media not all and")}return oe({keys:l,values:o,up:c,down:a,between:s,only:u,not:d,unit:r},i)}const due={borderRadius:4};function hv(e,t){return t?la(e,t,{clone:!1}):e}const w5={xs:0,sm:600,md:900,lg:1200,xl:1536},wR={keys:["xs","sm","md","lg","xl"],up:e=>`@media (min-width:${w5[e]}px)`};function Ya(e,t,r){const n=e.theme||{};if(Array.isArray(t)){const o=n.breakpoints||wR;return t.reduce((l,c,a)=>(l[o.up(o.keys[a])]=r(t[a]),l),{})}if(typeof t=="object"){const o=n.breakpoints||wR;return Object.keys(t).reduce((l,c)=>{if(Object.keys(o.values||w5).indexOf(c)!==-1){const a=o.up(c);l[a]=r(t[c],c)}else{const a=c;l[a]=t[a]}return l},{})}return r(t)}function hue(e={}){var t;return((t=e.keys)==null?void 0:t.reduce((n,i)=>{const o=e.up(i);return n[o]={},n},{}))||{}}function pue(e,t){return e.reduce((r,n)=>{const i=r[n];return(!i||Object.keys(i).length===0)&&delete r[n],r},t)}function fue(e,t){if(typeof e!="object")return{};const r={},n=Object.keys(t);return Array.isArray(e)?n.forEach((i,o)=>{o<e.length&&(r[i]=!0)}):n.forEach(i=>{e[i]!=null&&(r[i]=!0)}),r}function Z2({values:e,breakpoints:t,base:r}){const n=r||fue(e,t),i=Object.keys(n);if(i.length===0)return e;let o;return i.reduce((l,c,a)=>(Array.isArray(e)?(l[c]=e[a]!=null?e[a]:e[o],o=a):typeof e=="object"?(l[c]=e[c]!=null?e[c]:e[o],o=c):l[c]=e,l),{})}function er(e){if(typeof e!="string")throw new Error(Nh(7));return e.charAt(0).toUpperCase()+e.slice(1)}const mue=Object.freeze(Object.defineProperty({__proto__:null,default:er},Symbol.toStringTag,{value:"Module"}));function J2(e,t,r=!0){if(!t||typeof t!="string")return null;if(e&&e.vars&&r){const n=`vars.${t}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,e);if(n!=null)return n}return t.split(".").reduce((n,i)=>n&&n[i]!=null?n[i]:null,e)}function Hw(e,t,r,n=r){let i;return typeof e=="function"?i=e(r):Array.isArray(e)?i=e[r]||n:i=J2(e,r)||n,t&&(i=t(i,n,e)),i}function Mn(e){const{prop:t,cssProperty:r=e.prop,themeKey:n,transform:i}=e,o=l=>{if(l[t]==null)return null;const c=l[t],a=l.theme,s=J2(a,n)||{};return Ya(l,c,d=>{let h=Hw(s,i,d);return d===h&&typeof d=="string"&&(h=Hw(s,i,`${t}${d==="default"?"":er(d)}`,d)),r===!1?h:{[r]:h}})};return o.propTypes={},o.filterProps=[t],o}function gue(e){const t={};return r=>(t[r]===void 0&&(t[r]=e(r)),t[r])}const vue={m:"margin",p:"padding"},yue={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},_R={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},bue=gue(e=>{if(e.length>2)if(_R[e])e=_R[e];else return[e];const[t,r]=e.split(""),n=vue[t],i=yue[r]||"";return Array.isArray(i)?i.map(o=>n+o):[n+i]}),_5=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],S5=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[..._5,...S5];function qy(e,t,r,n){var i;const o=(i=J2(e,t,!1))!=null?i:r;return typeof o=="number"?l=>typeof l=="string"?l:o*l:Array.isArray(o)?l=>typeof l=="string"?l:o[l]:typeof o=="function"?o:()=>{}}function bG(e){return qy(e,"spacing",8)}function Yy(e,t){if(typeof t=="string"||t==null)return t;const r=Math.abs(t),n=e(r);return t>=0?n:typeof n=="number"?-n:`-${n}`}function xue(e,t){return r=>e.reduce((n,i)=>(n[i]=Yy(t,r),n),{})}function wue(e,t,r,n){if(t.indexOf(r)===-1)return null;const i=bue(r),o=xue(i,n),l=e[r];return Ya(e,l,o)}function xG(e,t){const r=bG(e.theme);return Object.keys(e).map(n=>wue(e,t,n,r)).reduce(hv,{})}function sn(e){return xG(e,_5)}sn.propTypes={};sn.filterProps=_5;function ln(e){return xG(e,S5)}ln.propTypes={};ln.filterProps=S5;function _ue(e=8){if(e.mui)return e;const t=bG({spacing:e}),r=(...n)=>(n.length===0?[1]:n).map(o=>{const l=t(o);return typeof l=="number"?`${l}px`:l}).join(" ");return r.mui=!0,r}function eS(...e){const t=e.reduce((n,i)=>(i.filterProps.forEach(o=>{n[o]=i}),n),{}),r=n=>Object.keys(n).reduce((i,o)=>t[o]?hv(i,t[o](n)):i,{});return r.propTypes={},r.filterProps=e.reduce((n,i)=>n.concat(i.filterProps),[]),r}function za(e){return typeof e!="number"?e:`${e}px solid`}function Za(e,t){return Mn({prop:e,themeKey:"borders",transform:t})}const Sue=Za("border",za),Eue=Za("borderTop",za),Cue=Za("borderRight",za),Aue=Za("borderBottom",za),Mue=Za("borderLeft",za),Tue=Za("borderColor"),Pue=Za("borderTopColor"),kue=Za("borderRightColor"),Due=Za("borderBottomColor"),jue=Za("borderLeftColor"),Iue=Za("outline",za),Oue=Za("outlineColor"),tS=e=>{if(e.borderRadius!==void 0&&e.borderRadius!==null){const t=qy(e.theme,"shape.borderRadius",4),r=n=>({borderRadius:Yy(t,n)});return Ya(e,e.borderRadius,r)}return null};tS.propTypes={};tS.filterProps=["borderRadius"];eS(Sue,Eue,Cue,Aue,Mue,Tue,Pue,kue,Due,jue,tS,Iue,Oue);const rS=e=>{if(e.gap!==void 0&&e.gap!==null){const t=qy(e.theme,"spacing",8),r=n=>({gap:Yy(t,n)});return Ya(e,e.gap,r)}return null};rS.propTypes={};rS.filterProps=["gap"];const nS=e=>{if(e.columnGap!==void 0&&e.columnGap!==null){const t=qy(e.theme,"spacing",8),r=n=>({columnGap:Yy(t,n)});return Ya(e,e.columnGap,r)}return null};nS.propTypes={};nS.filterProps=["columnGap"];const iS=e=>{if(e.rowGap!==void 0&&e.rowGap!==null){const t=qy(e.theme,"spacing",8),r=n=>({rowGap:Yy(t,n)});return Ya(e,e.rowGap,r)}return null};iS.propTypes={};iS.filterProps=["rowGap"];const Rue=Mn({prop:"gridColumn"}),zue=Mn({prop:"gridRow"}),Lue=Mn({prop:"gridAutoFlow"}),Nue=Mn({prop:"gridAutoColumns"}),Bue=Mn({prop:"gridAutoRows"}),Fue=Mn({prop:"gridTemplateColumns"}),Uue=Mn({prop:"gridTemplateRows"}),Vue=Mn({prop:"gridTemplateAreas"}),Hue=Mn({prop:"gridArea"});eS(rS,nS,iS,Rue,zue,Lue,Nue,Bue,Fue,Uue,Vue,Hue);function Jf(e,t){return t==="grey"?t:e}const Wue=Mn({prop:"color",themeKey:"palette",transform:Jf}),Gue=Mn({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Jf}),que=Mn({prop:"backgroundColor",themeKey:"palette",transform:Jf});eS(Wue,Gue,que);function Zo(e){return e<=1&&e!==0?`${e*100}%`:e}const Yue=Mn({prop:"width",transform:Zo}),E5=e=>{if(e.maxWidth!==void 0&&e.maxWidth!==null){const t=r=>{var n,i;const o=((n=e.theme)==null||(n=n.breakpoints)==null||(n=n.values)==null?void 0:n[r])||w5[r];return o?((i=e.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${e.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Zo(r)}};return Ya(e,e.maxWidth,t)}return null};E5.filterProps=["maxWidth"];const $ue=Mn({prop:"minWidth",transform:Zo}),Xue=Mn({prop:"height",transform:Zo}),Kue=Mn({prop:"maxHeight",transform:Zo}),Que=Mn({prop:"minHeight",transform:Zo});Mn({prop:"size",cssProperty:"width",transform:Zo});Mn({prop:"size",cssProperty:"height",transform:Zo});const Zue=Mn({prop:"boxSizing"});eS(Yue,E5,$ue,Xue,Kue,Que,Zue);const $y={border:{themeKey:"borders",transform:za},borderTop:{themeKey:"borders",transform:za},borderRight:{themeKey:"borders",transform:za},borderBottom:{themeKey:"borders",transform:za},borderLeft:{themeKey:"borders",transform:za},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:za},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:tS},color:{themeKey:"palette",transform:Jf},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Jf},backgroundColor:{themeKey:"palette",transform:Jf},p:{style:ln},pt:{style:ln},pr:{style:ln},pb:{style:ln},pl:{style:ln},px:{style:ln},py:{style:ln},padding:{style:ln},paddingTop:{style:ln},paddingRight:{style:ln},paddingBottom:{style:ln},paddingLeft:{style:ln},paddingX:{style:ln},paddingY:{style:ln},paddingInline:{style:ln},paddingInlineStart:{style:ln},paddingInlineEnd:{style:ln},paddingBlock:{style:ln},paddingBlockStart:{style:ln},paddingBlockEnd:{style:ln},m:{style:sn},mt:{style:sn},mr:{style:sn},mb:{style:sn},ml:{style:sn},mx:{style:sn},my:{style:sn},margin:{style:sn},marginTop:{style:sn},marginRight:{style:sn},marginBottom:{style:sn},marginLeft:{style:sn},marginX:{style:sn},marginY:{style:sn},marginInline:{style:sn},marginInlineStart:{style:sn},marginInlineEnd:{style:sn},marginBlock:{style:sn},marginBlockStart:{style:sn},marginBlockEnd:{style:sn},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:rS},rowGap:{style:iS},columnGap:{style:nS},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Zo},maxWidth:{style:E5},minWidth:{transform:Zo},height:{transform:Zo},maxHeight:{transform:Zo},minHeight:{transform:Zo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function Jue(...e){const t=e.reduce((n,i)=>n.concat(Object.keys(i)),[]),r=new Set(t);return e.every(n=>r.size===Object.keys(n).length)}function ede(e,t){return typeof e=="function"?e(t):e}function wG(){function e(r,n,i,o){const l={[r]:n,theme:i},c=o[r];if(!c)return{[r]:n};const{cssProperty:a=r,themeKey:s,transform:u,style:d}=c;if(n==null)return null;if(s==="typography"&&n==="inherit")return{[r]:n};const h=J2(i,s)||{};return d?d(l):Ya(l,n,m=>{let f=Hw(h,u,m);return m===f&&typeof m=="string"&&(f=Hw(h,u,`${r}${m==="default"?"":er(m)}`,m)),a===!1?f:{[a]:f}})}function t(r){var n;const{sx:i,theme:o={}}=r||{};if(!i)return null;const l=(n=o.unstable_sxConfig)!=null?n:$y;function c(a){let s=a;if(typeof a=="function")s=a(o);else if(typeof a!="object")return a;if(!s)return null;const u=hue(o.breakpoints),d=Object.keys(u);let h=u;return Object.keys(s).forEach(p=>{const m=ede(s[p],o);if(m!=null)if(typeof m=="object")if(l[p])h=hv(h,e(p,m,o,l));else{const f=Ya({theme:o},m,g=>({[p]:g}));Jue(f,m)?h[p]=t({sx:m,theme:o}):h=hv(h,f)}else h=hv(h,e(p,m,o,l))}),pue(d,h)}return Array.isArray(i)?i.map(c):c(i)}return t}const cg=wG();cg.filterProps=["sx"];function _G(e,t){const r=this;return r.vars&&typeof r.getColorSchemeSelector=="function"?{[r.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)")]:t}:r.palette.mode===e?t:{}}const tde=["breakpoints","palette","spacing","shape"];function Xy(e={},...t){const{breakpoints:r={},palette:n={},spacing:i,shape:o={}}=e,l=At(e,tde),c=yG(r),a=_ue(i);let s=la({breakpoints:c,direction:"ltr",components:{},palette:oe({mode:"light"},n),spacing:a,shape:oe({},due,o)},l);return s.applyStyles=_G,s=t.reduce((u,d)=>la(u,d),s),s.unstable_sxConfig=oe({},$y,l==null?void 0:l.unstable_sxConfig),s.unstable_sx=function(d){return cg({sx:d,theme:this})},s}const rde=Object.freeze(Object.defineProperty({__proto__:null,default:Xy,private_createBreakpoints:yG,unstable_applyStyles:_G},Symbol.toStringTag,{value:"Module"}));function nde(e){return Object.keys(e).length===0}function ide(e=null){const t=V.useContext(K2);return!t||nde(t)?e:t}const ode=Xy();function oS(e=ode){return ide(e)}function ade({styles:e,themeId:t,defaultTheme:r={}}){const n=oS(r),i=typeof e=="function"?e(t&&n[t]||n):e;return z.jsx(mG,{styles:i})}const sde=["sx"],lde=e=>{var t,r;const n={systemProps:{},otherProps:{}},i=(t=e==null||(r=e.theme)==null?void 0:r.unstable_sxConfig)!=null?t:$y;return Object.keys(e).forEach(o=>{i[o]?n.systemProps[o]=e[o]:n.otherProps[o]=e[o]}),n};function aS(e){const{sx:t}=e,r=At(e,sde),{systemProps:n,otherProps:i}=lde(r);let o;return Array.isArray(t)?o=[n,...t]:typeof t=="function"?o=(...l)=>{const c=t(...l);return sc(c)?oe({},n,c):n}:o=oe({},n,t),oe({},i,{sx:o})}const cde=Object.freeze(Object.defineProperty({__proto__:null,default:cg,extendSxProp:aS,unstable_createStyleFunctionSx:wG,unstable_defaultSxConfig:$y},Symbol.toStringTag,{value:"Module"})),SR=e=>e,ude=()=>{let e=SR;return{configure(t){e=t},generate(t){return e(t)},reset(){e=SR}}},SG=ude();function EG(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(r=EG(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Qt(){for(var e,t,r=0,n="",i=arguments.length;r<i;r++)(e=arguments[r])&&(t=EG(e))&&(n&&(n+=" "),n+=t);return n}const dde=["className","component"];function hde(e={}){const{themeId:t,defaultTheme:r,defaultClassName:n="MuiBox-root",generateClassName:i}=e,o=x5("div",{shouldForwardProp:c=>c!=="theme"&&c!=="sx"&&c!=="as"})(cg);return V.forwardRef(function(a,s){const u=oS(r),d=aS(a),{className:h,component:p="div"}=d,m=At(d,dde);return z.jsx(o,oe({as:p,ref:s,className:Qt(h,i?i(n):n),theme:t&&u[t]||u},m))})}const pde={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Gr(e,t,r="Mui"){const n=pde[t];return n?`${r}-${n}`:`${SG.generate(e)}-${t}`}function qr(e,t,r="Mui"){const n={};return t.forEach(i=>{n[i]=Gr(e,i,r)}),n}var CG={exports:{}},Sr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C5=Symbol.for("react.element"),A5=Symbol.for("react.portal"),sS=Symbol.for("react.fragment"),lS=Symbol.for("react.strict_mode"),cS=Symbol.for("react.profiler"),uS=Symbol.for("react.provider"),dS=Symbol.for("react.context"),fde=Symbol.for("react.server_context"),hS=Symbol.for("react.forward_ref"),pS=Symbol.for("react.suspense"),fS=Symbol.for("react.suspense_list"),mS=Symbol.for("react.memo"),gS=Symbol.for("react.lazy"),mde=Symbol.for("react.offscreen"),AG;AG=Symbol.for("react.module.reference");function Ja(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case C5:switch(e=e.type,e){case sS:case cS:case lS:case pS:case fS:return e;default:switch(e=e&&e.$$typeof,e){case fde:case dS:case hS:case gS:case mS:case uS:return e;default:return t}}case A5:return t}}}Sr.ContextConsumer=dS;Sr.ContextProvider=uS;Sr.Element=C5;Sr.ForwardRef=hS;Sr.Fragment=sS;Sr.Lazy=gS;Sr.Memo=mS;Sr.Portal=A5;Sr.Profiler=cS;Sr.StrictMode=lS;Sr.Suspense=pS;Sr.SuspenseList=fS;Sr.isAsyncMode=function(){return!1};Sr.isConcurrentMode=function(){return!1};Sr.isContextConsumer=function(e){return Ja(e)===dS};Sr.isContextProvider=function(e){return Ja(e)===uS};Sr.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===C5};Sr.isForwardRef=function(e){return Ja(e)===hS};Sr.isFragment=function(e){return Ja(e)===sS};Sr.isLazy=function(e){return Ja(e)===gS};Sr.isMemo=function(e){return Ja(e)===mS};Sr.isPortal=function(e){return Ja(e)===A5};Sr.isProfiler=function(e){return Ja(e)===cS};Sr.isStrictMode=function(e){return Ja(e)===lS};Sr.isSuspense=function(e){return Ja(e)===pS};Sr.isSuspenseList=function(e){return Ja(e)===fS};Sr.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===sS||e===cS||e===lS||e===pS||e===fS||e===mde||typeof e=="object"&&e!==null&&(e.$$typeof===gS||e.$$typeof===mS||e.$$typeof===uS||e.$$typeof===dS||e.$$typeof===hS||e.$$typeof===AG||e.getModuleId!==void 0)};Sr.typeOf=Ja;CG.exports=Sr;var ER=CG.exports;const gde=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function MG(e){const t=`${e}`.match(gde);return t&&t[1]||""}function TG(e,t=""){return e.displayName||e.name||MG(e)||t}function CR(e,t,r){const n=TG(t);return e.displayName||(n!==""?`${r}(${n})`:r)}function vde(e){if(e!=null){if(typeof e=="string")return e;if(typeof e=="function")return TG(e,"Component");if(typeof e=="object")switch(e.$$typeof){case ER.ForwardRef:return CR(e,e.render,"ForwardRef");case ER.Memo:return CR(e,e.type,"memo");default:return}}}const yde=Object.freeze(Object.defineProperty({__proto__:null,default:vde,getFunctionName:MG},Symbol.toStringTag,{value:"Module"})),bde=["ownerState"],xde=["variants"],wde=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function _de(e){return Object.keys(e).length===0}function Sde(e){return typeof e=="string"&&e.charCodeAt(0)>96}function hE(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Ede=Xy(),Cde=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function H1({defaultTheme:e,theme:t,themeId:r}){return _de(t)?e:t[r]||t}function Ade(e){return e?(t,r)=>r[e]:null}function Nx(e,t){let{ownerState:r}=t,n=At(t,bde);const i=typeof e=="function"?e(oe({ownerState:r},n)):e;if(Array.isArray(i))return i.flatMap(o=>Nx(o,oe({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let c=At(i,xde);return o.forEach(a=>{let s=!0;typeof a.props=="function"?s=a.props(oe({ownerState:r},n,r)):Object.keys(a.props).forEach(u=>{(r==null?void 0:r[u])!==a.props[u]&&n[u]!==a.props[u]&&(s=!1)}),s&&(Array.isArray(c)||(c=[c]),c.push(typeof a.style=="function"?a.style(oe({ownerState:r},n,r)):a.style))}),c}return i}function Mde(e={}){const{themeId:t,defaultTheme:r=Ede,rootShouldForwardProp:n=hE,slotShouldForwardProp:i=hE}=e,o=l=>cg(oe({},l,{theme:H1(oe({},l,{defaultTheme:r,themeId:t}))}));return o.__mui_systemSx=!0,(l,c={})=>{gG(l,w=>w.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:a,slot:s,skipVariantsResolver:u,skipSx:d,overridesResolver:h=Ade(Cde(s))}=c,p=At(c,wde),m=u!==void 0?u:s&&s!=="Root"&&s!=="root"||!1,f=d||!1;let g,v=hE;s==="Root"||s==="root"?v=n:s?v=i:Sde(l)&&(v=void 0);const x=x5(l,oe({shouldForwardProp:v,label:g},p)),y=w=>typeof w=="function"&&w.__emotion_real!==w||sc(w)?_=>Nx(w,oe({},_,{theme:H1({theme:_.theme,defaultTheme:r,themeId:t})})):w,b=(w,..._)=>{let S=y(w);const E=_?_.map(y):[];a&&h&&E.push(M=>{const T=H1(oe({},M,{defaultTheme:r,themeId:t}));if(!T.components||!T.components[a]||!T.components[a].styleOverrides)return null;const k=T.components[a].styleOverrides,P={};return Object.entries(k).forEach(([D,I])=>{P[D]=Nx(I,oe({},M,{theme:T}))}),h(M,P)}),a&&!m&&E.push(M=>{var T;const k=H1(oe({},M,{defaultTheme:r,themeId:t})),P=k==null||(T=k.components)==null||(T=T[a])==null?void 0:T.variants;return Nx({variants:P},oe({},M,{theme:k}))}),f||E.push(o);const A=E.length-_.length;if(Array.isArray(w)&&A>0){const M=new Array(A).fill("");S=[...w,...M],S.raw=[...w.raw,...M]}const C=x(S,...E);return l.muiName&&(C.muiName=l.muiName),C};return x.withConfig&&(b.withConfig=x.withConfig),b}}const Tde=Mde();function M5(e,t){const r=oe({},t);return Object.keys(e).forEach(n=>{if(n.toString().match(/^(components|slots)$/))r[n]=oe({},e[n],r[n]);else if(n.toString().match(/^(componentsProps|slotProps)$/)){const i=e[n]||{},o=t[n];r[n]={},!o||!Object.keys(o)?r[n]=i:!i||!Object.keys(i)?r[n]=o:(r[n]=oe({},o),Object.keys(i).forEach(l=>{r[n][l]=M5(i[l],o[l])}))}else r[n]===void 0&&(r[n]=e[n])}),r}function Pde(e){const{theme:t,name:r,props:n}=e;return!t||!t.components||!t.components[r]||!t.components[r].defaultProps?n:M5(t.components[r].defaultProps,n)}function PG({props:e,name:t,defaultTheme:r,themeId:n}){let i=oS(r);return n&&(i=i[n]||i),Pde({theme:i,name:t,props:e})}const Bh=typeof window<"u"?V.useLayoutEffect:V.useEffect;function kde(e,t=Number.MIN_SAFE_INTEGER,r=Number.MAX_SAFE_INTEGER){return Math.max(t,Math.min(e,r))}const Dde=Object.freeze(Object.defineProperty({__proto__:null,default:kde},Symbol.toStringTag,{value:"Module"}));function AR(...e){return e.reduce((t,r)=>r==null?t:function(...i){t.apply(this,i),r.apply(this,i)},()=>{})}function kG(e,t=166){let r;function n(...i){const o=()=>{e.apply(this,i)};clearTimeout(r),r=setTimeout(o,t)}return n.clear=()=>{clearTimeout(r)},n}function pE(e,t){var r,n;return V.isValidElement(e)&&t.indexOf((r=e.type.muiName)!=null?r:(n=e.type)==null||(n=n._payload)==null||(n=n.value)==null?void 0:n.muiName)!==-1}function ca(e){return e&&e.ownerDocument||document}function Fh(e){return ca(e).defaultView||window}function fT(e,t){typeof e=="function"?e(t):e&&(e.current=t)}let MR=0;function jde(e){const[t,r]=V.useState(e),n=e||t;return V.useEffect(()=>{t==null&&(MR+=1,r(`mui-${MR}`))},[t]),n}const TR=nw.useId;function DG(e){if(TR!==void 0){const t=TR();return e??t}return jde(e)}function PR({controlled:e,default:t,name:r,state:n="value"}){const{current:i}=V.useRef(e!==void 0),[o,l]=V.useState(t),c=i?e:o,a=V.useCallback(s=>{i||l(s)},[]);return[c,a]}function jf(e){const t=V.useRef(e);return Bh(()=>{t.current=e}),V.useRef((...r)=>(0,t.current)(...r)).current}function No(...e){return V.useMemo(()=>e.every(t=>t==null)?null:t=>{e.forEach(r=>{fT(r,t)})},e)}const kR={};function Ide(e,t){const r=V.useRef(kR);return r.current===kR&&(r.current=e(t)),r}const Ode=[];function Rde(e){V.useEffect(e,Ode)}class vS{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new vS}start(t,r){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,r()},t)}}function jG(){const e=Ide(vS.create).current;return Rde(e.disposeEffect),e}let yS=!0,mT=!1;const zde=new vS,Lde={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function Nde(e){const{type:t,tagName:r}=e;return!!(r==="INPUT"&&Lde[t]&&!e.readOnly||r==="TEXTAREA"&&!e.readOnly||e.isContentEditable)}function Bde(e){e.metaKey||e.altKey||e.ctrlKey||(yS=!0)}function fE(){yS=!1}function Fde(){this.visibilityState==="hidden"&&mT&&(yS=!0)}function Ude(e){e.addEventListener("keydown",Bde,!0),e.addEventListener("mousedown",fE,!0),e.addEventListener("pointerdown",fE,!0),e.addEventListener("touchstart",fE,!0),e.addEventListener("visibilitychange",Fde,!0)}function Vde(e){const{target:t}=e;try{return t.matches(":focus-visible")}catch{}return yS||Nde(t)}function Hde(){const e=V.useCallback(i=>{i!=null&&Ude(i.ownerDocument)},[]),t=V.useRef(!1);function r(){return t.current?(mT=!0,zde.start(100,()=>{mT=!1}),t.current=!1,!0):!1}function n(i){return Vde(i)?(t.current=!0,!0):!1}return{isFocusVisibleRef:t,onFocus:n,onBlur:r,ref:e}}function IG(e){const t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}function nn(e,t,r=void 0){const n={};return Object.keys(e).forEach(i=>{n[i]=e[i].reduce((o,l)=>{if(l){const c=t(l);c!==""&&o.push(c),r&&r[l]&&o.push(r[l])}return o},[]).join(" ")}),n}const Wde=V.createContext(),Gde=()=>{const e=V.useContext(Wde);return e??!1},qde=["className","component","disableGutters","fixed","maxWidth","classes"],Yde=Xy(),$de=Tde("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${er(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),Xde=e=>PG({props:e,name:"MuiContainer",defaultTheme:Yde}),Kde=(e,t)=>{const r=a=>Gr(t,a),{classes:n,fixed:i,disableGutters:o,maxWidth:l}=e,c={root:["root",l&&`maxWidth${er(String(l))}`,i&&"fixed",o&&"disableGutters"]};return nn(c,r,n)};function Qde(e={}){const{createStyledComponent:t=$de,useThemeProps:r=Xde,componentName:n="MuiContainer"}=e,i=t(({theme:l,ownerState:c})=>oe({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!c.disableGutters&&{paddingLeft:l.spacing(2),paddingRight:l.spacing(2),[l.breakpoints.up("sm")]:{paddingLeft:l.spacing(3),paddingRight:l.spacing(3)}}),({theme:l,ownerState:c})=>c.fixed&&Object.keys(l.breakpoints.values).reduce((a,s)=>{const u=s,d=l.breakpoints.values[u];return d!==0&&(a[l.breakpoints.up(u)]={maxWidth:`${d}${l.breakpoints.unit}`}),a},{}),({theme:l,ownerState:c})=>oe({},c.maxWidth==="xs"&&{[l.breakpoints.up("xs")]:{maxWidth:Math.max(l.breakpoints.values.xs,444)}},c.maxWidth&&c.maxWidth!=="xs"&&{[l.breakpoints.up(c.maxWidth)]:{maxWidth:`${l.breakpoints.values[c.maxWidth]}${l.breakpoints.unit}`}}));return V.forwardRef(function(c,a){const s=r(c),{className:u,component:d="div",disableGutters:h=!1,fixed:p=!1,maxWidth:m="lg"}=s,f=At(s,qde),g=oe({},s,{component:d,disableGutters:h,fixed:p,maxWidth:m}),v=Kde(g,n);return z.jsx(i,oe({as:d,ownerState:g,className:Qt(v.root,u),ref:a},f))})}function Zde(e,t){return oe({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}var Tn={},OG={exports:{}};(function(e){function t(r){return r&&r.__esModule?r:{default:r}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})(OG);var RG=OG.exports;const Jde=ld(Jle),ehe=ld(Dde);var zG=RG;Object.defineProperty(Tn,"__esModule",{value:!0});var If=Tn.alpha=FG;Tn.blend=phe;Tn.colorChannel=void 0;var the=Tn.darken=P5;Tn.decomposeColor=$a;Tn.emphasize=UG;var rhe=Tn.getContrastRatio=lhe;Tn.getLuminance=Ww;Tn.hexToRgb=LG;Tn.hslToRgb=BG;var nhe=Tn.lighten=k5;Tn.private_safeAlpha=che;Tn.private_safeColorChannel=void 0;Tn.private_safeDarken=uhe;Tn.private_safeEmphasize=hhe;Tn.private_safeLighten=dhe;Tn.recomposeColor=ug;Tn.rgbToHex=she;var DR=zG(Jde),ihe=zG(ehe);function T5(e,t=0,r=1){return(0,ihe.default)(e,t,r)}function LG(e){e=e.slice(1);const t=new RegExp(`.{1,${e.length>=6?2:1}}`,"g");let r=e.match(t);return r&&r[0].length===1&&(r=r.map(n=>n+n)),r?`rgb${r.length===4?"a":""}(${r.map((n,i)=>i<3?parseInt(n,16):Math.round(parseInt(n,16)/255*1e3)/1e3).join(", ")})`:""}function ohe(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function $a(e){if(e.type)return e;if(e.charAt(0)==="#")return $a(LG(e));const t=e.indexOf("("),r=e.substring(0,t);if(["rgb","rgba","hsl","hsla","color"].indexOf(r)===-1)throw new Error((0,DR.default)(9,e));let n=e.substring(t+1,e.length-1),i;if(r==="color"){if(n=n.split(" "),i=n.shift(),n.length===4&&n[3].charAt(0)==="/"&&(n[3]=n[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,DR.default)(10,i))}else n=n.split(",");return n=n.map(o=>parseFloat(o)),{type:r,values:n,colorSpace:i}}const NG=e=>{const t=$a(e);return t.values.slice(0,3).map((r,n)=>t.type.indexOf("hsl")!==-1&&n!==0?`${r}%`:r).join(" ")};Tn.colorChannel=NG;const ahe=(e,t)=>{try{return NG(e)}catch{return e}};Tn.private_safeColorChannel=ahe;function ug(e){const{type:t,colorSpace:r}=e;let{values:n}=e;return t.indexOf("rgb")!==-1?n=n.map((i,o)=>o<3?parseInt(i,10):i):t.indexOf("hsl")!==-1&&(n[1]=`${n[1]}%`,n[2]=`${n[2]}%`),t.indexOf("color")!==-1?n=`${r} ${n.join(" ")}`:n=`${n.join(", ")}`,`${t}(${n})`}function she(e){if(e.indexOf("#")===0)return e;const{values:t}=$a(e);return`#${t.map((r,n)=>ohe(n===3?Math.round(255*r):r)).join("")}`}function BG(e){e=$a(e);const{values:t}=e,r=t[0],n=t[1]/100,i=t[2]/100,o=n*Math.min(i,1-i),l=(s,u=(s+r/30)%12)=>i-o*Math.max(Math.min(u-3,9-u,1),-1);let c="rgb";const a=[Math.round(l(0)*255),Math.round(l(8)*255),Math.round(l(4)*255)];return e.type==="hsla"&&(c+="a",a.push(t[3])),ug({type:c,values:a})}function Ww(e){e=$a(e);let t=e.type==="hsl"||e.type==="hsla"?$a(BG(e)).values:e.values;return t=t.map(r=>(e.type!=="color"&&(r/=255),r<=.03928?r/12.92:((r+.055)/1.055)**2.4)),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function lhe(e,t){const r=Ww(e),n=Ww(t);return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function FG(e,t){return e=$a(e),t=T5(t),(e.type==="rgb"||e.type==="hsl")&&(e.type+="a"),e.type==="color"?e.values[3]=`/${t}`:e.values[3]=t,ug(e)}function che(e,t,r){try{return FG(e,t)}catch{return e}}function P5(e,t){if(e=$a(e),t=T5(t),e.type.indexOf("hsl")!==-1)e.values[2]*=1-t;else if(e.type.indexOf("rgb")!==-1||e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]*=1-t;return ug(e)}function uhe(e,t,r){try{return P5(e,t)}catch{return e}}function k5(e,t){if(e=$a(e),t=T5(t),e.type.indexOf("hsl")!==-1)e.values[2]+=(100-e.values[2])*t;else if(e.type.indexOf("rgb")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(255-e.values[r])*t;else if(e.type.indexOf("color")!==-1)for(let r=0;r<3;r+=1)e.values[r]+=(1-e.values[r])*t;return ug(e)}function dhe(e,t,r){try{return k5(e,t)}catch{return e}}function UG(e,t=.15){return Ww(e)>.5?P5(e,t):k5(e,t)}function hhe(e,t,r){try{return UG(e,t)}catch{return e}}function phe(e,t,r,n=1){const i=(a,s)=>Math.round((a**(1/n)*(1-r)+s**(1/n)*r)**n),o=$a(e),l=$a(t),c=[i(o.values[0],l.values[0]),i(o.values[1],l.values[1]),i(o.values[2],l.values[2])];return ug({type:"rgb",values:c})}const fhe=["mode","contrastThreshold","tonalOffset"],jR={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:oy.white,default:oy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},mE={text:{primary:oy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:oy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function IR(e,t,r,n){const i=n.light||n,o=n.dark||n*1.5;e[t]||(e.hasOwnProperty(r)?e[t]=e[r]:t==="light"?e.light=nhe(e.main,i):t==="dark"&&(e.dark=the(e.main,o)))}function mhe(e="light"){return e==="dark"?{main:yp[200],light:yp[50],dark:yp[400]}:{main:yp[700],light:yp[400],dark:yp[800]}}function ghe(e="light"){return e==="dark"?{main:vp[200],light:vp[50],dark:vp[400]}:{main:vp[500],light:vp[300],dark:vp[700]}}function vhe(e="light"){return e==="dark"?{main:gp[500],light:gp[300],dark:gp[700]}:{main:gp[700],light:gp[400],dark:gp[800]}}function yhe(e="light"){return e==="dark"?{main:bp[400],light:bp[300],dark:bp[700]}:{main:bp[700],light:bp[500],dark:bp[900]}}function bhe(e="light"){return e==="dark"?{main:xp[400],light:xp[300],dark:xp[700]}:{main:xp[800],light:xp[500],dark:xp[900]}}function xhe(e="light"){return e==="dark"?{main:Xg[400],light:Xg[300],dark:Xg[700]}:{main:"#ed6c02",light:Xg[500],dark:Xg[900]}}function whe(e){const{mode:t="light",contrastThreshold:r=3,tonalOffset:n=.2}=e,i=At(e,fhe),o=e.primary||mhe(t),l=e.secondary||ghe(t),c=e.error||vhe(t),a=e.info||yhe(t),s=e.success||bhe(t),u=e.warning||xhe(t);function d(f){return rhe(f,mE.text.primary)>=r?mE.text.primary:jR.text.primary}const h=({color:f,name:g,mainShade:v=500,lightShade:x=300,darkShade:y=700})=>{if(f=oe({},f),!f.main&&f[v]&&(f.main=f[v]),!f.hasOwnProperty("main"))throw new Error(Nh(11,g?` (${g})`:"",v));if(typeof f.main!="string")throw new Error(Nh(12,g?` (${g})`:"",JSON.stringify(f.main)));return IR(f,"light",x,n),IR(f,"dark",y,n),f.contrastText||(f.contrastText=d(f.main)),f},p={dark:mE,light:jR};return la(oe({common:oe({},oy),mode:t,primary:h({color:o,name:"primary"}),secondary:h({color:l,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:c,name:"error"}),warning:h({color:u,name:"warning"}),info:h({color:a,name:"info"}),success:h({color:s,name:"success"}),grey:Zle,contrastThreshold:r,getContrastText:d,augmentColor:h,tonalOffset:n},p[t]),i)}const _he=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function She(e){return Math.round(e*1e5)/1e5}const OR={textTransform:"uppercase"},RR='"Roboto", "Helvetica", "Arial", sans-serif';function Ehe(e,t){const r=typeof t=="function"?t(e):t,{fontFamily:n=RR,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:l=400,fontWeightMedium:c=500,fontWeightBold:a=700,htmlFontSize:s=16,allVariants:u,pxToRem:d}=r,h=At(r,_he),p=i/14,m=d||(v=>`${v/s*p}rem`),f=(v,x,y,b,w)=>oe({fontFamily:n,fontWeight:v,fontSize:m(x),lineHeight:y},n===RR?{letterSpacing:`${She(b/x)}em`}:{},w,u),g={h1:f(o,96,1.167,-1.5),h2:f(o,60,1.2,-.5),h3:f(l,48,1.167,0),h4:f(l,34,1.235,.25),h5:f(l,24,1.334,0),h6:f(c,20,1.6,.15),subtitle1:f(l,16,1.75,.15),subtitle2:f(c,14,1.57,.1),body1:f(l,16,1.5,.15),body2:f(l,14,1.43,.15),button:f(c,14,1.75,.4,OR),caption:f(l,12,1.66,.4),overline:f(l,12,2.66,1,OR),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return la(oe({htmlFontSize:s,pxToRem:m,fontFamily:n,fontSize:i,fontWeightLight:o,fontWeightRegular:l,fontWeightMedium:c,fontWeightBold:a},g),h,{clone:!1})}const Che=.2,Ahe=.14,Mhe=.12;function Vr(...e){return[`${e[0]}px ${e[1]}px ${e[2]}px ${e[3]}px rgba(0,0,0,${Che})`,`${e[4]}px ${e[5]}px ${e[6]}px ${e[7]}px rgba(0,0,0,${Ahe})`,`${e[8]}px ${e[9]}px ${e[10]}px ${e[11]}px rgba(0,0,0,${Mhe})`].join(",")}const The=["none",Vr(0,2,1,-1,0,1,1,0,0,1,3,0),Vr(0,3,1,-2,0,2,2,0,0,1,5,0),Vr(0,3,3,-2,0,3,4,0,0,1,8,0),Vr(0,2,4,-1,0,4,5,0,0,1,10,0),Vr(0,3,5,-1,0,5,8,0,0,1,14,0),Vr(0,3,5,-1,0,6,10,0,0,1,18,0),Vr(0,4,5,-2,0,7,10,1,0,2,16,1),Vr(0,5,5,-3,0,8,10,1,0,3,14,2),Vr(0,5,6,-3,0,9,12,1,0,3,16,2),Vr(0,6,6,-3,0,10,14,1,0,4,18,3),Vr(0,6,7,-4,0,11,15,1,0,4,20,3),Vr(0,7,8,-4,0,12,17,2,0,5,22,4),Vr(0,7,8,-4,0,13,19,2,0,5,24,4),Vr(0,7,9,-4,0,14,21,2,0,5,26,4),Vr(0,8,9,-5,0,15,22,2,0,6,28,5),Vr(0,8,10,-5,0,16,24,2,0,6,30,5),Vr(0,8,11,-5,0,17,26,2,0,6,32,5),Vr(0,9,11,-5,0,18,28,2,0,7,34,6),Vr(0,9,12,-6,0,19,29,2,0,7,36,6),Vr(0,10,13,-6,0,20,31,3,0,8,38,7),Vr(0,10,13,-6,0,21,33,3,0,8,40,7),Vr(0,10,14,-6,0,22,35,3,0,8,42,7),Vr(0,11,14,-7,0,23,36,3,0,9,44,8),Vr(0,11,15,-7,0,24,38,3,0,9,46,8)],Phe=["duration","easing","delay"],khe={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Dhe={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function zR(e){return`${Math.round(e)}ms`}function jhe(e){if(!e)return 0;const t=e/36;return Math.round((4+15*t**.25+t/5)*10)}function Ihe(e){const t=oe({},khe,e.easing),r=oe({},Dhe,e.duration);return oe({getAutoHeightDuration:jhe,create:(i=["all"],o={})=>{const{duration:l=r.standard,easing:c=t.easeInOut,delay:a=0}=o;return At(o,Phe),(Array.isArray(i)?i:[i]).map(s=>`${s} ${typeof l=="string"?l:zR(l)} ${c} ${typeof a=="string"?a:zR(a)}`).join(",")}},e,{easing:t,duration:r})}const Ohe={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Rhe=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function VG(e={},...t){const{mixins:r={},palette:n={},transitions:i={},typography:o={}}=e,l=At(e,Rhe);if(e.vars)throw new Error(Nh(18));const c=whe(n),a=Xy(e);let s=la(a,{mixins:Zde(a.breakpoints,r),palette:c,shadows:The.slice(),typography:Ehe(c,o),transitions:Ihe(i),zIndex:oe({},Ohe)});return s=la(s,l),s=t.reduce((u,d)=>la(u,d),s),s.unstable_sxConfig=oe({},$y,l==null?void 0:l.unstable_sxConfig),s.unstable_sx=function(d){return cg({sx:d,theme:this})},s}const bS=VG();function D5(){const e=oS(bS);return e[Wy]||e}function on({props:e,name:t}){return PG({props:e,name:t,defaultTheme:bS,themeId:Wy})}var Ky={},gE={exports:{}},LR;function zhe(){return LR||(LR=1,function(e){function t(r,n){if(r==null)return{};var i={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(n.indexOf(o)>=0)continue;i[o]=r[o]}return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}(gE)),gE.exports}const Lhe=ld(sue),Nhe=ld(lue),Bhe=ld(mue),Fhe=ld(yde),Uhe=ld(rde),Vhe=ld(cde);var dg=RG;Object.defineProperty(Ky,"__esModule",{value:!0});var Hhe=Ky.default=rpe;Ky.shouldForwardProp=Bx;Ky.systemDefaultTheme=void 0;var Ma=dg(uG()),gT=dg(zhe()),NR=Khe(Lhe),Whe=Nhe;dg(Bhe);dg(Fhe);var Ghe=dg(Uhe),qhe=dg(Vhe);const Yhe=["ownerState"],$he=["variants"],Xhe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function HG(e){if(typeof WeakMap!="function")return null;var t=new WeakMap,r=new WeakMap;return(HG=function(n){return n?r:t})(e)}function Khe(e,t){if(e&&e.__esModule)return e;if(e===null||typeof e!="object"&&typeof e!="function")return{default:e};var r=HG(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(o!=="default"&&Object.prototype.hasOwnProperty.call(e,o)){var l=i?Object.getOwnPropertyDescriptor(e,o):null;l&&(l.get||l.set)?Object.defineProperty(n,o,l):n[o]=e[o]}return n.default=e,r&&r.set(e,n),n}function Qhe(e){return Object.keys(e).length===0}function Zhe(e){return typeof e=="string"&&e.charCodeAt(0)>96}function Bx(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Jhe=Ky.systemDefaultTheme=(0,Ghe.default)(),epe=e=>e&&e.charAt(0).toLowerCase()+e.slice(1);function W1({defaultTheme:e,theme:t,themeId:r}){return Qhe(t)?e:t[r]||t}function tpe(e){return e?(t,r)=>r[e]:null}function Fx(e,t){let{ownerState:r}=t,n=(0,gT.default)(t,Yhe);const i=typeof e=="function"?e((0,Ma.default)({ownerState:r},n)):e;if(Array.isArray(i))return i.flatMap(o=>Fx(o,(0,Ma.default)({ownerState:r},n)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let c=(0,gT.default)(i,$he);return o.forEach(a=>{let s=!0;typeof a.props=="function"?s=a.props((0,Ma.default)({ownerState:r},n,r)):Object.keys(a.props).forEach(u=>{(r==null?void 0:r[u])!==a.props[u]&&n[u]!==a.props[u]&&(s=!1)}),s&&(Array.isArray(c)||(c=[c]),c.push(typeof a.style=="function"?a.style((0,Ma.default)({ownerState:r},n,r)):a.style))}),c}return i}function rpe(e={}){const{themeId:t,defaultTheme:r=Jhe,rootShouldForwardProp:n=Bx,slotShouldForwardProp:i=Bx}=e,o=l=>(0,qhe.default)((0,Ma.default)({},l,{theme:W1((0,Ma.default)({},l,{defaultTheme:r,themeId:t}))}));return o.__mui_systemSx=!0,(l,c={})=>{(0,NR.internal_processStyles)(l,w=>w.filter(_=>!(_!=null&&_.__mui_systemSx)));const{name:a,slot:s,skipVariantsResolver:u,skipSx:d,overridesResolver:h=tpe(epe(s))}=c,p=(0,gT.default)(c,Xhe),m=u!==void 0?u:s&&s!=="Root"&&s!=="root"||!1,f=d||!1;let g,v=Bx;s==="Root"||s==="root"?v=n:s?v=i:Zhe(l)&&(v=void 0);const x=(0,NR.default)(l,(0,Ma.default)({shouldForwardProp:v,label:g},p)),y=w=>typeof w=="function"&&w.__emotion_real!==w||(0,Whe.isPlainObject)(w)?_=>Fx(w,(0,Ma.default)({},_,{theme:W1({theme:_.theme,defaultTheme:r,themeId:t})})):w,b=(w,..._)=>{let S=y(w);const E=_?_.map(y):[];a&&h&&E.push(M=>{const T=W1((0,Ma.default)({},M,{defaultTheme:r,themeId:t}));if(!T.components||!T.components[a]||!T.components[a].styleOverrides)return null;const k=T.components[a].styleOverrides,P={};return Object.entries(k).forEach(([D,I])=>{P[D]=Fx(I,(0,Ma.default)({},M,{theme:T}))}),h(M,P)}),a&&!m&&E.push(M=>{var T;const k=W1((0,Ma.default)({},M,{defaultTheme:r,themeId:t})),P=k==null||(T=k.components)==null||(T=T[a])==null?void 0:T.variants;return Fx({variants:P},(0,Ma.default)({},M,{theme:k}))}),f||E.push(o);const A=E.length-_.length;if(Array.isArray(w)&&A>0){const M=new Array(A).fill("");S=[...w,...M],S.raw=[...w.raw,...M]}const C=x(S,...E);return l.muiName&&(C.muiName=l.muiName),C};return x.withConfig&&(b.withConfig=x.withConfig),b}}function WG(e){return e!=="ownerState"&&e!=="theme"&&e!=="sx"&&e!=="as"}const Is=e=>WG(e)&&e!=="classes",Rt=Hhe({themeId:Wy,defaultTheme:bS,rootShouldForwardProp:Is}),BR=e=>{let t;return e<1?t=5.11916*e**2:t=4.5*Math.log(e+1)+2,(t/100).toFixed(2)};function npe(e){return Gr("MuiSvgIcon",e)}qr("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const ipe=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],ope=e=>{const{color:t,fontSize:r,classes:n}=e,i={root:["root",t!=="inherit"&&`color${er(t)}`,`fontSize${er(r)}`]};return nn(i,npe,n)},ape=Rt("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.color!=="inherit"&&t[`color${er(r.color)}`],t[`fontSize${er(r.fontSize)}`]]}})(({theme:e,ownerState:t})=>{var r,n,i,o,l,c,a,s,u,d,h,p,m;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:t.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(r=e.transitions)==null||(n=r.create)==null?void 0:n.call(r,"fill",{duration:(i=e.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=e.typography)==null||(l=o.pxToRem)==null?void 0:l.call(o,20))||"1.25rem",medium:((c=e.typography)==null||(a=c.pxToRem)==null?void 0:a.call(c,24))||"1.5rem",large:((s=e.typography)==null||(u=s.pxToRem)==null?void 0:u.call(s,35))||"2.1875rem"}[t.fontSize],color:(d=(h=(e.vars||e).palette)==null||(h=h[t.color])==null?void 0:h.main)!=null?d:{action:(p=(e.vars||e).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(m=(e.vars||e).palette)==null||(m=m.action)==null?void 0:m.disabled,inherit:void 0}[t.color]}}),vT=V.forwardRef(function(t,r){const n=on({props:t,name:"MuiSvgIcon"}),{children:i,className:o,color:l="inherit",component:c="svg",fontSize:a="medium",htmlColor:s,inheritViewBox:u=!1,titleAccess:d,viewBox:h="0 0 24 24"}=n,p=At(n,ipe),m=V.isValidElement(i)&&i.type==="svg",f=oe({},n,{color:l,component:c,fontSize:a,instanceFontSize:t.fontSize,inheritViewBox:u,viewBox:h,hasSvgAsChild:m}),g={};u||(g.viewBox=h);const v=ope(f);return z.jsxs(ape,oe({as:c,className:Qt(v.root,o),focusable:"false",color:s,"aria-hidden":d?void 0:!0,role:d?"img":void 0,ref:r},g,p,m&&i.props,{ownerState:f,children:[m?i.props.children:i,d?z.jsx("title",{children:d}):null]}))});vT.muiName="SvgIcon";function spe(e,t){function r(n,i){return z.jsx(vT,oe({"data-testid":`${t}Icon`,ref:i},n,{children:e}))}return r.muiName=vT.muiName,V.memo(V.forwardRef(r))}function yT(e,t){return yT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},yT(e,t)}function GG(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,yT(e,t)}const FR={disabled:!1},Gw=mt.createContext(null);var lpe=function(t){return t.scrollTop},F0="unmounted",zd="exited",Ld="entering",af="entered",bT="exiting",Pl=function(e){GG(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var l=i,c=l&&!l.isMounting?n.enter:n.appear,a;return o.appearStatus=null,n.in?c?(a=zd,o.appearStatus=Ld):a=af:n.unmountOnExit||n.mountOnEnter?a=F0:a=zd,o.state={status:a},o.nextCallback=null,o}t.getDerivedStateFromProps=function(i,o){var l=i.in;return l&&o.status===F0?{status:zd}:null};var r=t.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(i){var o=null;if(i!==this.props){var l=this.state.status;this.props.in?l!==Ld&&l!==af&&(o=Ld):(l===Ld||l===af)&&(o=bT)}this.updateStatus(!1,o)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var i=this.props.timeout,o,l,c;return o=l=c=i,i!=null&&typeof i!="number"&&(o=i.exit,l=i.enter,c=i.appear!==void 0?i.appear:l),{exit:o,enter:l,appear:c}},r.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===Ld){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:L0.findDOMNode(this);l&&lpe(l)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===zd&&this.setState({status:F0})},r.performEnter=function(i){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:i,a=this.props.nodeRef?[c]:[L0.findDOMNode(this),c],s=a[0],u=a[1],d=this.getTimeouts(),h=c?d.appear:d.enter;if(!i&&!l||FR.disabled){this.safeSetState({status:af},function(){o.props.onEntered(s)});return}this.props.onEnter(s,u),this.safeSetState({status:Ld},function(){o.props.onEntering(s,u),o.onTransitionEnd(h,function(){o.safeSetState({status:af},function(){o.props.onEntered(s,u)})})})},r.performExit=function(){var i=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:L0.findDOMNode(this);if(!o||FR.disabled){this.safeSetState({status:zd},function(){i.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:bT},function(){i.props.onExiting(c),i.onTransitionEnd(l.exit,function(){i.safeSetState({status:zd},function(){i.props.onExited(c)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},r.setNextCallback=function(i){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,i(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},r.onTransitionEnd=function(i,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:L0.findDOMNode(this),c=i==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],s=a[0],u=a[1];this.props.addEndListener(s,u)}i!=null&&setTimeout(this.nextCallback,i)},r.render=function(){var i=this.state.status;if(i===F0)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=At(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return mt.createElement(Gw.Provider,{value:null},typeof l=="function"?l(i,c):mt.cloneElement(mt.Children.only(l),c))},t}(mt.Component);Pl.contextType=Gw;Pl.propTypes={};function wp(){}Pl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:wp,onEntering:wp,onEntered:wp,onExit:wp,onExiting:wp,onExited:wp};Pl.UNMOUNTED=F0;Pl.EXITED=zd;Pl.ENTERING=Ld;Pl.ENTERED=af;Pl.EXITING=bT;function cpe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function j5(e,t){var r=function(o){return t&&V.isValidElement(o)?t(o):o},n=Object.create(null);return e&&V.Children.map(e,function(i){return i}).forEach(function(i){n[i.key]=r(i)}),n}function upe(e,t){e=e||{},t=t||{};function r(u){return u in t?t[u]:e[u]}var n=Object.create(null),i=[];for(var o in e)o in t?i.length&&(n[o]=i,i=[]):i.push(o);var l,c={};for(var a in t){if(n[a])for(l=0;l<n[a].length;l++){var s=n[a][l];c[n[a][l]]=r(s)}c[a]=r(a)}for(l=0;l<i.length;l++)c[i[l]]=r(i[l]);return c}function oh(e,t,r){return r[t]!=null?r[t]:e.props[t]}function dpe(e,t){return j5(e.children,function(r){return V.cloneElement(r,{onExited:t.bind(null,r),in:!0,appear:oh(r,"appear",e),enter:oh(r,"enter",e),exit:oh(r,"exit",e)})})}function hpe(e,t,r){var n=j5(e.children),i=upe(t,n);return Object.keys(i).forEach(function(o){var l=i[o];if(V.isValidElement(l)){var c=o in t,a=o in n,s=t[o],u=V.isValidElement(s)&&!s.props.in;a&&(!c||u)?i[o]=V.cloneElement(l,{onExited:r.bind(null,l),in:!0,exit:oh(l,"exit",e),enter:oh(l,"enter",e)}):!a&&c&&!u?i[o]=V.cloneElement(l,{in:!1}):a&&c&&V.isValidElement(s)&&(i[o]=V.cloneElement(l,{onExited:r.bind(null,l),in:s.props.in,exit:oh(l,"exit",e),enter:oh(l,"enter",e)}))}}),i}var ppe=Object.values||function(e){return Object.keys(e).map(function(t){return e[t]})},fpe={component:"div",childFactory:function(t){return t}},I5=function(e){GG(t,e);function t(n,i){var o;o=e.call(this,n,i)||this;var l=o.handleExited.bind(cpe(o));return o.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},o}var r=t.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(i,o){var l=o.children,c=o.handleExited,a=o.firstRender;return{children:a?dpe(i,c):hpe(i,l,c),firstRender:!1}},r.handleExited=function(i,o){var l=j5(this.props.children);i.key in l||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(c){var a=oe({},c.children);return delete a[i.key],{children:a}}))},r.render=function(){var i=this.props,o=i.component,l=i.childFactory,c=At(i,["component","childFactory"]),a=this.state.contextValue,s=ppe(this.state.children).map(l);return delete c.appear,delete c.enter,delete c.exit,o===null?mt.createElement(Gw.Provider,{value:a},s):mt.createElement(Gw.Provider,{value:a},mt.createElement(o,c,s))},t}(mt.Component);I5.propTypes={};I5.defaultProps=fpe;const qG=e=>e.scrollTop;function qw(e,t){var r,n;const{timeout:i,easing:o,style:l={}}=e;return{duration:(r=l.transitionDuration)!=null?r:typeof i=="number"?i:i[t.mode]||0,easing:(n=l.transitionTimingFunction)!=null?n:typeof o=="object"?o[t.mode]:o,delay:l.transitionDelay}}function mpe(e){return Gr("MuiPaper",e)}qr("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const gpe=["className","component","elevation","square","variant"],vpe=e=>{const{square:t,elevation:r,variant:n,classes:i}=e,o={root:["root",n,!t&&"rounded",n==="elevation"&&`elevation${r}`]};return nn(o,mpe,i)},ype=Rt("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],!r.square&&t.rounded,r.variant==="elevation"&&t[`elevation${r.elevation}`]]}})(({theme:e,ownerState:t})=>{var r;return oe({backgroundColor:(e.vars||e).palette.background.paper,color:(e.vars||e).palette.text.primary,transition:e.transitions.create("box-shadow")},!t.square&&{borderRadius:e.shape.borderRadius},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.divider}`},t.variant==="elevation"&&oe({boxShadow:(e.vars||e).shadows[t.elevation]},!e.vars&&e.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${If("#fff",BR(t.elevation))}, ${If("#fff",BR(t.elevation))})`},e.vars&&{backgroundImage:(r=e.vars.overlays)==null?void 0:r[t.elevation]}))}),YG=V.forwardRef(function(t,r){const n=on({props:t,name:"MuiPaper"}),{className:i,component:o="div",elevation:l=1,square:c=!1,variant:a="elevation"}=n,s=At(n,gpe),u=oe({},n,{component:o,elevation:l,square:c,variant:a}),d=vpe(u);return z.jsx(ype,oe({as:o,ownerState:u,className:Qt(d.root,i),ref:r},s))});function Yw(e){return typeof e=="string"}function bpe(e,t,r){return e===void 0||Yw(e)?t:oe({},t,{ownerState:oe({},t.ownerState,r)})}function $G(e,t=[]){if(e===void 0)return{};const r={};return Object.keys(e).filter(n=>n.match(/^on[A-Z]/)&&typeof e[n]=="function"&&!t.includes(n)).forEach(n=>{r[n]=e[n]}),r}function xpe(e,t,r){return typeof e=="function"?e(t,r):e}function UR(e){if(e===void 0)return{};const t={};return Object.keys(e).filter(r=>!(r.match(/^on[A-Z]/)&&typeof e[r]=="function")).forEach(r=>{t[r]=e[r]}),t}function wpe(e){const{getSlotProps:t,additionalProps:r,externalSlotProps:n,externalForwardedProps:i,className:o}=e;if(!t){const p=Qt(r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),m=oe({},r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),f=oe({},r,i,n);return p.length>0&&(f.className=p),Object.keys(m).length>0&&(f.style=m),{props:f,internalRef:void 0}}const l=$G(oe({},i,n)),c=UR(n),a=UR(i),s=t(l),u=Qt(s==null?void 0:s.className,r==null?void 0:r.className,o,i==null?void 0:i.className,n==null?void 0:n.className),d=oe({},s==null?void 0:s.style,r==null?void 0:r.style,i==null?void 0:i.style,n==null?void 0:n.style),h=oe({},s,r,a,c);return u.length>0&&(h.className=u),Object.keys(d).length>0&&(h.style=d),{props:h,internalRef:s.ref}}const _pe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function Bm(e){var t;const{elementType:r,externalSlotProps:n,ownerState:i,skipResolvingSlotProps:o=!1}=e,l=At(e,_pe),c=o?{}:xpe(n,i),{props:a,internalRef:s}=wpe(oe({},l,{externalSlotProps:c})),u=No(s,c==null?void 0:c.ref,(t=e.additionalProps)==null?void 0:t.ref);return bpe(r,oe({},a,{ref:u}),i)}function Spe(e){const{className:t,classes:r,pulsate:n=!1,rippleX:i,rippleY:o,rippleSize:l,in:c,onExited:a,timeout:s}=e,[u,d]=V.useState(!1),h=Qt(t,r.ripple,r.rippleVisible,n&&r.ripplePulsate),p={width:l,height:l,top:-(l/2)+o,left:-(l/2)+i},m=Qt(r.child,u&&r.childLeaving,n&&r.childPulsate);return!c&&!u&&d(!0),V.useEffect(()=>{if(!c&&a!=null){const f=setTimeout(a,s);return()=>{clearTimeout(f)}}},[a,c,s]),z.jsx("span",{className:h,style:p,children:z.jsx("span",{className:m})})}const Da=qr("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Epe=["center","classes","className"];let xS=e=>e,VR,HR,WR,GR;const xT=550,Cpe=80,Ape=Q2(VR||(VR=xS`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),Mpe=Q2(HR||(HR=xS`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),Tpe=Q2(WR||(WR=xS`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),Ppe=Rt("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),kpe=Rt(Spe,{name:"MuiTouchRipple",slot:"Ripple"})(GR||(GR=xS`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),Da.rippleVisible,Ape,xT,({theme:e})=>e.transitions.easing.easeInOut,Da.ripplePulsate,({theme:e})=>e.transitions.duration.shorter,Da.child,Da.childLeaving,Mpe,xT,({theme:e})=>e.transitions.easing.easeInOut,Da.childPulsate,Tpe,({theme:e})=>e.transitions.easing.easeInOut),Dpe=V.forwardRef(function(t,r){const n=on({props:t,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:l}=n,c=At(n,Epe),[a,s]=V.useState([]),u=V.useRef(0),d=V.useRef(null);V.useEffect(()=>{d.current&&(d.current(),d.current=null)},[a]);const h=V.useRef(!1),p=jG(),m=V.useRef(null),f=V.useRef(null),g=V.useCallback(b=>{const{pulsate:w,rippleX:_,rippleY:S,rippleSize:E,cb:A}=b;s(C=>[...C,z.jsx(kpe,{classes:{ripple:Qt(o.ripple,Da.ripple),rippleVisible:Qt(o.rippleVisible,Da.rippleVisible),ripplePulsate:Qt(o.ripplePulsate,Da.ripplePulsate),child:Qt(o.child,Da.child),childLeaving:Qt(o.childLeaving,Da.childLeaving),childPulsate:Qt(o.childPulsate,Da.childPulsate)},timeout:xT,pulsate:w,rippleX:_,rippleY:S,rippleSize:E},u.current)]),u.current+=1,d.current=A},[o]),v=V.useCallback((b={},w={},_=()=>{})=>{const{pulsate:S=!1,center:E=i||w.pulsate,fakeElement:A=!1}=w;if((b==null?void 0:b.type)==="mousedown"&&h.current){h.current=!1;return}(b==null?void 0:b.type)==="touchstart"&&(h.current=!0);const C=A?null:f.current,M=C?C.getBoundingClientRect():{width:0,height:0,left:0,top:0};let T,k,P;if(E||b===void 0||b.clientX===0&&b.clientY===0||!b.clientX&&!b.touches)T=Math.round(M.width/2),k=Math.round(M.height/2);else{const{clientX:D,clientY:I}=b.touches&&b.touches.length>0?b.touches[0]:b;T=Math.round(D-M.left),k=Math.round(I-M.top)}if(E)P=Math.sqrt((2*M.width**2+M.height**2)/3),P%2===0&&(P+=1);else{const D=Math.max(Math.abs((C?C.clientWidth:0)-T),T)*2+2,I=Math.max(Math.abs((C?C.clientHeight:0)-k),k)*2+2;P=Math.sqrt(D**2+I**2)}b!=null&&b.touches?m.current===null&&(m.current=()=>{g({pulsate:S,rippleX:T,rippleY:k,rippleSize:P,cb:_})},p.start(Cpe,()=>{m.current&&(m.current(),m.current=null)})):g({pulsate:S,rippleX:T,rippleY:k,rippleSize:P,cb:_})},[i,g,p]),x=V.useCallback(()=>{v({},{pulsate:!0})},[v]),y=V.useCallback((b,w)=>{if(p.clear(),(b==null?void 0:b.type)==="touchend"&&m.current){m.current(),m.current=null,p.start(0,()=>{y(b,w)});return}m.current=null,s(_=>_.length>0?_.slice(1):_),d.current=w},[p]);return V.useImperativeHandle(r,()=>({pulsate:x,start:v,stop:y}),[x,v,y]),z.jsx(Ppe,oe({className:Qt(Da.root,o.root,l),ref:f},c,{children:z.jsx(I5,{component:null,exit:!0,children:a})}))});function jpe(e){return Gr("MuiButtonBase",e)}const Ipe=qr("MuiButtonBase",["root","disabled","focusVisible"]),Ope=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Rpe=e=>{const{disabled:t,focusVisible:r,focusVisibleClassName:n,classes:i}=e,l=nn({root:["root",t&&"disabled",r&&"focusVisible"]},jpe,i);return r&&n&&(l.root+=` ${n}`),l},zpe=Rt("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${Ipe.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),Lpe=V.forwardRef(function(t,r){const n=on({props:t,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:l,className:c,component:a="button",disabled:s=!1,disableRipple:u=!1,disableTouchRipple:d=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:m,onClick:f,onContextMenu:g,onDragLeave:v,onFocus:x,onFocusVisible:y,onKeyDown:b,onKeyUp:w,onMouseDown:_,onMouseLeave:S,onMouseUp:E,onTouchEnd:A,onTouchMove:C,onTouchStart:M,tabIndex:T=0,TouchRippleProps:k,touchRippleRef:P,type:D}=n,I=At(n,Ope),O=V.useRef(null),j=V.useRef(null),N=No(j,P),{isFocusVisibleRef:R,onFocus:F,onBlur:U,ref:B}=Hde(),[H,X]=V.useState(!1);s&&H&&X(!1),V.useImperativeHandle(i,()=>({focusVisible:()=>{X(!0),O.current.focus()}}),[]);const[G,Z]=V.useState(!1);V.useEffect(()=>{Z(!0)},[]);const J=G&&!u&&!s;V.useEffect(()=>{H&&h&&!u&&G&&j.current.pulsate()},[u,h,H,G]);function ee(fe,he,Ne=d){return jf(Xe=>(he&&he(Xe),!Ne&&j.current&&j.current[fe](Xe),!0))}const q=ee("start",_),Y=ee("stop",g),Q=ee("stop",v),ie=ee("stop",E),le=ee("stop",fe=>{H&&fe.preventDefault(),S&&S(fe)}),de=ee("start",M),De=ee("stop",A),Me=ee("stop",C),Ee=ee("stop",fe=>{U(fe),R.current===!1&&X(!1),m&&m(fe)},!1),Te=jf(fe=>{O.current||(O.current=fe.currentTarget),F(fe),R.current===!0&&(X(!0),y&&y(fe)),x&&x(fe)}),$e=()=>{const fe=O.current;return a&&a!=="button"&&!(fe.tagName==="A"&&fe.href)},ze=V.useRef(!1),K=jf(fe=>{h&&!ze.current&&H&&j.current&&fe.key===" "&&(ze.current=!0,j.current.stop(fe,()=>{j.current.start(fe)})),fe.target===fe.currentTarget&&$e()&&fe.key===" "&&fe.preventDefault(),b&&b(fe),fe.target===fe.currentTarget&&$e()&&fe.key==="Enter"&&!s&&(fe.preventDefault(),f&&f(fe))}),W=jf(fe=>{h&&fe.key===" "&&j.current&&H&&!fe.defaultPrevented&&(ze.current=!1,j.current.stop(fe,()=>{j.current.pulsate(fe)})),w&&w(fe),f&&fe.target===fe.currentTarget&&$e()&&fe.key===" "&&!fe.defaultPrevented&&f(fe)});let se=a;se==="button"&&(I.href||I.to)&&(se=p);const Se={};se==="button"?(Se.type=D===void 0?"button":D,Se.disabled=s):(!I.href&&!I.to&&(Se.role="button"),s&&(Se["aria-disabled"]=s));const te=No(r,B,O),ce=oe({},n,{centerRipple:o,component:a,disabled:s,disableRipple:u,disableTouchRipple:d,focusRipple:h,tabIndex:T,focusVisible:H}),we=Rpe(ce);return z.jsxs(zpe,oe({as:se,className:Qt(we.root,c),ownerState:ce,onBlur:Ee,onClick:f,onContextMenu:Y,onFocus:Te,onKeyDown:K,onKeyUp:W,onMouseDown:q,onMouseLeave:le,onMouseUp:ie,onDragLeave:Q,onTouchEnd:De,onTouchMove:Me,onTouchStart:de,ref:te,tabIndex:s?-1:T,type:D},Se,I,{children:[l,J?z.jsx(Dpe,oe({ref:N,center:o},k)):null]}))});function Npe(e){return Gr("MuiTypography",e)}qr("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const Bpe=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],Fpe=e=>{const{align:t,gutterBottom:r,noWrap:n,paragraph:i,variant:o,classes:l}=e,c={root:["root",o,e.align!=="inherit"&&`align${er(t)}`,r&&"gutterBottom",n&&"noWrap",i&&"paragraph"]};return nn(c,Npe,l)},Upe=Rt("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.variant&&t[r.variant],r.align!=="inherit"&&t[`align${er(r.align)}`],r.noWrap&&t.noWrap,r.gutterBottom&&t.gutterBottom,r.paragraph&&t.paragraph]}})(({theme:e,ownerState:t})=>oe({margin:0},t.variant==="inherit"&&{font:"inherit"},t.variant!=="inherit"&&e.typography[t.variant],t.align!=="inherit"&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})),qR={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Vpe={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Hpe=e=>Vpe[e]||e,Wpe=V.forwardRef(function(t,r){const n=on({props:t,name:"MuiTypography"}),i=Hpe(n.color),o=aS(oe({},n,{color:i})),{align:l="inherit",className:c,component:a,gutterBottom:s=!1,noWrap:u=!1,paragraph:d=!1,variant:h="body1",variantMapping:p=qR}=o,m=At(o,Bpe),f=oe({},o,{align:l,color:i,className:c,component:a,gutterBottom:s,noWrap:u,paragraph:d,variant:h,variantMapping:p}),g=a||(d?"p":p[h]||qR[h])||"span",v=Fpe(f);return z.jsx(Upe,oe({as:g,ref:r,ownerState:f,className:Qt(v.root,c)},m))}),Gpe=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function qpe(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?e.contentEditable==="true"||(e.nodeName==="AUDIO"||e.nodeName==="VIDEO"||e.nodeName==="DETAILS")&&e.getAttribute("tabindex")===null?0:e.tabIndex:t}function Ype(e){if(e.tagName!=="INPUT"||e.type!=="radio"||!e.name)return!1;const t=n=>e.ownerDocument.querySelector(`input[type="radio"]${n}`);let r=t(`[name="${e.name}"]:checked`);return r||(r=t(`[name="${e.name}"]`)),r!==e}function $pe(e){return!(e.disabled||e.tagName==="INPUT"&&e.type==="hidden"||Ype(e))}function Xpe(e){const t=[],r=[];return Array.from(e.querySelectorAll(Gpe)).forEach((n,i)=>{const o=qpe(n);o===-1||!$pe(n)||(o===0?t.push(n):r.push({documentOrder:i,tabIndex:o,node:n}))}),r.sort((n,i)=>n.tabIndex===i.tabIndex?n.documentOrder-i.documentOrder:n.tabIndex-i.tabIndex).map(n=>n.node).concat(t)}function Kpe(){return!0}function Qpe(e){const{children:t,disableAutoFocus:r=!1,disableEnforceFocus:n=!1,disableRestoreFocus:i=!1,getTabbable:o=Xpe,isEnabled:l=Kpe,open:c}=e,a=V.useRef(!1),s=V.useRef(null),u=V.useRef(null),d=V.useRef(null),h=V.useRef(null),p=V.useRef(!1),m=V.useRef(null),f=No(t.ref,m),g=V.useRef(null);V.useEffect(()=>{!c||!m.current||(p.current=!r)},[r,c]),V.useEffect(()=>{if(!c||!m.current)return;const y=ca(m.current);return m.current.contains(y.activeElement)||(m.current.hasAttribute("tabIndex")||m.current.setAttribute("tabIndex","-1"),p.current&&m.current.focus()),()=>{i||(d.current&&d.current.focus&&(a.current=!0,d.current.focus()),d.current=null)}},[c]),V.useEffect(()=>{if(!c||!m.current)return;const y=ca(m.current),b=S=>{g.current=S,!(n||!l()||S.key!=="Tab")&&y.activeElement===m.current&&S.shiftKey&&(a.current=!0,u.current&&u.current.focus())},w=()=>{const S=m.current;if(S===null)return;if(!y.hasFocus()||!l()||a.current){a.current=!1;return}if(S.contains(y.activeElement)||n&&y.activeElement!==s.current&&y.activeElement!==u.current)return;if(y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let E=[];if((y.activeElement===s.current||y.activeElement===u.current)&&(E=o(m.current)),E.length>0){var A,C;const M=!!((A=g.current)!=null&&A.shiftKey&&((C=g.current)==null?void 0:C.key)==="Tab"),T=E[0],k=E[E.length-1];typeof T!="string"&&typeof k!="string"&&(M?k.focus():T.focus())}else S.focus()};y.addEventListener("focusin",w),y.addEventListener("keydown",b,!0);const _=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&w()},50);return()=>{clearInterval(_),y.removeEventListener("focusin",w),y.removeEventListener("keydown",b,!0)}},[r,n,i,l,c,o]);const v=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0,h.current=y.target;const b=t.props.onFocus;b&&b(y)},x=y=>{d.current===null&&(d.current=y.relatedTarget),p.current=!0};return z.jsxs(V.Fragment,{children:[z.jsx("div",{tabIndex:c?0:-1,onFocus:x,ref:s,"data-testid":"sentinelStart"}),V.cloneElement(t,{ref:f,onFocus:v}),z.jsx("div",{tabIndex:c?0:-1,onFocus:x,ref:u,"data-testid":"sentinelEnd"})]})}function Zpe(e){return typeof e=="function"?e():e}const Jpe=V.forwardRef(function(t,r){const{children:n,container:i,disablePortal:o=!1}=t,[l,c]=V.useState(null),a=No(V.isValidElement(n)?n.ref:null,r);if(Bh(()=>{o||c(Zpe(i)||document.body)},[i,o]),Bh(()=>{if(l&&!o)return fT(r,l),()=>{fT(r,null)}},[r,l,o]),o){if(V.isValidElement(n)){const s={ref:a};return V.cloneElement(n,s)}return z.jsx(V.Fragment,{children:n})}return z.jsx(V.Fragment,{children:l&&v2.createPortal(n,l)})});function efe(e){const t=ca(e);return t.body===e?Fh(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}function pv(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function YR(e){return parseInt(Fh(e).getComputedStyle(e).paddingRight,10)||0}function tfe(e){const r=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName)!==-1,n=e.tagName==="INPUT"&&e.getAttribute("type")==="hidden";return r||n}function $R(e,t,r,n,i){const o=[t,r,...n];[].forEach.call(e.children,l=>{const c=o.indexOf(l)===-1,a=!tfe(l);c&&a&&pv(l,i)})}function vE(e,t){let r=-1;return e.some((n,i)=>t(n)?(r=i,!0):!1),r}function rfe(e,t){const r=[],n=e.container;if(!t.disableScrollLock){if(efe(n)){const l=IG(ca(n));r.push({value:n.style.paddingRight,property:"padding-right",el:n}),n.style.paddingRight=`${YR(n)+l}px`;const c=ca(n).querySelectorAll(".mui-fixed");[].forEach.call(c,a=>{r.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${YR(a)+l}px`})}let o;if(n.parentNode instanceof DocumentFragment)o=ca(n).body;else{const l=n.parentElement,c=Fh(n);o=(l==null?void 0:l.nodeName)==="HTML"&&c.getComputedStyle(l).overflowY==="scroll"?l:n}r.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{r.forEach(({value:o,el:l,property:c})=>{o?l.style.setProperty(c,o):l.style.removeProperty(c)})}}function nfe(e){const t=[];return[].forEach.call(e.children,r=>{r.getAttribute("aria-hidden")==="true"&&t.push(r)}),t}class ife{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(t,r){let n=this.modals.indexOf(t);if(n!==-1)return n;n=this.modals.length,this.modals.push(t),t.modalRef&&pv(t.modalRef,!1);const i=nfe(r);$R(r,t.mount,t.modalRef,i,!0);const o=vE(this.containers,l=>l.container===r);return o!==-1?(this.containers[o].modals.push(t),n):(this.containers.push({modals:[t],container:r,restore:null,hiddenSiblings:i}),n)}mount(t,r){const n=vE(this.containers,o=>o.modals.indexOf(t)!==-1),i=this.containers[n];i.restore||(i.restore=rfe(i,r))}remove(t,r=!0){const n=this.modals.indexOf(t);if(n===-1)return n;const i=vE(this.containers,l=>l.modals.indexOf(t)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(t),1),this.modals.splice(n,1),o.modals.length===0)o.restore&&o.restore(),t.modalRef&&pv(t.modalRef,r),$R(o.container,t.mount,t.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const l=o.modals[o.modals.length-1];l.modalRef&&pv(l.modalRef,!1)}return n}isTopModal(t){return this.modals.length>0&&this.modals[this.modals.length-1]===t}}function ofe(e){return typeof e=="function"?e():e}function afe(e){return e?e.props.hasOwnProperty("in"):!1}const sfe=new ife;function lfe(e){const{container:t,disableEscapeKeyDown:r=!1,disableScrollLock:n=!1,manager:i=sfe,closeAfterTransition:o=!1,onTransitionEnter:l,onTransitionExited:c,children:a,onClose:s,open:u,rootRef:d}=e,h=V.useRef({}),p=V.useRef(null),m=V.useRef(null),f=No(m,d),[g,v]=V.useState(!u),x=afe(a);let y=!0;(e["aria-hidden"]==="false"||e["aria-hidden"]===!1)&&(y=!1);const b=()=>ca(p.current),w=()=>(h.current.modalRef=m.current,h.current.mount=p.current,h.current),_=()=>{i.mount(w(),{disableScrollLock:n}),m.current&&(m.current.scrollTop=0)},S=jf(()=>{const I=ofe(t)||b().body;i.add(w(),I),m.current&&_()}),E=V.useCallback(()=>i.isTopModal(w()),[i]),A=jf(I=>{p.current=I,I&&(u&&E()?_():m.current&&pv(m.current,y))}),C=V.useCallback(()=>{i.remove(w(),y)},[y,i]);V.useEffect(()=>()=>{C()},[C]),V.useEffect(()=>{u?S():(!x||!o)&&C()},[u,C,x,o,S]);const M=I=>O=>{var j;(j=I.onKeyDown)==null||j.call(I,O),!(O.key!=="Escape"||O.which===229||!E())&&(r||(O.stopPropagation(),s&&s(O,"escapeKeyDown")))},T=I=>O=>{var j;(j=I.onClick)==null||j.call(I,O),O.target===O.currentTarget&&s&&s(O,"backdropClick")};return{getRootProps:(I={})=>{const O=$G(e);delete O.onTransitionEnter,delete O.onTransitionExited;const j=oe({},O,I);return oe({role:"presentation"},j,{onKeyDown:M(j),ref:f})},getBackdropProps:(I={})=>{const O=I;return oe({"aria-hidden":!0},O,{onClick:T(O),open:u})},getTransitionProps:()=>{const I=()=>{v(!1),l&&l()},O=()=>{v(!0),c&&c(),o&&C()};return{onEnter:AR(I,a==null?void 0:a.props.onEnter),onExited:AR(O,a==null?void 0:a.props.onExited)}},rootRef:f,portalRef:A,isTopModal:E,exited:g,hasTransition:x}}const cfe=["onChange","maxRows","minRows","style","value"];function G1(e){return parseInt(e,10)||0}const ufe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function dfe(e){return e==null||Object.keys(e).length===0||e.outerHeightStyle===0&&!e.overflowing}const hfe=V.forwardRef(function(t,r){const{onChange:n,maxRows:i,minRows:o=1,style:l,value:c}=t,a=At(t,cfe),{current:s}=V.useRef(c!=null),u=V.useRef(null),d=No(r,u),h=V.useRef(null),p=V.useCallback(()=>{const g=u.current,x=Fh(g).getComputedStyle(g);if(x.width==="0px")return{outerHeightStyle:0,overflowing:!1};const y=h.current;y.style.width=x.width,y.value=g.value||t.placeholder||"x",y.value.slice(-1)===`
`&&(y.value+=" ");const b=x.boxSizing,w=G1(x.paddingBottom)+G1(x.paddingTop),_=G1(x.borderBottomWidth)+G1(x.borderTopWidth),S=y.scrollHeight;y.value="x";const E=y.scrollHeight;let A=S;o&&(A=Math.max(Number(o)*E,A)),i&&(A=Math.min(Number(i)*E,A)),A=Math.max(A,E);const C=A+(b==="border-box"?w+_:0),M=Math.abs(A-S)<=1;return{outerHeightStyle:C,overflowing:M}},[i,o,t.placeholder]),m=V.useCallback(()=>{const g=p();if(dfe(g))return;const v=u.current;v.style.height=`${g.outerHeightStyle}px`,v.style.overflow=g.overflowing?"hidden":""},[p]);Bh(()=>{const g=()=>{m()};let v;const x=kG(g),y=u.current,b=Fh(y);b.addEventListener("resize",x);let w;return typeof ResizeObserver<"u"&&(w=new ResizeObserver(g),w.observe(y)),()=>{x.clear(),cancelAnimationFrame(v),b.removeEventListener("resize",x),w&&w.disconnect()}},[p,m]),Bh(()=>{m()});const f=g=>{s||m(),n&&n(g)};return z.jsxs(V.Fragment,{children:[z.jsx("textarea",oe({value:c,onChange:f,ref:d,rows:o,style:l},a)),z.jsx("textarea",{"aria-hidden":!0,className:t.className,readOnly:!0,ref:h,tabIndex:-1,style:oe({},ufe.shadow,l,{paddingTop:0,paddingBottom:0})})]})});function hg({props:e,states:t,muiFormControl:r}){return t.reduce((n,i)=>(n[i]=e[i],r&&typeof e[i]>"u"&&(n[i]=r[i]),n),{})}const O5=V.createContext(void 0);function pg(){return V.useContext(O5)}function pfe(e){return z.jsx(ade,oe({},e,{defaultTheme:bS,themeId:Wy}))}function XR(e){return e!=null&&!(Array.isArray(e)&&e.length===0)}function $w(e,t=!1){return e&&(XR(e.value)&&e.value!==""||t&&XR(e.defaultValue)&&e.defaultValue!=="")}function ffe(e){return e.startAdornment}function mfe(e){return Gr("MuiInputBase",e)}const Fm=qr("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),gfe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],wS=(e,t)=>{const{ownerState:r}=e;return[t.root,r.formControl&&t.formControl,r.startAdornment&&t.adornedStart,r.endAdornment&&t.adornedEnd,r.error&&t.error,r.size==="small"&&t.sizeSmall,r.multiline&&t.multiline,r.color&&t[`color${er(r.color)}`],r.fullWidth&&t.fullWidth,r.hiddenLabel&&t.hiddenLabel]},_S=(e,t)=>{const{ownerState:r}=e;return[t.input,r.size==="small"&&t.inputSizeSmall,r.multiline&&t.inputMultiline,r.type==="search"&&t.inputTypeSearch,r.startAdornment&&t.inputAdornedStart,r.endAdornment&&t.inputAdornedEnd,r.hiddenLabel&&t.inputHiddenLabel]},vfe=e=>{const{classes:t,color:r,disabled:n,error:i,endAdornment:o,focused:l,formControl:c,fullWidth:a,hiddenLabel:s,multiline:u,readOnly:d,size:h,startAdornment:p,type:m}=e,f={root:["root",`color${er(r)}`,n&&"disabled",i&&"error",a&&"fullWidth",l&&"focused",c&&"formControl",h&&h!=="medium"&&`size${er(h)}`,u&&"multiline",p&&"adornedStart",o&&"adornedEnd",s&&"hiddenLabel",d&&"readOnly"],input:["input",n&&"disabled",m==="search"&&"inputTypeSearch",u&&"inputMultiline",h==="small"&&"inputSizeSmall",s&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",d&&"readOnly"]};return nn(f,mfe,t)},SS=Rt("div",{name:"MuiInputBase",slot:"Root",overridesResolver:wS})(({theme:e,ownerState:t})=>oe({},e.typography.body1,{color:(e.vars||e).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Fm.disabled}`]:{color:(e.vars||e).palette.text.disabled,cursor:"default"}},t.multiline&&oe({padding:"4px 0 5px"},t.size==="small"&&{paddingTop:1}),t.fullWidth&&{width:"100%"})),ES=Rt("input",{name:"MuiInputBase",slot:"Input",overridesResolver:_S})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light",n=oe({color:"currentColor"},e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:e.transitions.create("opacity",{duration:e.transitions.duration.shorter})}),i={opacity:"0 !important"},o=e.vars?{opacity:e.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return oe({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":n,"&::-moz-placeholder":n,"&:-ms-input-placeholder":n,"&::-ms-input-placeholder":n,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Fm.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Fm.disabled}`]:{opacity:1,WebkitTextFillColor:(e.vars||e).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},t.size==="small"&&{paddingTop:1},t.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},t.type==="search"&&{MozAppearance:"textfield"})}),yfe=z.jsx(pfe,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),R5=V.forwardRef(function(t,r){var n;const i=on({props:t,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:l,autoFocus:c,className:a,components:s={},componentsProps:u={},defaultValue:d,disabled:h,disableInjectingGlobalStyles:p,endAdornment:m,fullWidth:f=!1,id:g,inputComponent:v="input",inputProps:x={},inputRef:y,maxRows:b,minRows:w,multiline:_=!1,name:S,onBlur:E,onChange:A,onClick:C,onFocus:M,onKeyDown:T,onKeyUp:k,placeholder:P,readOnly:D,renderSuffix:I,rows:O,slotProps:j={},slots:N={},startAdornment:R,type:F="text",value:U}=i,B=At(i,gfe),H=x.value!=null?x.value:U,{current:X}=V.useRef(H!=null),G=V.useRef(),Z=V.useCallback(we=>{},[]),J=No(G,y,x.ref,Z),[ee,q]=V.useState(!1),Y=pg(),Q=hg({props:i,muiFormControl:Y,states:["color","disabled","error","hiddenLabel","size","required","filled"]});Q.focused=Y?Y.focused:ee,V.useEffect(()=>{!Y&&h&&ee&&(q(!1),E&&E())},[Y,h,ee,E]);const ie=Y&&Y.onFilled,le=Y&&Y.onEmpty,de=V.useCallback(we=>{$w(we)?ie&&ie():le&&le()},[ie,le]);Bh(()=>{X&&de({value:H})},[H,de,X]);const De=we=>{if(Q.disabled){we.stopPropagation();return}M&&M(we),x.onFocus&&x.onFocus(we),Y&&Y.onFocus?Y.onFocus(we):q(!0)},Me=we=>{E&&E(we),x.onBlur&&x.onBlur(we),Y&&Y.onBlur?Y.onBlur(we):q(!1)},Ee=(we,...fe)=>{if(!X){const he=we.target||G.current;if(he==null)throw new Error(Nh(1));de({value:he.value})}x.onChange&&x.onChange(we,...fe),A&&A(we,...fe)};V.useEffect(()=>{de(G.current)},[]);const Te=we=>{G.current&&we.currentTarget===we.target&&G.current.focus(),C&&C(we)};let $e=v,ze=x;_&&$e==="input"&&(O?ze=oe({type:void 0,minRows:O,maxRows:O},ze):ze=oe({type:void 0,maxRows:b,minRows:w},ze),$e=hfe);const K=we=>{de(we.animationName==="mui-auto-fill-cancel"?G.current:{value:"x"})};V.useEffect(()=>{Y&&Y.setAdornedStart(!!R)},[Y,R]);const W=oe({},i,{color:Q.color||"primary",disabled:Q.disabled,endAdornment:m,error:Q.error,focused:Q.focused,formControl:Y,fullWidth:f,hiddenLabel:Q.hiddenLabel,multiline:_,size:Q.size,startAdornment:R,type:F}),se=vfe(W),Se=N.root||s.Root||SS,te=j.root||u.root||{},ce=N.input||s.Input||ES;return ze=oe({},ze,(n=j.input)!=null?n:u.input),z.jsxs(V.Fragment,{children:[!p&&yfe,z.jsxs(Se,oe({},te,!Yw(Se)&&{ownerState:oe({},W,te.ownerState)},{ref:r,onClick:Te},B,{className:Qt(se.root,te.className,a,D&&"MuiInputBase-readOnly"),children:[R,z.jsx(O5.Provider,{value:null,children:z.jsx(ce,oe({ownerState:W,"aria-invalid":Q.error,"aria-describedby":o,autoComplete:l,autoFocus:c,defaultValue:d,disabled:Q.disabled,id:g,onAnimationStart:K,name:S,placeholder:P,readOnly:D,required:Q.required,rows:O,value:H,onKeyDown:T,onKeyUp:k,type:F},ze,!Yw(ce)&&{as:$e,ownerState:oe({},W,ze.ownerState)},{ref:J,className:Qt(se.input,ze.className,D&&"MuiInputBase-readOnly"),onBlur:Me,onChange:Ee,onFocus:De}))}),m,I?I(oe({},Q,{startAdornment:R})):null]}))]})});function bfe(e){return Gr("MuiInput",e)}const Qg=oe({},Fm,qr("MuiInput",["root","underline","input"]));function xfe(e){return Gr("MuiOutlinedInput",e)}const Yc=oe({},Fm,qr("MuiOutlinedInput",["root","notchedOutline","input"]));function wfe(e){return Gr("MuiFilledInput",e)}const Sd=oe({},Fm,qr("MuiFilledInput",["root","underline","input"])),_fe=spe(z.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Sfe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Efe={entering:{opacity:1},entered:{opacity:1}},Cfe=V.forwardRef(function(t,r){const n=D5(),i={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:o,appear:l=!0,children:c,easing:a,in:s,onEnter:u,onEntered:d,onEntering:h,onExit:p,onExited:m,onExiting:f,style:g,timeout:v=i,TransitionComponent:x=Pl}=t,y=At(t,Sfe),b=V.useRef(null),w=No(b,c.ref,r),_=P=>D=>{if(P){const I=b.current;D===void 0?P(I):P(I,D)}},S=_(h),E=_((P,D)=>{qG(P);const I=qw({style:g,timeout:v,easing:a},{mode:"enter"});P.style.webkitTransition=n.transitions.create("opacity",I),P.style.transition=n.transitions.create("opacity",I),u&&u(P,D)}),A=_(d),C=_(f),M=_(P=>{const D=qw({style:g,timeout:v,easing:a},{mode:"exit"});P.style.webkitTransition=n.transitions.create("opacity",D),P.style.transition=n.transitions.create("opacity",D),p&&p(P)}),T=_(m),k=P=>{o&&o(b.current,P)};return z.jsx(x,oe({appear:l,in:s,nodeRef:b,onEnter:E,onEntered:A,onEntering:S,onExit:M,onExited:T,onExiting:C,addEndListener:k,timeout:v},y,{children:(P,D)=>V.cloneElement(c,oe({style:oe({opacity:0,visibility:P==="exited"&&!s?"hidden":void 0},Efe[P],g,c.props.style),ref:w},D))}))});function Afe(e){return Gr("MuiBackdrop",e)}qr("MuiBackdrop",["root","invisible"]);const Mfe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Tfe=e=>{const{classes:t,invisible:r}=e;return nn({root:["root",r&&"invisible"]},Afe,t)},Pfe=Rt("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.invisible&&t.invisible]}})(({ownerState:e})=>oe({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},e.invisible&&{backgroundColor:"transparent"})),kfe=V.forwardRef(function(t,r){var n,i,o;const l=on({props:t,name:"MuiBackdrop"}),{children:c,className:a,component:s="div",components:u={},componentsProps:d={},invisible:h=!1,open:p,slotProps:m={},slots:f={},TransitionComponent:g=Cfe,transitionDuration:v}=l,x=At(l,Mfe),y=oe({},l,{component:s,invisible:h}),b=Tfe(y),w=(n=m.root)!=null?n:d.root;return z.jsx(g,oe({in:p,timeout:v},x,{children:z.jsx(Pfe,oe({"aria-hidden":!0},w,{as:(i=(o=f.root)!=null?o:u.Root)!=null?i:s,className:Qt(b.root,a,w==null?void 0:w.className),ownerState:oe({},y,w==null?void 0:w.ownerState),classes:b,ref:r,children:c}))}))}),Dfe=qr("MuiBox",["root"]),jfe=VG(),Ife=hde({themeId:Wy,defaultTheme:jfe,defaultClassName:Dfe.root,generateClassName:SG.generate});function Ofe(e){return Gr("MuiButton",e)}const q1=qr("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),Rfe=V.createContext({}),zfe=V.createContext(void 0),Lfe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Nfe=e=>{const{color:t,disableElevation:r,fullWidth:n,size:i,variant:o,classes:l}=e,c={root:["root",o,`${o}${er(t)}`,`size${er(i)}`,`${o}Size${er(i)}`,`color${er(t)}`,r&&"disableElevation",n&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${er(i)}`],endIcon:["icon","endIcon",`iconSize${er(i)}`]},a=nn(c,Ofe,l);return oe({},l,a)},XG=e=>oe({},e.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},e.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},e.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Bfe=Rt(Lpe,{shouldForwardProp:e=>Is(e)||e==="classes",name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[r.variant],t[`${r.variant}${er(r.color)}`],t[`size${er(r.size)}`],t[`${r.variant}Size${er(r.size)}`],r.color==="inherit"&&t.colorInherit,r.disableElevation&&t.disableElevation,r.fullWidth&&t.fullWidth]}})(({theme:e,ownerState:t})=>{var r,n;const i=e.palette.mode==="light"?e.palette.grey[300]:e.palette.grey[800],o=e.palette.mode==="light"?e.palette.grey.A100:e.palette.grey[700];return oe({},e.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create(["background-color","box-shadow","border-color","color"],{duration:e.transitions.duration.short}),"&:hover":oe({textDecoration:"none",backgroundColor:e.vars?`rgba(${e.vars.palette.text.primaryChannel} / ${e.vars.palette.action.hoverOpacity})`:If(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="text"&&t.color!=="inherit"&&{backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:If(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="outlined"&&t.color!=="inherit"&&{border:`1px solid ${(e.vars||e).palette[t.color].main}`,backgroundColor:e.vars?`rgba(${e.vars.palette[t.color].mainChannel} / ${e.vars.palette.action.hoverOpacity})`:If(e.palette[t.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},t.variant==="contained"&&{backgroundColor:e.vars?e.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(e.vars||e).shadows[4],"@media (hover: none)":{boxShadow:(e.vars||e).shadows[2],backgroundColor:(e.vars||e).palette.grey[300]}},t.variant==="contained"&&t.color!=="inherit"&&{backgroundColor:(e.vars||e).palette[t.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[t.color].main}}),"&:active":oe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[8]}),[`&.${q1.focusVisible}`]:oe({},t.variant==="contained"&&{boxShadow:(e.vars||e).shadows[6]}),[`&.${q1.disabled}`]:oe({color:(e.vars||e).palette.action.disabled},t.variant==="outlined"&&{border:`1px solid ${(e.vars||e).palette.action.disabledBackground}`},t.variant==="contained"&&{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground})},t.variant==="text"&&{padding:"6px 8px"},t.variant==="text"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main},t.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},t.variant==="outlined"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].main,border:e.vars?`1px solid rgba(${e.vars.palette[t.color].mainChannel} / 0.5)`:`1px solid ${If(e.palette[t.color].main,.5)}`},t.variant==="contained"&&{color:e.vars?e.vars.palette.text.primary:(r=(n=e.palette).getContrastText)==null?void 0:r.call(n,e.palette.grey[300]),backgroundColor:e.vars?e.vars.palette.Button.inheritContainedBg:i,boxShadow:(e.vars||e).shadows[2]},t.variant==="contained"&&t.color!=="inherit"&&{color:(e.vars||e).palette[t.color].contrastText,backgroundColor:(e.vars||e).palette[t.color].main},t.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},t.size==="small"&&t.variant==="text"&&{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="text"&&{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="outlined"&&{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="outlined"&&{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},t.size==="small"&&t.variant==="contained"&&{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},t.size==="large"&&t.variant==="contained"&&{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},t.fullWidth&&{width:"100%"})},({ownerState:e})=>e.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${q1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${q1.disabled}`]:{boxShadow:"none"}}),Ffe=Rt("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.startIcon,t[`iconSize${er(r.size)}`]]}})(({ownerState:e})=>oe({display:"inherit",marginRight:8,marginLeft:-4},e.size==="small"&&{marginLeft:-2},XG(e))),Ufe=Rt("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.endIcon,t[`iconSize${er(r.size)}`]]}})(({ownerState:e})=>oe({display:"inherit",marginRight:-4,marginLeft:8},e.size==="small"&&{marginRight:-2},XG(e))),Vfe=V.forwardRef(function(t,r){const n=V.useContext(Rfe),i=V.useContext(zfe),o=M5(n,t),l=on({props:o,name:"MuiButton"}),{children:c,color:a="primary",component:s="button",className:u,disabled:d=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:m,focusVisibleClassName:f,fullWidth:g=!1,size:v="medium",startIcon:x,type:y,variant:b="text"}=l,w=At(l,Lfe),_=oe({},l,{color:a,component:s,disabled:d,disableElevation:h,disableFocusRipple:p,fullWidth:g,size:v,type:y,variant:b}),S=Nfe(_),E=x&&z.jsx(Ffe,{className:S.startIcon,ownerState:_,children:x}),A=m&&z.jsx(Ufe,{className:S.endIcon,ownerState:_,children:m}),C=i||"";return z.jsxs(Bfe,oe({ownerState:_,className:Qt(n.className,S.root,u,C),component:s,disabled:d,focusRipple:!p,focusVisibleClassName:Qt(S.focusVisible,f),ref:r,type:y},w,{classes:S,children:[E,c,A]}))}),Hfe=Qde({createStyledComponent:Rt("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,t[`maxWidth${er(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>on({props:e,name:"MuiContainer"})});function Wfe(e){return Gr("MuiModal",e)}qr("MuiModal",["root","hidden","backdrop"]);const Gfe=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],qfe=e=>{const{open:t,exited:r,classes:n}=e;return nn({root:["root",!t&&r&&"hidden"],backdrop:["backdrop"]},Wfe,n)},Yfe=Rt("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.open&&r.exited&&t.hidden]}})(({theme:e,ownerState:t})=>oe({position:"fixed",zIndex:(e.vars||e).zIndex.modal,right:0,bottom:0,top:0,left:0},!t.open&&t.exited&&{visibility:"hidden"})),$fe=Rt(kfe,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Xfe=V.forwardRef(function(t,r){var n,i,o,l,c,a;const s=on({name:"MuiModal",props:t}),{BackdropComponent:u=$fe,BackdropProps:d,className:h,closeAfterTransition:p=!1,children:m,container:f,component:g,components:v={},componentsProps:x={},disableAutoFocus:y=!1,disableEnforceFocus:b=!1,disableEscapeKeyDown:w=!1,disablePortal:_=!1,disableRestoreFocus:S=!1,disableScrollLock:E=!1,hideBackdrop:A=!1,keepMounted:C=!1,onBackdropClick:M,open:T,slotProps:k,slots:P}=s,D=At(s,Gfe),I=oe({},s,{closeAfterTransition:p,disableAutoFocus:y,disableEnforceFocus:b,disableEscapeKeyDown:w,disablePortal:_,disableRestoreFocus:S,disableScrollLock:E,hideBackdrop:A,keepMounted:C}),{getRootProps:O,getBackdropProps:j,getTransitionProps:N,portalRef:R,isTopModal:F,exited:U,hasTransition:B}=lfe(oe({},I,{rootRef:r})),H=oe({},I,{exited:U}),X=qfe(H),G={};if(m.props.tabIndex===void 0&&(G.tabIndex="-1"),B){const{onEnter:ie,onExited:le}=N();G.onEnter=ie,G.onExited=le}const Z=(n=(i=P==null?void 0:P.root)!=null?i:v.Root)!=null?n:Yfe,J=(o=(l=P==null?void 0:P.backdrop)!=null?l:v.Backdrop)!=null?o:u,ee=(c=k==null?void 0:k.root)!=null?c:x.root,q=(a=k==null?void 0:k.backdrop)!=null?a:x.backdrop,Y=Bm({elementType:Z,externalSlotProps:ee,externalForwardedProps:D,getSlotProps:O,additionalProps:{ref:r,as:g},ownerState:H,className:Qt(h,ee==null?void 0:ee.className,X==null?void 0:X.root,!H.open&&H.exited&&(X==null?void 0:X.hidden))}),Q=Bm({elementType:J,externalSlotProps:q,additionalProps:d,getSlotProps:ie=>j(oe({},ie,{onClick:le=>{M&&M(le),ie!=null&&ie.onClick&&ie.onClick(le)}})),className:Qt(q==null?void 0:q.className,d==null?void 0:d.className,X==null?void 0:X.backdrop),ownerState:H});return!C&&!T&&(!B||U)?null:z.jsx(Jpe,{ref:R,container:f,disablePortal:_,children:z.jsxs(Z,oe({},Y,{children:[!A&&u?z.jsx(J,oe({},Q)):null,z.jsx(Qpe,{disableEnforceFocus:b,disableAutoFocus:y,disableRestoreFocus:S,isEnabled:F,open:T,children:V.cloneElement(m,G)})]}))})}),Kfe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],Qfe=e=>{const{classes:t,disableUnderline:r}=e,i=nn({root:["root",!r&&"underline"],input:["input"]},wfe,t);return oe({},t,i)},Zfe=Rt(SS,{shouldForwardProp:e=>Is(e)||e==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...wS(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{var r;const n=e.palette.mode==="light",i=n?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=n?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",l=n?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=n?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return oe({position:"relative",backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(e.vars||e).shape.borderRadius,borderTopRightRadius:(e.vars||e).shape.borderRadius,transition:e.transitions.create("background-color",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),"&:hover":{backgroundColor:e.vars?e.vars.palette.FilledInput.hoverBg:l,"@media (hover: none)":{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o}},[`&.${Sd.focused}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.bg:o},[`&.${Sd.disabled}`]:{backgroundColor:e.vars?e.vars.palette.FilledInput.disabledBg:c}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(r=(e.vars||e).palette[t.color||"primary"])==null?void 0:r.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Sd.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Sd.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Sd.disabled}, .${Sd.error}):before`]:{borderBottom:`1px solid ${(e.vars||e).palette.text.primary}`},[`&.${Sd.disabled}:before`]:{borderBottomStyle:"dotted"}},t.startAdornment&&{paddingLeft:12},t.endAdornment&&{paddingRight:12},t.multiline&&oe({padding:"25px 12px 8px"},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9}))}),Jfe=Rt(ES,{name:"MuiFilledInput",slot:"Input",overridesResolver:_S})(({theme:e,ownerState:t})=>oe({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{paddingTop:21,paddingBottom:4},t.hiddenLabel&&{paddingTop:16,paddingBottom:17},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0},t.hiddenLabel&&t.size==="small"&&{paddingTop:8,paddingBottom:9},t.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),z5=V.forwardRef(function(t,r){var n,i,o,l;const c=on({props:t,name:"MuiFilledInput"}),{components:a={},componentsProps:s,fullWidth:u=!1,inputComponent:d="input",multiline:h=!1,slotProps:p,slots:m={},type:f="text"}=c,g=At(c,Kfe),v=oe({},c,{fullWidth:u,inputComponent:d,multiline:h,type:f}),x=Qfe(c),y={root:{ownerState:v},input:{ownerState:v}},b=p??s?la(y,p??s):y,w=(n=(i=m.root)!=null?i:a.Root)!=null?n:Zfe,_=(o=(l=m.input)!=null?l:a.Input)!=null?o:Jfe;return z.jsx(R5,oe({slots:{root:w,input:_},componentsProps:b,fullWidth:u,inputComponent:d,multiline:h,ref:r,type:f},g,{classes:x}))});z5.muiName="Input";function eme(e){return Gr("MuiFormControl",e)}qr("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const tme=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],rme=e=>{const{classes:t,margin:r,fullWidth:n}=e,i={root:["root",r!=="none"&&`margin${er(r)}`,n&&"fullWidth"]};return nn(i,eme,t)},nme=Rt("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:e},t)=>oe({},t.root,t[`margin${er(e.margin)}`],e.fullWidth&&t.fullWidth)})(({ownerState:e})=>oe({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},e.margin==="normal"&&{marginTop:16,marginBottom:8},e.margin==="dense"&&{marginTop:8,marginBottom:4},e.fullWidth&&{width:"100%"})),ime=V.forwardRef(function(t,r){const n=on({props:t,name:"MuiFormControl"}),{children:i,className:o,color:l="primary",component:c="div",disabled:a=!1,error:s=!1,focused:u,fullWidth:d=!1,hiddenLabel:h=!1,margin:p="none",required:m=!1,size:f="medium",variant:g="outlined"}=n,v=At(n,tme),x=oe({},n,{color:l,component:c,disabled:a,error:s,fullWidth:d,hiddenLabel:h,margin:p,required:m,size:f,variant:g}),y=rme(x),[b,w]=V.useState(()=>{let k=!1;return i&&V.Children.forEach(i,P=>{if(!pE(P,["Input","Select"]))return;const D=pE(P,["Select"])?P.props.input:P;D&&ffe(D.props)&&(k=!0)}),k}),[_,S]=V.useState(()=>{let k=!1;return i&&V.Children.forEach(i,P=>{pE(P,["Input","Select"])&&($w(P.props,!0)||$w(P.props.inputProps,!0))&&(k=!0)}),k}),[E,A]=V.useState(!1);a&&E&&A(!1);const C=u!==void 0&&!a?u:E;let M;const T=V.useMemo(()=>({adornedStart:b,setAdornedStart:w,color:l,disabled:a,error:s,filled:_,focused:C,fullWidth:d,hiddenLabel:h,size:f,onBlur:()=>{A(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{A(!0)},registerEffect:M,required:m,variant:g}),[b,l,a,s,_,C,d,h,M,m,f,g]);return z.jsx(O5.Provider,{value:T,children:z.jsx(nme,oe({as:c,ownerState:x,className:Qt(y.root,o),ref:r},v,{children:i}))})});function ome(e){return Gr("MuiFormHelperText",e)}const KR=qr("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var QR;const ame=["children","className","component","disabled","error","filled","focused","margin","required","variant"],sme=e=>{const{classes:t,contained:r,size:n,disabled:i,error:o,filled:l,focused:c,required:a}=e,s={root:["root",i&&"disabled",o&&"error",n&&`size${er(n)}`,r&&"contained",c&&"focused",l&&"filled",a&&"required"]};return nn(s,ome,t)},lme=Rt("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,r.size&&t[`size${er(r.size)}`],r.contained&&t.contained,r.filled&&t.filled]}})(({theme:e,ownerState:t})=>oe({color:(e.vars||e).palette.text.secondary},e.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${KR.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${KR.error}`]:{color:(e.vars||e).palette.error.main}},t.size==="small"&&{marginTop:4},t.contained&&{marginLeft:14,marginRight:14})),cme=V.forwardRef(function(t,r){const n=on({props:t,name:"MuiFormHelperText"}),{children:i,className:o,component:l="p"}=n,c=At(n,ame),a=pg(),s=hg({props:n,muiFormControl:a,states:["variant","size","disabled","error","filled","focused","required"]}),u=oe({},n,{component:l,contained:s.variant==="filled"||s.variant==="outlined",variant:s.variant,size:s.size,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),d=sme(u);return z.jsx(lme,oe({as:l,ownerState:u,className:Qt(d.root,o),ref:r},c,{children:i===" "?QR||(QR=z.jsx("span",{className:"notranslate",children:"​"})):i}))});function ume(e){return Gr("MuiFormLabel",e)}const fv=qr("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),dme=["children","className","color","component","disabled","error","filled","focused","required"],hme=e=>{const{classes:t,color:r,focused:n,disabled:i,error:o,filled:l,required:c}=e,a={root:["root",`color${er(r)}`,i&&"disabled",o&&"error",l&&"filled",n&&"focused",c&&"required"],asterisk:["asterisk",o&&"error"]};return nn(a,ume,t)},pme=Rt("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:e},t)=>oe({},t.root,e.color==="secondary"&&t.colorSecondary,e.filled&&t.filled)})(({theme:e,ownerState:t})=>oe({color:(e.vars||e).palette.text.secondary},e.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${fv.focused}`]:{color:(e.vars||e).palette[t.color].main},[`&.${fv.disabled}`]:{color:(e.vars||e).palette.text.disabled},[`&.${fv.error}`]:{color:(e.vars||e).palette.error.main}})),fme=Rt("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(e,t)=>t.asterisk})(({theme:e})=>({[`&.${fv.error}`]:{color:(e.vars||e).palette.error.main}})),mme=V.forwardRef(function(t,r){const n=on({props:t,name:"MuiFormLabel"}),{children:i,className:o,component:l="label"}=n,c=At(n,dme),a=pg(),s=hg({props:n,muiFormControl:a,states:["color","required","focused","disabled","error","filled"]}),u=oe({},n,{color:s.color||"primary",component:l,disabled:s.disabled,error:s.error,filled:s.filled,focused:s.focused,required:s.required}),d=hme(u);return z.jsxs(pme,oe({as:l,ownerState:u,className:Qt(d.root,o),ref:r},c,{children:[i,s.required&&z.jsxs(fme,{ownerState:u,"aria-hidden":!0,className:d.asterisk,children:[" ","*"]})]}))}),ZR=V.createContext();function gme(e){return Gr("MuiGrid",e)}const vme=[0,1,2,3,4,5,6,7,8,9,10],yme=["column-reverse","column","row-reverse","row"],bme=["nowrap","wrap-reverse","wrap"],Zg=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],cy=qr("MuiGrid",["root","container","item","zeroMinWidth",...vme.map(e=>`spacing-xs-${e}`),...yme.map(e=>`direction-xs-${e}`),...bme.map(e=>`wrap-xs-${e}`),...Zg.map(e=>`grid-xs-${e}`),...Zg.map(e=>`grid-sm-${e}`),...Zg.map(e=>`grid-md-${e}`),...Zg.map(e=>`grid-lg-${e}`),...Zg.map(e=>`grid-xl-${e}`)]),xme=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function em(e){const t=parseFloat(e);return`${t}${String(e).replace(String(t),"")||"px"}`}function wme({theme:e,ownerState:t}){let r;return e.breakpoints.keys.reduce((n,i)=>{let o={};if(t[i]&&(r=t[i]),!r)return n;if(r===!0)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(r==="auto")o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const l=Z2({values:t.columns,breakpoints:e.breakpoints.values}),c=typeof l=="object"?l[i]:l;if(c==null)return n;const a=`${Math.round(r/c*1e8)/1e6}%`;let s={};if(t.container&&t.item&&t.columnSpacing!==0){const u=e.spacing(t.columnSpacing);if(u!=="0px"){const d=`calc(${a} + ${em(u)})`;s={flexBasis:d,maxWidth:d}}}o=oe({flexBasis:a,flexGrow:0,maxWidth:a},s)}return e.breakpoints.values[i]===0?Object.assign(n,o):n[e.breakpoints.up(i)]=o,n},{})}function _me({theme:e,ownerState:t}){const r=Z2({values:t.direction,breakpoints:e.breakpoints.values});return Ya({theme:e},r,n=>{const i={flexDirection:n};return n.indexOf("column")===0&&(i[`& > .${cy.item}`]={maxWidth:"none"}),i})}function KG({breakpoints:e,values:t}){let r="";Object.keys(t).forEach(i=>{r===""&&t[i]!==0&&(r=i)});const n=Object.keys(e).sort((i,o)=>e[i]-e[o]);return n.slice(0,n.indexOf(r))}function Sme({theme:e,ownerState:t}){const{container:r,rowSpacing:n}=t;let i={};if(r&&n!==0){const o=Z2({values:n,breakpoints:e.breakpoints.values});let l;typeof o=="object"&&(l=KG({breakpoints:e.breakpoints.values,values:o})),i=Ya({theme:e},o,(c,a)=>{var s;const u=e.spacing(c);return u!=="0px"?{marginTop:`-${em(u)}`,[`& > .${cy.item}`]:{paddingTop:em(u)}}:(s=l)!=null&&s.includes(a)?{}:{marginTop:0,[`& > .${cy.item}`]:{paddingTop:0}}})}return i}function Eme({theme:e,ownerState:t}){const{container:r,columnSpacing:n}=t;let i={};if(r&&n!==0){const o=Z2({values:n,breakpoints:e.breakpoints.values});let l;typeof o=="object"&&(l=KG({breakpoints:e.breakpoints.values,values:o})),i=Ya({theme:e},o,(c,a)=>{var s;const u=e.spacing(c);return u!=="0px"?{width:`calc(100% + ${em(u)})`,marginLeft:`-${em(u)}`,[`& > .${cy.item}`]:{paddingLeft:em(u)}}:(s=l)!=null&&s.includes(a)?{}:{width:"100%",marginLeft:0,[`& > .${cy.item}`]:{paddingLeft:0}}})}return i}function Cme(e,t,r={}){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[r[`spacing-xs-${String(e)}`]];const n=[];return t.forEach(i=>{const o=e[i];Number(o)>0&&n.push(r[`spacing-${i}-${String(o)}`])}),n}const Ame=Rt("div",{name:"MuiGrid",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e,{container:n,direction:i,item:o,spacing:l,wrap:c,zeroMinWidth:a,breakpoints:s}=r;let u=[];n&&(u=Cme(l,s,t));const d=[];return s.forEach(h=>{const p=r[h];p&&d.push(t[`grid-${h}-${String(p)}`])}),[t.root,n&&t.container,o&&t.item,a&&t.zeroMinWidth,...u,i!=="row"&&t[`direction-xs-${String(i)}`],c!=="wrap"&&t[`wrap-xs-${String(c)}`],...d]}})(({ownerState:e})=>oe({boxSizing:"border-box"},e.container&&{display:"flex",flexWrap:"wrap",width:"100%"},e.item&&{margin:0},e.zeroMinWidth&&{minWidth:0},e.wrap!=="wrap"&&{flexWrap:e.wrap}),_me,Sme,Eme,wme);function Mme(e,t){if(!e||e<=0)return[];if(typeof e=="string"&&!Number.isNaN(Number(e))||typeof e=="number")return[`spacing-xs-${String(e)}`];const r=[];return t.forEach(n=>{const i=e[n];if(Number(i)>0){const o=`spacing-${n}-${String(i)}`;r.push(o)}}),r}const Tme=e=>{const{classes:t,container:r,direction:n,item:i,spacing:o,wrap:l,zeroMinWidth:c,breakpoints:a}=e;let s=[];r&&(s=Mme(o,a));const u=[];a.forEach(h=>{const p=e[h];p&&u.push(`grid-${h}-${String(p)}`)});const d={root:["root",r&&"container",i&&"item",c&&"zeroMinWidth",...s,n!=="row"&&`direction-xs-${String(n)}`,l!=="wrap"&&`wrap-xs-${String(l)}`,...u]};return nn(d,gme,t)},yE=V.forwardRef(function(t,r){const n=on({props:t,name:"MuiGrid"}),{breakpoints:i}=D5(),o=aS(n),{className:l,columns:c,columnSpacing:a,component:s="div",container:u=!1,direction:d="row",item:h=!1,rowSpacing:p,spacing:m=0,wrap:f="wrap",zeroMinWidth:g=!1}=o,v=At(o,xme),x=p||m,y=a||m,b=V.useContext(ZR),w=u?c||12:b,_={},S=oe({},v);i.keys.forEach(C=>{v[C]!=null&&(_[C]=v[C],delete S[C])});const E=oe({},o,{columns:w,container:u,direction:d,item:h,rowSpacing:x,columnSpacing:y,wrap:f,zeroMinWidth:g,spacing:m},_,{breakpoints:i.keys}),A=Tme(E);return z.jsx(ZR.Provider,{value:w,children:z.jsx(Ame,oe({ownerState:E,className:Qt(A.root,l),as:s,ref:r},S))})}),Pme=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function wT(e){return`scale(${e}, ${e**2})`}const kme={entering:{opacity:1,transform:wT(1)},entered:{opacity:1,transform:"none"}},bE=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),QG=V.forwardRef(function(t,r){const{addEndListener:n,appear:i=!0,children:o,easing:l,in:c,onEnter:a,onEntered:s,onEntering:u,onExit:d,onExited:h,onExiting:p,style:m,timeout:f="auto",TransitionComponent:g=Pl}=t,v=At(t,Pme),x=jG(),y=V.useRef(),b=D5(),w=V.useRef(null),_=No(w,o.ref,r),S=D=>I=>{if(D){const O=w.current;I===void 0?D(O):D(O,I)}},E=S(u),A=S((D,I)=>{qG(D);const{duration:O,delay:j,easing:N}=qw({style:m,timeout:f,easing:l},{mode:"enter"});let R;f==="auto"?(R=b.transitions.getAutoHeightDuration(D.clientHeight),y.current=R):R=O,D.style.transition=[b.transitions.create("opacity",{duration:R,delay:j}),b.transitions.create("transform",{duration:bE?R:R*.666,delay:j,easing:N})].join(","),a&&a(D,I)}),C=S(s),M=S(p),T=S(D=>{const{duration:I,delay:O,easing:j}=qw({style:m,timeout:f,easing:l},{mode:"exit"});let N;f==="auto"?(N=b.transitions.getAutoHeightDuration(D.clientHeight),y.current=N):N=I,D.style.transition=[b.transitions.create("opacity",{duration:N,delay:O}),b.transitions.create("transform",{duration:bE?N:N*.666,delay:bE?O:O||N*.333,easing:j})].join(","),D.style.opacity=0,D.style.transform=wT(.75),d&&d(D)}),k=S(h),P=D=>{f==="auto"&&x.start(y.current||0,D),n&&n(w.current,D)};return z.jsx(g,oe({appear:i,in:c,nodeRef:w,onEnter:A,onEntered:C,onEntering:E,onExit:T,onExited:k,onExiting:M,addEndListener:P,timeout:f==="auto"?null:f},v,{children:(D,I)=>V.cloneElement(o,oe({style:oe({opacity:0,transform:wT(.75),visibility:D==="exited"&&!c?"hidden":void 0},kme[D],m,o.props.style),ref:_},I))}))});QG.muiSupportAuto=!0;const Dme=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],jme=e=>{const{classes:t,disableUnderline:r}=e,i=nn({root:["root",!r&&"underline"],input:["input"]},bfe,t);return oe({},t,i)},Ime=Rt(SS,{shouldForwardProp:e=>Is(e)||e==="classes",name:"MuiInput",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[...wS(e,t),!r.disableUnderline&&t.underline]}})(({theme:e,ownerState:t})=>{let n=e.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return e.vars&&(n=`rgba(${e.vars.palette.common.onBackgroundChannel} / ${e.vars.opacity.inputUnderline})`),oe({position:"relative"},t.formControl&&{"label + &":{marginTop:16}},!t.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(e.vars||e).palette[t.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:e.transitions.create("transform",{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${Qg.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${Qg.error}`]:{"&::before, &::after":{borderBottomColor:(e.vars||e).palette.error.main}},"&::before":{borderBottom:`1px solid ${n}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:e.transitions.create("border-bottom-color",{duration:e.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${Qg.disabled}, .${Qg.error}):before`]:{borderBottom:`2px solid ${(e.vars||e).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${n}`}},[`&.${Qg.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Ome=Rt(ES,{name:"MuiInput",slot:"Input",overridesResolver:_S})({}),L5=V.forwardRef(function(t,r){var n,i,o,l;const c=on({props:t,name:"MuiInput"}),{disableUnderline:a,components:s={},componentsProps:u,fullWidth:d=!1,inputComponent:h="input",multiline:p=!1,slotProps:m,slots:f={},type:g="text"}=c,v=At(c,Dme),x=jme(c),b={root:{ownerState:{disableUnderline:a}}},w=m??u?la(m??u,b):b,_=(n=(i=f.root)!=null?i:s.Root)!=null?n:Ime,S=(o=(l=f.input)!=null?l:s.Input)!=null?o:Ome;return z.jsx(R5,oe({slots:{root:_,input:S},slotProps:w,fullWidth:d,inputComponent:h,multiline:p,ref:r,type:g},v,{classes:x}))});L5.muiName="Input";function Rme(e){return Gr("MuiInputLabel",e)}qr("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const zme=["disableAnimation","margin","shrink","variant","className"],Lme=e=>{const{classes:t,formControl:r,size:n,shrink:i,disableAnimation:o,variant:l,required:c}=e,a={root:["root",r&&"formControl",!o&&"animated",i&&"shrink",n&&n!=="normal"&&`size${er(n)}`,l],asterisk:[c&&"asterisk"]},s=nn(a,Rme,t);return oe({},t,s)},Nme=Rt(mme,{shouldForwardProp:e=>Is(e)||e==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`& .${fv.asterisk}`]:t.asterisk},t.root,r.formControl&&t.formControl,r.size==="small"&&t.sizeSmall,r.shrink&&t.shrink,!r.disableAnimation&&t.animated,r.focused&&t.focused,t[r.variant]]}})(({theme:e,ownerState:t})=>oe({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},t.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},t.size==="small"&&{transform:"translate(0, 17px) scale(1)"},t.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!t.disableAnimation&&{transition:e.transitions.create(["color","transform","max-width"],{duration:e.transitions.duration.shorter,easing:e.transitions.easing.easeOut})},t.variant==="filled"&&oe({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},t.shrink&&oe({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},t.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),t.variant==="outlined"&&oe({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},t.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},t.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Bme=V.forwardRef(function(t,r){const n=on({name:"MuiInputLabel",props:t}),{disableAnimation:i=!1,shrink:o,className:l}=n,c=At(n,zme),a=pg();let s=o;typeof s>"u"&&a&&(s=a.filled||a.focused||a.adornedStart);const u=hg({props:n,muiFormControl:a,states:["size","variant","required","focused"]}),d=oe({},n,{disableAnimation:i,formControl:a,shrink:s,size:u.size,variant:u.variant,required:u.required,focused:u.focused}),h=Lme(d);return z.jsx(Nme,oe({"data-shrink":s,ownerState:d,ref:r,className:Qt(h.root,l)},c,{classes:h}))}),Fme=V.createContext({});function Ume(e){return Gr("MuiList",e)}qr("MuiList",["root","padding","dense","subheader"]);const Vme=["children","className","component","dense","disablePadding","subheader"],Hme=e=>{const{classes:t,disablePadding:r,dense:n,subheader:i}=e;return nn({root:["root",!r&&"padding",n&&"dense",i&&"subheader"]},Ume,t)},Wme=Rt("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.root,!r.disablePadding&&t.padding,r.dense&&t.dense,r.subheader&&t.subheader]}})(({ownerState:e})=>oe({listStyle:"none",margin:0,padding:0,position:"relative"},!e.disablePadding&&{paddingTop:8,paddingBottom:8},e.subheader&&{paddingTop:0})),Gme=V.forwardRef(function(t,r){const n=on({props:t,name:"MuiList"}),{children:i,className:o,component:l="ul",dense:c=!1,disablePadding:a=!1,subheader:s}=n,u=At(n,Vme),d=V.useMemo(()=>({dense:c}),[c]),h=oe({},n,{component:l,dense:c,disablePadding:a}),p=Hme(h);return z.jsx(Fme.Provider,{value:d,children:z.jsxs(Wme,oe({as:l,className:Qt(p.root,o),ref:r,ownerState:h},u,{children:[s,i]}))})}),qme=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function xE(e,t,r){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:r?null:e.firstChild}function JR(e,t,r){return e===t?r?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:r?null:e.lastChild}function ZG(e,t){if(t===void 0)return!0;let r=e.innerText;return r===void 0&&(r=e.textContent),r=r.trim().toLowerCase(),r.length===0?!1:t.repeating?r[0]===t.keys[0]:r.indexOf(t.keys.join(""))===0}function Jg(e,t,r,n,i,o){let l=!1,c=i(e,t,t?r:!1);for(;c;){if(c===e.firstChild){if(l)return!1;l=!0}const a=n?!1:c.disabled||c.getAttribute("aria-disabled")==="true";if(!c.hasAttribute("tabindex")||!ZG(c,o)||a)c=i(e,c,r);else return c.focus(),!0}return!1}const Yme=V.forwardRef(function(t,r){const{actions:n,autoFocus:i=!1,autoFocusItem:o=!1,children:l,className:c,disabledItemsFocusable:a=!1,disableListWrap:s=!1,onKeyDown:u,variant:d="selectedMenu"}=t,h=At(t,qme),p=V.useRef(null),m=V.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});Bh(()=>{i&&p.current.focus()},[i]),V.useImperativeHandle(n,()=>({adjustStyleForScrollbar:(y,{direction:b})=>{const w=!p.current.style.width;if(y.clientHeight<p.current.clientHeight&&w){const _=`${IG(ca(y))}px`;p.current.style[b==="rtl"?"paddingLeft":"paddingRight"]=_,p.current.style.width=`calc(100% + ${_})`}return p.current}}),[]);const f=y=>{const b=p.current,w=y.key,_=ca(b).activeElement;if(w==="ArrowDown")y.preventDefault(),Jg(b,_,s,a,xE);else if(w==="ArrowUp")y.preventDefault(),Jg(b,_,s,a,JR);else if(w==="Home")y.preventDefault(),Jg(b,null,s,a,xE);else if(w==="End")y.preventDefault(),Jg(b,null,s,a,JR);else if(w.length===1){const S=m.current,E=w.toLowerCase(),A=performance.now();S.keys.length>0&&(A-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&E!==S.keys[0]&&(S.repeating=!1)),S.lastTime=A,S.keys.push(E);const C=_&&!S.repeating&&ZG(_,S);S.previousKeyMatched&&(C||Jg(b,_,!1,a,xE,S))?y.preventDefault():S.previousKeyMatched=!1}u&&u(y)},g=No(p,r);let v=-1;V.Children.forEach(l,(y,b)=>{if(!V.isValidElement(y)){v===b&&(v+=1,v>=l.length&&(v=-1));return}y.props.disabled||(d==="selectedMenu"&&y.props.selected||v===-1)&&(v=b),v===b&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(v+=1,v>=l.length&&(v=-1))});const x=V.Children.map(l,(y,b)=>{if(b===v){const w={};return o&&(w.autoFocus=!0),y.props.tabIndex===void 0&&d==="selectedMenu"&&(w.tabIndex=0),V.cloneElement(y,w)}return y});return z.jsx(Gme,oe({role:"menu",ref:g,className:c,onKeyDown:f,tabIndex:i?0:-1},h,{children:x}))});function $me(e){return Gr("MuiPopover",e)}qr("MuiPopover",["root","paper"]);const Xme=["onEntering"],Kme=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Qme=["slotProps"];function ez(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.height/2:t==="bottom"&&(r=e.height),r}function tz(e,t){let r=0;return typeof t=="number"?r=t:t==="center"?r=e.width/2:t==="right"&&(r=e.width),r}function rz(e){return[e.horizontal,e.vertical].map(t=>typeof t=="number"?`${t}px`:t).join(" ")}function wE(e){return typeof e=="function"?e():e}const Zme=e=>{const{classes:t}=e;return nn({root:["root"],paper:["paper"]},$me,t)},Jme=Rt(Xfe,{name:"MuiPopover",slot:"Root",overridesResolver:(e,t)=>t.root})({}),JG=Rt(YG,{name:"MuiPopover",slot:"Paper",overridesResolver:(e,t)=>t.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),ege=V.forwardRef(function(t,r){var n,i,o;const l=on({props:t,name:"MuiPopover"}),{action:c,anchorEl:a,anchorOrigin:s={vertical:"top",horizontal:"left"},anchorPosition:u,anchorReference:d="anchorEl",children:h,className:p,container:m,elevation:f=8,marginThreshold:g=16,open:v,PaperProps:x={},slots:y,slotProps:b,transformOrigin:w={vertical:"top",horizontal:"left"},TransitionComponent:_=QG,transitionDuration:S="auto",TransitionProps:{onEntering:E}={},disableScrollLock:A=!1}=l,C=At(l.TransitionProps,Xme),M=At(l,Kme),T=(n=b==null?void 0:b.paper)!=null?n:x,k=V.useRef(),P=No(k,T.ref),D=oe({},l,{anchorOrigin:s,anchorReference:d,elevation:f,marginThreshold:g,externalPaperSlotProps:T,transformOrigin:w,TransitionComponent:_,transitionDuration:S,TransitionProps:C}),I=Zme(D),O=V.useCallback(()=>{if(d==="anchorPosition")return u;const ie=wE(a),de=(ie&&ie.nodeType===1?ie:ca(k.current).body).getBoundingClientRect();return{top:de.top+ez(de,s.vertical),left:de.left+tz(de,s.horizontal)}},[a,s.horizontal,s.vertical,u,d]),j=V.useCallback(ie=>({vertical:ez(ie,w.vertical),horizontal:tz(ie,w.horizontal)}),[w.horizontal,w.vertical]),N=V.useCallback(ie=>{const le={width:ie.offsetWidth,height:ie.offsetHeight},de=j(le);if(d==="none")return{top:null,left:null,transformOrigin:rz(de)};const De=O();let Me=De.top-de.vertical,Ee=De.left-de.horizontal;const Te=Me+le.height,$e=Ee+le.width,ze=Fh(wE(a)),K=ze.innerHeight-g,W=ze.innerWidth-g;if(g!==null&&Me<g){const se=Me-g;Me-=se,de.vertical+=se}else if(g!==null&&Te>K){const se=Te-K;Me-=se,de.vertical+=se}if(g!==null&&Ee<g){const se=Ee-g;Ee-=se,de.horizontal+=se}else if($e>W){const se=$e-W;Ee-=se,de.horizontal+=se}return{top:`${Math.round(Me)}px`,left:`${Math.round(Ee)}px`,transformOrigin:rz(de)}},[a,d,O,j,g]),[R,F]=V.useState(v),U=V.useCallback(()=>{const ie=k.current;if(!ie)return;const le=N(ie);le.top!==null&&(ie.style.top=le.top),le.left!==null&&(ie.style.left=le.left),ie.style.transformOrigin=le.transformOrigin,F(!0)},[N]);V.useEffect(()=>(A&&window.addEventListener("scroll",U),()=>window.removeEventListener("scroll",U)),[a,A,U]);const B=(ie,le)=>{E&&E(ie,le),U()},H=()=>{F(!1)};V.useEffect(()=>{v&&U()}),V.useImperativeHandle(c,()=>v?{updatePosition:()=>{U()}}:null,[v,U]),V.useEffect(()=>{if(!v)return;const ie=kG(()=>{U()}),le=Fh(a);return le.addEventListener("resize",ie),()=>{ie.clear(),le.removeEventListener("resize",ie)}},[a,v,U]);let X=S;S==="auto"&&!_.muiSupportAuto&&(X=void 0);const G=m||(a?ca(wE(a)).body:void 0),Z=(i=y==null?void 0:y.root)!=null?i:Jme,J=(o=y==null?void 0:y.paper)!=null?o:JG,ee=Bm({elementType:J,externalSlotProps:oe({},T,{style:R?T.style:oe({},T.style,{opacity:0})}),additionalProps:{elevation:f,ref:P},ownerState:D,className:Qt(I.paper,T==null?void 0:T.className)}),q=Bm({elementType:Z,externalSlotProps:(b==null?void 0:b.root)||{},externalForwardedProps:M,additionalProps:{ref:r,slotProps:{backdrop:{invisible:!0}},container:G,open:v},ownerState:D,className:Qt(I.root,p)}),{slotProps:Y}=q,Q=At(q,Qme);return z.jsx(Z,oe({},Q,!Yw(Z)&&{slotProps:Y,disableScrollLock:A},{children:z.jsx(_,oe({appear:!0,in:v,onEntering:B,onExited:H,timeout:X},C,{children:z.jsx(J,oe({},ee,{children:h}))}))}))});function tge(e){return Gr("MuiMenu",e)}qr("MuiMenu",["root","paper","list"]);const rge=["onEntering"],nge=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],ige={vertical:"top",horizontal:"right"},oge={vertical:"top",horizontal:"left"},age=e=>{const{classes:t}=e;return nn({root:["root"],paper:["paper"],list:["list"]},tge,t)},sge=Rt(ege,{shouldForwardProp:e=>Is(e)||e==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(e,t)=>t.root})({}),lge=Rt(JG,{name:"MuiMenu",slot:"Paper",overridesResolver:(e,t)=>t.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),cge=Rt(Yme,{name:"MuiMenu",slot:"List",overridesResolver:(e,t)=>t.list})({outline:0}),uge=V.forwardRef(function(t,r){var n,i;const o=on({props:t,name:"MuiMenu"}),{autoFocus:l=!0,children:c,className:a,disableAutoFocusItem:s=!1,MenuListProps:u={},onClose:d,open:h,PaperProps:p={},PopoverClasses:m,transitionDuration:f="auto",TransitionProps:{onEntering:g}={},variant:v="selectedMenu",slots:x={},slotProps:y={}}=o,b=At(o.TransitionProps,rge),w=At(o,nge),_=Gde(),S=oe({},o,{autoFocus:l,disableAutoFocusItem:s,MenuListProps:u,onEntering:g,PaperProps:p,transitionDuration:f,TransitionProps:b,variant:v}),E=age(S),A=l&&!s&&h,C=V.useRef(null),M=(j,N)=>{C.current&&C.current.adjustStyleForScrollbar(j,{direction:_?"rtl":"ltr"}),g&&g(j,N)},T=j=>{j.key==="Tab"&&(j.preventDefault(),d&&d(j,"tabKeyDown"))};let k=-1;V.Children.map(c,(j,N)=>{V.isValidElement(j)&&(j.props.disabled||(v==="selectedMenu"&&j.props.selected||k===-1)&&(k=N))});const P=(n=x.paper)!=null?n:lge,D=(i=y.paper)!=null?i:p,I=Bm({elementType:x.root,externalSlotProps:y.root,ownerState:S,className:[E.root,a]}),O=Bm({elementType:P,externalSlotProps:D,ownerState:S,className:E.paper});return z.jsx(sge,oe({onClose:d,anchorOrigin:{vertical:"bottom",horizontal:_?"right":"left"},transformOrigin:_?ige:oge,slots:{paper:P,root:x.root},slotProps:{root:I,paper:O},open:h,ref:r,transitionDuration:f,TransitionProps:oe({onEntering:M},b),ownerState:S},w,{classes:m,children:z.jsx(cge,oe({onKeyDown:T,actions:C,autoFocus:l&&(k===-1||s),autoFocusItem:A,variant:v},u,{className:Qt(E.list,u.className),children:c}))}))});function dge(e){return Gr("MuiNativeSelect",e)}const N5=qr("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),hge=["className","disabled","error","IconComponent","inputRef","variant"],pge=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:l}=e,c={select:["select",r,n&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${er(r)}`,o&&"iconOpen",n&&"disabled"]};return nn(c,dge,t)},eq=({ownerState:e,theme:t})=>oe({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":oe({},t.vars?{backgroundColor:`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:t.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${N5.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(t.vars||t).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},e.variant==="filled"&&{"&&&":{paddingRight:32}},e.variant==="outlined"&&{borderRadius:(t.vars||t).shape.borderRadius,"&:focus":{borderRadius:(t.vars||t).shape.borderRadius},"&&&":{paddingRight:32}}),fge=Rt("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Is,overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.select,t[r.variant],r.error&&t.error,{[`&.${N5.multiple}`]:t.multiple}]}})(eq),tq=({ownerState:e,theme:t})=>oe({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(t.vars||t).palette.action.active,[`&.${N5.disabled}`]:{color:(t.vars||t).palette.action.disabled}},e.open&&{transform:"rotate(180deg)"},e.variant==="filled"&&{right:7},e.variant==="outlined"&&{right:7}),mge=Rt("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${er(r.variant)}`],r.open&&t.iconOpen]}})(tq),gge=V.forwardRef(function(t,r){const{className:n,disabled:i,error:o,IconComponent:l,inputRef:c,variant:a="standard"}=t,s=At(t,hge),u=oe({},t,{disabled:i,variant:a,error:o}),d=pge(u);return z.jsxs(V.Fragment,{children:[z.jsx(fge,oe({ownerState:u,className:Qt(d.select,n),disabled:i,ref:c||r},s)),t.multiple?null:z.jsx(mge,{as:l,ownerState:u,className:d.icon})]})});var nz;const vge=["children","classes","className","label","notched"],yge=Rt("fieldset",{shouldForwardProp:Is})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),bge=Rt("legend",{shouldForwardProp:Is})(({ownerState:e,theme:t})=>oe({float:"unset",width:"auto",overflow:"hidden"},!e.withLabel&&{padding:0,lineHeight:"11px",transition:t.transitions.create("width",{duration:150,easing:t.transitions.easing.easeOut})},e.withLabel&&oe({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:t.transitions.create("max-width",{duration:50,easing:t.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},e.notched&&{maxWidth:"100%",transition:t.transitions.create("max-width",{duration:100,easing:t.transitions.easing.easeOut,delay:50})})));function xge(e){const{className:t,label:r,notched:n}=e,i=At(e,vge),o=r!=null&&r!=="",l=oe({},e,{notched:n,withLabel:o});return z.jsx(yge,oe({"aria-hidden":!0,className:t,ownerState:l},i,{children:z.jsx(bge,{ownerState:l,children:o?z.jsx("span",{children:r}):nz||(nz=z.jsx("span",{className:"notranslate",children:"​"}))})}))}const wge=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],_ge=e=>{const{classes:t}=e,n=nn({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},xfe,t);return oe({},t,n)},Sge=Rt(SS,{shouldForwardProp:e=>Is(e)||e==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:wS})(({theme:e,ownerState:t})=>{const r=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return oe({position:"relative",borderRadius:(e.vars||e).shape.borderRadius,[`&:hover .${Yc.notchedOutline}`]:{borderColor:(e.vars||e).palette.text.primary},"@media (hover: none)":{[`&:hover .${Yc.notchedOutline}`]:{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:r}},[`&.${Yc.focused} .${Yc.notchedOutline}`]:{borderColor:(e.vars||e).palette[t.color].main,borderWidth:2},[`&.${Yc.error} .${Yc.notchedOutline}`]:{borderColor:(e.vars||e).palette.error.main},[`&.${Yc.disabled} .${Yc.notchedOutline}`]:{borderColor:(e.vars||e).palette.action.disabled}},t.startAdornment&&{paddingLeft:14},t.endAdornment&&{paddingRight:14},t.multiline&&oe({padding:"16.5px 14px"},t.size==="small"&&{padding:"8.5px 14px"}))}),Ege=Rt(xge,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(e,t)=>t.notchedOutline})(({theme:e})=>{const t=e.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:e.vars?`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.23)`:t}}),Cge=Rt(ES,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:_S})(({theme:e,ownerState:t})=>oe({padding:"16.5px 14px"},!e.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:e.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:e.palette.mode==="light"?null:"#fff",caretColor:e.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},e.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[e.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},t.size==="small"&&{padding:"8.5px 14px"},t.multiline&&{padding:0},t.startAdornment&&{paddingLeft:0},t.endAdornment&&{paddingRight:0})),B5=V.forwardRef(function(t,r){var n,i,o,l,c;const a=on({props:t,name:"MuiOutlinedInput"}),{components:s={},fullWidth:u=!1,inputComponent:d="input",label:h,multiline:p=!1,notched:m,slots:f={},type:g="text"}=a,v=At(a,wge),x=_ge(a),y=pg(),b=hg({props:a,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),w=oe({},a,{color:b.color||"primary",disabled:b.disabled,error:b.error,focused:b.focused,formControl:y,fullWidth:u,hiddenLabel:b.hiddenLabel,multiline:p,size:b.size,type:g}),_=(n=(i=f.root)!=null?i:s.Root)!=null?n:Sge,S=(o=(l=f.input)!=null?l:s.Input)!=null?o:Cge;return z.jsx(R5,oe({slots:{root:_,input:S},renderSuffix:E=>z.jsx(Ege,{ownerState:w,className:x.notchedOutline,label:h!=null&&h!==""&&b.required?c||(c=z.jsxs(V.Fragment,{children:[h," ","*"]})):h,notched:typeof m<"u"?m:!!(E.startAdornment||E.filled||E.focused)}),fullWidth:u,inputComponent:d,multiline:p,ref:r,type:g},v,{classes:oe({},x,{notchedOutline:null})}))});B5.muiName="Input";function Age(e){return Gr("MuiSelect",e)}const e0=qr("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var iz;const Mge=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Tge=Rt("div",{name:"MuiSelect",slot:"Select",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[{[`&.${e0.select}`]:t.select},{[`&.${e0.select}`]:t[r.variant]},{[`&.${e0.error}`]:t.error},{[`&.${e0.multiple}`]:t.multiple}]}})(eq,{[`&.${e0.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),Pge=Rt("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(e,t)=>{const{ownerState:r}=e;return[t.icon,r.variant&&t[`icon${er(r.variant)}`],r.open&&t.iconOpen]}})(tq),kge=Rt("input",{shouldForwardProp:e=>WG(e)&&e!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(e,t)=>t.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function oz(e,t){return typeof t=="object"&&t!==null?e===t:String(e)===String(t)}function Dge(e){return e==null||typeof e=="string"&&!e.trim()}const jge=e=>{const{classes:t,variant:r,disabled:n,multiple:i,open:o,error:l}=e,c={select:["select",r,n&&"disabled",i&&"multiple",l&&"error"],icon:["icon",`icon${er(r)}`,o&&"iconOpen",n&&"disabled"],nativeInput:["nativeInput"]};return nn(c,Age,t)},Ige=V.forwardRef(function(t,r){var n;const{"aria-describedby":i,"aria-label":o,autoFocus:l,autoWidth:c,children:a,className:s,defaultOpen:u,defaultValue:d,disabled:h,displayEmpty:p,error:m=!1,IconComponent:f,inputRef:g,labelId:v,MenuProps:x={},multiple:y,name:b,onBlur:w,onChange:_,onClose:S,onFocus:E,onOpen:A,open:C,readOnly:M,renderValue:T,SelectDisplayProps:k={},tabIndex:P,value:D,variant:I="standard"}=t,O=At(t,Mge),[j,N]=PR({controlled:D,default:d,name:"Select"}),[R,F]=PR({controlled:C,default:u,name:"Select"}),U=V.useRef(null),B=V.useRef(null),[H,X]=V.useState(null),{current:G}=V.useRef(C!=null),[Z,J]=V.useState(),ee=No(r,g),q=V.useCallback(Ce=>{B.current=Ce,Ce&&X(Ce)},[]),Y=H==null?void 0:H.parentNode;V.useImperativeHandle(ee,()=>({focus:()=>{B.current.focus()},node:U.current,value:j}),[j]),V.useEffect(()=>{u&&R&&H&&!G&&(J(c?null:Y.clientWidth),B.current.focus())},[H,c]),V.useEffect(()=>{l&&B.current.focus()},[l]),V.useEffect(()=>{if(!v)return;const Ce=ca(B.current).getElementById(v);if(Ce){const Ue=()=>{getSelection().isCollapsed&&B.current.focus()};return Ce.addEventListener("click",Ue),()=>{Ce.removeEventListener("click",Ue)}}},[v]);const Q=(Ce,Ue)=>{Ce?A&&A(Ue):S&&S(Ue),G||(J(c?null:Y.clientWidth),F(Ce))},ie=Ce=>{Ce.button===0&&(Ce.preventDefault(),B.current.focus(),Q(!0,Ce))},le=Ce=>{Q(!1,Ce)},de=V.Children.toArray(a),De=Ce=>{const Ue=de.find(Ge=>Ge.props.value===Ce.target.value);Ue!==void 0&&(N(Ue.props.value),_&&_(Ce,Ue))},Me=Ce=>Ue=>{let Ge;if(Ue.currentTarget.hasAttribute("tabindex")){if(y){Ge=Array.isArray(j)?j.slice():[];const st=j.indexOf(Ce.props.value);st===-1?Ge.push(Ce.props.value):Ge.splice(st,1)}else Ge=Ce.props.value;if(Ce.props.onClick&&Ce.props.onClick(Ue),j!==Ge&&(N(Ge),_)){const st=Ue.nativeEvent||Ue,He=new st.constructor(st.type,st);Object.defineProperty(He,"target",{writable:!0,value:{value:Ge,name:b}}),_(He,Ce)}y||Q(!1,Ue)}},Ee=Ce=>{M||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Ce.key)!==-1&&(Ce.preventDefault(),Q(!0,Ce))},Te=H!==null&&R,$e=Ce=>{!Te&&w&&(Object.defineProperty(Ce,"target",{writable:!0,value:{value:j,name:b}}),w(Ce))};delete O["aria-invalid"];let ze,K;const W=[];let se=!1;($w({value:j})||p)&&(T?ze=T(j):se=!0);const Se=de.map(Ce=>{if(!V.isValidElement(Ce))return null;let Ue;if(y){if(!Array.isArray(j))throw new Error(Nh(2));Ue=j.some(Ge=>oz(Ge,Ce.props.value)),Ue&&se&&W.push(Ce.props.children)}else Ue=oz(j,Ce.props.value),Ue&&se&&(K=Ce.props.children);return V.cloneElement(Ce,{"aria-selected":Ue?"true":"false",onClick:Me(Ce),onKeyUp:Ge=>{Ge.key===" "&&Ge.preventDefault(),Ce.props.onKeyUp&&Ce.props.onKeyUp(Ge)},role:"option",selected:Ue,value:void 0,"data-value":Ce.props.value})});se&&(y?W.length===0?ze=null:ze=W.reduce((Ce,Ue,Ge)=>(Ce.push(Ue),Ge<W.length-1&&Ce.push(", "),Ce),[]):ze=K);let te=Z;!c&&G&&H&&(te=Y.clientWidth);let ce;typeof P<"u"?ce=P:ce=h?null:0;const we=k.id||(b?`mui-component-select-${b}`:void 0),fe=oe({},t,{variant:I,value:j,open:Te,error:m}),he=jge(fe),Ne=oe({},x.PaperProps,(n=x.slotProps)==null?void 0:n.paper),Xe=DG();return z.jsxs(V.Fragment,{children:[z.jsx(Tge,oe({ref:q,tabIndex:ce,role:"combobox","aria-controls":Xe,"aria-disabled":h?"true":void 0,"aria-expanded":Te?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[v,we].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:Ee,onMouseDown:h||M?null:ie,onBlur:$e,onFocus:E},k,{ownerState:fe,className:Qt(k.className,he.select,s),id:we,children:Dge(ze)?iz||(iz=z.jsx("span",{className:"notranslate",children:"​"})):ze})),z.jsx(kge,oe({"aria-invalid":m,value:Array.isArray(j)?j.join(","):j,name:b,ref:U,"aria-hidden":!0,onChange:De,tabIndex:-1,disabled:h,className:he.nativeInput,autoFocus:l,ownerState:fe},O)),z.jsx(Pge,{as:f,className:he.icon,ownerState:fe}),z.jsx(uge,oe({id:`menu-${b||""}`,anchorEl:Y,open:Te,onClose:le,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},x,{MenuListProps:oe({"aria-labelledby":v,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:Xe},x.MenuListProps),slotProps:oe({},x.slotProps,{paper:oe({},Ne,{style:oe({minWidth:te},Ne!=null?Ne.style:null)})}),children:Se}))]})}),Oge=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Rge=["root"],zge=e=>{const{classes:t}=e;return t},F5={name:"MuiSelect",overridesResolver:(e,t)=>t.root,shouldForwardProp:e=>Is(e)&&e!=="variant",slot:"Root"},Lge=Rt(L5,F5)(""),Nge=Rt(B5,F5)(""),Bge=Rt(z5,F5)(""),rq=V.forwardRef(function(t,r){const n=on({name:"MuiSelect",props:t}),{autoWidth:i=!1,children:o,classes:l={},className:c,defaultOpen:a=!1,displayEmpty:s=!1,IconComponent:u=_fe,id:d,input:h,inputProps:p,label:m,labelId:f,MenuProps:g,multiple:v=!1,native:x=!1,onClose:y,onOpen:b,open:w,renderValue:_,SelectDisplayProps:S,variant:E="outlined"}=n,A=At(n,Oge),C=x?gge:Ige,M=pg(),T=hg({props:n,muiFormControl:M,states:["variant","error"]}),k=T.variant||E,P=oe({},n,{variant:k,classes:l}),D=zge(P),I=At(D,Rge),O=h||{standard:z.jsx(Lge,{ownerState:P}),outlined:z.jsx(Nge,{label:m,ownerState:P}),filled:z.jsx(Bge,{ownerState:P})}[k],j=No(r,O.ref);return z.jsx(V.Fragment,{children:V.cloneElement(O,oe({inputComponent:C,inputProps:oe({children:o,error:T.error,IconComponent:u,variant:k,type:void 0,multiple:v},x?{id:d}:{autoWidth:i,defaultOpen:a,displayEmpty:s,labelId:f,MenuProps:g,onClose:y,onOpen:b,open:w,renderValue:_,SelectDisplayProps:oe({id:d},S)},p,{classes:p?la(I,p.classes):I},h?h.props.inputProps:{})},(v&&x||s)&&k==="outlined"?{notched:!0}:{},{ref:j,className:Qt(O.props.className,c,D.root)},!h&&{variant:k},A))})});rq.muiName="Select";function Fge(e){return Gr("MuiTextField",e)}qr("MuiTextField",["root"]);const Uge=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Vge={standard:L5,filled:z5,outlined:B5},Hge=e=>{const{classes:t}=e;return nn({root:["root"]},Fge,t)},Wge=Rt(ime,{name:"MuiTextField",slot:"Root",overridesResolver:(e,t)=>t.root})({}),Gge=V.forwardRef(function(t,r){const n=on({props:t,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:l,className:c,color:a="primary",defaultValue:s,disabled:u=!1,error:d=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:m,id:f,InputLabelProps:g,inputProps:v,InputProps:x,inputRef:y,label:b,maxRows:w,minRows:_,multiline:S=!1,name:E,onBlur:A,onChange:C,onFocus:M,placeholder:T,required:k=!1,rows:P,select:D=!1,SelectProps:I,type:O,value:j,variant:N="outlined"}=n,R=At(n,Uge),F=oe({},n,{autoFocus:o,color:a,disabled:u,error:d,fullWidth:p,multiline:S,required:k,select:D,variant:N}),U=Hge(F),B={};N==="outlined"&&(g&&typeof g.shrink<"u"&&(B.notched=g.shrink),B.label=b),D&&((!I||!I.native)&&(B.id=void 0),B["aria-describedby"]=void 0);const H=DG(f),X=m&&H?`${H}-helper-text`:void 0,G=b&&H?`${H}-label`:void 0,Z=Vge[N],J=z.jsx(Z,oe({"aria-describedby":X,autoComplete:i,autoFocus:o,defaultValue:s,fullWidth:p,multiline:S,name:E,rows:P,maxRows:w,minRows:_,type:O,value:j,id:H,inputRef:y,onBlur:A,onChange:C,onFocus:M,placeholder:T,inputProps:v},B,x));return z.jsxs(Wge,oe({className:Qt(U.root,c),disabled:u,error:d,fullWidth:p,ref:r,required:k,color:a,variant:N,ownerState:F},R,{children:[b!=null&&b!==""&&z.jsx(Bme,oe({htmlFor:H,id:G},g,{children:b})),D?z.jsx(rq,oe({"aria-describedby":X,id:H,labelId:G,value:j,input:J},I,{children:l})):J,m&&z.jsx(cme,oe({id:X},h,{children:m}))]}))}),qge="/infobot.jpg",Yge=()=>z.jsx("div",{className:"carrer-cont",children:z.jsxs("div",{className:"carrer-cont-hero",children:[z.jsx("p",{style:{visibility:"hidden"},className:"hid",children:"orem ipsum dolor sit amet consectetur adipisicing elit. Corporis ex laboriosam corrupti sint, numquam sit commodi repellendus et maxime explicabo, a natus omnis animi aliquid officiis vel sunt doloribus officia nam quo earum, nemo quia aspernatur cumque. Eveniet cupiditate magnam vitae natus? Modi enim quos ducimus amet ipsum laudantium consequatur laborum. Vel sint temporibus explicabo facere ipsum perspiciatis modi earum ex, numquam, distinctio ab? Quae minus eum omnis nemo? In repudiandae vel eaque praesentium porro illum, aspernatur facilis."}),z.jsxs("div",{className:"carrer-cont-card",children:[z.jsx("h1",{className:"dark-text",children:"Presenting to You "}),z.jsxs("div",{className:"carrer-card-desc",children:[z.jsx("p",{className:"dark-text",children:"A unbiased, informative and more than an assistant. A guide to all your queries"}),z.jsx("img",{src:qge,alt:"",className:"carrer-chat",style:{height:"70px",borderRadius:"50%"}})," ",z.jsx("span",{className:"dark-text",children:z.jsx("a",{href:"https://carrer-guide.streamlit.app",rel:"noreferrer noopener",target:"_blank",children:"Click to Chat"})})]})]})]})}),$ge=[{jobTitle:"Software Engineer",jobLocation:"San Francisco, CA",jobTimings:"Full-time",jobDescription:"Join our dynamic team as a Software Engineer and work on cutting-edge projects.",interviewDetails:"Interviews will be conducted remotely via video calls.",minExperience:"2 years",maxExperience:"5 years",monthlySalary:"$5000 - $7000",preferredLanguage:"JavaScript",skills:"React, Node.js, MongoDB"},{jobTitle:"Data Scientist",jobLocation:"New York, NY",jobTimings:"Part-time",jobDescription:"We are seeking a talented Data Scientist to join our analytics team.",interviewDetails:"Candidates will be required to complete a technical assessment.",minExperience:"3 years",maxExperience:"7 years",monthlySalary:"$6000 - $8000",preferredLanguage:"Python",skills:"Machine Learning, SQL, Pandas"},{jobTitle:"UX/UI Designer",jobLocation:"Seattle, WA",jobTimings:"Full-time",jobDescription:"Exciting opportunity for a creative UX/UI Designer to join our design team.",interviewDetails:"Portfolio review will be part of the interview process.",minExperience:"2 years",maxExperience:"4 years",monthlySalary:"$4500 - $6500",preferredLanguage:"HTML, CSS, JavaScript",skills:"Adobe XD, Sketch, Figma"},{jobTitle:"Marketing Manager",jobLocation:"Chicago, IL",jobTimings:"Full-time",jobDescription:"We are looking for an experienced Marketing Manager to develop and execute marketing strategies.",interviewDetails:"Candidates should be prepared to present their marketing plans.",minExperience:"5 years",maxExperience:"8 years",monthlySalary:"$7000 - $9000",preferredLanguage:"N/A",skills:"Strategic planning, Social media marketing, SEO"},{jobTitle:"Customer Support Representative",jobLocation:"Austin, TX",jobTimings:"Full-time",jobDescription:"Join our customer support team and provide exceptional service to our clients.",interviewDetails:"Candidates will undergo a customer service skills assessment.",minExperience:"1 year",maxExperience:"3 years",monthlySalary:"$3500 - $5000",preferredLanguage:"English",skills:"Communication, Problem-solving, Empathy"}],Xge=[{name:"Alice Smith",desc:"Software Developer",resume:"https://example.com/alice_smith_resume.pdf",country:"United States",email:"alice.smith@example.com"},{name:"Bob Johnson",desc:"Data Scientist",resume:"https://example.com/bob_johnson_resume.pdf",country:"Canada",email:"bob.johnson@example.com"},{name:"Charlie Brown",desc:"Web Designer",resume:"https://example.com/charlie_brown_resume.pdf",country:"United Kingdom",email:"charlie.brown@example.com"},{name:"David Lee",desc:"Project Manager",resume:"https://example.com/david_lee_resume.pdf",country:"Australia",email:"david.lee@example.com"},{name:"Emily Wang",desc:"Marketing Specialist",resume:"https://example.com/emily_wang_resume.pdf",country:"Germany",email:"emily.wang@example.com"},{name:"Frank Miller",desc:"UX/UI Designer",resume:"https://example.com/frank_miller_resume.pdf",country:"France",email:"frank.miller@example.com"},{name:"Grace Taylor",desc:"Frontend Developer",resume:"https://example.com/grace_taylor_resume.pdf",country:"Spain",email:"grace.taylor@example.com"},{name:"Hannah Clark",desc:"HR Manager",resume:"https://example.com/hannah_clark_resume.pdf",country:"Italy",email:"hannah.clark@example.com"},{name:"Ian Wilson",desc:"Technical Writer",resume:"https://example.com/ian_wilson_resume.pdf",country:"Japan",email:"ian.wilson@example.com"}],az=[{title:"The Impact of Artificial Intelligence on Healthcare",desc:"Artificial intelligence (AI) is revolutionizing healthcare by enabling faster and more accurate diagnoses, personalized treatment plans, and improved patient outcomes. From medical imaging analysis to predictive analytics, AI is transforming every aspect of the healthcare industry.",image:"ai_healthcare.jpg"},{title:"The Future of Remote Work: Trends and Challenges",desc:"Remote work has become increasingly prevalent, driven by advancements in technology and shifting workplace dynamics. While remote work offers flexibility and increased productivity, it also presents challenges such as maintaining work-life balance, ensuring effective communication, and addressing cybersecurity concerns.",image:"remote_work.jpg"},{title:"Blockchain: Transforming Industries Beyond Cryptocurrency",desc:"Blockchain technology, best known for its role in cryptocurrencies like Bitcoin, has far-reaching implications beyond finance. From supply chain management to digital identity verification, blockchain is revolutionizing various industries by providing transparency, security, and decentralized control.",image:"blockchain.jpg"}],Kge=({job:e,user:t,flag:r})=>{const{jobTitle:n="AI Developer",jobLocation:i="Luxemberg , US",jobTimings:o="9:00 AM - 4:00 PM",jobDescription:l="This is a Dummy Description",interviewDetails:c="Remote",minExperience:a="2",maxExperience:s="5",monthlySalary:u="35000",preferredLanguage:d="English",skills:h="Tensorflow/Pytorch , Python"}=e,p=async m=>{m.preventDefault()};return z.jsxs("div",{className:"job-post-card",children:[z.jsx("h2",{children:n}),z.jsxs("div",{className:"top-line",children:[z.jsxs("p",{children:[z.jsx(pH,{})," ",z.jsx("span",{children:i})]}),z.jsxs("p",{children:[z.jsx(Hk,{})," ",o]})]}),z.jsx("p",{children:l}),z.jsx("p",{children:c}),z.jsxs("div",{className:"top-line",children:[z.jsxs("p",{children:["Experience: ",a," - ",s]}),z.jsxs("p",{children:[" ",z.jsx(hH,{})," ",z.jsx("span",{children:u})," "]})," "]}),z.jsxs("p",{children:["Preferred Language: ",d]}),z.jsxs("p",{children:["Skills: ",h]}),z.jsx("button",{onClick:p,className:"smart-but",children:"Smart Apply"})]})},Qge=()=>{const[e,t]=V.useState([]),[r,n]=V.useState(!1),{user:i}=x2(),o=()=>{n(!0),setTimeout(()=>{n(!1)},2200)};return V.useEffect(()=>{(async c=>{try{const a=await op.post("http://localhost:3000/api/v1/job/fetchAllJobs",{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"http://localhost:5173/"}});console.log(a.data.data),t(a.data.data),console.log(i)}catch(a){console.log(a)}})()},[]),z.jsxs("div",{children:[z.jsx("hr",{}),z.jsxs(Kf,{to:"/userProfile",children:[" ",z.jsx("span",{className:"n-text",children:" Welcome back"}),z.jsx("span",{className:"hi-text",children:i?i.name:"DEV"})," ",z.jsxs("span",{className:"n-text",children:[" ",z.jsx(Bne,{})]})," "]})," ",z.jsx("hr",{}),z.jsx("h3",{className:"my-projects",children:"My Projects"}),z.jsx(Qle,{}),z.jsx("h3",{className:"my-projects",children:"Job Listings"}),z.jsx("div",{className:"job-gallery",children:$ge.map((l,c)=>z.jsx(Kge,{job:l,user:i,flag:o},c))}),r&&z.jsx("div",{className:"popup",children:z.jsx("p",{children:"Applied for Job Successfully!"})}),z.jsx(Yge,{})]})};op.defaults.withCredentials=!0;const Zge=()=>{const e=By(),{signIn:t,user:r}=x2(),[n,i]=V.useState({username:"",email:"",password:""}),o=c=>{i(a=>({...a,[c.target.name]:c.target.value}))},l=async c=>{c.preventDefault();try{e("/user");const a=await op.post("http://localhost:3000/api/v1/users/login",n,{headers:{"Content-Type":"application/json"}});t(a.data.data),console.log("User loggedIn successfully"),console.log(a.data.data),console.log(a.data.data.username)}catch(a){console.log(a)}};return z.jsx("div",{className:"sign-cont",children:z.jsxs("form",{action:"",className:"sign",onSubmit:l,children:[z.jsxs("div",{className:"sign-main-reg",children:[z.jsxs("div",{className:"opt-reg",children:[z.jsx("span",{className:"red"}),z.jsx("span",{className:"yellow"}),z.jsx("span",{className:"green"})]}),z.jsx("span",{className:"textreg",children:"sign@admin.dev"})]}),z.jsxs("div",{className:"sign-field",children:[" ",z.jsxs("label",{htmlFor:"'",children:["Email:",z.jsx("input",{name:"email",type:"email",onChange:o})]}),z.jsxs("label",{htmlFor:"'",children:["Username:",z.jsx("input",{name:"username",type:"text",onChange:o})]}),z.jsxs("label",{htmlFor:"'",children:["Password:",z.jsx("input",{name:"password",type:"password",onChange:o})]})]}),z.jsxs("div",{className:"sign-button-field",children:[" ",z.jsx("button",{className:"sign-button",type:"submit",children:"Submit"}),z.jsx("button",{className:"sign-button",children:"Sign Up"})]})]})})},Jge="modulepreload",e0e=function(e){return"/"+e},sz={},Qy=function(t,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));i=Promise.allSettled(r.map(a=>{if(a=e0e(a),a in sz)return;sz[a]=!0;const s=a.endsWith(".css"),u=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${a}"]${u}`))return;const d=document.createElement("link");if(d.rel=s?"stylesheet":Jge,s||(d.as="script"),d.crossOrigin="",d.href=a,c&&d.setAttribute("nonce",c),document.head.appendChild(d),s)return new Promise((h,p)=>{d.addEventListener("load",h),d.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${a}`)))})}))}function o(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return i.then(l=>{for(const c of l||[])c.status==="rejected"&&o(c.reason);return t().catch(o)})};var t0e=Object.create,CS=Object.defineProperty,r0e=Object.getOwnPropertyDescriptor,n0e=Object.getOwnPropertyNames,i0e=Object.getPrototypeOf,o0e=Object.prototype.hasOwnProperty,a0e=(e,t,r)=>t in e?CS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ni=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s0e=(e,t)=>{for(var r in t)CS(e,r,{get:t[r],enumerable:!0})},l0e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of n0e(t))!o0e.call(e,i)&&i!==r&&CS(e,i,{get:()=>t[i],enumerable:!(n=r0e(t,i))||n.enumerable});return e},di=(e,t,r)=>(r=e!=null?t0e(i0e(e)):{},l0e(t||!e||!e.__esModule?CS(r,"default",{value:e,enumerable:!0}):r,e)),Yi=(e,t,r)=>(a0e(e,typeof t!="symbol"?t+"":t,r),r),c0e=Ni((e,t)=>{(function(r,n){typeof e=="object"?t.exports=n():typeof define=="function"&&define.amd?define(n):r.Alea=n()})(e,function(){return r.importState=function(i){var o=new r;return o.importState(i),o},r;function r(){return function(i){var o=0,l=0,c=0,a=1;i.length==0&&(i=[+new Date]);var s=n();o=s(" "),l=s(" "),c=s(" ");for(var u=0;u<i.length;u++)o-=s(i[u]),o<0&&(o+=1),l-=s(i[u]),l<0&&(l+=1),c-=s(i[u]),c<0&&(c+=1);s=null;var d=function(){var h=2091639*o+a*23283064365386963e-26;return o=l,l=c,c=h-(a=h|0)};return d.next=d,d.uint32=function(){return d()*4294967296},d.fract53=function(){return d()+(d()*2097152|0)*11102230246251565e-32},d.version="Alea 0.9",d.args=i,d.exportState=function(){return[o,l,c,a]},d.importState=function(h){o=+h[0]||0,l=+h[1]||0,c=+h[2]||0,a=+h[3]||0},d}(Array.prototype.slice.call(arguments))}function n(){var i=4022871197,o=function(l){l=l.toString();for(var c=0;c<l.length;c++){i+=l.charCodeAt(c);var a=.02519603282416938*i;i=a>>>0,a-=i,a*=i,i=a>>>0,a-=i,i+=a*4294967296}return(i>>>0)*23283064365386963e-26};return o.version="Mash 0.9",o}})}),nq=Ni((e,t)=>{(function(r,n){typeof e=="object"&&typeof t<"u"?n(e):typeof define=="function"&&define.amd?define(["exports"],n):n((r=typeof globalThis<"u"?globalThis:r||self).SVDJS={})})(e,function(r){r.SVD=function(n,i,o,l,c){if(i=i===void 0||i,o=o===void 0||o,c=1e-64/(l=l||Math.pow(2,-52)),!n)throw new TypeError("Matrix a is not defined");var a,s,u,d,h,p,m,f,g,v,x,y,b=n[0].length,w=n.length;if(w<b)throw new TypeError("Invalid matrix: m < n");for(var _=[],S=[],E=[],A=i==="f"?w:b,C=v=m=0;C<w;C++)S[C]=new Array(A).fill(0);for(C=0;C<b;C++)E[C]=new Array(b).fill(0);var M,T=new Array(b).fill(0);for(C=0;C<w;C++)for(a=0;a<b;a++)S[C][a]=n[C][a];for(C=0;C<b;C++){for(_[C]=m,g=0,u=C+1,a=C;a<w;a++)g+=Math.pow(S[a][C],2);if(g<c)m=0;else for(f=(p=S[C][C])*(m=p<0?Math.sqrt(g):-Math.sqrt(g))-g,S[C][C]=p-m,a=u;a<b;a++){for(g=0,s=C;s<w;s++)g+=S[s][C]*S[s][a];for(p=g/f,s=C;s<w;s++)S[s][a]=S[s][a]+p*S[s][C]}for(T[C]=m,g=0,a=u;a<b;a++)g+=Math.pow(S[C][a],2);if(g<c)m=0;else{for(f=(p=S[C][C+1])*(m=p<0?Math.sqrt(g):-Math.sqrt(g))-g,S[C][C+1]=p-m,a=u;a<b;a++)_[a]=S[C][a]/f;for(a=u;a<w;a++){for(g=0,s=u;s<b;s++)g+=S[a][s]*S[C][s];for(s=u;s<b;s++)S[a][s]=S[a][s]+g*_[s]}}v<(x=Math.abs(T[C])+Math.abs(_[C]))&&(v=x)}if(o)for(C=b-1;0<=C;C--){if(m!==0){for(f=S[C][C+1]*m,a=u;a<b;a++)E[a][C]=S[C][a]/f;for(a=u;a<b;a++){for(g=0,s=u;s<b;s++)g+=S[C][s]*E[s][a];for(s=u;s<b;s++)E[s][a]=E[s][a]+g*E[s][C]}}for(a=u;a<b;a++)E[C][a]=0,E[a][C]=0;E[C][C]=1,m=_[C],u=C}if(i){if(i==="f")for(C=b;C<w;C++){for(a=b;a<w;a++)S[C][a]=0;S[C][C]=1}for(C=b-1;0<=C;C--){for(u=C+1,m=T[C],a=u;a<A;a++)S[C][a]=0;if(m!==0){for(f=S[C][C]*m,a=u;a<A;a++){for(g=0,s=u;s<w;s++)g+=S[s][C]*S[s][a];for(p=g/f,s=C;s<w;s++)S[s][a]=S[s][a]+p*S[s][C]}for(a=C;a<w;a++)S[a][C]=S[a][C]/m}else for(a=C;a<w;a++)S[a][C]=0;S[C][C]=S[C][C]+1}}for(l*=v,s=b-1;0<=s;s--)for(var k=0;k<50;k++){for(M=!1,u=s;0<=u;u--){if(Math.abs(_[u])<=l){M=!0;break}if(Math.abs(T[u-1])<=l)break}if(!M){for(h=0,d=u-(g=1),C=u;C<s+1&&(p=g*_[C],_[C]=h*_[C],!(Math.abs(p)<=l));C++)if(m=T[C],T[C]=Math.sqrt(p*p+m*m),h=m/(f=T[C]),g=-p/f,i)for(a=0;a<w;a++)x=S[a][d],y=S[a][C],S[a][d]=x*h+y*g,S[a][C]=-x*g+y*h}if(y=T[s],u===s){if(y<0&&(T[s]=-y,o))for(a=0;a<b;a++)E[a][s]=-E[a][s];break}for(v=T[u],p=(((x=T[s-1])-y)*(x+y)+((m=_[s-1])-(f=_[s]))*(m+f))/(2*f*x),m=Math.sqrt(p*p+1),p=((v-y)*(v+y)+f*(x/(p<0?p-m:p+m)-f))/v,C=u+(g=h=1);C<s+1;C++){if(m=_[C],x=T[C],f=g*m,m*=h,y=Math.sqrt(p*p+f*f),p=v*(h=p/(_[C-1]=y))+m*(g=f/y),m=-v*g+m*h,f=x*g,x*=h,o)for(a=0;a<b;a++)v=E[a][C-1],y=E[a][C],E[a][C-1]=v*h+y*g,E[a][C]=-v*g+y*h;if(y=Math.sqrt(p*p+f*f),p=(h=p/(T[C-1]=y))*m+(g=f/y)*x,v=-g*m+h*x,i)for(a=0;a<w;a++)x=S[a][C-1],y=S[a][C],S[a][C-1]=x*h+y*g,S[a][C]=-x*g+y*h}_[u]=0,_[s]=p,T[s]=v}for(C=0;C<b;C++)T[C]<l&&(T[C]=0);return{u:S,q:T,v:E}},r.VERSION="1.1.1",Object.defineProperty(r,"__esModule",{value:!0})})}),u0e=Ni((e,t)=>{(function(r,n){typeof e=="object"&&typeof t<"u"?t.exports=n():typeof define=="function"&&define.amd?define(n):(r=r||self,r.TinyQueue=n())})(e,function(){var r=function(i,o){if(i===void 0&&(i=[]),o===void 0&&(o=n),this.data=i,this.length=this.data.length,this.compare=o,this.length>0)for(var l=(this.length>>1)-1;l>=0;l--)this._down(l)};r.prototype.push=function(i){this.data.push(i),this.length++,this._up(this.length-1)},r.prototype.pop=function(){if(this.length!==0){var i=this.data[0],o=this.data.pop();return this.length--,this.length>0&&(this.data[0]=o,this._down(0)),i}},r.prototype.peek=function(){return this.data[0]},r.prototype._up=function(i){for(var o=this,l=o.data,c=o.compare,a=l[i];i>0;){var s=i-1>>1,u=l[s];if(c(a,u)>=0)break;l[i]=u,i=s}l[i]=a},r.prototype._down=function(i){for(var o=this,l=o.data,c=o.compare,a=this.length>>1,s=l[i];i<a;){var u=(i<<1)+1,d=l[u],h=u+1;if(h<this.length&&c(l[h],d)<0&&(u=h,d=l[h]),c(d,s)>=0)break;l[i]=d,i=u}l[i]=s};function n(i,o){return i<o?-1:i>o?1:0}return r})}),d0e=Ni((e,t)=>{var r=u0e();r.default&&(r=r.default),t.exports=n,t.exports.default=n;function n(s,u,d){u=u||1;for(var h,p,m,f,g=0;g<s[0].length;g++){var v=s[0][g];(!g||v[0]<h)&&(h=v[0]),(!g||v[1]<p)&&(p=v[1]),(!g||v[0]>m)&&(m=v[0]),(!g||v[1]>f)&&(f=v[1])}var x=m-h,y=f-p,b=Math.min(x,y),w=b/2;if(b===0){var _=[h,p];return _.distance=0,_}for(var S=new r(void 0,i),E=h;E<m;E+=b)for(var A=p;A<f;A+=b)S.push(new o(E+w,A+w,w,s));var C=c(s),M=new o(h+x/2,p+y/2,0,s);M.d>C.d&&(C=M);for(var T=S.length;S.length;){var k=S.pop();k.d>C.d&&(C=k,d&&console.log("found best %d after %d probes",Math.round(1e4*k.d)/1e4,T)),!(k.max-C.d<=u)&&(w=k.h/2,S.push(new o(k.x-w,k.y-w,w,s)),S.push(new o(k.x+w,k.y-w,w,s)),S.push(new o(k.x-w,k.y+w,w,s)),S.push(new o(k.x+w,k.y+w,w,s)),T+=4)}d&&(console.log("num probes: "+T),console.log("best distance: "+C.d));var P=[C.x,C.y];return P.distance=C.d,P}function i(s,u){return u.max-s.max}function o(s,u,d,h){this.x=s,this.y=u,this.h=d,this.d=l(s,u,h),this.max=this.d+this.h*Math.SQRT2}function l(s,u,d){for(var h=!1,p=1/0,m=0;m<d.length;m++)for(var f=d[m],g=0,v=f.length,x=v-1;g<v;x=g++){var y=f[g],b=f[x];y[1]>u!=b[1]>u&&s<(b[0]-y[0])*(u-y[1])/(b[1]-y[1])+y[0]&&(h=!h),p=Math.min(p,a(s,u,y,b))}return p===0?0:(h?1:-1)*Math.sqrt(p)}function c(s){for(var u=0,d=0,h=0,p=s[0],m=0,f=p.length,g=f-1;m<f;g=m++){var v=p[m],x=p[g],y=v[0]*x[1]-x[0]*v[1];d+=(v[0]+x[0])*y,h+=(v[1]+x[1])*y,u+=y*3}return u===0?new o(p[0][0],p[0][1],0,s):new o(d/u,h/u,0,s)}function a(s,u,d,h){var p=d[0],m=d[1],f=h[0]-p,g=h[1]-m;if(f!==0||g!==0){var v=((s-p)*f+(u-m)*g)/(f*f+g*g);v>1?(p=h[0],m=h[1]):v>0&&(p+=f*v,m+=g*v)}return f=s-p,g=u-m,f*f+g*g}}),h0e=Ni((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){if(n===null||n===!0||n===!1)return NaN;var i=Number(n);return isNaN(i)?i:i<0?Math.ceil(i):Math.floor(i)}t.exports=e.default}),p0e=Ni((e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;function r(n){var i=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return i.setUTCFullYear(n.getFullYear()),n.getTime()-i.getTime()}t.exports=e.default}),f0e=Ni(e=>{(function(){var t=function(){this.init()};t.prototype={init:function(){var d=this||r;return d._counter=1e3,d._html5AudioPool=[],d.html5PoolSize=10,d._codecs={},d._howls=[],d._muted=!1,d._volume=1,d._canPlayEvent="canplaythrough",d._navigator=typeof window<"u"&&window.navigator?window.navigator:null,d.masterGain=null,d.noAudio=!1,d.usingWebAudio=!0,d.autoSuspend=!0,d.ctx=null,d.autoUnlock=!0,d._setup(),d},volume:function(d){var h=this||r;if(d=parseFloat(d),h.ctx||u(),typeof d<"u"&&d>=0&&d<=1){if(h._volume=d,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(d,r.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),f=0;f<m.length;f++){var g=h._howls[p]._soundById(m[f]);g&&g._node&&(g._node.volume=g._volume*d)}return h}return h._volume},mute:function(d){var h=this||r;h.ctx||u(),h._muted=d,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(d?0:h._volume,r.ctx.currentTime);for(var p=0;p<h._howls.length;p++)if(!h._howls[p]._webAudio)for(var m=h._howls[p]._getSoundIds(),f=0;f<m.length;f++){var g=h._howls[p]._soundById(m[f]);g&&g._node&&(g._node.muted=d?!0:g._muted)}return h},stop:function(){for(var d=this||r,h=0;h<d._howls.length;h++)d._howls[h].stop();return d},unload:function(){for(var d=this||r,h=d._howls.length-1;h>=0;h--)d._howls[h].unload();return d.usingWebAudio&&d.ctx&&typeof d.ctx.close<"u"&&(d.ctx.close(),d.ctx=null,u()),d},codecs:function(d){return(this||r)._codecs[d.replace(/^x-/,"")]},_setup:function(){var d=this||r;if(d.state=d.ctx&&d.ctx.state||"suspended",d._autoSuspend(),!d.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(d._canPlayEvent="canplay")}catch{d.noAudio=!0}else d.noAudio=!0;try{var h=new Audio;h.muted&&(d.noAudio=!0)}catch{}return d.noAudio||d._setupCodecs(),d},_setupCodecs:function(){var d=this||r,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return d}if(!h||typeof h.canPlayType!="function")return d;var p=h.canPlayType("audio/mpeg;").replace(/^no$/,""),m=d._navigator?d._navigator.userAgent:"",f=m.match(/OPR\/([0-6].)/g),g=f&&parseInt(f[0].split("/")[1],10)<33,v=m.indexOf("Safari")!==-1&&m.indexOf("Chrome")===-1,x=m.match(/Version\/(.*?) /),y=v&&x&&parseInt(x[1],10)<15;return d._codecs={mp3:!!(!g&&(p||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!p,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!y&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!y&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},d},_unlockAudio:function(){var d=this||r;if(!(d._audioUnlocked||!d.ctx)){d._audioUnlocked=!1,d.autoUnlock=!1,!d._mobileUnloaded&&d.ctx.sampleRate!==44100&&(d._mobileUnloaded=!0,d.unload()),d._scratchBuffer=d.ctx.createBuffer(1,1,22050);var h=function(p){for(;d._html5AudioPool.length<d.html5PoolSize;)try{var m=new Audio;m._unlocked=!0,d._releaseHtml5Audio(m)}catch{d.noAudio=!0;break}for(var f=0;f<d._howls.length;f++)if(!d._howls[f]._webAudio)for(var g=d._howls[f]._getSoundIds(),v=0;v<g.length;v++){var x=d._howls[f]._soundById(g[v]);x&&x._node&&!x._node._unlocked&&(x._node._unlocked=!0,x._node.load())}d._autoResume();var y=d.ctx.createBufferSource();y.buffer=d._scratchBuffer,y.connect(d.ctx.destination),typeof y.start>"u"?y.noteOn(0):y.start(0),typeof d.ctx.resume=="function"&&d.ctx.resume(),y.onended=function(){y.disconnect(0),d._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var b=0;b<d._howls.length;b++)d._howls[b]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),d}},_obtainHtml5Audio:function(){var d=this||r;if(d._html5AudioPool.length)return d._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(d){var h=this||r;return d._unlocked&&h._html5AudioPool.push(d),h},_autoSuspend:function(){var d=this;if(!(!d.autoSuspend||!d.ctx||typeof d.ctx.suspend>"u"||!r.usingWebAudio)){for(var h=0;h<d._howls.length;h++)if(d._howls[h]._webAudio){for(var p=0;p<d._howls[h]._sounds.length;p++)if(!d._howls[h]._sounds[p]._paused)return d}return d._suspendTimer&&clearTimeout(d._suspendTimer),d._suspendTimer=setTimeout(function(){if(d.autoSuspend){d._suspendTimer=null,d.state="suspending";var m=function(){d.state="suspended",d._resumeAfterSuspend&&(delete d._resumeAfterSuspend,d._autoResume())};d.ctx.suspend().then(m,m)}},3e4),d}},_autoResume:function(){var d=this;if(!(!d.ctx||typeof d.ctx.resume>"u"||!r.usingWebAudio))return d.state==="running"&&d.ctx.state!=="interrupted"&&d._suspendTimer?(clearTimeout(d._suspendTimer),d._suspendTimer=null):d.state==="suspended"||d.state==="running"&&d.ctx.state==="interrupted"?(d.ctx.resume().then(function(){d.state="running";for(var h=0;h<d._howls.length;h++)d._howls[h]._emit("resume")}),d._suspendTimer&&(clearTimeout(d._suspendTimer),d._suspendTimer=null)):d.state==="suspending"&&(d._resumeAfterSuspend=!0),d}};var r=new t,n=function(d){var h=this;if(!d.src||d.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(d)};n.prototype={init:function(d){var h=this;return r.ctx||u(),h._autoplay=d.autoplay||!1,h._format=typeof d.format!="string"?d.format:[d.format],h._html5=d.html5||!1,h._muted=d.mute||!1,h._loop=d.loop||!1,h._pool=d.pool||5,h._preload=typeof d.preload=="boolean"||d.preload==="metadata"?d.preload:!0,h._rate=d.rate||1,h._sprite=d.sprite||{},h._src=typeof d.src!="string"?d.src:[d.src],h._volume=d.volume!==void 0?d.volume:1,h._xhr={method:d.xhr&&d.xhr.method?d.xhr.method:"GET",headers:d.xhr&&d.xhr.headers?d.xhr.headers:null,withCredentials:d.xhr&&d.xhr.withCredentials?d.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=d.onend?[{fn:d.onend}]:[],h._onfade=d.onfade?[{fn:d.onfade}]:[],h._onload=d.onload?[{fn:d.onload}]:[],h._onloaderror=d.onloaderror?[{fn:d.onloaderror}]:[],h._onplayerror=d.onplayerror?[{fn:d.onplayerror}]:[],h._onpause=d.onpause?[{fn:d.onpause}]:[],h._onplay=d.onplay?[{fn:d.onplay}]:[],h._onstop=d.onstop?[{fn:d.onstop}]:[],h._onmute=d.onmute?[{fn:d.onmute}]:[],h._onvolume=d.onvolume?[{fn:d.onvolume}]:[],h._onrate=d.onrate?[{fn:d.onrate}]:[],h._onseek=d.onseek?[{fn:d.onseek}]:[],h._onunlock=d.onunlock?[{fn:d.onunlock}]:[],h._onresume=[],h._webAudio=r.usingWebAudio&&!h._html5,typeof r.ctx<"u"&&r.ctx&&r.autoUnlock&&r._unlockAudio(),r._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var d=this,h=null;if(r.noAudio){d._emit("loaderror",null,"No audio support.");return}typeof d._src=="string"&&(d._src=[d._src]);for(var p=0;p<d._src.length;p++){var m,f;if(d._format&&d._format[p])m=d._format[p];else{if(f=d._src[p],typeof f!="string"){d._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}m=/^data:audio\/([^;,]+);/i.exec(f),m||(m=/\.([^.]+)$/.exec(f.split("?",1)[0])),m&&(m=m[1].toLowerCase())}if(m||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),m&&r.codecs(m)){h=d._src[p];break}}if(!h){d._emit("loaderror",null,"No codec support for selected audio sources.");return}return d._src=h,d._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(d._html5=!0,d._webAudio=!1),new i(d),d._webAudio&&l(d),d},play:function(d,h){var p=this,m=null;if(typeof d=="number")m=d,d=null;else{if(typeof d=="string"&&p._state==="loaded"&&!p._sprite[d])return null;if(typeof d>"u"&&(d="__default",!p._playLock)){for(var f=0,g=0;g<p._sounds.length;g++)p._sounds[g]._paused&&!p._sounds[g]._ended&&(f++,m=p._sounds[g]._id);f===1?d=null:m=null}}var v=m?p._soundById(m):p._inactiveSound();if(!v)return null;if(m&&!d&&(d=v._sprite||"__default"),p._state!=="loaded"){v._sprite=d,v._ended=!1;var x=v._id;return p._queue.push({event:"play",action:function(){p.play(x)}}),x}if(m&&!v._paused)return h||p._loadQueue("play"),v._id;p._webAudio&&r._autoResume();var y=Math.max(0,v._seek>0?v._seek:p._sprite[d][0]/1e3),b=Math.max(0,(p._sprite[d][0]+p._sprite[d][1])/1e3-y),w=b*1e3/Math.abs(v._rate),_=p._sprite[d][0]/1e3,S=(p._sprite[d][0]+p._sprite[d][1])/1e3;v._sprite=d,v._ended=!1;var E=function(){v._paused=!1,v._seek=y,v._start=_,v._stop=S,v._loop=!!(v._loop||p._sprite[d][2])};if(y>=S){p._ended(v);return}var A=v._node;if(p._webAudio){var C=function(){p._playLock=!1,E(),p._refreshBuffer(v);var P=v._muted||p._muted?0:v._volume;A.gain.setValueAtTime(P,r.ctx.currentTime),v._playStart=r.ctx.currentTime,typeof A.bufferSource.start>"u"?v._loop?A.bufferSource.noteGrainOn(0,y,86400):A.bufferSource.noteGrainOn(0,y,b):v._loop?A.bufferSource.start(0,y,86400):A.bufferSource.start(0,y,b),w!==1/0&&(p._endTimers[v._id]=setTimeout(p._ended.bind(p,v),w)),h||setTimeout(function(){p._emit("play",v._id),p._loadQueue()},0)};r.state==="running"&&r.ctx.state!=="interrupted"?C():(p._playLock=!0,p.once("resume",C),p._clearTimer(v._id))}else{var M=function(){A.currentTime=y,A.muted=v._muted||p._muted||r._muted||A.muted,A.volume=v._volume*r.volume(),A.playbackRate=v._rate;try{var P=A.play();if(P&&typeof Promise<"u"&&(P instanceof Promise||typeof P.then=="function")?(p._playLock=!0,E(),P.then(function(){p._playLock=!1,A._unlocked=!0,h?p._loadQueue():p._emit("play",v._id)}).catch(function(){p._playLock=!1,p._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),v._ended=!0,v._paused=!0})):h||(p._playLock=!1,E(),p._emit("play",v._id)),A.playbackRate=v._rate,A.paused){p._emit("playerror",v._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}d!=="__default"||v._loop?p._endTimers[v._id]=setTimeout(p._ended.bind(p,v),w):(p._endTimers[v._id]=function(){p._ended(v),A.removeEventListener("ended",p._endTimers[v._id],!1)},A.addEventListener("ended",p._endTimers[v._id],!1))}catch(D){p._emit("playerror",v._id,D)}};A.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(A.src=p._src,A.load());var T=window&&window.ejecta||!A.readyState&&r._navigator.isCocoonJS;if(A.readyState>=3||T)M();else{p._playLock=!0,p._state="loading";var k=function(){p._state="loaded",M(),A.removeEventListener(r._canPlayEvent,k,!1)};A.addEventListener(r._canPlayEvent,k,!1),p._clearTimer(v._id)}}return v._id},pause:function(d){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(d)}}),h;for(var p=h._getSoundIds(d),m=0;m<p.length;m++){h._clearTimer(p[m]);var f=h._soundById(p[m]);if(f&&!f._paused&&(f._seek=h.seek(p[m]),f._rateSeek=0,f._paused=!0,h._stopFade(p[m]),f._node))if(h._webAudio){if(!f._node.bufferSource)continue;typeof f._node.bufferSource.stop>"u"?f._node.bufferSource.noteOff(0):f._node.bufferSource.stop(0),h._cleanBuffer(f._node)}else(!isNaN(f._node.duration)||f._node.duration===1/0)&&f._node.pause();arguments[1]||h._emit("pause",f?f._id:null)}return h},stop:function(d,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"stop",action:function(){p.stop(d)}}),p;for(var m=p._getSoundIds(d),f=0;f<m.length;f++){p._clearTimer(m[f]);var g=p._soundById(m[f]);g&&(g._seek=g._start||0,g._rateSeek=0,g._paused=!0,g._ended=!0,p._stopFade(m[f]),g._node&&(p._webAudio?g._node.bufferSource&&(typeof g._node.bufferSource.stop>"u"?g._node.bufferSource.noteOff(0):g._node.bufferSource.stop(0),p._cleanBuffer(g._node)):(!isNaN(g._node.duration)||g._node.duration===1/0)&&(g._node.currentTime=g._start||0,g._node.pause(),g._node.duration===1/0&&p._clearSound(g._node))),h||p._emit("stop",g._id))}return p},mute:function(d,h){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"mute",action:function(){p.mute(d,h)}}),p;if(typeof h>"u")if(typeof d=="boolean")p._muted=d;else return p._muted;for(var m=p._getSoundIds(h),f=0;f<m.length;f++){var g=p._soundById(m[f]);g&&(g._muted=d,g._interval&&p._stopFade(g._id),p._webAudio&&g._node?g._node.gain.setValueAtTime(d?0:g._volume,r.ctx.currentTime):g._node&&(g._node.muted=r._muted?!0:d),p._emit("mute",g._id))}return p},volume:function(){var d=this,h=arguments,p,m;if(h.length===0)return d._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var f=d._getSoundIds(),g=f.indexOf(h[0]);g>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length>=2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var v;if(typeof p<"u"&&p>=0&&p<=1){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"volume",action:function(){d.volume.apply(d,h)}}),d;typeof m>"u"&&(d._volume=p),m=d._getSoundIds(m);for(var x=0;x<m.length;x++)v=d._soundById(m[x]),v&&(v._volume=p,h[2]||d._stopFade(m[x]),d._webAudio&&v._node&&!v._muted?v._node.gain.setValueAtTime(p,r.ctx.currentTime):v._node&&!v._muted&&(v._node.volume=p*r.volume()),d._emit("volume",v._id))}else return v=m?d._soundById(m):d._sounds[0],v?v._volume:0;return d},fade:function(d,h,p,m){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"fade",action:function(){f.fade(d,h,p,m)}}),f;d=Math.min(Math.max(0,parseFloat(d)),1),h=Math.min(Math.max(0,parseFloat(h)),1),p=parseFloat(p),f.volume(d,m);for(var g=f._getSoundIds(m),v=0;v<g.length;v++){var x=f._soundById(g[v]);if(x){if(m||f._stopFade(g[v]),f._webAudio&&!x._muted){var y=r.ctx.currentTime,b=y+p/1e3;x._volume=d,x._node.gain.setValueAtTime(d,y),x._node.gain.linearRampToValueAtTime(h,b)}f._startFadeInterval(x,d,h,p,g[v],typeof m>"u")}}return f},_startFadeInterval:function(d,h,p,m,f,g){var v=this,x=h,y=p-h,b=Math.abs(y/.01),w=Math.max(4,b>0?m/b:m),_=Date.now();d._fadeTo=p,d._interval=setInterval(function(){var S=(Date.now()-_)/m;_=Date.now(),x+=y*S,x=Math.round(x*100)/100,y<0?x=Math.max(p,x):x=Math.min(p,x),v._webAudio?d._volume=x:v.volume(x,d._id,!0),g&&(v._volume=x),(p<h&&x<=p||p>h&&x>=p)&&(clearInterval(d._interval),d._interval=null,d._fadeTo=null,v.volume(p,d._id),v._emit("fade",d._id))},w)},_stopFade:function(d){var h=this,p=h._soundById(d);return p&&p._interval&&(h._webAudio&&p._node.gain.cancelScheduledValues(r.ctx.currentTime),clearInterval(p._interval),p._interval=null,h.volume(p._fadeTo,d),p._fadeTo=null,h._emit("fade",d)),h},loop:function(){var d=this,h=arguments,p,m,f;if(h.length===0)return d._loop;if(h.length===1)if(typeof h[0]=="boolean")p=h[0],d._loop=p;else return f=d._soundById(parseInt(h[0],10)),f?f._loop:!1;else h.length===2&&(p=h[0],m=parseInt(h[1],10));for(var g=d._getSoundIds(m),v=0;v<g.length;v++)f=d._soundById(g[v]),f&&(f._loop=p,d._webAudio&&f._node&&f._node.bufferSource&&(f._node.bufferSource.loop=p,p&&(f._node.bufferSource.loopStart=f._start||0,f._node.bufferSource.loopEnd=f._stop,d.playing(g[v])&&(d.pause(g[v],!0),d.play(g[v],!0)))));return d},rate:function(){var d=this,h=arguments,p,m;if(h.length===0)m=d._sounds[0]._id;else if(h.length===1){var f=d._getSoundIds(),g=f.indexOf(h[0]);g>=0?m=parseInt(h[0],10):p=parseFloat(h[0])}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));var v;if(typeof p=="number"){if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"rate",action:function(){d.rate.apply(d,h)}}),d;typeof m>"u"&&(d._rate=p),m=d._getSoundIds(m);for(var x=0;x<m.length;x++)if(v=d._soundById(m[x]),v){d.playing(m[x])&&(v._rateSeek=d.seek(m[x]),v._playStart=d._webAudio?r.ctx.currentTime:v._playStart),v._rate=p,d._webAudio&&v._node&&v._node.bufferSource?v._node.bufferSource.playbackRate.setValueAtTime(p,r.ctx.currentTime):v._node&&(v._node.playbackRate=p);var y=d.seek(m[x]),b=(d._sprite[v._sprite][0]+d._sprite[v._sprite][1])/1e3-y,w=b*1e3/Math.abs(v._rate);(d._endTimers[m[x]]||!v._paused)&&(d._clearTimer(m[x]),d._endTimers[m[x]]=setTimeout(d._ended.bind(d,v),w)),d._emit("rate",v._id)}}else return v=d._soundById(m),v?v._rate:d._rate;return d},seek:function(){var d=this,h=arguments,p,m;if(h.length===0)d._sounds.length&&(m=d._sounds[0]._id);else if(h.length===1){var f=d._getSoundIds(),g=f.indexOf(h[0]);g>=0?m=parseInt(h[0],10):d._sounds.length&&(m=d._sounds[0]._id,p=parseFloat(h[0]))}else h.length===2&&(p=parseFloat(h[0]),m=parseInt(h[1],10));if(typeof m>"u")return 0;if(typeof p=="number"&&(d._state!=="loaded"||d._playLock))return d._queue.push({event:"seek",action:function(){d.seek.apply(d,h)}}),d;var v=d._soundById(m);if(v)if(typeof p=="number"&&p>=0){var x=d.playing(m);x&&d.pause(m,!0),v._seek=p,v._ended=!1,d._clearTimer(m),!d._webAudio&&v._node&&!isNaN(v._node.duration)&&(v._node.currentTime=p);var y=function(){x&&d.play(m,!0),d._emit("seek",m)};if(x&&!d._webAudio){var b=function(){d._playLock?setTimeout(b,0):y()};setTimeout(b,0)}else y()}else if(d._webAudio){var w=d.playing(m)?r.ctx.currentTime-v._playStart:0,_=v._rateSeek?v._rateSeek-v._seek:0;return v._seek+(_+w*Math.abs(v._rate))}else return v._node.currentTime;return d},playing:function(d){var h=this;if(typeof d=="number"){var p=h._soundById(d);return p?!p._paused:!1}for(var m=0;m<h._sounds.length;m++)if(!h._sounds[m]._paused)return!0;return!1},duration:function(d){var h=this,p=h._duration,m=h._soundById(d);return m&&(p=h._sprite[m._sprite][1]/1e3),p},state:function(){return this._state},unload:function(){for(var d=this,h=d._sounds,p=0;p<h.length;p++)h[p]._paused||d.stop(h[p]._id),d._webAudio||(d._clearSound(h[p]._node),h[p]._node.removeEventListener("error",h[p]._errorFn,!1),h[p]._node.removeEventListener(r._canPlayEvent,h[p]._loadFn,!1),h[p]._node.removeEventListener("ended",h[p]._endFn,!1),r._releaseHtml5Audio(h[p]._node)),delete h[p]._node,d._clearTimer(h[p]._id);var m=r._howls.indexOf(d);m>=0&&r._howls.splice(m,1);var f=!0;for(p=0;p<r._howls.length;p++)if(r._howls[p]._src===d._src||d._src.indexOf(r._howls[p]._src)>=0){f=!1;break}return f&&delete o[d._src],r.noAudio=!1,d._state="unloaded",d._sounds=[],d=null,null},on:function(d,h,p,m){var f=this,g=f["_on"+d];return typeof h=="function"&&g.push(m?{id:p,fn:h,once:m}:{id:p,fn:h}),f},off:function(d,h,p){var m=this,f=m["_on"+d],g=0;if(typeof h=="number"&&(p=h,h=null),h||p)for(g=0;g<f.length;g++){var v=p===f[g].id;if(h===f[g].fn&&v||!h&&v){f.splice(g,1);break}}else if(d)m["_on"+d]=[];else{var x=Object.keys(m);for(g=0;g<x.length;g++)x[g].indexOf("_on")===0&&Array.isArray(m[x[g]])&&(m[x[g]]=[])}return m},once:function(d,h,p){var m=this;return m.on(d,h,p,1),m},_emit:function(d,h,p){for(var m=this,f=m["_on"+d],g=f.length-1;g>=0;g--)(!f[g].id||f[g].id===h||d==="load")&&(setTimeout((function(v){v.call(this,h,p)}).bind(m,f[g].fn),0),f[g].once&&m.off(d,f[g].fn,f[g].id));return m._loadQueue(d),m},_loadQueue:function(d){var h=this;if(h._queue.length>0){var p=h._queue[0];p.event===d&&(h._queue.shift(),h._loadQueue()),d||p.action()}return h},_ended:function(d){var h=this,p=d._sprite;if(!h._webAudio&&d._node&&!d._node.paused&&!d._node.ended&&d._node.currentTime<d._stop)return setTimeout(h._ended.bind(h,d),100),h;var m=!!(d._loop||h._sprite[p][2]);if(h._emit("end",d._id),!h._webAudio&&m&&h.stop(d._id,!0).play(d._id),h._webAudio&&m){h._emit("play",d._id),d._seek=d._start||0,d._rateSeek=0,d._playStart=r.ctx.currentTime;var f=(d._stop-d._start)*1e3/Math.abs(d._rate);h._endTimers[d._id]=setTimeout(h._ended.bind(h,d),f)}return h._webAudio&&!m&&(d._paused=!0,d._ended=!0,d._seek=d._start||0,d._rateSeek=0,h._clearTimer(d._id),h._cleanBuffer(d._node),r._autoSuspend()),!h._webAudio&&!m&&h.stop(d._id,!0),h},_clearTimer:function(d){var h=this;if(h._endTimers[d]){if(typeof h._endTimers[d]!="function")clearTimeout(h._endTimers[d]);else{var p=h._soundById(d);p&&p._node&&p._node.removeEventListener("ended",h._endTimers[d],!1)}delete h._endTimers[d]}return h},_soundById:function(d){for(var h=this,p=0;p<h._sounds.length;p++)if(d===h._sounds[p]._id)return h._sounds[p];return null},_inactiveSound:function(){var d=this;d._drain();for(var h=0;h<d._sounds.length;h++)if(d._sounds[h]._ended)return d._sounds[h].reset();return new i(d)},_drain:function(){var d=this,h=d._pool,p=0,m=0;if(!(d._sounds.length<h)){for(m=0;m<d._sounds.length;m++)d._sounds[m]._ended&&p++;for(m=d._sounds.length-1;m>=0;m--){if(p<=h)return;d._sounds[m]._ended&&(d._webAudio&&d._sounds[m]._node&&d._sounds[m]._node.disconnect(0),d._sounds.splice(m,1),p--)}}},_getSoundIds:function(d){var h=this;if(typeof d>"u"){for(var p=[],m=0;m<h._sounds.length;m++)p.push(h._sounds[m]._id);return p}else return[d]},_refreshBuffer:function(d){var h=this;return d._node.bufferSource=r.ctx.createBufferSource(),d._node.bufferSource.buffer=o[h._src],d._panner?d._node.bufferSource.connect(d._panner):d._node.bufferSource.connect(d._node),d._node.bufferSource.loop=d._loop,d._loop&&(d._node.bufferSource.loopStart=d._start||0,d._node.bufferSource.loopEnd=d._stop||0),d._node.bufferSource.playbackRate.setValueAtTime(d._rate,r.ctx.currentTime),h},_cleanBuffer:function(d){var h=this,p=r._navigator&&r._navigator.vendor.indexOf("Apple")>=0;if(r._scratchBuffer&&d.bufferSource&&(d.bufferSource.onended=null,d.bufferSource.disconnect(0),p))try{d.bufferSource.buffer=r._scratchBuffer}catch{}return d.bufferSource=null,h},_clearSound:function(d){var h=/MSIE |Trident\//.test(r._navigator&&r._navigator.userAgent);h||(d.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var i=function(d){this._parent=d,this.init()};i.prototype={init:function(){var d=this,h=d._parent;return d._muted=h._muted,d._loop=h._loop,d._volume=h._volume,d._rate=h._rate,d._seek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++r._counter,h._sounds.push(d),d.create(),d},create:function(){var d=this,h=d._parent,p=r._muted||d._muted||d._parent._muted?0:d._volume;return h._webAudio?(d._node=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),d._node.gain.setValueAtTime(p,r.ctx.currentTime),d._node.paused=!0,d._node.connect(r.masterGain)):r.noAudio||(d._node=r._obtainHtml5Audio(),d._errorFn=d._errorListener.bind(d),d._node.addEventListener("error",d._errorFn,!1),d._loadFn=d._loadListener.bind(d),d._node.addEventListener(r._canPlayEvent,d._loadFn,!1),d._endFn=d._endListener.bind(d),d._node.addEventListener("ended",d._endFn,!1),d._node.src=h._src,d._node.preload=h._preload===!0?"auto":h._preload,d._node.volume=p*r.volume(),d._node.load()),d},reset:function(){var d=this,h=d._parent;return d._muted=h._muted,d._loop=h._loop,d._volume=h._volume,d._rate=h._rate,d._seek=0,d._rateSeek=0,d._paused=!0,d._ended=!0,d._sprite="__default",d._id=++r._counter,d},_errorListener:function(){var d=this;d._parent._emit("loaderror",d._id,d._node.error?d._node.error.code:0),d._node.removeEventListener("error",d._errorFn,!1)},_loadListener:function(){var d=this,h=d._parent;h._duration=Math.ceil(d._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),d._node.removeEventListener(r._canPlayEvent,d._loadFn,!1)},_endListener:function(){var d=this,h=d._parent;h._duration===1/0&&(h._duration=Math.ceil(d._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(d)),d._node.removeEventListener("ended",d._endFn,!1)}};var o={},l=function(d){var h=d._src;if(o[h]){d._duration=o[h].duration,s(d);return}if(/^data:[^;]+;base64,/.test(h)){for(var p=atob(h.split(",")[1]),m=new Uint8Array(p.length),f=0;f<p.length;++f)m[f]=p.charCodeAt(f);a(m.buffer,d)}else{var g=new XMLHttpRequest;g.open(d._xhr.method,h,!0),g.withCredentials=d._xhr.withCredentials,g.responseType="arraybuffer",d._xhr.headers&&Object.keys(d._xhr.headers).forEach(function(v){g.setRequestHeader(v,d._xhr.headers[v])}),g.onload=function(){var v=(g.status+"")[0];if(v!=="0"&&v!=="2"&&v!=="3"){d._emit("loaderror",null,"Failed loading audio file with status: "+g.status+".");return}a(g.response,d)},g.onerror=function(){d._webAudio&&(d._html5=!0,d._webAudio=!1,d._sounds=[],delete o[h],d.load())},c(g)}},c=function(d){try{d.send()}catch{d.onerror()}},a=function(d,h){var p=function(){h._emit("loaderror",null,"Decoding audio data failed.")},m=function(f){f&&h._sounds.length>0?(o[h._src]=f,s(h,f)):p()};typeof Promise<"u"&&r.ctx.decodeAudioData.length===1?r.ctx.decodeAudioData(d).then(m).catch(p):r.ctx.decodeAudioData(d,m,p)},s=function(d,h){h&&!d._duration&&(d._duration=h.duration),Object.keys(d._sprite).length===0&&(d._sprite={__default:[0,d._duration*1e3]}),d._state!=="loaded"&&(d._state="loaded",d._emit("load"),d._loadQueue())},u=function(){if(r.usingWebAudio){try{typeof AudioContext<"u"?r.ctx=new AudioContext:typeof webkitAudioContext<"u"?r.ctx=new webkitAudioContext:r.usingWebAudio=!1}catch{r.usingWebAudio=!1}r.ctx||(r.usingWebAudio=!1);var d=/iP(hone|od|ad)/.test(r._navigator&&r._navigator.platform),h=r._navigator&&r._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),p=h?parseInt(h[1],10):null;if(d&&p&&p<9){var m=/safari/.test(r._navigator&&r._navigator.userAgent.toLowerCase());r._navigator&&!m&&(r.usingWebAudio=!1)}r.usingWebAudio&&(r.masterGain=typeof r.ctx.createGain>"u"?r.ctx.createGainNode():r.ctx.createGain(),r.masterGain.gain.setValueAtTime(r._muted?0:r._volume,r.ctx.currentTime),r.masterGain.connect(r.ctx.destination)),r._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:r,Howl:n}}),typeof e<"u"&&(e.Howler=r,e.Howl=n),typeof global<"u"?(global.HowlerGlobal=t,global.Howler=r,global.Howl=n,global.Sound=i):typeof window<"u"&&(window.HowlerGlobal=t,window.Howler=r,window.Howl=n,window.Sound=i)})(),function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(r){var n=this;if(!n.ctx||!n.ctx.listener)return n;for(var i=n._howls.length-1;i>=0;i--)n._howls[i].stereo(r);return n},HowlerGlobal.prototype.pos=function(r,n,i){var o=this;if(!o.ctx||!o.ctx.listener)return o;if(n=typeof n!="number"?o._pos[1]:n,i=typeof i!="number"?o._pos[2]:i,typeof r=="number")o._pos=[r,n,i],typeof o.ctx.listener.positionX<"u"?(o.ctx.listener.positionX.setTargetAtTime(o._pos[0],Howler.ctx.currentTime,.1),o.ctx.listener.positionY.setTargetAtTime(o._pos[1],Howler.ctx.currentTime,.1),o.ctx.listener.positionZ.setTargetAtTime(o._pos[2],Howler.ctx.currentTime,.1)):o.ctx.listener.setPosition(o._pos[0],o._pos[1],o._pos[2]);else return o._pos;return o},HowlerGlobal.prototype.orientation=function(r,n,i,o,l,c){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;if(n=typeof n!="number"?s[1]:n,i=typeof i!="number"?s[2]:i,o=typeof o!="number"?s[3]:o,l=typeof l!="number"?s[4]:l,c=typeof c!="number"?s[5]:c,typeof r=="number")a._orientation=[r,n,i,o,l,c],typeof a.ctx.listener.forwardX<"u"?(a.ctx.listener.forwardX.setTargetAtTime(r,Howler.ctx.currentTime,.1),a.ctx.listener.forwardY.setTargetAtTime(n,Howler.ctx.currentTime,.1),a.ctx.listener.forwardZ.setTargetAtTime(i,Howler.ctx.currentTime,.1),a.ctx.listener.upX.setTargetAtTime(o,Howler.ctx.currentTime,.1),a.ctx.listener.upY.setTargetAtTime(l,Howler.ctx.currentTime,.1),a.ctx.listener.upZ.setTargetAtTime(c,Howler.ctx.currentTime,.1)):a.ctx.listener.setOrientation(r,n,i,o,l,c);else return s;return a},Howl.prototype.init=function(r){return function(n){var i=this;return i._orientation=n.orientation||[1,0,0],i._stereo=n.stereo||null,i._pos=n.pos||null,i._pannerAttr={coneInnerAngle:typeof n.coneInnerAngle<"u"?n.coneInnerAngle:360,coneOuterAngle:typeof n.coneOuterAngle<"u"?n.coneOuterAngle:360,coneOuterGain:typeof n.coneOuterGain<"u"?n.coneOuterGain:0,distanceModel:typeof n.distanceModel<"u"?n.distanceModel:"inverse",maxDistance:typeof n.maxDistance<"u"?n.maxDistance:1e4,panningModel:typeof n.panningModel<"u"?n.panningModel:"HRTF",refDistance:typeof n.refDistance<"u"?n.refDistance:1,rolloffFactor:typeof n.rolloffFactor<"u"?n.rolloffFactor:1},i._onstereo=n.onstereo?[{fn:n.onstereo}]:[],i._onpos=n.onpos?[{fn:n.onpos}]:[],i._onorientation=n.onorientation?[{fn:n.onorientation}]:[],r.call(this,n)}}(Howl.prototype.init),Howl.prototype.stereo=function(r,n){var i=this;if(!i._webAudio)return i;if(i._state!=="loaded")return i._queue.push({event:"stereo",action:function(){i.stereo(r,n)}}),i;var o=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof n>"u")if(typeof r=="number")i._stereo=r,i._pos=[r,0,0];else return i._stereo;for(var l=i._getSoundIds(n),c=0;c<l.length;c++){var a=i._soundById(l[c]);if(a)if(typeof r=="number")a._stereo=r,a._pos=[r,0,0],a._node&&(a._pannerAttr.panningModel="equalpower",(!a._panner||!a._panner.pan)&&t(a,o),o==="spatial"?typeof a._panner.positionX<"u"?(a._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),a._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),a._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):a._panner.setPosition(r,0,0):a._panner.pan.setValueAtTime(r,Howler.ctx.currentTime)),i._emit("stereo",a._id);else return a._stereo}return i},Howl.prototype.pos=function(r,n,i,o){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"pos",action:function(){l.pos(r,n,i,o)}}),l;if(n=typeof n!="number"?0:n,i=typeof i!="number"?-.5:i,typeof o>"u")if(typeof r=="number")l._pos=[r,n,i];else return l._pos;for(var c=l._getSoundIds(o),a=0;a<c.length;a++){var s=l._soundById(c[a]);if(s)if(typeof r=="number")s._pos=[r,n,i],s._node&&((!s._panner||s._panner.pan)&&t(s,"spatial"),typeof s._panner.positionX<"u"?(s._panner.positionX.setValueAtTime(r,Howler.ctx.currentTime),s._panner.positionY.setValueAtTime(n,Howler.ctx.currentTime),s._panner.positionZ.setValueAtTime(i,Howler.ctx.currentTime)):s._panner.setPosition(r,n,i)),l._emit("pos",s._id);else return s._pos}return l},Howl.prototype.orientation=function(r,n,i,o){var l=this;if(!l._webAudio)return l;if(l._state!=="loaded")return l._queue.push({event:"orientation",action:function(){l.orientation(r,n,i,o)}}),l;if(n=typeof n!="number"?l._orientation[1]:n,i=typeof i!="number"?l._orientation[2]:i,typeof o>"u")if(typeof r=="number")l._orientation=[r,n,i];else return l._orientation;for(var c=l._getSoundIds(o),a=0;a<c.length;a++){var s=l._soundById(c[a]);if(s)if(typeof r=="number")s._orientation=[r,n,i],s._node&&(s._panner||(s._pos||(s._pos=l._pos||[0,0,-.5]),t(s,"spatial")),typeof s._panner.orientationX<"u"?(s._panner.orientationX.setValueAtTime(r,Howler.ctx.currentTime),s._panner.orientationY.setValueAtTime(n,Howler.ctx.currentTime),s._panner.orientationZ.setValueAtTime(i,Howler.ctx.currentTime)):s._panner.setOrientation(r,n,i)),l._emit("orientation",s._id);else return s._orientation}return l},Howl.prototype.pannerAttr=function(){var r=this,n=arguments,i,o,l;if(!r._webAudio)return r;if(n.length===0)return r._pannerAttr;if(n.length===1)if(typeof n[0]=="object")i=n[0],typeof o>"u"&&(i.pannerAttr||(i.pannerAttr={coneInnerAngle:i.coneInnerAngle,coneOuterAngle:i.coneOuterAngle,coneOuterGain:i.coneOuterGain,distanceModel:i.distanceModel,maxDistance:i.maxDistance,refDistance:i.refDistance,rolloffFactor:i.rolloffFactor,panningModel:i.panningModel}),r._pannerAttr={coneInnerAngle:typeof i.pannerAttr.coneInnerAngle<"u"?i.pannerAttr.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:typeof i.pannerAttr.coneOuterAngle<"u"?i.pannerAttr.coneOuterAngle:r._coneOuterAngle,coneOuterGain:typeof i.pannerAttr.coneOuterGain<"u"?i.pannerAttr.coneOuterGain:r._coneOuterGain,distanceModel:typeof i.pannerAttr.distanceModel<"u"?i.pannerAttr.distanceModel:r._distanceModel,maxDistance:typeof i.pannerAttr.maxDistance<"u"?i.pannerAttr.maxDistance:r._maxDistance,refDistance:typeof i.pannerAttr.refDistance<"u"?i.pannerAttr.refDistance:r._refDistance,rolloffFactor:typeof i.pannerAttr.rolloffFactor<"u"?i.pannerAttr.rolloffFactor:r._rolloffFactor,panningModel:typeof i.pannerAttr.panningModel<"u"?i.pannerAttr.panningModel:r._panningModel});else return l=r._soundById(parseInt(n[0],10)),l?l._pannerAttr:r._pannerAttr;else n.length===2&&(i=n[0],o=parseInt(n[1],10));for(var c=r._getSoundIds(o),a=0;a<c.length;a++)if(l=r._soundById(c[a]),l){var s=l._pannerAttr;s={coneInnerAngle:typeof i.coneInnerAngle<"u"?i.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:typeof i.coneOuterAngle<"u"?i.coneOuterAngle:s.coneOuterAngle,coneOuterGain:typeof i.coneOuterGain<"u"?i.coneOuterGain:s.coneOuterGain,distanceModel:typeof i.distanceModel<"u"?i.distanceModel:s.distanceModel,maxDistance:typeof i.maxDistance<"u"?i.maxDistance:s.maxDistance,refDistance:typeof i.refDistance<"u"?i.refDistance:s.refDistance,rolloffFactor:typeof i.rolloffFactor<"u"?i.rolloffFactor:s.rolloffFactor,panningModel:typeof i.panningModel<"u"?i.panningModel:s.panningModel};var u=l._panner;u?(u.coneInnerAngle=s.coneInnerAngle,u.coneOuterAngle=s.coneOuterAngle,u.coneOuterGain=s.coneOuterGain,u.distanceModel=s.distanceModel,u.maxDistance=s.maxDistance,u.refDistance=s.refDistance,u.rolloffFactor=s.rolloffFactor,u.panningModel=s.panningModel):(l._pos||(l._pos=r._pos||[0,0,-.5]),t(l,"spatial"))}return r},Sound.prototype.init=function(r){return function(){var n=this,i=n._parent;n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,r.call(this),n._stereo?i.stereo(n._stereo):n._pos&&i.pos(n._pos[0],n._pos[1],n._pos[2],n._id)}}(Sound.prototype.init),Sound.prototype.reset=function(r){return function(){var n=this,i=n._parent;return n._orientation=i._orientation,n._stereo=i._stereo,n._pos=i._pos,n._pannerAttr=i._pannerAttr,n._stereo?i.stereo(n._stereo):n._pos?i.pos(n._pos[0],n._pos[1],n._pos[2],n._id):n._panner&&(n._panner.disconnect(0),n._panner=void 0,i._refreshBuffer(n)),r.call(this)}}(Sound.prototype.reset);var t=function(r,n){n=n||"spatial",n==="spatial"?(r._panner=Howler.ctx.createPanner(),r._panner.coneInnerAngle=r._pannerAttr.coneInnerAngle,r._panner.coneOuterAngle=r._pannerAttr.coneOuterAngle,r._panner.coneOuterGain=r._pannerAttr.coneOuterGain,r._panner.distanceModel=r._pannerAttr.distanceModel,r._panner.maxDistance=r._pannerAttr.maxDistance,r._panner.refDistance=r._pannerAttr.refDistance,r._panner.rolloffFactor=r._pannerAttr.rolloffFactor,r._panner.panningModel=r._pannerAttr.panningModel,typeof r._panner.positionX<"u"?(r._panner.positionX.setValueAtTime(r._pos[0],Howler.ctx.currentTime),r._panner.positionY.setValueAtTime(r._pos[1],Howler.ctx.currentTime),r._panner.positionZ.setValueAtTime(r._pos[2],Howler.ctx.currentTime)):r._panner.setPosition(r._pos[0],r._pos[1],r._pos[2]),typeof r._panner.orientationX<"u"?(r._panner.orientationX.setValueAtTime(r._orientation[0],Howler.ctx.currentTime),r._panner.orientationY.setValueAtTime(r._orientation[1],Howler.ctx.currentTime),r._panner.orientationZ.setValueAtTime(r._orientation[2],Howler.ctx.currentTime)):r._panner.setOrientation(r._orientation[0],r._orientation[1],r._orientation[2])):(r._panner=Howler.ctx.createStereoPanner(),r._panner.pan.setValueAtTime(r._stereo,Howler.ctx.currentTime)),r._panner.connect(r._node),r._paused||r._parent.pause(r._id,!0).play(r._id,!0)}}()}),m0e=Ni((e,t)=>{function r(n){for(var i=new Array(n),o=0;o<n;++o)i[o]=o;return i}t.exports=r}),g0e=Ni((e,t)=>{t.exports=function(i){return i!=null&&(r(i)||n(i)||!!i._isBuffer)};function r(i){return!!i.constructor&&typeof i.constructor.isBuffer=="function"&&i.constructor.isBuffer(i)}function n(i){return typeof i.readFloatLE=="function"&&typeof i.slice=="function"&&r(i.slice(0,0))}}),Zy=Ni((e,t)=>{var r=m0e(),n=g0e(),i=typeof Float64Array<"u";function o(d,h){return d[0]-h[0]}function l(){var d=this.stride,h=new Array(d.length),p;for(p=0;p<h.length;++p)h[p]=[Math.abs(d[p]),p];h.sort(o);var m=new Array(h.length);for(p=0;p<m.length;++p)m[p]=h[p][1];return m}function c(d,h){var p=["View",h,"d",d].join("");h<0&&(p="View_Nil"+d);var m=d==="generic";if(h===-1){var f="function "+p+"(a){this.data=a;};var proto="+p+".prototype;proto.dtype='"+d+"';proto.index=function(){return -1};proto.size=0;proto.dimension=-1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function(){return new "+p+"(this.data);};proto.get=proto.set=function(){};proto.pick=function(){return null};return function construct_"+p+"(a){return new "+p+"(a);}",C=new Function(f);return C()}else if(h===0){var f="function "+p+"(a,d) {this.data = a;this.offset = d};var proto="+p+".prototype;proto.dtype='"+d+"';proto.index=function(){return this.offset};proto.dimension=0;proto.size=1;proto.shape=proto.stride=proto.order=[];proto.lo=proto.hi=proto.transpose=proto.step=function "+p+"_copy() {return new "+p+"(this.data,this.offset)};proto.pick=function "+p+"_pick(){return TrivialArray(this.data);};proto.valueOf=proto.get=function "+p+"_get(){return "+(m?"this.data.get(this.offset)":"this.data[this.offset]")+"};proto.set=function "+p+"_set(v){return "+(m?"this.data.set(this.offset,v)":"this.data[this.offset]=v")+"};return function construct_"+p+"(a,b,c,d){return new "+p+"(a,d)}",C=new Function("TrivialArray",f);return C(s[d][0])}var f=["'use strict'"],g=r(h),v=g.map(function(M){return"i"+M}),x="this.offset+"+g.map(function(M){return"this.stride["+M+"]*i"+M}).join("+"),y=g.map(function(M){return"b"+M}).join(","),b=g.map(function(M){return"c"+M}).join(",");f.push("function "+p+"(a,"+y+","+b+",d){this.data=a","this.shape=["+y+"]","this.stride=["+b+"]","this.offset=d|0}","var proto="+p+".prototype","proto.dtype='"+d+"'","proto.dimension="+h),f.push("Object.defineProperty(proto,'size',{get:function "+p+"_size(){return "+g.map(function(M){return"this.shape["+M+"]"}).join("*"),"}})"),h===1?f.push("proto.order=[0]"):(f.push("Object.defineProperty(proto,'order',{get:"),h<4?(f.push("function "+p+"_order(){"),h===2?f.push("return (Math.abs(this.stride[0])>Math.abs(this.stride[1]))?[1,0]:[0,1]}})"):h===3&&f.push("var s0=Math.abs(this.stride[0]),s1=Math.abs(this.stride[1]),s2=Math.abs(this.stride[2]);if(s0>s1){if(s1>s2){return [2,1,0];}else if(s0>s2){return [1,2,0];}else{return [1,0,2];}}else if(s0>s2){return [2,0,1];}else if(s2>s1){return [0,1,2];}else{return [0,2,1];}}})")):f.push("ORDER})")),f.push("proto.set=function "+p+"_set("+v.join(",")+",v){"),m?f.push("return this.data.set("+x+",v)}"):f.push("return this.data["+x+"]=v}"),f.push("proto.get=function "+p+"_get("+v.join(",")+"){"),m?f.push("return this.data.get("+x+")}"):f.push("return this.data["+x+"]}"),f.push("proto.index=function "+p+"_index(",v.join(),"){return "+x+"}"),f.push("proto.hi=function "+p+"_hi("+v.join(",")+"){return new "+p+"(this.data,"+g.map(function(M){return["(typeof i",M,"!=='number'||i",M,"<0)?this.shape[",M,"]:i",M,"|0"].join("")}).join(",")+","+g.map(function(M){return"this.stride["+M+"]"}).join(",")+",this.offset)}");var w=g.map(function(M){return"a"+M+"=this.shape["+M+"]"}),_=g.map(function(M){return"c"+M+"=this.stride["+M+"]"});f.push("proto.lo=function "+p+"_lo("+v.join(",")+"){var b=this.offset,d=0,"+w.join(",")+","+_.join(","));for(var S=0;S<h;++S)f.push("if(typeof i"+S+"==='number'&&i"+S+">=0){d=i"+S+"|0;b+=c"+S+"*d;a"+S+"-=d}");f.push("return new "+p+"(this.data,"+g.map(function(M){return"a"+M}).join(",")+","+g.map(function(M){return"c"+M}).join(",")+",b)}"),f.push("proto.step=function "+p+"_step("+v.join(",")+"){var "+g.map(function(M){return"a"+M+"=this.shape["+M+"]"}).join(",")+","+g.map(function(M){return"b"+M+"=this.stride["+M+"]"}).join(",")+",c=this.offset,d=0,ceil=Math.ceil");for(var S=0;S<h;++S)f.push("if(typeof i"+S+"==='number'){d=i"+S+"|0;if(d<0){c+=b"+S+"*(a"+S+"-1);a"+S+"=ceil(-a"+S+"/d)}else{a"+S+"=ceil(a"+S+"/d)}b"+S+"*=d}");f.push("return new "+p+"(this.data,"+g.map(function(M){return"a"+M}).join(",")+","+g.map(function(M){return"b"+M}).join(",")+",c)}");for(var E=new Array(h),A=new Array(h),S=0;S<h;++S)E[S]="a[i"+S+"]",A[S]="b[i"+S+"]";f.push("proto.transpose=function "+p+"_transpose("+v+"){"+v.map(function(M,T){return M+"=("+M+"===undefined?"+T+":"+M+"|0)"}).join(";"),"var a=this.shape,b=this.stride;return new "+p+"(this.data,"+E.join(",")+","+A.join(",")+",this.offset)}"),f.push("proto.pick=function "+p+"_pick("+v+"){var a=[],b=[],c=this.offset");for(var S=0;S<h;++S)f.push("if(typeof i"+S+"==='number'&&i"+S+">=0){c=(c+this.stride["+S+"]*i"+S+")|0}else{a.push(this.shape["+S+"]);b.push(this.stride["+S+"])}");f.push("var ctor=CTOR_LIST[a.length+1];return ctor(this.data,a,b,c)}"),f.push("return function construct_"+p+"(data,shape,stride,offset){return new "+p+"(data,"+g.map(function(M){return"shape["+M+"]"}).join(",")+","+g.map(function(M){return"stride["+M+"]"}).join(",")+",offset)}");var C=new Function("CTOR_LIST","ORDER",f.join(`
`));return C(s[d],l)}function a(d){if(n(d))return"buffer";if(i)switch(Object.prototype.toString.call(d)){case"[object Float64Array]":return"float64";case"[object Float32Array]":return"float32";case"[object Int8Array]":return"int8";case"[object Int16Array]":return"int16";case"[object Int32Array]":return"int32";case"[object Uint8Array]":return"uint8";case"[object Uint16Array]":return"uint16";case"[object Uint32Array]":return"uint32";case"[object Uint8ClampedArray]":return"uint8_clamped";case"[object BigInt64Array]":return"bigint64";case"[object BigUint64Array]":return"biguint64"}return Array.isArray(d)?"array":"generic"}var s={float32:[],float64:[],int8:[],int16:[],int32:[],uint8:[],uint16:[],uint32:[],array:[],uint8_clamped:[],bigint64:[],biguint64:[],buffer:[],generic:[]};function u(d,h,p,m){if(d===void 0){var b=s.array[0];return b([])}else typeof d=="number"&&(d=[d]);h===void 0&&(h=[d.length]);var f=h.length;if(p===void 0){p=new Array(f);for(var g=f-1,v=1;g>=0;--g)p[g]=v,v*=h[g]}if(m===void 0){m=0;for(var g=0;g<f;++g)p[g]<0&&(m-=(h[g]-1)*p[g])}for(var x=a(d),y=s[x];y.length<=f+1;)y.push(c(x,y.length-1));var b=y[f+1];return b(d,h,p,m)}t.exports=u}),v0e=Ni((e,t)=>{function r(o,l){for(var c=1,a=o.length,s=o[0],u=o[0],d=1;d<a;++d)if(u=s,s=o[d],l(s,u)){if(d===c){c++;continue}o[c++]=s}return o.length=c,o}function n(o){for(var l=1,c=o.length,a=o[0],s=o[0],u=1;u<c;++u,s=a)if(s=a,a=o[u],a!==s){if(u===l){l++;continue}o[l++]=a}return o.length=l,o}function i(o,l,c){return o.length===0?o:l?(c||o.sort(l),r(o,l)):(c||o.sort(),n(o))}t.exports=i}),y0e=Ni((e,t)=>{var r=v0e();function n(s,u,d){var h=s.length,p=u.arrayArgs.length,m=u.indexArgs.length>0,f=[],g=[],v=0,x=0,y,b;for(y=0;y<h;++y)g.push(["i",y,"=0"].join(""));for(b=0;b<p;++b)for(y=0;y<h;++y)x=v,v=s[y],y===0?g.push(["d",b,"s",y,"=t",b,"p",v].join("")):g.push(["d",b,"s",y,"=(t",b,"p",v,"-s",x,"*t",b,"p",x,")"].join(""));for(g.length>0&&f.push("var "+g.join(",")),y=h-1;y>=0;--y)v=s[y],f.push(["for(i",y,"=0;i",y,"<s",v,";++i",y,"){"].join(""));for(f.push(d),y=0;y<h;++y){for(x=v,v=s[y],b=0;b<p;++b)f.push(["p",b,"+=d",b,"s",y].join(""));m&&(y>0&&f.push(["index[",x,"]-=s",x].join("")),f.push(["++index[",v,"]"].join(""))),f.push("}")}return f.join(`
`)}function i(s,u,d,h){for(var p=u.length,m=d.arrayArgs.length,f=d.blockSize,g=d.indexArgs.length>0,v=[],x=0;x<m;++x)v.push(["var offset",x,"=p",x].join(""));for(var x=s;x<p;++x)v.push(["for(var j"+x+"=SS[",u[x],"]|0;j",x,">0;){"].join("")),v.push(["if(j",x,"<",f,"){"].join("")),v.push(["s",u[x],"=j",x].join("")),v.push(["j",x,"=0"].join("")),v.push(["}else{s",u[x],"=",f].join("")),v.push(["j",x,"-=",f,"}"].join("")),g&&v.push(["index[",u[x],"]=j",x].join(""));for(var x=0;x<m;++x){for(var y=["offset"+x],b=s;b<p;++b)y.push(["j",b,"*t",x,"p",u[b]].join(""));v.push(["p",x,"=(",y.join("+"),")"].join(""))}v.push(n(u,d,h));for(var x=s;x<p;++x)v.push("}");return v.join(`
`)}function o(s){for(var u=0,d=s[0].length;u<d;){for(var h=1;h<s.length;++h)if(s[h][u]!==s[0][u])return u;++u}return u}function l(s,u,d){for(var h=s.body,p=[],m=[],f=0;f<s.args.length;++f){var g=s.args[f];if(!(g.count<=0)){var v=new RegExp(g.name,"g"),x="",y=u.arrayArgs.indexOf(f);switch(u.argTypes[f]){case"offset":var b=u.offsetArgIndex.indexOf(f),w=u.offsetArgs[b];y=w.array,x="+q"+b;case"array":x="p"+y+x;var _="l"+f,S="a"+y;if(u.arrayBlockIndices[y]===0)g.count===1?d[y]==="generic"?g.lvalue?(p.push(["var ",_,"=",S,".get(",x,")"].join("")),h=h.replace(v,_),m.push([S,".set(",x,",",_,")"].join(""))):h=h.replace(v,[S,".get(",x,")"].join("")):h=h.replace(v,[S,"[",x,"]"].join("")):d[y]==="generic"?(p.push(["var ",_,"=",S,".get(",x,")"].join("")),h=h.replace(v,_),g.lvalue&&m.push([S,".set(",x,",",_,")"].join(""))):(p.push(["var ",_,"=",S,"[",x,"]"].join("")),h=h.replace(v,_),g.lvalue&&m.push([S,"[",x,"]=",_].join("")));else{for(var E=[g.name],A=[x],C=0;C<Math.abs(u.arrayBlockIndices[y]);C++)E.push("\\s*\\[([^\\]]+)\\]"),A.push("$"+(C+1)+"*t"+y+"b"+C);if(v=new RegExp(E.join(""),"g"),x=A.join("+"),d[y]==="generic")throw new Error("cwise: Generic arrays not supported in combination with blocks!");h=h.replace(v,[S,"[",x,"]"].join(""))}break;case"scalar":h=h.replace(v,"Y"+u.scalarArgs.indexOf(f));break;case"index":h=h.replace(v,"index");break;case"shape":h=h.replace(v,"shape");break}}}return[p.join(`
`),h,m.join(`
`)].join(`
`).trim()}function c(s){for(var u=new Array(s.length),d=!0,h=0;h<s.length;++h){var p=s[h],m=p.match(/\d+/);m?m=m[0]:m="",p.charAt(0)===0?u[h]="u"+p.charAt(1)+m:u[h]=p.charAt(0)+m,h>0&&(d=d&&u[h]===u[h-1])}return d?u[0]:u.join("")}function a(s,u){for(var d=u[1].length-Math.abs(s.arrayBlockIndices[0])|0,h=new Array(s.arrayArgs.length),p=new Array(s.arrayArgs.length),m=0;m<s.arrayArgs.length;++m)p[m]=u[2*m],h[m]=u[2*m+1];for(var f=[],g=[],v=[],x=[],y=[],m=0;m<s.arrayArgs.length;++m){s.arrayBlockIndices[m]<0?(v.push(0),x.push(d),f.push(d),g.push(d+s.arrayBlockIndices[m])):(v.push(s.arrayBlockIndices[m]),x.push(s.arrayBlockIndices[m]+d),f.push(0),g.push(s.arrayBlockIndices[m]));for(var b=[],w=0;w<h[m].length;w++)v[m]<=h[m][w]&&h[m][w]<x[m]&&b.push(h[m][w]-v[m]);y.push(b)}for(var _=["SS"],S=["'use strict'"],E=[],w=0;w<d;++w)E.push(["s",w,"=SS[",w,"]"].join(""));for(var m=0;m<s.arrayArgs.length;++m){_.push("a"+m),_.push("t"+m),_.push("p"+m);for(var w=0;w<d;++w)E.push(["t",m,"p",w,"=t",m,"[",v[m]+w,"]"].join(""));for(var w=0;w<Math.abs(s.arrayBlockIndices[m]);++w)E.push(["t",m,"b",w,"=t",m,"[",f[m]+w,"]"].join(""))}for(var m=0;m<s.scalarArgs.length;++m)_.push("Y"+m);if(s.shapeArgs.length>0&&E.push("shape=SS.slice(0)"),s.indexArgs.length>0){for(var A=new Array(d),m=0;m<d;++m)A[m]="0";E.push(["index=[",A.join(","),"]"].join(""))}for(var m=0;m<s.offsetArgs.length;++m){for(var C=s.offsetArgs[m],M=[],w=0;w<C.offset.length;++w)C.offset[w]!==0&&(C.offset[w]===1?M.push(["t",C.array,"p",w].join("")):M.push([C.offset[w],"*t",C.array,"p",w].join("")));M.length===0?E.push("q"+m+"=0"):E.push(["q",m,"=",M.join("+")].join(""))}var T=r([].concat(s.pre.thisVars).concat(s.body.thisVars).concat(s.post.thisVars));E=E.concat(T),E.length>0&&S.push("var "+E.join(","));for(var m=0;m<s.arrayArgs.length;++m)S.push("p"+m+"|=0");s.pre.body.length>3&&S.push(l(s.pre,s,p));var k=l(s.body,s,p),P=o(y);P<d?S.push(i(P,y[0],s,k)):S.push(n(y[0],s,k)),s.post.body.length>3&&S.push(l(s.post,s,p)),s.debug&&console.log("-----Generated cwise routine for ",u,`:
`+S.join(`
`)+`
----------`);var D=[s.funcName||"unnamed","_cwise_loop_",h[0].join("s"),"m",P,c(p)].join(""),I=new Function(["function ",D,"(",_.join(","),"){",S.join(`
`),"} return ",D].join(""));return I()}t.exports=a}),b0e=Ni((e,t)=>{var r=y0e();function n(i){var o=["'use strict'","var CACHED={}"],l=[],c=i.funcName+"_cwise_thunk";o.push(["return function ",c,"(",i.shimArgs.join(","),"){"].join(""));for(var a=[],s=[],u=[["array",i.arrayArgs[0],".shape.slice(",Math.max(0,i.arrayBlockIndices[0]),i.arrayBlockIndices[0]<0?","+i.arrayBlockIndices[0]+")":")"].join("")],d=[],h=[],p=0;p<i.arrayArgs.length;++p){var m=i.arrayArgs[p];l.push(["t",m,"=array",m,".dtype,","r",m,"=array",m,".order"].join("")),a.push("t"+m),a.push("r"+m),s.push("t"+m),s.push("r"+m+".join()"),u.push("array"+m+".data"),u.push("array"+m+".stride"),u.push("array"+m+".offset|0"),p>0&&(d.push("array"+i.arrayArgs[0]+".shape.length===array"+m+".shape.length+"+(Math.abs(i.arrayBlockIndices[0])-Math.abs(i.arrayBlockIndices[p]))),h.push("array"+i.arrayArgs[0]+".shape[shapeIndex+"+Math.max(0,i.arrayBlockIndices[0])+"]===array"+m+".shape[shapeIndex+"+Math.max(0,i.arrayBlockIndices[p])+"]"))}i.arrayArgs.length>1&&(o.push("if (!("+d.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same dimensionality!')"),o.push("for(var shapeIndex=array"+i.arrayArgs[0]+".shape.length-"+Math.abs(i.arrayBlockIndices[0])+"; shapeIndex-->0;) {"),o.push("if (!("+h.join(" && ")+")) throw new Error('cwise: Arrays do not all have the same shape!')"),o.push("}"));for(var p=0;p<i.scalarArgs.length;++p)u.push("scalar"+i.scalarArgs[p]);l.push(["type=[",s.join(","),"].join()"].join("")),l.push("proc=CACHED[type]"),o.push("var "+l.join(",")),o.push(["if(!proc){","CACHED[type]=proc=compile([",a.join(","),"])}","return proc(",u.join(","),")}"].join("")),i.debug&&console.log(`-----Generated thunk:
`+o.join(`
`)+`
----------`);var f=new Function("compile",o.join(`
`));return f(r.bind(void 0,i))}t.exports=n}),x0e=Ni((e,t)=>{var r=b0e();function n(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName="",this.pre=null,this.body=null,this.post=null,this.debug=!1}function i(o){var l=new n;l.pre=o.pre,l.body=o.body,l.post=o.post;var c=o.args.slice(0);l.argTypes=c;for(var a=0;a<c.length;++a){var s=c[a];if(s==="array"||typeof s=="object"&&s.blockIndices){if(l.argTypes[a]="array",l.arrayArgs.push(a),l.arrayBlockIndices.push(s.blockIndices?s.blockIndices:0),l.shimArgs.push("array"+a),a<l.pre.args.length&&l.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array args");if(a<l.post.args.length&&l.post.args[a].count>0)throw new Error("cwise: post() block may not reference array args")}else if(s==="scalar")l.scalarArgs.push(a),l.shimArgs.push("scalar"+a);else if(s==="index"){if(l.indexArgs.push(a),a<l.pre.args.length&&l.pre.args[a].count>0)throw new Error("cwise: pre() block may not reference array index");if(a<l.body.args.length&&l.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array index");if(a<l.post.args.length&&l.post.args[a].count>0)throw new Error("cwise: post() block may not reference array index")}else if(s==="shape"){if(l.shapeArgs.push(a),a<l.pre.args.length&&l.pre.args[a].lvalue)throw new Error("cwise: pre() block may not write to array shape");if(a<l.body.args.length&&l.body.args[a].lvalue)throw new Error("cwise: body() block may not write to array shape");if(a<l.post.args.length&&l.post.args[a].lvalue)throw new Error("cwise: post() block may not write to array shape")}else if(typeof s=="object"&&s.offset)l.argTypes[a]="offset",l.offsetArgs.push({array:s.array,offset:s.offset}),l.offsetArgIndex.push(a);else throw new Error("cwise: Unknown argument type "+c[a])}if(l.arrayArgs.length<=0)throw new Error("cwise: No array arguments specified");if(l.pre.args.length>c.length)throw new Error("cwise: Too many arguments in pre() block");if(l.body.args.length>c.length)throw new Error("cwise: Too many arguments in body() block");if(l.post.args.length>c.length)throw new Error("cwise: Too many arguments in post() block");return l.debug=!!o.printCode||!!o.debug,l.funcName=o.funcName||"cwise",l.blockSize=o.blockSize||64,r(l)}t.exports=i}),Jy=Ni(e=>{var t=x0e(),r={body:"",args:[],thisVars:[],localVars:[]};function n(h){if(!h)return r;for(var p=0;p<h.args.length;++p){var m=h.args[p];p===0?h.args[p]={name:m,lvalue:!0,rvalue:!!h.rvalue,count:h.count||1}:h.args[p]={name:m,lvalue:!1,rvalue:!0,count:1}}return h.thisVars||(h.thisVars=[]),h.localVars||(h.localVars=[]),h}function i(h){return t({args:h.args,pre:n(h.pre),body:n(h.body),post:n(h.proc),funcName:h.funcName})}function o(h){for(var p=[],m=0;m<h.args.length;++m)p.push("a"+m);var f=new Function("P",["return function ",h.funcName,"_ndarrayops(",p.join(","),") {P(",p.join(","),");return a0}"].join(""));return f(i(h))}var l={add:"+",sub:"-",mul:"*",div:"/",mod:"%",band:"&",bor:"|",bxor:"^",lshift:"<<",rshift:">>",rrshift:">>>"};(function(){for(var h in l){var p=l[h];e[h]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+p+"c"},funcName:h}),e[h+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a"+p+"=b"},rvalue:!0,funcName:h+"eq"}),e[h+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+p+"s"},funcName:h+"s"}),e[h+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a"+p+"=s"},rvalue:!0,funcName:h+"seq"})}})();var c={not:"!",bnot:"~",neg:"-",recip:"1.0/"};(function(){for(var h in c){var p=c[h];e[h]=o({args:["array","array"],body:{args:["a","b"],body:"a="+p+"b"},funcName:h}),e[h+"eq"]=o({args:["array"],body:{args:["a"],body:"a="+p+"a"},rvalue:!0,count:2,funcName:h+"eq"})}})();var a={and:"&&",or:"||",eq:"===",neq:"!==",lt:"<",gt:">",leq:"<=",geq:">="};(function(){for(var h in a){var p=a[h];e[h]=o({args:["array","array","array"],body:{args:["a","b","c"],body:"a=b"+p+"c"},funcName:h}),e[h+"s"]=o({args:["array","array","scalar"],body:{args:["a","b","s"],body:"a=b"+p+"s"},funcName:h+"s"}),e[h+"eq"]=o({args:["array","array"],body:{args:["a","b"],body:"a=a"+p+"b"},rvalue:!0,count:2,funcName:h+"eq"}),e[h+"seq"]=o({args:["array","scalar"],body:{args:["a","s"],body:"a=a"+p+"s"},rvalue:!0,count:2,funcName:h+"seq"})}})();var s=["abs","acos","asin","atan","ceil","cos","exp","floor","log","round","sin","sqrt","tan"];(function(){for(var h=0;h<s.length;++h){var p=s[h];e[p]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+p,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b)",thisVars:["this_f"]},funcName:p}),e[p+"eq"]=o({args:["array"],pre:{args:[],body:"this_f=Math."+p,thisVars:["this_f"]},body:{args:["a"],body:"a=this_f(a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:p+"eq"})}})();var u=["max","min","atan2","pow"];(function(){for(var h=0;h<u.length;++h){var p=u[h];e[p]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+p,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:p}),e[p+"s"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+p,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(b,c)",thisVars:["this_f"]},funcName:p+"s"}),e[p+"eq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+p,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:p+"eq"}),e[p+"seq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+p,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(a,b)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:p+"seq"})}})();var d=["atan2","pow"];(function(){for(var h=0;h<d.length;++h){var p=d[h];e[p+"op"]=o({args:["array","array","array"],pre:{args:[],body:"this_f=Math."+p,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:p+"op"}),e[p+"ops"]=o({args:["array","array","scalar"],pre:{args:[],body:"this_f=Math."+p,thisVars:["this_f"]},body:{args:["a","b","c"],body:"a=this_f(c,b)",thisVars:["this_f"]},funcName:p+"ops"}),e[p+"opeq"]=o({args:["array","array"],pre:{args:[],body:"this_f=Math."+p,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:p+"opeq"}),e[p+"opseq"]=o({args:["array","scalar"],pre:{args:[],body:"this_f=Math."+p,thisVars:["this_f"]},body:{args:["a","b"],body:"a=this_f(b,a)",thisVars:["this_f"]},rvalue:!0,count:2,funcName:p+"opseq"})}})(),e.any=t({args:["array"],pre:r,body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"if(a){return true}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return false"},funcName:"any"}),e.all=t({args:["array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1}],body:"if(!x){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"all"}),e.sum=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s+=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"sum"}),e.prod=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=1"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:1}],body:"this_s*=a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"prod"}),e.norm2squared=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm2squared"}),e.norm2=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:2}],body:"this_s+=a*a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return Math.sqrt(this_s)"},funcName:"norm2"}),e.norminf=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:4}],body:"if(-a>this_s){this_s=-a}else if(a>this_s){this_s=a}",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norminf"}),e.norm1=t({args:["array"],pre:{args:[],localVars:[],thisVars:["this_s"],body:"this_s=0"},body:{args:[{name:"a",lvalue:!1,rvalue:!0,count:3}],body:"this_s+=a<0?-a:a",localVars:[],thisVars:["this_s"]},post:{args:[],localVars:[],thisVars:["this_s"],body:"return this_s"},funcName:"norm1"}),e.sup=t({args:["array"],pre:{body:"this_h=-Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_>this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.inf=t({args:["array"],pre:{body:"this_h=Infinity",args:[],thisVars:["this_h"],localVars:[]},body:{body:"if(_inline_1_arg0_<this_h)this_h=_inline_1_arg0_",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_h"],localVars:[]},post:{body:"return this_h",args:[],thisVars:["this_h"],localVars:[]}}),e.argmin=t({args:["index","array","shape"],pre:{body:"{this_v=Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_<this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.argmax=t({args:["index","array","shape"],pre:{body:"{this_v=-Infinity;this_i=_inline_0_arg2_.slice(0)}",args:[{name:"_inline_0_arg0_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg1_",lvalue:!1,rvalue:!1,count:0},{name:"_inline_0_arg2_",lvalue:!1,rvalue:!0,count:1}],thisVars:["this_i","this_v"],localVars:[]},body:{body:"{if(_inline_1_arg1_>this_v){this_v=_inline_1_arg1_;for(var _inline_1_k=0;_inline_1_k<_inline_1_arg0_.length;++_inline_1_k){this_i[_inline_1_k]=_inline_1_arg0_[_inline_1_k]}}}",args:[{name:"_inline_1_arg0_",lvalue:!1,rvalue:!0,count:2},{name:"_inline_1_arg1_",lvalue:!1,rvalue:!0,count:2}],thisVars:["this_i","this_v"],localVars:["_inline_1_k"]},post:{body:"{return this_i}",args:[],thisVars:["this_i"],localVars:[]}}),e.random=o({args:["array"],pre:{args:[],body:"this_f=Math.random",thisVars:["this_f"]},body:{args:["a"],body:"a=this_f()",thisVars:["this_f"]},funcName:"random"}),e.assign=o({args:["array","array"],body:{args:["a","b"],body:"a=b"},funcName:"assign"}),e.assigns=o({args:["array","scalar"],body:{args:["a","b"],body:"a=b"},funcName:"assigns"}),e.equals=t({args:["array","array"],pre:r,body:{args:[{name:"x",lvalue:!1,rvalue:!0,count:1},{name:"y",lvalue:!1,rvalue:!0,count:1}],body:"if(x!==y){return false}",localVars:[],thisVars:[]},post:{args:[],localVars:[],thisVars:[],body:"return true"},funcName:"equals"})}),w0e=Ni((e,t)=>{t.exports=function(r,n){for(var i=r.split("."),o=n.split("."),l=0;l<3;l++){var c=Number(i[l]),a=Number(o[l]);if(c>a)return 1;if(a>c)return-1;if(!isNaN(c)&&isNaN(a))return 1;if(isNaN(c)&&!isNaN(a))return-1}return 0}}),fg="149",ga={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},_0e=0,lz=1,S0e=2,U5=1,E0e=2,U0=3,ks=0,ai=1,Co=2,Bn=0,xh=1,cz=2,uz=3,dz=4,C0e=5,sf=100,A0e=101,M0e=102,hz=103,pz=104,T0e=200,P0e=201,k0e=202,D0e=203,iq=204,oq=205,j0e=206,I0e=207,O0e=208,R0e=209,z0e=210,L0e=0,N0e=1,B0e=2,_T=3,F0e=4,U0e=5,V0e=6,H0e=7,aq=0,W0e=1,G0e=2,Ec=0,q0e=1,Y0e=2,$0e=3,X0e=4,K0e=5,sq=300,Uh=301,Vh=302,ST=303,ET=304,e1=306,mc=1e3,_n=1001,CT=1002,kr=1003,fz=1004,_E=1005,Wt=1006,Q0e=1007,Um=1008,Li=1009,Z0e=1010,J0e=1011,lq=1012,eve=1013,gc=1014,to=1015,Hh=1016,tve=1017,rve=1018,wh=1020,nve=1021,Jo=1023,ive=1024,ove=1025,_h=1026,Wh=1027,ave=1028,sve=1029,Xw=1030,lve=1031,cq=1033,SE=33776,EE=33777,CE=33778,AE=33779,mz=35840,gz=35841,vz=35842,yz=35843,cve=36196,bz=37492,xz=37496,wz=37808,_z=37809,Sz=37810,Ez=37811,Cz=37812,Az=37813,Mz=37814,Tz=37815,Pz=37816,kz=37817,Dz=37818,jz=37819,Iz=37820,Oz=37821,ME=36492,uve=36283,Rz=36284,zz=36285,Lz=36286,uq=2200,dq=2201,V5=2202,Kw=2300,Qw=2301,TE=2302,Of=2400,Rf=2401,Zw=2402,H5=2500,dve=2501,El=3e3,It=3001,Wc=3200,hq=3201,hve=0,pve=1,Js="srgb",Jw="srgb-linear",PE=7680,fve=519,AT=35044,mve=35048,Nz="300 es",MT=1035,wi=class{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});let r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(t)===-1&&r[e].push(t)}hasEventListener(e,t){if(this._listeners===void 0)return!1;let r=this._listeners;return r[e]!==void 0&&r[e].indexOf(t)!==-1}removeEventListener(e,t){if(this._listeners===void 0)return;let r=this._listeners[e];if(r!==void 0){let n=r.indexOf(t);n!==-1&&r.splice(n,1)}}dispatchEvent(e){if(this._listeners===void 0)return;let t=this._listeners[e.type];if(t!==void 0){e.target=this;let r=t.slice(0);for(let n=0,i=r.length;n<i;n++)r[n].call(this,e);e.target=null}}},Ei=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],Bz=1234567,mv=Math.PI/180,uy=180/Math.PI;function Va(){let e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,r=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Ei[e&255]+Ei[e>>8&255]+Ei[e>>16&255]+Ei[e>>24&255]+"-"+Ei[t&255]+Ei[t>>8&255]+"-"+Ei[t>>16&15|64]+Ei[t>>24&255]+"-"+Ei[r&63|128]+Ei[r>>8&255]+"-"+Ei[r>>16&255]+Ei[r>>24&255]+Ei[n&255]+Ei[n>>8&255]+Ei[n>>16&255]+Ei[n>>24&255]).toLowerCase()}function zn(e,t,r){return Math.max(t,Math.min(r,e))}function W5(e,t){return(e%t+t)%t}function gve(e,t,r,n,i){return n+(e-t)*(i-n)/(r-t)}function vve(e,t,r){return e!==t?(r-e)/(t-e):0}function gv(e,t,r){return(1-r)*e+r*t}function yve(e,t,r,n){return gv(e,t,1-Math.exp(-r*n))}function bve(e,t=1){return t-Math.abs(W5(e,t*2)-t)}function xve(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*(3-2*e))}function wve(e,t,r){return e<=t?0:e>=r?1:(e=(e-t)/(r-t),e*e*e*(e*(e*6-15)+10))}function _ve(e,t){return e+Math.floor(Math.random()*(t-e+1))}function Sve(e,t){return e+Math.random()*(t-e)}function Eve(e){return e*(.5-Math.random())}function Cve(e){e!==void 0&&(Bz=e);let t=Bz+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}function Ave(e){return e*mv}function Mve(e){return e*uy}function TT(e){return(e&e-1)===0&&e!==0}function pq(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function e_(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function Tve(e,t,r,n,i){let o=Math.cos,l=Math.sin,c=o(r/2),a=l(r/2),s=o((t+n)/2),u=l((t+n)/2),d=o((t-n)/2),h=l((t-n)/2),p=o((n-t)/2),m=l((n-t)/2);switch(i){case"XYX":e.set(c*u,a*d,a*h,c*s);break;case"YZY":e.set(a*h,c*u,a*d,c*s);break;case"ZXZ":e.set(a*d,a*h,c*u,c*s);break;case"XZX":e.set(c*u,a*m,a*p,c*s);break;case"YXY":e.set(a*p,c*u,a*m,c*s);break;case"ZYZ":e.set(a*m,a*p,c*u,c*s);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function vc(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function Pr(e,t){switch(t.constructor){case Float32Array:return e;case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}var at=Object.freeze({__proto__:null,DEG2RAD:mv,RAD2DEG:uy,ceilPowerOfTwo:pq,clamp:zn,damp:yve,degToRad:Ave,denormalize:vc,euclideanModulo:W5,floorPowerOfTwo:e_,generateUUID:Va,inverseLerp:vve,isPowerOfTwo:TT,lerp:gv,mapLinear:gve,normalize:Pr,pingpong:bve,radToDeg:Mve,randFloat:Sve,randFloatSpread:Eve,randInt:_ve,seededRandom:Cve,setQuaternionFromProperEuler:Tve,smootherstep:wve,smoothstep:xve}),re=class{constructor(t=0,r=0){re.prototype.isVector2=!0,this.x=t,this.y=r}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,r){return this.x=t,this.y=r,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t){return this.x+=t.x,this.y+=t.y,this}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){let r=this.x,n=this.y,i=t.elements;return this.x=i[0]*r+i[3]*n+i[6],this.y=i[1]*r+i[4]*n+i[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this}clampLength(t,r){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let r=this.x-t.x,n=this.y-t.y;return r*r+n*n}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this}lerpVectors(t,r,n){return this.x=t.x+(r.x-t.x)*n,this.y=t.y+(r.y-t.y)*n,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this}rotateAround(t,r){let n=Math.cos(r),i=Math.sin(r),o=this.x-t.x,l=this.y-t.y;return this.x=o*n-l*i+t.x,this.y=o*i+l*n+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}},Sn=class{constructor(){Sn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,t,r,n,i,o,l,c,a){let s=this.elements;return s[0]=e,s[1]=n,s[2]=l,s[3]=t,s[4]=i,s[5]=c,s[6]=r,s[7]=o,s[8]=a,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],this}extractBasis(e,t,r){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){let t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,n=t.elements,i=this.elements,o=r[0],l=r[3],c=r[6],a=r[1],s=r[4],u=r[7],d=r[2],h=r[5],p=r[8],m=n[0],f=n[3],g=n[6],v=n[1],x=n[4],y=n[7],b=n[2],w=n[5],_=n[8];return i[0]=o*m+l*v+c*b,i[3]=o*f+l*x+c*w,i[6]=o*g+l*y+c*_,i[1]=a*m+s*v+u*b,i[4]=a*f+s*x+u*w,i[7]=a*g+s*y+u*_,i[2]=d*m+h*v+p*b,i[5]=d*f+h*x+p*w,i[8]=d*g+h*y+p*_,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],l=e[5],c=e[6],a=e[7],s=e[8];return t*o*s-t*l*a-r*i*s+r*l*c+n*i*a-n*o*c}invert(){let e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],l=e[5],c=e[6],a=e[7],s=e[8],u=s*o-l*a,d=l*c-s*i,h=a*i-o*c,p=t*u+r*d+n*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);let m=1/p;return e[0]=u*m,e[1]=(n*a-s*r)*m,e[2]=(l*r-n*o)*m,e[3]=d*m,e[4]=(s*t-n*c)*m,e[5]=(n*i-l*t)*m,e[6]=h*m,e[7]=(r*c-a*t)*m,e[8]=(o*t-r*i)*m,this}transpose(){let e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){let t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,r,n,i,o,l){let c=Math.cos(i),a=Math.sin(i);return this.set(r*c,r*a,-r*(c*o+a*l)+o+e,-n*a,n*c,-n*(-a*o+c*l)+l+t,0,0,1),this}scale(e,t){return this.premultiply(kE.makeScale(e,t)),this}rotate(e){return this.premultiply(kE.makeRotation(-e)),this}translate(e,t){return this.premultiply(kE.makeTranslation(e,t)),this}makeTranslation(e,t){return this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,r,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){let t=this.elements,r=e.elements;for(let n=0;n<9;n++)if(t[n]!==r[n])return!1;return!0}fromArray(e,t=0){for(let r=0;r<9;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}},kE=new Sn;function fq(e){for(let t=e.length-1;t>=0;--t)if(e[t]>=65535)return!0;return!1}var Pve={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Y1(e,t){return new Pve[e](t)}function t_(e){return document.createElementNS("http://www.w3.org/1999/xhtml",e)}function Sh(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function Ux(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}var DE={[Js]:{[Jw]:Sh},[Jw]:{[Js]:Ux}},Fi={legacyMode:!0,get workingColorSpace(){return Jw},set workingColorSpace(e){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(e,t,r){if(this.legacyMode||t===r||!t||!r)return e;if(DE[t]&&DE[t][r]!==void 0){let n=DE[t][r];return e.r=n(e.r),e.g=n(e.g),e.b=n(e.b),e}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(e,t){return this.convert(e,this.workingColorSpace,t)},toWorkingColorSpace:function(e,t){return this.convert(e,t,this.workingColorSpace)}},mq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Vn={r:0,g:0,b:0},rs={h:0,s:0,l:0},$1={h:0,s:0,l:0};function jE(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+(t-e)*6*r:r<1/2?t:r<2/3?e+(t-e)*6*(2/3-r):e}function X1(e,t){return t.r=e.r,t.g=e.g,t.b=e.b,t}var ht=class{constructor(e,t,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,t===void 0&&r===void 0?this.set(e):this.setRGB(e,t,r)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Js){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Fi.toWorkingColorSpace(this,t),this}setRGB(e,t,r,n=Fi.workingColorSpace){return this.r=e,this.g=t,this.b=r,Fi.toWorkingColorSpace(this,n),this}setHSL(e,t,r,n=Fi.workingColorSpace){if(e=W5(e,1),t=zn(t,0,1),r=zn(r,0,1),t===0)this.r=this.g=this.b=r;else{let i=r<=.5?r*(1+t):r+t-r*t,o=2*r-i;this.r=jE(o,i,e+1/3),this.g=jE(o,i,e),this.b=jE(o,i,e-1/3)}return Fi.toWorkingColorSpace(this,n),this}setStyle(e,t=Js){function r(i){i!==void 0&&parseFloat(i)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let n;if(n=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let i,o=n[1],l=n[2];switch(o){case"rgb":case"rgba":if(i=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,Fi.toWorkingColorSpace(this,t),r(i[4]),this;if(i=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,Fi.toWorkingColorSpace(this,t),r(i[4]),this;break;case"hsl":case"hsla":if(i=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(l)){let c=parseFloat(i[1])/360,a=parseFloat(i[2])/100,s=parseFloat(i[3])/100;return r(i[4]),this.setHSL(c,a,s,t)}break}}else if(n=/^\#([A-Fa-f\d]+)$/.exec(e)){let i=n[1],o=i.length;if(o===3)return this.r=parseInt(i.charAt(0)+i.charAt(0),16)/255,this.g=parseInt(i.charAt(1)+i.charAt(1),16)/255,this.b=parseInt(i.charAt(2)+i.charAt(2),16)/255,Fi.toWorkingColorSpace(this,t),this;if(o===6)return this.r=parseInt(i.charAt(0)+i.charAt(1),16)/255,this.g=parseInt(i.charAt(2)+i.charAt(3),16)/255,this.b=parseInt(i.charAt(4)+i.charAt(5),16)/255,Fi.toWorkingColorSpace(this,t),this}return e&&e.length>0?this.setColorName(e,t):this}setColorName(e,t=Js){let r=mq[e.toLowerCase()];return r!==void 0?this.setHex(r,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Sh(e.r),this.g=Sh(e.g),this.b=Sh(e.b),this}copyLinearToSRGB(e){return this.r=Ux(e.r),this.g=Ux(e.g),this.b=Ux(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Js){return Fi.fromWorkingColorSpace(X1(this,Vn),e),zn(Vn.r*255,0,255)<<16^zn(Vn.g*255,0,255)<<8^zn(Vn.b*255,0,255)<<0}getHexString(e=Js){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Fi.workingColorSpace){Fi.fromWorkingColorSpace(X1(this,Vn),t);let r=Vn.r,n=Vn.g,i=Vn.b,o=Math.max(r,n,i),l=Math.min(r,n,i),c,a,s=(l+o)/2;if(l===o)c=0,a=0;else{let u=o-l;switch(a=s<=.5?u/(o+l):u/(2-o-l),o){case r:c=(n-i)/u+(n<i?6:0);break;case n:c=(i-r)/u+2;break;case i:c=(r-n)/u+4;break}c/=6}return e.h=c,e.s=a,e.l=s,e}getRGB(e,t=Fi.workingColorSpace){return Fi.fromWorkingColorSpace(X1(this,Vn),t),e.r=Vn.r,e.g=Vn.g,e.b=Vn.b,e}getStyle(e=Js){return Fi.fromWorkingColorSpace(X1(this,Vn),e),e!==Js?`color(${e} ${Vn.r} ${Vn.g} ${Vn.b})`:`rgb(${Vn.r*255|0},${Vn.g*255|0},${Vn.b*255|0})`}offsetHSL(e,t,r){return this.getHSL(rs),rs.h+=e,rs.s+=t,rs.l+=r,this.setHSL(rs.h,rs.s,rs.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,r){return this.r=e.r+(t.r-e.r)*r,this.g=e.g+(t.g-e.g)*r,this.b=e.b+(t.b-e.b)*r,this}lerpHSL(e,t){this.getHSL(rs),e.getHSL($1);let r=gv(rs.h,$1.h,t),n=gv(rs.s,$1.s,t),i=gv(rs.l,$1.l,t);return this.setHSL(r,n,i),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};ht.NAMES=mq;var _p,gq=class{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{_p===void 0&&(_p=t_("canvas")),_p.width=e.width,_p.height=e.height;let r=_p.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),t=_p}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){let t=t_("canvas");t.width=e.width,t.height=e.height;let r=t.getContext("2d");r.drawImage(e,0,0,e.width,e.height);let n=r.getImageData(0,0,e.width,e.height),i=n.data;for(let o=0;o<i.length;o++)i[o]=Sh(i[o]/255)*255;return r.putImageData(n,0,0),t}else if(e.data){let t=e.data.slice(0);for(let r=0;r<t.length;r++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[r]=Math.floor(Sh(t[r]/255)*255):t[r]=Sh(t[r]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}},vq=class{constructor(e=null){this.isSource=!0,this.uuid=Va(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];let r={uuid:this.uuid,url:""},n=this.data;if(n!==null){let i;if(Array.isArray(n)){i=[];for(let o=0,l=n.length;o<l;o++)n[o].isDataTexture?i.push(IE(n[o].image)):i.push(IE(n[o]))}else i=IE(n);r.url=i}return t||(e.images[this.uuid]=r),r}};function IE(e){return typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap?gq.getDataURL(e):e.data?{data:Array.from(e.data),width:e.width,height:e.height,type:e.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}var kve=0,Xn=class extends wi{constructor(e=Xn.DEFAULT_IMAGE,t=Xn.DEFAULT_MAPPING,r=_n,n=_n,i=Wt,o=Um,l=Jo,c=Li,a=Xn.DEFAULT_ANISOTROPY,s=El){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:kve++}),this.uuid=Va(),this.name="",this.source=new vq(e),this.mipmaps=[],this.mapping=t,this.wrapS=r,this.wrapT=n,this.magFilter=i,this.minFilter=o,this.anisotropy=a,this.format=l,this.internalFormat=null,this.type=c,this.offset=new re(0,0),this.repeat=new re(1,1),this.center=new re(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Sn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=s,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){let t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];let r={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),t||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==sq)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case mc:e.x=e.x-Math.floor(e.x);break;case _n:e.x=e.x<0?0:1;break;case CT:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case mc:e.y=e.y-Math.floor(e.y);break;case _n:e.y=e.y<0?0:1;break;case CT:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}};Xn.DEFAULT_IMAGE=null;Xn.DEFAULT_MAPPING=sq;Xn.DEFAULT_ANISOTROPY=1;var Ot=class{constructor(e=0,t=0,r=0,n=1){Ot.prototype.isVector4=!0,this.x=e,this.y=t,this.z=r,this.w=n}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,r,n){return this.x=e,this.y=t,this.z=r,this.w=n,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){let t=this.x,r=this.y,n=this.z,i=this.w,o=e.elements;return this.x=o[0]*t+o[4]*r+o[8]*n+o[12]*i,this.y=o[1]*t+o[5]*r+o[9]*n+o[13]*i,this.z=o[2]*t+o[6]*r+o[10]*n+o[14]*i,this.w=o[3]*t+o[7]*r+o[11]*n+o[15]*i,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);let t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,r,n,i,o=e.elements,l=o[0],c=o[4],a=o[8],s=o[1],u=o[5],d=o[9],h=o[2],p=o[6],m=o[10];if(Math.abs(c-s)<.01&&Math.abs(a-h)<.01&&Math.abs(d-p)<.01){if(Math.abs(c+s)<.1&&Math.abs(a+h)<.1&&Math.abs(d+p)<.1&&Math.abs(l+u+m-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;let g=(l+1)/2,v=(u+1)/2,x=(m+1)/2,y=(c+s)/4,b=(a+h)/4,w=(d+p)/4;return g>v&&g>x?g<.01?(r=0,n=.707106781,i=.707106781):(r=Math.sqrt(g),n=y/r,i=b/r):v>x?v<.01?(r=.707106781,n=0,i=.707106781):(n=Math.sqrt(v),r=y/n,i=w/n):x<.01?(r=.707106781,n=.707106781,i=0):(i=Math.sqrt(x),r=b/i,n=w/i),this.set(r,n,i,t),this}let f=Math.sqrt((p-d)*(p-d)+(a-h)*(a-h)+(s-c)*(s-c));return Math.abs(f)<.001&&(f=1),this.x=(p-d)/f,this.y=(a-h)/f,this.z=(s-c)/f,this.w=Math.acos((l+u+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){let r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(t,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,r){return this.x=e.x+(t.x-e.x)*r,this.y=e.y+(t.y-e.y)*r,this.z=e.z+(t.z-e.z)*r,this.w=e.w+(t.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}},br=class extends wi{constructor(e=1,t=1,r={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Ot(0,0,e,t),this.scissorTest=!1,this.viewport=new Ot(0,0,e,t);let n={width:e,height:t,depth:1};this.texture=new Xn(n,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps!==void 0?r.generateMipmaps:!1,this.texture.internalFormat=r.internalFormat!==void 0?r.internalFormat:null,this.texture.minFilter=r.minFilter!==void 0?r.minFilter:Wt,this.depthBuffer=r.depthBuffer!==void 0?r.depthBuffer:!0,this.stencilBuffer=r.stencilBuffer!==void 0?r.stencilBuffer:!1,this.depthTexture=r.depthTexture!==void 0?r.depthTexture:null,this.samples=r.samples!==void 0?r.samples:0}setSize(e,t,r=1){(this.width!==e||this.height!==t||this.depth!==r)&&(this.width=e,this.height=t,this.depth=r,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;let t=Object.assign({},e.texture.image);return this.texture.source=new vq(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}},yq=class extends Xn{constructor(e=null,t=1,r=1,n=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:r,depth:n},this.magFilter=kr,this.minFilter=kr,this.wrapR=_n,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},Dve=class extends Xn{constructor(e=null,t=1,r=1,n=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:r,depth:n},this.magFilter=kr,this.minFilter=kr,this.wrapR=_n,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},jve=class extends br{constructor(e=1,t=1,r=1,n={}){super(e,t,n),this.isWebGLMultipleRenderTargets=!0;let i=this.texture;this.texture=[];for(let o=0;o<r;o++)this.texture[o]=i.clone(),this.texture[o].isRenderTargetTexture=!0}setSize(e,t,r=1){if(this.width!==e||this.height!==t||this.depth!==r){this.width=e,this.height=t,this.depth=r;for(let n=0,i=this.texture.length;n<i;n++)this.texture[n].image.width=e,this.texture[n].image.height=t,this.texture[n].image.depth=r;this.dispose()}return this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t),this}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let t=0,r=e.texture.length;t<r;t++)this.texture[t]=e.texture[t].clone(),this.texture[t].isRenderTargetTexture=!0;return this}},Ct=class{constructor(e=0,t=0,r=0,n=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=r,this._w=n}static slerpFlat(e,t,r,n,i,o,l){let c=r[n+0],a=r[n+1],s=r[n+2],u=r[n+3],d=i[o+0],h=i[o+1],p=i[o+2],m=i[o+3];if(l===0){e[t+0]=c,e[t+1]=a,e[t+2]=s,e[t+3]=u;return}if(l===1){e[t+0]=d,e[t+1]=h,e[t+2]=p,e[t+3]=m;return}if(u!==m||c!==d||a!==h||s!==p){let f=1-l,g=c*d+a*h+s*p+u*m,v=g>=0?1:-1,x=1-g*g;if(x>Number.EPSILON){let b=Math.sqrt(x),w=Math.atan2(b,g*v);f=Math.sin(f*w)/b,l=Math.sin(l*w)/b}let y=l*v;if(c=c*f+d*y,a=a*f+h*y,s=s*f+p*y,u=u*f+m*y,f===1-l){let b=1/Math.sqrt(c*c+a*a+s*s+u*u);c*=b,a*=b,s*=b,u*=b}}e[t]=c,e[t+1]=a,e[t+2]=s,e[t+3]=u}static multiplyQuaternionsFlat(e,t,r,n,i,o){let l=r[n],c=r[n+1],a=r[n+2],s=r[n+3],u=i[o],d=i[o+1],h=i[o+2],p=i[o+3];return e[t]=l*p+s*u+c*h-a*d,e[t+1]=c*p+s*d+a*u-l*h,e[t+2]=a*p+s*h+l*d-c*u,e[t+3]=s*p-l*u-c*d-a*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,r,n){return this._x=e,this._y=t,this._z=r,this._w=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){let r=e._x,n=e._y,i=e._z,o=e._order,l=Math.cos,c=Math.sin,a=l(r/2),s=l(n/2),u=l(i/2),d=c(r/2),h=c(n/2),p=c(i/2);switch(o){case"XYZ":this._x=d*s*u+a*h*p,this._y=a*h*u-d*s*p,this._z=a*s*p+d*h*u,this._w=a*s*u-d*h*p;break;case"YXZ":this._x=d*s*u+a*h*p,this._y=a*h*u-d*s*p,this._z=a*s*p-d*h*u,this._w=a*s*u+d*h*p;break;case"ZXY":this._x=d*s*u-a*h*p,this._y=a*h*u+d*s*p,this._z=a*s*p+d*h*u,this._w=a*s*u-d*h*p;break;case"ZYX":this._x=d*s*u-a*h*p,this._y=a*h*u+d*s*p,this._z=a*s*p-d*h*u,this._w=a*s*u+d*h*p;break;case"YZX":this._x=d*s*u+a*h*p,this._y=a*h*u+d*s*p,this._z=a*s*p-d*h*u,this._w=a*s*u-d*h*p;break;case"XZY":this._x=d*s*u-a*h*p,this._y=a*h*u-d*s*p,this._z=a*s*p+d*h*u,this._w=a*s*u+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,t){let r=t/2,n=Math.sin(r);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){let t=e.elements,r=t[0],n=t[4],i=t[8],o=t[1],l=t[5],c=t[9],a=t[2],s=t[6],u=t[10],d=r+l+u;if(d>0){let h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(s-c)*h,this._y=(i-a)*h,this._z=(o-n)*h}else if(r>l&&r>u){let h=2*Math.sqrt(1+r-l-u);this._w=(s-c)/h,this._x=.25*h,this._y=(n+o)/h,this._z=(i+a)/h}else if(l>u){let h=2*Math.sqrt(1+l-r-u);this._w=(i-a)/h,this._x=(n+o)/h,this._y=.25*h,this._z=(c+s)/h}else{let h=2*Math.sqrt(1+u-r-l);this._w=(o-n)/h,this._x=(i+a)/h,this._y=(c+s)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let r=e.dot(t)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(zn(this.dot(e),-1,1)))}rotateTowards(e,t){let r=this.angleTo(e);if(r===0)return this;let n=Math.min(1,t/r);return this.slerp(e,n),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){let r=e._x,n=e._y,i=e._z,o=e._w,l=t._x,c=t._y,a=t._z,s=t._w;return this._x=r*s+o*l+n*a-i*c,this._y=n*s+o*c+i*l-r*a,this._z=i*s+o*a+r*c-n*l,this._w=o*s-r*l-n*c-i*a,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);let r=this._x,n=this._y,i=this._z,o=this._w,l=o*e._w+r*e._x+n*e._y+i*e._z;if(l<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,l=-l):this.copy(e),l>=1)return this._w=o,this._x=r,this._y=n,this._z=i,this;let c=1-l*l;if(c<=Number.EPSILON){let h=1-t;return this._w=h*o+t*this._w,this._x=h*r+t*this._x,this._y=h*n+t*this._y,this._z=h*i+t*this._z,this.normalize(),this._onChangeCallback(),this}let a=Math.sqrt(c),s=Math.atan2(a,l),u=Math.sin((1-t)*s)/a,d=Math.sin(t*s)/a;return this._w=o*u+this._w*d,this._x=r*u+this._x*d,this._y=n*u+this._y*d,this._z=i*u+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,t,r){return this.copy(e).slerp(t,r)}random(){let e=Math.random(),t=Math.sqrt(1-e),r=Math.sqrt(e),n=2*Math.PI*Math.random(),i=2*Math.PI*Math.random();return this.set(t*Math.cos(n),r*Math.sin(i),r*Math.cos(i),t*Math.sin(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}},L=class{constructor(t=0,r=0,n=0){L.prototype.isVector3=!0,this.x=t,this.y=r,this.z=n}set(t,r,n){return n===void 0&&(n=this.z),this.x=t,this.y=r,this.z=n,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,r){switch(t){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t){return this.x+=t.x,this.y+=t.y,this.z+=t.z,this}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,r){return this.x=t.x+r.x,this.y=t.y+r.y,this.z=t.z+r.z,this}addScaledVector(t,r){return this.x+=t.x*r,this.y+=t.y*r,this.z+=t.z*r,this}sub(t){return this.x-=t.x,this.y-=t.y,this.z-=t.z,this}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,r){return this.x=t.x-r.x,this.y=t.y-r.y,this.z=t.z-r.z,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,r){return this.x=t.x*r.x,this.y=t.y*r.y,this.z=t.z*r.z,this}applyEuler(t){return this.applyQuaternion(Fz.setFromEuler(t))}applyAxisAngle(t,r){return this.applyQuaternion(Fz.setFromAxisAngle(t,r))}applyMatrix3(t){let r=this.x,n=this.y,i=this.z,o=t.elements;return this.x=o[0]*r+o[3]*n+o[6]*i,this.y=o[1]*r+o[4]*n+o[7]*i,this.z=o[2]*r+o[5]*n+o[8]*i,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){let r=this.x,n=this.y,i=this.z,o=t.elements,l=1/(o[3]*r+o[7]*n+o[11]*i+o[15]);return this.x=(o[0]*r+o[4]*n+o[8]*i+o[12])*l,this.y=(o[1]*r+o[5]*n+o[9]*i+o[13])*l,this.z=(o[2]*r+o[6]*n+o[10]*i+o[14])*l,this}applyQuaternion(t){let r=this.x,n=this.y,i=this.z,o=t.x,l=t.y,c=t.z,a=t.w,s=a*r+l*i-c*n,u=a*n+c*r-o*i,d=a*i+o*n-l*r,h=-o*r-l*n-c*i;return this.x=s*a+h*-o+u*-c-d*-l,this.y=u*a+h*-l+d*-o-s*-c,this.z=d*a+h*-c+s*-l-u*-o,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){let r=this.x,n=this.y,i=this.z,o=t.elements;return this.x=o[0]*r+o[4]*n+o[8]*i,this.y=o[1]*r+o[5]*n+o[9]*i,this.z=o[2]*r+o[6]*n+o[10]*i,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,r){return this.x=Math.max(t.x,Math.min(r.x,this.x)),this.y=Math.max(t.y,Math.min(r.y,this.y)),this.z=Math.max(t.z,Math.min(r.z,this.z)),this}clampScalar(t,r){return this.x=Math.max(t,Math.min(r,this.x)),this.y=Math.max(t,Math.min(r,this.y)),this.z=Math.max(t,Math.min(r,this.z)),this}clampLength(t,r){let n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(r,n)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,r){return this.x+=(t.x-this.x)*r,this.y+=(t.y-this.y)*r,this.z+=(t.z-this.z)*r,this}lerpVectors(t,r,n){return this.x=t.x+(r.x-t.x)*n,this.y=t.y+(r.y-t.y)*n,this.z=t.z+(r.z-t.z)*n,this}cross(t){return this.crossVectors(this,t)}crossVectors(t,r){let n=t.x,i=t.y,o=t.z,l=r.x,c=r.y,a=r.z;return this.x=i*a-o*c,this.y=o*l-n*a,this.z=n*c-i*l,this}projectOnVector(t){let r=t.lengthSq();if(r===0)return this.set(0,0,0);let n=t.dot(this)/r;return this.copy(t).multiplyScalar(n)}projectOnPlane(t){return OE.copy(this).projectOnVector(t),this.sub(OE)}reflect(t){return this.sub(OE.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){let r=Math.sqrt(this.lengthSq()*t.lengthSq());if(r===0)return Math.PI/2;let n=this.dot(t)/r;return Math.acos(zn(n,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){let r=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return r*r+n*n+i*i}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,r,n){let i=Math.sin(r)*t;return this.x=i*Math.sin(n),this.y=Math.cos(r)*t,this.z=i*Math.cos(n),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,r,n){return this.x=t*Math.sin(r),this.y=n,this.z=t*Math.cos(r),this}setFromMatrixPosition(t){let r=t.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this}setFromMatrixScale(t){let r=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=r,this.y=n,this.z=i,this}setFromMatrixColumn(t,r){return this.fromArray(t.elements,r*4)}setFromMatrix3Column(t,r){return this.fromArray(t.elements,r*3)}setFromEuler(t){return this.x=t._x,this.y=t._y,this.z=t._z,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,r=0){return this.x=t[r],this.y=t[r+1],this.z=t[r+2],this}toArray(t=[],r=0){return t[r]=this.x,t[r+1]=this.y,t[r+2]=this.z,t}fromBufferAttribute(t,r){return this.x=t.getX(r),this.y=t.getY(r),this.z=t.getZ(r),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){let t=(Math.random()-.5)*2,r=Math.random()*Math.PI*2,n=Math.sqrt(1-t**2);return this.x=n*Math.cos(r),this.y=n*Math.sin(r),this.z=t,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}},OE=new L,Fz=new Ct,Cn=class{constructor(e=new L(1/0,1/0,1/0),t=new L(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){let t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,l=-1/0;for(let c=0,a=e.length;c<a;c+=3){let s=e[c],u=e[c+1],d=e[c+2];s<t&&(t=s),u<r&&(r=u),d<n&&(n=d),s>i&&(i=s),u>o&&(o=u),d>l&&(l=d)}return this.min.set(t,r,n),this.max.set(i,o,l),this}setFromBufferAttribute(e){let t=1/0,r=1/0,n=1/0,i=-1/0,o=-1/0,l=-1/0;for(let c=0,a=e.count;c<a;c++){let s=e.getX(c),u=e.getY(c),d=e.getZ(c);s<t&&(t=s),u<r&&(r=u),d<n&&(n=d),s>i&&(i=s),u>o&&(o=u),d>l&&(l=d)}return this.min.set(t,r,n),this.max.set(i,o,l),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=Ed.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);let r=e.geometry;if(r!==void 0)if(t&&r.attributes!=null&&r.attributes.position!==void 0){let i=r.attributes.position;for(let o=0,l=i.count;o<l;o++)Ed.fromBufferAttribute(i,o).applyMatrix4(e.matrixWorld),this.expandByPoint(Ed)}else r.boundingBox===null&&r.computeBoundingBox(),RE.copy(r.boundingBox),RE.applyMatrix4(e.matrixWorld),this.union(RE);let n=e.children;for(let i=0,o=n.length;i<o;i++)this.expandByObject(n[i],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Ed),Ed.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,r;return e.normal.x>0?(t=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),t<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(t0),K1.subVectors(this.max,t0),Sp.subVectors(e.a,t0),Ep.subVectors(e.b,t0),Cp.subVectors(e.c,t0),$c.subVectors(Ep,Sp),Xc.subVectors(Cp,Ep),Cd.subVectors(Sp,Cp);let t=[0,-$c.z,$c.y,0,-Xc.z,Xc.y,0,-Cd.z,Cd.y,$c.z,0,-$c.x,Xc.z,0,-Xc.x,Cd.z,0,-Cd.x,-$c.y,$c.x,0,-Xc.y,Xc.x,0,-Cd.y,Cd.x,0];return!zE(t,Sp,Ep,Cp,K1)||(t=[1,0,0,0,1,0,0,0,1],!zE(t,Sp,Ep,Cp,K1))?!1:(Q1.crossVectors($c,Xc),t=[Q1.x,Q1.y,Q1.z],zE(t,Sp,Ep,Cp,K1))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return Ed.copy(e).clamp(this.min,this.max).sub(e).length()}getBoundingSphere(e){return this.getCenter(e.center),e.radius=this.getSize(Ed).length()*.5,e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Rl[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Rl[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Rl[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Rl[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Rl[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Rl[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Rl[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Rl[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Rl),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Rl=[new L,new L,new L,new L,new L,new L,new L,new L],Ed=new L,RE=new Cn,Sp=new L,Ep=new L,Cp=new L,$c=new L,Xc=new L,Cd=new L,t0=new L,K1=new L,Q1=new L,Ad=new L;function zE(e,t,r,n,i){for(let o=0,l=e.length-3;o<=l;o+=3){Ad.fromArray(e,o);let c=i.x*Math.abs(Ad.x)+i.y*Math.abs(Ad.y)+i.z*Math.abs(Ad.z),a=t.dot(Ad),s=r.dot(Ad),u=n.dot(Ad);if(Math.max(-Math.max(a,s,u),Math.min(a,s,u))>c)return!1}return!0}var Ive=new Cn,r0=new L,LE=new L,Bo=class{constructor(e=new L,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){let r=this.center;t!==void 0?r.copy(t):Ive.setFromPoints(e).getCenter(r);let n=0;for(let i=0,o=e.length;i<o;i++)n=Math.max(n,r.distanceToSquared(e[i]));return this.radius=Math.sqrt(n),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){let t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){let r=this.center.distanceToSquared(e);return t.copy(e),r>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;r0.subVectors(e,this.center);let t=r0.lengthSq();if(t>this.radius*this.radius){let r=Math.sqrt(t),n=(r-this.radius)*.5;this.center.addScaledVector(r0,n/r),this.radius+=n}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(LE.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(r0.copy(e.center).add(LE)),this.expandByPoint(r0.copy(e.center).sub(LE))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}},zl=new L,NE=new L,Z1=new L,Kc=new L,BE=new L,J1=new L,FE=new L,mg=class{constructor(e=new L,t=new L(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.direction).multiplyScalar(e).add(this.origin)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,zl)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);let r=t.dot(this.direction);return r<0?t.copy(this.origin):t.copy(this.direction).multiplyScalar(r).add(this.origin)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){let t=zl.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(zl.copy(this.direction).multiplyScalar(t).add(this.origin),zl.distanceToSquared(e))}distanceSqToSegment(e,t,r,n){NE.copy(e).add(t).multiplyScalar(.5),Z1.copy(t).sub(e).normalize(),Kc.copy(this.origin).sub(NE);let i=e.distanceTo(t)*.5,o=-this.direction.dot(Z1),l=Kc.dot(this.direction),c=-Kc.dot(Z1),a=Kc.lengthSq(),s=Math.abs(1-o*o),u,d,h,p;if(s>0)if(u=o*c-l,d=o*l-c,p=i*s,u>=0)if(d>=-p)if(d<=p){let m=1/s;u*=m,d*=m,h=u*(u+o*d+2*l)+d*(o*u+d+2*c)+a}else d=i,u=Math.max(0,-(o*d+l)),h=-u*u+d*(d+2*c)+a;else d=-i,u=Math.max(0,-(o*d+l)),h=-u*u+d*(d+2*c)+a;else d<=-p?(u=Math.max(0,-(-o*i+l)),d=u>0?-i:Math.min(Math.max(-i,-c),i),h=-u*u+d*(d+2*c)+a):d<=p?(u=0,d=Math.min(Math.max(-i,-c),i),h=d*(d+2*c)+a):(u=Math.max(0,-(o*i+l)),d=u>0?i:Math.min(Math.max(-i,-c),i),h=-u*u+d*(d+2*c)+a);else d=o>0?-i:i,u=Math.max(0,-(o*d+l)),h=-u*u+d*(d+2*c)+a;return r&&r.copy(this.direction).multiplyScalar(u).add(this.origin),n&&n.copy(Z1).multiplyScalar(d).add(NE),h}intersectSphere(e,t){zl.subVectors(e.center,this.origin);let r=zl.dot(this.direction),n=zl.dot(zl)-r*r,i=e.radius*e.radius;if(n>i)return null;let o=Math.sqrt(i-n),l=r-o,c=r+o;return l<0&&c<0?null:l<0?this.at(c,t):this.at(l,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){let t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;let r=-(this.origin.dot(e.normal)+e.constant)/t;return r>=0?r:null}intersectPlane(e,t){let r=this.distanceToPlane(e);return r===null?null:this.at(r,t)}intersectsPlane(e){let t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let r,n,i,o,l,c,a=1/this.direction.x,s=1/this.direction.y,u=1/this.direction.z,d=this.origin;return a>=0?(r=(e.min.x-d.x)*a,n=(e.max.x-d.x)*a):(r=(e.max.x-d.x)*a,n=(e.min.x-d.x)*a),s>=0?(i=(e.min.y-d.y)*s,o=(e.max.y-d.y)*s):(i=(e.max.y-d.y)*s,o=(e.min.y-d.y)*s),r>o||i>n||((i>r||isNaN(r))&&(r=i),(o<n||isNaN(n))&&(n=o),u>=0?(l=(e.min.z-d.z)*u,c=(e.max.z-d.z)*u):(l=(e.max.z-d.z)*u,c=(e.min.z-d.z)*u),r>c||l>n)||((l>r||r!==r)&&(r=l),(c<n||n!==n)&&(n=c),n<0)?null:this.at(r>=0?r:n,t)}intersectsBox(e){return this.intersectBox(e,zl)!==null}intersectTriangle(e,t,r,n,i){BE.subVectors(t,e),J1.subVectors(r,e),FE.crossVectors(BE,J1);let o=this.direction.dot(FE),l;if(o>0){if(n)return null;l=1}else if(o<0)l=-1,o=-o;else return null;Kc.subVectors(this.origin,e);let c=l*this.direction.dot(J1.crossVectors(Kc,J1));if(c<0)return null;let a=l*this.direction.dot(BE.cross(Kc));if(a<0||c+a>o)return null;let s=-l*Kc.dot(FE);return s<0?null:this.at(s/o,i)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}},Re=class{constructor(){Re.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,t,r,n,i,o,l,c,a,s,u,d,h,p,m,f){let g=this.elements;return g[0]=e,g[4]=t,g[8]=r,g[12]=n,g[1]=i,g[5]=o,g[9]=l,g[13]=c,g[2]=a,g[6]=s,g[10]=u,g[14]=d,g[3]=h,g[7]=p,g[11]=m,g[15]=f,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Re().fromArray(this.elements)}copy(e){let t=this.elements,r=e.elements;return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],this}copyPosition(e){let t=this.elements,r=e.elements;return t[12]=r[12],t[13]=r[13],t[14]=r[14],this}setFromMatrix3(e){let t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,r){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,t,r){return this.set(e.x,t.x,r.x,0,e.y,t.y,r.y,0,e.z,t.z,r.z,0,0,0,0,1),this}extractRotation(e){let t=this.elements,r=e.elements,n=1/Ap.setFromMatrixColumn(e,0).length(),i=1/Ap.setFromMatrixColumn(e,1).length(),o=1/Ap.setFromMatrixColumn(e,2).length();return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=0,t[4]=r[4]*i,t[5]=r[5]*i,t[6]=r[6]*i,t[7]=0,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){let t=this.elements,r=e.x,n=e.y,i=e.z,o=Math.cos(r),l=Math.sin(r),c=Math.cos(n),a=Math.sin(n),s=Math.cos(i),u=Math.sin(i);if(e.order==="XYZ"){let d=o*s,h=o*u,p=l*s,m=l*u;t[0]=c*s,t[4]=-c*u,t[8]=a,t[1]=h+p*a,t[5]=d-m*a,t[9]=-l*c,t[2]=m-d*a,t[6]=p+h*a,t[10]=o*c}else if(e.order==="YXZ"){let d=c*s,h=c*u,p=a*s,m=a*u;t[0]=d+m*l,t[4]=p*l-h,t[8]=o*a,t[1]=o*u,t[5]=o*s,t[9]=-l,t[2]=h*l-p,t[6]=m+d*l,t[10]=o*c}else if(e.order==="ZXY"){let d=c*s,h=c*u,p=a*s,m=a*u;t[0]=d-m*l,t[4]=-o*u,t[8]=p+h*l,t[1]=h+p*l,t[5]=o*s,t[9]=m-d*l,t[2]=-o*a,t[6]=l,t[10]=o*c}else if(e.order==="ZYX"){let d=o*s,h=o*u,p=l*s,m=l*u;t[0]=c*s,t[4]=p*a-h,t[8]=d*a+m,t[1]=c*u,t[5]=m*a+d,t[9]=h*a-p,t[2]=-a,t[6]=l*c,t[10]=o*c}else if(e.order==="YZX"){let d=o*c,h=o*a,p=l*c,m=l*a;t[0]=c*s,t[4]=m-d*u,t[8]=p*u+h,t[1]=u,t[5]=o*s,t[9]=-l*s,t[2]=-a*s,t[6]=h*u+p,t[10]=d-m*u}else if(e.order==="XZY"){let d=o*c,h=o*a,p=l*c,m=l*a;t[0]=c*s,t[4]=-u,t[8]=a*s,t[1]=d*u+m,t[5]=o*s,t[9]=h*u-p,t[2]=p*u-h,t[6]=l*s,t[10]=m*u+d}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ove,e,Rve)}lookAt(e,t,r){let n=this.elements;return Ho.subVectors(e,t),Ho.lengthSq()===0&&(Ho.z=1),Ho.normalize(),Qc.crossVectors(r,Ho),Qc.lengthSq()===0&&(Math.abs(r.z)===1?Ho.x+=1e-4:Ho.z+=1e-4,Ho.normalize(),Qc.crossVectors(r,Ho)),Qc.normalize(),eb.crossVectors(Ho,Qc),n[0]=Qc.x,n[4]=eb.x,n[8]=Ho.x,n[1]=Qc.y,n[5]=eb.y,n[9]=Ho.y,n[2]=Qc.z,n[6]=eb.z,n[10]=Ho.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){let r=e.elements,n=t.elements,i=this.elements,o=r[0],l=r[4],c=r[8],a=r[12],s=r[1],u=r[5],d=r[9],h=r[13],p=r[2],m=r[6],f=r[10],g=r[14],v=r[3],x=r[7],y=r[11],b=r[15],w=n[0],_=n[4],S=n[8],E=n[12],A=n[1],C=n[5],M=n[9],T=n[13],k=n[2],P=n[6],D=n[10],I=n[14],O=n[3],j=n[7],N=n[11],R=n[15];return i[0]=o*w+l*A+c*k+a*O,i[4]=o*_+l*C+c*P+a*j,i[8]=o*S+l*M+c*D+a*N,i[12]=o*E+l*T+c*I+a*R,i[1]=s*w+u*A+d*k+h*O,i[5]=s*_+u*C+d*P+h*j,i[9]=s*S+u*M+d*D+h*N,i[13]=s*E+u*T+d*I+h*R,i[2]=p*w+m*A+f*k+g*O,i[6]=p*_+m*C+f*P+g*j,i[10]=p*S+m*M+f*D+g*N,i[14]=p*E+m*T+f*I+g*R,i[3]=v*w+x*A+y*k+b*O,i[7]=v*_+x*C+y*P+b*j,i[11]=v*S+x*M+y*D+b*N,i[15]=v*E+x*T+y*I+b*R,this}multiplyScalar(e){let t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){let e=this.elements,t=e[0],r=e[4],n=e[8],i=e[12],o=e[1],l=e[5],c=e[9],a=e[13],s=e[2],u=e[6],d=e[10],h=e[14],p=e[3],m=e[7],f=e[11],g=e[15];return p*(+i*c*u-n*a*u-i*l*d+r*a*d+n*l*h-r*c*h)+m*(+t*c*h-t*a*d+i*o*d-n*o*h+n*a*s-i*c*s)+f*(+t*a*u-t*l*h-i*o*u+r*o*h+i*l*s-r*a*s)+g*(-n*l*s-t*c*u+t*l*d+n*o*u-r*o*d+r*c*s)}transpose(){let e=this.elements,t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,r){let n=this.elements;return e.isVector3?(n[12]=e.x,n[13]=e.y,n[14]=e.z):(n[12]=e,n[13]=t,n[14]=r),this}invert(){let e=this.elements,t=e[0],r=e[1],n=e[2],i=e[3],o=e[4],l=e[5],c=e[6],a=e[7],s=e[8],u=e[9],d=e[10],h=e[11],p=e[12],m=e[13],f=e[14],g=e[15],v=u*f*a-m*d*a+m*c*h-l*f*h-u*c*g+l*d*g,x=p*d*a-s*f*a-p*c*h+o*f*h+s*c*g-o*d*g,y=s*m*a-p*u*a+p*l*h-o*m*h-s*l*g+o*u*g,b=p*u*c-s*m*c-p*l*d+o*m*d+s*l*f-o*u*f,w=t*v+r*x+n*y+i*b;if(w===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);let _=1/w;return e[0]=v*_,e[1]=(m*d*i-u*f*i-m*n*h+r*f*h+u*n*g-r*d*g)*_,e[2]=(l*f*i-m*c*i+m*n*a-r*f*a-l*n*g+r*c*g)*_,e[3]=(u*c*i-l*d*i-u*n*a+r*d*a+l*n*h-r*c*h)*_,e[4]=x*_,e[5]=(s*f*i-p*d*i+p*n*h-t*f*h-s*n*g+t*d*g)*_,e[6]=(p*c*i-o*f*i-p*n*a+t*f*a+o*n*g-t*c*g)*_,e[7]=(o*d*i-s*c*i+s*n*a-t*d*a-o*n*h+t*c*h)*_,e[8]=y*_,e[9]=(p*u*i-s*m*i-p*r*h+t*m*h+s*r*g-t*u*g)*_,e[10]=(o*m*i-p*l*i+p*r*a-t*m*a-o*r*g+t*l*g)*_,e[11]=(s*l*i-o*u*i-s*r*a+t*u*a+o*r*h-t*l*h)*_,e[12]=b*_,e[13]=(s*m*n-p*u*n+p*r*d-t*m*d-s*r*f+t*u*f)*_,e[14]=(p*l*n-o*m*n-p*r*c+t*m*c+o*r*f-t*l*f)*_,e[15]=(o*u*n-s*l*n+s*r*c-t*u*c-o*r*d+t*l*d)*_,this}scale(e){let t=this.elements,r=e.x,n=e.y,i=e.z;return t[0]*=r,t[4]*=n,t[8]*=i,t[1]*=r,t[5]*=n,t[9]*=i,t[2]*=r,t[6]*=n,t[10]*=i,t[3]*=r,t[7]*=n,t[11]*=i,this}getMaxScaleOnAxis(){let e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,r,n))}makeTranslation(e,t,r){return this.set(1,0,0,e,0,1,0,t,0,0,1,r,0,0,0,1),this}makeRotationX(e){let t=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,t,-r,0,0,r,t,0,0,0,0,1),this}makeRotationY(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,0,r,0,0,1,0,0,-r,0,t,0,0,0,0,1),this}makeRotationZ(e){let t=Math.cos(e),r=Math.sin(e);return this.set(t,-r,0,0,r,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){let r=Math.cos(t),n=Math.sin(t),i=1-r,o=e.x,l=e.y,c=e.z,a=i*o,s=i*l;return this.set(a*o+r,a*l-n*c,a*c+n*l,0,a*l+n*c,s*l+r,s*c-n*o,0,a*c-n*l,s*c+n*o,i*c*c+r,0,0,0,0,1),this}makeScale(e,t,r){return this.set(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,t,r,n,i,o){return this.set(1,r,i,0,e,1,o,0,t,n,1,0,0,0,0,1),this}compose(e,t,r){let n=this.elements,i=t._x,o=t._y,l=t._z,c=t._w,a=i+i,s=o+o,u=l+l,d=i*a,h=i*s,p=i*u,m=o*s,f=o*u,g=l*u,v=c*a,x=c*s,y=c*u,b=r.x,w=r.y,_=r.z;return n[0]=(1-(m+g))*b,n[1]=(h+y)*b,n[2]=(p-x)*b,n[3]=0,n[4]=(h-y)*w,n[5]=(1-(d+g))*w,n[6]=(f+v)*w,n[7]=0,n[8]=(p+x)*_,n[9]=(f-v)*_,n[10]=(1-(d+m))*_,n[11]=0,n[12]=e.x,n[13]=e.y,n[14]=e.z,n[15]=1,this}decompose(e,t,r){let n=this.elements,i=Ap.set(n[0],n[1],n[2]).length(),o=Ap.set(n[4],n[5],n[6]).length(),l=Ap.set(n[8],n[9],n[10]).length();this.determinant()<0&&(i=-i),e.x=n[12],e.y=n[13],e.z=n[14],ns.copy(this);let c=1/i,a=1/o,s=1/l;return ns.elements[0]*=c,ns.elements[1]*=c,ns.elements[2]*=c,ns.elements[4]*=a,ns.elements[5]*=a,ns.elements[6]*=a,ns.elements[8]*=s,ns.elements[9]*=s,ns.elements[10]*=s,t.setFromRotationMatrix(ns),r.x=i,r.y=o,r.z=l,this}makePerspective(e,t,r,n,i,o){let l=this.elements,c=2*i/(t-e),a=2*i/(r-n),s=(t+e)/(t-e),u=(r+n)/(r-n),d=-(o+i)/(o-i),h=-2*o*i/(o-i);return l[0]=c,l[4]=0,l[8]=s,l[12]=0,l[1]=0,l[5]=a,l[9]=u,l[13]=0,l[2]=0,l[6]=0,l[10]=d,l[14]=h,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,r,n,i,o){let l=this.elements,c=1/(t-e),a=1/(r-n),s=1/(o-i),u=(t+e)*c,d=(r+n)*a,h=(o+i)*s;return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-u,l[1]=0,l[5]=2*a,l[9]=0,l[13]=-d,l[2]=0,l[6]=0,l[10]=-2*s,l[14]=-h,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){let t=this.elements,r=e.elements;for(let n=0;n<16;n++)if(t[n]!==r[n])return!1;return!0}fromArray(e,t=0){for(let r=0;r<16;r++)this.elements[r]=e[r+t];return this}toArray(e=[],t=0){let r=this.elements;return e[t]=r[0],e[t+1]=r[1],e[t+2]=r[2],e[t+3]=r[3],e[t+4]=r[4],e[t+5]=r[5],e[t+6]=r[6],e[t+7]=r[7],e[t+8]=r[8],e[t+9]=r[9],e[t+10]=r[10],e[t+11]=r[11],e[t+12]=r[12],e[t+13]=r[13],e[t+14]=r[14],e[t+15]=r[15],e}},Ap=new L,ns=new Re,Ove=new L(0,0,0),Rve=new L(1,1,1),Qc=new L,eb=new L,Ho=new L,Uz=new Re,Vz=new Ct,oi=class{constructor(e=0,t=0,r=0,n=oi.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=r,this._order=n}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,r,n=this._order){return this._x=e,this._y=t,this._z=r,this._order=n,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,r=!0){let n=e.elements,i=n[0],o=n[4],l=n[8],c=n[1],a=n[5],s=n[9],u=n[2],d=n[6],h=n[10];switch(t){case"XYZ":this._y=Math.asin(zn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-s,h),this._z=Math.atan2(-o,i)):(this._x=Math.atan2(d,a),this._z=0);break;case"YXZ":this._x=Math.asin(-zn(s,-1,1)),Math.abs(s)<.9999999?(this._y=Math.atan2(l,h),this._z=Math.atan2(c,a)):(this._y=Math.atan2(-u,i),this._z=0);break;case"ZXY":this._x=Math.asin(zn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-u,h),this._z=Math.atan2(-o,a)):(this._y=0,this._z=Math.atan2(c,i));break;case"ZYX":this._y=Math.asin(-zn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(c,i)):(this._x=0,this._z=Math.atan2(-o,a));break;case"YZX":this._z=Math.asin(zn(c,-1,1)),Math.abs(c)<.9999999?(this._x=Math.atan2(-s,a),this._y=Math.atan2(-u,i)):(this._x=0,this._y=Math.atan2(l,h));break;case"XZY":this._z=Math.asin(-zn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(d,a),this._y=Math.atan2(l,i)):(this._x=Math.atan2(-s,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,r){return Uz.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Uz,t,r)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return Vz.setFromEuler(this),this.setFromQuaternion(Vz,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}};oi.DEFAULT_ORDER="XYZ";var G5=class{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}},zve=0,Hz=new L,Mp=new Ct,Ll=new Re,tb=new L,n0=new L,Lve=new L,Nve=new Ct,Wz=new L(1,0,0),Gz=new L(0,1,0),qz=new L(0,0,1),Bve={type:"added"},Yz={type:"removed"},wr=class extends wi{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:zve++}),this.uuid=Va(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=wr.DEFAULT_UP.clone();let e=new L,t=new oi,r=new Ct,n=new L(1,1,1);function i(){r.setFromEuler(t,!1)}function o(){t.setFromQuaternion(r,void 0,!1)}t._onChange(i),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:n},modelViewMatrix:{value:new Re},normalMatrix:{value:new Sn}}),this.matrix=new Re,this.matrixWorld=new Re,this.matrixAutoUpdate=wr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=wr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new G5,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return Mp.setFromAxisAngle(e,t),this.quaternion.multiply(Mp),this}rotateOnWorldAxis(e,t){return Mp.setFromAxisAngle(e,t),this.quaternion.premultiply(Mp),this}rotateX(e){return this.rotateOnAxis(Wz,e)}rotateY(e){return this.rotateOnAxis(Gz,e)}rotateZ(e){return this.rotateOnAxis(qz,e)}translateOnAxis(e,t){return Hz.copy(e).applyQuaternion(this.quaternion),this.position.add(Hz.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(Wz,e)}translateY(e){return this.translateOnAxis(Gz,e)}translateZ(e){return this.translateOnAxis(qz,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Ll.copy(this.matrixWorld).invert())}lookAt(e,t,r){e.isVector3?tb.copy(e):tb.set(e,t,r);let n=this.parent;this.updateWorldMatrix(!0,!1),n0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ll.lookAt(n0,tb,this.up):Ll.lookAt(tb,n0,this.up),this.quaternion.setFromRotationMatrix(Ll),n&&(Ll.extractRotation(n.matrixWorld),Mp.setFromRotationMatrix(Ll),this.quaternion.premultiply(Mp.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Bve)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}let t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(Yz)),this}removeFromParent(){let e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){let t=this.children[e];t.parent=null,t.dispatchEvent(Yz)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Ll.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Ll.multiply(e.parent.matrixWorld)),e.applyMatrix4(Ll),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let r=0,n=this.children.length;r<n;r++){let i=this.children[r].getObjectByProperty(e,t);if(i!==void 0)return i}}getObjectsByProperty(e,t){let r=[];this[e]===t&&r.push(this);for(let n=0,i=this.children.length;n<i;n++){let o=this.children[n].getObjectsByProperty(e,t);o.length>0&&(r=r.concat(o))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n0,e,Lve),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(n0,Nve,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);let t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);let t=this.children;for(let r=0,n=t.length;r<n;r++)t[r].traverseVisible(e)}traverseAncestors(e){let t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);let t=this.children;for(let r=0,n=t.length;r<n;r++){let i=t[r];(i.matrixWorldAutoUpdate===!0||e===!0)&&i.updateMatrixWorld(e)}}updateWorldMatrix(e,t){let r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),t===!0){let n=this.children;for(let i=0,o=n.length;i<o;i++){let l=n[i];l.matrixWorldAutoUpdate===!0&&l.updateWorldMatrix(!1,!0)}}}toJSON(e){let t=e===void 0||typeof e=="string",r={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});let n={};n.uuid=this.uuid,n.type=this.type,this.name!==""&&(n.name=this.name),this.castShadow===!0&&(n.castShadow=!0),this.receiveShadow===!0&&(n.receiveShadow=!0),this.visible===!1&&(n.visible=!1),this.frustumCulled===!1&&(n.frustumCulled=!1),this.renderOrder!==0&&(n.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(n.userData=this.userData),n.layers=this.layers.mask,n.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(n.matrixAutoUpdate=!1),this.isInstancedMesh&&(n.type="InstancedMesh",n.count=this.count,n.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(n.instanceColor=this.instanceColor.toJSON()));function i(l,c){return l[c.uuid]===void 0&&(l[c.uuid]=c.toJSON(e)),c.uuid}if(this.isScene)this.background&&(this.background.isColor?n.background=this.background.toJSON():this.background.isTexture&&(n.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(n.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){n.geometry=i(e.geometries,this.geometry);let l=this.geometry.parameters;if(l!==void 0&&l.shapes!==void 0){let c=l.shapes;if(Array.isArray(c))for(let a=0,s=c.length;a<s;a++){let u=c[a];i(e.shapes,u)}else i(e.shapes,c)}}if(this.isSkinnedMesh&&(n.bindMode=this.bindMode,n.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(i(e.skeletons,this.skeleton),n.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){let l=[];for(let c=0,a=this.material.length;c<a;c++)l.push(i(e.materials,this.material[c]));n.material=l}else n.material=i(e.materials,this.material);if(this.children.length>0){n.children=[];for(let l=0;l<this.children.length;l++)n.children.push(this.children[l].toJSON(e).object)}if(this.animations.length>0){n.animations=[];for(let l=0;l<this.animations.length;l++){let c=this.animations[l];n.animations.push(i(e.animations,c))}}if(t){let l=o(e.geometries),c=o(e.materials),a=o(e.textures),s=o(e.images),u=o(e.shapes),d=o(e.skeletons),h=o(e.animations),p=o(e.nodes);l.length>0&&(r.geometries=l),c.length>0&&(r.materials=c),a.length>0&&(r.textures=a),s.length>0&&(r.images=s),u.length>0&&(r.shapes=u),d.length>0&&(r.skeletons=d),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=n,r;function o(l){let c=[];for(let a in l){let s=l[a];delete s.metadata,c.push(s)}return c}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let r=0;r<e.children.length;r++){let n=e.children[r];this.add(n.clone())}return this}};wr.DEFAULT_UP=new L(0,1,0);wr.DEFAULT_MATRIX_AUTO_UPDATE=!0;wr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;var is=new L,Nl=new L,UE=new L,Bl=new L,Tp=new L,Pp=new L,$z=new L,VE=new L,HE=new L,WE=new L,ki=class{constructor(e=new L,t=new L,r=new L){this.a=e,this.b=t,this.c=r}static getNormal(e,t,r,n){n.subVectors(r,t),is.subVectors(e,t),n.cross(is);let i=n.lengthSq();return i>0?n.multiplyScalar(1/Math.sqrt(i)):n.set(0,0,0)}static getBarycoord(e,t,r,n,i){is.subVectors(n,t),Nl.subVectors(r,t),UE.subVectors(e,t);let o=is.dot(is),l=is.dot(Nl),c=is.dot(UE),a=Nl.dot(Nl),s=Nl.dot(UE),u=o*a-l*l;if(u===0)return i.set(-2,-1,-1);let d=1/u,h=(a*c-l*s)*d,p=(o*s-l*c)*d;return i.set(1-h-p,p,h)}static containsPoint(e,t,r,n){return this.getBarycoord(e,t,r,n,Bl),Bl.x>=0&&Bl.y>=0&&Bl.x+Bl.y<=1}static getUV(e,t,r,n,i,o,l,c){return this.getBarycoord(e,t,r,n,Bl),c.set(0,0),c.addScaledVector(i,Bl.x),c.addScaledVector(o,Bl.y),c.addScaledVector(l,Bl.z),c}static isFrontFacing(e,t,r,n){return is.subVectors(r,t),Nl.subVectors(e,t),is.cross(Nl).dot(n)<0}set(e,t,r){return this.a.copy(e),this.b.copy(t),this.c.copy(r),this}setFromPointsAndIndices(e,t,r,n){return this.a.copy(e[t]),this.b.copy(e[r]),this.c.copy(e[n]),this}setFromAttributeAndIndices(e,t,r,n){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,n),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return is.subVectors(this.c,this.b),Nl.subVectors(this.a,this.b),is.cross(Nl).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ki.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ki.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,r,n,i){return ki.getUV(e,this.a,this.b,this.c,t,r,n,i)}containsPoint(e){return ki.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ki.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){let r=this.a,n=this.b,i=this.c,o,l;Tp.subVectors(n,r),Pp.subVectors(i,r),VE.subVectors(e,r);let c=Tp.dot(VE),a=Pp.dot(VE);if(c<=0&&a<=0)return t.copy(r);HE.subVectors(e,n);let s=Tp.dot(HE),u=Pp.dot(HE);if(s>=0&&u<=s)return t.copy(n);let d=c*u-s*a;if(d<=0&&c>=0&&s<=0)return o=c/(c-s),t.copy(r).addScaledVector(Tp,o);WE.subVectors(e,i);let h=Tp.dot(WE),p=Pp.dot(WE);if(p>=0&&h<=p)return t.copy(i);let m=h*a-c*p;if(m<=0&&a>=0&&p<=0)return l=a/(a-p),t.copy(r).addScaledVector(Pp,l);let f=s*p-h*u;if(f<=0&&u-s>=0&&h-p>=0)return $z.subVectors(i,n),l=(u-s)/(u-s+(h-p)),t.copy(n).addScaledVector($z,l);let g=1/(f+m+d);return o=m*g,l=d*g,t.copy(r).addScaledVector(Tp,o).addScaledVector(Pp,l)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},Fve=0,t1=class extends wi{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Fve++}),this.uuid=Va(),this.name="",this.type="Material",this.blending=xh,this.side=ks,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=iq,this.blendDst=oq,this.blendEquation=sf,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=_T,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=fve,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=PE,this.stencilZFail=PE,this.stencilZPass=PE,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(let t in e){let r=e[t];if(r===void 0){console.warn("THREE.Material: '"+t+"' parameter is undefined.");continue}let n=this[t];if(n===void 0){console.warn("THREE."+this.type+": '"+t+"' is not a property of this material.");continue}n&&n.isColor?n.set(r):n&&n.isVector3&&r&&r.isVector3?n.copy(r):this[t]=r}}toJSON(e){let t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});let r={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==xh&&(r.blending=this.blending),this.side!==ks&&(r.side=this.side),this.vertexColors&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=this.transparent),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(r.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(r.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(r.wireframe=this.wireframe),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=this.flatShading),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function n(i){let o=[];for(let l in i){let c=i[l];delete c.metadata,o.push(c)}return o}if(t){let i=n(e.textures),o=n(e.images);i.length>0&&(r.textures=i),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;let t=e.clippingPlanes,r=null;if(t!==null){let n=t.length;r=new Array(n);for(let i=0;i!==n;++i)r[i]=t[i].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}},r1=class extends t1{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=aq,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}},Pn=new L,rb=new re,St=class{constructor(e,t,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=r,this.usage=AT,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,t,r){e*=this.itemSize,r*=t.itemSize;for(let n=0,i=this.itemSize;n<i;n++)this.array[e+n]=t.array[r+n];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,r=this.count;t<r;t++)rb.fromBufferAttribute(this,t),rb.applyMatrix3(e),this.setXY(t,rb.x,rb.y);else if(this.itemSize===3)for(let t=0,r=this.count;t<r;t++)Pn.fromBufferAttribute(this,t),Pn.applyMatrix3(e),this.setXYZ(t,Pn.x,Pn.y,Pn.z);return this}applyMatrix4(e){for(let t=0,r=this.count;t<r;t++)Pn.fromBufferAttribute(this,t),Pn.applyMatrix4(e),this.setXYZ(t,Pn.x,Pn.y,Pn.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Pn.fromBufferAttribute(this,t),Pn.applyNormalMatrix(e),this.setXYZ(t,Pn.x,Pn.y,Pn.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Pn.fromBufferAttribute(this,t),Pn.transformDirection(e),this.setXYZ(t,Pn.x,Pn.y,Pn.z);return this}set(e,t=0){return this.array.set(e,t),this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=vc(t,this.array)),t}setX(e,t){return this.normalized&&(t=Pr(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=vc(t,this.array)),t}setY(e,t){return this.normalized&&(t=Pr(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=vc(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Pr(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=vc(t,this.array)),t}setW(e,t){return this.normalized&&(t=Pr(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,r){return e*=this.itemSize,this.normalized&&(t=Pr(t,this.array),r=Pr(r,this.array)),this.array[e+0]=t,this.array[e+1]=r,this}setXYZ(e,t,r,n){return e*=this.itemSize,this.normalized&&(t=Pr(t,this.array),r=Pr(r,this.array),n=Pr(n,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this}setXYZW(e,t,r,n,i){return e*=this.itemSize,this.normalized&&(t=Pr(t,this.array),r=Pr(r,this.array),n=Pr(n,this.array),i=Pr(i,this.array)),this.array[e+0]=t,this.array[e+1]=r,this.array[e+2]=n,this.array[e+3]=i,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){let e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==AT&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}},bq=class extends St{constructor(e,t,r){super(new Uint16Array(e),t,r)}},tm=class extends St{constructor(e,t,r){super(new Uint32Array(e),t,r)}},Ze=class extends St{constructor(e,t,r){super(new Float32Array(e),t,r)}},Uve=0,va=new Re,GE=new wr,kp=new L,Wo=new Cn,i0=new Cn,ti=new L,lt=class extends wi{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Uve++}),this.uuid=Va(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(fq(e)?tm:bq)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,r=0){this.groups.push({start:e,count:t,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){let t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);let r=this.attributes.normal;if(r!==void 0){let i=new Sn().getNormalMatrix(e);r.applyNormalMatrix(i),r.needsUpdate=!0}let n=this.attributes.tangent;return n!==void 0&&(n.transformDirection(e),n.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return va.makeRotationFromQuaternion(e),this.applyMatrix4(va),this}rotateX(e){return va.makeRotationX(e),this.applyMatrix4(va),this}rotateY(e){return va.makeRotationY(e),this.applyMatrix4(va),this}rotateZ(e){return va.makeRotationZ(e),this.applyMatrix4(va),this}translate(e,t,r){return va.makeTranslation(e,t,r),this.applyMatrix4(va),this}scale(e,t,r){return va.makeScale(e,t,r),this.applyMatrix4(va),this}lookAt(e){return GE.lookAt(e),GE.updateMatrix(),this.applyMatrix4(GE.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(kp).negate(),this.translate(kp.x,kp.y,kp.z),this}setFromPoints(e){let t=[];for(let r=0,n=e.length;r<n;r++){let i=e[r];t.push(i.x,i.y,i.z||0)}return this.setAttribute("position",new Ze(t,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Cn);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new L(-1/0,-1/0,-1/0),new L(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let r=0,n=t.length;r<n;r++){let i=t[r];Wo.setFromBufferAttribute(i),this.morphTargetsRelative?(ti.addVectors(this.boundingBox.min,Wo.min),this.boundingBox.expandByPoint(ti),ti.addVectors(this.boundingBox.max,Wo.max),this.boundingBox.expandByPoint(ti)):(this.boundingBox.expandByPoint(Wo.min),this.boundingBox.expandByPoint(Wo.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Bo);let e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new L,1/0);return}if(e){let r=this.boundingSphere.center;if(Wo.setFromBufferAttribute(e),t)for(let i=0,o=t.length;i<o;i++){let l=t[i];i0.setFromBufferAttribute(l),this.morphTargetsRelative?(ti.addVectors(Wo.min,i0.min),Wo.expandByPoint(ti),ti.addVectors(Wo.max,i0.max),Wo.expandByPoint(ti)):(Wo.expandByPoint(i0.min),Wo.expandByPoint(i0.max))}Wo.getCenter(r);let n=0;for(let i=0,o=e.count;i<o;i++)ti.fromBufferAttribute(e,i),n=Math.max(n,r.distanceToSquared(ti));if(t)for(let i=0,o=t.length;i<o;i++){let l=t[i],c=this.morphTargetsRelative;for(let a=0,s=l.count;a<s;a++)ti.fromBufferAttribute(l,a),c&&(kp.fromBufferAttribute(e,a),ti.add(kp)),n=Math.max(n,r.distanceToSquared(ti))}this.boundingSphere.radius=Math.sqrt(n),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){let e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}let r=e.array,n=t.position.array,i=t.normal.array,o=t.uv.array,l=n.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new St(new Float32Array(4*l),4));let c=this.getAttribute("tangent").array,a=[],s=[];for(let A=0;A<l;A++)a[A]=new L,s[A]=new L;let u=new L,d=new L,h=new L,p=new re,m=new re,f=new re,g=new L,v=new L;function x(A,C,M){u.fromArray(n,A*3),d.fromArray(n,C*3),h.fromArray(n,M*3),p.fromArray(o,A*2),m.fromArray(o,C*2),f.fromArray(o,M*2),d.sub(u),h.sub(u),m.sub(p),f.sub(p);let T=1/(m.x*f.y-f.x*m.y);!isFinite(T)||(g.copy(d).multiplyScalar(f.y).addScaledVector(h,-m.y).multiplyScalar(T),v.copy(h).multiplyScalar(m.x).addScaledVector(d,-f.x).multiplyScalar(T),a[A].add(g),a[C].add(g),a[M].add(g),s[A].add(v),s[C].add(v),s[M].add(v))}let y=this.groups;y.length===0&&(y=[{start:0,count:r.length}]);for(let A=0,C=y.length;A<C;++A){let M=y[A],T=M.start,k=M.count;for(let P=T,D=T+k;P<D;P+=3)x(r[P+0],r[P+1],r[P+2])}let b=new L,w=new L,_=new L,S=new L;function E(A){_.fromArray(i,A*3),S.copy(_);let C=a[A];b.copy(C),b.sub(_.multiplyScalar(_.dot(C))).normalize(),w.crossVectors(S,C);let M=w.dot(s[A])<0?-1:1;c[A*4]=b.x,c[A*4+1]=b.y,c[A*4+2]=b.z,c[A*4+3]=M}for(let A=0,C=y.length;A<C;++A){let M=y[A],T=M.start,k=M.count;for(let P=T,D=T+k;P<D;P+=3)E(r[P+0]),E(r[P+1]),E(r[P+2])}}computeVertexNormals(){let e=this.index,t=this.getAttribute("position");if(t!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new St(new Float32Array(t.count*3),3),this.setAttribute("normal",r);else for(let d=0,h=r.count;d<h;d++)r.setXYZ(d,0,0,0);let n=new L,i=new L,o=new L,l=new L,c=new L,a=new L,s=new L,u=new L;if(e)for(let d=0,h=e.count;d<h;d+=3){let p=e.getX(d+0),m=e.getX(d+1),f=e.getX(d+2);n.fromBufferAttribute(t,p),i.fromBufferAttribute(t,m),o.fromBufferAttribute(t,f),s.subVectors(o,i),u.subVectors(n,i),s.cross(u),l.fromBufferAttribute(r,p),c.fromBufferAttribute(r,m),a.fromBufferAttribute(r,f),l.add(s),c.add(s),a.add(s),r.setXYZ(p,l.x,l.y,l.z),r.setXYZ(m,c.x,c.y,c.z),r.setXYZ(f,a.x,a.y,a.z)}else for(let d=0,h=t.count;d<h;d+=3)n.fromBufferAttribute(t,d+0),i.fromBufferAttribute(t,d+1),o.fromBufferAttribute(t,d+2),s.subVectors(o,i),u.subVectors(n,i),s.cross(u),r.setXYZ(d+0,s.x,s.y,s.z),r.setXYZ(d+1,s.x,s.y,s.z),r.setXYZ(d+2,s.x,s.y,s.z);this.normalizeNormals(),r.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){let e=this.attributes.normal;for(let t=0,r=e.count;t<r;t++)ti.fromBufferAttribute(e,t),ti.normalize(),e.setXYZ(t,ti.x,ti.y,ti.z)}toNonIndexed(){function e(l,c){let a=l.array,s=l.itemSize,u=l.normalized,d=new a.constructor(c.length*s),h=0,p=0;for(let m=0,f=c.length;m<f;m++){l.isInterleavedBufferAttribute?h=c[m]*l.data.stride+l.offset:h=c[m]*s;for(let g=0;g<s;g++)d[p++]=a[h++]}return new St(d,s,u)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;let t=new lt,r=this.index.array,n=this.attributes;for(let l in n){let c=n[l],a=e(c,r);t.setAttribute(l,a)}let i=this.morphAttributes;for(let l in i){let c=[],a=i[l];for(let s=0,u=a.length;s<u;s++){let d=a[s],h=e(d,r);c.push(h)}t.morphAttributes[l]=c}t.morphTargetsRelative=this.morphTargetsRelative;let o=this.groups;for(let l=0,c=o.length;l<c;l++){let a=o[l];t.addGroup(a.start,a.count,a.materialIndex)}return t}toJSON(){let e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){let c=this.parameters;for(let a in c)c[a]!==void 0&&(e[a]=c[a]);return e}e.data={attributes:{}};let t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});let r=this.attributes;for(let c in r){let a=r[c];e.data.attributes[c]=a.toJSON(e.data)}let n={},i=!1;for(let c in this.morphAttributes){let a=this.morphAttributes[c],s=[];for(let u=0,d=a.length;u<d;u++){let h=a[u];s.push(h.toJSON(e.data))}s.length>0&&(n[c]=s,i=!0)}i&&(e.data.morphAttributes=n,e.data.morphTargetsRelative=this.morphTargetsRelative);let o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));let l=this.boundingSphere;return l!==null&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;let t={};this.name=e.name;let r=e.index;r!==null&&this.setIndex(r.clone(t));let n=e.attributes;for(let a in n){let s=n[a];this.setAttribute(a,s.clone(t))}let i=e.morphAttributes;for(let a in i){let s=[],u=i[a];for(let d=0,h=u.length;d<h;d++)s.push(u[d].clone(t));this.morphAttributes[a]=s}this.morphTargetsRelative=e.morphTargetsRelative;let o=e.groups;for(let a=0,s=o.length;a<s;a++){let u=o[a];this.addGroup(u.start,u.count,u.materialIndex)}let l=e.boundingBox;l!==null&&(this.boundingBox=l.clone());let c=e.boundingSphere;return c!==null&&(this.boundingSphere=c.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,e.parameters!==void 0&&(this.parameters=Object.assign({},e.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}},Xz=new Re,Dp=new mg,qE=new Bo,o0=new L,a0=new L,s0=new L,YE=new L,nb=new L,ib=new re,ob=new re,ab=new re,$E=new L,sb=new L,ro=class extends wr{constructor(t=new lt,r=new r1){super(),this.isMesh=!0,this.type="Mesh",this.geometry=t,this.material=r,this.updateMorphTargets()}copy(t,r){return super.copy(t,r),t.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),t.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){let t=this.geometry.morphAttributes,r=Object.keys(t);if(r.length>0){let n=t[r[0]];if(n!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let i=0,o=n.length;i<o;i++){let l=n[i].name||String(i);this.morphTargetInfluences.push(0),this.morphTargetDictionary[l]=i}}}}getVertexPosition(t,r){let n=this.geometry,i=n.attributes.position,o=n.morphAttributes.position,l=n.morphTargetsRelative;r.fromBufferAttribute(i,t);let c=this.morphTargetInfluences;if(o&&c){nb.set(0,0,0);for(let a=0,s=o.length;a<s;a++){let u=c[a],d=o[a];u!==0&&(YE.fromBufferAttribute(d,t),l?nb.addScaledVector(YE,u):nb.addScaledVector(YE.sub(r),u))}r.add(nb)}return this.isSkinnedMesh&&this.boneTransform(t,r),r}raycast(t,r){let n=this.geometry,i=this.material,o=this.matrixWorld;if(i===void 0||(n.boundingSphere===null&&n.computeBoundingSphere(),qE.copy(n.boundingSphere),qE.applyMatrix4(o),t.ray.intersectsSphere(qE)===!1)||(Xz.copy(o).invert(),Dp.copy(t.ray).applyMatrix4(Xz),n.boundingBox!==null&&Dp.intersectsBox(n.boundingBox)===!1))return;let l,c=n.index,a=n.attributes.position,s=n.attributes.uv,u=n.attributes.uv2,d=n.groups,h=n.drawRange;if(c!==null)if(Array.isArray(i))for(let p=0,m=d.length;p<m;p++){let f=d[p],g=i[f.materialIndex],v=Math.max(f.start,h.start),x=Math.min(c.count,Math.min(f.start+f.count,h.start+h.count));for(let y=v,b=x;y<b;y+=3){let w=c.getX(y),_=c.getX(y+1),S=c.getX(y+2);l=lb(this,g,t,Dp,s,u,w,_,S),l&&(l.faceIndex=Math.floor(y/3),l.face.materialIndex=f.materialIndex,r.push(l))}}else{let p=Math.max(0,h.start),m=Math.min(c.count,h.start+h.count);for(let f=p,g=m;f<g;f+=3){let v=c.getX(f),x=c.getX(f+1),y=c.getX(f+2);l=lb(this,i,t,Dp,s,u,v,x,y),l&&(l.faceIndex=Math.floor(f/3),r.push(l))}}else if(a!==void 0)if(Array.isArray(i))for(let p=0,m=d.length;p<m;p++){let f=d[p],g=i[f.materialIndex],v=Math.max(f.start,h.start),x=Math.min(a.count,Math.min(f.start+f.count,h.start+h.count));for(let y=v,b=x;y<b;y+=3){let w=y,_=y+1,S=y+2;l=lb(this,g,t,Dp,s,u,w,_,S),l&&(l.faceIndex=Math.floor(y/3),l.face.materialIndex=f.materialIndex,r.push(l))}}else{let p=Math.max(0,h.start),m=Math.min(a.count,h.start+h.count);for(let f=p,g=m;f<g;f+=3){let v=f,x=f+1,y=f+2;l=lb(this,i,t,Dp,s,u,v,x,y),l&&(l.faceIndex=Math.floor(f/3),r.push(l))}}}};function Vve(e,t,r,n,i,o,l,c){let a;if(t.side===ai?a=n.intersectTriangle(l,o,i,!0,c):a=n.intersectTriangle(i,o,l,t.side===ks,c),a===null)return null;sb.copy(c),sb.applyMatrix4(e.matrixWorld);let s=r.ray.origin.distanceTo(sb);return s<r.near||s>r.far?null:{distance:s,point:sb.clone(),object:e}}function lb(e,t,r,n,i,o,l,c,a){e.getVertexPosition(l,o0),e.getVertexPosition(c,a0),e.getVertexPosition(a,s0);let s=Vve(e,t,r,n,o0,a0,s0,$E);if(s){i&&(ib.fromBufferAttribute(i,l),ob.fromBufferAttribute(i,c),ab.fromBufferAttribute(i,a),s.uv=ki.getUV($E,o0,a0,s0,ib,ob,ab,new re)),o&&(ib.fromBufferAttribute(o,l),ob.fromBufferAttribute(o,c),ab.fromBufferAttribute(o,a),s.uv2=ki.getUV($E,o0,a0,s0,ib,ob,ab,new re));let u={a:l,b:c,c:a,normal:new L,materialIndex:0};ki.getNormal(o0,a0,s0,u.normal),s.face=u}return s}var Cl=class extends lt{constructor(e=1,t=1,r=1,n=1,i=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:r,widthSegments:n,heightSegments:i,depthSegments:o};let l=this;n=Math.floor(n),i=Math.floor(i),o=Math.floor(o);let c=[],a=[],s=[],u=[],d=0,h=0;p("z","y","x",-1,-1,r,t,e,o,i,0),p("z","y","x",1,-1,r,t,-e,o,i,1),p("x","z","y",1,1,e,r,t,n,o,2),p("x","z","y",1,-1,e,r,-t,n,o,3),p("x","y","z",1,-1,e,t,r,n,i,4),p("x","y","z",-1,-1,e,t,-r,n,i,5),this.setIndex(c),this.setAttribute("position",new Ze(a,3)),this.setAttribute("normal",new Ze(s,3)),this.setAttribute("uv",new Ze(u,2));function p(m,f,g,v,x,y,b,w,_,S,E){let A=y/_,C=b/S,M=y/2,T=b/2,k=w/2,P=_+1,D=S+1,I=0,O=0,j=new L;for(let N=0;N<D;N++){let R=N*C-T;for(let F=0;F<P;F++){let U=F*A-M;j[m]=U*v,j[f]=R*x,j[g]=k,a.push(j.x,j.y,j.z),j[m]=0,j[f]=0,j[g]=w>0?1:-1,s.push(j.x,j.y,j.z),u.push(F/_),u.push(1-N/S),I+=1}}for(let N=0;N<S;N++)for(let R=0;R<_;R++){let F=d+R+P*N,U=d+R+P*(N+1),B=d+(R+1)+P*(N+1),H=d+(R+1)+P*N;c.push(F,U,H),c.push(U,B,H),O+=6}l.addGroup(h,O,E),h+=O,d+=I}}static fromJSON(e){return new Cl(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}};function Vm(e){let t={};for(let r in e){t[r]={};for(let n in e[r]){let i=e[r][n];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?t[r][n]=i.clone():Array.isArray(i)?t[r][n]=i.slice():t[r][n]=i}}return t}function Wi(e){let t={};for(let r=0;r<e.length;r++){let n=Vm(e[r]);for(let i in n)t[i]=n[i]}return t}function Hve(e){let t=[];for(let r=0;r<e.length;r++)t.push(e[r].clone());return t}function xq(e){return e.getRenderTarget()===null&&e.outputEncoding===It?Js:Jw}var gg={clone:Vm,merge:Wi},Wve=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Gve=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`,Tr=class extends t1{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Wve,this.fragmentShader=Gve,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Vm(e.uniforms),this.uniformsGroups=Hve(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){let t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(let n in this.uniforms){let i=this.uniforms[n].value;i&&i.isTexture?t.uniforms[n]={type:"t",value:i.toJSON(e).uuid}:i&&i.isColor?t.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?t.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?t.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?t.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?t.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?t.uniforms[n]={type:"m4",value:i.toArray()}:t.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader;let r={};for(let n in this.extensions)this.extensions[n]===!0&&(r[n]=!0);return Object.keys(r).length>0&&(t.extensions=r),t}},vg=class extends wr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Re,this.projectionMatrix=new Re,this.projectionMatrixInverse=new Re}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);let t=this.matrixWorld.elements;return e.set(-t[8],-t[9],-t[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},Pi=class extends vg{constructor(t=50,r=1,n=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=n,this.far=i,this.focus=10,this.aspect=r,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,r){return super.copy(t,r),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=t.view===null?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){let r=.5*this.getFilmHeight()/t;this.fov=uy*2*Math.atan(r),this.updateProjectionMatrix()}getFocalLength(){let t=Math.tan(mv*.5*this.fov);return .5*this.getFilmHeight()/t}getEffectiveFOV(){return uy*2*Math.atan(Math.tan(mv*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,r,n,i,o,l){this.aspect=t/r,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=r,this.view.offsetX=n,this.view.offsetY=i,this.view.width=o,this.view.height=l,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let t=this.near,r=t*Math.tan(mv*.5*this.fov)/this.zoom,n=2*r,i=this.aspect*n,o=-.5*i,l=this.view;if(this.view!==null&&this.view.enabled){let a=l.fullWidth,s=l.fullHeight;o+=l.offsetX*i/a,r-=l.offsetY*n/s,i*=l.width/a,n*=l.height/s}let c=this.filmOffset;c!==0&&(o+=t*c/this.getFilmWidth()),this.projectionMatrix.makePerspective(o,o+i,r,r-n,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){let r=super.toJSON(t);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,this.view!==null&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}},jp=-90,Ip=1,qve=class extends wr{constructor(e,t,r){super(),this.type="CubeCamera",this.renderTarget=r;let n=new Pi(jp,Ip,e,t);n.layers=this.layers,n.up.set(0,1,0),n.lookAt(1,0,0),this.add(n);let i=new Pi(jp,Ip,e,t);i.layers=this.layers,i.up.set(0,1,0),i.lookAt(-1,0,0),this.add(i);let o=new Pi(jp,Ip,e,t);o.layers=this.layers,o.up.set(0,0,-1),o.lookAt(0,1,0),this.add(o);let l=new Pi(jp,Ip,e,t);l.layers=this.layers,l.up.set(0,0,1),l.lookAt(0,-1,0),this.add(l);let c=new Pi(jp,Ip,e,t);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,1),this.add(c);let a=new Pi(jp,Ip,e,t);a.layers=this.layers,a.up.set(0,1,0),a.lookAt(0,0,-1),this.add(a)}update(e,t){this.parent===null&&this.updateMatrixWorld();let r=this.renderTarget,[n,i,o,l,c,a]=this.children,s=e.getRenderTarget(),u=e.toneMapping,d=e.xr.enabled;e.toneMapping=Ec,e.xr.enabled=!1;let h=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0),e.render(t,n),e.setRenderTarget(r,1),e.render(t,i),e.setRenderTarget(r,2),e.render(t,o),e.setRenderTarget(r,3),e.render(t,l),e.setRenderTarget(r,4),e.render(t,c),r.texture.generateMipmaps=h,e.setRenderTarget(r,5),e.render(t,a),e.setRenderTarget(s),e.toneMapping=u,e.xr.enabled=d,r.texture.needsPMREMUpdate=!0}},q5=class extends Xn{constructor(e,t,r,n,i,o,l,c,a,s){e=e!==void 0?e:[],t=t!==void 0?t:Uh,super(e,t,r,n,i,o,l,c,a,s),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}},Yve=class extends br{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;let r={width:e,height:e,depth:1},n=[r,r,r,r,r,r];this.texture=new q5(n,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Wt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.encoding=t.encoding,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;let r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},n=new Cl(5,5,5),i=new Tr({name:"CubemapFromEquirect",uniforms:Vm(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:ai,blending:Bn});i.uniforms.tEquirect.value=t;let o=new ro(n,i),l=t.minFilter;return t.minFilter===Um&&(t.minFilter=Wt),new qve(1,10,this).update(e,o),t.minFilter=l,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,r,n){let i=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,r,n);e.setRenderTarget(i)}},XE=new L,$ve=new L,Xve=new Sn,Qo=class{constructor(t=new L(1,0,0),r=0){this.isPlane=!0,this.normal=t,this.constant=r}set(t,r){return this.normal.copy(t),this.constant=r,this}setComponents(t,r,n,i){return this.normal.set(t,r,n),this.constant=i,this}setFromNormalAndCoplanarPoint(t,r){return this.normal.copy(t),this.constant=-r.dot(this.normal),this}setFromCoplanarPoints(t,r,n){let i=XE.subVectors(n,r).cross($ve.subVectors(t,r)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){let t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,r){return r.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,r){let n=t.delta(XE),i=this.normal.dot(n);if(i===0)return this.distanceToPoint(t.start)===0?r.copy(t.start):null;let o=-(t.start.dot(this.normal)+this.constant)/i;return o<0||o>1?null:r.copy(n).multiplyScalar(o).add(t.start)}intersectsLine(t){let r=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return r<0&&n>0||n<0&&r>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,r){let n=r||Xve.getNormalMatrix(t),i=this.coplanarPoint(XE).applyMatrix4(t),o=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(o),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return new this.constructor().copy(this)}},Op=new Bo,cb=new L,Y5=class{constructor(e=new Qo,t=new Qo,r=new Qo,n=new Qo,i=new Qo,o=new Qo){this.planes=[e,t,r,n,i,o]}set(e,t,r,n,i,o){let l=this.planes;return l[0].copy(e),l[1].copy(t),l[2].copy(r),l[3].copy(n),l[4].copy(i),l[5].copy(o),this}copy(e){let t=this.planes;for(let r=0;r<6;r++)t[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e){let t=this.planes,r=e.elements,n=r[0],i=r[1],o=r[2],l=r[3],c=r[4],a=r[5],s=r[6],u=r[7],d=r[8],h=r[9],p=r[10],m=r[11],f=r[12],g=r[13],v=r[14],x=r[15];return t[0].setComponents(l-n,u-c,m-d,x-f).normalize(),t[1].setComponents(l+n,u+c,m+d,x+f).normalize(),t[2].setComponents(l+i,u+a,m+h,x+g).normalize(),t[3].setComponents(l-i,u-a,m-h,x-g).normalize(),t[4].setComponents(l-o,u-s,m-p,x-v).normalize(),t[5].setComponents(l+o,u+s,m+p,x+v).normalize(),this}intersectsObject(e){let t=e.geometry;return t.boundingSphere===null&&t.computeBoundingSphere(),Op.copy(t.boundingSphere).applyMatrix4(e.matrixWorld),this.intersectsSphere(Op)}intersectsSprite(e){return Op.center.set(0,0,0),Op.radius=.7071067811865476,Op.applyMatrix4(e.matrixWorld),this.intersectsSphere(Op)}intersectsSphere(e){let t=this.planes,r=e.center,n=-e.radius;for(let i=0;i<6;i++)if(t[i].distanceToPoint(r)<n)return!1;return!0}intersectsBox(e){let t=this.planes;for(let r=0;r<6;r++){let n=t[r];if(cb.x=n.normal.x>0?e.max.x:e.min.x,cb.y=n.normal.y>0?e.max.y:e.min.y,cb.z=n.normal.z>0?e.max.z:e.min.z,n.distanceToPoint(cb)<0)return!1}return!0}containsPoint(e){let t=this.planes;for(let r=0;r<6;r++)if(t[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}};function wq(){let e=null,t=!1,r=null,n=null;function i(o,l){r(o,l),n=e.requestAnimationFrame(i)}return{start:function(){t!==!0&&r!==null&&(n=e.requestAnimationFrame(i),t=!0)},stop:function(){e.cancelAnimationFrame(n),t=!1},setAnimationLoop:function(o){r=o},setContext:function(o){e=o}}}function Kve(e,t){let r=t.isWebGL2,n=new WeakMap;function i(s,u){let d=s.array,h=s.usage,p=e.createBuffer();e.bindBuffer(u,p),e.bufferData(u,d,h),s.onUploadCallback();let m;if(d instanceof Float32Array)m=5126;else if(d instanceof Uint16Array)if(s.isFloat16BufferAttribute)if(r)m=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else m=5123;else if(d instanceof Int16Array)m=5122;else if(d instanceof Uint32Array)m=5125;else if(d instanceof Int32Array)m=5124;else if(d instanceof Int8Array)m=5120;else if(d instanceof Uint8Array)m=5121;else if(d instanceof Uint8ClampedArray)m=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+d);return{buffer:p,type:m,bytesPerElement:d.BYTES_PER_ELEMENT,version:s.version}}function o(s,u,d){let h=u.array,p=u.updateRange;e.bindBuffer(d,s),p.count===-1?e.bufferSubData(d,0,h):(r?e.bufferSubData(d,p.offset*h.BYTES_PER_ELEMENT,h,p.offset,p.count):e.bufferSubData(d,p.offset*h.BYTES_PER_ELEMENT,h.subarray(p.offset,p.offset+p.count)),p.count=-1),u.onUploadCallback()}function l(s){return s.isInterleavedBufferAttribute&&(s=s.data),n.get(s)}function c(s){s.isInterleavedBufferAttribute&&(s=s.data);let u=n.get(s);u&&(e.deleteBuffer(u.buffer),n.delete(s))}function a(s,u){if(s.isGLBufferAttribute){let h=n.get(s);(!h||h.version<s.version)&&n.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}s.isInterleavedBufferAttribute&&(s=s.data);let d=n.get(s);d===void 0?n.set(s,i(s,u)):d.version<s.version&&(o(d.buffer,s,u),d.version=s.version)}return{get:l,remove:c,update:a}}var AS=class extends lt{constructor(e=1,t=1,r=1,n=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:r,heightSegments:n};let i=e/2,o=t/2,l=Math.floor(r),c=Math.floor(n),a=l+1,s=c+1,u=e/l,d=t/c,h=[],p=[],m=[],f=[];for(let g=0;g<s;g++){let v=g*d-o;for(let x=0;x<a;x++){let y=x*u-i;p.push(y,-v,0),m.push(0,0,1),f.push(x/l),f.push(1-g/c)}}for(let g=0;g<c;g++)for(let v=0;v<l;v++){let x=v+a*g,y=v+a*(g+1),b=v+1+a*(g+1),w=v+1+a*g;h.push(x,y,w),h.push(y,b,w)}this.setIndex(h),this.setAttribute("position",new Ze(p,3)),this.setAttribute("normal",new Ze(m,3)),this.setAttribute("uv",new Ze(f,2))}static fromJSON(e){return new AS(e.width,e.height,e.widthSegments,e.heightSegments)}},Qve=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,Zve=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Jve=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,eye=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,tye=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,rye=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,nye="vec3 transformed = vec3( position );",iye=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,oye=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,aye=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,sye=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,lye=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,cye=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,uye=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,dye=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hye=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,pye=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,fye=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,mye=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,gye=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,vye=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,yye=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,bye=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,xye=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,wye=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,_ye=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Sye="gl_FragColor = linearToOutputTexel( gl_FragColor );",Eye=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,Cye=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Aye=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Mye=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Tye=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Pye=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,kye=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Dye=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,jye=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Iye=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Oye=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Rye=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,zye=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Lye=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Nye=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Bye=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Fye=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,Uye=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Vye=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Hye=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Wye=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Gye=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,qye=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Yye=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,$ye=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Xye=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Kye=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Qye=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Zye=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Jye=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,e1e=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,t1e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,r1e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,n1e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,i1e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,o1e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,a1e=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,s1e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,l1e=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,c1e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,u1e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,d1e=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,h1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,p1e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,f1e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,m1e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,g1e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,v1e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,y1e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,b1e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,x1e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,w1e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,_1e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,S1e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,E1e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,C1e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,A1e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,M1e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,T1e=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,P1e=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,k1e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,D1e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,j1e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,I1e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,O1e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,R1e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,z1e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,L1e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,N1e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,B1e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,F1e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,U1e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,V1e=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,H1e=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,W1e=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,G1e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,q1e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,Y1e=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,$1e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`,X1e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,K1e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Q1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Z1e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,J1e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,ebe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,tbe=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,rbe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,nbe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,ibe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,obe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,abe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,sbe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,lbe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,cbe=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,ube=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,dbe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,hbe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,pbe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fbe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mbe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,gbe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vbe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ybe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,bbe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,xbe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wbe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,_be=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Sbe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Ebe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Cbe=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Abe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Mbe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Tbe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Lt={alphamap_fragment:Qve,alphamap_pars_fragment:Zve,alphatest_fragment:Jve,alphatest_pars_fragment:eye,aomap_fragment:tye,aomap_pars_fragment:rye,begin_vertex:nye,beginnormal_vertex:iye,bsdfs:oye,iridescence_fragment:aye,bumpmap_pars_fragment:sye,clipping_planes_fragment:lye,clipping_planes_pars_fragment:cye,clipping_planes_pars_vertex:uye,clipping_planes_vertex:dye,color_fragment:hye,color_pars_fragment:pye,color_pars_vertex:fye,color_vertex:mye,common:gye,cube_uv_reflection_fragment:vye,defaultnormal_vertex:yye,displacementmap_pars_vertex:bye,displacementmap_vertex:xye,emissivemap_fragment:wye,emissivemap_pars_fragment:_ye,encodings_fragment:Sye,encodings_pars_fragment:Eye,envmap_fragment:Cye,envmap_common_pars_fragment:Aye,envmap_pars_fragment:Mye,envmap_pars_vertex:Tye,envmap_physical_pars_fragment:Fye,envmap_vertex:Pye,fog_vertex:kye,fog_pars_vertex:Dye,fog_fragment:jye,fog_pars_fragment:Iye,gradientmap_pars_fragment:Oye,lightmap_fragment:Rye,lightmap_pars_fragment:zye,lights_lambert_fragment:Lye,lights_lambert_pars_fragment:Nye,lights_pars_begin:Bye,lights_toon_fragment:Uye,lights_toon_pars_fragment:Vye,lights_phong_fragment:Hye,lights_phong_pars_fragment:Wye,lights_physical_fragment:Gye,lights_physical_pars_fragment:qye,lights_fragment_begin:Yye,lights_fragment_maps:$ye,lights_fragment_end:Xye,logdepthbuf_fragment:Kye,logdepthbuf_pars_fragment:Qye,logdepthbuf_pars_vertex:Zye,logdepthbuf_vertex:Jye,map_fragment:e1e,map_pars_fragment:t1e,map_particle_fragment:r1e,map_particle_pars_fragment:n1e,metalnessmap_fragment:i1e,metalnessmap_pars_fragment:o1e,morphcolor_vertex:a1e,morphnormal_vertex:s1e,morphtarget_pars_vertex:l1e,morphtarget_vertex:c1e,normal_fragment_begin:u1e,normal_fragment_maps:d1e,normal_pars_fragment:h1e,normal_pars_vertex:p1e,normal_vertex:f1e,normalmap_pars_fragment:m1e,clearcoat_normal_fragment_begin:g1e,clearcoat_normal_fragment_maps:v1e,clearcoat_pars_fragment:y1e,iridescence_pars_fragment:b1e,output_fragment:x1e,packing:w1e,premultiplied_alpha_fragment:_1e,project_vertex:S1e,dithering_fragment:E1e,dithering_pars_fragment:C1e,roughnessmap_fragment:A1e,roughnessmap_pars_fragment:M1e,shadowmap_pars_fragment:T1e,shadowmap_pars_vertex:P1e,shadowmap_vertex:k1e,shadowmask_pars_fragment:D1e,skinbase_vertex:j1e,skinning_pars_vertex:I1e,skinning_vertex:O1e,skinnormal_vertex:R1e,specularmap_fragment:z1e,specularmap_pars_fragment:L1e,tonemapping_fragment:N1e,tonemapping_pars_fragment:B1e,transmission_fragment:F1e,transmission_pars_fragment:U1e,uv_pars_fragment:V1e,uv_pars_vertex:H1e,uv_vertex:W1e,uv2_pars_fragment:G1e,uv2_pars_vertex:q1e,uv2_vertex:Y1e,worldpos_vertex:$1e,background_vert:X1e,background_frag:K1e,backgroundCube_vert:Q1e,backgroundCube_frag:Z1e,cube_vert:J1e,cube_frag:ebe,depth_vert:tbe,depth_frag:rbe,distanceRGBA_vert:nbe,distanceRGBA_frag:ibe,equirect_vert:obe,equirect_frag:abe,linedashed_vert:sbe,linedashed_frag:lbe,meshbasic_vert:cbe,meshbasic_frag:ube,meshlambert_vert:dbe,meshlambert_frag:hbe,meshmatcap_vert:pbe,meshmatcap_frag:fbe,meshnormal_vert:mbe,meshnormal_frag:gbe,meshphong_vert:vbe,meshphong_frag:ybe,meshphysical_vert:bbe,meshphysical_frag:xbe,meshtoon_vert:wbe,meshtoon_frag:_be,points_vert:Sbe,points_frag:Ebe,shadow_vert:Cbe,shadow_frag:Abe,sprite_vert:Mbe,sprite_frag:Tbe},We={common:{diffuse:{value:new ht(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Sn},uv2Transform:{value:new Sn},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new re(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ht(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ht(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Sn}},sprite:{diffuse:{value:new ht(16777215)},opacity:{value:1},center:{value:new re(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Sn}}},ol={basic:{uniforms:Wi([We.common,We.specularmap,We.envmap,We.aomap,We.lightmap,We.fog]),vertexShader:Lt.meshbasic_vert,fragmentShader:Lt.meshbasic_frag},lambert:{uniforms:Wi([We.common,We.specularmap,We.envmap,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.fog,We.lights,{emissive:{value:new ht(0)}}]),vertexShader:Lt.meshlambert_vert,fragmentShader:Lt.meshlambert_frag},phong:{uniforms:Wi([We.common,We.specularmap,We.envmap,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.fog,We.lights,{emissive:{value:new ht(0)},specular:{value:new ht(1118481)},shininess:{value:30}}]),vertexShader:Lt.meshphong_vert,fragmentShader:Lt.meshphong_frag},standard:{uniforms:Wi([We.common,We.envmap,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.roughnessmap,We.metalnessmap,We.fog,We.lights,{emissive:{value:new ht(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag},toon:{uniforms:Wi([We.common,We.aomap,We.lightmap,We.emissivemap,We.bumpmap,We.normalmap,We.displacementmap,We.gradientmap,We.fog,We.lights,{emissive:{value:new ht(0)}}]),vertexShader:Lt.meshtoon_vert,fragmentShader:Lt.meshtoon_frag},matcap:{uniforms:Wi([We.common,We.bumpmap,We.normalmap,We.displacementmap,We.fog,{matcap:{value:null}}]),vertexShader:Lt.meshmatcap_vert,fragmentShader:Lt.meshmatcap_frag},points:{uniforms:Wi([We.points,We.fog]),vertexShader:Lt.points_vert,fragmentShader:Lt.points_frag},dashed:{uniforms:Wi([We.common,We.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Lt.linedashed_vert,fragmentShader:Lt.linedashed_frag},depth:{uniforms:Wi([We.common,We.displacementmap]),vertexShader:Lt.depth_vert,fragmentShader:Lt.depth_frag},normal:{uniforms:Wi([We.common,We.bumpmap,We.normalmap,We.displacementmap,{opacity:{value:1}}]),vertexShader:Lt.meshnormal_vert,fragmentShader:Lt.meshnormal_frag},sprite:{uniforms:Wi([We.sprite,We.fog]),vertexShader:Lt.sprite_vert,fragmentShader:Lt.sprite_frag},background:{uniforms:{uvTransform:{value:new Sn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Lt.background_vert,fragmentShader:Lt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Lt.backgroundCube_vert,fragmentShader:Lt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Lt.cube_vert,fragmentShader:Lt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Lt.equirect_vert,fragmentShader:Lt.equirect_frag},distanceRGBA:{uniforms:Wi([We.common,We.displacementmap,{referencePosition:{value:new L},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Lt.distanceRGBA_vert,fragmentShader:Lt.distanceRGBA_frag},shadow:{uniforms:Wi([We.lights,We.fog,{color:{value:new ht(0)},opacity:{value:1}}]),vertexShader:Lt.shadow_vert,fragmentShader:Lt.shadow_frag}};ol.physical={uniforms:Wi([ol.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new re(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new ht(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new re},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new ht(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new ht(1,1,1)},specularColorMap:{value:null}}]),vertexShader:Lt.meshphysical_vert,fragmentShader:Lt.meshphysical_frag};var ub={r:0,b:0,g:0};function Pbe(e,t,r,n,i,o,l){let c=new ht(0),a=o===!0?0:1,s,u,d=null,h=0,p=null;function m(g,v){let x=!1,y=v.isScene===!0?v.background:null;y&&y.isTexture&&(y=(v.backgroundBlurriness>0?r:t).get(y));let b=e.xr,w=b.getSession&&b.getSession();w&&w.environmentBlendMode==="additive"&&(y=null),y===null?f(c,a):y&&y.isColor&&(f(y,1),x=!0),(e.autoClear||x)&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),y&&(y.isCubeTexture||y.mapping===e1)?(u===void 0&&(u=new ro(new Cl(1,1,1),new Tr({name:"BackgroundCubeMaterial",uniforms:Vm(ol.backgroundCube.uniforms),vertexShader:ol.backgroundCube.vertexShader,fragmentShader:ol.backgroundCube.fragmentShader,side:ai,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(_,S,E){this.matrixWorld.copyPosition(E.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=y,u.material.uniforms.flipEnvMap.value=y.isCubeTexture&&y.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,u.material.toneMapped=y.encoding!==It,(d!==y||h!==y.version||p!==e.toneMapping)&&(u.material.needsUpdate=!0,d=y,h=y.version,p=e.toneMapping),u.layers.enableAll(),g.unshift(u,u.geometry,u.material,0,0,null)):y&&y.isTexture&&(s===void 0&&(s=new ro(new AS(2,2),new Tr({name:"BackgroundMaterial",uniforms:Vm(ol.background.uniforms),vertexShader:ol.background.vertexShader,fragmentShader:ol.background.fragmentShader,side:ks,depthTest:!1,depthWrite:!1,fog:!1})),s.geometry.deleteAttribute("normal"),Object.defineProperty(s.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(s)),s.material.uniforms.t2D.value=y,s.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,s.material.toneMapped=y.encoding!==It,y.matrixAutoUpdate===!0&&y.updateMatrix(),s.material.uniforms.uvTransform.value.copy(y.matrix),(d!==y||h!==y.version||p!==e.toneMapping)&&(s.material.needsUpdate=!0,d=y,h=y.version,p=e.toneMapping),s.layers.enableAll(),g.unshift(s,s.geometry,s.material,0,0,null))}function f(g,v){g.getRGB(ub,xq(e)),n.buffers.color.setClear(ub.r,ub.g,ub.b,v,l)}return{getClearColor:function(){return c},setClearColor:function(g,v=1){c.set(g),a=v,f(c,a)},getClearAlpha:function(){return a},setClearAlpha:function(g){a=g,f(c,a)},render:m}}function kbe(e,t,r,n){let i=e.getParameter(34921),o=n.isWebGL2?null:t.get("OES_vertex_array_object"),l=n.isWebGL2||o!==null,c={},a=g(null),s=a,u=!1;function d(P,D,I,O,j){let N=!1;if(l){let R=f(O,I,D);s!==R&&(s=R,p(s.object)),N=v(P,O,I,j),N&&x(P,O,I,j)}else{let R=D.wireframe===!0;(s.geometry!==O.id||s.program!==I.id||s.wireframe!==R)&&(s.geometry=O.id,s.program=I.id,s.wireframe=R,N=!0)}j!==null&&r.update(j,34963),(N||u)&&(u=!1,E(P,D,I,O),j!==null&&e.bindBuffer(34963,r.get(j).buffer))}function h(){return n.isWebGL2?e.createVertexArray():o.createVertexArrayOES()}function p(P){return n.isWebGL2?e.bindVertexArray(P):o.bindVertexArrayOES(P)}function m(P){return n.isWebGL2?e.deleteVertexArray(P):o.deleteVertexArrayOES(P)}function f(P,D,I){let O=I.wireframe===!0,j=c[P.id];j===void 0&&(j={},c[P.id]=j);let N=j[D.id];N===void 0&&(N={},j[D.id]=N);let R=N[O];return R===void 0&&(R=g(h()),N[O]=R),R}function g(P){let D=[],I=[],O=[];for(let j=0;j<i;j++)D[j]=0,I[j]=0,O[j]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:D,enabledAttributes:I,attributeDivisors:O,object:P,attributes:{},index:null}}function v(P,D,I,O){let j=s.attributes,N=D.attributes,R=0,F=I.getAttributes();for(let U in F)if(F[U].location>=0){let B=j[U],H=N[U];if(H===void 0&&(U==="instanceMatrix"&&P.instanceMatrix&&(H=P.instanceMatrix),U==="instanceColor"&&P.instanceColor&&(H=P.instanceColor)),B===void 0||B.attribute!==H||H&&B.data!==H.data)return!0;R++}return s.attributesNum!==R||s.index!==O}function x(P,D,I,O){let j={},N=D.attributes,R=0,F=I.getAttributes();for(let U in F)if(F[U].location>=0){let B=N[U];B===void 0&&(U==="instanceMatrix"&&P.instanceMatrix&&(B=P.instanceMatrix),U==="instanceColor"&&P.instanceColor&&(B=P.instanceColor));let H={};H.attribute=B,B&&B.data&&(H.data=B.data),j[U]=H,R++}s.attributes=j,s.attributesNum=R,s.index=O}function y(){let P=s.newAttributes;for(let D=0,I=P.length;D<I;D++)P[D]=0}function b(P){w(P,0)}function w(P,D){let I=s.newAttributes,O=s.enabledAttributes,j=s.attributeDivisors;I[P]=1,O[P]===0&&(e.enableVertexAttribArray(P),O[P]=1),j[P]!==D&&((n.isWebGL2?e:t.get("ANGLE_instanced_arrays"))[n.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](P,D),j[P]=D)}function _(){let P=s.newAttributes,D=s.enabledAttributes;for(let I=0,O=D.length;I<O;I++)D[I]!==P[I]&&(e.disableVertexAttribArray(I),D[I]=0)}function S(P,D,I,O,j,N){n.isWebGL2===!0&&(I===5124||I===5125)?e.vertexAttribIPointer(P,D,I,j,N):e.vertexAttribPointer(P,D,I,O,j,N)}function E(P,D,I,O){if(n.isWebGL2===!1&&(P.isInstancedMesh||O.isInstancedBufferGeometry)&&t.get("ANGLE_instanced_arrays")===null)return;y();let j=O.attributes,N=I.getAttributes(),R=D.defaultAttributeValues;for(let F in N){let U=N[F];if(U.location>=0){let B=j[F];if(B===void 0&&(F==="instanceMatrix"&&P.instanceMatrix&&(B=P.instanceMatrix),F==="instanceColor"&&P.instanceColor&&(B=P.instanceColor)),B!==void 0){let H=B.normalized,X=B.itemSize,G=r.get(B);if(G===void 0)continue;let Z=G.buffer,J=G.type,ee=G.bytesPerElement;if(B.isInterleavedBufferAttribute){let q=B.data,Y=q.stride,Q=B.offset;if(q.isInstancedInterleavedBuffer){for(let ie=0;ie<U.locationSize;ie++)w(U.location+ie,q.meshPerAttribute);P.isInstancedMesh!==!0&&O._maxInstanceCount===void 0&&(O._maxInstanceCount=q.meshPerAttribute*q.count)}else for(let ie=0;ie<U.locationSize;ie++)b(U.location+ie);e.bindBuffer(34962,Z);for(let ie=0;ie<U.locationSize;ie++)S(U.location+ie,X/U.locationSize,J,H,Y*ee,(Q+X/U.locationSize*ie)*ee)}else{if(B.isInstancedBufferAttribute){for(let q=0;q<U.locationSize;q++)w(U.location+q,B.meshPerAttribute);P.isInstancedMesh!==!0&&O._maxInstanceCount===void 0&&(O._maxInstanceCount=B.meshPerAttribute*B.count)}else for(let q=0;q<U.locationSize;q++)b(U.location+q);e.bindBuffer(34962,Z);for(let q=0;q<U.locationSize;q++)S(U.location+q,X/U.locationSize,J,H,X*ee,X/U.locationSize*q*ee)}}else if(R!==void 0){let H=R[F];if(H!==void 0)switch(H.length){case 2:e.vertexAttrib2fv(U.location,H);break;case 3:e.vertexAttrib3fv(U.location,H);break;case 4:e.vertexAttrib4fv(U.location,H);break;default:e.vertexAttrib1fv(U.location,H)}}}}_()}function A(){T();for(let P in c){let D=c[P];for(let I in D){let O=D[I];for(let j in O)m(O[j].object),delete O[j];delete D[I]}delete c[P]}}function C(P){if(c[P.id]===void 0)return;let D=c[P.id];for(let I in D){let O=D[I];for(let j in O)m(O[j].object),delete O[j];delete D[I]}delete c[P.id]}function M(P){for(let D in c){let I=c[D];if(I[P.id]===void 0)continue;let O=I[P.id];for(let j in O)m(O[j].object),delete O[j];delete I[P.id]}}function T(){k(),u=!0,s!==a&&(s=a,p(s.object))}function k(){a.geometry=null,a.program=null,a.wireframe=!1}return{setup:d,reset:T,resetDefaultState:k,dispose:A,releaseStatesOfGeometry:C,releaseStatesOfProgram:M,initAttributes:y,enableAttribute:b,disableUnusedAttributes:_}}function Dbe(e,t,r,n){let i=n.isWebGL2,o;function l(s){o=s}function c(s,u){e.drawArrays(o,s,u),r.update(u,o,1)}function a(s,u,d){if(d===0)return;let h,p;if(i)h=e,p="drawArraysInstanced";else if(h=t.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[p](o,s,u,d),r.update(u,o,d)}this.setMode=l,this.render=c,this.renderInstances=a}function jbe(e,t,r){let n;function i(){if(n!==void 0)return n;if(t.has("EXT_texture_filter_anisotropic")===!0){let S=t.get("EXT_texture_filter_anisotropic");n=e.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else n=0;return n}function o(S){if(S==="highp"){if(e.getShaderPrecisionFormat(35633,36338).precision>0&&e.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";S="mediump"}return S==="mediump"&&e.getShaderPrecisionFormat(35633,36337).precision>0&&e.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}let l=typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext,c=r.precision!==void 0?r.precision:"highp",a=o(c);a!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",a,"instead."),c=a);let s=l||t.has("WEBGL_draw_buffers"),u=r.logarithmicDepthBuffer===!0,d=e.getParameter(34930),h=e.getParameter(35660),p=e.getParameter(3379),m=e.getParameter(34076),f=e.getParameter(34921),g=e.getParameter(36347),v=e.getParameter(36348),x=e.getParameter(36349),y=h>0,b=l||t.has("OES_texture_float"),w=y&&b,_=l?e.getParameter(36183):0;return{isWebGL2:l,drawBuffers:s,getMaxAnisotropy:i,getMaxPrecision:o,precision:c,logarithmicDepthBuffer:u,maxTextures:d,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:m,maxAttributes:f,maxVertexUniforms:g,maxVaryings:v,maxFragmentUniforms:x,vertexTextures:y,floatFragmentTextures:b,floatVertexTextures:w,maxSamples:_}}function Ibe(e){let t=this,r=null,n=0,i=!1,o=!1,l=new Qo,c=new Sn,a={value:null,needsUpdate:!1};this.uniform=a,this.numPlanes=0,this.numIntersection=0,this.init=function(d,h){let p=d.length!==0||h||n!==0||i;return i=h,n=d.length,p},this.beginShadows=function(){o=!0,u(null)},this.endShadows=function(){o=!1},this.setGlobalState=function(d,h){r=u(d,h,0)},this.setState=function(d,h,p){let m=d.clippingPlanes,f=d.clipIntersection,g=d.clipShadows,v=e.get(d);if(!i||m===null||m.length===0||o&&!g)o?u(null):s();else{let x=o?0:n,y=x*4,b=v.clippingState||null;a.value=b,b=u(m,h,y,p);for(let w=0;w!==y;++w)b[w]=r[w];v.clippingState=b,this.numIntersection=f?this.numPlanes:0,this.numPlanes+=x}};function s(){a.value!==r&&(a.value=r,a.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function u(d,h,p,m){let f=d!==null?d.length:0,g=null;if(f!==0){if(g=a.value,m!==!0||g===null){let v=p+f*4,x=h.matrixWorldInverse;c.getNormalMatrix(x),(g===null||g.length<v)&&(g=new Float32Array(v));for(let y=0,b=p;y!==f;++y,b+=4)l.copy(d[y]).applyMatrix4(x,c),l.normal.toArray(g,b),g[b+3]=l.constant}a.value=g,a.needsUpdate=!0}return t.numPlanes=f,t.numIntersection=0,g}}function Obe(e){let t=new WeakMap;function r(l,c){return c===ST?l.mapping=Uh:c===ET&&(l.mapping=Vh),l}function n(l){if(l&&l.isTexture&&l.isRenderTargetTexture===!1){let c=l.mapping;if(c===ST||c===ET)if(t.has(l)){let a=t.get(l).texture;return r(a,l.mapping)}else{let a=l.image;if(a&&a.height>0){let s=new Yve(a.height/2);return s.fromEquirectangularTexture(e,l),t.set(l,s),l.addEventListener("dispose",i),r(s.texture,l.mapping)}else return null}}return l}function i(l){let c=l.target;c.removeEventListener("dispose",i);let a=t.get(c);a!==void 0&&(t.delete(c),a.dispose())}function o(){t=new WeakMap}return{get:n,dispose:o}}var $5=class extends vg{constructor(e=-1,t=1,r=1,n=-1,i=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=r,this.bottom=n,this.near=i,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,r,n,i,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=r,this.view.offsetY=n,this.view.width=i,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){let e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,n=(this.top+this.bottom)/2,i=r-e,o=r+e,l=n+t,c=n-t;if(this.view!==null&&this.view.enabled){let a=(this.right-this.left)/this.view.fullWidth/this.zoom,s=(this.top-this.bottom)/this.view.fullHeight/this.zoom;i+=a*this.view.offsetX,o=i+a*this.view.width,l-=s*this.view.offsetY,c=l-s*this.view.height}this.projectionMatrix.makeOrthographic(i,o,l,c,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){let t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}},zf=4,Kz=[.125,.215,.35,.446,.526,.582],Gd=20,KE=new $5,Qz=new ht,QE=null,Nd=(1+Math.sqrt(5))/2,Rp=1/Nd,Zz=[new L(1,1,1),new L(-1,1,1),new L(1,1,-1),new L(-1,1,-1),new L(0,Nd,Rp),new L(0,Nd,-Rp),new L(Rp,0,Nd),new L(-Rp,0,Nd),new L(Nd,Rp,0),new L(-Nd,Rp,0)],Jz=class{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,r=.1,n=100){QE=this._renderer.getRenderTarget(),this._setSize(256);let i=this._allocateTargets();return i.depthBuffer=!0,this._sceneToCubeUV(e,r,n,i),t>0&&this._blur(i,0,0,t),this._applyPMREM(i),this._cleanup(i),i}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=rL(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=tL(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(QE),e.scissorTest=!1,db(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===Uh||e.mapping===Vh?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),QE=this._renderer.getRenderTarget();let r=t||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){let e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,r={magFilter:Wt,minFilter:Wt,generateMipmaps:!1,type:Hh,format:Jo,encoding:El,depthBuffer:!1},n=eL(e,t,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=eL(e,t,r);let{_lodMax:i}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Rbe(i)),this._blurMaterial=zbe(i,e,t)}return n}_compileMaterial(e){let t=new ro(this._lodPlanes[0],e);this._renderer.compile(t,KE)}_sceneToCubeUV(e,t,r,n){let i=new Pi(90,1,t,r),o=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,a=c.autoClear,s=c.toneMapping;c.getClearColor(Qz),c.toneMapping=Ec,c.autoClear=!1;let u=new r1({name:"PMREM.Background",side:ai,depthWrite:!1,depthTest:!1}),d=new ro(new Cl,u),h=!1,p=e.background;p?p.isColor&&(u.color.copy(p),e.background=null,h=!0):(u.color.copy(Qz),h=!0);for(let m=0;m<6;m++){let f=m%3;f===0?(i.up.set(0,o[m],0),i.lookAt(l[m],0,0)):f===1?(i.up.set(0,0,o[m]),i.lookAt(0,l[m],0)):(i.up.set(0,o[m],0),i.lookAt(0,0,l[m]));let g=this._cubeSize;db(n,f*g,m>2?g:0,g,g),c.setRenderTarget(n),h&&c.render(d,i),c.render(e,i)}d.geometry.dispose(),d.material.dispose(),c.toneMapping=s,c.autoClear=a,e.background=p}_textureToCubeUV(e,t){let r=this._renderer,n=e.mapping===Uh||e.mapping===Vh;n?(this._cubemapMaterial===null&&(this._cubemapMaterial=rL()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=tL());let i=n?this._cubemapMaterial:this._equirectMaterial,o=new ro(this._lodPlanes[0],i),l=i.uniforms;l.envMap.value=e;let c=this._cubeSize;db(t,0,0,3*c,2*c),r.setRenderTarget(t),r.render(o,KE)}_applyPMREM(e){let t=this._renderer,r=t.autoClear;t.autoClear=!1;for(let n=1;n<this._lodPlanes.length;n++){let i=Math.sqrt(this._sigmas[n]*this._sigmas[n]-this._sigmas[n-1]*this._sigmas[n-1]),o=Zz[(n-1)%Zz.length];this._blur(e,n-1,n,i,o)}t.autoClear=r}_blur(e,t,r,n,i){let o=this._pingPongRenderTarget;this._halfBlur(e,o,t,r,n,"latitudinal",i),this._halfBlur(o,e,r,r,n,"longitudinal",i)}_halfBlur(e,t,r,n,i,o,l){let c=this._renderer,a=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");let s=3,u=new ro(this._lodPlanes[n],a),d=a.uniforms,h=this._sizeLods[r]-1,p=isFinite(i)?Math.PI/(2*h):2*Math.PI/(2*Gd-1),m=i/p,f=isFinite(i)?1+Math.floor(s*m):Gd;f>Gd&&console.warn(`sigmaRadians, ${i}, is too large and will clip, as it requested ${f} samples when the maximum is set to ${Gd}`);let g=[],v=0;for(let _=0;_<Gd;++_){let S=_/m,E=Math.exp(-S*S/2);g.push(E),_===0?v+=E:_<f&&(v+=2*E)}for(let _=0;_<g.length;_++)g[_]=g[_]/v;d.envMap.value=e.texture,d.samples.value=f,d.weights.value=g,d.latitudinal.value=o==="latitudinal",l&&(d.poleAxis.value=l);let{_lodMax:x}=this;d.dTheta.value=p,d.mipInt.value=x-r;let y=this._sizeLods[n],b=3*y*(n>x-zf?n-x+zf:0),w=4*(this._cubeSize-y);db(t,b,w,3*y,2*y),c.setRenderTarget(t),c.render(u,KE)}};function Rbe(e){let t=[],r=[],n=[],i=e,o=e-zf+1+Kz.length;for(let l=0;l<o;l++){let c=Math.pow(2,i);r.push(c);let a=1/c;l>e-zf?a=Kz[l-e+zf-1]:l===0&&(a=0),n.push(a);let s=1/(c-2),u=-s,d=1+s,h=[u,u,d,u,d,d,u,u,d,d,u,d],p=6,m=6,f=3,g=2,v=1,x=new Float32Array(f*m*p),y=new Float32Array(g*m*p),b=new Float32Array(v*m*p);for(let _=0;_<p;_++){let S=_%3*2/3-1,E=_>2?0:-1,A=[S,E,0,S+2/3,E,0,S+2/3,E+1,0,S,E,0,S+2/3,E+1,0,S,E+1,0];x.set(A,f*m*_),y.set(h,g*m*_);let C=[_,_,_,_,_,_];b.set(C,v*m*_)}let w=new lt;w.setAttribute("position",new St(x,f)),w.setAttribute("uv",new St(y,g)),w.setAttribute("faceIndex",new St(b,v)),t.push(w),i>zf&&i--}return{lodPlanes:t,sizeLods:r,sigmas:n}}function eL(e,t,r){let n=new br(e,t,r);return n.texture.mapping=e1,n.texture.name="PMREM.cubeUv",n.scissorTest=!0,n}function db(e,t,r,n,i){e.viewport.set(t,r,n,i),e.scissor.set(t,r,n,i)}function zbe(e,t,r){let n=new Float32Array(Gd),i=new L(0,1,0);return new Tr({name:"SphericalGaussianBlur",defines:{n:Gd,CUBEUV_TEXEL_WIDTH:1/t,CUBEUV_TEXEL_HEIGHT:1/r,CUBEUV_MAX_MIP:`${e}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:n},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:X5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Bn,depthTest:!1,depthWrite:!1})}function tL(){return new Tr({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:X5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Bn,depthTest:!1,depthWrite:!1})}function rL(){return new Tr({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:X5(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Bn,depthTest:!1,depthWrite:!1})}function X5(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Lbe(e){let t=new WeakMap,r=null;function n(c){if(c&&c.isTexture){let a=c.mapping,s=a===ST||a===ET,u=a===Uh||a===Vh;if(s||u)if(c.isRenderTargetTexture&&c.needsPMREMUpdate===!0){c.needsPMREMUpdate=!1;let d=t.get(c);return r===null&&(r=new Jz(e)),d=s?r.fromEquirectangular(c,d):r.fromCubemap(c,d),t.set(c,d),d.texture}else{if(t.has(c))return t.get(c).texture;{let d=c.image;if(s&&d&&d.height>0||u&&d&&i(d)){r===null&&(r=new Jz(e));let h=s?r.fromEquirectangular(c):r.fromCubemap(c);return t.set(c,h),c.addEventListener("dispose",o),h.texture}else return null}}}return c}function i(c){let a=0,s=6;for(let u=0;u<s;u++)c[u]!==void 0&&a++;return a===s}function o(c){let a=c.target;a.removeEventListener("dispose",o);let s=t.get(a);s!==void 0&&(t.delete(a),s.dispose())}function l(){t=new WeakMap,r!==null&&(r.dispose(),r=null)}return{get:n,dispose:l}}function Nbe(e){let t={};function r(n){if(t[n]!==void 0)return t[n];let i;switch(n){case"WEBGL_depth_texture":i=e.getExtension("WEBGL_depth_texture")||e.getExtension("MOZ_WEBGL_depth_texture")||e.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=e.getExtension("WEBGL_compressed_texture_s3tc")||e.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=e.getExtension(n)}return t[n]=i,i}return{has:function(n){return r(n)!==null},init:function(n){n.isWebGL2?r("EXT_color_buffer_float"):(r("WEBGL_depth_texture"),r("OES_texture_float"),r("OES_texture_half_float"),r("OES_texture_half_float_linear"),r("OES_standard_derivatives"),r("OES_element_index_uint"),r("OES_vertex_array_object"),r("ANGLE_instanced_arrays")),r("OES_texture_float_linear"),r("EXT_color_buffer_half_float"),r("WEBGL_multisampled_render_to_texture")},get:function(n){let i=r(n);return i===null&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),i}}}function Bbe(e,t,r,n){let i={},o=new WeakMap;function l(d){let h=d.target;h.index!==null&&t.remove(h.index);for(let m in h.attributes)t.remove(h.attributes[m]);h.removeEventListener("dispose",l),delete i[h.id];let p=o.get(h);p&&(t.remove(p),o.delete(h)),n.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,r.memory.geometries--}function c(d,h){return i[h.id]===!0||(h.addEventListener("dispose",l),i[h.id]=!0,r.memory.geometries++),h}function a(d){let h=d.attributes;for(let m in h)t.update(h[m],34962);let p=d.morphAttributes;for(let m in p){let f=p[m];for(let g=0,v=f.length;g<v;g++)t.update(f[g],34962)}}function s(d){let h=[],p=d.index,m=d.attributes.position,f=0;if(p!==null){let x=p.array;f=p.version;for(let y=0,b=x.length;y<b;y+=3){let w=x[y+0],_=x[y+1],S=x[y+2];h.push(w,_,_,S,S,w)}}else{let x=m.array;f=m.version;for(let y=0,b=x.length/3-1;y<b;y+=3){let w=y+0,_=y+1,S=y+2;h.push(w,_,_,S,S,w)}}let g=new(fq(h)?tm:bq)(h,1);g.version=f;let v=o.get(d);v&&t.remove(v),o.set(d,g)}function u(d){let h=o.get(d);if(h){let p=d.index;p!==null&&h.version<p.version&&s(d)}else s(d);return o.get(d)}return{get:c,update:a,getWireframeAttribute:u}}function Fbe(e,t,r,n){let i=n.isWebGL2,o;function l(h){o=h}let c,a;function s(h){c=h.type,a=h.bytesPerElement}function u(h,p){e.drawElements(o,p,c,h*a),r.update(p,o,1)}function d(h,p,m){if(m===0)return;let f,g;if(i)f=e,g="drawElementsInstanced";else if(f=t.get("ANGLE_instanced_arrays"),g="drawElementsInstancedANGLE",f===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}f[g](o,p,c,h*a,m),r.update(p,o,m)}this.setMode=l,this.setIndex=s,this.render=u,this.renderInstances=d}function Ube(e){let t={geometries:0,textures:0},r={frame:0,calls:0,triangles:0,points:0,lines:0};function n(o,l,c){switch(r.calls++,l){case 4:r.triangles+=c*(o/3);break;case 1:r.lines+=c*(o/2);break;case 3:r.lines+=c*(o-1);break;case 2:r.lines+=c*o;break;case 0:r.points+=c*o;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",l);break}}function i(){r.frame++,r.calls=0,r.triangles=0,r.points=0,r.lines=0}return{memory:t,render:r,programs:null,autoReset:!0,reset:i,update:n}}function Vbe(e,t){return e[0]-t[0]}function Hbe(e,t){return Math.abs(t[1])-Math.abs(e[1])}function Wbe(e,t,r){let n={},i=new Float32Array(8),o=new WeakMap,l=new Ot,c=[];for(let s=0;s<8;s++)c[s]=[s,0];function a(s,u,d,h){let p=s.morphTargetInfluences;if(t.isWebGL2===!0){let m=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,f=m!==void 0?m.length:0,g=o.get(u);if(g===void 0||g.count!==f){let y=function(){P.dispose(),o.delete(u),u.removeEventListener("dispose",y)};g!==void 0&&g.texture.dispose();let b=u.morphAttributes.position!==void 0,w=u.morphAttributes.normal!==void 0,_=u.morphAttributes.color!==void 0,S=u.morphAttributes.position||[],E=u.morphAttributes.normal||[],A=u.morphAttributes.color||[],C=0;b===!0&&(C=1),w===!0&&(C=2),_===!0&&(C=3);let M=u.attributes.position.count*C,T=1;M>t.maxTextureSize&&(T=Math.ceil(M/t.maxTextureSize),M=t.maxTextureSize);let k=new Float32Array(M*T*4*f),P=new yq(k,M,T,f);P.type=to,P.needsUpdate=!0;let D=C*4;for(let I=0;I<f;I++){let O=S[I],j=E[I],N=A[I],R=M*T*4*I;for(let F=0;F<O.count;F++){let U=F*D;b===!0&&(l.fromBufferAttribute(O,F),k[R+U+0]=l.x,k[R+U+1]=l.y,k[R+U+2]=l.z,k[R+U+3]=0),w===!0&&(l.fromBufferAttribute(j,F),k[R+U+4]=l.x,k[R+U+5]=l.y,k[R+U+6]=l.z,k[R+U+7]=0),_===!0&&(l.fromBufferAttribute(N,F),k[R+U+8]=l.x,k[R+U+9]=l.y,k[R+U+10]=l.z,k[R+U+11]=N.itemSize===4?l.w:1)}}g={count:f,texture:P,size:new re(M,T)},o.set(u,g),u.addEventListener("dispose",y)}let v=0;for(let y=0;y<p.length;y++)v+=p[y];let x=u.morphTargetsRelative?1:1-v;h.getUniforms().setValue(e,"morphTargetBaseInfluence",x),h.getUniforms().setValue(e,"morphTargetInfluences",p),h.getUniforms().setValue(e,"morphTargetsTexture",g.texture,r),h.getUniforms().setValue(e,"morphTargetsTextureSize",g.size)}else{let m=p===void 0?0:p.length,f=n[u.id];if(f===void 0||f.length!==m){f=[];for(let b=0;b<m;b++)f[b]=[b,0];n[u.id]=f}for(let b=0;b<m;b++){let w=f[b];w[0]=b,w[1]=p[b]}f.sort(Hbe);for(let b=0;b<8;b++)b<m&&f[b][1]?(c[b][0]=f[b][0],c[b][1]=f[b][1]):(c[b][0]=Number.MAX_SAFE_INTEGER,c[b][1]=0);c.sort(Vbe);let g=u.morphAttributes.position,v=u.morphAttributes.normal,x=0;for(let b=0;b<8;b++){let w=c[b],_=w[0],S=w[1];_!==Number.MAX_SAFE_INTEGER&&S?(g&&u.getAttribute("morphTarget"+b)!==g[_]&&u.setAttribute("morphTarget"+b,g[_]),v&&u.getAttribute("morphNormal"+b)!==v[_]&&u.setAttribute("morphNormal"+b,v[_]),i[b]=S,x+=S):(g&&u.hasAttribute("morphTarget"+b)===!0&&u.deleteAttribute("morphTarget"+b),v&&u.hasAttribute("morphNormal"+b)===!0&&u.deleteAttribute("morphNormal"+b),i[b]=0)}let y=u.morphTargetsRelative?1:1-x;h.getUniforms().setValue(e,"morphTargetBaseInfluence",y),h.getUniforms().setValue(e,"morphTargetInfluences",i)}}return{update:a}}function Gbe(e,t,r,n){let i=new WeakMap;function o(a){let s=n.render.frame,u=a.geometry,d=t.get(a,u);return i.get(d)!==s&&(t.update(d),i.set(d,s)),a.isInstancedMesh&&(a.hasEventListener("dispose",c)===!1&&a.addEventListener("dispose",c),r.update(a.instanceMatrix,34962),a.instanceColor!==null&&r.update(a.instanceColor,34962)),d}function l(){i=new WeakMap}function c(a){let s=a.target;s.removeEventListener("dispose",c),r.remove(s.instanceMatrix),s.instanceColor!==null&&r.remove(s.instanceColor)}return{update:o,dispose:l}}var _q=new Xn,Sq=new yq,Eq=new Dve,Cq=new q5,nL=[],iL=[],oL=new Float32Array(16),aL=new Float32Array(9),sL=new Float32Array(4);function yg(e,t,r){let n=e[0];if(n<=0||n>0)return e;let i=t*r,o=nL[i];if(o===void 0&&(o=new Float32Array(i),nL[i]=o),t!==0){n.toArray(o,0);for(let l=1,c=0;l!==t;++l)c+=r,e[l].toArray(o,c)}return o}function Qn(e,t){if(e.length!==t.length)return!1;for(let r=0,n=e.length;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Zn(e,t){for(let r=0,n=t.length;r<n;r++)e[r]=t[r]}function MS(e,t){let r=iL[t];r===void 0&&(r=new Int32Array(t),iL[t]=r);for(let n=0;n!==t;++n)r[n]=e.allocateTextureUnit();return r}function qbe(e,t){let r=this.cache;r[0]!==t&&(e.uniform1f(this.addr,t),r[0]=t)}function Ybe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(e.uniform2f(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Qn(r,t))return;e.uniform2fv(this.addr,t),Zn(r,t)}}function $be(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(e.uniform3f(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else if(t.r!==void 0)(r[0]!==t.r||r[1]!==t.g||r[2]!==t.b)&&(e.uniform3f(this.addr,t.r,t.g,t.b),r[0]=t.r,r[1]=t.g,r[2]=t.b);else{if(Qn(r,t))return;e.uniform3fv(this.addr,t),Zn(r,t)}}function Xbe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(e.uniform4f(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Qn(r,t))return;e.uniform4fv(this.addr,t),Zn(r,t)}}function Kbe(e,t){let r=this.cache,n=t.elements;if(n===void 0){if(Qn(r,t))return;e.uniformMatrix2fv(this.addr,!1,t),Zn(r,t)}else{if(Qn(r,n))return;sL.set(n),e.uniformMatrix2fv(this.addr,!1,sL),Zn(r,n)}}function Qbe(e,t){let r=this.cache,n=t.elements;if(n===void 0){if(Qn(r,t))return;e.uniformMatrix3fv(this.addr,!1,t),Zn(r,t)}else{if(Qn(r,n))return;aL.set(n),e.uniformMatrix3fv(this.addr,!1,aL),Zn(r,n)}}function Zbe(e,t){let r=this.cache,n=t.elements;if(n===void 0){if(Qn(r,t))return;e.uniformMatrix4fv(this.addr,!1,t),Zn(r,t)}else{if(Qn(r,n))return;oL.set(n),e.uniformMatrix4fv(this.addr,!1,oL),Zn(r,n)}}function Jbe(e,t){let r=this.cache;r[0]!==t&&(e.uniform1i(this.addr,t),r[0]=t)}function exe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(e.uniform2i(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Qn(r,t))return;e.uniform2iv(this.addr,t),Zn(r,t)}}function txe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(e.uniform3i(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else{if(Qn(r,t))return;e.uniform3iv(this.addr,t),Zn(r,t)}}function rxe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(e.uniform4i(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Qn(r,t))return;e.uniform4iv(this.addr,t),Zn(r,t)}}function nxe(e,t){let r=this.cache;r[0]!==t&&(e.uniform1ui(this.addr,t),r[0]=t)}function ixe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y)&&(e.uniform2ui(this.addr,t.x,t.y),r[0]=t.x,r[1]=t.y);else{if(Qn(r,t))return;e.uniform2uiv(this.addr,t),Zn(r,t)}}function oxe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z)&&(e.uniform3ui(this.addr,t.x,t.y,t.z),r[0]=t.x,r[1]=t.y,r[2]=t.z);else{if(Qn(r,t))return;e.uniform3uiv(this.addr,t),Zn(r,t)}}function axe(e,t){let r=this.cache;if(t.x!==void 0)(r[0]!==t.x||r[1]!==t.y||r[2]!==t.z||r[3]!==t.w)&&(e.uniform4ui(this.addr,t.x,t.y,t.z,t.w),r[0]=t.x,r[1]=t.y,r[2]=t.z,r[3]=t.w);else{if(Qn(r,t))return;e.uniform4uiv(this.addr,t),Zn(r,t)}}function sxe(e,t,r){let n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2D(t||_q,i)}function lxe(e,t,r){let n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture3D(t||Eq,i)}function cxe(e,t,r){let n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTextureCube(t||Cq,i)}function uxe(e,t,r){let n=this.cache,i=r.allocateTextureUnit();n[0]!==i&&(e.uniform1i(this.addr,i),n[0]=i),r.setTexture2DArray(t||Sq,i)}function dxe(e){switch(e){case 5126:return qbe;case 35664:return Ybe;case 35665:return $be;case 35666:return Xbe;case 35674:return Kbe;case 35675:return Qbe;case 35676:return Zbe;case 5124:case 35670:return Jbe;case 35667:case 35671:return exe;case 35668:case 35672:return txe;case 35669:case 35673:return rxe;case 5125:return nxe;case 36294:return ixe;case 36295:return oxe;case 36296:return axe;case 35678:case 36198:case 36298:case 36306:case 35682:return sxe;case 35679:case 36299:case 36307:return lxe;case 35680:case 36300:case 36308:case 36293:return cxe;case 36289:case 36303:case 36311:case 36292:return uxe}}function hxe(e,t){e.uniform1fv(this.addr,t)}function pxe(e,t){let r=yg(t,this.size,2);e.uniform2fv(this.addr,r)}function fxe(e,t){let r=yg(t,this.size,3);e.uniform3fv(this.addr,r)}function mxe(e,t){let r=yg(t,this.size,4);e.uniform4fv(this.addr,r)}function gxe(e,t){let r=yg(t,this.size,4);e.uniformMatrix2fv(this.addr,!1,r)}function vxe(e,t){let r=yg(t,this.size,9);e.uniformMatrix3fv(this.addr,!1,r)}function yxe(e,t){let r=yg(t,this.size,16);e.uniformMatrix4fv(this.addr,!1,r)}function bxe(e,t){e.uniform1iv(this.addr,t)}function xxe(e,t){e.uniform2iv(this.addr,t)}function wxe(e,t){e.uniform3iv(this.addr,t)}function _xe(e,t){e.uniform4iv(this.addr,t)}function Sxe(e,t){e.uniform1uiv(this.addr,t)}function Exe(e,t){e.uniform2uiv(this.addr,t)}function Cxe(e,t){e.uniform3uiv(this.addr,t)}function Axe(e,t){e.uniform4uiv(this.addr,t)}function Mxe(e,t,r){let n=this.cache,i=t.length,o=MS(r,i);Qn(n,o)||(e.uniform1iv(this.addr,o),Zn(n,o));for(let l=0;l!==i;++l)r.setTexture2D(t[l]||_q,o[l])}function Txe(e,t,r){let n=this.cache,i=t.length,o=MS(r,i);Qn(n,o)||(e.uniform1iv(this.addr,o),Zn(n,o));for(let l=0;l!==i;++l)r.setTexture3D(t[l]||Eq,o[l])}function Pxe(e,t,r){let n=this.cache,i=t.length,o=MS(r,i);Qn(n,o)||(e.uniform1iv(this.addr,o),Zn(n,o));for(let l=0;l!==i;++l)r.setTextureCube(t[l]||Cq,o[l])}function kxe(e,t,r){let n=this.cache,i=t.length,o=MS(r,i);Qn(n,o)||(e.uniform1iv(this.addr,o),Zn(n,o));for(let l=0;l!==i;++l)r.setTexture2DArray(t[l]||Sq,o[l])}function Dxe(e){switch(e){case 5126:return hxe;case 35664:return pxe;case 35665:return fxe;case 35666:return mxe;case 35674:return gxe;case 35675:return vxe;case 35676:return yxe;case 5124:case 35670:return bxe;case 35667:case 35671:return xxe;case 35668:case 35672:return wxe;case 35669:case 35673:return _xe;case 5125:return Sxe;case 36294:return Exe;case 36295:return Cxe;case 36296:return Axe;case 35678:case 36198:case 36298:case 36306:case 35682:return Mxe;case 35679:case 36299:case 36307:return Txe;case 35680:case 36300:case 36308:case 36293:return Pxe;case 36289:case 36303:case 36311:case 36292:return kxe}}var jxe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.setValue=dxe(t.type)}},Ixe=class{constructor(e,t,r){this.id=e,this.addr=r,this.cache=[],this.size=t.size,this.setValue=Dxe(t.type)}},Oxe=class{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,r){let n=this.seq;for(let i=0,o=n.length;i!==o;++i){let l=n[i];l.setValue(e,t[l.id],r)}}},ZE=/(\w+)(\])?(\[|\.)?/g;function lL(e,t){e.seq.push(t),e.map[t.id]=t}function Rxe(e,t,r){let n=e.name,i=n.length;for(ZE.lastIndex=0;;){let o=ZE.exec(n),l=ZE.lastIndex,c=o[1],a=o[2]==="]",s=o[3];if(a&&(c=c|0),s===void 0||s==="["&&l+2===i){lL(r,s===void 0?new jxe(c,e,t):new Ixe(c,e,t));break}else{let u=r.map[c];u===void 0&&(u=new Oxe(c),lL(r,u)),r=u}}}var Vx=class{constructor(e,t){this.seq=[],this.map={};let r=e.getProgramParameter(t,35718);for(let n=0;n<r;++n){let i=e.getActiveUniform(t,n),o=e.getUniformLocation(t,i.name);Rxe(i,o,this)}}setValue(e,t,r,n){let i=this.map[t];i!==void 0&&i.setValue(e,r,n)}setOptional(e,t,r){let n=t[r];n!==void 0&&this.setValue(e,r,n)}static upload(e,t,r,n){for(let i=0,o=t.length;i!==o;++i){let l=t[i],c=r[l.id];c.needsUpdate!==!1&&l.setValue(e,c.value,n)}}static seqWithValue(e,t){let r=[];for(let n=0,i=e.length;n!==i;++n){let o=e[n];o.id in t&&r.push(o)}return r}};function cL(e,t,r){let n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),n}var zxe=0;function Lxe(e,t){let r=e.split(`
`),n=[],i=Math.max(t-6,0),o=Math.min(t+6,r.length);for(let l=i;l<o;l++){let c=l+1;n.push(`${c===t?">":" "} ${c}: ${r[l]}`)}return n.join(`
`)}function Nxe(e){switch(e){case El:return["Linear","( value )"];case It:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",e),["Linear","( value )"]}}function uL(e,t,r){let n=e.getShaderParameter(t,35713),i=e.getShaderInfoLog(t).trim();if(n&&i==="")return"";let o=/ERROR: 0:(\d+)/.exec(i);if(o){let l=parseInt(o[1]);return r.toUpperCase()+`

`+i+`

`+Lxe(e.getShaderSource(t),l)}else return i}function Bxe(e,t){let r=Nxe(t);return"vec4 "+e+"( vec4 value ) { return LinearTo"+r[0]+r[1]+"; }"}function Fxe(e,t){let r;switch(t){case q0e:r="Linear";break;case Y0e:r="Reinhard";break;case $0e:r="OptimizedCineon";break;case X0e:r="ACESFilmic";break;case K0e:r="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),r="Linear"}return"vec3 "+e+"( vec3 color ) { return "+r+"ToneMapping( color ); }"}function Uxe(e){return[e.extensionDerivatives||e.envMapCubeUVHeight||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading||e.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(e.extensionFragDepth||e.logarithmicDepthBuffer)&&e.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",e.extensionDrawBuffers&&e.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(e.extensionShaderTextureLOD||e.envMap||e.transmission)&&e.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(V0).join(`
`)}function Vxe(e){let t=[];for(let r in e){let n=e[r];n!==!1&&t.push("#define "+r+" "+n)}return t.join(`
`)}function Hxe(e,t){let r={},n=e.getProgramParameter(t,35721);for(let i=0;i<n;i++){let o=e.getActiveAttrib(t,i),l=o.name,c=1;o.type===35674&&(c=2),o.type===35675&&(c=3),o.type===35676&&(c=4),r[l]={type:o.type,location:e.getAttribLocation(t,l),locationSize:c}}return r}function V0(e){return e!==""}function dL(e,t){let r=t.numSpotLightShadows+t.numSpotLightMaps-t.numSpotLightShadowsWithMaps;return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,t.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,r).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,t.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function hL(e,t){return e.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}var Wxe=/^[ \t]*#include +<([\w\d./]+)>/gm;function PT(e){return e.replace(Wxe,Gxe)}function Gxe(e,t){let r=Lt[t];if(r===void 0)throw new Error("Can not resolve #include <"+t+">");return PT(r)}var qxe=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function pL(e){return e.replace(qxe,Yxe)}function Yxe(e,t,r,n){let i="";for(let o=parseInt(t);o<parseInt(r);o++)i+=n.replace(/\[\s*i\s*\]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return i}function fL(e){let t="precision "+e.precision+` float;
precision `+e.precision+" int;";return e.precision==="highp"?t+=`
#define HIGH_PRECISION`:e.precision==="mediump"?t+=`
#define MEDIUM_PRECISION`:e.precision==="lowp"&&(t+=`
#define LOW_PRECISION`),t}function $xe(e){let t="SHADOWMAP_TYPE_BASIC";return e.shadowMapType===U5?t="SHADOWMAP_TYPE_PCF":e.shadowMapType===E0e?t="SHADOWMAP_TYPE_PCF_SOFT":e.shadowMapType===U0&&(t="SHADOWMAP_TYPE_VSM"),t}function Xxe(e){let t="ENVMAP_TYPE_CUBE";if(e.envMap)switch(e.envMapMode){case Uh:case Vh:t="ENVMAP_TYPE_CUBE";break;case e1:t="ENVMAP_TYPE_CUBE_UV";break}return t}function Kxe(e){let t="ENVMAP_MODE_REFLECTION";if(e.envMap)switch(e.envMapMode){case Vh:t="ENVMAP_MODE_REFRACTION";break}return t}function Qxe(e){let t="ENVMAP_BLENDING_NONE";if(e.envMap)switch(e.combine){case aq:t="ENVMAP_BLENDING_MULTIPLY";break;case W0e:t="ENVMAP_BLENDING_MIX";break;case G0e:t="ENVMAP_BLENDING_ADD";break}return t}function Zxe(e){let t=e.envMapCubeUVHeight;if(t===null)return null;let r=Math.log2(t)-2,n=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,r),7*16)),texelHeight:n,maxMip:r}}function Jxe(e,t,r,n){let i=e.getContext(),o=r.defines,l=r.vertexShader,c=r.fragmentShader,a=$xe(r),s=Xxe(r),u=Kxe(r),d=Qxe(r),h=Zxe(r),p=r.isWebGL2?"":Uxe(r),m=Vxe(o),f=i.createProgram(),g,v,x=r.glslVersion?"#version "+r.glslVersion+`
`:"";r.isRawShaderMaterial?(g=[m].filter(V0).join(`
`),g.length>0&&(g+=`
`),v=[p,m].filter(V0).join(`
`),v.length>0&&(v+=`
`)):(g=[fL(r),"#define SHADER_NAME "+r.shaderName,m,r.instancing?"#define USE_INSTANCING":"",r.instancingColor?"#define USE_INSTANCING_COLOR":"",r.supportsVertexTextures?"#define VERTEX_TEXTURES":"",r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+u:"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.displacementMap&&r.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.flatShading?"#define FLAT_SHADED":"",r.skinning?"#define USE_SKINNING":"",r.morphTargets?"#define USE_MORPHTARGETS":"",r.morphNormals&&r.flatShading===!1?"#define USE_MORPHNORMALS":"",r.morphColors&&r.isWebGL2?"#define USE_MORPHCOLORS":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+r.morphTextureStride:"",r.morphTargetsCount>0&&r.isWebGL2?"#define MORPHTARGETS_COUNT "+r.morphTargetsCount:"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+a:"",r.sizeAttenuation?"#define USE_SIZEATTENUATION":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(V0).join(`
`),v=[p,fL(r),"#define SHADER_NAME "+r.shaderName,m,r.useFog&&r.fog?"#define USE_FOG":"",r.useFog&&r.fogExp2?"#define FOG_EXP2":"",r.map?"#define USE_MAP":"",r.matcap?"#define USE_MATCAP":"",r.envMap?"#define USE_ENVMAP":"",r.envMap?"#define "+s:"",r.envMap?"#define "+u:"",r.envMap?"#define "+d:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",r.lightMap?"#define USE_LIGHTMAP":"",r.aoMap?"#define USE_AOMAP":"",r.emissiveMap?"#define USE_EMISSIVEMAP":"",r.bumpMap?"#define USE_BUMPMAP":"",r.normalMap?"#define USE_NORMALMAP":"",r.normalMap&&r.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",r.normalMap&&r.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",r.clearcoat?"#define USE_CLEARCOAT":"",r.clearcoatMap?"#define USE_CLEARCOATMAP":"",r.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",r.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",r.iridescence?"#define USE_IRIDESCENCE":"",r.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",r.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",r.specularMap?"#define USE_SPECULARMAP":"",r.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",r.specularColorMap?"#define USE_SPECULARCOLORMAP":"",r.roughnessMap?"#define USE_ROUGHNESSMAP":"",r.metalnessMap?"#define USE_METALNESSMAP":"",r.alphaMap?"#define USE_ALPHAMAP":"",r.alphaTest?"#define USE_ALPHATEST":"",r.sheen?"#define USE_SHEEN":"",r.sheenColorMap?"#define USE_SHEENCOLORMAP":"",r.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",r.transmission?"#define USE_TRANSMISSION":"",r.transmissionMap?"#define USE_TRANSMISSIONMAP":"",r.thicknessMap?"#define USE_THICKNESSMAP":"",r.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",r.vertexTangents?"#define USE_TANGENT":"",r.vertexColors||r.instancingColor?"#define USE_COLOR":"",r.vertexAlphas?"#define USE_COLOR_ALPHA":"",r.vertexUvs?"#define USE_UV":"",r.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",r.gradientMap?"#define USE_GRADIENTMAP":"",r.flatShading?"#define FLAT_SHADED":"",r.doubleSided?"#define DOUBLE_SIDED":"",r.flipSided?"#define FLIP_SIDED":"",r.shadowMapEnabled?"#define USE_SHADOWMAP":"",r.shadowMapEnabled?"#define "+a:"",r.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",r.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",r.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",r.logarithmicDepthBuffer&&r.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",r.toneMapping!==Ec?"#define TONE_MAPPING":"",r.toneMapping!==Ec?Lt.tonemapping_pars_fragment:"",r.toneMapping!==Ec?Fxe("toneMapping",r.toneMapping):"",r.dithering?"#define DITHERING":"",r.opaque?"#define OPAQUE":"",Lt.encodings_pars_fragment,Bxe("linearToOutputTexel",r.outputEncoding),r.useDepthPacking?"#define DEPTH_PACKING "+r.depthPacking:"",`
`].filter(V0).join(`
`)),l=PT(l),l=dL(l,r),l=hL(l,r),c=PT(c),c=dL(c,r),c=hL(c,r),l=pL(l),c=pL(c),r.isWebGL2&&r.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,g=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+g,v=["#define varying in",r.glslVersion===Nz?"":"layout(location = 0) out highp vec4 pc_fragColor;",r.glslVersion===Nz?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);let y=x+g+l,b=x+v+c,w=cL(i,35633,y),_=cL(i,35632,b);if(i.attachShader(f,w),i.attachShader(f,_),r.index0AttributeName!==void 0?i.bindAttribLocation(f,0,r.index0AttributeName):r.morphTargets===!0&&i.bindAttribLocation(f,0,"position"),i.linkProgram(f),e.debug.checkShaderErrors){let A=i.getProgramInfoLog(f).trim(),C=i.getShaderInfoLog(w).trim(),M=i.getShaderInfoLog(_).trim(),T=!0,k=!0;if(i.getProgramParameter(f,35714)===!1){T=!1;let P=uL(i,w,"vertex"),D=uL(i,_,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(f,35715)+`

Program Info Log: `+A+`
`+P+`
`+D)}else A!==""?console.warn("THREE.WebGLProgram: Program Info Log:",A):(C===""||M==="")&&(k=!1);k&&(this.diagnostics={runnable:T,programLog:A,vertexShader:{log:C,prefix:g},fragmentShader:{log:M,prefix:v}})}i.deleteShader(w),i.deleteShader(_);let S;this.getUniforms=function(){return S===void 0&&(S=new Vx(i,f)),S};let E;return this.getAttributes=function(){return E===void 0&&(E=Hxe(i,f)),E},this.destroy=function(){n.releaseStatesOfProgram(this),i.deleteProgram(f),this.program=void 0},this.name=r.shaderName,this.id=zxe++,this.cacheKey=t,this.usedTimes=1,this.program=f,this.vertexShader=w,this.fragmentShader=_,this}var ewe=0,twe=class{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){let t=e.vertexShader,r=e.fragmentShader,n=this._getShaderStage(t),i=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(n)===!1&&(o.add(n),n.usedTimes++),o.has(i)===!1&&(o.add(i),i.usedTimes++),this}remove(e){let t=this.materialCache.get(e);for(let r of t)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){let t=this.materialCache,r=t.get(e);return r===void 0&&(r=new Set,t.set(e,r)),r}_getShaderStage(e){let t=this.shaderCache,r=t.get(e);return r===void 0&&(r=new rwe(e),t.set(e,r)),r}},rwe=class{constructor(e){this.id=ewe++,this.code=e,this.usedTimes=0}};function nwe(e,t,r,n,i,o,l){let c=new G5,a=new twe,s=[],u=i.isWebGL2,d=i.logarithmicDepthBuffer,h=i.vertexTextures,p=i.precision,m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function f(E,A,C,M,T){let k=M.fog,P=T.geometry,D=E.isMeshStandardMaterial?M.environment:null,I=(E.isMeshStandardMaterial?r:t).get(E.envMap||D),O=I&&I.mapping===e1?I.image.height:null,j=m[E.type];E.precision!==null&&(p=i.getMaxPrecision(E.precision),p!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",p,"instead."));let N=P.morphAttributes.position||P.morphAttributes.normal||P.morphAttributes.color,R=N!==void 0?N.length:0,F=0;P.morphAttributes.position!==void 0&&(F=1),P.morphAttributes.normal!==void 0&&(F=2),P.morphAttributes.color!==void 0&&(F=3);let U,B,H,X;if(j){let q=ol[j];U=q.vertexShader,B=q.fragmentShader}else U=E.vertexShader,B=E.fragmentShader,a.update(E),H=a.getVertexShaderID(E),X=a.getFragmentShaderID(E);let G=e.getRenderTarget(),Z=E.alphaTest>0,J=E.clearcoat>0,ee=E.iridescence>0;return{isWebGL2:u,shaderID:j,shaderName:E.type,vertexShader:U,fragmentShader:B,defines:E.defines,customVertexShaderID:H,customFragmentShaderID:X,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:p,instancing:T.isInstancedMesh===!0,instancingColor:T.isInstancedMesh===!0&&T.instanceColor!==null,supportsVertexTextures:h,outputEncoding:G===null?e.outputEncoding:G.isXRRenderTarget===!0?G.texture.encoding:El,map:!!E.map,matcap:!!E.matcap,envMap:!!I,envMapMode:I&&I.mapping,envMapCubeUVHeight:O,lightMap:!!E.lightMap,aoMap:!!E.aoMap,emissiveMap:!!E.emissiveMap,bumpMap:!!E.bumpMap,normalMap:!!E.normalMap,objectSpaceNormalMap:E.normalMapType===pve,tangentSpaceNormalMap:E.normalMapType===hve,decodeVideoTexture:!!E.map&&E.map.isVideoTexture===!0&&E.map.encoding===It,clearcoat:J,clearcoatMap:J&&!!E.clearcoatMap,clearcoatRoughnessMap:J&&!!E.clearcoatRoughnessMap,clearcoatNormalMap:J&&!!E.clearcoatNormalMap,iridescence:ee,iridescenceMap:ee&&!!E.iridescenceMap,iridescenceThicknessMap:ee&&!!E.iridescenceThicknessMap,displacementMap:!!E.displacementMap,roughnessMap:!!E.roughnessMap,metalnessMap:!!E.metalnessMap,specularMap:!!E.specularMap,specularIntensityMap:!!E.specularIntensityMap,specularColorMap:!!E.specularColorMap,opaque:E.transparent===!1&&E.blending===xh,alphaMap:!!E.alphaMap,alphaTest:Z,gradientMap:!!E.gradientMap,sheen:E.sheen>0,sheenColorMap:!!E.sheenColorMap,sheenRoughnessMap:!!E.sheenRoughnessMap,transmission:E.transmission>0,transmissionMap:!!E.transmissionMap,thicknessMap:!!E.thicknessMap,combine:E.combine,vertexTangents:!!E.normalMap&&!!P.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!P.attributes.color&&P.attributes.color.itemSize===4,vertexUvs:!!E.map||!!E.bumpMap||!!E.normalMap||!!E.specularMap||!!E.alphaMap||!!E.emissiveMap||!!E.roughnessMap||!!E.metalnessMap||!!E.clearcoatMap||!!E.clearcoatRoughnessMap||!!E.clearcoatNormalMap||!!E.iridescenceMap||!!E.iridescenceThicknessMap||!!E.displacementMap||!!E.transmissionMap||!!E.thicknessMap||!!E.specularIntensityMap||!!E.specularColorMap||!!E.sheenColorMap||!!E.sheenRoughnessMap,uvsVertexOnly:!(E.map||E.bumpMap||E.normalMap||E.specularMap||E.alphaMap||E.emissiveMap||E.roughnessMap||E.metalnessMap||E.clearcoatNormalMap||E.iridescenceMap||E.iridescenceThicknessMap||E.transmission>0||E.transmissionMap||E.thicknessMap||E.specularIntensityMap||E.specularColorMap||E.sheen>0||E.sheenColorMap||E.sheenRoughnessMap)&&!!E.displacementMap,fog:!!k,useFog:E.fog===!0,fogExp2:k&&k.isFogExp2,flatShading:!!E.flatShading,sizeAttenuation:E.sizeAttenuation,logarithmicDepthBuffer:d,skinning:T.isSkinnedMesh===!0,morphTargets:P.morphAttributes.position!==void 0,morphNormals:P.morphAttributes.normal!==void 0,morphColors:P.morphAttributes.color!==void 0,morphTargetsCount:R,morphTextureStride:F,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:l.numPlanes,numClipIntersection:l.numIntersection,dithering:E.dithering,shadowMapEnabled:e.shadowMap.enabled&&C.length>0,shadowMapType:e.shadowMap.type,toneMapping:E.toneMapped?e.toneMapping:Ec,physicallyCorrectLights:e.physicallyCorrectLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===Co,flipSided:E.side===ai,useDepthPacking:!!E.depthPacking,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:E.extensions&&E.extensions.derivatives,extensionFragDepth:E.extensions&&E.extensions.fragDepth,extensionDrawBuffers:E.extensions&&E.extensions.drawBuffers,extensionShaderTextureLOD:E.extensions&&E.extensions.shaderTextureLOD,rendererExtensionFragDepth:u||n.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||n.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||n.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function g(E){let A=[];if(E.shaderID?A.push(E.shaderID):(A.push(E.customVertexShaderID),A.push(E.customFragmentShaderID)),E.defines!==void 0)for(let C in E.defines)A.push(C),A.push(E.defines[C]);return E.isRawShaderMaterial===!1&&(v(A,E),x(A,E),A.push(e.outputEncoding)),A.push(E.customProgramCacheKey),A.join()}function v(E,A){E.push(A.precision),E.push(A.outputEncoding),E.push(A.envMapMode),E.push(A.envMapCubeUVHeight),E.push(A.combine),E.push(A.vertexUvs),E.push(A.fogExp2),E.push(A.sizeAttenuation),E.push(A.morphTargetsCount),E.push(A.morphAttributeCount),E.push(A.numDirLights),E.push(A.numPointLights),E.push(A.numSpotLights),E.push(A.numSpotLightMaps),E.push(A.numHemiLights),E.push(A.numRectAreaLights),E.push(A.numDirLightShadows),E.push(A.numPointLightShadows),E.push(A.numSpotLightShadows),E.push(A.numSpotLightShadowsWithMaps),E.push(A.shadowMapType),E.push(A.toneMapping),E.push(A.numClippingPlanes),E.push(A.numClipIntersection),E.push(A.depthPacking)}function x(E,A){c.disableAll(),A.isWebGL2&&c.enable(0),A.supportsVertexTextures&&c.enable(1),A.instancing&&c.enable(2),A.instancingColor&&c.enable(3),A.map&&c.enable(4),A.matcap&&c.enable(5),A.envMap&&c.enable(6),A.lightMap&&c.enable(7),A.aoMap&&c.enable(8),A.emissiveMap&&c.enable(9),A.bumpMap&&c.enable(10),A.normalMap&&c.enable(11),A.objectSpaceNormalMap&&c.enable(12),A.tangentSpaceNormalMap&&c.enable(13),A.clearcoat&&c.enable(14),A.clearcoatMap&&c.enable(15),A.clearcoatRoughnessMap&&c.enable(16),A.clearcoatNormalMap&&c.enable(17),A.iridescence&&c.enable(18),A.iridescenceMap&&c.enable(19),A.iridescenceThicknessMap&&c.enable(20),A.displacementMap&&c.enable(21),A.specularMap&&c.enable(22),A.roughnessMap&&c.enable(23),A.metalnessMap&&c.enable(24),A.gradientMap&&c.enable(25),A.alphaMap&&c.enable(26),A.alphaTest&&c.enable(27),A.vertexColors&&c.enable(28),A.vertexAlphas&&c.enable(29),A.vertexUvs&&c.enable(30),A.vertexTangents&&c.enable(31),A.uvsVertexOnly&&c.enable(32),E.push(c.mask),c.disableAll(),A.fog&&c.enable(0),A.useFog&&c.enable(1),A.flatShading&&c.enable(2),A.logarithmicDepthBuffer&&c.enable(3),A.skinning&&c.enable(4),A.morphTargets&&c.enable(5),A.morphNormals&&c.enable(6),A.morphColors&&c.enable(7),A.premultipliedAlpha&&c.enable(8),A.shadowMapEnabled&&c.enable(9),A.physicallyCorrectLights&&c.enable(10),A.doubleSided&&c.enable(11),A.flipSided&&c.enable(12),A.useDepthPacking&&c.enable(13),A.dithering&&c.enable(14),A.specularIntensityMap&&c.enable(15),A.specularColorMap&&c.enable(16),A.transmission&&c.enable(17),A.transmissionMap&&c.enable(18),A.thicknessMap&&c.enable(19),A.sheen&&c.enable(20),A.sheenColorMap&&c.enable(21),A.sheenRoughnessMap&&c.enable(22),A.decodeVideoTexture&&c.enable(23),A.opaque&&c.enable(24),E.push(c.mask)}function y(E){let A=m[E.type],C;if(A){let M=ol[A];C=gg.clone(M.uniforms)}else C=E.uniforms;return C}function b(E,A){let C;for(let M=0,T=s.length;M<T;M++){let k=s[M];if(k.cacheKey===A){C=k,++C.usedTimes;break}}return C===void 0&&(C=new Jxe(e,A,E,o),s.push(C)),C}function w(E){if(--E.usedTimes===0){let A=s.indexOf(E);s[A]=s[s.length-1],s.pop(),E.destroy()}}function _(E){a.remove(E)}function S(){a.dispose()}return{getParameters:f,getProgramCacheKey:g,getUniforms:y,acquireProgram:b,releaseProgram:w,releaseShaderCache:_,programs:s,dispose:S}}function iwe(){let e=new WeakMap;function t(o){let l=e.get(o);return l===void 0&&(l={},e.set(o,l)),l}function r(o){e.delete(o)}function n(o,l,c){e.get(o)[l]=c}function i(){e=new WeakMap}return{get:t,remove:r,update:n,dispose:i}}function owe(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function mL(e,t){return e.groupOrder!==t.groupOrder?e.groupOrder-t.groupOrder:e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function gL(){let e=[],t=0,r=[],n=[],i=[];function o(){t=0,r.length=0,n.length=0,i.length=0}function l(d,h,p,m,f,g){let v=e[t];return v===void 0?(v={id:d.id,object:d,geometry:h,material:p,groupOrder:m,renderOrder:d.renderOrder,z:f,group:g},e[t]=v):(v.id=d.id,v.object=d,v.geometry=h,v.material=p,v.groupOrder=m,v.renderOrder=d.renderOrder,v.z=f,v.group=g),t++,v}function c(d,h,p,m,f,g){let v=l(d,h,p,m,f,g);p.transmission>0?n.push(v):p.transparent===!0?i.push(v):r.push(v)}function a(d,h,p,m,f,g){let v=l(d,h,p,m,f,g);p.transmission>0?n.unshift(v):p.transparent===!0?i.unshift(v):r.unshift(v)}function s(d,h){r.length>1&&r.sort(d||owe),n.length>1&&n.sort(h||mL),i.length>1&&i.sort(h||mL)}function u(){for(let d=t,h=e.length;d<h;d++){let p=e[d];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:r,transmissive:n,transparent:i,init:o,push:c,unshift:a,finish:u,sort:s}}function awe(){let e=new WeakMap;function t(n,i){let o=e.get(n),l;return o===void 0?(l=new gL,e.set(n,[l])):i>=o.length?(l=new gL,o.push(l)):l=o[i],l}function r(){e=new WeakMap}return{get:t,dispose:r}}function swe(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let r;switch(t.type){case"DirectionalLight":r={direction:new L,color:new ht};break;case"SpotLight":r={position:new L,direction:new L,color:new ht,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":r={position:new L,color:new ht,distance:0,decay:0};break;case"HemisphereLight":r={direction:new L,skyColor:new ht,groundColor:new ht};break;case"RectAreaLight":r={color:new ht,position:new L,halfWidth:new L,halfHeight:new L};break}return e[t.id]=r,r}}}function lwe(){let e={};return{get:function(t){if(e[t.id]!==void 0)return e[t.id];let r;switch(t.type){case"DirectionalLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new re};break;case"SpotLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new re};break;case"PointLight":r={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new re,shadowCameraNear:1,shadowCameraFar:1e3};break}return e[t.id]=r,r}}}var cwe=0;function uwe(e,t){return(t.castShadow?2:0)-(e.castShadow?2:0)+(t.map?1:0)-(e.map?1:0)}function dwe(e,t){let r=new swe,n=lwe(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let u=0;u<9;u++)i.probe.push(new L);let o=new L,l=new Re,c=new Re;function a(u,d){let h=0,p=0,m=0;for(let M=0;M<9;M++)i.probe[M].set(0,0,0);let f=0,g=0,v=0,x=0,y=0,b=0,w=0,_=0,S=0,E=0;u.sort(uwe);let A=d!==!0?Math.PI:1;for(let M=0,T=u.length;M<T;M++){let k=u[M],P=k.color,D=k.intensity,I=k.distance,O=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)h+=P.r*D*A,p+=P.g*D*A,m+=P.b*D*A;else if(k.isLightProbe)for(let j=0;j<9;j++)i.probe[j].addScaledVector(k.sh.coefficients[j],D);else if(k.isDirectionalLight){let j=r.get(k);if(j.color.copy(k.color).multiplyScalar(k.intensity*A),k.castShadow){let N=k.shadow,R=n.get(k);R.shadowBias=N.bias,R.shadowNormalBias=N.normalBias,R.shadowRadius=N.radius,R.shadowMapSize=N.mapSize,i.directionalShadow[f]=R,i.directionalShadowMap[f]=O,i.directionalShadowMatrix[f]=k.shadow.matrix,b++}i.directional[f]=j,f++}else if(k.isSpotLight){let j=r.get(k);j.position.setFromMatrixPosition(k.matrixWorld),j.color.copy(P).multiplyScalar(D*A),j.distance=I,j.coneCos=Math.cos(k.angle),j.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),j.decay=k.decay,i.spot[v]=j;let N=k.shadow;if(k.map&&(i.spotLightMap[S]=k.map,S++,N.updateMatrices(k),k.castShadow&&E++),i.spotLightMatrix[v]=N.matrix,k.castShadow){let R=n.get(k);R.shadowBias=N.bias,R.shadowNormalBias=N.normalBias,R.shadowRadius=N.radius,R.shadowMapSize=N.mapSize,i.spotShadow[v]=R,i.spotShadowMap[v]=O,_++}v++}else if(k.isRectAreaLight){let j=r.get(k);j.color.copy(P).multiplyScalar(D),j.halfWidth.set(k.width*.5,0,0),j.halfHeight.set(0,k.height*.5,0),i.rectArea[x]=j,x++}else if(k.isPointLight){let j=r.get(k);if(j.color.copy(k.color).multiplyScalar(k.intensity*A),j.distance=k.distance,j.decay=k.decay,k.castShadow){let N=k.shadow,R=n.get(k);R.shadowBias=N.bias,R.shadowNormalBias=N.normalBias,R.shadowRadius=N.radius,R.shadowMapSize=N.mapSize,R.shadowCameraNear=N.camera.near,R.shadowCameraFar=N.camera.far,i.pointShadow[g]=R,i.pointShadowMap[g]=O,i.pointShadowMatrix[g]=k.shadow.matrix,w++}i.point[g]=j,g++}else if(k.isHemisphereLight){let j=r.get(k);j.skyColor.copy(k.color).multiplyScalar(D*A),j.groundColor.copy(k.groundColor).multiplyScalar(D*A),i.hemi[y]=j,y++}}x>0&&(t.isWebGL2||e.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=We.LTC_FLOAT_1,i.rectAreaLTC2=We.LTC_FLOAT_2):e.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=We.LTC_HALF_1,i.rectAreaLTC2=We.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=h,i.ambient[1]=p,i.ambient[2]=m;let C=i.hash;(C.directionalLength!==f||C.pointLength!==g||C.spotLength!==v||C.rectAreaLength!==x||C.hemiLength!==y||C.numDirectionalShadows!==b||C.numPointShadows!==w||C.numSpotShadows!==_||C.numSpotMaps!==S)&&(i.directional.length=f,i.spot.length=v,i.rectArea.length=x,i.point.length=g,i.hemi.length=y,i.directionalShadow.length=b,i.directionalShadowMap.length=b,i.pointShadow.length=w,i.pointShadowMap.length=w,i.spotShadow.length=_,i.spotShadowMap.length=_,i.directionalShadowMatrix.length=b,i.pointShadowMatrix.length=w,i.spotLightMatrix.length=_+S-E,i.spotLightMap.length=S,i.numSpotLightShadowsWithMaps=E,C.directionalLength=f,C.pointLength=g,C.spotLength=v,C.rectAreaLength=x,C.hemiLength=y,C.numDirectionalShadows=b,C.numPointShadows=w,C.numSpotShadows=_,C.numSpotMaps=S,i.version=cwe++)}function s(u,d){let h=0,p=0,m=0,f=0,g=0,v=d.matrixWorldInverse;for(let x=0,y=u.length;x<y;x++){let b=u[x];if(b.isDirectionalLight){let w=i.directional[h];w.direction.setFromMatrixPosition(b.matrixWorld),o.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(o),w.direction.transformDirection(v),h++}else if(b.isSpotLight){let w=i.spot[m];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(b.matrixWorld),o.setFromMatrixPosition(b.target.matrixWorld),w.direction.sub(o),w.direction.transformDirection(v),m++}else if(b.isRectAreaLight){let w=i.rectArea[f];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),c.identity(),l.copy(b.matrixWorld),l.premultiply(v),c.extractRotation(l),w.halfWidth.set(b.width*.5,0,0),w.halfHeight.set(0,b.height*.5,0),w.halfWidth.applyMatrix4(c),w.halfHeight.applyMatrix4(c),f++}else if(b.isPointLight){let w=i.point[p];w.position.setFromMatrixPosition(b.matrixWorld),w.position.applyMatrix4(v),p++}else if(b.isHemisphereLight){let w=i.hemi[g];w.direction.setFromMatrixPosition(b.matrixWorld),w.direction.transformDirection(v),g++}}}return{setup:a,setupView:s,state:i}}function vL(e,t){let r=new dwe(e,t),n=[],i=[];function o(){n.length=0,i.length=0}function l(u){n.push(u)}function c(u){i.push(u)}function a(u){r.setup(n,u)}function s(u){r.setupView(n,u)}return{init:o,state:{lightsArray:n,shadowsArray:i,lights:r},setupLights:a,setupLightsView:s,pushLight:l,pushShadow:c}}function hwe(e,t){let r=new WeakMap;function n(o,l=0){let c=r.get(o),a;return c===void 0?(a=new vL(e,t),r.set(o,[a])):l>=c.length?(a=new vL(e,t),c.push(a)):a=c[l],a}function i(){r=new WeakMap}return{get:n,dispose:i}}var Aq=class extends t1{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Wc,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}},pwe=class extends t1{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new L,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.referencePosition.copy(e.referencePosition),this.nearDistance=e.nearDistance,this.farDistance=e.farDistance,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}},fwe=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,mwe=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function gwe(e,t,r){let n=new Y5,i=new re,o=new re,l=new Ot,c=new Aq({depthPacking:hq}),a=new pwe,s={},u=r.maxTextureSize,d={[ks]:ai,[ai]:ks,[Co]:Co},h=new Tr({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new re},radius:{value:4}},vertexShader:fwe,fragmentShader:mwe}),p=h.clone();p.defines.HORIZONTAL_PASS=1;let m=new lt;m.setAttribute("position",new St(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));let f=new ro(m,h),g=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=U5,this.render=function(b,w,_){if(g.enabled===!1||g.autoUpdate===!1&&g.needsUpdate===!1||b.length===0)return;let S=e.getRenderTarget(),E=e.getActiveCubeFace(),A=e.getActiveMipmapLevel(),C=e.state;C.setBlending(Bn),C.buffers.color.setClear(1,1,1,1),C.buffers.depth.setTest(!0),C.setScissorTest(!1);for(let M=0,T=b.length;M<T;M++){let k=b[M],P=k.shadow;if(P===void 0){console.warn("THREE.WebGLShadowMap:",k,"has no shadow.");continue}if(P.autoUpdate===!1&&P.needsUpdate===!1)continue;i.copy(P.mapSize);let D=P.getFrameExtents();if(i.multiply(D),o.copy(P.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(o.x=Math.floor(u/D.x),i.x=o.x*D.x,P.mapSize.x=o.x),i.y>u&&(o.y=Math.floor(u/D.y),i.y=o.y*D.y,P.mapSize.y=o.y)),P.map===null){let O=this.type!==U0?{minFilter:kr,magFilter:kr}:{};P.map=new br(i.x,i.y,O),P.map.texture.name=k.name+".shadowMap",P.camera.updateProjectionMatrix()}e.setRenderTarget(P.map),e.clear();let I=P.getViewportCount();for(let O=0;O<I;O++){let j=P.getViewport(O);l.set(o.x*j.x,o.y*j.y,o.x*j.z,o.y*j.w),C.viewport(l),P.updateMatrices(k,O),n=P.getFrustum(),y(w,_,P.camera,k,this.type)}P.isPointLightShadow!==!0&&this.type===U0&&v(P,_),P.needsUpdate=!1}g.needsUpdate=!1,e.setRenderTarget(S,E,A)};function v(b,w){let _=t.update(f);h.defines.VSM_SAMPLES!==b.blurSamples&&(h.defines.VSM_SAMPLES=b.blurSamples,p.defines.VSM_SAMPLES=b.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),b.mapPass===null&&(b.mapPass=new br(i.x,i.y)),h.uniforms.shadow_pass.value=b.map.texture,h.uniforms.resolution.value=b.mapSize,h.uniforms.radius.value=b.radius,e.setRenderTarget(b.mapPass),e.clear(),e.renderBufferDirect(w,null,_,h,f,null),p.uniforms.shadow_pass.value=b.mapPass.texture,p.uniforms.resolution.value=b.mapSize,p.uniforms.radius.value=b.radius,e.setRenderTarget(b.map),e.clear(),e.renderBufferDirect(w,null,_,p,f,null)}function x(b,w,_,S,E,A){let C=null,M=_.isPointLight===!0?b.customDistanceMaterial:b.customDepthMaterial;if(M!==void 0)C=M;else if(C=_.isPointLight===!0?a:c,e.localClippingEnabled&&w.clipShadows===!0&&Array.isArray(w.clippingPlanes)&&w.clippingPlanes.length!==0||w.displacementMap&&w.displacementScale!==0||w.alphaMap&&w.alphaTest>0||w.map&&w.alphaTest>0){let T=C.uuid,k=w.uuid,P=s[T];P===void 0&&(P={},s[T]=P);let D=P[k];D===void 0&&(D=C.clone(),P[k]=D),C=D}return C.visible=w.visible,C.wireframe=w.wireframe,A===U0?C.side=w.shadowSide!==null?w.shadowSide:w.side:C.side=w.shadowSide!==null?w.shadowSide:d[w.side],C.alphaMap=w.alphaMap,C.alphaTest=w.alphaTest,C.map=w.map,C.clipShadows=w.clipShadows,C.clippingPlanes=w.clippingPlanes,C.clipIntersection=w.clipIntersection,C.displacementMap=w.displacementMap,C.displacementScale=w.displacementScale,C.displacementBias=w.displacementBias,C.wireframeLinewidth=w.wireframeLinewidth,C.linewidth=w.linewidth,_.isPointLight===!0&&C.isMeshDistanceMaterial===!0&&(C.referencePosition.setFromMatrixPosition(_.matrixWorld),C.nearDistance=S,C.farDistance=E),C}function y(b,w,_,S,E){if(b.visible===!1)return;if(b.layers.test(w.layers)&&(b.isMesh||b.isLine||b.isPoints)&&(b.castShadow||b.receiveShadow&&E===U0)&&(!b.frustumCulled||n.intersectsObject(b))){b.modelViewMatrix.multiplyMatrices(_.matrixWorldInverse,b.matrixWorld);let C=t.update(b),M=b.material;if(Array.isArray(M)){let T=C.groups;for(let k=0,P=T.length;k<P;k++){let D=T[k],I=M[D.materialIndex];if(I&&I.visible){let O=x(b,I,S,_.near,_.far,E);e.renderBufferDirect(_,null,C,O,b,D)}}}else if(M.visible){let T=x(b,M,S,_.near,_.far,E);e.renderBufferDirect(_,null,C,T,b,null)}}let A=b.children;for(let C=0,M=A.length;C<M;C++)y(A[C],w,_,S,E)}}function vwe(e,t,r){let n=r.isWebGL2;function i(){let ne=!1,ye=new Ot,Pe=null,Qe=new Ot(0,0,0,0);return{setMask:function(gt){Pe!==gt&&!ne&&(e.colorMask(gt,gt,gt,gt),Pe=gt)},setLocked:function(gt){ne=gt},setClear:function(gt,Xt,ae,ve,Ae){Ae===!0&&(gt*=ve,Xt*=ve,ae*=ve),ye.set(gt,Xt,ae,ve),Qe.equals(ye)===!1&&(e.clearColor(gt,Xt,ae,ve),Qe.copy(ye))},reset:function(){ne=!1,Pe=null,Qe.set(-1,0,0,0)}}}function o(){let ne=!1,ye=null,Pe=null,Qe=null;return{setTest:function(gt){gt?Z(2929):J(2929)},setMask:function(gt){ye!==gt&&!ne&&(e.depthMask(gt),ye=gt)},setFunc:function(gt){if(Pe!==gt){switch(gt){case L0e:e.depthFunc(512);break;case N0e:e.depthFunc(519);break;case B0e:e.depthFunc(513);break;case _T:e.depthFunc(515);break;case F0e:e.depthFunc(514);break;case U0e:e.depthFunc(518);break;case V0e:e.depthFunc(516);break;case H0e:e.depthFunc(517);break;default:e.depthFunc(515)}Pe=gt}},setLocked:function(gt){ne=gt},setClear:function(gt){Qe!==gt&&(e.clearDepth(gt),Qe=gt)},reset:function(){ne=!1,ye=null,Pe=null,Qe=null}}}function l(){let ne=!1,ye=null,Pe=null,Qe=null,gt=null,Xt=null,ae=null,ve=null,Ae=null;return{setTest:function(Ie){ne||(Ie?Z(2960):J(2960))},setMask:function(Ie){ye!==Ie&&!ne&&(e.stencilMask(Ie),ye=Ie)},setFunc:function(Ie,Ke,ut){(Pe!==Ie||Qe!==Ke||gt!==ut)&&(e.stencilFunc(Ie,Ke,ut),Pe=Ie,Qe=Ke,gt=ut)},setOp:function(Ie,Ke,ut){(Xt!==Ie||ae!==Ke||ve!==ut)&&(e.stencilOp(Ie,Ke,ut),Xt=Ie,ae=Ke,ve=ut)},setLocked:function(Ie){ne=Ie},setClear:function(Ie){Ae!==Ie&&(e.clearStencil(Ie),Ae=Ie)},reset:function(){ne=!1,ye=null,Pe=null,Qe=null,gt=null,Xt=null,ae=null,ve=null,Ae=null}}}let c=new i,a=new o,s=new l,u=new WeakMap,d=new WeakMap,h={},p={},m=new WeakMap,f=[],g=null,v=!1,x=null,y=null,b=null,w=null,_=null,S=null,E=null,A=!1,C=null,M=null,T=null,k=null,P=null,D=e.getParameter(35661),I=!1,O=0,j=e.getParameter(7938);j.indexOf("WebGL")!==-1?(O=parseFloat(/^WebGL (\d)/.exec(j)[1]),I=O>=1):j.indexOf("OpenGL ES")!==-1&&(O=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),I=O>=2);let N=null,R={},F=e.getParameter(3088),U=e.getParameter(2978),B=new Ot().fromArray(F),H=new Ot().fromArray(U);function X(ne,ye,Pe){let Qe=new Uint8Array(4),gt=e.createTexture();e.bindTexture(ne,gt),e.texParameteri(ne,10241,9728),e.texParameteri(ne,10240,9728);for(let Xt=0;Xt<Pe;Xt++)e.texImage2D(ye+Xt,0,6408,1,1,0,6408,5121,Qe);return gt}let G={};G[3553]=X(3553,3553,1),G[34067]=X(34067,34069,6),c.setClear(0,0,0,1),a.setClear(1),s.setClear(0),Z(2929),a.setFunc(_T),De(!1),Me(lz),Z(2884),le(Bn);function Z(ne){h[ne]!==!0&&(e.enable(ne),h[ne]=!0)}function J(ne){h[ne]!==!1&&(e.disable(ne),h[ne]=!1)}function ee(ne,ye){return p[ne]!==ye?(e.bindFramebuffer(ne,ye),p[ne]=ye,n&&(ne===36009&&(p[36160]=ye),ne===36160&&(p[36009]=ye)),!0):!1}function q(ne,ye){let Pe=f,Qe=!1;if(ne)if(Pe=m.get(ye),Pe===void 0&&(Pe=[],m.set(ye,Pe)),ne.isWebGLMultipleRenderTargets){let gt=ne.texture;if(Pe.length!==gt.length||Pe[0]!==36064){for(let Xt=0,ae=gt.length;Xt<ae;Xt++)Pe[Xt]=36064+Xt;Pe.length=gt.length,Qe=!0}}else Pe[0]!==36064&&(Pe[0]=36064,Qe=!0);else Pe[0]!==1029&&(Pe[0]=1029,Qe=!0);Qe&&(r.isWebGL2?e.drawBuffers(Pe):t.get("WEBGL_draw_buffers").drawBuffersWEBGL(Pe))}function Y(ne){return g!==ne?(e.useProgram(ne),g=ne,!0):!1}let Q={[sf]:32774,[A0e]:32778,[M0e]:32779};if(n)Q[hz]=32775,Q[pz]=32776;else{let ne=t.get("EXT_blend_minmax");ne!==null&&(Q[hz]=ne.MIN_EXT,Q[pz]=ne.MAX_EXT)}let ie={[T0e]:0,[P0e]:1,[k0e]:768,[iq]:770,[z0e]:776,[O0e]:774,[j0e]:772,[D0e]:769,[oq]:771,[R0e]:775,[I0e]:773};function le(ne,ye,Pe,Qe,gt,Xt,ae,ve){if(ne===Bn){v===!0&&(J(3042),v=!1);return}if(v===!1&&(Z(3042),v=!0),ne!==C0e){if(ne!==x||ve!==A){if((y!==sf||_!==sf)&&(e.blendEquation(32774),y=sf,_=sf),ve)switch(ne){case xh:e.blendFuncSeparate(1,771,1,771);break;case cz:e.blendFunc(1,1);break;case uz:e.blendFuncSeparate(0,769,0,1);break;case dz:e.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}else switch(ne){case xh:e.blendFuncSeparate(770,771,1,771);break;case cz:e.blendFunc(770,1);break;case uz:e.blendFuncSeparate(0,769,0,1);break;case dz:e.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",ne);break}b=null,w=null,S=null,E=null,x=ne,A=ve}return}gt=gt||ye,Xt=Xt||Pe,ae=ae||Qe,(ye!==y||gt!==_)&&(e.blendEquationSeparate(Q[ye],Q[gt]),y=ye,_=gt),(Pe!==b||Qe!==w||Xt!==S||ae!==E)&&(e.blendFuncSeparate(ie[Pe],ie[Qe],ie[Xt],ie[ae]),b=Pe,w=Qe,S=Xt,E=ae),x=ne,A=!1}function de(ne,ye){ne.side===Co?J(2884):Z(2884);let Pe=ne.side===ai;ye&&(Pe=!Pe),De(Pe),ne.blending===xh&&ne.transparent===!1?le(Bn):le(ne.blending,ne.blendEquation,ne.blendSrc,ne.blendDst,ne.blendEquationAlpha,ne.blendSrcAlpha,ne.blendDstAlpha,ne.premultipliedAlpha),a.setFunc(ne.depthFunc),a.setTest(ne.depthTest),a.setMask(ne.depthWrite),c.setMask(ne.colorWrite);let Qe=ne.stencilWrite;s.setTest(Qe),Qe&&(s.setMask(ne.stencilWriteMask),s.setFunc(ne.stencilFunc,ne.stencilRef,ne.stencilFuncMask),s.setOp(ne.stencilFail,ne.stencilZFail,ne.stencilZPass)),Te(ne.polygonOffset,ne.polygonOffsetFactor,ne.polygonOffsetUnits),ne.alphaToCoverage===!0?Z(32926):J(32926)}function De(ne){C!==ne&&(ne?e.frontFace(2304):e.frontFace(2305),C=ne)}function Me(ne){ne!==_0e?(Z(2884),ne!==M&&(ne===lz?e.cullFace(1029):ne===S0e?e.cullFace(1028):e.cullFace(1032))):J(2884),M=ne}function Ee(ne){ne!==T&&(I&&e.lineWidth(ne),T=ne)}function Te(ne,ye,Pe){ne?(Z(32823),(k!==ye||P!==Pe)&&(e.polygonOffset(ye,Pe),k=ye,P=Pe)):J(32823)}function $e(ne){ne?Z(3089):J(3089)}function ze(ne){ne===void 0&&(ne=33984+D-1),N!==ne&&(e.activeTexture(ne),N=ne)}function K(ne,ye,Pe){Pe===void 0&&(N===null?Pe=33984+D-1:Pe=N);let Qe=R[Pe];Qe===void 0&&(Qe={type:void 0,texture:void 0},R[Pe]=Qe),(Qe.type!==ne||Qe.texture!==ye)&&(N!==Pe&&(e.activeTexture(Pe),N=Pe),e.bindTexture(ne,ye||G[ne]),Qe.type=ne,Qe.texture=ye)}function W(){let ne=R[N];ne!==void 0&&ne.type!==void 0&&(e.bindTexture(ne.type,null),ne.type=void 0,ne.texture=void 0)}function se(){try{e.compressedTexImage2D.apply(e,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Se(){try{e.compressedTexImage3D.apply(e,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function te(){try{e.texSubImage2D.apply(e,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function ce(){try{e.texSubImage3D.apply(e,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function we(){try{e.compressedTexSubImage2D.apply(e,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function fe(){try{e.compressedTexSubImage3D.apply(e,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function he(){try{e.texStorage2D.apply(e,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ne(){try{e.texStorage3D.apply(e,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Xe(){try{e.texImage2D.apply(e,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ce(){try{e.texImage3D.apply(e,arguments)}catch(ne){console.error("THREE.WebGLState:",ne)}}function Ue(ne){B.equals(ne)===!1&&(e.scissor(ne.x,ne.y,ne.z,ne.w),B.copy(ne))}function Ge(ne){H.equals(ne)===!1&&(e.viewport(ne.x,ne.y,ne.z,ne.w),H.copy(ne))}function st(ne,ye){let Pe=d.get(ye);Pe===void 0&&(Pe=new WeakMap,d.set(ye,Pe));let Qe=Pe.get(ne);Qe===void 0&&(Qe=e.getUniformBlockIndex(ye,ne.name),Pe.set(ne,Qe))}function He(ne,ye){let Pe=d.get(ye).get(ne);u.get(ye)!==Pe&&(e.uniformBlockBinding(ye,Pe,ne.__bindingPointIndex),u.set(ye,Pe))}function tt(){e.disable(3042),e.disable(2884),e.disable(2929),e.disable(32823),e.disable(3089),e.disable(2960),e.disable(32926),e.blendEquation(32774),e.blendFunc(1,0),e.blendFuncSeparate(1,0,1,0),e.colorMask(!0,!0,!0,!0),e.clearColor(0,0,0,0),e.depthMask(!0),e.depthFunc(513),e.clearDepth(1),e.stencilMask(4294967295),e.stencilFunc(519,0,4294967295),e.stencilOp(7680,7680,7680),e.clearStencil(0),e.cullFace(1029),e.frontFace(2305),e.polygonOffset(0,0),e.activeTexture(33984),e.bindFramebuffer(36160,null),n===!0&&(e.bindFramebuffer(36009,null),e.bindFramebuffer(36008,null)),e.useProgram(null),e.lineWidth(1),e.scissor(0,0,e.canvas.width,e.canvas.height),e.viewport(0,0,e.canvas.width,e.canvas.height),h={},N=null,R={},p={},m=new WeakMap,f=[],g=null,v=!1,x=null,y=null,b=null,w=null,_=null,S=null,E=null,A=!1,C=null,M=null,T=null,k=null,P=null,B.set(0,0,e.canvas.width,e.canvas.height),H.set(0,0,e.canvas.width,e.canvas.height),c.reset(),a.reset(),s.reset()}return{buffers:{color:c,depth:a,stencil:s},enable:Z,disable:J,bindFramebuffer:ee,drawBuffers:q,useProgram:Y,setBlending:le,setMaterial:de,setFlipSided:De,setCullFace:Me,setLineWidth:Ee,setPolygonOffset:Te,setScissorTest:$e,activeTexture:ze,bindTexture:K,unbindTexture:W,compressedTexImage2D:se,compressedTexImage3D:Se,texImage2D:Xe,texImage3D:Ce,updateUBOMapping:st,uniformBlockBinding:He,texStorage2D:he,texStorage3D:Ne,texSubImage2D:te,texSubImage3D:ce,compressedTexSubImage2D:we,compressedTexSubImage3D:fe,scissor:Ue,viewport:Ge,reset:tt}}function ywe(e,t,r,n,i,o,l){let c=i.isWebGL2,a=i.maxTextures,s=i.maxCubemapSize,u=i.maxTextureSize,d=i.maxSamples,h=t.has("WEBGL_multisampled_render_to_texture")?t.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),m=new WeakMap,f,g=new WeakMap,v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function x(K,W){return v?new OffscreenCanvas(K,W):t_("canvas")}function y(K,W,se,Se){let te=1;if((K.width>Se||K.height>Se)&&(te=Se/Math.max(K.width,K.height)),te<1||W===!0)if(typeof HTMLImageElement<"u"&&K instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&K instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&K instanceof ImageBitmap){let ce=W?e_:Math.floor,we=ce(te*K.width),fe=ce(te*K.height);f===void 0&&(f=x(we,fe));let he=se?x(we,fe):f;return he.width=we,he.height=fe,he.getContext("2d").drawImage(K,0,0,we,fe),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+K.width+"x"+K.height+") to ("+we+"x"+fe+")."),he}else return"data"in K&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+K.width+"x"+K.height+")."),K;return K}function b(K){return TT(K.width)&&TT(K.height)}function w(K){return c?!1:K.wrapS!==_n||K.wrapT!==_n||K.minFilter!==kr&&K.minFilter!==Wt}function _(K,W){return K.generateMipmaps&&W&&K.minFilter!==kr&&K.minFilter!==Wt}function S(K){e.generateMipmap(K)}function E(K,W,se,Se,te=!1){if(c===!1)return W;if(K!==null){if(e[K]!==void 0)return e[K];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+K+"'")}let ce=W;return W===6403&&(se===5126&&(ce=33326),se===5131&&(ce=33325),se===5121&&(ce=33321)),W===33319&&(se===5126&&(ce=33328),se===5131&&(ce=33327),se===5121&&(ce=33323)),W===6408&&(se===5126&&(ce=34836),se===5131&&(ce=34842),se===5121&&(ce=Se===It&&te===!1?35907:32856),se===32819&&(ce=32854),se===32820&&(ce=32855)),(ce===33325||ce===33326||ce===33327||ce===33328||ce===34842||ce===34836)&&t.get("EXT_color_buffer_float"),ce}function A(K,W,se){return _(K,se)===!0||K.isFramebufferTexture&&K.minFilter!==kr&&K.minFilter!==Wt?Math.log2(Math.max(W.width,W.height))+1:K.mipmaps!==void 0&&K.mipmaps.length>0?K.mipmaps.length:K.isCompressedTexture&&Array.isArray(K.image)?W.mipmaps.length:1}function C(K){return K===kr||K===fz||K===_E?9728:9729}function M(K){let W=K.target;W.removeEventListener("dispose",M),k(W),W.isVideoTexture&&m.delete(W)}function T(K){let W=K.target;W.removeEventListener("dispose",T),D(W)}function k(K){let W=n.get(K);if(W.__webglInit===void 0)return;let se=K.source,Se=g.get(se);if(Se){let te=Se[W.__cacheKey];te.usedTimes--,te.usedTimes===0&&P(K),Object.keys(Se).length===0&&g.delete(se)}n.remove(K)}function P(K){let W=n.get(K);e.deleteTexture(W.__webglTexture);let se=K.source,Se=g.get(se);delete Se[W.__cacheKey],l.memory.textures--}function D(K){let W=K.texture,se=n.get(K),Se=n.get(W);if(Se.__webglTexture!==void 0&&(e.deleteTexture(Se.__webglTexture),l.memory.textures--),K.depthTexture&&K.depthTexture.dispose(),K.isWebGLCubeRenderTarget)for(let te=0;te<6;te++)e.deleteFramebuffer(se.__webglFramebuffer[te]),se.__webglDepthbuffer&&e.deleteRenderbuffer(se.__webglDepthbuffer[te]);else{if(e.deleteFramebuffer(se.__webglFramebuffer),se.__webglDepthbuffer&&e.deleteRenderbuffer(se.__webglDepthbuffer),se.__webglMultisampledFramebuffer&&e.deleteFramebuffer(se.__webglMultisampledFramebuffer),se.__webglColorRenderbuffer)for(let te=0;te<se.__webglColorRenderbuffer.length;te++)se.__webglColorRenderbuffer[te]&&e.deleteRenderbuffer(se.__webglColorRenderbuffer[te]);se.__webglDepthRenderbuffer&&e.deleteRenderbuffer(se.__webglDepthRenderbuffer)}if(K.isWebGLMultipleRenderTargets)for(let te=0,ce=W.length;te<ce;te++){let we=n.get(W[te]);we.__webglTexture&&(e.deleteTexture(we.__webglTexture),l.memory.textures--),n.remove(W[te])}n.remove(W),n.remove(K)}let I=0;function O(){I=0}function j(){let K=I;return K>=a&&console.warn("THREE.WebGLTextures: Trying to use "+K+" texture units while this GPU supports only "+a),I+=1,K}function N(K){let W=[];return W.push(K.wrapS),W.push(K.wrapT),W.push(K.wrapR||0),W.push(K.magFilter),W.push(K.minFilter),W.push(K.anisotropy),W.push(K.internalFormat),W.push(K.format),W.push(K.type),W.push(K.generateMipmaps),W.push(K.premultiplyAlpha),W.push(K.flipY),W.push(K.unpackAlignment),W.push(K.encoding),W.join()}function R(K,W){let se=n.get(K);if(K.isVideoTexture&&$e(K),K.isRenderTargetTexture===!1&&K.version>0&&se.__version!==K.version){let Se=K.image;if(Se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{J(se,K,W);return}}r.bindTexture(3553,se.__webglTexture,33984+W)}function F(K,W){let se=n.get(K);if(K.version>0&&se.__version!==K.version){J(se,K,W);return}r.bindTexture(35866,se.__webglTexture,33984+W)}function U(K,W){let se=n.get(K);if(K.version>0&&se.__version!==K.version){J(se,K,W);return}r.bindTexture(32879,se.__webglTexture,33984+W)}function B(K,W){let se=n.get(K);if(K.version>0&&se.__version!==K.version){ee(se,K,W);return}r.bindTexture(34067,se.__webglTexture,33984+W)}let H={[mc]:10497,[_n]:33071,[CT]:33648},X={[kr]:9728,[fz]:9984,[_E]:9986,[Wt]:9729,[Q0e]:9985,[Um]:9987};function G(K,W,se){if(se?(e.texParameteri(K,10242,H[W.wrapS]),e.texParameteri(K,10243,H[W.wrapT]),(K===32879||K===35866)&&e.texParameteri(K,32882,H[W.wrapR]),e.texParameteri(K,10240,X[W.magFilter]),e.texParameteri(K,10241,X[W.minFilter])):(e.texParameteri(K,10242,33071),e.texParameteri(K,10243,33071),(K===32879||K===35866)&&e.texParameteri(K,32882,33071),(W.wrapS!==_n||W.wrapT!==_n)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),e.texParameteri(K,10240,C(W.magFilter)),e.texParameteri(K,10241,C(W.minFilter)),W.minFilter!==kr&&W.minFilter!==Wt&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),t.has("EXT_texture_filter_anisotropic")===!0){let Se=t.get("EXT_texture_filter_anisotropic");if(W.magFilter===kr||W.minFilter!==_E&&W.minFilter!==Um||W.type===to&&t.has("OES_texture_float_linear")===!1||c===!1&&W.type===Hh&&t.has("OES_texture_half_float_linear")===!1)return;(W.anisotropy>1||n.get(W).__currentAnisotropy)&&(e.texParameterf(K,Se.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(W.anisotropy,i.getMaxAnisotropy())),n.get(W).__currentAnisotropy=W.anisotropy)}}function Z(K,W){let se=!1;K.__webglInit===void 0&&(K.__webglInit=!0,W.addEventListener("dispose",M));let Se=W.source,te=g.get(Se);te===void 0&&(te={},g.set(Se,te));let ce=N(W);if(ce!==K.__cacheKey){te[ce]===void 0&&(te[ce]={texture:e.createTexture(),usedTimes:0},l.memory.textures++,se=!0),te[ce].usedTimes++;let we=te[K.__cacheKey];we!==void 0&&(te[K.__cacheKey].usedTimes--,we.usedTimes===0&&P(W)),K.__cacheKey=ce,K.__webglTexture=te[ce].texture}return se}function J(K,W,se){let Se=3553;(W.isDataArrayTexture||W.isCompressedArrayTexture)&&(Se=35866),W.isData3DTexture&&(Se=32879);let te=Z(K,W),ce=W.source;r.bindTexture(Se,K.__webglTexture,33984+se);let we=n.get(ce);if(ce.version!==we.__version||te===!0){r.activeTexture(33984+se),e.pixelStorei(37440,W.flipY),e.pixelStorei(37441,W.premultiplyAlpha),e.pixelStorei(3317,W.unpackAlignment),e.pixelStorei(37443,0);let fe=w(W)&&b(W.image)===!1,he=y(W.image,fe,!1,u);he=ze(W,he);let Ne=b(he)||c,Xe=o.convert(W.format,W.encoding),Ce=o.convert(W.type),Ue=E(W.internalFormat,Xe,Ce,W.encoding,W.isVideoTexture);G(Se,W,Ne);let Ge,st=W.mipmaps,He=c&&W.isVideoTexture!==!0,tt=we.__version===void 0||te===!0,ne=A(W,he,Ne);if(W.isDepthTexture)Ue=6402,c?W.type===to?Ue=36012:W.type===gc?Ue=33190:W.type===wh?Ue=35056:Ue=33189:W.type===to&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),W.format===_h&&Ue===6402&&W.type!==lq&&W.type!==gc&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),W.type=gc,Ce=o.convert(W.type)),W.format===Wh&&Ue===6402&&(Ue=34041,W.type!==wh&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),W.type=wh,Ce=o.convert(W.type))),tt&&(He?r.texStorage2D(3553,1,Ue,he.width,he.height):r.texImage2D(3553,0,Ue,he.width,he.height,0,Xe,Ce,null));else if(W.isDataTexture)if(st.length>0&&Ne){He&&tt&&r.texStorage2D(3553,ne,Ue,st[0].width,st[0].height);for(let ye=0,Pe=st.length;ye<Pe;ye++)Ge=st[ye],He?r.texSubImage2D(3553,ye,0,0,Ge.width,Ge.height,Xe,Ce,Ge.data):r.texImage2D(3553,ye,Ue,Ge.width,Ge.height,0,Xe,Ce,Ge.data);W.generateMipmaps=!1}else He?(tt&&r.texStorage2D(3553,ne,Ue,he.width,he.height),r.texSubImage2D(3553,0,0,0,he.width,he.height,Xe,Ce,he.data)):r.texImage2D(3553,0,Ue,he.width,he.height,0,Xe,Ce,he.data);else if(W.isCompressedTexture)if(W.isCompressedArrayTexture){He&&tt&&r.texStorage3D(35866,ne,Ue,st[0].width,st[0].height,he.depth);for(let ye=0,Pe=st.length;ye<Pe;ye++)Ge=st[ye],W.format!==Jo?Xe!==null?He?r.compressedTexSubImage3D(35866,ye,0,0,0,Ge.width,Ge.height,he.depth,Xe,Ge.data,0,0):r.compressedTexImage3D(35866,ye,Ue,Ge.width,Ge.height,he.depth,0,Ge.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):He?r.texSubImage3D(35866,ye,0,0,0,Ge.width,Ge.height,he.depth,Xe,Ce,Ge.data):r.texImage3D(35866,ye,Ue,Ge.width,Ge.height,he.depth,0,Xe,Ce,Ge.data)}else{He&&tt&&r.texStorage2D(3553,ne,Ue,st[0].width,st[0].height);for(let ye=0,Pe=st.length;ye<Pe;ye++)Ge=st[ye],W.format!==Jo?Xe!==null?He?r.compressedTexSubImage2D(3553,ye,0,0,Ge.width,Ge.height,Xe,Ge.data):r.compressedTexImage2D(3553,ye,Ue,Ge.width,Ge.height,0,Ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):He?r.texSubImage2D(3553,ye,0,0,Ge.width,Ge.height,Xe,Ce,Ge.data):r.texImage2D(3553,ye,Ue,Ge.width,Ge.height,0,Xe,Ce,Ge.data)}else if(W.isDataArrayTexture)He?(tt&&r.texStorage3D(35866,ne,Ue,he.width,he.height,he.depth),r.texSubImage3D(35866,0,0,0,0,he.width,he.height,he.depth,Xe,Ce,he.data)):r.texImage3D(35866,0,Ue,he.width,he.height,he.depth,0,Xe,Ce,he.data);else if(W.isData3DTexture)He?(tt&&r.texStorage3D(32879,ne,Ue,he.width,he.height,he.depth),r.texSubImage3D(32879,0,0,0,0,he.width,he.height,he.depth,Xe,Ce,he.data)):r.texImage3D(32879,0,Ue,he.width,he.height,he.depth,0,Xe,Ce,he.data);else if(W.isFramebufferTexture){if(tt)if(He)r.texStorage2D(3553,ne,Ue,he.width,he.height);else{let ye=he.width,Pe=he.height;for(let Qe=0;Qe<ne;Qe++)r.texImage2D(3553,Qe,Ue,ye,Pe,0,Xe,Ce,null),ye>>=1,Pe>>=1}}else if(st.length>0&&Ne){He&&tt&&r.texStorage2D(3553,ne,Ue,st[0].width,st[0].height);for(let ye=0,Pe=st.length;ye<Pe;ye++)Ge=st[ye],He?r.texSubImage2D(3553,ye,0,0,Xe,Ce,Ge):r.texImage2D(3553,ye,Ue,Xe,Ce,Ge);W.generateMipmaps=!1}else He?(tt&&r.texStorage2D(3553,ne,Ue,he.width,he.height),r.texSubImage2D(3553,0,0,0,Xe,Ce,he)):r.texImage2D(3553,0,Ue,Xe,Ce,he);_(W,Ne)&&S(Se),we.__version=ce.version,W.onUpdate&&W.onUpdate(W)}K.__version=W.version}function ee(K,W,se){if(W.image.length!==6)return;let Se=Z(K,W),te=W.source;r.bindTexture(34067,K.__webglTexture,33984+se);let ce=n.get(te);if(te.version!==ce.__version||Se===!0){r.activeTexture(33984+se),e.pixelStorei(37440,W.flipY),e.pixelStorei(37441,W.premultiplyAlpha),e.pixelStorei(3317,W.unpackAlignment),e.pixelStorei(37443,0);let we=W.isCompressedTexture||W.image[0].isCompressedTexture,fe=W.image[0]&&W.image[0].isDataTexture,he=[];for(let ye=0;ye<6;ye++)!we&&!fe?he[ye]=y(W.image[ye],!1,!0,s):he[ye]=fe?W.image[ye].image:W.image[ye],he[ye]=ze(W,he[ye]);let Ne=he[0],Xe=b(Ne)||c,Ce=o.convert(W.format,W.encoding),Ue=o.convert(W.type),Ge=E(W.internalFormat,Ce,Ue,W.encoding),st=c&&W.isVideoTexture!==!0,He=ce.__version===void 0||Se===!0,tt=A(W,Ne,Xe);G(34067,W,Xe);let ne;if(we){st&&He&&r.texStorage2D(34067,tt,Ge,Ne.width,Ne.height);for(let ye=0;ye<6;ye++){ne=he[ye].mipmaps;for(let Pe=0;Pe<ne.length;Pe++){let Qe=ne[Pe];W.format!==Jo?Ce!==null?st?r.compressedTexSubImage2D(34069+ye,Pe,0,0,Qe.width,Qe.height,Ce,Qe.data):r.compressedTexImage2D(34069+ye,Pe,Ge,Qe.width,Qe.height,0,Qe.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):st?r.texSubImage2D(34069+ye,Pe,0,0,Qe.width,Qe.height,Ce,Ue,Qe.data):r.texImage2D(34069+ye,Pe,Ge,Qe.width,Qe.height,0,Ce,Ue,Qe.data)}}}else{ne=W.mipmaps,st&&He&&(ne.length>0&&tt++,r.texStorage2D(34067,tt,Ge,he[0].width,he[0].height));for(let ye=0;ye<6;ye++)if(fe){st?r.texSubImage2D(34069+ye,0,0,0,he[ye].width,he[ye].height,Ce,Ue,he[ye].data):r.texImage2D(34069+ye,0,Ge,he[ye].width,he[ye].height,0,Ce,Ue,he[ye].data);for(let Pe=0;Pe<ne.length;Pe++){let Qe=ne[Pe].image[ye].image;st?r.texSubImage2D(34069+ye,Pe+1,0,0,Qe.width,Qe.height,Ce,Ue,Qe.data):r.texImage2D(34069+ye,Pe+1,Ge,Qe.width,Qe.height,0,Ce,Ue,Qe.data)}}else{st?r.texSubImage2D(34069+ye,0,0,0,Ce,Ue,he[ye]):r.texImage2D(34069+ye,0,Ge,Ce,Ue,he[ye]);for(let Pe=0;Pe<ne.length;Pe++){let Qe=ne[Pe];st?r.texSubImage2D(34069+ye,Pe+1,0,0,Ce,Ue,Qe.image[ye]):r.texImage2D(34069+ye,Pe+1,Ge,Ce,Ue,Qe.image[ye])}}}_(W,Xe)&&S(34067),ce.__version=te.version,W.onUpdate&&W.onUpdate(W)}K.__version=W.version}function q(K,W,se,Se,te){let ce=o.convert(se.format,se.encoding),we=o.convert(se.type),fe=E(se.internalFormat,ce,we,se.encoding);n.get(W).__hasExternalTextures||(te===32879||te===35866?r.texImage3D(te,0,fe,W.width,W.height,W.depth,0,ce,we,null):r.texImage2D(te,0,fe,W.width,W.height,0,ce,we,null)),r.bindFramebuffer(36160,K),Te(W)?h.framebufferTexture2DMultisampleEXT(36160,Se,te,n.get(se).__webglTexture,0,Ee(W)):(te===3553||te>=34069&&te<=34074)&&e.framebufferTexture2D(36160,Se,te,n.get(se).__webglTexture,0),r.bindFramebuffer(36160,null)}function Y(K,W,se){if(e.bindRenderbuffer(36161,K),W.depthBuffer&&!W.stencilBuffer){let Se=33189;if(se||Te(W)){let te=W.depthTexture;te&&te.isDepthTexture&&(te.type===to?Se=36012:te.type===gc&&(Se=33190));let ce=Ee(W);Te(W)?h.renderbufferStorageMultisampleEXT(36161,ce,Se,W.width,W.height):e.renderbufferStorageMultisample(36161,ce,Se,W.width,W.height)}else e.renderbufferStorage(36161,Se,W.width,W.height);e.framebufferRenderbuffer(36160,36096,36161,K)}else if(W.depthBuffer&&W.stencilBuffer){let Se=Ee(W);se&&Te(W)===!1?e.renderbufferStorageMultisample(36161,Se,35056,W.width,W.height):Te(W)?h.renderbufferStorageMultisampleEXT(36161,Se,35056,W.width,W.height):e.renderbufferStorage(36161,34041,W.width,W.height),e.framebufferRenderbuffer(36160,33306,36161,K)}else{let Se=W.isWebGLMultipleRenderTargets===!0?W.texture:[W.texture];for(let te=0;te<Se.length;te++){let ce=Se[te],we=o.convert(ce.format,ce.encoding),fe=o.convert(ce.type),he=E(ce.internalFormat,we,fe,ce.encoding),Ne=Ee(W);se&&Te(W)===!1?e.renderbufferStorageMultisample(36161,Ne,he,W.width,W.height):Te(W)?h.renderbufferStorageMultisampleEXT(36161,Ne,he,W.width,W.height):e.renderbufferStorage(36161,he,W.width,W.height)}}e.bindRenderbuffer(36161,null)}function Q(K,W){if(W&&W.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(r.bindFramebuffer(36160,K),!(W.depthTexture&&W.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!n.get(W.depthTexture).__webglTexture||W.depthTexture.image.width!==W.width||W.depthTexture.image.height!==W.height)&&(W.depthTexture.image.width=W.width,W.depthTexture.image.height=W.height,W.depthTexture.needsUpdate=!0),R(W.depthTexture,0);let se=n.get(W.depthTexture).__webglTexture,Se=Ee(W);if(W.depthTexture.format===_h)Te(W)?h.framebufferTexture2DMultisampleEXT(36160,36096,3553,se,0,Se):e.framebufferTexture2D(36160,36096,3553,se,0);else if(W.depthTexture.format===Wh)Te(W)?h.framebufferTexture2DMultisampleEXT(36160,33306,3553,se,0,Se):e.framebufferTexture2D(36160,33306,3553,se,0);else throw new Error("Unknown depthTexture format")}function ie(K){let W=n.get(K),se=K.isWebGLCubeRenderTarget===!0;if(K.depthTexture&&!W.__autoAllocateDepthBuffer){if(se)throw new Error("target.depthTexture not supported in Cube render targets");Q(W.__webglFramebuffer,K)}else if(se){W.__webglDepthbuffer=[];for(let Se=0;Se<6;Se++)r.bindFramebuffer(36160,W.__webglFramebuffer[Se]),W.__webglDepthbuffer[Se]=e.createRenderbuffer(),Y(W.__webglDepthbuffer[Se],K,!1)}else r.bindFramebuffer(36160,W.__webglFramebuffer),W.__webglDepthbuffer=e.createRenderbuffer(),Y(W.__webglDepthbuffer,K,!1);r.bindFramebuffer(36160,null)}function le(K,W,se){let Se=n.get(K);W!==void 0&&q(Se.__webglFramebuffer,K,K.texture,36064,3553),se!==void 0&&ie(K)}function de(K){let W=K.texture,se=n.get(K),Se=n.get(W);K.addEventListener("dispose",T),K.isWebGLMultipleRenderTargets!==!0&&(Se.__webglTexture===void 0&&(Se.__webglTexture=e.createTexture()),Se.__version=W.version,l.memory.textures++);let te=K.isWebGLCubeRenderTarget===!0,ce=K.isWebGLMultipleRenderTargets===!0,we=b(K)||c;if(te){se.__webglFramebuffer=[];for(let fe=0;fe<6;fe++)se.__webglFramebuffer[fe]=e.createFramebuffer()}else{if(se.__webglFramebuffer=e.createFramebuffer(),ce)if(i.drawBuffers){let fe=K.texture;for(let he=0,Ne=fe.length;he<Ne;he++){let Xe=n.get(fe[he]);Xe.__webglTexture===void 0&&(Xe.__webglTexture=e.createTexture(),l.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(c&&K.samples>0&&Te(K)===!1){let fe=ce?W:[W];se.__webglMultisampledFramebuffer=e.createFramebuffer(),se.__webglColorRenderbuffer=[],r.bindFramebuffer(36160,se.__webglMultisampledFramebuffer);for(let he=0;he<fe.length;he++){let Ne=fe[he];se.__webglColorRenderbuffer[he]=e.createRenderbuffer(),e.bindRenderbuffer(36161,se.__webglColorRenderbuffer[he]);let Xe=o.convert(Ne.format,Ne.encoding),Ce=o.convert(Ne.type),Ue=E(Ne.internalFormat,Xe,Ce,Ne.encoding,K.isXRRenderTarget===!0),Ge=Ee(K);e.renderbufferStorageMultisample(36161,Ge,Ue,K.width,K.height),e.framebufferRenderbuffer(36160,36064+he,36161,se.__webglColorRenderbuffer[he])}e.bindRenderbuffer(36161,null),K.depthBuffer&&(se.__webglDepthRenderbuffer=e.createRenderbuffer(),Y(se.__webglDepthRenderbuffer,K,!0)),r.bindFramebuffer(36160,null)}}if(te){r.bindTexture(34067,Se.__webglTexture),G(34067,W,we);for(let fe=0;fe<6;fe++)q(se.__webglFramebuffer[fe],K,W,36064,34069+fe);_(W,we)&&S(34067),r.unbindTexture()}else if(ce){let fe=K.texture;for(let he=0,Ne=fe.length;he<Ne;he++){let Xe=fe[he],Ce=n.get(Xe);r.bindTexture(3553,Ce.__webglTexture),G(3553,Xe,we),q(se.__webglFramebuffer,K,Xe,36064+he,3553),_(Xe,we)&&S(3553)}r.unbindTexture()}else{let fe=3553;(K.isWebGL3DRenderTarget||K.isWebGLArrayRenderTarget)&&(c?fe=K.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),r.bindTexture(fe,Se.__webglTexture),G(fe,W,we),q(se.__webglFramebuffer,K,W,36064,fe),_(W,we)&&S(fe),r.unbindTexture()}K.depthBuffer&&ie(K)}function De(K){let W=b(K)||c,se=K.isWebGLMultipleRenderTargets===!0?K.texture:[K.texture];for(let Se=0,te=se.length;Se<te;Se++){let ce=se[Se];if(_(ce,W)){let we=K.isWebGLCubeRenderTarget?34067:3553,fe=n.get(ce).__webglTexture;r.bindTexture(we,fe),S(we),r.unbindTexture()}}}function Me(K){if(c&&K.samples>0&&Te(K)===!1){let W=K.isWebGLMultipleRenderTargets?K.texture:[K.texture],se=K.width,Se=K.height,te=16384,ce=[],we=K.stencilBuffer?33306:36096,fe=n.get(K),he=K.isWebGLMultipleRenderTargets===!0;if(he)for(let Ne=0;Ne<W.length;Ne++)r.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+Ne,36161,null),r.bindFramebuffer(36160,fe.__webglFramebuffer),e.framebufferTexture2D(36009,36064+Ne,3553,null,0);r.bindFramebuffer(36008,fe.__webglMultisampledFramebuffer),r.bindFramebuffer(36009,fe.__webglFramebuffer);for(let Ne=0;Ne<W.length;Ne++){ce.push(36064+Ne),K.depthBuffer&&ce.push(we);let Xe=fe.__ignoreDepthValues!==void 0?fe.__ignoreDepthValues:!1;if(Xe===!1&&(K.depthBuffer&&(te|=256),K.stencilBuffer&&(te|=1024)),he&&e.framebufferRenderbuffer(36008,36064,36161,fe.__webglColorRenderbuffer[Ne]),Xe===!0&&(e.invalidateFramebuffer(36008,[we]),e.invalidateFramebuffer(36009,[we])),he){let Ce=n.get(W[Ne]).__webglTexture;e.framebufferTexture2D(36009,36064,3553,Ce,0)}e.blitFramebuffer(0,0,se,Se,0,0,se,Se,te,9728),p&&e.invalidateFramebuffer(36008,ce)}if(r.bindFramebuffer(36008,null),r.bindFramebuffer(36009,null),he)for(let Ne=0;Ne<W.length;Ne++){r.bindFramebuffer(36160,fe.__webglMultisampledFramebuffer),e.framebufferRenderbuffer(36160,36064+Ne,36161,fe.__webglColorRenderbuffer[Ne]);let Xe=n.get(W[Ne]).__webglTexture;r.bindFramebuffer(36160,fe.__webglFramebuffer),e.framebufferTexture2D(36009,36064+Ne,3553,Xe,0)}r.bindFramebuffer(36009,fe.__webglMultisampledFramebuffer)}}function Ee(K){return Math.min(d,K.samples)}function Te(K){let W=n.get(K);return c&&K.samples>0&&t.has("WEBGL_multisampled_render_to_texture")===!0&&W.__useRenderToTexture!==!1}function $e(K){let W=l.render.frame;m.get(K)!==W&&(m.set(K,W),K.update())}function ze(K,W){let se=K.encoding,Se=K.format,te=K.type;return K.isCompressedTexture===!0||K.isVideoTexture===!0||K.format===MT||se!==El&&(se===It?c===!1?t.has("EXT_sRGB")===!0&&Se===Jo?(K.format=MT,K.minFilter=Wt,K.generateMipmaps=!1):W=gq.sRGBToLinear(W):(Se!==Jo||te!==Li)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",se)),W}this.allocateTextureUnit=j,this.resetTextureUnits=O,this.setTexture2D=R,this.setTexture2DArray=F,this.setTexture3D=U,this.setTextureCube=B,this.rebindTextures=le,this.setupRenderTarget=de,this.updateRenderTargetMipmap=De,this.updateMultisampleRenderTarget=Me,this.setupDepthRenderbuffer=ie,this.setupFrameBufferTexture=q,this.useMultisampledRTT=Te}function bwe(e,t,r){let n=r.isWebGL2;function i(o,l=null){let c;if(o===Li)return 5121;if(o===tve)return 32819;if(o===rve)return 32820;if(o===Z0e)return 5120;if(o===J0e)return 5122;if(o===lq)return 5123;if(o===eve)return 5124;if(o===gc)return 5125;if(o===to)return 5126;if(o===Hh)return n?5131:(c=t.get("OES_texture_half_float"),c!==null?c.HALF_FLOAT_OES:null);if(o===nve)return 6406;if(o===Jo)return 6408;if(o===ive)return 6409;if(o===ove)return 6410;if(o===_h)return 6402;if(o===Wh)return 34041;if(o===MT)return c=t.get("EXT_sRGB"),c!==null?c.SRGB_ALPHA_EXT:null;if(o===ave)return 6403;if(o===sve)return 36244;if(o===Xw)return 33319;if(o===lve)return 33320;if(o===cq)return 36249;if(o===SE||o===EE||o===CE||o===AE)if(l===It)if(c=t.get("WEBGL_compressed_texture_s3tc_srgb"),c!==null){if(o===SE)return c.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(o===EE)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(o===CE)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(o===AE)return c.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(c=t.get("WEBGL_compressed_texture_s3tc"),c!==null){if(o===SE)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(o===EE)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(o===CE)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(o===AE)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(o===mz||o===gz||o===vz||o===yz)if(c=t.get("WEBGL_compressed_texture_pvrtc"),c!==null){if(o===mz)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(o===gz)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(o===vz)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(o===yz)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(o===cve)return c=t.get("WEBGL_compressed_texture_etc1"),c!==null?c.COMPRESSED_RGB_ETC1_WEBGL:null;if(o===bz||o===xz)if(c=t.get("WEBGL_compressed_texture_etc"),c!==null){if(o===bz)return l===It?c.COMPRESSED_SRGB8_ETC2:c.COMPRESSED_RGB8_ETC2;if(o===xz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:c.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(o===wz||o===_z||o===Sz||o===Ez||o===Cz||o===Az||o===Mz||o===Tz||o===Pz||o===kz||o===Dz||o===jz||o===Iz||o===Oz)if(c=t.get("WEBGL_compressed_texture_astc"),c!==null){if(o===wz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:c.COMPRESSED_RGBA_ASTC_4x4_KHR;if(o===_z)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:c.COMPRESSED_RGBA_ASTC_5x4_KHR;if(o===Sz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:c.COMPRESSED_RGBA_ASTC_5x5_KHR;if(o===Ez)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:c.COMPRESSED_RGBA_ASTC_6x5_KHR;if(o===Cz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:c.COMPRESSED_RGBA_ASTC_6x6_KHR;if(o===Az)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:c.COMPRESSED_RGBA_ASTC_8x5_KHR;if(o===Mz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:c.COMPRESSED_RGBA_ASTC_8x6_KHR;if(o===Tz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:c.COMPRESSED_RGBA_ASTC_8x8_KHR;if(o===Pz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:c.COMPRESSED_RGBA_ASTC_10x5_KHR;if(o===kz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:c.COMPRESSED_RGBA_ASTC_10x6_KHR;if(o===Dz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:c.COMPRESSED_RGBA_ASTC_10x8_KHR;if(o===jz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:c.COMPRESSED_RGBA_ASTC_10x10_KHR;if(o===Iz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:c.COMPRESSED_RGBA_ASTC_12x10_KHR;if(o===Oz)return l===It?c.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:c.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(o===ME)if(c=t.get("EXT_texture_compression_bptc"),c!==null){if(o===ME)return l===It?c.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:c.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(o===uve||o===Rz||o===zz||o===Lz)if(c=t.get("EXT_texture_compression_rgtc"),c!==null){if(o===ME)return c.COMPRESSED_RED_RGTC1_EXT;if(o===Rz)return c.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(o===zz)return c.COMPRESSED_RED_GREEN_RGTC2_EXT;if(o===Lz)return c.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return o===wh?n?34042:(c=t.get("WEBGL_depth_texture"),c!==null?c.UNSIGNED_INT_24_8_WEBGL:null):e[o]!==void 0?e[o]:null}return{convert:i}}var xwe=class extends Pi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}},Lf=class extends wr{constructor(){super(),this.isGroup=!0,this.type="Group"}},wwe={type:"move"},JE=class{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Lf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Lf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new L,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new L),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Lf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new L,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new L),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){let t=this._hand;if(t)for(let r of e.hand.values())this._getHandJoint(t,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,r){let n=null,i=null,o=null,l=this._targetRay,c=this._grip,a=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(a&&e.hand){o=!0;for(let m of e.hand.values()){let f=t.getJointPose(m,r),g=this._getHandJoint(a,m);f!==null&&(g.matrix.fromArray(f.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.jointRadius=f.radius),g.visible=f!==null}let s=a.joints["index-finger-tip"],u=a.joints["thumb-tip"],d=s.position.distanceTo(u.position),h=.02,p=.005;a.inputState.pinching&&d>h+p?(a.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!a.inputState.pinching&&d<=h-p&&(a.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else c!==null&&e.gripSpace&&(i=t.getPose(e.gripSpace,r),i!==null&&(c.matrix.fromArray(i.transform.matrix),c.matrix.decompose(c.position,c.rotation,c.scale),i.linearVelocity?(c.hasLinearVelocity=!0,c.linearVelocity.copy(i.linearVelocity)):c.hasLinearVelocity=!1,i.angularVelocity?(c.hasAngularVelocity=!0,c.angularVelocity.copy(i.angularVelocity)):c.hasAngularVelocity=!1));l!==null&&(n=t.getPose(e.targetRaySpace,r),n===null&&i!==null&&(n=i),n!==null&&(l.matrix.fromArray(n.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),n.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(n.linearVelocity)):l.hasLinearVelocity=!1,n.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(n.angularVelocity)):l.hasAngularVelocity=!1,this.dispatchEvent(wwe)))}return l!==null&&(l.visible=n!==null),c!==null&&(c.visible=i!==null),a!==null&&(a.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){let r=new Lf;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[t.jointName]=r,e.add(r)}return e.joints[t.jointName]}},Hm=class extends Xn{constructor(e,t,r,n,i,o,l,c,a,s){if(s=s!==void 0?s:_h,s!==_h&&s!==Wh)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&s===_h&&(r=gc),r===void 0&&s===Wh&&(r=wh),super(null,n,i,o,l,c,s,r,a),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=l!==void 0?l:kr,this.minFilter=c!==void 0?c:kr,this.flipY=!1,this.generateMipmaps=!1}},_we=class extends wi{constructor(e,t){super();let r=this,n=null,i=1,o=null,l="local-floor",c=1,a=null,s=null,u=null,d=null,h=null,p=null,m=t.getContextAttributes(),f=null,g=null,v=[],x=[],y=new Set,b=new Map,w=new Pi;w.layers.enable(1),w.viewport=new Ot;let _=new Pi;_.layers.enable(2),_.viewport=new Ot;let S=[w,_],E=new xwe;E.layers.enable(1),E.layers.enable(2);let A=null,C=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(F){let U=v[F];return U===void 0&&(U=new JE,v[F]=U),U.getTargetRaySpace()},this.getControllerGrip=function(F){let U=v[F];return U===void 0&&(U=new JE,v[F]=U),U.getGripSpace()},this.getHand=function(F){let U=v[F];return U===void 0&&(U=new JE,v[F]=U),U.getHandSpace()};function M(F){let U=x.indexOf(F.inputSource);if(U===-1)return;let B=v[U];B!==void 0&&B.dispatchEvent({type:F.type,data:F.inputSource})}function T(){n.removeEventListener("select",M),n.removeEventListener("selectstart",M),n.removeEventListener("selectend",M),n.removeEventListener("squeeze",M),n.removeEventListener("squeezestart",M),n.removeEventListener("squeezeend",M),n.removeEventListener("end",T),n.removeEventListener("inputsourceschange",k);for(let F=0;F<v.length;F++){let U=x[F];U!==null&&(x[F]=null,v[F].disconnect(U))}A=null,C=null,e.setRenderTarget(f),h=null,d=null,u=null,n=null,g=null,R.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(F){i=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(F){l=F,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return a||o},this.setReferenceSpace=function(F){a=F},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return u},this.getFrame=function(){return p},this.getSession=function(){return n},this.setSession=async function(F){if(n=F,n!==null){if(f=e.getRenderTarget(),n.addEventListener("select",M),n.addEventListener("selectstart",M),n.addEventListener("selectend",M),n.addEventListener("squeeze",M),n.addEventListener("squeezestart",M),n.addEventListener("squeezeend",M),n.addEventListener("end",T),n.addEventListener("inputsourceschange",k),m.xrCompatible!==!0&&await t.makeXRCompatible(),n.renderState.layers===void 0||e.capabilities.isWebGL2===!1){let U={antialias:n.renderState.layers===void 0?m.antialias:!0,alpha:m.alpha,depth:m.depth,stencil:m.stencil,framebufferScaleFactor:i};h=new XRWebGLLayer(n,t,U),n.updateRenderState({baseLayer:h}),g=new br(h.framebufferWidth,h.framebufferHeight,{format:Jo,type:Li,encoding:e.outputEncoding,stencilBuffer:m.stencil})}else{let U=null,B=null,H=null;m.depth&&(H=m.stencil?35056:33190,U=m.stencil?Wh:_h,B=m.stencil?wh:gc);let X={colorFormat:32856,depthFormat:H,scaleFactor:i};u=new XRWebGLBinding(n,t),d=u.createProjectionLayer(X),n.updateRenderState({layers:[d]}),g=new br(d.textureWidth,d.textureHeight,{format:Jo,type:Li,depthTexture:new Hm(d.textureWidth,d.textureHeight,B,void 0,void 0,void 0,void 0,void 0,void 0,U),stencilBuffer:m.stencil,encoding:e.outputEncoding,samples:m.antialias?4:0});let G=e.properties.get(g);G.__ignoreDepthValues=d.ignoreDepthValues}g.isXRRenderTarget=!0,this.setFoveation(c),a=null,o=await n.requestReferenceSpace(l),R.setContext(n),R.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}};function k(F){for(let U=0;U<F.removed.length;U++){let B=F.removed[U],H=x.indexOf(B);H>=0&&(x[H]=null,v[H].disconnect(B))}for(let U=0;U<F.added.length;U++){let B=F.added[U],H=x.indexOf(B);if(H===-1){for(let G=0;G<v.length;G++)if(G>=x.length){x.push(B),H=G;break}else if(x[G]===null){x[G]=B,H=G;break}if(H===-1)break}let X=v[H];X&&X.connect(B)}}let P=new L,D=new L;function I(F,U,B){P.setFromMatrixPosition(U.matrixWorld),D.setFromMatrixPosition(B.matrixWorld);let H=P.distanceTo(D),X=U.projectionMatrix.elements,G=B.projectionMatrix.elements,Z=X[14]/(X[10]-1),J=X[14]/(X[10]+1),ee=(X[9]+1)/X[5],q=(X[9]-1)/X[5],Y=(X[8]-1)/X[0],Q=(G[8]+1)/G[0],ie=Z*Y,le=Z*Q,de=H/(-Y+Q),De=de*-Y;U.matrixWorld.decompose(F.position,F.quaternion,F.scale),F.translateX(De),F.translateZ(de),F.matrixWorld.compose(F.position,F.quaternion,F.scale),F.matrixWorldInverse.copy(F.matrixWorld).invert();let Me=Z+de,Ee=J+de,Te=ie-De,$e=le+(H-De),ze=ee*J/Ee*Me,K=q*J/Ee*Me;F.projectionMatrix.makePerspective(Te,$e,ze,K,Me,Ee)}function O(F,U){U===null?F.matrixWorld.copy(F.matrix):F.matrixWorld.multiplyMatrices(U.matrixWorld,F.matrix),F.matrixWorldInverse.copy(F.matrixWorld).invert()}this.updateCamera=function(F){if(n===null)return;E.near=_.near=w.near=F.near,E.far=_.far=w.far=F.far,(A!==E.near||C!==E.far)&&(n.updateRenderState({depthNear:E.near,depthFar:E.far}),A=E.near,C=E.far);let U=F.parent,B=E.cameras;O(E,U);for(let X=0;X<B.length;X++)O(B[X],U);E.matrixWorld.decompose(E.position,E.quaternion,E.scale),F.matrix.copy(E.matrix),F.matrix.decompose(F.position,F.quaternion,F.scale);let H=F.children;for(let X=0,G=H.length;X<G;X++)H[X].updateMatrixWorld(!0);B.length===2?I(E,w,_):E.projectionMatrix.copy(w.projectionMatrix)},this.getCamera=function(){return E},this.getFoveation=function(){if(!(d===null&&h===null))return c},this.setFoveation=function(F){c=F,d!==null&&(d.fixedFoveation=F),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=F)},this.getPlanes=function(){return y};let j=null;function N(F,U){if(s=U.getViewerPose(a||o),p=U,s!==null){let B=s.views;h!==null&&(e.setRenderTargetFramebuffer(g,h.framebuffer),e.setRenderTarget(g));let H=!1;B.length!==E.cameras.length&&(E.cameras.length=0,H=!0);for(let X=0;X<B.length;X++){let G=B[X],Z=null;if(h!==null)Z=h.getViewport(G);else{let ee=u.getViewSubImage(d,G);Z=ee.viewport,X===0&&(e.setRenderTargetTextures(g,ee.colorTexture,d.ignoreDepthValues?void 0:ee.depthStencilTexture),e.setRenderTarget(g))}let J=S[X];J===void 0&&(J=new Pi,J.layers.enable(X),J.viewport=new Ot,S[X]=J),J.matrix.fromArray(G.transform.matrix),J.projectionMatrix.fromArray(G.projectionMatrix),J.viewport.set(Z.x,Z.y,Z.width,Z.height),X===0&&E.matrix.copy(J.matrix),H===!0&&E.cameras.push(J)}}for(let B=0;B<v.length;B++){let H=x[B],X=v[B];H!==null&&X!==void 0&&X.update(H,U,a||o)}if(j&&j(F,U),U.detectedPlanes){r.dispatchEvent({type:"planesdetected",data:U.detectedPlanes});let B=null;for(let H of y)U.detectedPlanes.has(H)||(B===null&&(B=[]),B.push(H));if(B!==null)for(let H of B)y.delete(H),b.delete(H),r.dispatchEvent({type:"planeremoved",data:H});for(let H of U.detectedPlanes)if(!y.has(H))y.add(H),b.set(H,U.lastChangedTime),r.dispatchEvent({type:"planeadded",data:H});else{let X=b.get(H);H.lastChangedTime>X&&(b.set(H,H.lastChangedTime),r.dispatchEvent({type:"planechanged",data:H}))}}p=null}let R=new wq;R.setAnimationLoop(N),this.setAnimationLoop=function(F){j=F},this.dispose=function(){}}};function Swe(e,t){function r(f,g){g.color.getRGB(f.fogColor.value,xq(e)),g.isFog?(f.fogNear.value=g.near,f.fogFar.value=g.far):g.isFogExp2&&(f.fogDensity.value=g.density)}function n(f,g,v,x,y){g.isMeshBasicMaterial||g.isMeshLambertMaterial?i(f,g):g.isMeshToonMaterial?(i(f,g),u(f,g)):g.isMeshPhongMaterial?(i(f,g),s(f,g)):g.isMeshStandardMaterial?(i(f,g),d(f,g),g.isMeshPhysicalMaterial&&h(f,g,y)):g.isMeshMatcapMaterial?(i(f,g),p(f,g)):g.isMeshDepthMaterial?i(f,g):g.isMeshDistanceMaterial?(i(f,g),m(f,g)):g.isMeshNormalMaterial?i(f,g):g.isLineBasicMaterial?(o(f,g),g.isLineDashedMaterial&&l(f,g)):g.isPointsMaterial?c(f,g,v,x):g.isSpriteMaterial?a(f,g):g.isShadowMaterial?(f.color.value.copy(g.color),f.opacity.value=g.opacity):g.isShaderMaterial&&(g.uniformsNeedUpdate=!1)}function i(f,g){f.opacity.value=g.opacity,g.color&&f.diffuse.value.copy(g.color),g.emissive&&f.emissive.value.copy(g.emissive).multiplyScalar(g.emissiveIntensity),g.map&&(f.map.value=g.map),g.alphaMap&&(f.alphaMap.value=g.alphaMap),g.bumpMap&&(f.bumpMap.value=g.bumpMap,f.bumpScale.value=g.bumpScale,g.side===ai&&(f.bumpScale.value*=-1)),g.displacementMap&&(f.displacementMap.value=g.displacementMap,f.displacementScale.value=g.displacementScale,f.displacementBias.value=g.displacementBias),g.emissiveMap&&(f.emissiveMap.value=g.emissiveMap),g.normalMap&&(f.normalMap.value=g.normalMap,f.normalScale.value.copy(g.normalScale),g.side===ai&&f.normalScale.value.negate()),g.specularMap&&(f.specularMap.value=g.specularMap),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest);let v=t.get(g).envMap;if(v&&(f.envMap.value=v,f.flipEnvMap.value=v.isCubeTexture&&v.isRenderTargetTexture===!1?-1:1,f.reflectivity.value=g.reflectivity,f.ior.value=g.ior,f.refractionRatio.value=g.refractionRatio),g.lightMap){f.lightMap.value=g.lightMap;let b=e.physicallyCorrectLights!==!0?Math.PI:1;f.lightMapIntensity.value=g.lightMapIntensity*b}g.aoMap&&(f.aoMap.value=g.aoMap,f.aoMapIntensity.value=g.aoMapIntensity);let x;g.map?x=g.map:g.specularMap?x=g.specularMap:g.displacementMap?x=g.displacementMap:g.normalMap?x=g.normalMap:g.bumpMap?x=g.bumpMap:g.roughnessMap?x=g.roughnessMap:g.metalnessMap?x=g.metalnessMap:g.alphaMap?x=g.alphaMap:g.emissiveMap?x=g.emissiveMap:g.clearcoatMap?x=g.clearcoatMap:g.clearcoatNormalMap?x=g.clearcoatNormalMap:g.clearcoatRoughnessMap?x=g.clearcoatRoughnessMap:g.iridescenceMap?x=g.iridescenceMap:g.iridescenceThicknessMap?x=g.iridescenceThicknessMap:g.specularIntensityMap?x=g.specularIntensityMap:g.specularColorMap?x=g.specularColorMap:g.transmissionMap?x=g.transmissionMap:g.thicknessMap?x=g.thicknessMap:g.sheenColorMap?x=g.sheenColorMap:g.sheenRoughnessMap&&(x=g.sheenRoughnessMap),x!==void 0&&(x.isWebGLRenderTarget&&(x=x.texture),x.matrixAutoUpdate===!0&&x.updateMatrix(),f.uvTransform.value.copy(x.matrix));let y;g.aoMap?y=g.aoMap:g.lightMap&&(y=g.lightMap),y!==void 0&&(y.isWebGLRenderTarget&&(y=y.texture),y.matrixAutoUpdate===!0&&y.updateMatrix(),f.uv2Transform.value.copy(y.matrix))}function o(f,g){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity}function l(f,g){f.dashSize.value=g.dashSize,f.totalSize.value=g.dashSize+g.gapSize,f.scale.value=g.scale}function c(f,g,v,x){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity,f.size.value=g.size*v,f.scale.value=x*.5,g.map&&(f.map.value=g.map),g.alphaMap&&(f.alphaMap.value=g.alphaMap),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest);let y;g.map?y=g.map:g.alphaMap&&(y=g.alphaMap),y!==void 0&&(y.matrixAutoUpdate===!0&&y.updateMatrix(),f.uvTransform.value.copy(y.matrix))}function a(f,g){f.diffuse.value.copy(g.color),f.opacity.value=g.opacity,f.rotation.value=g.rotation,g.map&&(f.map.value=g.map),g.alphaMap&&(f.alphaMap.value=g.alphaMap),g.alphaTest>0&&(f.alphaTest.value=g.alphaTest);let v;g.map?v=g.map:g.alphaMap&&(v=g.alphaMap),v!==void 0&&(v.matrixAutoUpdate===!0&&v.updateMatrix(),f.uvTransform.value.copy(v.matrix))}function s(f,g){f.specular.value.copy(g.specular),f.shininess.value=Math.max(g.shininess,1e-4)}function u(f,g){g.gradientMap&&(f.gradientMap.value=g.gradientMap)}function d(f,g){f.roughness.value=g.roughness,f.metalness.value=g.metalness,g.roughnessMap&&(f.roughnessMap.value=g.roughnessMap),g.metalnessMap&&(f.metalnessMap.value=g.metalnessMap),t.get(g).envMap&&(f.envMapIntensity.value=g.envMapIntensity)}function h(f,g,v){f.ior.value=g.ior,g.sheen>0&&(f.sheenColor.value.copy(g.sheenColor).multiplyScalar(g.sheen),f.sheenRoughness.value=g.sheenRoughness,g.sheenColorMap&&(f.sheenColorMap.value=g.sheenColorMap),g.sheenRoughnessMap&&(f.sheenRoughnessMap.value=g.sheenRoughnessMap)),g.clearcoat>0&&(f.clearcoat.value=g.clearcoat,f.clearcoatRoughness.value=g.clearcoatRoughness,g.clearcoatMap&&(f.clearcoatMap.value=g.clearcoatMap),g.clearcoatRoughnessMap&&(f.clearcoatRoughnessMap.value=g.clearcoatRoughnessMap),g.clearcoatNormalMap&&(f.clearcoatNormalScale.value.copy(g.clearcoatNormalScale),f.clearcoatNormalMap.value=g.clearcoatNormalMap,g.side===ai&&f.clearcoatNormalScale.value.negate())),g.iridescence>0&&(f.iridescence.value=g.iridescence,f.iridescenceIOR.value=g.iridescenceIOR,f.iridescenceThicknessMinimum.value=g.iridescenceThicknessRange[0],f.iridescenceThicknessMaximum.value=g.iridescenceThicknessRange[1],g.iridescenceMap&&(f.iridescenceMap.value=g.iridescenceMap),g.iridescenceThicknessMap&&(f.iridescenceThicknessMap.value=g.iridescenceThicknessMap)),g.transmission>0&&(f.transmission.value=g.transmission,f.transmissionSamplerMap.value=v.texture,f.transmissionSamplerSize.value.set(v.width,v.height),g.transmissionMap&&(f.transmissionMap.value=g.transmissionMap),f.thickness.value=g.thickness,g.thicknessMap&&(f.thicknessMap.value=g.thicknessMap),f.attenuationDistance.value=g.attenuationDistance,f.attenuationColor.value.copy(g.attenuationColor)),f.specularIntensity.value=g.specularIntensity,f.specularColor.value.copy(g.specularColor),g.specularIntensityMap&&(f.specularIntensityMap.value=g.specularIntensityMap),g.specularColorMap&&(f.specularColorMap.value=g.specularColorMap)}function p(f,g){g.matcap&&(f.matcap.value=g.matcap)}function m(f,g){f.referencePosition.value.copy(g.referencePosition),f.nearDistance.value=g.nearDistance,f.farDistance.value=g.farDistance}return{refreshFogUniforms:r,refreshMaterialUniforms:n}}function Ewe(e,t,r,n){let i={},o={},l=[],c=r.isWebGL2?e.getParameter(35375):0;function a(x,y){let b=y.program;n.uniformBlockBinding(x,b)}function s(x,y){let b=i[x.id];b===void 0&&(m(x),b=u(x),i[x.id]=b,x.addEventListener("dispose",g));let w=y.program;n.updateUBOMapping(x,w);let _=t.render.frame;o[x.id]!==_&&(h(x),o[x.id]=_)}function u(x){let y=d();x.__bindingPointIndex=y;let b=e.createBuffer(),w=x.__size,_=x.usage;return e.bindBuffer(35345,b),e.bufferData(35345,w,_),e.bindBuffer(35345,null),e.bindBufferBase(35345,y,b),b}function d(){for(let x=0;x<c;x++)if(l.indexOf(x)===-1)return l.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){let y=i[x.id],b=x.uniforms,w=x.__cache;e.bindBuffer(35345,y);for(let _=0,S=b.length;_<S;_++){let E=b[_];if(p(E,_,w)===!0){let A=E.__offset,C=Array.isArray(E.value)?E.value:[E.value],M=0;for(let T=0;T<C.length;T++){let k=C[T],P=f(k);typeof k=="number"?(E.__data[0]=k,e.bufferSubData(35345,A+M,E.__data)):k.isMatrix3?(E.__data[0]=k.elements[0],E.__data[1]=k.elements[1],E.__data[2]=k.elements[2],E.__data[3]=k.elements[0],E.__data[4]=k.elements[3],E.__data[5]=k.elements[4],E.__data[6]=k.elements[5],E.__data[7]=k.elements[0],E.__data[8]=k.elements[6],E.__data[9]=k.elements[7],E.__data[10]=k.elements[8],E.__data[11]=k.elements[0]):(k.toArray(E.__data,M),M+=P.storage/Float32Array.BYTES_PER_ELEMENT)}e.bufferSubData(35345,A,E.__data)}}e.bindBuffer(35345,null)}function p(x,y,b){let w=x.value;if(b[y]===void 0){if(typeof w=="number")b[y]=w;else{let _=Array.isArray(w)?w:[w],S=[];for(let E=0;E<_.length;E++)S.push(_[E].clone());b[y]=S}return!0}else if(typeof w=="number"){if(b[y]!==w)return b[y]=w,!0}else{let _=Array.isArray(b[y])?b[y]:[b[y]],S=Array.isArray(w)?w:[w];for(let E=0;E<_.length;E++){let A=_[E];if(A.equals(S[E])===!1)return A.copy(S[E]),!0}}return!1}function m(x){let y=x.uniforms,b=0,w=16,_=0;for(let S=0,E=y.length;S<E;S++){let A=y[S],C={boundary:0,storage:0},M=Array.isArray(A.value)?A.value:[A.value];for(let T=0,k=M.length;T<k;T++){let P=M[T],D=f(P);C.boundary+=D.boundary,C.storage+=D.storage}if(A.__data=new Float32Array(C.storage/Float32Array.BYTES_PER_ELEMENT),A.__offset=b,S>0){_=b%w;let T=w-_;_!==0&&T-C.boundary<0&&(b+=w-_,A.__offset=b)}b+=C.storage}return _=b%w,_>0&&(b+=w-_),x.__size=b,x.__cache={},this}function f(x){let y={boundary:0,storage:0};return typeof x=="number"?(y.boundary=4,y.storage=4):x.isVector2?(y.boundary=8,y.storage=8):x.isVector3||x.isColor?(y.boundary=16,y.storage=12):x.isVector4?(y.boundary=16,y.storage=16):x.isMatrix3?(y.boundary=48,y.storage=48):x.isMatrix4?(y.boundary=64,y.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),y}function g(x){let y=x.target;y.removeEventListener("dispose",g);let b=l.indexOf(y.__bindingPointIndex);l.splice(b,1),e.deleteBuffer(i[y.id]),delete i[y.id],delete o[y.id]}function v(){for(let x in i)e.deleteBuffer(i[x]);l=[],i={},o={}}return{bind:a,update:s,dispose:v}}function Cwe(){let e=t_("canvas");return e.style.display="block",e}function Mq(e={}){this.isWebGLRenderer=!0;let t=e.canvas!==void 0?e.canvas:Cwe(),r=e.context!==void 0?e.context:null,n=e.depth!==void 0?e.depth:!0,i=e.stencil!==void 0?e.stencil:!0,o=e.antialias!==void 0?e.antialias:!1,l=e.premultipliedAlpha!==void 0?e.premultipliedAlpha:!0,c=e.preserveDrawingBuffer!==void 0?e.preserveDrawingBuffer:!1,a=e.powerPreference!==void 0?e.powerPreference:"default",s=e.failIfMajorPerformanceCaveat!==void 0?e.failIfMajorPerformanceCaveat:!1,u;r!==null?u=r.getContextAttributes().alpha:u=e.alpha!==void 0?e.alpha:!1;let d=null,h=null,p=[],m=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=El,this.physicallyCorrectLights=!1,this.toneMapping=Ec,this.toneMappingExposure=1;let f=this,g=!1,v=0,x=0,y=null,b=-1,w=null,_=new Ot,S=new Ot,E=null,A=t.width,C=t.height,M=1,T=null,k=null,P=new Ot(0,0,A,C),D=new Ot(0,0,A,C),I=!1,O=new Y5,j=!1,N=!1,R=null,F=new Re,U=new re,B=new L,H={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function X(){return y===null?M:1}let G=r;function Z($,me){for(let pe=0;pe<$.length;pe++){let ue=$[pe],xe=t.getContext(ue,me);if(xe!==null)return xe}return null}try{let $={alpha:!0,depth:n,stencil:i,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:a,failIfMajorPerformanceCaveat:s};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${fg}`),t.addEventListener("webglcontextlost",Ue,!1),t.addEventListener("webglcontextrestored",Ge,!1),t.addEventListener("webglcontextcreationerror",st,!1),G===null){let me=["webgl2","webgl","experimental-webgl"];if(f.isWebGL1Renderer===!0&&me.shift(),G=Z(me,$),G===null)throw Z(me)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch($){throw console.error("THREE.WebGLRenderer: "+$.message),$}let J,ee,q,Y,Q,ie,le,de,De,Me,Ee,Te,$e,ze,K,W,se,Se,te,ce,we,fe,he,Ne;function Xe(){J=new Nbe(G),ee=new jbe(G,J,e),J.init(ee),fe=new bwe(G,J,ee),q=new vwe(G,J,ee),Y=new Ube,Q=new iwe,ie=new ywe(G,J,q,Q,ee,fe,Y),le=new Obe(f),de=new Lbe(f),De=new Kve(G,ee),he=new kbe(G,J,De,ee),Me=new Bbe(G,De,Y,he),Ee=new Gbe(G,Me,De,Y),te=new Wbe(G,ee,ie),W=new Ibe(Q),Te=new nwe(f,le,de,J,ee,he,W),$e=new Swe(f,Q),ze=new awe,K=new hwe(J,ee),Se=new Pbe(f,le,de,q,Ee,u,l),se=new gwe(f,Ee,ee),Ne=new Ewe(G,Y,ee,q),ce=new Dbe(G,J,Y,ee),we=new Fbe(G,J,Y,ee),Y.programs=Te.programs,f.capabilities=ee,f.extensions=J,f.properties=Q,f.renderLists=ze,f.shadowMap=se,f.state=q,f.info=Y}Xe();let Ce=new _we(f,G);this.xr=Ce,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){let $=J.get("WEBGL_lose_context");$&&$.loseContext()},this.forceContextRestore=function(){let $=J.get("WEBGL_lose_context");$&&$.restoreContext()},this.getPixelRatio=function(){return M},this.setPixelRatio=function($){$!==void 0&&(M=$,this.setSize(A,C,!1))},this.getSize=function($){return $.set(A,C)},this.setSize=function($,me,pe){if(Ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}A=$,C=me,t.width=Math.floor($*M),t.height=Math.floor(me*M),pe!==!1&&(t.style.width=$+"px",t.style.height=me+"px"),this.setViewport(0,0,$,me)},this.getDrawingBufferSize=function($){return $.set(A*M,C*M).floor()},this.setDrawingBufferSize=function($,me,pe){A=$,C=me,M=pe,t.width=Math.floor($*pe),t.height=Math.floor(me*pe),this.setViewport(0,0,$,me)},this.getCurrentViewport=function($){return $.copy(_)},this.getViewport=function($){return $.copy(P)},this.setViewport=function($,me,pe,ue){$.isVector4?P.set($.x,$.y,$.z,$.w):P.set($,me,pe,ue),q.viewport(_.copy(P).multiplyScalar(M).floor())},this.getScissor=function($){return $.copy(D)},this.setScissor=function($,me,pe,ue){$.isVector4?D.set($.x,$.y,$.z,$.w):D.set($,me,pe,ue),q.scissor(S.copy(D).multiplyScalar(M).floor())},this.getScissorTest=function(){return I},this.setScissorTest=function($){q.setScissorTest(I=$)},this.setOpaqueSort=function($){T=$},this.setTransparentSort=function($){k=$},this.getClearColor=function($){return $.copy(Se.getClearColor())},this.setClearColor=function(){Se.setClearColor.apply(Se,arguments)},this.getClearAlpha=function(){return Se.getClearAlpha()},this.setClearAlpha=function(){Se.setClearAlpha.apply(Se,arguments)},this.clear=function($=!0,me=!0,pe=!0){let ue=0;$&&(ue|=16384),me&&(ue|=256),pe&&(ue|=1024),G.clear(ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Ue,!1),t.removeEventListener("webglcontextrestored",Ge,!1),t.removeEventListener("webglcontextcreationerror",st,!1),ze.dispose(),K.dispose(),Q.dispose(),le.dispose(),de.dispose(),Ee.dispose(),he.dispose(),Ne.dispose(),Te.dispose(),Ce.dispose(),Ce.removeEventListener("sessionstart",Qe),Ce.removeEventListener("sessionend",gt),R&&(R.dispose(),R=null),Xt.stop()};function Ue($){$.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),g=!0}function Ge(){console.log("THREE.WebGLRenderer: Context Restored."),g=!1;let $=Y.autoReset,me=se.enabled,pe=se.autoUpdate,ue=se.needsUpdate,xe=se.type;Xe(),Y.autoReset=$,se.enabled=me,se.autoUpdate=pe,se.needsUpdate=ue,se.type=xe}function st($){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",$.statusMessage)}function He($){let me=$.target;me.removeEventListener("dispose",He),tt(me)}function tt($){ne($),Q.remove($)}function ne($){let me=Q.get($).programs;me!==void 0&&(me.forEach(function(pe){Te.releaseProgram(pe)}),$.isShaderMaterial&&Te.releaseShaderCache($))}this.renderBufferDirect=function($,me,pe,ue,xe,ot){me===null&&(me=H);let yt=xe.isMesh&&xe.matrixWorld.determinant()<0,Dt=it($,me,pe,ue,xe);q.setMaterial(ue,yt);let Bt=pe.index,ir=1;ue.wireframe===!0&&(Bt=Me.getWireframeAttribute(pe),ir=2);let Ft=pe.drawRange,qt=pe.attributes.position,mn=Ft.start*ir,ei=(Ft.start+Ft.count)*ir;ot!==null&&(mn=Math.max(mn,ot.start*ir),ei=Math.min(ei,(ot.start+ot.count)*ir)),Bt!==null?(mn=Math.max(mn,0),ei=Math.min(ei,Bt.count)):qt!=null&&(mn=Math.max(mn,0),ei=Math.min(ei,qt.count));let zt=ei-mn;if(zt<0||zt===1/0)return;he.setup(xe,ue,Dt,pe,Bt);let Yr,ar=ce;if(Bt!==null&&(Yr=De.get(Bt),ar=we,ar.setIndex(Yr)),xe.isMesh)ue.wireframe===!0?(q.setLineWidth(ue.wireframeLinewidth*X()),ar.setMode(1)):ar.setMode(4);else if(xe.isLine){let bt=ue.linewidth;bt===void 0&&(bt=1),q.setLineWidth(bt*X()),xe.isLineSegments?ar.setMode(1):xe.isLineLoop?ar.setMode(2):ar.setMode(3)}else xe.isPoints?ar.setMode(0):xe.isSprite&&ar.setMode(4);if(xe.isInstancedMesh)ar.renderInstances(mn,zt,xe.count);else if(pe.isInstancedBufferGeometry){let bt=pe._maxInstanceCount!==void 0?pe._maxInstanceCount:1/0,Il=Math.min(pe.instanceCount,bt);ar.renderInstances(mn,zt,Il)}else ar.render(mn,zt)},this.compile=function($,me){function pe(ue,xe,ot){ue.transparent===!0&&ue.side===Co&&ue.forceSinglePass===!1?(ue.side=ai,ue.needsUpdate=!0,ut(ue,xe,ot),ue.side=ks,ue.needsUpdate=!0,ut(ue,xe,ot),ue.side=Co):ut(ue,xe,ot)}h=K.get($),h.init(),m.push(h),$.traverseVisible(function(ue){ue.isLight&&ue.layers.test(me.layers)&&(h.pushLight(ue),ue.castShadow&&h.pushShadow(ue))}),h.setupLights(f.physicallyCorrectLights),$.traverse(function(ue){let xe=ue.material;if(xe)if(Array.isArray(xe))for(let ot=0;ot<xe.length;ot++){let yt=xe[ot];pe(yt,$,ue)}else pe(xe,$,ue)}),m.pop(),h=null};let ye=null;function Pe($){ye&&ye($)}function Qe(){Xt.stop()}function gt(){Xt.start()}let Xt=new wq;Xt.setAnimationLoop(Pe),typeof self<"u"&&Xt.setContext(self),this.setAnimationLoop=function($){ye=$,Ce.setAnimationLoop($),$===null?Xt.stop():Xt.start()},Ce.addEventListener("sessionstart",Qe),Ce.addEventListener("sessionend",gt),this.render=function($,me){if(me!==void 0&&me.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(g===!0)return;$.matrixWorldAutoUpdate===!0&&$.updateMatrixWorld(),me.parent===null&&me.matrixWorldAutoUpdate===!0&&me.updateMatrixWorld(),Ce.enabled===!0&&Ce.isPresenting===!0&&(Ce.cameraAutoUpdate===!0&&Ce.updateCamera(me),me=Ce.getCamera()),$.isScene===!0&&$.onBeforeRender(f,$,me,y),h=K.get($,m.length),h.init(),m.push(h),F.multiplyMatrices(me.projectionMatrix,me.matrixWorldInverse),O.setFromProjectionMatrix(F),N=this.localClippingEnabled,j=W.init(this.clippingPlanes,N),d=ze.get($,p.length),d.init(),p.push(d),ae($,me,0,f.sortObjects),d.finish(),f.sortObjects===!0&&d.sort(T,k),j===!0&&W.beginShadows();let pe=h.state.shadowsArray;if(se.render(pe,$,me),j===!0&&W.endShadows(),this.info.autoReset===!0&&this.info.reset(),Se.render(d,$),h.setupLights(f.physicallyCorrectLights),me.isArrayCamera){let ue=me.cameras;for(let xe=0,ot=ue.length;xe<ot;xe++){let yt=ue[xe];ve(d,$,yt,yt.viewport)}}else ve(d,$,me);y!==null&&(ie.updateMultisampleRenderTarget(y),ie.updateRenderTargetMipmap(y)),$.isScene===!0&&$.onAfterRender(f,$,me),he.resetDefaultState(),b=-1,w=null,m.pop(),m.length>0?h=m[m.length-1]:h=null,p.pop(),p.length>0?d=p[p.length-1]:d=null};function ae($,me,pe,ue){if($.visible===!1)return;if($.layers.test(me.layers)){if($.isGroup)pe=$.renderOrder;else if($.isLOD)$.autoUpdate===!0&&$.update(me);else if($.isLight)h.pushLight($),$.castShadow&&h.pushShadow($);else if($.isSprite){if(!$.frustumCulled||O.intersectsSprite($)){ue&&B.setFromMatrixPosition($.matrixWorld).applyMatrix4(F);let ot=Ee.update($),yt=$.material;yt.visible&&d.push($,ot,yt,pe,B.z,null)}}else if(($.isMesh||$.isLine||$.isPoints)&&($.isSkinnedMesh&&$.skeleton.frame!==Y.render.frame&&($.skeleton.update(),$.skeleton.frame=Y.render.frame),!$.frustumCulled||O.intersectsObject($))){ue&&B.setFromMatrixPosition($.matrixWorld).applyMatrix4(F);let ot=Ee.update($),yt=$.material;if(Array.isArray(yt)){let Dt=ot.groups;for(let Bt=0,ir=Dt.length;Bt<ir;Bt++){let Ft=Dt[Bt],qt=yt[Ft.materialIndex];qt&&qt.visible&&d.push($,ot,qt,pe,B.z,Ft)}}else yt.visible&&d.push($,ot,yt,pe,B.z,null)}}let xe=$.children;for(let ot=0,yt=xe.length;ot<yt;ot++)ae(xe[ot],me,pe,ue)}function ve($,me,pe,ue){let xe=$.opaque,ot=$.transmissive,yt=$.transparent;h.setupLightsView(pe),j===!0&&W.setGlobalState(f.clippingPlanes,pe),ot.length>0&&Ae(xe,me,pe),ue&&q.viewport(_.copy(ue)),xe.length>0&&Ie(xe,me,pe),ot.length>0&&Ie(ot,me,pe),yt.length>0&&Ie(yt,me,pe),q.buffers.depth.setTest(!0),q.buffers.depth.setMask(!0),q.buffers.color.setMask(!0),q.setPolygonOffset(!1)}function Ae($,me,pe){let ue=ee.isWebGL2;R===null&&(R=new br(1,1,{generateMipmaps:!0,type:J.has("EXT_color_buffer_half_float")?Hh:Li,minFilter:Um,samples:ue&&o===!0?4:0})),f.getDrawingBufferSize(U),ue?R.setSize(U.x,U.y):R.setSize(e_(U.x),e_(U.y));let xe=f.getRenderTarget();f.setRenderTarget(R),f.clear();let ot=f.toneMapping;f.toneMapping=Ec,Ie($,me,pe),f.toneMapping=ot,ie.updateMultisampleRenderTarget(R),ie.updateRenderTargetMipmap(R),f.setRenderTarget(xe)}function Ie($,me,pe){let ue=me.isScene===!0?me.overrideMaterial:null;for(let xe=0,ot=$.length;xe<ot;xe++){let yt=$[xe],Dt=yt.object,Bt=yt.geometry,ir=ue===null?yt.material:ue,Ft=yt.group;Dt.layers.test(pe.layers)&&Ke(Dt,me,pe,Bt,ir,Ft)}}function Ke($,me,pe,ue,xe,ot){$.onBeforeRender(f,me,pe,ue,xe,ot),$.modelViewMatrix.multiplyMatrices(pe.matrixWorldInverse,$.matrixWorld),$.normalMatrix.getNormalMatrix($.modelViewMatrix),xe.onBeforeRender(f,me,pe,ue,$,ot),xe.transparent===!0&&xe.side===Co&&xe.forceSinglePass===!1?(xe.side=ai,xe.needsUpdate=!0,f.renderBufferDirect(pe,me,ue,xe,$,ot),xe.side=ks,xe.needsUpdate=!0,f.renderBufferDirect(pe,me,ue,xe,$,ot),xe.side=Co):f.renderBufferDirect(pe,me,ue,xe,$,ot),$.onAfterRender(f,me,pe,ue,xe,ot)}function ut($,me,pe){me.isScene!==!0&&(me=H);let ue=Q.get($),xe=h.state.lights,ot=h.state.shadowsArray,yt=xe.state.version,Dt=Te.getParameters($,xe.state,ot,me,pe),Bt=Te.getProgramCacheKey(Dt),ir=ue.programs;ue.environment=$.isMeshStandardMaterial?me.environment:null,ue.fog=me.fog,ue.envMap=($.isMeshStandardMaterial?de:le).get($.envMap||ue.environment),ir===void 0&&($.addEventListener("dispose",He),ir=new Map,ue.programs=ir);let Ft=ir.get(Bt);if(Ft!==void 0){if(ue.currentProgram===Ft&&ue.lightsStateVersion===yt)return dt($,Dt),Ft}else Dt.uniforms=Te.getUniforms($),$.onBuild(pe,Dt,f),$.onBeforeCompile(Dt,f),Ft=Te.acquireProgram(Dt,Bt),ir.set(Bt,Ft),ue.uniforms=Dt.uniforms;let qt=ue.uniforms;(!$.isShaderMaterial&&!$.isRawShaderMaterial||$.clipping===!0)&&(qt.clippingPlanes=W.uniform),dt($,Dt),ue.needsLights=Pt($),ue.lightsStateVersion=yt,ue.needsLights&&(qt.ambientLightColor.value=xe.state.ambient,qt.lightProbe.value=xe.state.probe,qt.directionalLights.value=xe.state.directional,qt.directionalLightShadows.value=xe.state.directionalShadow,qt.spotLights.value=xe.state.spot,qt.spotLightShadows.value=xe.state.spotShadow,qt.rectAreaLights.value=xe.state.rectArea,qt.ltc_1.value=xe.state.rectAreaLTC1,qt.ltc_2.value=xe.state.rectAreaLTC2,qt.pointLights.value=xe.state.point,qt.pointLightShadows.value=xe.state.pointShadow,qt.hemisphereLights.value=xe.state.hemi,qt.directionalShadowMap.value=xe.state.directionalShadowMap,qt.directionalShadowMatrix.value=xe.state.directionalShadowMatrix,qt.spotShadowMap.value=xe.state.spotShadowMap,qt.spotLightMatrix.value=xe.state.spotLightMatrix,qt.spotLightMap.value=xe.state.spotLightMap,qt.pointShadowMap.value=xe.state.pointShadowMap,qt.pointShadowMatrix.value=xe.state.pointShadowMatrix);let mn=Ft.getUniforms(),ei=Vx.seqWithValue(mn.seq,qt);return ue.currentProgram=Ft,ue.uniformsList=ei,Ft}function dt($,me){let pe=Q.get($);pe.outputEncoding=me.outputEncoding,pe.instancing=me.instancing,pe.skinning=me.skinning,pe.morphTargets=me.morphTargets,pe.morphNormals=me.morphNormals,pe.morphColors=me.morphColors,pe.morphTargetsCount=me.morphTargetsCount,pe.numClippingPlanes=me.numClippingPlanes,pe.numIntersection=me.numClipIntersection,pe.vertexAlphas=me.vertexAlphas,pe.vertexTangents=me.vertexTangents,pe.toneMapping=me.toneMapping}function it($,me,pe,ue,xe){me.isScene!==!0&&(me=H),ie.resetTextureUnits();let ot=me.fog,yt=ue.isMeshStandardMaterial?me.environment:null,Dt=y===null?f.outputEncoding:y.isXRRenderTarget===!0?y.texture.encoding:El,Bt=(ue.isMeshStandardMaterial?de:le).get(ue.envMap||yt),ir=ue.vertexColors===!0&&!!pe.attributes.color&&pe.attributes.color.itemSize===4,Ft=!!ue.normalMap&&!!pe.attributes.tangent,qt=!!pe.morphAttributes.position,mn=!!pe.morphAttributes.normal,ei=!!pe.morphAttributes.color,zt=ue.toneMapped?f.toneMapping:Ec,Yr=pe.morphAttributes.position||pe.morphAttributes.normal||pe.morphAttributes.color,ar=Yr!==void 0?Yr.length:0,bt=Q.get(ue),Il=h.state.lights;if(j===!0&&(N===!0||$!==w)){let Vo=$===w&&ue.id===b;W.setState(ue,$,Vo)}let hp=!1;ue.version===bt.__version?(bt.needsLights&&bt.lightsStateVersion!==Il.state.version||bt.outputEncoding!==Dt||xe.isInstancedMesh&&bt.instancing===!1||!xe.isInstancedMesh&&bt.instancing===!0||xe.isSkinnedMesh&&bt.skinning===!1||!xe.isSkinnedMesh&&bt.skinning===!0||bt.envMap!==Bt||ue.fog===!0&&bt.fog!==ot||bt.numClippingPlanes!==void 0&&(bt.numClippingPlanes!==W.numPlanes||bt.numIntersection!==W.numIntersection)||bt.vertexAlphas!==ir||bt.vertexTangents!==Ft||bt.morphTargets!==qt||bt.morphNormals!==mn||bt.morphColors!==ei||bt.toneMapping!==zt||ee.isWebGL2===!0&&bt.morphTargetsCount!==ar)&&(hp=!0):(hp=!0,bt.__version=ue.version);let Ol=bt.currentProgram;hp===!0&&(Ol=ut(ue,me,xe));let Rj=!1,Ig=!1,r3=!1,hi=Ol.getUniforms(),wd=bt.uniforms;if(q.useProgram(Ol.program)&&(Rj=!0,Ig=!0,r3=!0),ue.id!==b&&(b=ue.id,Ig=!0),Rj||w!==$){if(hi.setValue(G,"projectionMatrix",$.projectionMatrix),ee.logarithmicDepthBuffer&&hi.setValue(G,"logDepthBufFC",2/(Math.log($.far+1)/Math.LN2)),w!==$&&(w=$,Ig=!0,r3=!0),ue.isShaderMaterial||ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshStandardMaterial||ue.envMap){let Vo=hi.map.cameraPosition;Vo!==void 0&&Vo.setValue(G,B.setFromMatrixPosition($.matrixWorld))}(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial)&&hi.setValue(G,"isOrthographic",$.isOrthographicCamera===!0),(ue.isMeshPhongMaterial||ue.isMeshToonMaterial||ue.isMeshLambertMaterial||ue.isMeshBasicMaterial||ue.isMeshStandardMaterial||ue.isShaderMaterial||ue.isShadowMaterial||xe.isSkinnedMesh)&&hi.setValue(G,"viewMatrix",$.matrixWorldInverse)}if(xe.isSkinnedMesh){hi.setOptional(G,xe,"bindMatrix"),hi.setOptional(G,xe,"bindMatrixInverse");let Vo=xe.skeleton;Vo&&(ee.floatVertexTextures?(Vo.boneTexture===null&&Vo.computeBoneTexture(),hi.setValue(G,"boneTexture",Vo.boneTexture,ie),hi.setValue(G,"boneTextureSize",Vo.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}let n3=pe.morphAttributes;if((n3.position!==void 0||n3.normal!==void 0||n3.color!==void 0&&ee.isWebGL2===!0)&&te.update(xe,pe,ue,Ol),(Ig||bt.receiveShadow!==xe.receiveShadow)&&(bt.receiveShadow=xe.receiveShadow,hi.setValue(G,"receiveShadow",xe.receiveShadow)),ue.isMeshGouraudMaterial&&ue.envMap!==null&&(wd.envMap.value=Bt,wd.flipEnvMap.value=Bt.isCubeTexture&&Bt.isRenderTargetTexture===!1?-1:1),Ig&&(hi.setValue(G,"toneMappingExposure",f.toneMappingExposure),bt.needsLights&&Nt(wd,r3),ot&&ue.fog===!0&&$e.refreshFogUniforms(wd,ot),$e.refreshMaterialUniforms(wd,ue,M,C,R),Vx.upload(G,bt.uniformsList,wd,ie)),ue.isShaderMaterial&&ue.uniformsNeedUpdate===!0&&(Vx.upload(G,bt.uniformsList,wd,ie),ue.uniformsNeedUpdate=!1),ue.isSpriteMaterial&&hi.setValue(G,"center",xe.center),hi.setValue(G,"modelViewMatrix",xe.modelViewMatrix),hi.setValue(G,"normalMatrix",xe.normalMatrix),hi.setValue(G,"modelMatrix",xe.matrixWorld),xe.previousModelViewMatrix&&hi.setValue(G,"previousModelViewMatrix",xe.previousModelViewMatrix),$.previousProjectionMatrix&&hi.setValue(G,"previousProjectionMatrix",$.previousProjectionMatrix),ue.isShaderMaterial||ue.isRawShaderMaterial){let Vo=ue.uniformsGroups;for(let i3=0,OQ=Vo.length;i3<OQ;i3++)if(ee.isWebGL2){let zj=Vo[i3];Ne.update(zj,Ol),Ne.bind(zj,Ol)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Ol}function Nt($,me){$.ambientLightColor.needsUpdate=me,$.lightProbe.needsUpdate=me,$.directionalLights.needsUpdate=me,$.directionalLightShadows.needsUpdate=me,$.pointLights.needsUpdate=me,$.pointLightShadows.needsUpdate=me,$.spotLights.needsUpdate=me,$.spotLightShadows.needsUpdate=me,$.rectAreaLights.needsUpdate=me,$.hemisphereLights.needsUpdate=me}function Pt($){return $.isMeshLambertMaterial||$.isMeshToonMaterial||$.isMeshPhongMaterial||$.isMeshStandardMaterial||$.isShadowMaterial||$.isShaderMaterial&&$.lights===!0}this.getActiveCubeFace=function(){return v},this.getActiveMipmapLevel=function(){return x},this.getRenderTarget=function(){return y},this.setRenderTargetTextures=function($,me,pe){Q.get($.texture).__webglTexture=me,Q.get($.depthTexture).__webglTexture=pe;let ue=Q.get($);ue.__hasExternalTextures=!0,ue.__hasExternalTextures&&(ue.__autoAllocateDepthBuffer=pe===void 0,ue.__autoAllocateDepthBuffer||J.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ue.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function($,me){let pe=Q.get($);pe.__webglFramebuffer=me,pe.__useDefaultFramebuffer=me===void 0},this.setRenderTarget=function($,me=0,pe=0){y=$,v=me,x=pe;let ue=!0,xe=null,ot=!1,yt=!1;if($){let Dt=Q.get($);Dt.__useDefaultFramebuffer!==void 0?(q.bindFramebuffer(36160,null),ue=!1):Dt.__webglFramebuffer===void 0?ie.setupRenderTarget($):Dt.__hasExternalTextures&&ie.rebindTextures($,Q.get($.texture).__webglTexture,Q.get($.depthTexture).__webglTexture);let Bt=$.texture;(Bt.isData3DTexture||Bt.isDataArrayTexture||Bt.isCompressedArrayTexture)&&(yt=!0);let ir=Q.get($).__webglFramebuffer;$.isWebGLCubeRenderTarget?(xe=ir[me],ot=!0):ee.isWebGL2&&$.samples>0&&ie.useMultisampledRTT($)===!1?xe=Q.get($).__webglMultisampledFramebuffer:xe=ir,_.copy($.viewport),S.copy($.scissor),E=$.scissorTest}else _.copy(P).multiplyScalar(M).floor(),S.copy(D).multiplyScalar(M).floor(),E=I;if(q.bindFramebuffer(36160,xe)&&ee.drawBuffers&&ue&&q.drawBuffers($,xe),q.viewport(_),q.scissor(S),q.setScissorTest(E),ot){let Dt=Q.get($.texture);G.framebufferTexture2D(36160,36064,34069+me,Dt.__webglTexture,pe)}else if(yt){let Dt=Q.get($.texture),Bt=me||0;G.framebufferTextureLayer(36160,36064,Dt.__webglTexture,pe||0,Bt)}b=-1},this.readRenderTargetPixels=function($,me,pe,ue,xe,ot,yt){if(!($&&$.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Dt=Q.get($).__webglFramebuffer;if($.isWebGLCubeRenderTarget&&yt!==void 0&&(Dt=Dt[yt]),Dt){q.bindFramebuffer(36160,Dt);try{let Bt=$.texture,ir=Bt.format,Ft=Bt.type;if(ir!==Jo&&fe.convert(ir)!==G.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}let qt=Ft===Hh&&(J.has("EXT_color_buffer_half_float")||ee.isWebGL2&&J.has("EXT_color_buffer_float"));if(Ft!==Li&&fe.convert(Ft)!==G.getParameter(35738)&&!(Ft===to&&(ee.isWebGL2||J.has("OES_texture_float")||J.has("WEBGL_color_buffer_float")))&&!qt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}me>=0&&me<=$.width-ue&&pe>=0&&pe<=$.height-xe&&G.readPixels(me,pe,ue,xe,fe.convert(ir),fe.convert(Ft),ot)}finally{let Bt=y!==null?Q.get(y).__webglFramebuffer:null;q.bindFramebuffer(36160,Bt)}}},this.copyFramebufferToTexture=function($,me,pe=0){let ue=Math.pow(2,-pe),xe=Math.floor(me.image.width*ue),ot=Math.floor(me.image.height*ue);ie.setTexture2D(me,0),G.copyTexSubImage2D(3553,pe,0,0,$.x,$.y,xe,ot),q.unbindTexture()},this.copyTextureToTexture=function($,me,pe,ue=0){let xe=me.image.width,ot=me.image.height,yt=fe.convert(pe.format),Dt=fe.convert(pe.type);ie.setTexture2D(pe,0),G.pixelStorei(37440,pe.flipY),G.pixelStorei(37441,pe.premultiplyAlpha),G.pixelStorei(3317,pe.unpackAlignment),me.isDataTexture?G.texSubImage2D(3553,ue,$.x,$.y,xe,ot,yt,Dt,me.image.data):me.isCompressedTexture?G.compressedTexSubImage2D(3553,ue,$.x,$.y,me.mipmaps[0].width,me.mipmaps[0].height,yt,me.mipmaps[0].data):G.texSubImage2D(3553,ue,$.x,$.y,yt,Dt,me.image),ue===0&&pe.generateMipmaps&&G.generateMipmap(3553),q.unbindTexture()},this.copyTextureToTexture3D=function($,me,pe,ue,xe=0){if(f.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}let ot=$.max.x-$.min.x+1,yt=$.max.y-$.min.y+1,Dt=$.max.z-$.min.z+1,Bt=fe.convert(ue.format),ir=fe.convert(ue.type),Ft;if(ue.isData3DTexture)ie.setTexture3D(ue,0),Ft=32879;else if(ue.isDataArrayTexture)ie.setTexture2DArray(ue,0),Ft=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(37440,ue.flipY),G.pixelStorei(37441,ue.premultiplyAlpha),G.pixelStorei(3317,ue.unpackAlignment);let qt=G.getParameter(3314),mn=G.getParameter(32878),ei=G.getParameter(3316),zt=G.getParameter(3315),Yr=G.getParameter(32877),ar=pe.isCompressedTexture?pe.mipmaps[0]:pe.image;G.pixelStorei(3314,ar.width),G.pixelStorei(32878,ar.height),G.pixelStorei(3316,$.min.x),G.pixelStorei(3315,$.min.y),G.pixelStorei(32877,$.min.z),pe.isDataTexture||pe.isData3DTexture?G.texSubImage3D(Ft,xe,me.x,me.y,me.z,ot,yt,Dt,Bt,ir,ar.data):pe.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(Ft,xe,me.x,me.y,me.z,ot,yt,Dt,Bt,ar.data)):G.texSubImage3D(Ft,xe,me.x,me.y,me.z,ot,yt,Dt,Bt,ir,ar),G.pixelStorei(3314,qt),G.pixelStorei(32878,mn),G.pixelStorei(3316,ei),G.pixelStorei(3315,zt),G.pixelStorei(32877,Yr),xe===0&&ue.generateMipmaps&&G.generateMipmap(Ft),q.unbindTexture()},this.initTexture=function($){$.isCubeTexture?ie.setTextureCube($,0):$.isData3DTexture?ie.setTexture3D($,0):$.isDataArrayTexture||$.isCompressedArrayTexture?ie.setTexture2DArray($,0):ie.setTexture2D($,0),q.unbindTexture()},this.resetState=function(){v=0,x=0,y=null,q.reset(),he.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}var Awe=class extends Mq{};Awe.prototype.isWebGL1Renderer=!0;var Tq=class{constructor(e,t=1,r=1e3){this.isFog=!0,this.name="",this.color=new ht(e),this.near=t,this.far=r}clone(){return new Tq(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}},$u=class extends wr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){let t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}},Mwe=class{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=AT,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Va()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,r){e*=this.stride,r*=t.stride;for(let n=0,i=this.stride;n<i;n++)this.array[e+n]=t.array[r+n];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Va()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);let t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(t,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Va()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}},Ui=new L,kT=class{constructor(e,t,r,n=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=r,this.normalized=n}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,r=this.data.count;t<r;t++)Ui.fromBufferAttribute(this,t),Ui.applyMatrix4(e),this.setXYZ(t,Ui.x,Ui.y,Ui.z);return this}applyNormalMatrix(e){for(let t=0,r=this.count;t<r;t++)Ui.fromBufferAttribute(this,t),Ui.applyNormalMatrix(e),this.setXYZ(t,Ui.x,Ui.y,Ui.z);return this}transformDirection(e){for(let t=0,r=this.count;t<r;t++)Ui.fromBufferAttribute(this,t),Ui.transformDirection(e),this.setXYZ(t,Ui.x,Ui.y,Ui.z);return this}setX(e,t){return this.normalized&&(t=Pr(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=Pr(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=Pr(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=Pr(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=vc(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=vc(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=vc(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=vc(t,this.array)),t}setXY(e,t,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=Pr(t,this.array),r=Pr(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this}setXYZ(e,t,r,n){return e=e*this.data.stride+this.offset,this.normalized&&(t=Pr(t,this.array),r=Pr(r,this.array),n=Pr(n,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this}setXYZW(e,t,r,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=Pr(t,this.array),r=Pr(r,this.array),n=Pr(n,this.array),i=Pr(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=r,this.data.array[e+2]=n,this.data.array[e+3]=i,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let n=r*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)t.push(this.data.array[n+i])}return new St(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new kT(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");let t=[];for(let r=0;r<this.count;r++){let n=r*this.data.stride+this.offset;for(let i=0;i<this.itemSize;i++)t.push(this.data.array[n+i])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}},Pq=class extends wr{constructor(){super(),this.isBone=!0,this.type="Bone"}},Tu=class extends Xn{constructor(e=null,t=1,r=1,n,i,o,l,c,a=kr,s=kr,u,d){super(null,o,l,c,a,s,n,i,u,d),this.isDataTexture=!0,this.image={data:e,width:t,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}},yL=new Re,Twe=new Re,K5=class{constructor(e=[],t=[]){this.uuid=Va(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){let e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,n=this.bones.length;r<n;r++)this.boneInverses.push(new Re)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){let r=new Re;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){let r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){let e=this.bones,t=this.boneInverses,r=this.boneMatrices,n=this.boneTexture;for(let i=0,o=e.length;i<o;i++){let l=e[i]?e[i].matrixWorld:Twe;yL.multiplyMatrices(l,t[i]),yL.toArray(r,i*16)}n!==null&&(n.needsUpdate=!0)}clone(){return new K5(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=pq(e),e=Math.max(e,4);let t=new Float32Array(e*e*4);t.set(this.boneMatrices);let r=new Tu(t,e,e,Jo,to);return r.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let t=0,r=this.bones.length;t<r;t++){let n=this.bones[t];if(n.name===e)return n}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let r=0,n=e.bones.length;r<n;r++){let i=e.bones[r],o=t[i];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",i),o=new Pq),this.bones.push(o),this.boneInverses.push(new Re().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){let e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;let t=this.bones,r=this.boneInverses;for(let n=0,i=t.length;n<i;n++){let o=t[n];e.bones.push(o.uuid);let l=r[n];e.boneInverses.push(l.toArray())}return e}},kq=class extends St{constructor(e,t,r,n=1){super(e,t,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=n}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){let e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}},vd=class extends t1{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ht(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}},bL=new L,xL=new L,wL=new Re,eC=new mg,hb=new Bo,r_=class extends wr{constructor(e=new lt,t=new vd){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,r=[0];for(let n=1,i=t.count;n<i;n++)bL.fromBufferAttribute(t,n-1),xL.fromBufferAttribute(t,n),r[n]=r[n-1],r[n]+=bL.distanceTo(xL);e.setAttribute("lineDistance",new Ze(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){let r=this.geometry,n=this.matrixWorld,i=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),hb.copy(r.boundingSphere),hb.applyMatrix4(n),hb.radius+=i,e.ray.intersectsSphere(hb)===!1)return;wL.copy(n).invert(),eC.copy(e.ray).applyMatrix4(wL);let l=i/((this.scale.x+this.scale.y+this.scale.z)/3),c=l*l,a=new L,s=new L,u=new L,d=new L,h=this.isLineSegments?2:1,p=r.index,m=r.attributes.position;if(p!==null){let f=Math.max(0,o.start),g=Math.min(p.count,o.start+o.count);for(let v=f,x=g-1;v<x;v+=h){let y=p.getX(v),b=p.getX(v+1);if(a.fromBufferAttribute(m,y),s.fromBufferAttribute(m,b),eC.distanceSqToSegment(a,s,d,u)>c)continue;d.applyMatrix4(this.matrixWorld);let w=e.ray.origin.distanceTo(d);w<e.near||w>e.far||t.push({distance:w,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}else{let f=Math.max(0,o.start),g=Math.min(m.count,o.start+o.count);for(let v=f,x=g-1;v<x;v+=h){if(a.fromBufferAttribute(m,v),s.fromBufferAttribute(m,v+1),eC.distanceSqToSegment(a,s,d,u)>c)continue;d.applyMatrix4(this.matrixWorld);let y=e.ray.origin.distanceTo(d);y<e.near||y>e.far||t.push({distance:y,point:u.clone().applyMatrix4(this.matrixWorld),index:v,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){let e=this.geometry.morphAttributes,t=Object.keys(e);if(t.length>0){let r=e[t[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let n=0,i=r.length;n<i;n++){let o=r[n].name||String(n);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=n}}}}},_L=new L,SL=new L,n1=class extends r_{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){let e=this.geometry;if(e.index===null){let t=e.attributes.position,r=[];for(let n=0,i=t.count;n<i;n+=2)_L.fromBufferAttribute(t,n),SL.fromBufferAttribute(t,n+1),r[n]=n===0?0:r[n-1],r[n+1]=r[n]+_L.distanceTo(SL);e.setAttribute("lineDistance",new Ze(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}},Pwe=class extends Xn{constructor(e,t,r,n,i,o,l,c,a){super(e,t,r,n,i,o,l,c,a),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:Wt,this.magFilter=i!==void 0?i:Wt,this.generateMipmaps=!1;let s=this;function u(){s.needsUpdate=!0,e.requestVideoFrameCallback(u)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(u)}clone(){return new this.constructor(this.image).copy(this)}update(){let e=this.image;!("requestVideoFrameCallback"in e)&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}},kl=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){let r=this.getUtoTmapping(e);return this.getPoint(r,t)}getPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return t}getSpacedPoints(e=5){let t=[];for(let r=0;r<=e;r++)t.push(this.getPointAt(r/e));return t}getLength(){let e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;let t=[],r,n=this.getPoint(0),i=0;t.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),i+=r.distanceTo(n),t.push(i),n=r;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){let r=this.getLengths(),n=0,i=r.length,o;t?o=t:o=e*r[i-1];let l=0,c=i-1,a;for(;l<=c;)if(n=Math.floor(l+(c-l)/2),a=r[n]-o,a<0)l=n+1;else if(a>0)c=n-1;else{c=n;break}if(n=c,r[n]===o)return n/(i-1);let s=r[n],u=r[n+1]-s,d=(o-s)/u;return(n+d)/(i-1)}getTangent(e,t){let r=e-1e-4,n=e+1e-4;r<0&&(r=0),n>1&&(n=1);let i=this.getPoint(r),o=this.getPoint(n),l=t||(i.isVector2?new re:new L);return l.copy(o).sub(i).normalize(),l}getTangentAt(e,t){let r=this.getUtoTmapping(e);return this.getTangent(r,t)}computeFrenetFrames(e,t){let r=new L,n=[],i=[],o=[],l=new L,c=new Re;for(let h=0;h<=e;h++){let p=h/e;n[h]=this.getTangentAt(p,new L)}i[0]=new L,o[0]=new L;let a=Number.MAX_VALUE,s=Math.abs(n[0].x),u=Math.abs(n[0].y),d=Math.abs(n[0].z);s<=a&&(a=s,r.set(1,0,0)),u<=a&&(a=u,r.set(0,1,0)),d<=a&&r.set(0,0,1),l.crossVectors(n[0],r).normalize(),i[0].crossVectors(n[0],l),o[0].crossVectors(n[0],i[0]);for(let h=1;h<=e;h++){if(i[h]=i[h-1].clone(),o[h]=o[h-1].clone(),l.crossVectors(n[h-1],n[h]),l.length()>Number.EPSILON){l.normalize();let p=Math.acos(zn(n[h-1].dot(n[h]),-1,1));i[h].applyMatrix4(c.makeRotationAxis(l,p))}o[h].crossVectors(n[h],i[h])}if(t===!0){let h=Math.acos(zn(i[0].dot(i[e]),-1,1));h/=e,n[0].dot(l.crossVectors(i[0],i[e]))>0&&(h=-h);for(let p=1;p<=e;p++)i[p].applyMatrix4(c.makeRotationAxis(n[p],h*p)),o[p].crossVectors(n[p],i[p])}return{tangents:n,normals:i,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){let e={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}},TS=class extends kl{constructor(e=0,t=0,r=1,n=1,i=0,o=Math.PI*2,l=!1,c=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=r,this.yRadius=n,this.aStartAngle=i,this.aEndAngle=o,this.aClockwise=l,this.aRotation=c}getPoint(e,t){let r=t||new re,n=Math.PI*2,i=this.aEndAngle-this.aStartAngle,o=Math.abs(i)<Number.EPSILON;for(;i<0;)i+=n;for(;i>n;)i-=n;i<Number.EPSILON&&(o?i=0:i=n),this.aClockwise===!0&&!o&&(i===n?i=-n:i=i-n);let l=this.aStartAngle+e*i,c=this.aX+this.xRadius*Math.cos(l),a=this.aY+this.yRadius*Math.sin(l);if(this.aRotation!==0){let s=Math.cos(this.aRotation),u=Math.sin(this.aRotation),d=c-this.aX,h=a-this.aY;c=d*s-h*u+this.aX,a=d*u+h*s+this.aY}return r.set(c,a)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){let e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}},kwe=class extends TS{constructor(e,t,r,n,i,o){super(e,t,r,r,n,i,o),this.isArcCurve=!0,this.type="ArcCurve"}};function Q5(){let e=0,t=0,r=0,n=0;function i(o,l,c,a){e=o,t=c,r=-3*o+3*l-2*c-a,n=2*o-2*l+c+a}return{initCatmullRom:function(o,l,c,a,s){i(l,c,s*(c-o),s*(a-l))},initNonuniformCatmullRom:function(o,l,c,a,s,u,d){let h=(l-o)/s-(c-o)/(s+u)+(c-l)/u,p=(c-l)/u-(a-l)/(u+d)+(a-c)/d;h*=u,p*=u,i(l,c,h,p)},calc:function(o){let l=o*o,c=l*o;return e+t*o+r*l+n*c}}}var pb=new L,tC=new Q5,rC=new Q5,nC=new Q5,Dwe=class extends kl{constructor(e=[],t=!1,r="centripetal",n=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=r,this.tension=n}getPoint(e,t=new L){let r=t,n=this.points,i=n.length,o=(i-(this.closed?0:1))*e,l=Math.floor(o),c=o-l;this.closed?l+=l>0?0:(Math.floor(Math.abs(l)/i)+1)*i:c===0&&l===i-1&&(l=i-2,c=1);let a,s;this.closed||l>0?a=n[(l-1)%i]:(pb.subVectors(n[0],n[1]).add(n[0]),a=pb);let u=n[l%i],d=n[(l+1)%i];if(this.closed||l+2<i?s=n[(l+2)%i]:(pb.subVectors(n[i-1],n[i-2]).add(n[i-1]),s=pb),this.curveType==="centripetal"||this.curveType==="chordal"){let h=this.curveType==="chordal"?.5:.25,p=Math.pow(a.distanceToSquared(u),h),m=Math.pow(u.distanceToSquared(d),h),f=Math.pow(d.distanceToSquared(s),h);m<1e-4&&(m=1),p<1e-4&&(p=m),f<1e-4&&(f=m),tC.initNonuniformCatmullRom(a.x,u.x,d.x,s.x,p,m,f),rC.initNonuniformCatmullRom(a.y,u.y,d.y,s.y,p,m,f),nC.initNonuniformCatmullRom(a.z,u.z,d.z,s.z,p,m,f)}else this.curveType==="catmullrom"&&(tC.initCatmullRom(a.x,u.x,d.x,s.x,this.tension),rC.initCatmullRom(a.y,u.y,d.y,s.y,this.tension),nC.initCatmullRom(a.z,u.z,d.z,s.z,this.tension));return r.set(tC.calc(c),rC.calc(c),nC.calc(c)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let n=e.points[t];this.points.push(n.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let n=this.points[t];e.points.push(n.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let n=e.points[t];this.points.push(new L().fromArray(n))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}};function EL(e,t,r,n,i){let o=(n-t)*.5,l=(i-r)*.5,c=e*e,a=e*c;return(2*r-2*n+o+l)*a+(-3*r+3*n-2*o-l)*c+o*e+r}function jwe(e,t){let r=1-e;return r*r*t}function Iwe(e,t){return 2*(1-e)*e*t}function Owe(e,t){return e*e*t}function vv(e,t,r,n){return jwe(e,t)+Iwe(e,r)+Owe(e,n)}function Rwe(e,t){let r=1-e;return r*r*r*t}function zwe(e,t){let r=1-e;return 3*r*r*e*t}function Lwe(e,t){return 3*(1-e)*e*e*t}function Nwe(e,t){return e*e*e*t}function yv(e,t,r,n,i){return Rwe(e,t)+zwe(e,r)+Lwe(e,n)+Nwe(e,i)}var xs=class extends kl{constructor(e=new re,t=new re,r=new re,n=new re){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=r,this.v3=n}getPoint(e,t=new re){let r=t,n=this.v0,i=this.v1,o=this.v2,l=this.v3;return r.set(yv(e,n.x,i.x,o.x,l.x),yv(e,n.y,i.y,o.y,l.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Hx=class extends kl{constructor(e=new L,t=new L,r=new L,n=new L){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=r,this.v3=n}getPoint(e,t=new L){let r=t,n=this.v0,i=this.v1,o=this.v2,l=this.v3;return r.set(yv(e,n.x,i.x,o.x,l.x),yv(e,n.y,i.y,o.y,l.y),yv(e,n.z,i.z,o.z,l.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},Ms=class extends kl{constructor(e=new re,t=new re){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new re){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t){let r=t||new re;return r.copy(this.v2).sub(this.v1).normalize(),r}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Dq=class extends kl{constructor(e=new L,t=new L){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new L){let r=t;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,t){return this.getPoint(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},od=class extends kl{constructor(e=new re,t=new re,r=new re){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new re){let r=t,n=this.v0,i=this.v1,o=this.v2;return r.set(vv(e,n.x,i.x,o.x),vv(e,n.y,i.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Bwe=class extends kl{constructor(e=new L,t=new L,r=new L){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=r}getPoint(e,t=new L){let r=t,n=this.v0,i=this.v1,o=this.v2;return r.set(vv(e,n.x,i.x,o.x),vv(e,n.y,i.y,o.y),vv(e,n.z,i.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){let e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},Z5=class extends kl{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new re){let r=t,n=this.points,i=(n.length-1)*e,o=Math.floor(i),l=i-o,c=n[o===0?o:o-1],a=n[o],s=n[o>n.length-2?n.length-1:o+1],u=n[o>n.length-3?n.length-1:o+2];return r.set(EL(l,c.x,a.x,s.x,u.x),EL(l,c.y,a.y,s.y,u.y)),r}copy(e){super.copy(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let n=e.points[t];this.points.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.points=[];for(let t=0,r=this.points.length;t<r;t++){let n=this.points[t];e.points.push(n.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,r=e.points.length;t<r;t++){let n=e.points[t];this.points.push(new re().fromArray(n))}return this}},Fwe=Object.freeze({__proto__:null,ArcCurve:kwe,CatmullRomCurve3:Dwe,CubicBezierCurve:xs,CubicBezierCurve3:Hx,EllipseCurve:TS,LineCurve:Ms,LineCurve3:Dq,QuadraticBezierCurve:od,QuadraticBezierCurve3:Bwe,SplineCurve:Z5}),jq=class extends kl{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){let e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ms(t,e))}getPoint(e,t){let r=e*this.getLength(),n=this.getCurveLengths(),i=0;for(;i<n.length;){if(n[i]>=r){let o=n[i]-r,l=this.curves[i],c=l.getLength(),a=c===0?0:1-o/c;return l.getPointAt(a,t)}i++}return null}getLength(){let e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;let e=[],t=0;for(let r=0,n=this.curves.length;r<n;r++)t+=this.curves[r].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){let t=[];for(let r=0;r<=e;r++)t.push(this.getPoint(r/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){let t=[],r;for(let n=0,i=this.curves;n<i.length;n++){let o=i[n],l=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,c=o.getPoints(l);for(let a=0;a<c.length;a++){let s=c[a];r&&r.equals(s)||(t.push(s),r=s)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let n=e.curves[t];this.curves.push(n.clone())}return this.autoClose=e.autoClose,this}toJSON(){let e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,r=this.curves.length;t<r;t++){let n=this.curves[t];e.curves.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,r=e.curves.length;t<r;t++){let n=e.curves[t];this.curves.push(new Fwe[n.type]().fromJSON(n))}return this}},n_=class extends jq{constructor(e){super(),this.type="Path",this.currentPoint=new re,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,r=e.length;t<r;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){let r=new Ms(this.currentPoint.clone(),new re(e,t));return this.curves.push(r),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,r,n){let i=new od(this.currentPoint.clone(),new re(e,t),new re(r,n));return this.curves.push(i),this.currentPoint.set(r,n),this}bezierCurveTo(e,t,r,n,i,o){let l=new xs(this.currentPoint.clone(),new re(e,t),new re(r,n),new re(i,o));return this.curves.push(l),this.currentPoint.set(i,o),this}splineThru(e){let t=[this.currentPoint.clone()].concat(e),r=new Z5(t);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,r,n,i,o){let l=this.currentPoint.x,c=this.currentPoint.y;return this.absarc(e+l,t+c,r,n,i,o),this}absarc(e,t,r,n,i,o){return this.absellipse(e,t,r,r,n,i,o),this}ellipse(e,t,r,n,i,o,l,c){let a=this.currentPoint.x,s=this.currentPoint.y;return this.absellipse(e+a,t+s,r,n,i,o,l,c),this}absellipse(e,t,r,n,i,o,l,c){let a=new TS(e,t,r,n,i,o,l,c);if(this.curves.length>0){let u=a.getPoint(0);u.equals(this.currentPoint)||this.lineTo(u.x,u.y)}this.curves.push(a);let s=a.getPoint(1);return this.currentPoint.copy(s),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){let e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},Iq=class extends lt{constructor(e=[new re(0,-.5),new re(.5,0),new re(0,.5)],t=12,r=0,n=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:r,phiLength:n},t=Math.floor(t),n=zn(n,0,Math.PI*2);let i=[],o=[],l=[],c=[],a=[],s=1/t,u=new L,d=new re,h=new L,p=new L,m=new L,f=0,g=0;for(let v=0;v<=e.length-1;v++)switch(v){case 0:f=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=g*1,h.y=-f,h.z=g*0,m.copy(h),h.normalize(),c.push(h.x,h.y,h.z);break;case e.length-1:c.push(m.x,m.y,m.z);break;default:f=e[v+1].x-e[v].x,g=e[v+1].y-e[v].y,h.x=g*1,h.y=-f,h.z=g*0,p.copy(h),h.x+=m.x,h.y+=m.y,h.z+=m.z,h.normalize(),c.push(h.x,h.y,h.z),m.copy(p)}for(let v=0;v<=t;v++){let x=r+v*s*n,y=Math.sin(x),b=Math.cos(x);for(let w=0;w<=e.length-1;w++){u.x=e[w].x*y,u.y=e[w].y,u.z=e[w].x*b,o.push(u.x,u.y,u.z),d.x=v/t,d.y=w/(e.length-1),l.push(d.x,d.y);let _=c[3*w+0]*y,S=c[3*w+1],E=c[3*w+0]*b;a.push(_,S,E)}}for(let v=0;v<t;v++)for(let x=0;x<e.length-1;x++){let y=x+v*e.length,b=y,w=y+e.length,_=y+e.length+1,S=y+1;i.push(b,w,S),i.push(_,S,w)}this.setIndex(i),this.setAttribute("position",new Ze(o,3)),this.setAttribute("uv",new Ze(l,2)),this.setAttribute("normal",new Ze(a,3))}static fromJSON(e){return new Iq(e.points,e.segments,e.phiStart,e.phiLength)}},J5=class extends lt{constructor(e=1,t=1,r=1,n=32,i=1,o=!1,l=0,c=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:r,radialSegments:n,heightSegments:i,openEnded:o,thetaStart:l,thetaLength:c};let a=this;n=Math.floor(n),i=Math.floor(i);let s=[],u=[],d=[],h=[],p=0,m=[],f=r/2,g=0;v(),o===!1&&(e>0&&x(!0),t>0&&x(!1)),this.setIndex(s),this.setAttribute("position",new Ze(u,3)),this.setAttribute("normal",new Ze(d,3)),this.setAttribute("uv",new Ze(h,2));function v(){let y=new L,b=new L,w=0,_=(t-e)/r;for(let S=0;S<=i;S++){let E=[],A=S/i,C=A*(t-e)+e;for(let M=0;M<=n;M++){let T=M/n,k=T*c+l,P=Math.sin(k),D=Math.cos(k);b.x=C*P,b.y=-A*r+f,b.z=C*D,u.push(b.x,b.y,b.z),y.set(P,_,D).normalize(),d.push(y.x,y.y,y.z),h.push(T,1-A),E.push(p++)}m.push(E)}for(let S=0;S<n;S++)for(let E=0;E<i;E++){let A=m[E][S],C=m[E+1][S],M=m[E+1][S+1],T=m[E][S+1];s.push(A,C,T),s.push(C,M,T),w+=6}a.addGroup(g,w,0),g+=w}function x(y){let b=p,w=new re,_=new L,S=0,E=y===!0?e:t,A=y===!0?1:-1;for(let M=1;M<=n;M++)u.push(0,f*A,0),d.push(0,A,0),h.push(.5,.5),p++;let C=p;for(let M=0;M<=n;M++){let T=M/n*c+l,k=Math.cos(T),P=Math.sin(T);_.x=E*P,_.y=f*A,_.z=E*k,u.push(_.x,_.y,_.z),d.push(0,A,0),w.x=k*.5+.5,w.y=P*.5*A+.5,h.push(w.x,w.y),p++}for(let M=0;M<n;M++){let T=b+M,k=C+M;y===!0?s.push(k,k+1,T):s.push(k+1,k,T),S+=3}a.addGroup(g,S,y===!0?1:2),g+=S}}static fromJSON(e){return new J5(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},Oq=class extends J5{constructor(e=1,t=1,r=32,n=1,i=!1,o=0,l=Math.PI*2){super(0,e,t,r,n,i,o,l),this.type="ConeGeometry",this.parameters={radius:e,height:t,radialSegments:r,heightSegments:n,openEnded:i,thetaStart:o,thetaLength:l}}static fromJSON(e){return new Oq(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}},eD=class extends lt{constructor(e=[],t=[],r=1,n=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:r,detail:n};let i=[],o=[];l(n),a(r),s(),this.setAttribute("position",new Ze(i,3)),this.setAttribute("normal",new Ze(i.slice(),3)),this.setAttribute("uv",new Ze(o,2)),n===0?this.computeVertexNormals():this.normalizeNormals();function l(v){let x=new L,y=new L,b=new L;for(let w=0;w<t.length;w+=3)h(t[w+0],x),h(t[w+1],y),h(t[w+2],b),c(x,y,b,v)}function c(v,x,y,b){let w=b+1,_=[];for(let S=0;S<=w;S++){_[S]=[];let E=v.clone().lerp(y,S/w),A=x.clone().lerp(y,S/w),C=w-S;for(let M=0;M<=C;M++)M===0&&S===w?_[S][M]=E:_[S][M]=E.clone().lerp(A,M/C)}for(let S=0;S<w;S++)for(let E=0;E<2*(w-S)-1;E++){let A=Math.floor(E/2);E%2===0?(d(_[S][A+1]),d(_[S+1][A]),d(_[S][A])):(d(_[S][A+1]),d(_[S+1][A+1]),d(_[S+1][A]))}}function a(v){let x=new L;for(let y=0;y<i.length;y+=3)x.x=i[y+0],x.y=i[y+1],x.z=i[y+2],x.normalize().multiplyScalar(v),i[y+0]=x.x,i[y+1]=x.y,i[y+2]=x.z}function s(){let v=new L;for(let x=0;x<i.length;x+=3){v.x=i[x+0],v.y=i[x+1],v.z=i[x+2];let y=f(v)/2/Math.PI+.5,b=g(v)/Math.PI+.5;o.push(y,1-b)}p(),u()}function u(){for(let v=0;v<o.length;v+=6){let x=o[v+0],y=o[v+2],b=o[v+4],w=Math.max(x,y,b),_=Math.min(x,y,b);w>.9&&_<.1&&(x<.2&&(o[v+0]+=1),y<.2&&(o[v+2]+=1),b<.2&&(o[v+4]+=1))}}function d(v){i.push(v.x,v.y,v.z)}function h(v,x){let y=v*3;x.x=e[y+0],x.y=e[y+1],x.z=e[y+2]}function p(){let v=new L,x=new L,y=new L,b=new L,w=new re,_=new re,S=new re;for(let E=0,A=0;E<i.length;E+=9,A+=6){v.set(i[E+0],i[E+1],i[E+2]),x.set(i[E+3],i[E+4],i[E+5]),y.set(i[E+6],i[E+7],i[E+8]),w.set(o[A+0],o[A+1]),_.set(o[A+2],o[A+3]),S.set(o[A+4],o[A+5]),b.copy(v).add(x).add(y).divideScalar(3);let C=f(b);m(w,A+0,v,C),m(_,A+2,x,C),m(S,A+4,y,C)}}function m(v,x,y,b){b<0&&v.x===1&&(o[x]=v.x-1),y.x===0&&y.z===0&&(o[x]=b/2/Math.PI+.5)}function f(v){return Math.atan2(v.z,-v.x)}function g(v){return Math.atan2(-v.y,Math.sqrt(v.x*v.x+v.z*v.z))}}static fromJSON(e){return new eD(e.vertices,e.indices,e.radius,e.details)}},Rq=class extends eD{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,n=1/r,i=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-r,0,-n,r,0,n,-r,0,n,r,-n,-r,0,-n,r,0,n,-r,0,n,r,0,-r,0,-n,r,0,-n,-r,0,n,r,0,n],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(i,o,e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Rq(e.radius,e.detail)}},i_=class extends n_{constructor(e){super(e),this.uuid=Va(),this.type="Shape",this.holes=[]}getPointsHoles(e){let t=[];for(let r=0,n=this.holes.length;r<n;r++)t[r]=this.holes[r].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let n=e.holes[t];this.holes.push(n.clone())}return this}toJSON(){let e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,r=this.holes.length;t<r;t++){let n=this.holes[t];e.holes.push(n.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,r=e.holes.length;t<r;t++){let n=e.holes[t];this.holes.push(new n_().fromJSON(n))}return this}},Uwe={triangulate:function(e,t,r=2){let n=t&&t.length,i=n?t[0]*r:e.length,o=zq(e,0,i,r,!0),l=[];if(!o||o.next===o.prev)return l;let c,a,s,u,d,h,p;if(n&&(o=qwe(e,t,o,r)),e.length>80*r){c=s=e[0],a=u=e[1];for(let m=r;m<i;m+=r)d=e[m],h=e[m+1],d<c&&(c=d),h<a&&(a=h),d>s&&(s=d),h>u&&(u=h);p=Math.max(s-c,u-a),p=p!==0?32767/p:0}return dy(o,l,r,c,a,p,0),l}};function zq(e,t,r,n,i){let o,l;if(i===n_e(e,t,r,n)>0)for(o=t;o<r;o+=n)l=CL(o,e[o],e[o+1],l);else for(o=r-n;o>=t;o-=n)l=CL(o,e[o],e[o+1],l);return l&&PS(l,l.next)&&(py(l),l=l.next),l}function Gh(e,t){if(!e)return e;t||(t=e);let r=e,n;do if(n=!1,!r.steiner&&(PS(r,r.next)||en(r.prev,r,r.next)===0)){if(py(r),r=t=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==t);return t}function dy(e,t,r,n,i,o,l){if(!e)return;!l&&o&&Qwe(e,n,i,o);let c=e,a,s;for(;e.prev!==e.next;){if(a=e.prev,s=e.next,o?Hwe(e,n,i,o):Vwe(e)){t.push(a.i/r|0),t.push(e.i/r|0),t.push(s.i/r|0),py(e),e=s.next,c=s.next;continue}if(e=s,e===c){l?l===1?(e=Wwe(Gh(e),t,r),dy(e,t,r,n,i,o,2)):l===2&&Gwe(e,t,r,n,i,o):dy(Gh(e),t,r,n,i,o,1);break}}}function Vwe(e){let t=e.prev,r=e,n=e.next;if(en(t,r,n)>=0)return!1;let i=t.x,o=r.x,l=n.x,c=t.y,a=r.y,s=n.y,u=i<o?i<l?i:l:o<l?o:l,d=c<a?c<s?c:s:a<s?a:s,h=i>o?i>l?i:l:o>l?o:l,p=c>a?c>s?c:s:a>s?a:s,m=n.next;for(;m!==t;){if(m.x>=u&&m.x<=h&&m.y>=d&&m.y<=p&&Nf(i,c,o,a,l,s,m.x,m.y)&&en(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Hwe(e,t,r,n){let i=e.prev,o=e,l=e.next;if(en(i,o,l)>=0)return!1;let c=i.x,a=o.x,s=l.x,u=i.y,d=o.y,h=l.y,p=c<a?c<s?c:s:a<s?a:s,m=u<d?u<h?u:h:d<h?d:h,f=c>a?c>s?c:s:a>s?a:s,g=u>d?u>h?u:h:d>h?d:h,v=DT(p,m,t,r,n),x=DT(f,g,t,r,n),y=e.prevZ,b=e.nextZ;for(;y&&y.z>=v&&b&&b.z<=x;){if(y.x>=p&&y.x<=f&&y.y>=m&&y.y<=g&&y!==i&&y!==l&&Nf(c,u,a,d,s,h,y.x,y.y)&&en(y.prev,y,y.next)>=0||(y=y.prevZ,b.x>=p&&b.x<=f&&b.y>=m&&b.y<=g&&b!==i&&b!==l&&Nf(c,u,a,d,s,h,b.x,b.y)&&en(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;y&&y.z>=v;){if(y.x>=p&&y.x<=f&&y.y>=m&&y.y<=g&&y!==i&&y!==l&&Nf(c,u,a,d,s,h,y.x,y.y)&&en(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;b&&b.z<=x;){if(b.x>=p&&b.x<=f&&b.y>=m&&b.y<=g&&b!==i&&b!==l&&Nf(c,u,a,d,s,h,b.x,b.y)&&en(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function Wwe(e,t,r){let n=e;do{let i=n.prev,o=n.next.next;!PS(i,o)&&Lq(i,n,n.next,o)&&hy(i,o)&&hy(o,i)&&(t.push(i.i/r|0),t.push(n.i/r|0),t.push(o.i/r|0),py(n),py(n.next),n=e=o),n=n.next}while(n!==e);return Gh(n)}function Gwe(e,t,r,n,i,o){let l=e;do{let c=l.next.next;for(;c!==l.prev;){if(l.i!==c.i&&e_e(l,c)){let a=Nq(l,c);l=Gh(l,l.next),a=Gh(a,a.next),dy(l,t,r,n,i,o,0),dy(a,t,r,n,i,o,0);return}c=c.next}l=l.next}while(l!==e)}function qwe(e,t,r,n){let i=[],o,l,c,a,s;for(o=0,l=t.length;o<l;o++)c=t[o]*n,a=o<l-1?t[o+1]*n:e.length,s=zq(e,c,a,n,!1),s===s.next&&(s.steiner=!0),i.push(Jwe(s));for(i.sort(Ywe),o=0;o<i.length;o++)r=$we(i[o],r);return r}function Ywe(e,t){return e.x-t.x}function $we(e,t){let r=Xwe(e,t);if(!r)return t;let n=Nq(r,e);return Gh(n,n.next),Gh(r,r.next)}function Xwe(e,t){let r=t,n=-1/0,i,o=e.x,l=e.y;do{if(l<=r.y&&l>=r.next.y&&r.next.y!==r.y){let h=r.x+(l-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(h<=o&&h>n&&(n=h,i=r.x<r.next.x?r:r.next,h===o))return i}r=r.next}while(r!==t);if(!i)return null;let c=i,a=i.x,s=i.y,u=1/0,d;r=i;do o>=r.x&&r.x>=a&&o!==r.x&&Nf(l<s?o:n,l,a,s,l<s?n:o,l,r.x,r.y)&&(d=Math.abs(l-r.y)/(o-r.x),hy(r,e)&&(d<u||d===u&&(r.x>i.x||r.x===i.x&&Kwe(i,r)))&&(i=r,u=d)),r=r.next;while(r!==c);return i}function Kwe(e,t){return en(e.prev,e,t.prev)<0&&en(t.next,e,e.next)<0}function Qwe(e,t,r,n){let i=e;do i.z===0&&(i.z=DT(i.x,i.y,t,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,Zwe(i)}function Zwe(e){let t,r,n,i,o,l,c,a,s=1;do{for(r=e,e=null,o=null,l=0;r;){for(l++,n=r,c=0,t=0;t<s&&(c++,n=n.nextZ,!!n);t++);for(a=s;c>0||a>0&&n;)c!==0&&(a===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,c--):(i=n,n=n.nextZ,a--),o?o.nextZ=i:e=i,i.prevZ=o,o=i;r=n}o.nextZ=null,s*=2}while(l>1);return e}function DT(e,t,r,n,i){return e=(e-r)*i|0,t=(t-n)*i|0,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e|t<<1}function Jwe(e){let t=e,r=e;do(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next;while(t!==e);return r}function Nf(e,t,r,n,i,o,l,c){return(i-l)*(t-c)>=(e-l)*(o-c)&&(e-l)*(n-c)>=(r-l)*(t-c)&&(r-l)*(o-c)>=(i-l)*(n-c)}function e_e(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!t_e(e,t)&&(hy(e,t)&&hy(t,e)&&r_e(e,t)&&(en(e.prev,e,t.prev)||en(e,t.prev,t))||PS(e,t)&&en(e.prev,e,e.next)>0&&en(t.prev,t,t.next)>0)}function en(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function PS(e,t){return e.x===t.x&&e.y===t.y}function Lq(e,t,r,n){let i=mb(en(e,t,r)),o=mb(en(e,t,n)),l=mb(en(r,n,e)),c=mb(en(r,n,t));return!!(i!==o&&l!==c||i===0&&fb(e,r,t)||o===0&&fb(e,n,t)||l===0&&fb(r,e,n)||c===0&&fb(r,t,n))}function fb(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function mb(e){return e>0?1:e<0?-1:0}function t_e(e,t){let r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&Lq(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function hy(e,t){return en(e.prev,e,e.next)<0?en(e,t,e.next)>=0&&en(e,e.prev,t)>=0:en(e,t,e.prev)<0||en(e,e.next,t)<0}function r_e(e,t){let r=e,n=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do r.y>o!=r.next.y>o&&r.next.y!==r.y&&i<(r.next.x-r.x)*(o-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==e);return n}function Nq(e,t){let r=new jT(e.i,e.x,e.y),n=new jT(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,r.next=i,i.prev=r,n.next=r,r.prev=n,o.next=n,n.prev=o,n}function CL(e,t,r,n){let i=new jT(e,t,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function py(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function jT(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function n_e(e,t,r,n){let i=0;for(let o=t,l=r-n;o<r;o+=n)i+=(e[l]-e[o])*(e[o+1]+e[l+1]),l=o;return i}var Bq=class{static area(e){let t=e.length,r=0;for(let n=t-1,i=0;i<t;n=i++)r+=e[n].x*e[i].y-e[i].x*e[n].y;return r*.5}static isClockWise(e){return Bq.area(e)<0}static triangulateShape(e,t){let r=[],n=[],i=[];AL(e),ML(r,e);let o=e.length;t.forEach(AL);for(let c=0;c<t.length;c++)n.push(o),o+=t[c].length,ML(r,t[c]);let l=Uwe.triangulate(r,n);for(let c=0;c<l.length;c+=3)i.push(l.slice(c,c+3));return i}};function AL(e){let t=e.length;t>2&&e[t-1].equals(e[0])&&e.pop()}function ML(e,t){for(let r=0;r<t.length;r++)e.push(t[r].x),e.push(t[r].y)}var Fq=class extends eD{constructor(e=1,t=0){let r=(1+Math.sqrt(5))/2,n=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],i=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(n,i,e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new Fq(e.radius,e.detail)}},tD=class extends lt{constructor(e=1,t=32,r=16,n=0,i=Math.PI*2,o=0,l=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:r,phiStart:n,phiLength:i,thetaStart:o,thetaLength:l},t=Math.max(3,Math.floor(t)),r=Math.max(2,Math.floor(r));let c=Math.min(o+l,Math.PI),a=0,s=[],u=new L,d=new L,h=[],p=[],m=[],f=[];for(let g=0;g<=r;g++){let v=[],x=g/r,y=0;g==0&&o==0?y=.5/t:g==r&&c==Math.PI&&(y=-.5/t);for(let b=0;b<=t;b++){let w=b/t;u.x=-e*Math.cos(n+w*i)*Math.sin(o+x*l),u.y=e*Math.cos(o+x*l),u.z=e*Math.sin(n+w*i)*Math.sin(o+x*l),p.push(u.x,u.y,u.z),d.copy(u).normalize(),m.push(d.x,d.y,d.z),f.push(w+y,1-x),v.push(a++)}s.push(v)}for(let g=0;g<r;g++)for(let v=0;v<t;v++){let x=s[g][v+1],y=s[g][v],b=s[g+1][v],w=s[g+1][v+1];(g!==0||o>0)&&h.push(x,y,w),(g!==r-1||c<Math.PI)&&h.push(y,b,w)}this.setIndex(h),this.setAttribute("position",new Ze(p,3)),this.setAttribute("normal",new Ze(m,3)),this.setAttribute("uv",new Ze(f,2))}static fromJSON(e){return new tD(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}},Uq=class extends lt{constructor(e=1,t=.4,r=64,n=8,i=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:r,radialSegments:n,p:i,q:o},r=Math.floor(r),n=Math.floor(n);let l=[],c=[],a=[],s=[],u=new L,d=new L,h=new L,p=new L,m=new L,f=new L,g=new L;for(let x=0;x<=r;++x){let y=x/r*i*Math.PI*2;v(y,i,o,e,h),v(y+.01,i,o,e,p),f.subVectors(p,h),g.addVectors(p,h),m.crossVectors(f,g),g.crossVectors(m,f),m.normalize(),g.normalize();for(let b=0;b<=n;++b){let w=b/n*Math.PI*2,_=-t*Math.cos(w),S=t*Math.sin(w);u.x=h.x+(_*g.x+S*m.x),u.y=h.y+(_*g.y+S*m.y),u.z=h.z+(_*g.z+S*m.z),c.push(u.x,u.y,u.z),d.subVectors(u,h).normalize(),a.push(d.x,d.y,d.z),s.push(x/r),s.push(b/n)}}for(let x=1;x<=r;x++)for(let y=1;y<=n;y++){let b=(n+1)*(x-1)+(y-1),w=(n+1)*x+(y-1),_=(n+1)*x+y,S=(n+1)*(x-1)+y;l.push(b,w,S),l.push(w,_,S)}this.setIndex(l),this.setAttribute("position",new Ze(c,3)),this.setAttribute("normal",new Ze(a,3)),this.setAttribute("uv",new Ze(s,2));function v(x,y,b,w,_){let S=Math.cos(x),E=Math.sin(x),A=b/y*x,C=Math.cos(A);_.x=w*(2+C)*.5*S,_.y=w*(2+C)*E*.5,_.z=w*Math.sin(A)*.5}}static fromJSON(e){return new Uq(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}};function Zc(e,t,r){return Vq(e)?new e.constructor(e.subarray(t,r!==void 0?r:e.length)):e.slice(t,r)}function gb(e,t,r){return!e||!r&&e.constructor===t?e:typeof t.BYTES_PER_ELEMENT=="number"?new t(e):Array.prototype.slice.call(e)}function Vq(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function i_e(e){function t(i,o){return e[i]-e[o]}let r=e.length,n=new Array(r);for(let i=0;i!==r;++i)n[i]=i;return n.sort(t),n}function TL(e,t,r){let n=e.length,i=new e.constructor(n);for(let o=0,l=0;l!==n;++o){let c=r[o]*t;for(let a=0;a!==t;++a)i[l++]=e[c+a]}return i}function Hq(e,t,r,n){let i=1,o=e[0];for(;o!==void 0&&o[n]===void 0;)o=e[i++];if(o===void 0)return;let l=o[n];if(l!==void 0)if(Array.isArray(l))do l=o[n],l!==void 0&&(t.push(o.time),r.push.apply(r,l)),o=e[i++];while(o!==void 0);else if(l.toArray!==void 0)do l=o[n],l!==void 0&&(t.push(o.time),l.toArray(r,r.length)),o=e[i++];while(o!==void 0);else do l=o[n],l!==void 0&&(t.push(o.time),r.push(l)),o=e[i++];while(o!==void 0)}var kS=class{constructor(e,t,r,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=n!==void 0?n:new t.constructor(r),this.sampleValues=t,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){let t=this.parameterPositions,r=this._cachedIndex,n=t[r],i=t[r-1];e:{t:{let o;r:{n:if(!(e<n)){for(let l=r+2;;){if(n===void 0){if(e<i)break n;return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===l)break;if(i=n,n=t[++r],e<n)break t}o=t.length;break r}if(!(e>=i)){let l=t[1];e<l&&(r=2,i=l);for(let c=r-2;;){if(i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===c)break;if(n=i,i=t[--r-1],e>=i)break t}o=r,r=0;break r}break e}for(;r<o;){let l=r+o>>>1;e<t[l]?o=l:r=l+1}if(n=t[r],i=t[r-1],i===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(n===void 0)return r=t.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,i,n)}return this.interpolate_(r,i,e,n)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){let t=this.resultBuffer,r=this.sampleValues,n=this.valueSize,i=e*n;for(let o=0;o!==n;++o)t[o]=r[i+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}},o_e=class extends kS{constructor(e,t,r,n){super(e,t,r,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Of,endingEnd:Of}}intervalChanged_(e,t,r){let n=this.parameterPositions,i=e-2,o=e+1,l=n[i],c=n[o];if(l===void 0)switch(this.getSettings_().endingStart){case Rf:i=e,l=2*t-r;break;case Zw:i=n.length-2,l=t+n[i]-n[i+1];break;default:i=e,l=r}if(c===void 0)switch(this.getSettings_().endingEnd){case Rf:o=e,c=2*r-t;break;case Zw:o=1,c=r+n[1]-n[0];break;default:o=e-1,c=t}let a=(r-t)*.5,s=this.valueSize;this._weightPrev=a/(t-l),this._weightNext=a/(c-r),this._offsetPrev=i*s,this._offsetNext=o*s}interpolate_(e,t,r,n){let i=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,a=c-l,s=this._offsetPrev,u=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(r-t)/(n-t),m=p*p,f=m*p,g=-d*f+2*d*m-d*p,v=(1+d)*f+(-1.5-2*d)*m+(-.5+d)*p+1,x=(-1-h)*f+(1.5+h)*m+.5*p,y=h*f-h*m;for(let b=0;b!==l;++b)i[b]=g*o[s+b]+v*o[a+b]+x*o[c+b]+y*o[u+b];return i}},Wq=class extends kS{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e,t,r,n){let i=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=e*l,a=c-l,s=(r-t)/(n-t),u=1-s;for(let d=0;d!==l;++d)i[d]=o[a+d]*u+o[c+d]*s;return i}},a_e=class extends kS{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e){return this.copySampleValue_(e-1)}},Dl=class{constructor(e,t,r,n){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=gb(t,this.TimeBufferType),this.values=gb(r,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation)}static toJSON(e){let t=e.constructor,r;if(t.toJSON!==this.toJSON)r=t.toJSON(e);else{r={name:e.name,times:gb(e.times,Array),values:gb(e.values,Array)};let n=e.getInterpolation();n!==e.DefaultInterpolation&&(r.interpolation=n)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new a_e(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new Wq(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new o_e(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case Kw:t=this.InterpolantFactoryMethodDiscrete;break;case Qw:t=this.InterpolantFactoryMethodLinear;break;case TE:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){let r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Kw;case this.InterpolantFactoryMethodLinear:return Qw;case this.InterpolantFactoryMethodSmooth:return TE}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){let t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]+=e}return this}scale(e){if(e!==1){let t=this.times;for(let r=0,n=t.length;r!==n;++r)t[r]*=e}return this}trim(e,t){let r=this.times,n=r.length,i=0,o=n-1;for(;i!==n&&r[i]<e;)++i;for(;o!==-1&&r[o]>t;)--o;if(++o,i!==0||o!==n){i>=o&&(o=Math.max(o,1),i=o-1);let l=this.getValueSize();this.times=Zc(r,i,o),this.values=Zc(this.values,i*l,o*l)}return this}validate(){let e=!0,t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);let r=this.times,n=this.values,i=r.length;i===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let l=0;l!==i;l++){let c=r[l];if(typeof c=="number"&&isNaN(c)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,l,c),e=!1;break}if(o!==null&&o>c){console.error("THREE.KeyframeTrack: Out of order keys.",this,l,c,o),e=!1;break}o=c}if(n!==void 0&&Vq(n))for(let l=0,c=n.length;l!==c;++l){let a=n[l];if(isNaN(a)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,l,a),e=!1;break}}return e}optimize(){let e=Zc(this.times),t=Zc(this.values),r=this.getValueSize(),n=this.getInterpolation()===TE,i=e.length-1,o=1;for(let l=1;l<i;++l){let c=!1,a=e[l],s=e[l+1];if(a!==s&&(l!==1||a!==e[0]))if(n)c=!0;else{let u=l*r,d=u-r,h=u+r;for(let p=0;p!==r;++p){let m=t[u+p];if(m!==t[d+p]||m!==t[h+p]){c=!0;break}}}if(c){if(l!==o){e[o]=e[l];let u=l*r,d=o*r;for(let h=0;h!==r;++h)t[d+h]=t[u+h]}++o}}if(i>0){e[o]=e[i];for(let l=i*r,c=o*r,a=0;a!==r;++a)t[c+a]=t[l+a];++o}return o!==e.length?(this.times=Zc(e,0,o),this.values=Zc(t,0,o*r)):(this.times=e,this.values=t),this}clone(){let e=Zc(this.times,0),t=Zc(this.values,0),r=this.constructor,n=new r(this.name,e,t);return n.createInterpolant=this.createInterpolant,n}};Dl.prototype.TimeBufferType=Float32Array;Dl.prototype.ValueBufferType=Float32Array;Dl.prototype.DefaultInterpolation=Qw;var bg=class extends Dl{};bg.prototype.ValueTypeName="bool";bg.prototype.ValueBufferType=Array;bg.prototype.DefaultInterpolation=Kw;bg.prototype.InterpolantFactoryMethodLinear=void 0;bg.prototype.InterpolantFactoryMethodSmooth=void 0;var Gq=class extends Dl{};Gq.prototype.ValueTypeName="color";var o_=class extends Dl{};o_.prototype.ValueTypeName="number";var s_e=class extends kS{constructor(e,t,r,n){super(e,t,r,n)}interpolate_(e,t,r,n){let i=this.resultBuffer,o=this.sampleValues,l=this.valueSize,c=(r-t)/(n-t),a=e*l;for(let s=a+l;a!==s;a+=4)Ct.slerpFlat(i,0,o,a-l,o,a,c);return i}},i1=class extends Dl{InterpolantFactoryMethodLinear(e){return new s_e(this.times,this.values,this.getValueSize(),e)}};i1.prototype.ValueTypeName="quaternion";i1.prototype.DefaultInterpolation=Qw;i1.prototype.InterpolantFactoryMethodSmooth=void 0;var xg=class extends Dl{};xg.prototype.ValueTypeName="string";xg.prototype.ValueBufferType=Array;xg.prototype.DefaultInterpolation=Kw;xg.prototype.InterpolantFactoryMethodLinear=void 0;xg.prototype.InterpolantFactoryMethodSmooth=void 0;var a_=class extends Dl{};a_.prototype.ValueTypeName="vector";var IT=class{constructor(e,t=-1,r,n=H5){this.name=e,this.tracks=r,this.duration=t,this.blendMode=n,this.uuid=Va(),this.duration<0&&this.resetDuration()}static parse(e){let t=[],r=e.tracks,n=1/(e.fps||1);for(let o=0,l=r.length;o!==l;++o)t.push(c_e(r[o]).scale(n));let i=new this(e.name,e.duration,t,e.blendMode);return i.uuid=e.uuid,i}static toJSON(e){let t=[],r=e.tracks,n={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let i=0,o=r.length;i!==o;++i)t.push(Dl.toJSON(r[i]));return n}static CreateFromMorphTargetSequence(e,t,r,n){let i=t.length,o=[];for(let l=0;l<i;l++){let c=[],a=[];c.push((l+i-1)%i,l,(l+1)%i),a.push(0,1,0);let s=i_e(c);c=TL(c,1,s),a=TL(a,1,s),!n&&c[0]===0&&(c.push(i),a.push(a[0])),o.push(new o_(".morphTargetInfluences["+t[l].name+"]",c,a).scale(1/r))}return new this(e,-1,o)}static findByName(e,t){let r=e;if(!Array.isArray(e)){let n=e;r=n.geometry&&n.geometry.animations||n.animations}for(let n=0;n<r.length;n++)if(r[n].name===t)return r[n];return null}static CreateClipsFromMorphTargetSequences(e,t,r){let n={},i=/^([\w-]*?)([\d]+)$/;for(let l=0,c=e.length;l<c;l++){let a=e[l],s=a.name.match(i);if(s&&s.length>1){let u=s[1],d=n[u];d||(n[u]=d=[]),d.push(a)}}let o=[];for(let l in n)o.push(this.CreateFromMorphTargetSequence(l,n[l],t,r));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;let r=function(s,u,d,h,p){if(d.length!==0){let m=[],f=[];Hq(d,m,f,h),m.length!==0&&p.push(new s(u,m,f))}},n=[],i=e.name||"default",o=e.fps||30,l=e.blendMode,c=e.length||-1,a=e.hierarchy||[];for(let s=0;s<a.length;s++){let u=a[s].keys;if(!(!u||u.length===0))if(u[0].morphTargets){let d={},h;for(h=0;h<u.length;h++)if(u[h].morphTargets)for(let p=0;p<u[h].morphTargets.length;p++)d[u[h].morphTargets[p]]=-1;for(let p in d){let m=[],f=[];for(let g=0;g!==u[h].morphTargets.length;++g){let v=u[h];m.push(v.time),f.push(v.morphTarget===p?1:0)}n.push(new o_(".morphTargetInfluence["+p+"]",m,f))}c=d.length*o}else{let d=".bones["+t[s].name+"]";r(a_,d+".position",u,"pos",n),r(i1,d+".quaternion",u,"rot",n),r(a_,d+".scale",u,"scl",n)}}return n.length===0?null:new this(i,c,n,l)}resetDuration(){let e=this.tracks,t=0;for(let r=0,n=e.length;r!==n;++r){let i=this.tracks[r];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){let e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}};function l_e(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return o_;case"vector":case"vector2":case"vector3":case"vector4":return a_;case"color":return Gq;case"quaternion":return i1;case"bool":case"boolean":return bg;case"string":return xg}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+e)}function c_e(e){if(e.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");let t=l_e(e.type);if(e.times===void 0){let r=[],n=[];Hq(e.keys,r,n,"value"),e.times=r,e.values=n}return t.parse!==void 0?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)}var PL={enabled:!1,files:{},add:function(e,t){this.enabled!==!1&&(this.files[e]=t)},get:function(e){if(this.enabled!==!1)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},qq=class{constructor(e,t,r){let n=this,i=!1,o=0,l=0,c,a=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=r,this.itemStart=function(s){l++,i===!1&&n.onStart!==void 0&&n.onStart(s,o,l),i=!0},this.itemEnd=function(s){o++,n.onProgress!==void 0&&n.onProgress(s,o,l),o===l&&(i=!1,n.onLoad!==void 0&&n.onLoad())},this.itemError=function(s){n.onError!==void 0&&n.onError(s)},this.resolveURL=function(s){return c?c(s):s},this.setURLModifier=function(s){return c=s,this},this.addHandler=function(s,u){return a.push(s,u),this},this.removeHandler=function(s){let u=a.indexOf(s);return u!==-1&&a.splice(u,2),this},this.getHandler=function(s){for(let u=0,d=a.length;u<d;u+=2){let h=a[u],p=a[u+1];if(h.global&&(h.lastIndex=0),h.test(s))return p}return null}}},u_e=new qq,rD=class{constructor(e){this.manager=e!==void 0?e:u_e,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){let r=this;return new Promise(function(n,i){r.load(e,n,t,i)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}},Fl={},d_e=class extends Error{constructor(e,t){super(e),this.response=t}},OT=class extends rD{constructor(e){super(e)}load(e,t,r,n){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);let i=PL.get(e);if(i!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(i),this.manager.itemEnd(e)},0),i;if(Fl[e]!==void 0){Fl[e].push({onLoad:t,onProgress:r,onError:n});return}Fl[e]=[],Fl[e].push({onLoad:t,onProgress:r,onError:n});let o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),l=this.mimeType,c=this.responseType;fetch(o).then(a=>{if(a.status===200||a.status===0){if(a.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||a.body===void 0||a.body.getReader===void 0)return a;let s=Fl[e],u=a.body.getReader(),d=a.headers.get("Content-Length")||a.headers.get("X-File-Size"),h=d?parseInt(d):0,p=h!==0,m=0,f=new ReadableStream({start(g){v();function v(){u.read().then(({done:x,value:y})=>{if(x)g.close();else{m+=y.byteLength;let b=new ProgressEvent("progress",{lengthComputable:p,loaded:m,total:h});for(let w=0,_=s.length;w<_;w++){let S=s[w];S.onProgress&&S.onProgress(b)}g.enqueue(y),v()}})}}});return new Response(f)}else throw new d_e(`fetch for "${a.url}" responded with ${a.status}: ${a.statusText}`,a)}).then(a=>{switch(c){case"arraybuffer":return a.arrayBuffer();case"blob":return a.blob();case"document":return a.text().then(s=>new DOMParser().parseFromString(s,l));case"json":return a.json();default:if(l===void 0)return a.text();{let s=/charset="?([^;"\s]*)"?/i.exec(l),u=s&&s[1]?s[1].toLowerCase():void 0,d=new TextDecoder(u);return a.arrayBuffer().then(h=>d.decode(h))}}}).then(a=>{PL.add(e,a);let s=Fl[e];delete Fl[e];for(let u=0,d=s.length;u<d;u++){let h=s[u];h.onLoad&&h.onLoad(a)}}).catch(a=>{let s=Fl[e];if(s===void 0)throw this.manager.itemError(e),a;delete Fl[e];for(let u=0,d=s.length;u<d;u++){let h=s[u];h.onError&&h.onError(a)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}},o1=class extends wr{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ht(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){let t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),t}},h_e=class extends o1{constructor(e,t,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(wr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ht(t)}copy(e,t){return super.copy(e,t),this.groundColor.copy(e.groundColor),this}},iC=new Re,kL=new L,DL=new L,nD=class{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new re(512,512),this.map=null,this.mapPass=null,this.matrix=new Re,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Y5,this._frameExtents=new re(1,1),this._viewportCount=1,this._viewports=[new Ot(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){let t=this.camera,r=this.matrix;kL.setFromMatrixPosition(e.matrixWorld),t.position.copy(kL),DL.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(DL),t.updateMatrixWorld(),iC.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(iC),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(iC)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){let e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}},p_e=class extends nD{constructor(){super(new Pi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){let t=this.camera,r=uy*2*e.angle*this.focus,n=this.mapSize.width/this.mapSize.height,i=e.distance||t.far;(r!==t.fov||n!==t.aspect||i!==t.far)&&(t.fov=r,t.aspect=n,t.far=i,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}},f_e=class extends o1{constructor(e,t,r=0,n=Math.PI/3,i=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(wr.DEFAULT_UP),this.updateMatrix(),this.target=new wr,this.distance=r,this.angle=n,this.penumbra=i,this.decay=o,this.map=null,this.shadow=new p_e}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},jL=new Re,l0=new L,oC=new L,m_e=class extends nD{constructor(){super(new Pi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new re(4,2),this._viewportCount=6,this._viewports=[new Ot(2,1,1,1),new Ot(0,1,1,1),new Ot(3,1,1,1),new Ot(1,1,1,1),new Ot(3,0,1,1),new Ot(1,0,1,1)],this._cubeDirections=[new L(1,0,0),new L(-1,0,0),new L(0,0,1),new L(0,0,-1),new L(0,1,0),new L(0,-1,0)],this._cubeUps=[new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,1,0),new L(0,0,1),new L(0,0,-1)]}updateMatrices(e,t=0){let r=this.camera,n=this.matrix,i=e.distance||r.far;i!==r.far&&(r.far=i,r.updateProjectionMatrix()),l0.setFromMatrixPosition(e.matrixWorld),r.position.copy(l0),oC.copy(r.position),oC.add(this._cubeDirections[t]),r.up.copy(this._cubeUps[t]),r.lookAt(oC),r.updateMatrixWorld(),n.makeTranslation(-l0.x,-l0.y,-l0.z),jL.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(jL)}},g_e=class extends o1{constructor(e,t,r=0,n=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=n,this.shadow=new m_e}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}},v_e=class extends nD{constructor(){super(new $5(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}},y_e=class extends o1{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(wr.DEFAULT_UP),this.updateMatrix(),this.target=new wr,this.shadow=new v_e}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}},Yq=class extends lt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){let e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}},$q=class extends rD{constructor(e){super(e)}load(e,t,r,n){let i=this,o=new OT(i.manager);o.setPath(i.path),o.setRequestHeader(i.requestHeader),o.setWithCredentials(i.withCredentials),o.load(e,function(l){try{t(i.parse(JSON.parse(l)))}catch(c){n?n(c):console.error(c),i.manager.itemError(e)}},r,n)}parse(e){let t={},r={};function n(d,h){if(t[h]!==void 0)return t[h];let p=d.interleavedBuffers[h],m=i(d,p.buffer),f=Y1(p.type,m),g=new Mwe(f,p.stride);return g.uuid=p.uuid,t[h]=g,g}function i(d,h){if(r[h]!==void 0)return r[h];let p=d.arrayBuffers[h],m=new Uint32Array(p).buffer;return r[h]=m,m}let o=e.isInstancedBufferGeometry?new Yq:new lt,l=e.data.index;if(l!==void 0){let d=Y1(l.type,l.array);o.setIndex(new St(d,1))}let c=e.data.attributes;for(let d in c){let h=c[d],p;if(h.isInterleavedBufferAttribute){let m=n(e.data,h.data);p=new kT(m,h.itemSize,h.offset,h.normalized)}else{let m=Y1(h.type,h.array),f=h.isInstancedBufferAttribute?kq:St;p=new f(m,h.itemSize,h.normalized)}h.name!==void 0&&(p.name=h.name),h.usage!==void 0&&p.setUsage(h.usage),h.updateRange!==void 0&&(p.updateRange.offset=h.updateRange.offset,p.updateRange.count=h.updateRange.count),o.setAttribute(d,p)}let a=e.data.morphAttributes;if(a)for(let d in a){let h=a[d],p=[];for(let m=0,f=h.length;m<f;m++){let g=h[m],v;if(g.isInterleavedBufferAttribute){let x=n(e.data,g.data);v=new kT(x,g.itemSize,g.offset,g.normalized)}else{let x=Y1(g.type,g.array);v=new St(x,g.itemSize,g.normalized)}g.name!==void 0&&(v.name=g.name),p.push(v)}o.morphAttributes[d]=p}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);let s=e.data.groups||e.data.drawcalls||e.data.offsets;if(s!==void 0)for(let d=0,h=s.length;d!==h;++d){let p=s[d];o.addGroup(p.start,p.count,p.materialIndex)}let u=e.data.boundingSphere;if(u!==void 0){let d=new L;u.center!==void 0&&d.fromArray(u.center),o.boundingSphere=new Bo(d,u.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}},b_e=class{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=IL(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){let t=IL();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}};function IL(){return(typeof performance>"u"?Date:performance).now()}var x_e=class{constructor(e,t,r){this.binding=e,this.valueSize=r;let n,i,o;switch(t){case"quaternion":n=this._slerp,i=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":n=this._select,i=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:n=this._lerp,i=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=n,this._mixBufferRegionAdditive=i,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,t){let r=this.buffer,n=this.valueSize,i=e*n+n,o=this.cumulativeWeight;if(o===0){for(let l=0;l!==n;++l)r[i+l]=r[l];o=t}else{o+=t;let l=t/o;this._mixBufferRegion(r,i,0,l,n)}this.cumulativeWeight=o}accumulateAdditive(e){let t=this.buffer,r=this.valueSize,n=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(t,n,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){let t=this.valueSize,r=this.buffer,n=e*t+t,i=this.cumulativeWeight,o=this.cumulativeWeightAdditive,l=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,i<1){let c=t*this._origIndex;this._mixBufferRegion(r,n,c,1-i,t)}o>0&&this._mixBufferRegionAdditive(r,n,this._addIndex*t,1,t);for(let c=t,a=t+t;c!==a;++c)if(r[c]!==r[c+t]){l.setValue(r,n);break}}saveOriginalState(){let e=this.binding,t=this.buffer,r=this.valueSize,n=r*this._origIndex;e.getValue(t,n);for(let i=r,o=n;i!==o;++i)t[i]=t[n+i%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){let e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){let e=this._addIndex*this.valueSize,t=e+this.valueSize;for(let r=e;r<t;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){let e=this._origIndex*this.valueSize,t=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[t+r]=this.buffer[e+r]}_select(e,t,r,n,i){if(n>=.5)for(let o=0;o!==i;++o)e[t+o]=e[r+o]}_slerp(e,t,r,n){Ct.slerpFlat(e,t,e,t,e,r,n)}_slerpAdditive(e,t,r,n,i){let o=this._workIndex*i;Ct.multiplyQuaternionsFlat(e,o,e,t,e,r),Ct.slerpFlat(e,t,e,t,e,o,n)}_lerp(e,t,r,n,i){let o=1-n;for(let l=0;l!==i;++l){let c=t+l;e[c]=e[c]*o+e[r+l]*n}}_lerpAdditive(e,t,r,n,i){for(let o=0;o!==i;++o){let l=t+o;e[l]=e[l]+e[r+o]*n}}},iD="\\[\\]\\.:\\/",w_e=new RegExp("["+iD+"]","g"),oD="[^"+iD+"]",__e="[^"+iD.replace("\\.","")+"]",S_e=/((?:WC+[\/:])*)/.source.replace("WC",oD),E_e=/(WCOD+)?/.source.replace("WCOD",__e),C_e=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",oD),A_e=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",oD),M_e=new RegExp("^"+S_e+E_e+C_e+A_e+"$"),T_e=["material","materials","bones","map"],P_e=class{constructor(e,t,r){let n=r||Ar.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)}getValue(e,t){this.bind();let r=this._targetGroup.nCachedObjects_,n=this._bindings[r];n!==void 0&&n.getValue(e,t)}setValue(e,t){let r=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=r.length;n!==i;++n)r[n].setValue(e,t)}bind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].bind()}unbind(){let e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,r=e.length;t!==r;++t)e[t].unbind()}},Ar=class{constructor(e,t,r){this.path=t,this.parsedPath=r||Ar.parseTrackName(t),this.node=Ar.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,r){return e&&e.isAnimationObjectGroup?new Ar.Composite(e,t,r):new Ar(e,t,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(w_e,"")}static parseTrackName(e){let t=M_e.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);let r={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},n=r.nodeName&&r.nodeName.lastIndexOf(".");if(n!==void 0&&n!==-1){let i=r.nodeName.substring(n+1);T_e.indexOf(i)!==-1&&(r.nodeName=r.nodeName.substring(0,n),r.objectName=i)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){let r=e.skeleton.getBoneByName(t);if(r!==void 0)return r}if(e.children){let r=function(i){for(let o=0;o<i.length;o++){let l=i[o];if(l.name===t||l.uuid===t)return l;let c=r(l.children);if(c)return c}return null},n=r(e.children);if(n)return n}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){let r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)e[t++]=r[n]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){let r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++]}_setValue_array_setNeedsUpdate(e,t){let r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){let r=this.resolvedProperty;for(let n=0,i=r.length;n!==i;++n)r[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node,t=this.parsedPath,r=t.objectName,n=t.propertyName,i=t.propertyIndex;if(e||(e=Ar.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(r){let a=t.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let s=0;s<e.length;s++)if(e[s].name===a){a=s;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(a!==void 0){if(e[a]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[a]}}let o=e[n];if(o===void 0){let a=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+a+"."+n+" but it wasn't found.",e);return}let l=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?l=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(l=this.Versioning.MatrixWorldNeedsUpdate);let c=this.BindingType.Direct;if(i!==void 0){if(n==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[i]!==void 0&&(i=e.morphTargetDictionary[i])}c=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=i}else o.fromArray!==void 0&&o.toArray!==void 0?(c=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(c=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=n;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}};Ar.Composite=P_e;Ar.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Ar.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Ar.prototype.GetterByBindingType=[Ar.prototype._getValue_direct,Ar.prototype._getValue_array,Ar.prototype._getValue_arrayElement,Ar.prototype._getValue_toArray];Ar.prototype.SetterByBindingTypeAndVersioning=[[Ar.prototype._setValue_direct,Ar.prototype._setValue_direct_setNeedsUpdate,Ar.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Ar.prototype._setValue_array,Ar.prototype._setValue_array_setNeedsUpdate,Ar.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Ar.prototype._setValue_arrayElement,Ar.prototype._setValue_arrayElement_setNeedsUpdate,Ar.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Ar.prototype._setValue_fromArray,Ar.prototype._setValue_fromArray_setNeedsUpdate,Ar.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];var k_e=class{constructor(e,t,r=null,n=t.blendMode){this._mixer=e,this._clip=t,this._localRoot=r,this.blendMode=n;let i=t.tracks,o=i.length,l=new Array(o),c={endingStart:Of,endingEnd:Of};for(let a=0;a!==o;++a){let s=i[a].createInterpolant(null);l[a]=s,s.settings=c}this._interpolantSettings=c,this._interpolants=l,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=dq,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,t){return this.loop=e,this.repetitions=t,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,t,r){if(e.fadeOut(t),this.fadeIn(t),r){let n=this._clip.duration,i=e._clip.duration,o=i/n,l=n/i;e.warp(1,o,t),this.warp(l,1,t)}return this}crossFadeTo(e,t,r){return e.crossFadeFrom(this,t,r)}stopFading(){let e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,t,r){let n=this._mixer,i=n.time,o=this.timeScale,l=this._timeScaleInterpolant;l===null&&(l=n._lendControlInterpolant(),this._timeScaleInterpolant=l);let c=l.parameterPositions,a=l.sampleValues;return c[0]=i,c[1]=i+r,a[0]=e/o,a[1]=t/o,this}stopWarping(){let e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,t,r,n){if(!this.enabled){this._updateWeight(e);return}let i=this._startTime;if(i!==null){let c=(e-i)*r;c<0||r===0?t=0:(this._startTime=null,t=r*c)}t*=this._updateTimeScale(e);let o=this._updateTime(t),l=this._updateWeight(e);if(l>0){let c=this._interpolants,a=this._propertyBindings;switch(this.blendMode){case dve:for(let s=0,u=c.length;s!==u;++s)c[s].evaluate(o),a[s].accumulateAdditive(l);break;case H5:default:for(let s=0,u=c.length;s!==u;++s)c[s].evaluate(o),a[s].accumulate(n,l)}}}_updateWeight(e){let t=0;if(this.enabled){t=this.weight;let r=this._weightInterpolant;if(r!==null){let n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopFading(),n===0&&(this.enabled=!1))}}return this._effectiveWeight=t,t}_updateTimeScale(e){let t=0;if(!this.paused){t=this.timeScale;let r=this._timeScaleInterpolant;if(r!==null){let n=r.evaluate(e)[0];t*=n,e>r.parameterPositions[1]&&(this.stopWarping(),t===0?this.paused=!0:this.timeScale=t)}}return this._effectiveTimeScale=t,t}_updateTime(e){let t=this._clip.duration,r=this.loop,n=this.time+e,i=this._loopCount,o=r===V5;if(e===0)return i===-1?n:o&&(i&1)===1?t-n:n;if(r===uq){i===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(n>=t)n=t;else if(n<0)n=0;else{this.time=n;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(i===-1&&(e>=0?(i=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),n>=t||n<0){let l=Math.floor(n/t);n-=t*l,i+=Math.abs(l);let c=this.repetitions-i;if(c<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,n=e>0?t:0,this.time=n,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(c===1){let a=e<0;this._setEndings(a,!a,o)}else this._setEndings(!1,!1,o);this._loopCount=i,this.time=n,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:l})}}else this.time=n;if(o&&(i&1)===1)return t-n}return n}_setEndings(e,t,r){let n=this._interpolantSettings;r?(n.endingStart=Rf,n.endingEnd=Rf):(e?n.endingStart=this.zeroSlopeAtStart?Rf:Of:n.endingStart=Zw,t?n.endingEnd=this.zeroSlopeAtEnd?Rf:Of:n.endingEnd=Zw)}_scheduleFading(e,t,r){let n=this._mixer,i=n.time,o=this._weightInterpolant;o===null&&(o=n._lendControlInterpolant(),this._weightInterpolant=o);let l=o.parameterPositions,c=o.sampleValues;return l[0]=i,c[0]=t,l[1]=i+e,c[1]=r,this}},D_e=new Float32Array(1),j_e=class extends wi{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,t){let r=e._localRoot||this._root,n=e._clip.tracks,i=n.length,o=e._propertyBindings,l=e._interpolants,c=r.uuid,a=this._bindingsByRootAndName,s=a[c];s===void 0&&(s={},a[c]=s);for(let u=0;u!==i;++u){let d=n[u],h=d.name,p=s[h];if(p!==void 0)++p.referenceCount,o[u]=p;else{if(p=o[u],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,c,h));continue}let m=t&&t._propertyBindings[u].binding.parsedPath;p=new x_e(Ar.create(r,h,m),d.ValueTypeName,d.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,c,h),o[u]=p}l[u].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){let r=(e._localRoot||this._root).uuid,n=e._clip.uuid,i=this._actionsByClip[n];this._bindAction(e,i&&i.knownActions[0]),this._addInactiveAction(e,n,r)}let t=e._propertyBindings;for(let r=0,n=t.length;r!==n;++r){let i=t[r];i.useCount++===0&&(this._lendBinding(i),i.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){let t=e._propertyBindings;for(let r=0,n=t.length;r!==n;++r){let i=t[r];--i.useCount===0&&(i.restoreOriginalState(),this._takeBackBinding(i))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;let e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){let t=e._cacheIndex;return t!==null&&t<this._nActiveActions}_addInactiveAction(e,t,r){let n=this._actions,i=this._actionsByClip,o=i[t];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,i[t]=o;else{let l=o.knownActions;e._byClipCacheIndex=l.length,l.push(e)}e._cacheIndex=n.length,n.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){let t=this._actions,r=t[t.length-1],n=e._cacheIndex;r._cacheIndex=n,t[n]=r,t.pop(),e._cacheIndex=null;let i=e._clip.uuid,o=this._actionsByClip,l=o[i],c=l.knownActions,a=c[c.length-1],s=e._byClipCacheIndex;a._byClipCacheIndex=s,c[s]=a,c.pop(),e._byClipCacheIndex=null;let u=l.actionByRoot,d=(e._localRoot||this._root).uuid;delete u[d],c.length===0&&delete o[i],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){let t=e._propertyBindings;for(let r=0,n=t.length;r!==n;++r){let i=t[r];--i.referenceCount===0&&this._removeInactiveBinding(i)}}_lendAction(e){let t=this._actions,r=e._cacheIndex,n=this._nActiveActions++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_takeBackAction(e){let t=this._actions,r=e._cacheIndex,n=--this._nActiveActions,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_addInactiveBinding(e,t,r){let n=this._bindingsByRootAndName,i=this._bindings,o=n[t];o===void 0&&(o={},n[t]=o),o[r]=e,e._cacheIndex=i.length,i.push(e)}_removeInactiveBinding(e){let t=this._bindings,r=e.binding,n=r.rootNode.uuid,i=r.path,o=this._bindingsByRootAndName,l=o[n],c=t[t.length-1],a=e._cacheIndex;c._cacheIndex=a,t[a]=c,t.pop(),delete l[i],Object.keys(l).length===0&&delete o[n]}_lendBinding(e){let t=this._bindings,r=e._cacheIndex,n=this._nActiveBindings++,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_takeBackBinding(e){let t=this._bindings,r=e._cacheIndex,n=--this._nActiveBindings,i=t[n];e._cacheIndex=n,t[n]=e,i._cacheIndex=r,t[r]=i}_lendControlInterpolant(){let e=this._controlInterpolants,t=this._nActiveControlInterpolants++,r=e[t];return r===void 0&&(r=new Wq(new Float32Array(2),new Float32Array(2),1,D_e),r.__cacheIndex=t,e[t]=r),r}_takeBackControlInterpolant(e){let t=this._controlInterpolants,r=e.__cacheIndex,n=--this._nActiveControlInterpolants,i=t[n];e.__cacheIndex=n,t[n]=e,i.__cacheIndex=r,t[r]=i}clipAction(e,t,r){let n=t||this._root,i=n.uuid,o=typeof e=="string"?IT.findByName(n,e):e,l=o!==null?o.uuid:e,c=this._actionsByClip[l],a=null;if(r===void 0&&(o!==null?r=o.blendMode:r=H5),c!==void 0){let u=c.actionByRoot[i];if(u!==void 0&&u.blendMode===r)return u;a=c.knownActions[0],o===null&&(o=a._clip)}if(o===null)return null;let s=new k_e(this,o,t,r);return this._bindAction(s,a),this._addInactiveAction(s,l,i),s}existingAction(e,t){let r=t||this._root,n=r.uuid,i=typeof e=="string"?IT.findByName(r,e):e,o=i?i.uuid:e,l=this._actionsByClip[o];return l!==void 0&&l.actionByRoot[n]||null}stopAllAction(){let e=this._actions,t=this._nActiveActions;for(let r=t-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;let t=this._actions,r=this._nActiveActions,n=this.time+=e,i=Math.sign(e),o=this._accuIndex^=1;for(let a=0;a!==r;++a)t[a]._update(n,e,i,o);let l=this._bindings,c=this._nActiveBindings;for(let a=0;a!==c;++a)l[a].apply(o);return this}setTime(e){this.time=0;for(let t=0;t<this._actions.length;t++)this._actions[t].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){let t=this._actions,r=e.uuid,n=this._actionsByClip,i=n[r];if(i!==void 0){let o=i.knownActions;for(let l=0,c=o.length;l!==c;++l){let a=o[l];this._deactivateAction(a);let s=a._cacheIndex,u=t[t.length-1];a._cacheIndex=null,a._byClipCacheIndex=null,u._cacheIndex=s,t[s]=u,t.pop(),this._removeInactiveBindingsForAction(a)}delete n[r]}}uncacheRoot(e){let t=e.uuid,r=this._actionsByClip;for(let o in r){let l=r[o].actionByRoot,c=l[t];c!==void 0&&(this._deactivateAction(c),this._removeInactiveAction(c))}let n=this._bindingsByRootAndName,i=n[t];if(i!==void 0)for(let o in i){let l=i[o];l.restoreOriginalState(),this._removeInactiveBinding(l)}}uncacheAction(e,t){let r=this.existingAction(e,t);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}},Oe=class{constructor(e){this.value=e}clone(){return new Oe(this.value.clone===void 0?this.value:this.value.clone())}},Xq=class{constructor(e,t,r=0,n=1/0){this.ray=new mg(e,t),this.near=r,this.far=n,this.camera=null,this.layers=new G5,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}intersectObject(e,t=!0,r=[]){return RT(e,this,r,t),r.sort(OL),r}intersectObjects(e,t=!0,r=[]){for(let n=0,i=e.length;n<i;n++)RT(e[n],this,r,t);return r.sort(OL),r}};function OL(e,t){return e.distance-t.distance}function RT(e,t,r,n){if(e.layers.test(t.layers)&&e.raycast(t,r),n===!0){let i=e.children;for(let o=0,l=i.length;o<l;o++)RT(i[o],t,r,!0)}}var RL=class{constructor(e=1,t=0,r=0){return this.radius=e,this.phi=t,this.theta=r,this}set(e,t,r){return this.radius=e,this.phi=t,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,r){return this.radius=Math.sqrt(e*e+t*t+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(zn(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}},zL=new re,Kq=class{constructor(e=new re(1/0,1/0),t=new re(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromPoints(e){this.makeEmpty();for(let t=0,r=e.length;t<r;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){let r=zL.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return zL.copy(e).clamp(this.min,this.max).sub(e).length()}intersect(e){return this.min.max(e.min),this.max.min(e.max),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},LL=new L,vb=new L,Ha=class{constructor(e=new L,t=new L){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){LL.subVectors(e,this.start),vb.subVectors(this.end,this.start);let r=vb.dot(vb),n=vb.dot(LL)/r;return t&&(n=zn(n,0,1)),n}closestPointToPoint(e,t,r){let n=this.closestPointToPointParameter(e,t);return this.delta(r).multiplyScalar(n).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}},NL=new L,I_e=class extends wr{constructor(e,t){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=t,this.type="SpotLightHelper";let r=new lt,n=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,l=1,c=32;o<c;o++,l++){let a=o/c*Math.PI*2,s=l/c*Math.PI*2;n.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}r.setAttribute("position",new Ze(n,3));let i=new vd({fog:!1,toneMapped:!1});this.cone=new n1(r,i),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);let e=this.light.distance?this.light.distance:1e3,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),NL.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(NL),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}},O_e=class extends ro{constructor(e,t,r){let n=new tD(t,4,2),i=new r1({wireframe:!0,fog:!1,toneMapped:!1});super(n,i),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}},BL=new L,yb=new L,FL=new L,R_e=class extends wr{constructor(e,t,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",t===void 0&&(t=1);let n=new lt;n.setAttribute("position",new Ze([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));let i=new vd({fog:!1,toneMapped:!1});this.lightPlane=new r_(n,i),this.add(this.lightPlane),n=new lt,n.setAttribute("position",new Ze([0,0,0,0,0,1],3)),this.targetLine=new r_(n,i),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),BL.setFromMatrixPosition(this.light.matrixWorld),yb.setFromMatrixPosition(this.light.target.matrixWorld),FL.subVectors(yb,BL),this.lightPlane.lookAt(yb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(yb),this.targetLine.scale.z=FL.length()}},bb=new L,an=new vg,s_=class extends n1{constructor(e){let t=new lt,r=new vd({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],i=[],o={};l("n1","n2"),l("n2","n4"),l("n4","n3"),l("n3","n1"),l("f1","f2"),l("f2","f4"),l("f4","f3"),l("f3","f1"),l("n1","f1"),l("n2","f2"),l("n3","f3"),l("n4","f4"),l("p","n1"),l("p","n2"),l("p","n3"),l("p","n4"),l("u1","u2"),l("u2","u3"),l("u3","u1"),l("c","t"),l("p","c"),l("cn1","cn2"),l("cn3","cn4"),l("cf1","cf2"),l("cf3","cf4");function l(p,m){c(p),c(m)}function c(p){n.push(0,0,0),i.push(0,0,0),o[p]===void 0&&(o[p]=[]),o[p].push(n.length/3-1)}t.setAttribute("position",new Ze(n,3)),t.setAttribute("color",new Ze(i,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();let a=new ht(16755200),s=new ht(16711680),u=new ht(43775),d=new ht(16777215),h=new ht(3355443);this.setColors(a,s,u,d,h)}setColors(e,t,r,n,i){let o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,t.r,t.g,t.b),o.setXYZ(25,t.r,t.g,t.b),o.setXYZ(26,t.r,t.g,t.b),o.setXYZ(27,t.r,t.g,t.b),o.setXYZ(28,t.r,t.g,t.b),o.setXYZ(29,t.r,t.g,t.b),o.setXYZ(30,t.r,t.g,t.b),o.setXYZ(31,t.r,t.g,t.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,n.r,n.g,n.b),o.setXYZ(39,n.r,n.g,n.b),o.setXYZ(40,i.r,i.g,i.b),o.setXYZ(41,i.r,i.g,i.b),o.setXYZ(42,i.r,i.g,i.b),o.setXYZ(43,i.r,i.g,i.b),o.setXYZ(44,i.r,i.g,i.b),o.setXYZ(45,i.r,i.g,i.b),o.setXYZ(46,i.r,i.g,i.b),o.setXYZ(47,i.r,i.g,i.b),o.setXYZ(48,i.r,i.g,i.b),o.setXYZ(49,i.r,i.g,i.b),o.needsUpdate=!0}update(){let e=this.geometry,t=this.pointMap,r=1,n=1;an.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),gn("c",t,e,an,0,0,-1),gn("t",t,e,an,0,0,1),gn("n1",t,e,an,-r,-n,-1),gn("n2",t,e,an,r,-n,-1),gn("n3",t,e,an,-r,n,-1),gn("n4",t,e,an,r,n,-1),gn("f1",t,e,an,-r,-n,1),gn("f2",t,e,an,r,-n,1),gn("f3",t,e,an,-r,n,1),gn("f4",t,e,an,r,n,1),gn("u1",t,e,an,r*.7,n*1.1,-1),gn("u2",t,e,an,-r*.7,n*1.1,-1),gn("u3",t,e,an,0,n*2,-1),gn("cf1",t,e,an,-r,0,1),gn("cf2",t,e,an,r,0,1),gn("cf3",t,e,an,0,-n,1),gn("cf4",t,e,an,0,n,1),gn("cn1",t,e,an,-r,0,-1),gn("cn2",t,e,an,r,0,-1),gn("cn3",t,e,an,0,-n,-1),gn("cn4",t,e,an,0,n,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function gn(e,t,r,n,i,o,l){bb.set(i,o,l).unproject(n);let c=t[e];if(c!==void 0){let a=r.getAttribute("position");for(let s=0,u=c.length;s<u;s++)a.setXYZ(c[s],bb.x,bb.y,bb.z)}}var l_=class extends n1{constructor(e,t=16776960){let r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),n=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],i=new lt;i.setIndex(new St(r,1)),i.setAttribute("position",new Ze(n,3)),super(i,new vd({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){let t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}},z_e=class extends n1{constructor(e=1){let t=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],n=new lt;n.setAttribute("position",new Ze(t,3)),n.setAttribute("color",new Ze(r,3));let i=new vd({vertexColors:!0,toneMapped:!1});super(n,i),this.type="AxesHelper"}setColors(e,t,r){let n=new ht,i=this.geometry.attributes.color.array;return n.set(e),n.toArray(i,0),n.toArray(i,3),n.set(t),n.toArray(i,6),n.toArray(i,9),n.set(r),n.toArray(i,12),n.toArray(i,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}},lc=L_e();function L_e(){let e=new ArrayBuffer(4),t=new Float32Array(e),r=new Uint32Array(e),n=new Uint32Array(512),i=new Uint32Array(512);for(let a=0;a<256;++a){let s=a-127;s<-27?(n[a]=0,n[a|256]=32768,i[a]=24,i[a|256]=24):s<-14?(n[a]=1024>>-s-14,n[a|256]=1024>>-s-14|32768,i[a]=-s-1,i[a|256]=-s-1):s<=15?(n[a]=s+15<<10,n[a|256]=s+15<<10|32768,i[a]=13,i[a|256]=13):s<128?(n[a]=31744,n[a|256]=64512,i[a]=24,i[a|256]=24):(n[a]=31744,n[a|256]=64512,i[a]=13,i[a|256]=13)}let o=new Uint32Array(2048),l=new Uint32Array(64),c=new Uint32Array(64);for(let a=1;a<1024;++a){let s=a<<13,u=0;for(;!(s&8388608);)s<<=1,u-=8388608;s&=-8388609,u+=947912704,o[a]=s|u}for(let a=1024;a<2048;++a)o[a]=939524096+(a-1024<<13);for(let a=1;a<31;++a)l[a]=a<<23;l[31]=1199570944,l[32]=2147483648;for(let a=33;a<63;++a)l[a]=2147483648+(a-32<<23);l[63]=3347054592;for(let a=1;a<64;++a)a!==32&&(c[a]=1024);return{floatView:t,uint32View:r,baseTable:n,shiftTable:i,mantissaTable:o,exponentTable:l,offsetTable:c}}function N_e(e){Math.abs(e)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),e=zn(e,-65504,65504),lc.floatView[0]=e;let t=lc.uint32View[0],r=t>>23&511;return lc.baseTable[r]+((t&8388607)>>lc.shiftTable[r])}function B_e(e){let t=e>>10;return lc.uint32View[0]=lc.mantissaTable[lc.offsetTable[t]+(e&1023)]+lc.exponentTable[t],lc.floatView[0]}var F_e=Object.freeze({__proto__:null,fromHalfFloat:B_e,toHalfFloat:N_e});typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:fg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=fg);var c0=".",aD=Symbol("target"),Qq=Symbol("unsubscribe");function zT(e){return e instanceof Date||e instanceof Set||e instanceof Map||e instanceof WeakSet||e instanceof WeakMap||ArrayBuffer.isView(e)}function U_e(e){return(typeof e=="object"?e===null:typeof e!="function")||e instanceof RegExp}var dl=Array.isArray;function sD(e){return typeof e=="symbol"}var V_e={after:(e,t)=>dl(e)?e.slice(t.length):t===""?e:e.slice(t.length+1),concat:(e,t)=>dl(e)?(e=[...e],t&&e.push(t),e):t&&t.toString!==void 0?(e!==""&&(e+=c0),sD(t)?e+t.toString():e+t):e,initial:e=>{if(dl(e))return e.slice(0,-1);if(e==="")return e;let t=e.lastIndexOf(c0);return t===-1?"":e.slice(0,t)},last:e=>{if(dl(e))return e[e.length-1]||"";if(e==="")return e;let t=e.lastIndexOf(c0);return t===-1?e:e.slice(t+1)},walk:(e,t)=>{if(dl(e))for(let r of e)t(r);else if(e!==""){let r=0,n=e.indexOf(c0);if(n===-1)t(e);else for(;r<e.length;)n===-1&&(n=e.length),t(e.slice(r,n)),r=n+1,n=e.indexOf(c0,r)}},get(e,t){return this.walk(t,r=>{e&&(e=e[r])}),e}},Ta=V_e;function H_e(e){return typeof e=="object"&&typeof e.next=="function"}function W_e(e,t,r,n,i){let o=e.next;if(t.name==="entries")e.next=function(){let l=o.call(this);return l.done===!1&&(l.value[0]=i(l.value[0],t,l.value[0],n),l.value[1]=i(l.value[1],t,l.value[0],n)),l};else if(t.name==="values"){let l=r[aD].keys();e.next=function(){let c=o.call(this);return c.done===!1&&(c.value=i(c.value,t,l.next().value,n)),c}}else e.next=function(){let l=o.call(this);return l.done===!1&&(l.value=i(l.value,t,l.value,n)),l};return e}function UL(e,t,r){return e.isUnsubscribed||t.ignoreSymbols&&sD(r)||t.ignoreUnderscores&&r.charAt(0)==="_"||"ignoreKeys"in t&&t.ignoreKeys.includes(r)}var G_e=class{constructor(e){this._equals=e,this._proxyCache=new WeakMap,this._pathCache=new WeakMap,this.isUnsubscribed=!1}_getDescriptorCache(){return this._descriptorCache===void 0&&(this._descriptorCache=new WeakMap),this._descriptorCache}_getProperties(e){let t=this._getDescriptorCache(),r=t.get(e);return r===void 0&&(r={},t.set(e,r)),r}_getOwnPropertyDescriptor(e,t){if(this.isUnsubscribed)return Reflect.getOwnPropertyDescriptor(e,t);let r=this._getProperties(e),n=r[t];return n===void 0&&(n=Reflect.getOwnPropertyDescriptor(e,t),r[t]=n),n}getProxy(e,t,r,n){if(this.isUnsubscribed)return e;let i=e[n],o=i||e;this._pathCache.set(o,t);let l=this._proxyCache.get(o);return l===void 0&&(l=i===void 0?new Proxy(e,r):e,this._proxyCache.set(o,l)),l}getPath(e){return this.isUnsubscribed?void 0:this._pathCache.get(e)}isDetached(e,t){return!Object.is(e,Ta.get(t,this.getPath(e)))}defineProperty(e,t,r){return Reflect.defineProperty(e,t,r)?(this.isUnsubscribed||(this._getProperties(e)[t]=r),!0):!1}setProperty(e,t,r,n,i){if(!this._equals(i,r)||!(t in e)){let o=this._getOwnPropertyDescriptor(e,t);return o!==void 0&&"set"in o?Reflect.set(e,t,r,n):Reflect.set(e,t,r)}return!0}deleteProperty(e,t,r){if(Reflect.deleteProperty(e,t)){if(!this.isUnsubscribed){let n=this._getDescriptorCache().get(e);n&&(delete n[t],this._pathCache.delete(r))}return!0}return!1}isSameDescriptor(e,t,r){let n=this._getOwnPropertyDescriptor(t,r);return e!==void 0&&n!==void 0&&Object.is(e.value,n.value)&&(e.writable||!1)===(n.writable||!1)&&(e.enumerable||!1)===(n.enumerable||!1)&&(e.configurable||!1)===(n.configurable||!1)&&e.get===n.get&&e.set===n.set}isGetInvariant(e,t){let r=this._getOwnPropertyDescriptor(e,t);return r!==void 0&&r.configurable!==!0&&r.writable!==!0}unsubscribe(){this._descriptorCache=null,this._pathCache=null,this._proxyCache=null,this.isUnsubscribed=!0}};function LT(e){return toString.call(e)==="[object Object]"}function xb(){return!0}function zp(e,t){return e.length!==t.length||e.some((r,n)=>t[n]!==r)}var Zq=new Set(["hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),q_e=new Set(["concat","includes","indexOf","join","keys","lastIndexOf"]),Jq={push:xb,pop:xb,shift:xb,unshift:xb,copyWithin:zp,reverse:zp,sort:zp,splice:zp,flat:zp,fill:zp},Y_e=new Set([...Zq,...q_e,...Object.keys(Jq)]);function wb(e,t){if(e.size!==t.size)return!0;for(let r of e)if(!t.has(r))return!0;return!1}var eY=["keys","values","entries"],tY=new Set(["has","toString"]),rY={add:wb,clear:wb,delete:wb,forEach:wb},$_e=new Set([...tY,...Object.keys(rY),...eY]);function _b(e,t){if(e.size!==t.size)return!0;let r;for(let[n,i]of e)if(r=t.get(n),r!==i||r===void 0&&!t.has(n))return!0;return!1}var X_e=new Set([...tY,"get"]),nY={set:_b,clear:_b,delete:_b,forEach:_b},K_e=new Set([...X_e,...Object.keys(nY),...eY]),ad=class{constructor(e,t,r,n){this._path=t,this._isChanged=!1,this._clonedCache=new Set,this._hasOnValidate=n,this._changes=n?[]:null,this.clone=t===void 0?e:this._shallowClone(e)}static isHandledMethod(e){return Zq.has(e)}_shallowClone(e){let t=e;if(LT(e))t={...e};else if(dl(e))t=[...e];else if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set([...e].map(r=>this._shallowClone(r)));else if(e instanceof Map){t=new Map;for(let[r,n]of e.entries())t.set(r,this._shallowClone(n))}return this._clonedCache.add(t),t}preferredThisArg(e,t,r,n){return e?(dl(n)?this._onIsChanged=Jq[t]:n instanceof Set?this._onIsChanged=rY[t]:n instanceof Map&&(this._onIsChanged=nY[t]),n):r}update(e,t,r){let n=Ta.after(e,this._path);if(t!=="length"){let i=this.clone;Ta.walk(n,o=>{i&&i[o]&&(this._clonedCache.has(i[o])||(i[o]=this._shallowClone(i[o])),i=i[o])}),this._hasOnValidate&&this._changes.push({path:n,property:t,previous:r}),i&&i[t]&&(i[t]=r)}this._isChanged=!0}undo(e){let t;for(let r=this._changes.length-1;r!==-1;r--)t=this._changes[r],Ta.get(e,t.path)[t.property]=t.previous}isChanged(e){return this._onIsChanged===void 0?this._isChanged:this._onIsChanged(this.clone,e)}},VL=class extends ad{static isHandledMethod(e){return Y_e.has(e)}},Q_e=class extends ad{undo(e){e.setTime(this.clone.getTime())}isChanged(e,t){return!t(this.clone.valueOf(),e.valueOf())}},HL=class extends ad{static isHandledMethod(e){return $_e.has(e)}undo(e){for(let t of this.clone)e.add(t);for(let t of e)this.clone.has(t)||e.delete(t)}},WL=class extends ad{static isHandledMethod(e){return K_e.has(e)}undo(e){for(let[t,r]of this.clone.entries())e.set(t,r);for(let t of e.keys())this.clone.has(t)||e.delete(t)}},Z_e=class extends ad{constructor(e,t,r,n){super(void 0,t,r,n),this._arg1=r[0],this._weakValue=e.has(this._arg1)}isChanged(e){return this._weakValue!==e.has(this._arg1)}undo(e){this._weakValue&&!e.has(this._arg1)?e.add(this._arg1):e.delete(this._arg1)}},J_e=class extends ad{constructor(e,t,r,n){super(void 0,t,r,n),this._weakKey=r[0],this._weakHas=e.has(this._weakKey),this._weakValue=e.get(this._weakKey)}isChanged(e){return this._weakValue!==e.get(this._weakKey)}undo(e){let t=e.has(this._weakKey);this._weakHas&&!t?e.set(this._weakKey,this._weakValue):!this._weakHas&&t?e.delete(this._weakKey):this._weakValue!==e.get(this._weakKey)&&e.set(this._weakKey,this._weakValue)}},lf=class{constructor(e){this._stack=[],this._hasOnValidate=e}static isHandledType(e){return LT(e)||dl(e)||zT(e)}static isHandledMethod(e,t){return LT(e)?ad.isHandledMethod(t):dl(e)?VL.isHandledMethod(t):e instanceof Set?HL.isHandledMethod(t):e instanceof Map?WL.isHandledMethod(t):zT(e)}get isCloning(){return this._stack.length>0}start(e,t,r){let n=ad;dl(e)?n=VL:e instanceof Date?n=Q_e:e instanceof Set?n=HL:e instanceof Map?n=WL:e instanceof WeakSet?n=Z_e:e instanceof WeakMap&&(n=J_e),this._stack.push(new n(e,t,r,this._hasOnValidate))}update(e,t,r){this._stack[this._stack.length-1].update(e,t,r)}preferredThisArg(e,t,r){let{name:n}=e,i=lf.isHandledMethod(r,n);return this._stack[this._stack.length-1].preferredThisArg(i,n,t,r)}isChanged(e,t,r){return this._stack[this._stack.length-1].isChanged(e,t,r)}undo(e){this._previousClone!==void 0&&this._previousClone.undo(e)}stop(){return this._previousClone=this._stack.pop(),this._previousClone.clone}},e2e={equals:Object.is,isShallow:!1,pathAsArray:!1,ignoreSymbols:!1,ignoreUnderscores:!1,ignoreDetached:!1,details:!1},lD=(e,t,r={})=>{r={...e2e,...r};let n=Symbol("ProxyTarget"),{equals:i,isShallow:o,ignoreDetached:l,details:c}=r,a=new G_e(i),s=typeof r.onValidate=="function",u=new lf(s),d=(x,y,b,w,_)=>!s||u.isCloning||r.onValidate(Ta.concat(a.getPath(x),y),b,w,_)===!0,h=(x,y,b,w)=>{!UL(a,r,y)&&!(l&&a.isDetached(x,e))&&p(a.getPath(x),y,b,w)},p=(x,y,b,w,_)=>{u.isCloning?u.update(x,y,w):t(Ta.concat(x,y),b,w,_)},m=x=>x&&(x[n]||x),f=(x,y,b,w)=>U_e(x)||b==="constructor"||o&&!lf.isHandledMethod(y,b)||UL(a,r,b)||a.isGetInvariant(y,b)||l&&a.isDetached(y,e)?x:(w===void 0&&(w=a.getPath(y)),a.getProxy(x,Ta.concat(w,b),g,n)),g={get(x,y,b){if(sD(y)){if(y===n||y===aD)return x;if(y===Qq&&!a.isUnsubscribed&&a.getPath(x).length===0)return a.unsubscribe(),x}let w=zT(x)?Reflect.get(x,y):Reflect.get(x,y,b);return f(w,x,y)},set(x,y,b,w){b=m(b);let _=x[n]||x,S=_[y];if(i(S,b)&&y in x)return!0;let E=d(x,y,b,S);return E&&a.setProperty(_,y,b,w,S)?(h(x,y,x[y],S),!0):!E},defineProperty(x,y,b){if(!a.isSameDescriptor(b,x,y)){let w=x[y];d(x,y,b.value,w)&&a.defineProperty(x,y,b,w)&&h(x,y,b.value,w)}return!0},deleteProperty(x,y){if(!Reflect.has(x,y))return!0;let b=Reflect.get(x,y),w=d(x,y,void 0,b);return w&&a.deleteProperty(x,y,b)?(h(x,y,void 0,b),!0):!w},apply(x,y,b){let w=y[n]||y;if(a.isUnsubscribed)return Reflect.apply(x,w,b);if((c===!1||c!==!0&&!c.includes(x.name))&&lf.isHandledType(w)){let _=Ta.initial(a.getPath(x)),S=lf.isHandledMethod(w,x.name);u.start(w,_,b);let E=Reflect.apply(x,u.preferredThisArg(x,y,w),S?b.map(M=>m(M)):b),A=u.isChanged(w,i),C=u.stop();if(lf.isHandledType(E)&&S&&(y instanceof Map&&x.name==="get"&&(_=Ta.concat(_,b[0])),E=a.getProxy(E,_,g)),A){let M={name:x.name,args:b,result:E},T=u.isCloning?Ta.initial(_):_,k=u.isCloning?Ta.last(_):"";d(Ta.get(e,T),k,w,C,M)?p(T,k,w,C,M):u.undo(w)}return(y instanceof Map||y instanceof Set)&&H_e(E)?W_e(E,x,y,_,f):E}return Reflect.apply(x,y,b)}},v=a.getProxy(e,r.pathAsArray?[]:"",g);return t=t.bind(v),s&&(r.onValidate=r.onValidate.bind(v)),v};lD.target=e=>e&&e[aD]||e;lD.unsubscribe=e=>e[Qq]||e;var GL=lD,t2e=typeof global=="object"&&global&&global.Object===Object&&global,iY=t2e,r2e=typeof self=="object"&&self&&self.Object===Object&&self,n2e=iY||r2e||Function("return this")(),Os=n2e,i2e=Os.Symbol,Xa=i2e,oY=Object.prototype,o2e=oY.hasOwnProperty,a2e=oY.toString,u0=Xa?Xa.toStringTag:void 0;function s2e(e){var t=o2e.call(e,u0),r=e[u0];try{e[u0]=void 0;var n=!0}catch{}var i=a2e.call(e);return n&&(t?e[u0]=r:delete e[u0]),i}var l2e=s2e,c2e=Object.prototype,u2e=c2e.toString;function d2e(e){return u2e.call(e)}var h2e=d2e,p2e="[object Null]",f2e="[object Undefined]",qL=Xa?Xa.toStringTag:void 0;function m2e(e){return e==null?e===void 0?f2e:p2e:qL&&qL in Object(e)?l2e(e):h2e(e)}var ap=m2e;function g2e(e){return e!=null&&typeof e=="object"}var Rc=g2e,v2e="[object Symbol]";function y2e(e){return typeof e=="symbol"||Rc(e)&&ap(e)==v2e}var DS=y2e;function b2e(e,t){for(var r=-1,n=e==null?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}var aY=b2e,x2e=Array.isArray,Al=x2e,w2e=1/0,YL=Xa?Xa.prototype:void 0,$L=YL?YL.toString:void 0;function sY(e){if(typeof e=="string")return e;if(Al(e))return aY(e,sY)+"";if(DS(e))return $L?$L.call(e):"";var t=e+"";return t=="0"&&1/e==-w2e?"-0":t}var _2e=sY,S2e=/\s/;function E2e(e){for(var t=e.length;t--&&S2e.test(e.charAt(t)););return t}var C2e=E2e,A2e=/^\s+/;function M2e(e){return e&&e.slice(0,C2e(e)+1).replace(A2e,"")}var T2e=M2e;function P2e(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Ds=P2e,XL=NaN,k2e=/^[-+]0x[0-9a-f]+$/i,D2e=/^0b[01]+$/i,j2e=/^0o[0-7]+$/i,I2e=parseInt;function O2e(e){if(typeof e=="number")return e;if(DS(e))return XL;if(Ds(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ds(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=T2e(e);var r=D2e.test(e);return r||j2e.test(e)?I2e(e.slice(2),r?2:8):k2e.test(e)?XL:+e}var KL=O2e;function R2e(e){return e}var z2e=R2e,L2e="[object AsyncFunction]",N2e="[object Function]",B2e="[object GeneratorFunction]",F2e="[object Proxy]";function U2e(e){if(!Ds(e))return!1;var t=ap(e);return t==N2e||t==B2e||t==L2e||t==F2e}var lY=U2e,V2e=Os["__core-js_shared__"],aC=V2e,QL=function(){var e=/[^.]+$/.exec(aC&&aC.keys&&aC.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function H2e(e){return!!QL&&QL in e}var W2e=H2e,G2e=Function.prototype,q2e=G2e.toString;function Y2e(e){if(e!=null){try{return q2e.call(e)}catch{}try{return e+""}catch{}}return""}var sp=Y2e,$2e=/[\\^$.*+?()[\]{}|]/g,X2e=/^\[object .+?Constructor\]$/,K2e=Function.prototype,Q2e=Object.prototype,Z2e=K2e.toString,J2e=Q2e.hasOwnProperty,eSe=RegExp("^"+Z2e.call(J2e).replace($2e,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function tSe(e){if(!Ds(e)||W2e(e))return!1;var t=lY(e)?eSe:X2e;return t.test(sp(e))}var rSe=tSe;function nSe(e,t){return e==null?void 0:e[t]}var iSe=nSe;function oSe(e,t){var r=iSe(e,t);return rSe(r)?r:void 0}var lp=oSe,aSe=lp(Os,"WeakMap"),NT=aSe,ZL=Object.create,sSe=function(){function e(){}return function(t){if(!Ds(t))return{};if(ZL)return ZL(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),lSe=sSe;function cSe(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var uSe=cSe;function dSe(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var hSe=dSe,pSe=800,fSe=16,mSe=Date.now;function gSe(e){var t=0,r=0;return function(){var n=mSe(),i=fSe-(n-r);if(r=n,i>0){if(++t>=pSe)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var vSe=gSe;function ySe(e){return function(){return e}}var bSe=ySe,xSe=function(){try{var e=lp(Object,"defineProperty");return e({},"",{}),e}catch{}}(),c_=xSe,wSe=c_?function(e,t){return c_(e,"toString",{configurable:!0,enumerable:!1,value:bSe(t),writable:!0})}:z2e,_Se=wSe,SSe=vSe(_Se),ESe=SSe;function CSe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var ASe=CSe,MSe=9007199254740991,TSe=/^(?:0|[1-9]\d*)$/;function PSe(e,t){var r=typeof e;return t=t??MSe,!!t&&(r=="number"||r!="symbol"&&TSe.test(e))&&e>-1&&e%1==0&&e<t}var cD=PSe;function kSe(e,t,r){t=="__proto__"&&c_?c_(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var cY=kSe;function DSe(e,t){return e===t||e!==e&&t!==t}var uD=DSe,jSe=Object.prototype,ISe=jSe.hasOwnProperty;function OSe(e,t,r){var n=e[t];(!(ISe.call(e,t)&&uD(n,r))||r===void 0&&!(t in e))&&cY(e,t,r)}var dD=OSe;function RSe(e,t,r,n){var i=!r;r||(r={});for(var o=-1,l=t.length;++o<l;){var c=t[o],a=n?n(r[c],e[c],c,r,e):void 0;a===void 0&&(a=e[c]),i?cY(r,c,a):dD(r,c,a)}return r}var a1=RSe,JL=Math.max;function zSe(e,t,r){return t=JL(t===void 0?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=JL(n.length-t,0),l=Array(o);++i<o;)l[i]=n[t+i];i=-1;for(var c=Array(t+1);++i<t;)c[i]=n[i];return c[t]=r(l),uSe(e,this,c)}}var LSe=zSe,NSe=9007199254740991;function BSe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=NSe}var hD=BSe;function FSe(e){return e!=null&&hD(e.length)&&!lY(e)}var uY=FSe,USe=Object.prototype;function VSe(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||USe;return e===r}var pD=VSe;function HSe(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var WSe=HSe,GSe="[object Arguments]";function qSe(e){return Rc(e)&&ap(e)==GSe}var e8=qSe,dY=Object.prototype,YSe=dY.hasOwnProperty,$Se=dY.propertyIsEnumerable,XSe=e8(function(){return arguments}())?e8:function(e){return Rc(e)&&YSe.call(e,"callee")&&!$Se.call(e,"callee")},fD=XSe;function KSe(){return!1}var QSe=KSe,hY=typeof ia=="object"&&ia&&!ia.nodeType&&ia,t8=hY&&typeof oa=="object"&&oa&&!oa.nodeType&&oa,ZSe=t8&&t8.exports===hY,r8=ZSe?Os.Buffer:void 0,JSe=r8?r8.isBuffer:void 0,e3e=JSe||QSe,u_=e3e,t3e="[object Arguments]",r3e="[object Array]",n3e="[object Boolean]",i3e="[object Date]",o3e="[object Error]",a3e="[object Function]",s3e="[object Map]",l3e="[object Number]",c3e="[object Object]",u3e="[object RegExp]",d3e="[object Set]",h3e="[object String]",p3e="[object WeakMap]",f3e="[object ArrayBuffer]",m3e="[object DataView]",g3e="[object Float32Array]",v3e="[object Float64Array]",y3e="[object Int8Array]",b3e="[object Int16Array]",x3e="[object Int32Array]",w3e="[object Uint8Array]",_3e="[object Uint8ClampedArray]",S3e="[object Uint16Array]",E3e="[object Uint32Array]",Br={};Br[g3e]=Br[v3e]=Br[y3e]=Br[b3e]=Br[x3e]=Br[w3e]=Br[_3e]=Br[S3e]=Br[E3e]=!0;Br[t3e]=Br[r3e]=Br[f3e]=Br[n3e]=Br[m3e]=Br[i3e]=Br[o3e]=Br[a3e]=Br[s3e]=Br[l3e]=Br[c3e]=Br[u3e]=Br[d3e]=Br[h3e]=Br[p3e]=!1;function C3e(e){return Rc(e)&&hD(e.length)&&!!Br[ap(e)]}var A3e=C3e;function M3e(e){return function(t){return e(t)}}var mD=M3e,pY=typeof ia=="object"&&ia&&!ia.nodeType&&ia,bv=pY&&typeof oa=="object"&&oa&&!oa.nodeType&&oa,T3e=bv&&bv.exports===pY,sC=T3e&&iY.process,P3e=function(){try{var e=bv&&bv.require&&bv.require("util").types;return e||sC&&sC.binding&&sC.binding("util")}catch{}}(),Wm=P3e,n8=Wm&&Wm.isTypedArray,k3e=n8?mD(n8):A3e,fY=k3e,D3e=Object.prototype,j3e=D3e.hasOwnProperty;function I3e(e,t){var r=Al(e),n=!r&&fD(e),i=!r&&!n&&u_(e),o=!r&&!n&&!i&&fY(e),l=r||n||i||o,c=l?WSe(e.length,String):[],a=c.length;for(var s in e)(t||j3e.call(e,s))&&!(l&&(s=="length"||i&&(s=="offset"||s=="parent")||o&&(s=="buffer"||s=="byteLength"||s=="byteOffset")||cD(s,a)))&&c.push(s);return c}var mY=I3e;function O3e(e,t){return function(r){return e(t(r))}}var gY=O3e,R3e=gY(Object.keys,Object),z3e=R3e,L3e=Object.prototype,N3e=L3e.hasOwnProperty;function B3e(e){if(!pD(e))return z3e(e);var t=[];for(var r in Object(e))N3e.call(e,r)&&r!="constructor"&&t.push(r);return t}var F3e=B3e;function U3e(e){return uY(e)?mY(e):F3e(e)}var gD=U3e;function V3e(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var H3e=V3e,W3e=Object.prototype,G3e=W3e.hasOwnProperty;function q3e(e){if(!Ds(e))return H3e(e);var t=pD(e),r=[];for(var n in e)n=="constructor"&&(t||!G3e.call(e,n))||r.push(n);return r}var Y3e=q3e;function $3e(e){return uY(e)?mY(e,!0):Y3e(e)}var ah=$3e,X3e=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,K3e=/^\w*$/;function Q3e(e,t){if(Al(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||DS(e)?!0:K3e.test(e)||!X3e.test(e)||t!=null&&e in Object(t)}var Z3e=Q3e,J3e=lp(Object,"create"),fy=J3e;function eEe(){this.__data__=fy?fy(null):{},this.size=0}var tEe=eEe;function rEe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var nEe=rEe,iEe="__lodash_hash_undefined__",oEe=Object.prototype,aEe=oEe.hasOwnProperty;function sEe(e){var t=this.__data__;if(fy){var r=t[e];return r===iEe?void 0:r}return aEe.call(t,e)?t[e]:void 0}var lEe=sEe,cEe=Object.prototype,uEe=cEe.hasOwnProperty;function dEe(e){var t=this.__data__;return fy?t[e]!==void 0:uEe.call(t,e)}var hEe=dEe,pEe="__lodash_hash_undefined__";function fEe(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=fy&&t===void 0?pEe:t,this}var mEe=fEe;function wg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}wg.prototype.clear=tEe;wg.prototype.delete=nEe;wg.prototype.get=lEe;wg.prototype.has=hEe;wg.prototype.set=mEe;var i8=wg;function gEe(){this.__data__=[],this.size=0}var vEe=gEe;function yEe(e,t){for(var r=e.length;r--;)if(uD(e[r][0],t))return r;return-1}var jS=yEe,bEe=Array.prototype,xEe=bEe.splice;function wEe(e){var t=this.__data__,r=jS(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():xEe.call(t,r,1),--this.size,!0}var _Ee=wEe;function SEe(e){var t=this.__data__,r=jS(t,e);return r<0?void 0:t[r][1]}var EEe=SEe;function CEe(e){return jS(this.__data__,e)>-1}var AEe=CEe;function MEe(e,t){var r=this.__data__,n=jS(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var TEe=MEe;function _g(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}_g.prototype.clear=vEe;_g.prototype.delete=_Ee;_g.prototype.get=EEe;_g.prototype.has=AEe;_g.prototype.set=TEe;var IS=_g,PEe=lp(Os,"Map"),my=PEe;function kEe(){this.size=0,this.__data__={hash:new i8,map:new(my||IS),string:new i8}}var DEe=kEe;function jEe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var IEe=jEe;function OEe(e,t){var r=e.__data__;return IEe(t)?r[typeof t=="string"?"string":"hash"]:r.map}var OS=OEe;function REe(e){var t=OS(this,e).delete(e);return this.size-=t?1:0,t}var zEe=REe;function LEe(e){return OS(this,e).get(e)}var NEe=LEe;function BEe(e){return OS(this,e).has(e)}var FEe=BEe;function UEe(e,t){var r=OS(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var VEe=UEe;function Sg(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Sg.prototype.clear=DEe;Sg.prototype.delete=zEe;Sg.prototype.get=NEe;Sg.prototype.has=FEe;Sg.prototype.set=VEe;var RS=Sg,HEe="Expected a function";function vD(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(HEe);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var l=e.apply(this,n);return r.cache=o.set(i,l)||o,l};return r.cache=new(vD.Cache||RS),r}vD.Cache=RS;var WEe=vD,GEe=500;function qEe(e){var t=WEe(e,function(n){return r.size===GEe&&r.clear(),n}),r=t.cache;return t}var YEe=qEe,$Ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,XEe=/\\(\\)?/g,KEe=YEe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace($Ee,function(r,n,i,o){t.push(i?o.replace(XEe,"$1"):n||r)}),t}),QEe=KEe;function ZEe(e){return e==null?"":_2e(e)}var JEe=ZEe;function eCe(e,t){return Al(e)?e:Z3e(e,t)?[e]:QEe(JEe(e))}var Eg=eCe,tCe=1/0;function rCe(e){if(typeof e=="string"||DS(e))return e;var t=e+"";return t=="0"&&1/e==-tCe?"-0":t}var zS=rCe;function nCe(e,t){t=Eg(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[zS(t[r++])];return r&&r==n?e:void 0}var vY=nCe;function iCe(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}var yD=iCe,o8=Xa?Xa.isConcatSpreadable:void 0;function oCe(e){return Al(e)||fD(e)||!!(o8&&e&&e[o8])}var aCe=oCe;function yY(e,t,r,n,i){var o=-1,l=e.length;for(r||(r=aCe),i||(i=[]);++o<l;){var c=e[o];t>0&&r(c)?t>1?yY(c,t-1,r,n,i):yD(i,c):n||(i[i.length]=c)}return i}var sCe=yY;function lCe(e){var t=e==null?0:e.length;return t?sCe(e,1):[]}var cCe=lCe;function uCe(e){return ESe(LSe(e,void 0,cCe),e+"")}var bY=uCe,dCe=gY(Object.getPrototypeOf,Object),bD=dCe,hCe="[object Object]",pCe=Function.prototype,fCe=Object.prototype,xY=pCe.toString,mCe=fCe.hasOwnProperty,gCe=xY.call(Object);function vCe(e){if(!Rc(e)||ap(e)!=hCe)return!1;var t=bD(e);if(t===null)return!0;var r=mCe.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&xY.call(r)==gCe}var yCe=vCe;function bCe(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),r=r>i?i:r,r<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}var xCe=bCe;function wCe(){this.__data__=new IS,this.size=0}var _Ce=wCe;function SCe(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var ECe=SCe;function CCe(e){return this.__data__.get(e)}var ACe=CCe;function MCe(e){return this.__data__.has(e)}var TCe=MCe,PCe=200;function kCe(e,t){var r=this.__data__;if(r instanceof IS){var n=r.__data__;if(!my||n.length<PCe-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new RS(n)}return r.set(e,t),this.size=r.size,this}var DCe=kCe;function Cg(e){var t=this.__data__=new IS(e);this.size=t.size}Cg.prototype.clear=_Ce;Cg.prototype.delete=ECe;Cg.prototype.get=ACe;Cg.prototype.has=TCe;Cg.prototype.set=DCe;var Wx=Cg;function jCe(e,t){return e&&a1(t,gD(t),e)}var ICe=jCe;function OCe(e,t){return e&&a1(t,ah(t),e)}var RCe=OCe,wY=typeof ia=="object"&&ia&&!ia.nodeType&&ia,a8=wY&&typeof oa=="object"&&oa&&!oa.nodeType&&oa,zCe=a8&&a8.exports===wY,s8=zCe?Os.Buffer:void 0,l8=s8?s8.allocUnsafe:void 0;function LCe(e,t){if(t)return e.slice();var r=e.length,n=l8?l8(r):new e.constructor(r);return e.copy(n),n}var NCe=LCe;function BCe(e,t){for(var r=-1,n=e==null?0:e.length,i=0,o=[];++r<n;){var l=e[r];t(l,r,e)&&(o[i++]=l)}return o}var FCe=BCe;function UCe(){return[]}var _Y=UCe,VCe=Object.prototype,HCe=VCe.propertyIsEnumerable,c8=Object.getOwnPropertySymbols,WCe=c8?function(e){return e==null?[]:(e=Object(e),FCe(c8(e),function(t){return HCe.call(e,t)}))}:_Y,xD=WCe;function GCe(e,t){return a1(e,xD(e),t)}var qCe=GCe,YCe=Object.getOwnPropertySymbols,$Ce=YCe?function(e){for(var t=[];e;)yD(t,xD(e)),e=bD(e);return t}:_Y,SY=$Ce;function XCe(e,t){return a1(e,SY(e),t)}var KCe=XCe;function QCe(e,t,r){var n=t(e);return Al(e)?n:yD(n,r(e))}var EY=QCe;function ZCe(e){return EY(e,gD,xD)}var BT=ZCe;function JCe(e){return EY(e,ah,SY)}var CY=JCe,eAe=lp(Os,"DataView"),FT=eAe,tAe=lp(Os,"Promise"),UT=tAe,rAe=lp(Os,"Set"),VT=rAe,u8="[object Map]",nAe="[object Object]",d8="[object Promise]",h8="[object Set]",p8="[object WeakMap]",f8="[object DataView]",iAe=sp(FT),oAe=sp(my),aAe=sp(UT),sAe=sp(VT),lAe=sp(NT),Bd=ap;(FT&&Bd(new FT(new ArrayBuffer(1)))!=f8||my&&Bd(new my)!=u8||UT&&Bd(UT.resolve())!=d8||VT&&Bd(new VT)!=h8||NT&&Bd(new NT)!=p8)&&(Bd=function(e){var t=ap(e),r=t==nAe?e.constructor:void 0,n=r?sp(r):"";if(n)switch(n){case iAe:return f8;case oAe:return u8;case aAe:return d8;case sAe:return h8;case lAe:return p8}return t});var gy=Bd,cAe=Object.prototype,uAe=cAe.hasOwnProperty;function dAe(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&uAe.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var hAe=dAe,pAe=Os.Uint8Array,d_=pAe;function fAe(e){var t=new e.constructor(e.byteLength);return new d_(t).set(new d_(e)),t}var wD=fAe;function mAe(e,t){var r=t?wD(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var gAe=mAe,vAe=/\w*$/;function yAe(e){var t=new e.constructor(e.source,vAe.exec(e));return t.lastIndex=e.lastIndex,t}var bAe=yAe,m8=Xa?Xa.prototype:void 0,g8=m8?m8.valueOf:void 0;function xAe(e){return g8?Object(g8.call(e)):{}}var wAe=xAe;function _Ae(e,t){var r=t?wD(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var SAe=_Ae,EAe="[object Boolean]",CAe="[object Date]",AAe="[object Map]",MAe="[object Number]",TAe="[object RegExp]",PAe="[object Set]",kAe="[object String]",DAe="[object Symbol]",jAe="[object ArrayBuffer]",IAe="[object DataView]",OAe="[object Float32Array]",RAe="[object Float64Array]",zAe="[object Int8Array]",LAe="[object Int16Array]",NAe="[object Int32Array]",BAe="[object Uint8Array]",FAe="[object Uint8ClampedArray]",UAe="[object Uint16Array]",VAe="[object Uint32Array]";function HAe(e,t,r){var n=e.constructor;switch(t){case jAe:return wD(e);case EAe:case CAe:return new n(+e);case IAe:return gAe(e,r);case OAe:case RAe:case zAe:case LAe:case NAe:case BAe:case FAe:case UAe:case VAe:return SAe(e,r);case AAe:return new n;case MAe:case kAe:return new n(e);case TAe:return bAe(e);case PAe:return new n;case DAe:return wAe(e)}}var WAe=HAe;function GAe(e){return typeof e.constructor=="function"&&!pD(e)?lSe(bD(e)):{}}var qAe=GAe,YAe="[object Map]";function $Ae(e){return Rc(e)&&gy(e)==YAe}var XAe=$Ae,v8=Wm&&Wm.isMap,KAe=v8?mD(v8):XAe,QAe=KAe,ZAe="[object Set]";function JAe(e){return Rc(e)&&gy(e)==ZAe}var eMe=JAe,y8=Wm&&Wm.isSet,tMe=y8?mD(y8):eMe,rMe=tMe,nMe=1,iMe=2,oMe=4,AY="[object Arguments]",aMe="[object Array]",sMe="[object Boolean]",lMe="[object Date]",cMe="[object Error]",MY="[object Function]",uMe="[object GeneratorFunction]",dMe="[object Map]",hMe="[object Number]",TY="[object Object]",pMe="[object RegExp]",fMe="[object Set]",mMe="[object String]",gMe="[object Symbol]",vMe="[object WeakMap]",yMe="[object ArrayBuffer]",bMe="[object DataView]",xMe="[object Float32Array]",wMe="[object Float64Array]",_Me="[object Int8Array]",SMe="[object Int16Array]",EMe="[object Int32Array]",CMe="[object Uint8Array]",AMe="[object Uint8ClampedArray]",MMe="[object Uint16Array]",TMe="[object Uint32Array]",jr={};jr[AY]=jr[aMe]=jr[yMe]=jr[bMe]=jr[sMe]=jr[lMe]=jr[xMe]=jr[wMe]=jr[_Me]=jr[SMe]=jr[EMe]=jr[dMe]=jr[hMe]=jr[TY]=jr[pMe]=jr[fMe]=jr[mMe]=jr[gMe]=jr[CMe]=jr[AMe]=jr[MMe]=jr[TMe]=!0;jr[cMe]=jr[MY]=jr[vMe]=!1;function Gx(e,t,r,n,i,o){var l,c=t&nMe,a=t&iMe,s=t&oMe;if(r&&(l=i?r(e,n,i,o):r(e)),l!==void 0)return l;if(!Ds(e))return e;var u=Al(e);if(u){if(l=hAe(e),!c)return hSe(e,l)}else{var d=gy(e),h=d==MY||d==uMe;if(u_(e))return NCe(e,c);if(d==TY||d==AY||h&&!i){if(l=a||h?{}:qAe(e),!c)return a?KCe(e,RCe(l,e)):qCe(e,ICe(l,e))}else{if(!jr[d])return i?e:{};l=WAe(e,d,c)}}o||(o=new Wx);var p=o.get(e);if(p)return p;o.set(e,l),rMe(e)?e.forEach(function(g){l.add(Gx(g,t,r,g,e,o))}):QAe(e)&&e.forEach(function(g,v){l.set(v,Gx(g,t,r,v,e,o))});var m=s?a?CY:BT:a?ah:gD,f=u?void 0:m(e);return ASe(f||e,function(g,v){f&&(v=g,g=e[v]),dD(l,v,Gx(g,t,r,v,e,o))}),l}var PY=Gx,PMe=1,kMe=4;function DMe(e){return PY(e,PMe|kMe)}var LS=DMe,jMe="__lodash_hash_undefined__";function IMe(e){return this.__data__.set(e,jMe),this}var OMe=IMe;function RMe(e){return this.__data__.has(e)}var zMe=RMe;function h_(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new RS;++t<r;)this.add(e[t])}h_.prototype.add=h_.prototype.push=OMe;h_.prototype.has=zMe;var LMe=h_;function NMe(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var BMe=NMe;function FMe(e,t){return e.has(t)}var UMe=FMe,VMe=1,HMe=2;function WMe(e,t,r,n,i,o){var l=r&VMe,c=e.length,a=t.length;if(c!=a&&!(l&&a>c))return!1;var s=o.get(e),u=o.get(t);if(s&&u)return s==t&&u==e;var d=-1,h=!0,p=r&HMe?new LMe:void 0;for(o.set(e,t),o.set(t,e);++d<c;){var m=e[d],f=t[d];if(n)var g=l?n(f,m,d,t,e,o):n(m,f,d,e,t,o);if(g!==void 0){if(g)continue;h=!1;break}if(p){if(!BMe(t,function(v,x){if(!UMe(p,x)&&(m===v||i(m,v,r,n,o)))return p.push(x)})){h=!1;break}}else if(!(m===f||i(m,f,r,n,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var kY=WMe;function GMe(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}var qMe=GMe;function YMe(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var $Me=YMe,XMe=1,KMe=2,QMe="[object Boolean]",ZMe="[object Date]",JMe="[object Error]",eTe="[object Map]",tTe="[object Number]",rTe="[object RegExp]",nTe="[object Set]",iTe="[object String]",oTe="[object Symbol]",aTe="[object ArrayBuffer]",sTe="[object DataView]",b8=Xa?Xa.prototype:void 0,lC=b8?b8.valueOf:void 0;function lTe(e,t,r,n,i,o,l){switch(r){case sTe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case aTe:return!(e.byteLength!=t.byteLength||!o(new d_(e),new d_(t)));case QMe:case ZMe:case tTe:return uD(+e,+t);case JMe:return e.name==t.name&&e.message==t.message;case rTe:case iTe:return e==t+"";case eTe:var c=qMe;case nTe:var a=n&XMe;if(c||(c=$Me),e.size!=t.size&&!a)return!1;var s=l.get(e);if(s)return s==t;n|=KMe,l.set(e,t);var u=kY(c(e),c(t),n,i,o,l);return l.delete(e),u;case oTe:if(lC)return lC.call(e)==lC.call(t)}return!1}var cTe=lTe,uTe=1,dTe=Object.prototype,hTe=dTe.hasOwnProperty;function pTe(e,t,r,n,i,o){var l=r&uTe,c=BT(e),a=c.length,s=BT(t),u=s.length;if(a!=u&&!l)return!1;for(var d=a;d--;){var h=c[d];if(!(l?h in t:hTe.call(t,h)))return!1}var p=o.get(e),m=o.get(t);if(p&&m)return p==t&&m==e;var f=!0;o.set(e,t),o.set(t,e);for(var g=l;++d<a;){h=c[d];var v=e[h],x=t[h];if(n)var y=l?n(x,v,h,t,e,o):n(v,x,h,e,t,o);if(!(y===void 0?v===x||i(v,x,r,n,o):y)){f=!1;break}g||(g=h=="constructor")}if(f&&!g){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof w=="function"&&w instanceof w)&&(f=!1)}return o.delete(e),o.delete(t),f}var fTe=pTe,mTe=1,x8="[object Arguments]",w8="[object Array]",Sb="[object Object]",gTe=Object.prototype,_8=gTe.hasOwnProperty;function vTe(e,t,r,n,i,o){var l=Al(e),c=Al(t),a=l?w8:gy(e),s=c?w8:gy(t);a=a==x8?Sb:a,s=s==x8?Sb:s;var u=a==Sb,d=s==Sb,h=a==s;if(h&&u_(e)){if(!u_(t))return!1;l=!0,u=!1}if(h&&!u)return o||(o=new Wx),l||fY(e)?kY(e,t,r,n,i,o):cTe(e,t,a,r,n,i,o);if(!(r&mTe)){var p=u&&_8.call(e,"__wrapped__"),m=d&&_8.call(t,"__wrapped__");if(p||m){var f=p?e.value():e,g=m?t.value():t;return o||(o=new Wx),i(f,g,r,n,o)}}return h?(o||(o=new Wx),fTe(e,t,r,n,i,o)):!1}var yTe=vTe;function DY(e,t,r,n,i){return e===t?!0:e==null||t==null||!Rc(e)&&!Rc(t)?e!==e&&t!==t:yTe(e,t,r,n,DY,i)}var bTe=DY;function xTe(e,t){return e!=null&&t in Object(e)}var wTe=xTe;function _Te(e,t,r){t=Eg(t,e);for(var n=-1,i=t.length,o=!1;++n<i;){var l=zS(t[n]);if(!(o=e!=null&&r(e,l)))break;e=e[l]}return o||++n!=i?o:(i=e==null?0:e.length,!!i&&hD(i)&&cD(l,i)&&(Al(e)||fD(e)))}var STe=_Te;function ETe(e,t){return e!=null&&STe(e,t,wTe)}var CTe=ETe,ATe=function(){return Os.Date.now()},cC=ATe,MTe="Expected a function",TTe=Math.max,PTe=Math.min;function kTe(e,t,r){var n,i,o,l,c,a,s=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(MTe);t=KL(t)||0,Ds(r)&&(u=!!r.leading,d="maxWait"in r,o=d?TTe(KL(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(_){var S=n,E=i;return n=i=void 0,s=_,l=e.apply(E,S),l}function m(_){return s=_,c=setTimeout(v,t),u?p(_):l}function f(_){var S=_-a,E=_-s,A=t-S;return d?PTe(A,o-E):A}function g(_){var S=_-a,E=_-s;return a===void 0||S>=t||S<0||d&&E>=o}function v(){var _=cC();if(g(_))return x(_);c=setTimeout(v,f(_))}function x(_){return c=void 0,h&&n?p(_):(n=i=void 0,l)}function y(){c!==void 0&&clearTimeout(c),s=0,n=a=i=c=void 0}function b(){return c===void 0?l:x(cC())}function w(){var _=cC(),S=g(_);if(n=arguments,i=this,a=_,S){if(c===void 0)return m(a);if(d)return clearTimeout(c),c=setTimeout(v,t),p(a)}return c===void 0&&(c=setTimeout(v,t)),l}return w.cancel=y,w.flush=b,w}var _D=kTe;function DTe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var jTe=DTe;function ITe(e,t){return t.length<2?e:vY(e,xCe(t,0,-1))}var OTe=ITe;function RTe(e,t){return bTe(e,t)}var jY=RTe;function zTe(e,t){return t=Eg(t,e),e=OTe(e,t),e==null||delete e[zS(jTe(t))]}var LTe=zTe;function NTe(e){return yCe(e)?void 0:e}var BTe=NTe,FTe=1,UTe=2,VTe=4,HTe=bY(function(e,t){var r={};if(e==null)return r;var n=!1;t=aY(t,function(o){return o=Eg(o,e),n||(n=o.length>1),o}),a1(e,CY(e),r),n&&(r=PY(r,FTe|UTe|VTe,BTe));for(var i=t.length;i--;)LTe(r,t[i]);return r}),HT=HTe;function WTe(e,t,r,n){if(!Ds(e))return e;t=Eg(t,e);for(var i=-1,o=t.length,l=o-1,c=e;c!=null&&++i<o;){var a=zS(t[i]),s=r;if(a==="__proto__"||a==="constructor"||a==="prototype")return e;if(i!=l){var u=c[a];s=n?n(u,a,c):void 0,s===void 0&&(s=Ds(u)?u:cD(t[i+1])?[]:{})}dD(c,a,s),c=c[a]}return e}var GTe=WTe;function qTe(e,t,r){for(var n=-1,i=t.length,o={};++n<i;){var l=t[n],c=vY(e,l);r(c,l)&&GTe(o,Eg(l,e),c)}return o}var YTe=qTe;function $Te(e,t){return YTe(e,t,function(r,n){return CTe(e,n)})}var XTe=$Te,KTe=bY(function(e,t){return e==null?{}:XTe(e,t)}),Cc=KTe,QTe="Expected a function";function ZTe(e,t,r){var n=!0,i=!0;if(typeof e!="function")throw new TypeError(QTe);return Ds(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),_D(e,t,{leading:n,maxWait:t,trailing:i})}var JTe=ZTe;function ePe(e){for(let t of Object.keys(e))e[t]===void 0&&delete e[t];return e}function zc(e,t){return Object.setPrototypeOf(e,t),e}var tPe=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().includes(" electron/"),rPe=()=>typeof window>"u"?!1:window.navigator.platform.toUpperCase().includes("MAC"),nPe=()=>typeof window>"u"?!1:/iPad|iPhone|iPod/.test(window.navigator.userAgent)||NS&&"ontouchend"in document,iPe=()=>typeof window>"u"?!1:window.navigator.userAgent.toLowerCase().indexOf("firefox")>-1,oPe=()=>typeof window>"u"?!1:"ontouchstart"in window||navigator.maxTouchPoints>0,aPe=()=>{if(typeof window>"u")return!1;let e=navigator.userAgent,t=navigator.vendor;return/Safari/i.test(e)&&/Apple Computer/.test(t)},sPe=()=>{if(typeof window>"u")return null;let e=navigator.userAgent.match(/Version\/(\d+\.\d)/);return e&&e[1]},lPe=()=>{if(typeof window>"u")return;let e=new URLSearchParams(window.location.search).get("desktop-app-version");return e?(window.localStorage.setItem("desktop-app-version",e),e):window.localStorage.getItem("desktop-app-version")??"0.0.6"},cPe=tPe();cPe&&lPe();var NS=rPe(),SD=nPe(),uPe=iPe(),ta=oPe(),S8=aPe(),E8=Number(sPe());function IY(e){return Array.isArray(e)?e:[e]}function dPe(e,t){let r=0;for(;r<e.length&&r<t.length;){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1;r+=1}return r!==t.length?-1:r!==e.length?1:0}function Eb(e){return NS?e.metaKey:e.ctrlKey}var xt=[],p_={},H0={},qx={};function OY(e){xt.includes(e)||xt.push(e)}function rm(e){delete p_[e.pointerId];for(let t=0;t<xt.length;t++)if(xt[t].pointerId===e.pointerId){xt.splice(t,1);break}}function hPe(){xt.splice(0,xt.length)}function f_(e){if(e.pointerType!=="touch")return;let t=p_[e.pointerId];t===void 0&&(t={x:0,y:0},p_[e.pointerId]=t),t.x=e.pageX,t.y=e.pageY}function uC(e){let t=e.pointerId===xt[0].pointerId?xt[1]:xt[0];return p_[t.pointerId]}function RY(e){H0[e.key]=!0,qx[e.key]=qx[e.key]===void 0?1:qx[e.key]+1}function zY(e){if(NS&&H0.Meta)for(let t in H0)H0[t]=!1;else H0[e.key]=!1;qx={}}function pPe(e){e.addEventListener("pointerdown",OY,!0),e.addEventListener("pointerdown",f_,!0),e.addEventListener("pointermove",f_,!0),e.addEventListener("pointerup",rm,!0),e.addEventListener("pointercancel",rm,!0),e.addEventListener("pointerleave",rm,!0),window.addEventListener("keydown",RY,!0),window.addEventListener("keyup",zY,!0)}function fPe(e){e.removeEventListener("pointerdown",OY,!0),e.removeEventListener("pointerdown",f_,!0),e.removeEventListener("pointermove",f_,!0),e.removeEventListener("pointerup",rm,!0),e.removeEventListener("pointercancel",rm,!0),e.removeEventListener("pointerleave",rm,!0),window.removeEventListener("keydown",RY,!0),window.removeEventListener("keyup",zY,!0)}var LY,mPe=new Promise(e=>{LY=e}),Cb;function gPe(){if(Cb)return Cb;async function e(){let t="https://unpkg.com/@splinetool/navmesh-wasm@0.9.526/build",r=Qy(()=>import("./navmesh-BFd9Mv4x.js"),[]),[n,i]=await Promise.all([r,fetch(`${t}/navmesh.wasm`).then(c=>c.arrayBuffer())]),o=n.default,l=await o({wasmBinary:i});LY(l)}return Cb=e(),Cb}var NY,vPe=new Promise(e=>{NY=e}),Ab;function yPe(){if(Ab)return Ab;async function e(){let t=await Qy(()=>import("./physics-BM4kW-A5.js"),[]);await t.init(),NY(t)}return Ab=e(),Ab}var Ht=class{modifyById(e,t){let r=this;if(r[e]===void 0)throw new Error("not expected");{let n={...r,[e]:t};return Object.setPrototypeOf(n,Ht.prototype),n}}add(e,t){var r;return((r=this.runOp({type:1,id:e,data:t}))==null?void 0:r.data)??this}runOp(e){let t=this;if(e.type===1){let r=t[e.id],n;r===void 0?n={type:2,id:e.id}:n={type:1,id:e.id,data:r};let{id:i,data:o}=e,l={...t,[i]:o};return Object.setPrototypeOf(l,Ht.prototype),{data:l,actual:e,reverse:n}}else if(e.type===2){let{id:r}=e,n=t[r];if(n===void 0)return null;{let i={...t};return Object.setPrototypeOf(i,Ht.prototype),delete i[r],{data:i,actual:e,reverse:{type:1,id:r,data:n}}}}return null}};function ED(e){if(e.deepFreeze!==void 0){e.deepFreeze(e);return}let t=Object.getOwnPropertyNames(e);for(let r of t){let n=e[r];n&&typeof n=="object"&&ED(n)}return Object.freeze(e)}function bPe(e,t){let r=0;for(;r<e.length&&r<t.length;){if(e[r]<t[r])return-1;if(e[r]>t[r])return 1;r+=1}return r!==t.length?-1:r!==e.length?1:0}var BY=class extends Error{};function dC(e){let t={...e};return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}function Pu(e,t,r){if(e===void 0?t===void 0?(e=0,t=10):e=t-10:t===void 0&&(t=e+10),e>t){let o=e;e=t,t=o}let n=[],i=1/(r+1);for(let o=0;o<r;o++){let l=e+(t-e)*(o+.75+Math.random()*.5)*i;n.push(l)}return n}function CD(e){return e instanceof Uint8Array||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Float32Array||e instanceof Float64Array}function xPe(){return typeof process<"u"}function FY(e,t){for(let r of e)t(r.id,r.data)!==!0&&FY(r.children,t)}function UY(e,t){if(t(e.id,e.data)!==!0)for(let r of e.children)UY(r,t)}var jo=class extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,jo.prototype)}deepFreeze(){let e=0;for(;e<this.length;)ED(this[e]),e++}fillCaches0(e,t){this.objCaches.set(e.id,e),this.parentCaches.set(e.id,t);for(let r of e.children)this.fillCaches0(r,e.id)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,this.parentCaches=new Map;for(let e of this)this.fillCaches0(e,null)}}randomId(){this.fillCaches();let e=Array.from(this.objCaches.keys());if(e.length!==0)return e[Math.max(0,Math.floor(Math.random()*e.length)-1)]}nonExistOrDescendantOf(e,t){if(!this.has(e))return!0;for(;e;){let r=this.parent(e);if(r===t)return!0;e=r}return!1}rootAcestor(e){for(;e;){let t=this.parent(e);if(t)e=t;else return e}return e}isDescendantOf(e,t){for(;e;){let r=this.parent(e);if(r===t)return!0;e=r}return!1}data(e){var t;return(t=this.get(e))==null?void 0:t.data}has(e){return this.childrenOf(e)!==void 0}get(e){return this.fillCaches(),this.objCaches.get(e)}childrenOf(e){var t;return e===null?this:(t=this.get(e))==null?void 0:t.children}traverseFrom(e,t){if(e===null)this.traverse(t);else{let r=this.get(e);r&&UY(r,t)}}traverse(e){FY(this,e)}totalSize(){return this.fillCaches(),this.objCaches.size}parent(e){return this.fillCaches(),this.parentCaches.get(e)}childrenArray(e){return e===null?this:this.get(e).children}modifyById(e,t){if(this.get(e)===void 0)throw new Error("not expected");{let r=this.parent(e),n=this.childrenArray(r),i=n.findIndex(l=>l.id===e);if(i<0)throw new Error("not expected");let o=n[i];return n=[...n],n[i]={...o,data:t},this.modifyArrayBy(r,n)}}modifyArrayBy(e,t){let r=e,n=t;for(;r!==null;){let o=n,l=r;if(r=this.parent(r),r===void 0)throw new Error;n=this.childrenArray(r);let c=n.findIndex(a=>a.id===l);if(c<0)throw new Error;n=[...n],n[c]={...n[c],children:o}}Object.setPrototypeOf(n,jo.prototype);let i=n;return i.fillCaches(),i}runOp(e){switch(e.type){case 7:return this.addOp(e);case 8:return this.deleteOp(e);case 9:return this.moveOp(e)}return null}checkDuplicatedIdRec({id:e,children:t}){if(this.get(e)!==void 0)return!0;for(let r of t)if(this.checkDuplicatedIdRec(r))return!0;return!1}addOp(e){let{parent:t,fi:r,id:n,data:i,children:o}=e;if(t!==null&&this.get(t)===void 0||this.checkDuplicatedIdRec(e))return null;{let l=t,c=this.childrenArray(l),a={fi:r,id:n,data:i,children:o};return c=[...c,a],c.sort((s,u)=>s.fi-u.fi),e.localIndex=c.indexOf(a),{data:this.modifyArrayBy(l,c),actual:e,reverse:{type:8,id:n}}}}deleteOp(e){let{id:t}=e;if(this.get(t)===null)return null;{let r=this.parent(t);if(r===void 0)return null;let n=this.childrenArray(r),i=n.findIndex(l=>l.id===t);e.localIndex=i,n=[...n];let o=n.splice(i,1)[0];return{data:this.modifyArrayBy(r,n),actual:e,reverse:{type:7,...o,parent:r}}}}moveOp(e){let{parent:t,fi:r,id:n}=e;if(t!==null&&this.get(t)===void 0)return this.deleteOp({type:8,id:n});if(t!==null){let d=t;for(;d!==null;){if(d===void 0)throw new Error;if(d===n)throw new BY("cyclic tree");d=this.parent(d)}}let i=this.parent(n);if(i===void 0)return null;let o=i,l=this.childrenArray(i),c=l.findIndex(d=>d.id===n);l=[...l];let a=l.splice(c,1)[0],s=this.modifyArrayBy(i,l);i=t,l=s.childrenArray(i);let u=a.fi;return a={...a,fi:r},l=[...l,a],l.sort((d,h)=>d.fi-h.fi),e.localIndex=l.indexOf(a),s=s.modifyArrayBy(i,l),{data:s,actual:e,reverse:{type:9,parent:o,fi:u,id:n}}}previous(e,t){if(t===null){let n=this.childrenArray(e);return n.length===0?null:n[n.length-1].id}let r=null;for(let n of this.childrenArray(e)){if(n.id===t)return r;r=n.id}return null}traverseSortNext(e){let t=this.parent(e);if(t!==void 0){let r=this.childrenArray(t),n=r.findIndex(i=>i.id===e)+1;if(n<r.length)return r[n].id;if(t)return this.traverseSortNext(t)}}sortNext(e){let t=this.childrenArray(e);return t.length>0?t[0].id:this.traverseSortNext(e)}traverseSortPrevious(e){let t=this.childrenArray(e);return t.length>0?this.traverseSortPrevious(t[t.length-1].id):e}sortPrevious(e){let t=this.parent(e);if(t!==void 0){let r=this.childrenArray(t),n=r.findIndex(i=>i.id===e)-1;return n>=0?this.traverseSortPrevious(r[n].id):t}}getAllSorted(e){let t=[];for(let r of e){let n=this.getWithSortKey(r.id);n!==void 0&&t.push({...r,...n})}t.sort((r,n)=>bPe(r.sortKey,n.sortKey));for(let r of t)delete r.sortKey;return t}getWithSortKey(e){var t=e;let r=[],n=this.get(t),i=n;if(n!==void 0){for(;t;)r.splice(0,0,n.fi),t=this.parent(t),t!==null&&(n=this.get(t));return{...i,sortKey:r}}}insertBeforeHelper(e,t,r){return this.insertAfterHelper(e,this.previous(e,t),r)}insertAfterHelper(e,t,r){let n=this.childrenArray(e);if(t===null){if(n.length===0)return Pu(0,r,r);{let i=n[0].fi;return Pu(i-r,i,r)}}else{let i=this.get(t);if(i===void 0||this.parent(t)!==e)throw new Error("illegal args");let o=n.find(l=>l.fi>i.fi);if(o===void 0){let l=n[n.length-1].fi;return Pu(l,l+r,r)}else return Pu(i.fi,o.fi,r)}}},m_;(e=>{function t(r,n){if(n.type!==0)return null;if(Array.isArray(r)){let i=n.props,o={},l=[...r],c=!1;if(i)for(let a of Object.keys(i)){let s=parseInt(a);if(isNaN(s))throw new Error("wrong index");o[a]=l[s],l[s]=i[a],c=!0}return c?{data:l,actual:n,reverse:{type:0,props:o}}:null}else{let i=n.props,o={},l={...r},c=!1;if(i)for(let a of Object.keys(i)){o[a]=l[a];let s=i[a];s===void 0?delete l[a]:l[a]=s,c=!0}return c?{data:l,actual:n,reverse:{type:0,props:o}}:null}}e.runOp=t})(m_||(m_={}));var vt=class extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,vt.prototype)}deepFreeze(){let t=0;for(;t<this.length;)ED(this[t]),t++}fillCaches0(t){this.objCaches.set(t.id,t)}fillCaches(){if(this.objCaches===void 0){this.objCaches=new Map,Object.getOwnPropertyDescriptor(this,"objCaches").enumerable=!1;for(let t of this)this.fillCaches0(t)}}randomId(){this.fillCaches();let t=Array.from(this.objCaches.keys());if(t.length!==0)return t[Math.max(0,Math.floor(Math.random()*t.length)-1)]}data(t){var r;return(r=this.get(t))==null?void 0:r.data}get(t){return this.fillCaches(),this.objCaches.get(t)}modifyById(t,r){if(this.get(t)===void 0)throw new Error("not expected");{let n=this,i=n.findIndex(l=>l.id===t);if(i<0)throw new Error("not expected");let o=n[i];return n=[...n],n[i]={...o,data:r},this.modifyArrayBy(n)}}modifyArrayBy(t){Object.setPrototypeOf(t,vt.prototype);let r=t;return xPe()||r.fillCaches(),r}runOp(t){switch(t.type){case 4:return this.addOp(t);case 5:return this.deleteOp(t);case 6:return this.moveOp(t)}return null}addOp(t){let{fi:r,id:n,data:i}=t,o=this,l={fi:r,id:n,data:i};return o=[...o,l],o.sort((c,a)=>c.fi-a.fi),t.localIndex=o.indexOf(l),{data:this.modifyArrayBy(o),actual:t,reverse:{type:5,id:n}}}deleteOp(t){let{id:r}=t,n=this,i=n.findIndex(l=>l.id===r);if(i===-1)return null;t.localIndex=i,n=[...n];let o=n.splice(i,1)[0];return{data:this.modifyArrayBy(n),actual:t,reverse:{type:4,...o}}}moveOp(t){let{fi:r,id:n}=t,i=this;i=[...i];let o=i.findIndex(a=>a.id===n);if(o===-1)return null;let l=i[o].fi,c={...i[o],fi:r};return i[o]=c,i.sort((a,s)=>a.fi-s.fi),t.localIndex=i.indexOf(c),{data:this.modifyArrayBy(i),actual:t,reverse:{type:6,fi:l,id:n}}}previous(t){if(t===null)return this.length===0?null:this[this.length-1].id;let r=null;for(let n of this){if(n.id===t)return r;r=n.id}return null}insertBeforeHelper(t,r){return this.insertAfterHelper(this.previous(t),r)}insertAfterHelper(t,r){let n=this;if(t===null){if(n.length===0)return Pu(0,r,r);{let i=n[0].fi;return Pu(i-r,i,r)}}else{let i=this.get(t);if(i===void 0)throw new Error("illegal args");let o=n.find(l=>l.fi>i.fi);if(o===void 0){let l=n[n.length-1].fi;return Pu(l,l+r,r)}else return Pu(i.fi,o.fi,r)}}};function Gm(e){return e&&typeof e=="object"&&e instanceof Kn}var Kn=class{unusedFunOverridesTable(e){}runOp(e){let t=[],r=this,n=0,i={};for(;n<e.path.length;){if(t.push(r),r=r===void 0?void 0:r[e.path[n]],r!==void 0&&!Gm(r))return null;n+=1}r=r?dC(r):new Kn;for(let[c,a]of Object.entries(e.props)){let s=r[c];i[c]=s,a===void 0?delete r[c]:r[c]=a}for(;n>0;){if(Object.keys(r).length===0){let c=t[n-1];c&&(r=dC(c),delete r[e.path[n-1]])}else{let c=t[n-1];if(c){let a=dC(c);a[e.path[n-1]]=r,r=a}else{let a=new Kn;a[e.path[n-1]]=r,r=a}}n-=1}let o=Object.setPrototypeOf(r,Kn.prototype),l={...e,props:i};return{data:o,actual:e,reverse:l}}},Xu;(e=>{function t(i,o){return vy(i,o)??i}e.apply=t;function r(i,o){return MD(i,o)}e.merge=r;function n(i,o){let l=0,c=o.path,a=i;for(;l<c.length&&a!==void 0;){if(a=Ki.zoomOnce(a,c[l]),a===void 0)return o;if(!Gm(a))return;l+=1}if(a===void 0)return o;if(Gm(a))if(o.type===0){let s={...o.props};for(let u of Object.keys(a))delete s[u];return{...o,props:s}}else if(o.type===1||o.type===4||o.type===7){let s=AD([o],a);return s?(console.log(s),s):o}else return o}e.filterOp=n})(Xu||(Xu={}));function AD(e,t){if(t===void 0)return;let r=!1,n=e.map(i=>{let o=i.id,l=vy(i.data,t[o]);if(r=r||l!==void 0,l===void 0&&(l=i.data),i.children){let c=AD(i.children,t);return c!==void 0?r=!0:c=i.children,{...i,id:o,data:l,children:c}}else return{...i,id:o,data:l}});if(r)return n}function wPe(e,t){if(t===void 0)return;let r=!1,n=e.map(i=>{let o=i.id,l=vy(i.data,t[o]);return r=r||l!==void 0,l===void 0&&(l=i.data),{...i,id:o,data:l}});if(r)return Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}function vy(e,t){if(!Gm(t))return t;if(e instanceof jo){let r=AD(e,t);return r!==void 0&&Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r}else{if(e instanceof vt)return wPe(e,t);if(Array.isArray(e)){let r=!1,n=e.map((i,o)=>{let l=vy(i,t[o]);return r=r||l!==void 0,l===void 0&&(l=i),l});return r?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}else{if(e instanceof Kn)return MD(e,t);if(e&&typeof e=="object"){let r={},n=!1;for(let[i,o]of Object.entries(e)){let l=vy(o,t[i]);n=n||l!==void 0,l===void 0&&(l=o),r[i]=l}return n?(Object.setPrototypeOf(r,Object.getPrototypeOf(e)),r):void 0}}}}function MD(e,t){if(e===void 0)return t;if(t===void 0)return e;if(!Gm(t))return t;if(!Gm(e))return Xu.apply(e,t);let r=new Set;for(let i of Object.keys(e))r.add(i);for(let i of Object.keys(t))r.add(i);let n=new Kn;for(let i of r){let o=MD(e===void 0?void 0:e[i],t===void 0?void 0:t[i]);n[i]=o}return n}function _Pe(e,t){let r={cur:[],result:[],len:0};return e=yy(e,t,r)??e,[e,r.result]}function g_(e,t){return e===null?null:(e.cur[e.len]=t,e.len+=1,e)}function v_(e){e&&(e.len-=1)}function SPe(e){if(e===null)return null;e.result.push(e.cur.slice(0,e.len))}function VY(e,t,r){let n=!1,i=e.map(o=>{let l=o.id,c=t[l];if(c!==void 0&&typeof c=="string"&&(n=!0,l=c,r!==null))throw new Error("not supported");let a=yy(o.data,t,g_(r,l));v_(r),n=n||a!==void 0,a===void 0&&(a=o.data);let s=VY(o.children,t,r);return s!==void 0?n=!0:s=o.children,{...o,id:l,data:a,children:s}});if(n)return i}function EPe(e,t,r){let n=!1,i=e.map(o=>{let l=o.id,c=t[l];if(c!==void 0&&typeof c=="string"&&(n=!0,l=c,r!==null))throw new Error("not supported");let a=yy(o.data,t,g_(r,l));return v_(r),n=n||a!==void 0,a===void 0&&(a=o.data),{...o,id:l,data:a}});if(n)return Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i}function yy(e,t,r){if(e instanceof jo){let n=VY(e,t,r);return n!==void 0&&Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n}else{if(e instanceof vt)return EPe(e,t,r);if(Array.isArray(e)){let n=!1,i=e.map((o,l)=>{let c=yy(o,t,g_(r,l));return v_(r),n=n||c!==void 0,c===void 0&&(c=o),c});return n?(Object.setPrototypeOf(i,Object.getPrototypeOf(e)),i):void 0}else if(e&&typeof e=="object"&&!CD(e)){let n={},i=!1;for(let[o,l]of Object.entries(e))if(o!=="name"){let c=t[o];if(typeof c=="string"){if(r!==null)throw new Error("not supported");i=!0,o=c}let a=yy(l,t,g_(r,o));v_(r),i=i||a!==void 0,a===void 0&&(a=l),n[o]=a}else n[o]=l;return i?(Object.setPrototypeOf(n,Object.getPrototypeOf(e)),n):void 0}else if(typeof e=="string"){let n=t[e];return n!==void 0&&SPe(r),n}else return}}var WT;(e=>{function t(r,n){let i=Ki.zoom(n,r.path);if(typeof i=="object"){let o={};for(let l of Object.keys(r.props))o[l]=i[l];return{...r,props:o}}else return{...r,props:{}}}e.replaceProps=t})(WT||(WT={}));var Di;(e=>{function t(a,s){return{...a,path:a.path.slice(s)}}e.drop=t;function r(a,s){var u;return((u=n(a,s))==null?void 0:u.data)??a}e.applySimple=r;function n(a,s){var h,p;let u=s.path;for(var d=[];;){let m;if(a instanceof Kn&&s.type===0&&(m=a.runOp({...s,path:u.slice(d.length)}),m===null&&(m=void 0)),m===void 0&&d.length===u.length&&(a instanceof jo||a instanceof vt||a instanceof Ht?m=a.runOp(s):m=m_.runOp(a,s)),m!==void 0)if(m!==null){let v=m.data;for(let x=d.length-1;x>=0;x--){let y=u[x],b=d[x];if(b instanceof jo){if(typeof y=="number")throw new Error("illegal arg");v=b.modifyById(y,v)}else if(b instanceof vt){if(typeof y=="number")throw new Error("illegal arg");v=b.modifyById(y,v)}else if(b instanceof Ht){if(typeof y=="number")throw new Error("illegal arg");v=b.modifyById(y,v)}else if(b instanceof Kn){let w={...b,[y]:v};v=Object.setPrototypeOf(w,Kn.prototype)}else if(typeof b=="object")if(Array.isArray(b)){if(typeof y=="string"&&(y=parseInt(y),isNaN(y)))throw new Error("Invalid path");let w=v;v=[...b],v[y]=w}else v={...b,[y]:v};else return null}return{data:v,actual:{...m.actual,path:u},reverse:{...m.reverse,path:u}}}else return null;let f=u[d.length],g;if(a instanceof jo){if(typeof f=="number")throw new Error("");g=(h=a.get(f))==null?void 0:h.data}else if(a instanceof vt){if(typeof f=="number")throw new Error("");g=(p=a.get(f))==null?void 0:p.data}else a!==null&&(g=a[f]);if(g!==void 0)d.push(a),a=g;else return null}}e.apply=n;function i(a,s){for(let u=0;u<a.length&&u<s.length;u++)if(a[u]!==s[u])return!0;return!1}e.pathDisjoint=i;function o(a,s){if(a.length!==s.length)return!1;for(let u=0;u<a.length;u++)if(a[u]!==s[u])return!1;return!0}e.pathEq=o;function l(a,s){return i(a.path,s.path)}e.commutative=l;function c(a,s){return a.type===0&&s.type===0&&o(a.path,s.path)?Object.keys(a.props).every(u=>s.props[u]!==void 0):!1}e.subsumed=c})(Di||(Di={}));var GT;(e=>{function t(){return[]}e.empty=t;function r(s,u){let d=[];for(let h of s){let[p,...m]=h.path;p===u&&d.push({...h,path:m})}return d}e.removePrefix=r;function n(s,u){return s.map(d=>({...d,path:[u,...d.path]}))}e.addPrefix=n;function i(s,u){return[...s,...u]}e.concat=i;function o(s,u){return[...s.filter(d=>!u.some(h=>Di.subsumed(d,h))),...u]}e.compress=o;function l(s,u){return s.every(d=>u.every(h=>Di.commutative(d,h)))}e.commutative=l;function c(s,u){for(let d of u){let h=a(s,d);h!==null&&(s=h.data)}return s}e.applyAll=c;function a(s,u){var d=s;let h=[],p=[];for(let m of u)try{if(m.type===3||m.type===5&&m.path[m.path.length-1]==="variables"){let f,g,v;if(m.type===3?(f=Ki.zoom(d,[...m.path,m.id]),v=Di.apply(d,{...m,type:2})):(f=Ki.zoom(d,[...m.path,m.id,"value"]),v=Di.apply(d,m)),v!==null){d=v.data;let[x,y]=_Pe(d,{[m.id]:f});d=x;for(let b=0;b<y.length;b++){let w=y[b],_=w.pop();if(typeof _=="number"){let S=[_];for(let A=b+1;A<y.length;A++){let C=y[A],M=C[C.length-1];if(typeof M=="number"&&Ki.equal(w,C.slice(0,C.length-1)))S.push(M),y.splice(A,1);else break}let E=Ki.zoom(d,w);g=E.map((A,C)=>S.includes(C)?m.id:A),f=E,_=w.pop()}else{if(_==="alphaOverride"||_==="alpha"){f/=100;let S=f,E=Ki.zoom(d,w.slice(0,w.length-2)),A=E.layers.map(C=>C.id===w[w.length-1]?{...C,data:{...C.data,[_]:S}}:C);Object.setPrototypeOf(A,Object.getPrototypeOf(E.layers)),E.layers=A}g=m.id}h.push({type:0,path:w,props:{[_]:f}}),p.push({type:0,path:w,props:{[_]:g}})}p.push(v.reverse),h.push(v.actual)}}else{let f=Di.apply(d,m);f!==null&&(h.push(f.actual),d=f.data,p.push(f.reverse))}}catch(f){if(f instanceof BY)return null;throw f}return{data:d,actual:h,reverse:p.reverse()}}e.apply=a})(GT||(GT={}));var HY=Symbol(),CPe=Symbol(),BS=Symbol(),s1=class{reportOp(e,t,r=[]){let n=this;if(t===null)return;n._current=t.data;let i=r;for(;!(n instanceof GY);){let o=n._path,l=n._current;if(o!==""&&i.splice(0,0,o),n=n._parent,n===null)return;n.update(o,l)}n.push(i,e,t.actual,t.reverse)}deleteChildren(e){if(this._children){let t=this._children[e];if(t){let r=t[BS];r&&r(),delete this._children[e]}}}},APe=class extends s1{constructor(e,t,r){super(),this._parent=e,this._path=t,this._current=r}update(e,t){if(Array.isArray(this._current)){if(typeof e=="string"&&(e=parseInt(e),isNaN(e)))throw new Error("Invalid path");this._current=[...this._current],this._current[e]=t}else this._current={...this._current,[e]:t}}runOp(e){this.reportOp(e,m_.runOp(this._current,e),e.path)}},MPe=class extends s1{constructor(e,t,r){super(),this._parent=e,this._path=t,this._current=r}update(e,t){this._current={...this._current,[e]:t},Object.setPrototypeOf(this._current,Ht.prototype)}runOp(e){this.reportOp(e,this._current.runOp(e))}},WY={get(e,t){if(t===BS)return()=>{e._parent=null};if(t===HY)return e._current;if(t===CPe)return e;let{_current:r,_children:n}=e;if(t==="push"&&Array.isArray(r))throw new Error("not supported to expand array");let i=n===void 0?void 0:n[t];if(i!==void 0)return i;let o=r[t],l=FS(e,t,o);return l!==o?(n===void 0&&(n={},e._children=n),n[t]=l,l):o},has(e,t){return t in e._current},ownKeys(e){return Reflect.ownKeys(e._current)},defineProperty(){throw Error("not supported")},getPrototypeOf(e){return Object.getPrototypeOf(e._current)},setPrototypeOf(){throw Error("not supported")},getOwnPropertyDescriptor(e,t){let r=e._current,n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:!0,enumerable:n.enumerable,value:r[t]}}},TPe={...WY,set(e,t,r){let n={type:0,props:{[t]:Fn(r)??r}};return e.deleteChildren(t),e.runOp(n),!0},deleteProperty(e,t){let r={type:0,props:{[t]:void 0}};return e.deleteChildren(t),e.runOp(r),!0}},PPe={...WY,set(e,t,r){return r===void 0?this.deleteProperty(e,t):(e.deleteChildren(t),e.runOp({type:1,id:t,data:r})),!0},deleteProperty(e,t){return e.runOp({type:2,id:t}),!0}},TD=class extends s1{constructor(e,t,r){super(),this._children={},this._parent=e,this._path=t,this._current=r,this[BS]=()=>{this._parent=null}}unproxy(){return this._current}update(e,t){this._current=this._current.modifyById(e,t)}runOp(e){this.reportOp(e,this._current.runOp(e))}randomId(){return this._current.randomId()}isDescendantOf(e,t){return this._current.isDescendantOf(e,t)}childrenOf(e){return this._current.childrenOf(e)}traverse(e){return this._current.traverse(e)}get(e){return this._current.get(e)}parent(e){return this._current.parent(e)}traverse(e){this._current.traverse((t,r)=>{e(t,this.data(t))})}data(e){var l;let{_current:t,_children:r}=this,n=r===void 0?void 0:r[e];if(n!==void 0)return n;let i=(l=t.get(e))==null?void 0:l.data,o=FS(this,e,i);return o!==i?(r===void 0&&(r={},this._children=r),r[e]=o,o):i}add(e,t,r,n,i){this.runOp({type:7,parent:e,fi:t,id:r,data:n,children:i})}move(e,t,r){this.runOp({type:9,parent:e,fi:t,id:r})}insertAfter(e,t,r){let n=this._current.insertAfterHelper(e,t,r.length);for(let i=0;i<r.length;i++){let o=r[i];this.add(e,n[i],o.id,o.data,o.children)}}insertBefore(e,t,r){let n=this._current.insertBeforeHelper(e,t,r.length);for(let i=0;i<r.length;i++){let o=r[i];this.add(e,n[i],o.id,o.data,o.children)}}moveAfter(e,t,r){let n=this._current.insertAfterHelper(e,t,r.length);for(let i=0;i<r.length;i++){let o=r[i];this.move(e,n[i],o)}}moveBefore(e,t,r){let n=this._current.insertBeforeHelper(e,t,r.length);for(let i=0;i<r.length;i++){let o=r[i];this.move(e,n[i],o)}}delete(e){this.deleteChildren(e),this.runOp({type:8,id:e})}sortNext(e){return this._current.sortNext(e)}sortPrevious(e){return this._current.sortPrevious(e)}getAllSorted(e){return this._current.getAllSorted(e)}},PD=class extends s1{constructor(e,t,r){super(),this._children={},this._parent=e,this._path=t,this._current=r,this[BS]=()=>{this._parent=null}}unproxy(){return this._current}get length(){return this._current.length}forEach(e){let t=this.length;for(let r=0;r<t;r++){let n=this._current[r].id,i=this._current[r].fi;e(this.data(this._current[r].id),n,i)}}find(e){let t=this.length;for(let r=0;r<t;r++){let n=this._current[r].id;if(e(this.data(n),n))return this.get(n)}}update(e,t){this._current=this._current.modifyById(e,t)}randomId(){return this._current.randomId()}get(e){return{...this._current.get(e),data:this.data(e)}}data(e){var l;let{_current:t,_children:r}=this,n=r===void 0?void 0:r[e];if(n!==void 0)return n;let i=(l=t.get(e))==null?void 0:l.data,o=FS(this,e,i);return o!==i?(r===void 0&&(r={},this._children=r),r[e]=o,o):i}runOp(e){this.reportOp(e,this._current.runOp(e))}add(e,t,r){this.runOp({type:4,fi:e,id:t,data:r})}move(e,t){this.runOp({type:6,fi:e,id:t})}insertAfter(e,t){let r=this._current.insertAfterHelper(e,t.length);for(let n=0;n<t.length;n++){let i=t[n];this.add(r[n],i.id,i.data)}}insertBefore(e,t){let r=this._current.insertBeforeHelper(e,t.length);for(let n=0;n<t.length;n++){let i=t[n];this.add(r[n],i.id,i.data)}}moveAfter(e,t){let r=this._current.insertAfterHelper(e,t.length);for(let n=0;n<t.length;n++){let i=t[n];this.move(r[n],i)}}moveBefore(e,t){let r=this._current.insertBeforeHelper(e,t.length);for(let n=0;n<t.length;n++){let i=t[n];this.move(r[n],i)}}delete(e){this.deleteChildren(e),this.runOp({type:5,id:e})}};function hC(e,t,r){if(e.length>0){let n=e[e.length-1];if(n.type===0&&t.type===0&&Ki.equal(n.path,r)){Object.assign(n.props,t.props);return}}e.push({...t,path:r})}var GY=class extends s1{constructor(e){super(),this.ts=[],this.actual=[],this.reverse=[],this._current=e}update(e,t){if(e!=="")throw new Error("");this._current=t}push(e,t,r,n){hC(this.ts,t,e),hC(this.actual,r,e),hC(this.reverse,n,e)}result(){return{data:this._current,ts:this.ts,actual:this.actual,reverse:this.reverse.reverse()}}};function FS(e,t,r){return r instanceof jo?new TD(e,t,r):r instanceof vt?new PD(e,t,r):r instanceof Ht?new Proxy(new MPe(e,t,r),PPe):r!==null&&typeof r=="object"?CD(r)?r:new Proxy(new APe(e,t,r),TPe):r}function qY(e){let t=new GY(e);return[FS(t,"",e),t]}function by(e,t){let[r,n]=qY(e);return t(r),n.result()}function Fn(e){return e instanceof TD||e instanceof PD?e._current:e!==null&&typeof e=="object"?e[HY]:e}var Ki;(e=>{function t(o,l){if(l.length===o.length)for(var c=0;c<o.length;){if(o[c]!==l[c])return!1;c+=1}else return!1;return!0}e.equal=t;function r(o,l,c){let a=i(c,o);if(a!==void 0&&typeof a=="object"&&a!==null){let s={...l};return Object.keys(a).forEach(u=>{delete s[u]}),s}else return l}e.removeOverridden=r;function n(o,l){if((o instanceof jo||o instanceof TD)&&typeof l=="string"||(o instanceof vt||o instanceof PD)&&typeof l=="string")return o.data(l);if(typeof l=="number"&&Array.isArray(o)||typeof l=="string"&&typeof o=="object"&&o!==null)return o[l]}e.zoomOnce=n;function i(o,l,c=0){for(;c<l.length&&o!==void 0;)o=n(o,l[c]),c+=1;return o}e.zoom=i})(Ki||(Ki={}));function kPe(e,t){let r=[];if(t.length===e.length)for(var n=0;n<e.length;){if(t[n]==="*")r.push(e[n]);else if(e[n]!==t[n])return null;n+=1}else return null;return r}function Ba(e,t){let r=[];if(t.length<=e.length)for(var n=0;n<t.length;){if(t[n]==="*")r.push(e[n]);else if(e[n]!==t[n])return null;n+=1}else return null;return r}var YY=class{},C8=class extends YY{constructor(e){super(),this.id=e}},A8=class extends YY{constructor(e){super(),this.data=e}},qT;try{qT=new TextDecoder}catch{}var et,Ku,ge=0,_o={},ur,ku,Pa=0,hl=0,Ko,Ac,so=[],mr,M8={useRecords:!1,mapsAsObjects:!0},$Y=class{},XY=new $Y;XY.name="MessagePack 0xC1";var qm=!1,y_=class{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0)),Object.assign(this,e)}unpack(e,t){if(et)return t$(()=>($T(),this?this.unpack(e,t):y_.prototype.unpack.call(M8,e,t)));Ku=t>-1?t:e.length,ge=0,hl=0,ku=null,Ko=null,et=e;try{mr=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(r){throw et=null,e instanceof Uint8Array?r:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof y_){if(_o=this,this.structures)return ur=this.structures,Mb();(!ur||ur.length>0)&&(ur=[])}else _o=M8,(!ur||ur.length>0)&&(ur=[]);return Mb()}unpackMultiple(e,t){let r,n=0;try{qm=!0;let i=e.length,o=this?this.unpack(e,i):VS.unpack(e,i);if(t){for(t(o);ge<i;)if(n=ge,t(Mb())===!1)return}else{for(r=[o];ge<i;)n=ge,r.push(Mb());return r}}catch(i){throw i.lastPosition=n,i.values=r,i}finally{qm=!1,$T()}}_mergeStructures(e,t){e=e||[];for(let r=0,n=e.length;r<n;r++){let i=e[r];i&&(i.isShared=!0,r>=32&&(i.highByte=r-32>>5))}e.sharedLength=e.length;for(let r in t||[])if(r>=0){let n=e[r],i=t[r];i&&(n&&((e.restoreStructures||(e.restoreStructures=[]))[r]=n),e[r]=i)}return this.structures=e}decode(e,t){return this.unpack(e,t)}};function Mb(){try{if(!_o.trusted&&!qm){let t=ur.sharedLength||0;t<ur.length&&(ur.length=t)}let e=hn();if(ge==Ku)ur.restoreStructures&&T8(),ur=null,et=null,Ac&&(Ac=null);else if(ge>Ku){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}else if(!qm)throw new Error("Data read, but end of buffer not reached");return e}catch(e){throw ur.restoreStructures&&T8(),$T(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer"))&&(e.incomplete=!0),e}}function T8(){for(let e in ur.restoreStructures)ur[e]=ur.restoreStructures[e];ur.restoreStructures=null}function hn(){let e=et[ge++];if(e<160)if(e<128){if(e<64)return e;{let t=ur[e&63]||_o.getStructures&&KY()[e&63];return t?(t.read||(t.read=kD(t,e&63)),t.read()):e}}else if(e<144)if(e-=128,_o.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[ZY()]=hn();return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(hn(),hn());return t}else{e-=144;let t=new Array(e);for(let r=0;r<e;r++)t[r]=hn();return t}else if(e<192){let t=e-160;if(hl>=ge)return ku.slice(ge-Pa,(ge+=t)-Pa);if(hl==0&&Ku<140){let r=t<16?DD(t):QY(t);if(r!=null)return r}return YT(t)}else{let t;switch(e){case 192:return null;case 193:return Ko?(t=hn(),t>0?Ko[1].slice(Ko.position1,Ko.position1+=t):Ko[0].slice(Ko.position0,Ko.position0-=t)):XY;case 194:return!1;case 195:return!0;case 196:return pC(et[ge++]);case 197:return t=mr.getUint16(ge),ge+=2,pC(t);case 198:return t=mr.getUint32(ge),ge+=4,pC(t);case 199:return Md(et[ge++]);case 200:return t=mr.getUint16(ge),ge+=2,Md(t);case 201:return t=mr.getUint32(ge),ge+=4,Md(t);case 202:if(t=mr.getFloat32(ge),_o.useFloat32>2){let r=jD[(et[ge]&127)<<1|et[ge+1]>>7];return ge+=4,(r*t+(t>0?.5:-.5)>>0)/r}return ge+=4,t;case 203:return t=mr.getFloat64(ge),ge+=8,t;case 204:return et[ge++];case 205:return t=mr.getUint16(ge),ge+=2,t;case 206:return t=mr.getUint32(ge),ge+=4,t;case 207:return _o.int64AsNumber?(t=mr.getUint32(ge)*4294967296,t+=mr.getUint32(ge+4)):t=mr.getBigUint64(ge),ge+=8,t;case 208:return mr.getInt8(ge++);case 209:return t=mr.getInt16(ge),ge+=2,t;case 210:return t=mr.getInt32(ge),ge+=4,t;case 211:return _o.int64AsNumber?(t=mr.getInt32(ge)*4294967296,t+=mr.getUint32(ge+4)):t=mr.getBigInt64(ge),ge+=8,t;case 212:if(t=et[ge++],t==114)return I8(et[ge++]&63);{let r=so[t];if(r)return r.read?(ge++,r.read(hn())):r.noBuffer?(ge++,r()):r(et.subarray(ge,++ge));throw new Error("Unknown extension "+t)}case 213:return t=et[ge],t==114?(ge++,I8(et[ge++]&63,et[ge++])):Md(2);case 214:return Md(4);case 215:return Md(8);case 216:return Md(16);case 217:return t=et[ge++],hl>=ge?ku.slice(ge-Pa,(ge+=t)-Pa):jPe(t);case 218:return t=mr.getUint16(ge),ge+=2,hl>=ge?ku.slice(ge-Pa,(ge+=t)-Pa):IPe(t);case 219:return t=mr.getUint32(ge),ge+=4,hl>=ge?ku.slice(ge-Pa,(ge+=t)-Pa):OPe(t);case 220:return t=mr.getUint16(ge),ge+=2,k8(t);case 221:return t=mr.getUint32(ge),ge+=4,k8(t);case 222:return t=mr.getUint16(ge),ge+=2,D8(t);case 223:return t=mr.getUint32(ge),ge+=4,D8(t);default:if(e>=224)return e-256;if(e===void 0){let r=new Error("Unexpected end of MessagePack data");throw r.incomplete=!0,r}throw new Error("Unknown MessagePack token "+e)}}}var DPe=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function kD(e,t){function r(){if(r.count++>2){let i=e.read=new Function("r","return function(){return {"+e.map(o=>DPe.test(o)?o+":r()":"["+JSON.stringify(o)+"]:r()").join(",")+"}}")(hn);return e.highByte===0&&(e.read=P8(t,e.read)),i()}let n={};for(let i=0,o=e.length;i<o;i++){let l=e[i];n[l]=hn()}return n}return r.count=0,e.highByte===0?P8(t,r):r}var P8=(e,t)=>function(){let r=et[ge++];if(r===0)return t();let n=e<32?-(e+(r<<5)):e+(r<<5),i=ur[n]||KY()[n];if(!i)throw new Error("Record id is not defined for "+n);return i.read||(i.read=kD(i,e)),i.read()};function KY(){let e=t$(()=>(et=null,_o.getStructures()));return ur=_o._mergeStructures(e,ur)}var YT=US,jPe=US,IPe=US,OPe=US;function US(e){let t;if(e<16&&(t=DD(e)))return t;if(e>64&&qT)return qT.decode(et.subarray(ge,ge+=e));let r=ge+e,n=[];for(t="";ge<r;){let i=et[ge++];if(!(i&128))n.push(i);else if((i&224)===192){let o=et[ge++]&63;n.push((i&31)<<6|o)}else if((i&240)===224){let o=et[ge++]&63,l=et[ge++]&63;n.push((i&31)<<12|o<<6|l)}else if((i&248)===240){let o=et[ge++]&63,l=et[ge++]&63,c=et[ge++]&63,a=(i&7)<<18|o<<12|l<<6|c;a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a)}else n.push(i);n.length>=4096&&(t+=ni.apply(String,n),n.length=0)}return n.length>0&&(t+=ni.apply(String,n)),t}function k8(e){let t=new Array(e);for(let r=0;r<e;r++)t[r]=hn();return t}function D8(e){if(_o.mapsAsObjects){let t={};for(let r=0;r<e;r++)t[ZY()]=hn();return t}else{let t=new Map;for(let r=0;r<e;r++)t.set(hn(),hn());return t}}var ni=String.fromCharCode;function QY(e){let t=ge,r=new Array(e);for(let n=0;n<e;n++){let i=et[ge++];if((i&128)>0){ge=t;return}r[n]=i}return ni.apply(String,r)}function DD(e){if(e<4)if(e<2){if(e===0)return"";{let t=et[ge++];if((t&128)>1){ge-=1;return}return ni(t)}}else{let t=et[ge++],r=et[ge++];if((t&128)>0||(r&128)>0){ge-=2;return}if(e<3)return ni(t,r);let n=et[ge++];if((n&128)>0){ge-=3;return}return ni(t,r,n)}else{let t=et[ge++],r=et[ge++],n=et[ge++],i=et[ge++];if((t&128)>0||(r&128)>0||(n&128)>0||(i&128)>0){ge-=4;return}if(e<6){if(e===4)return ni(t,r,n,i);{let o=et[ge++];if((o&128)>0){ge-=5;return}return ni(t,r,n,i,o)}}else if(e<8){let o=et[ge++],l=et[ge++];if((o&128)>0||(l&128)>0){ge-=6;return}if(e<7)return ni(t,r,n,i,o,l);let c=et[ge++];if((c&128)>0){ge-=7;return}return ni(t,r,n,i,o,l,c)}else{let o=et[ge++],l=et[ge++],c=et[ge++],a=et[ge++];if((o&128)>0||(l&128)>0||(c&128)>0||(a&128)>0){ge-=8;return}if(e<10){if(e===8)return ni(t,r,n,i,o,l,c,a);{let s=et[ge++];if((s&128)>0){ge-=9;return}return ni(t,r,n,i,o,l,c,a,s)}}else if(e<12){let s=et[ge++],u=et[ge++];if((s&128)>0||(u&128)>0){ge-=10;return}if(e<11)return ni(t,r,n,i,o,l,c,a,s,u);let d=et[ge++];if((d&128)>0){ge-=11;return}return ni(t,r,n,i,o,l,c,a,s,u,d)}else{let s=et[ge++],u=et[ge++],d=et[ge++],h=et[ge++];if((s&128)>0||(u&128)>0||(d&128)>0||(h&128)>0){ge-=12;return}if(e<14){if(e===12)return ni(t,r,n,i,o,l,c,a,s,u,d,h);{let p=et[ge++];if((p&128)>0){ge-=13;return}return ni(t,r,n,i,o,l,c,a,s,u,d,h,p)}}else{let p=et[ge++],m=et[ge++];if((p&128)>0||(m&128)>0){ge-=14;return}if(e<15)return ni(t,r,n,i,o,l,c,a,s,u,d,h,p,m);let f=et[ge++];if((f&128)>0){ge-=15;return}return ni(t,r,n,i,o,l,c,a,s,u,d,h,p,m,f)}}}}}function pC(e){return _o.copyBuffers?Uint8Array.prototype.slice.call(et,ge,ge+=e):et.subarray(ge,ge+=e)}function Md(e){let t=et[ge++];if(so[t])return so[t](et.subarray(ge,ge+=e));throw new Error("Unknown extension type "+t)}var j8=new Array(4096);function ZY(){let e=et[ge++];if(e>=160&&e<192){if(e=e-160,hl>=ge)return ku.slice(ge-Pa,(ge+=e)-Pa);if(!(hl==0&&Ku<180))return YT(e)}else return ge--,hn();let t=(e<<5^(e>1?mr.getUint16(ge):e>0?et[ge]:0))&4095,r=j8[t],n=ge,i=ge+e-3,o,l=0;if(r&&r.bytes==e){for(;n<i;){if(o=mr.getUint32(n),o!=r[l++]){n=1879048192;break}n+=4}for(i+=3;n<i;)if(o=et[n++],o!=r[l++]){n=1879048192;break}if(n===i)return ge=n,r.string;i-=3,n=ge}for(r=[],j8[t]=r,r.bytes=e;n<i;)o=mr.getUint32(n),r.push(o),n+=4;for(i+=3;n<i;)o=et[n++],r.push(o);let c=e<16?DD(e):QY(e);return c!=null?r.string=c:r.string=YT(e)}var I8=(e,t)=>{var r=hn();let n=e;t!==void 0&&(e=e<32?-((t<<5)+e):(t<<5)+e,r.highByte=t);let i=ur[e];return i&&i.isShared&&((ur.restoreStructures||(ur.restoreStructures=[]))[e]=i),ur[e]=r,r.read=kD(r,n),r.read()},JY=typeof self=="object"?self:global;so[0]=()=>{};so[0].noBuffer=!0;so[101]=()=>{let e=hn();return(JY[e[0]]||Error)(e[1])};so[105]=e=>{let t=mr.getUint32(ge-4);Ac||(Ac=new Map);let r=et[ge],n;r>=144&&r<160||r==220||r==221?n=[]:n={};let i={target:n};Ac.set(t,i);let o=hn();return i.used?Object.assign(n,o):(i.target=o,o)};so[112]=e=>{let t=mr.getUint32(ge-4),r=Ac.get(t);return r.used=!0,r.target};so[115]=()=>new Set(hn());var e$=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");so[116]=e=>{let t=e[0],r=e$[t];if(!r)throw new Error("Could not find typed array for code "+t);return new JY[r](Uint8Array.prototype.slice.call(e,1).buffer)};so[120]=()=>{let e=hn();return new RegExp(e[0],e[1])};so[98]=e=>{let t=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],r=ge;ge+=t-4,Ko=[hn(),hn()],Ko.position0=0,Ko.position1=0;let n=ge;ge=r;try{return hn()}finally{ge=n}};so[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function t$(e){let t=Ku,r=ge,n=Pa,i=hl,o=ku,l=Ac,c=Ko,a=new Uint8Array(et.slice(0,Ku)),s=ur,u=ur.slice(0,ur.length),d=_o,h=qm,p=e();return Ku=t,ge=r,Pa=n,hl=i,ku=o,Ac=l,Ko=c,et=a,qm=h,ur=s,ur.splice(0,ur.length,...u),_o=d,mr=new DataView(et.buffer,et.byteOffset,et.byteLength),p}function $T(){et=null,Ac=null,ur=null}function RPe(e){e.unpack?so[e.type]=e.unpack:so[e.type]=e}var jD=new Array(147);for(let e=0;e<256;e++)jD[e]=+("1e"+Math.floor(45.15-e*.30103));var VS=new y_({useRecords:!1});VS.unpack;VS.unpackMultiple;VS.unpack;var zPe=new Float32Array(1);new Uint8Array(zPe.buffer,0,4);var Yx;try{Yx=new TextEncoder}catch{}var b_,ID,HS=typeof Buffer<"u",fC=HS?Buffer.allocUnsafeSlow:Uint8Array,r$=HS?Buffer:Uint8Array,O8=HS?4294967296:2144337920,ke,vn,be=0,Ns,Bs=null,LPe=/[\u0080-\uFFFF]/,d0=Symbol("record-id"),n$=class extends y_{constructor(e){super(e),this.offset=0;let t,r,n,i,o,l=0,c=r$.prototype.utf8Write?function(_,S,E){return ke.utf8Write(_,S,E)}:Yx&&Yx.encodeInto?function(_,S){return Yx.encodeInto(_,ke.subarray(S)).written}:!1,a=this;e||(e={});let s=e&&e.sequential,u=e.structures||e.saveStructures,d=e.maxSharedStructures;if(d==null&&(d=u?32:0),d>8160)throw new Error("Maximum maxSharedStructure is 8160");let h=e.maxOwnStructures;h==null&&(h=u?32:64),s&&!e.saveStructures&&(this.structures=[]);let p=d>32||h+d>64,m=d+64,f=d+h+64;if(f>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let g=[],v=0,x=0;this.pack=this.encode=function(_,S){if(ke||(ke=new fC(8192),vn=new DataView(ke.buffer,0,8192),be=0),Ns=ke.length-10,Ns-be<2048?(ke=new fC(ke.length),vn=new DataView(ke.buffer,0,ke.length),Ns=ke.length-10,be=0):be=be+7&2147483640,t=be,o=a.structuredClone?new Map:null,a.bundleStrings?(Bs=["",""],ke[be++]=214,ke[be++]=98,Bs.position=be-t,be+=4):Bs=null,r=a.structures,r){r.uninitialized&&(r=a._mergeStructures(a.getStructures()));let E=r.sharedLength||0;if(E>d)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+r.sharedLength);if(!r.transitions){r.transitions=Object.create(null);for(let A=0;A<E;A++){let C=r[A];if(!C)continue;let M,T=r.transitions;for(let k=0,P=C.length;k<P;k++){let D=C[k];M=T[D],M||(M=T[D]=Object.create(null)),T=M}T[d0]=A+64}l=E}s||(r.nextId=E+64)}n&&(n=!1),i=r||[];try{if(y(_),Bs){vn.setUint32(Bs.position+t,be-Bs.position-t);let E=Bs;Bs=null,y(E[0]),y(E[1])}if(a.offset=be,o&&o.idsToInsert){be+=o.idsToInsert.length*6,be>Ns&&w(be),a.offset=be;let E=BPe(ke.subarray(t,be),o.idsToInsert);return o=null,E}return S&FPe?(ke.start=t,ke.end=be,ke):ke.subarray(t,be)}finally{if(r){if(x<10&&x++,v>1e4)r.transitions=null,x=0,v=0,g.length>0&&(g=[]);else if(g.length>0&&!s){for(let E=0,A=g.length;E<A;E++)g[E][d0]=0;g=[]}if(n&&a.saveStructures){let E=r.sharedLength||d;r.length>E&&(r=r.slice(0,E));let A=ke.subarray(t,be);return a.saveStructures(r,l)===!1?(a._mergeStructures(a.getStructures()),a.pack(_)):(l=E,A)}}S&UPe&&(be=t)}};let y=_=>{be>Ns&&(ke=w(be));var S=typeof _,E;if(S==="string"){let A=_.length;if(Bs&&A>=8&&A<4096){let T=LPe.test(_);Bs[T?0:1]+=_,ke[be++]=193,y(T?-A:A);return}let C;A<32?C=1:A<256?C=2:A<65536?C=3:C=5;let M=A*3;if(be+M>Ns&&(ke=w(be+M)),A<64||!c){let T,k,P,D=be+C;for(T=0;T<A;T++)k=_.charCodeAt(T),k<128?ke[D++]=k:k<2048?(ke[D++]=k>>6|192,ke[D++]=k&63|128):(k&64512)===55296&&((P=_.charCodeAt(T+1))&64512)===56320?(k=65536+((k&1023)<<10)+(P&1023),T++,ke[D++]=k>>18|240,ke[D++]=k>>12&63|128,ke[D++]=k>>6&63|128,ke[D++]=k&63|128):(ke[D++]=k>>12|224,ke[D++]=k>>6&63|128,ke[D++]=k&63|128);E=D-be-C}else E=c(_,be+C,M);E<32?ke[be++]=160|E:E<256?(C<2&&ke.copyWithin(be+2,be+1,be+1+E),ke[be++]=217,ke[be++]=E):E<65536?(C<3&&ke.copyWithin(be+3,be+2,be+2+E),ke[be++]=218,ke[be++]=E>>8,ke[be++]=E&255):(C<5&&ke.copyWithin(be+5,be+3,be+3+E),ke[be++]=219,vn.setUint32(be,E),be+=4),be+=E}else if(S==="number")if(_>>>0===_)_<64?ke[be++]=_:_<256?(ke[be++]=204,ke[be++]=_):_<65536?(ke[be++]=205,ke[be++]=_>>8,ke[be++]=_&255):(ke[be++]=206,vn.setUint32(be,_),be+=4);else if(_>>0===_)_>=-32?ke[be++]=256+_:_>=-128?(ke[be++]=208,ke[be++]=_+256):_>=-32768?(ke[be++]=209,vn.setInt16(be,_),be+=2):(ke[be++]=210,vn.setInt32(be,_),be+=4);else{let A;if((A=this.useFloat32)>0&&_<4294967296&&_>=-2147483648){ke[be++]=202,vn.setFloat32(be,_);let C;if(A<4||(C=_*jD[(ke[be]&127)<<1|ke[be+1]>>7])>>0===C){be+=4;return}else be--}ke[be++]=203,vn.setFloat64(be,_),be+=8}else if(S==="object")if(!_)ke[be++]=192;else{if(o){let C=o.get(_);if(C){if(!C.id){let M=o.idsToInsert||(o.idsToInsert=[]);C.id=M.push(C)}ke[be++]=214,ke[be++]=112,vn.setUint32(be,C.id),be+=4;return}else o.set(_,{offset:be-t})}let A=_.constructor;if(A===Object)b(_,!0);else if(A===Array){E=_.length,E<16?ke[be++]=144|E:E<65536?(ke[be++]=220,ke[be++]=E>>8,ke[be++]=E&255):(ke[be++]=221,vn.setUint32(be,E),be+=4);for(let C=0;C<E;C++)y(_[C])}else if(A===Map){E=_.size,E<16?ke[be++]=128|E:E<65536?(ke[be++]=222,ke[be++]=E>>8,ke[be++]=E&255):(ke[be++]=223,vn.setUint32(be,E),be+=4);for(let[C,M]of _)y(C),y(M)}else{for(let C=0,M=b_.length;C<M;C++){let T=ID[C];if(_ instanceof T){let k=b_[C];if(k.write){k.type&&(ke[be++]=212,ke[be++]=k.type,ke[be++]=0),y(k.write.call(this,_));return}let P=ke,D=vn,I=be;ke=null;let O;try{O=k.pack.call(this,_,j=>(ke=P,P=null,be+=j,be>Ns&&w(be),{target:ke,targetView:vn,position:be-j}),y)}finally{P&&(ke=P,vn=D,be=I,Ns=ke.length-10)}O&&(O.length+be>Ns&&w(O.length+be),be=NPe(O,ke,be,k.type));return}}b(_,!_.hasOwnProperty)}}else if(S==="boolean")ke[be++]=_?195:194;else if(S==="bigint"){if(_<BigInt(1)<<BigInt(63)&&_>=-(BigInt(1)<<BigInt(63)))ke[be++]=211,vn.setBigInt64(be,_);else if(_<BigInt(1)<<BigInt(64)&&_>0)ke[be++]=207,vn.setBigUint64(be,_);else if(this.largeBigIntToFloat)ke[be++]=203,vn.setFloat64(be,Number(_));else throw new RangeError(_+" was too large to fit in MessagePack 64-bit integer format, set largeBigIntToFloat to convert to float-64");be+=8}else if(S==="undefined")this.encodeUndefinedAsNil?ke[be++]=192:(ke[be++]=212,ke[be++]=0,ke[be++]=0);else if(S==="function")y(this.writeFunction&&this.writeFunction());else throw new Error("Unknown type: "+S)},b=this.useRecords===!1?this.variableMapSize?_=>{let S=Object.keys(_),E=S.length;E<16?ke[be++]=128|E:E<65536?(ke[be++]=222,ke[be++]=E>>8,ke[be++]=E&255):(ke[be++]=223,vn.setUint32(be,E),be+=4);let A;for(let C=0;C<E;C++)y(A=S[C]),y(_[A])}:(_,S)=>{ke[be++]=222;let E=be-t;be+=2;let A=0;for(let C in _)(S||_.hasOwnProperty(C))&&(y(C),y(_[C]),A++);ke[E+++t]=A>>8,ke[E+t]=A&255}:_=>{let S=Object.keys(_),E,A=i.transitions||(i.transitions=Object.create(null)),C=0;for(let T=0,k=S.length;T<k;T++){let P=S[T];E=A[P],E||(E=A[P]=Object.create(null),C++),A=E}let M=A[d0];if(M)M>=96&&p?(ke[be++]=((M-=96)&31)+96,ke[be++]=M>>5):ke[be++]=M;else{M=i.nextId,M||(M=64),M<m&&this.shouldShareStructure&&!this.shouldShareStructure(S)?(M=i.nextOwnId,M<f||(M=m),i.nextOwnId=M+1):(M>=f&&(M=m),i.nextId=M+1);let T=S.highByte=M>=96&&p?M-96>>5:-1;A[d0]=M,i[M-64]=S,M<m?(S.isShared=!0,i.sharedLength=M-63,n=!0,T>=0?(ke[be++]=(M&31)+96,ke[be++]=T):ke[be++]=M):(T>=0?(ke[be++]=213,ke[be++]=114,ke[be++]=(M&31)+96,ke[be++]=T):(ke[be++]=212,ke[be++]=114,ke[be++]=M),C&&(v+=x*C),g.length>=h&&(g.shift()[d0]=0),g.push(A),y(S))}for(let T=0,k=S.length;T<k;T++)y(_[S[T]])},w=_=>{let S;if(_>16777216){if(_-t>O8)throw new Error("Packed buffer would be larger than maximum buffer size");S=Math.min(O8,Math.round(Math.max((_-t)*(_>67108864?1.25:2),4194304)/4096)*4096)}else S=(Math.max(_-t<<2,ke.length-1)>>12)+1<<12;let E=new fC(S);return vn=new DataView(E.buffer,0,S),ke.copy?ke.copy(E,0,t,_):E.set(ke.slice(t,_)),be-=t,t=0,Ns=E.length-10,ke=E}}useBuffer(e){ke=e,vn=new DataView(ke.buffer,ke.byteOffset,ke.byteLength),be=0}};ID=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,$Y];b_=[{pack(e,t,r){let n=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:i,targetView:o,position:l}=t(6);i[l++]=214,i[l++]=255,o.setUint32(l,n)}else if(n>0&&n<17179869184){let{target:i,targetView:o,position:l}=t(10);i[l++]=215,i[l++]=255,o.setUint32(l,e.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),o.setUint32(l+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return t(0),r(this.onInvalidDate());let{target:i,targetView:o,position:l}=t(3);i[l++]=212,i[l++]=255,i[l++]=255}else{let{target:i,targetView:o,position:l}=t(15);i[l++]=199,i[l++]=12,i[l++]=255,o.setUint32(l,e.getMilliseconds()*1e6),o.setBigInt64(l+4,BigInt(Math.floor(n)))}}},{pack(e,t,r){let n=Array.from(e),{target:i,position:o}=t(this.structuredClone?3:0);this.structuredClone&&(i[o++]=212,i[o++]=115,i[o++]=0),r(n)}},{pack(e,t,r){let{target:n,position:i}=t(this.structuredClone?3:0);this.structuredClone&&(n[i++]=212,n[i++]=101,n[i++]=0),r([e.name,e.message])}},{pack(e,t,r){let{target:n,position:i}=t(this.structuredClone?3:0);this.structuredClone&&(n[i++]=212,n[i++]=120,n[i++]=0),r([e.source,e.flags])}},{pack(e,t){this.structuredClone?R8(e,16,t):z8(HS?Buffer.from(e):new Uint8Array(e),t)}},{pack(e,t){let r=e.constructor;r!==r$&&this.structuredClone?R8(e,e$.indexOf(r.name),t):z8(e,t)}},{pack(e,t){let{target:r,position:n}=t(1);r[n]=193}}];function R8(e,t,r,n){let i=e.byteLength;if(i+1<256){var{target:o,position:l}=r(4+i);o[l++]=199,o[l++]=i+1}else if(i+1<65536){var{target:o,position:l}=r(5+i);o[l++]=200,o[l++]=i+1>>8,o[l++]=i+1&255}else{var{target:o,position:l,targetView:c}=r(7+i);o[l++]=201,c.setUint32(l,i+1),l+=4}o[l++]=116,o[l++]=t,o.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),l)}function z8(e,t){let r=e.byteLength;var n,i;if(r<256){var{target:n,position:i}=t(r+2);n[i++]=196,n[i++]=r}else if(r<65536){var{target:n,position:i}=t(r+3);n[i++]=197,n[i++]=r>>8,n[i++]=r&255}else{var{target:n,position:i,targetView:o}=t(r+5);n[i++]=198,o.setUint32(i,r),i+=4}n.set(e,i)}function NPe(e,t,r,n){let i=e.length;switch(i){case 1:t[r++]=212;break;case 2:t[r++]=213;break;case 4:t[r++]=214;break;case 8:t[r++]=215;break;case 16:t[r++]=216;break;default:i<256?(t[r++]=199,t[r++]=i):i<65536?(t[r++]=200,t[r++]=i>>8,t[r++]=i&255):(t[r++]=201,t[r++]=i>>24,t[r++]=i>>16&255,t[r++]=i>>8&255,t[r++]=i&255)}return t[r++]=n,t.set(e,r),r+=i,r}function BPe(e,t){let r,n=t.length*6,i=e.length-n;for(t.sort((o,l)=>o.offset>l.offset?1:-1);r=t.pop();){let o=r.offset,l=r.id;e.copyWithin(o+n,o,i),n-=6;let c=o+n;e[c++]=214,e[c++]=105,e[c++]=l>>24,e[c++]=l>>16&255,e[c++]=l>>8&255,e[c++]=l&255,i=o}return e}function Ag(e){if(e.Class){if(!e.pack&&!e.write)throw new Error("Extension has no pack or write function");if(e.pack&&!e.type)throw new Error("Extension has no type (numeric code to identify the extension)");ID.unshift(e.Class),b_.unshift(e)}RPe(e)}var i$=new n$({useRecords:!1});i$.pack;i$.pack;var FPe=512,UPe=1024,L8=new n$({structuredClone:!0});Ag({Class:Ht.prototype.constructor,type:1,write(e){return{...e}},read(e){return Object.setPrototypeOf(e,Ht.prototype),e}});Ag({Class:vt.prototype.constructor,type:2,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,vt.prototype),e}});Ag({Class:jo.prototype.constructor,type:3,write(e){return[...e]},read(e){return Object.setPrototypeOf(e,jo.prototype),e}});Ag({Class:C8.prototype.constructor,type:4,write(e){return e.id},read(e){return new C8(e)}});Ag({Class:A8.prototype.constructor,type:5,write(e){return e.data},read(e){return new A8(e)}});Ag({Class:Kn.prototype.constructor,type:6,write(e){return{...e}},read(e){return Object.setPrototypeOf(e,Kn.prototype),e}});function VPe(e){var t=0;if(e.length===0)return t;for(let r=0;r<e.length;r++){let n=e[r];t=(t<<5)-t+n,t=t&t}return t}function XT(e){if(CD(e))return e;if(Array.isArray(e))return e.map(XT);if(typeof e=="object"&&e!==null){let t={};for(let r of Object.keys(e).sort())t[r]=XT(e[r]);return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),t}else return e}var KT;(e=>{function t(i){return L8.pack(i)}e.serialize=t;function r(i){return L8.unpack(i)}e.deserialize=r;function n(i){return VPe(t(XT(i))).toString()}e.checksum=n})(KT||(KT={}));var N8;(e=>{function t(n){return n.type==="Conditional"?n.condition.type==="Distance"?"Distance":"StateChange":n.type}e.toEventUIType=t;function r(n){return n==="Distance"||n==="StateChange"?"Conditional":n}e.fromEventUIType=r})(N8||(N8={}));var Go={LookAt:[],Follow:["Create"],DragDrop:["Transition","Animation","Audio","Create","SetVariable","DynamicVariablePlay","Conditional"],MouseHover:["Transition","Animation","Create","Destroy","SwitchCamera","SceneTransition","SetVariable","DynamicVariablePlay","Conditional"],Scroll:["Transition","Animation","Create","SetVariable","DynamicVariablePlay","Conditional"],Start:["Transition","Animation","Audio","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Conditional:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseDown:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MouseUp:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],MousePress:["Transition","Animation","Audio","Video","Link","Create","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyDown:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyUp:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],KeyPress:["Transition","Animation","Audio","Video","Link","Create","SwitchCamera","Reset","SetVariable","DynamicVariablePlay","Conditional"],GameControl:["Transition","Animation","Audio","Create","Conditional"],Collision:["Transition","Animation","Audio","Video","Create","Destroy","Reset","SetVariable","DynamicVariablePlay","Conditional"],Trigger:["Transition","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],Resize:["Transition","Animation","Audio","Video","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"],VariableChange:["Transition","Animation","Audio","Video","Link","Create","Destroy","SwitchCamera","SceneTransition","Reset","SetVariable","DynamicVariablePlay","Conditional"]},B8;(e=>{function t(n){return n.type==="MouseDown"||n.type==="MouseUp"||n.type==="MousePress"||n.type==="KeyDown"||n.type==="KeyUp"||n.type==="KeyPress"}e.is=t;function r(n){return n==="MouseDown"||n==="MouseUp"||n==="MousePress"?{type:n,mode:"Object",disabled:!1,runMode:"Once",actions:new vt}:{type:n,disabled:!1,key:void 0,runMode:"Once",actions:new vt}}e.defaultData=r})(B8||(B8={}));var x_;(e=>{function t(r){return{type:"Property",value:[r??null,"position","x"]}}e.propertyDefaultData=t,e.valueDefaultData={type:"Literal",value:0}})(x_||(x_={}));var QT;(e=>{function t(i){return{type:"Comparison",operator:"==",lOperand:x_.propertyDefaultData(i),rOperand:{...x_.valueDefaultData}}}e.comparisonDefaultData=t;function r(i){return{type:"Distance",toObject:i??null,fromObject:i??null,distance:200}}e.distanceDefaultData=r;function n(i,o){return{type:"State",object:i??null,state:o??null}}e.stateDefaultData=n})(QT||(QT={}));var F8;(e=>{function t(n){return n.type==="Conditional"}e.is=t;function r(n){return{type:"Conditional",disabled:!1,inActions:new vt,outActions:new vt,condition:QT.distanceDefaultData(n)}}e.defaultData=r})(F8||(F8={}));var U8;(e=>e.defaultData={type:"DragDrop",cursor:"hand",disabled:!1,dampingFactor:1,objects:[],snapTo:"center",snapSurfaceMode:"bbox",snapSurfaceOffset:0,dropOn:"all",autoOrient:!0,dropDestinations:[],plane:"adaptive",planeMode:"locked",referenceFrame:"global",limits:[-1/0,1/0,-1/0,1/0,-1/0,1/0],drop:!1,resetOnSnapFail:!1,snapSpeed:20,resetSpeed:20,dragDropActions:{drag:new vt,drop:new vt}})(U8||(U8={}));var ZT;(e=>e.defaultData={type:"Follow",disabled:!1,maxDelta:0,dampingFactor:1,target:"cursor",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledTranslation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5,actions:new vt})(ZT||(ZT={}));var JT;(e=>e.defaultData={type:"LookAt",disabled:!1,distance:1e3,dampingFactor:1,target:"cursor",tilt:"up",axis:"z",plane:"custom",resetOnPointerLeave:!0,resetAfterDistanceLimit:!0,enabledRotation:[!0,!0,!0],limitDistanceEnabled:!1,limitDistance:1e3,snapDelay:0,resetSpeed:5})(JT||(JT={}));var V8;(e=>{function t(n){return n.type==="MouseHover"}e.is=t;function r(){return{type:"MouseHover",disabled:!1,actions:new vt}}e.defaultData=r})(V8||(V8={}));var H8;(e=>{function t(n){return n.type==="Scroll"}e.is=t;function r(){return{type:"Scroll",disabled:!1,steps:100,trigger:"load",startFrom:"enter",enterAnchor:"top",startOffset:0,endAfter:400,actions:new vt}}e.defaultData=r})(H8||(H8={}));var W8;(e=>{function t(n){return n.type==="Start"}e.is=t;function r(){return{type:"Start",disabled:!1,actions:new vt}}e.defaultData=r})(W8||(W8={}));var G8;(e=>{function t(n){return n.type==="Collision"}e.is=t;function r(){return{type:"Collision",disabled:!1,runMode:"Once",target:"character",actions:new vt}}e.defaultData=r})(G8||(G8={}));var q8;(e=>{function t(n){return n.type==="Trigger"}e.is=t;function r(n,i){return{type:"Trigger",disabled:!1,runMode:"Once",target:"all",triggeringObjects:[],actions:new vt,triggerZone:"box",position:i.toArray(),rotation:[0,0,0],size:n.toArray(),radius:n.length()/2,helperVisible:!0}}e.defaultData=r})(q8||(q8={}));var eP;(e=>{e.defaultSizes={mobile:[480,480],tablet:[768,768],desktop:[1200,1200],custom:[769,1200]};function t(l){return l.type==="Resize"}e.is=t;function r(l){return typeof l=="string"?l:"custom"}e.sizeToDevice=r;function n(l){return typeof l=="string"?[...e.defaultSizes[l]]:[...l]}e.deviceToSize=n;function i(){let l={size:"mobile",operator:"<",actions:new vt},c={size:"tablet",operator:"<",actions:new vt},a={size:[...e.defaultSizes.custom],operator:"<>",actions:new vt},s=new vt;return s.push({id:at.generateUUID(),fi:0,data:l},{id:at.generateUUID(),fi:1,data:c},{id:at.generateUUID(),fi:2,data:a}),{type:"Resize",disabled:!1,orientation:"horizontal",breakpoints:s}}e.defaultData=i;function o(){return{size:[...e.defaultSizes.custom],operator:"<>",actions:new vt}}e.defaultBreakpointData=o})(eP||(eP={}));var tP;(e=>{e.propertyPaths={Position:["position"],"Position X":["position","x"],"Position Y":["position","y"],"Position Z":["position","z"],Rotation:["rotation"],"Rotation X":["rotation","x"],"Rotation Y":["rotation","y"],"Rotation Z":["rotation","z"],Scale:["scale"],"Scale X":["scale","x"],"Scale Y":["scale","y"],"Scale Z":["scale","z"],Width:["width"],Height:["height"],Depth:["depth"],"Mouse Position X":["mouse","x"],"Mouse Position Y":["mouse","y"],"Mouse Pressed":["mouse","pressed"],"Screen Width":["mouse","width"],"Screen Height":["mouse","height"],"Hit Position X":["raycast","x"],"Hit Position Y":["raycast","y"],"Hit Position Z":["raycast","z"],"Hit Object Position X":["raycast","objX"],"Hit Object Position Y":["raycast","objY"],"Hit Object Position Z":["raycast","objZ"]};function t(n){return n.type==="VariableChange"}e.is=t;function r(){return{disabled:!1,type:"VariableChange",actions:new vt,variableId:"",objectId:null,property:"Position X"}}e.defaultData=r})(tP||(tP={}));var Mg="personal camera",xv="a218fcc3-276b-49b9-b485-49037fd14f5f",HPe=2960946,Ka=5526619,Bf;(e=>{function t(n,i){return n[0]===i[0]&&n[1]===i[1]}e.isEqual=t;function r(n,i,o){return[n[0]+(i[0]-n[0])*o,n[1]+(i[1]-n[1])*o]}e.lerp=r})(Bf||(Bf={}));var Eh;(e=>{function t(a,s){return a[0]===s[0]&&a[1]===s[1]&&a[2]===s[2]}e.isEqual=t;function r(a,s){return[a[0]+s[0],a[1]+s[1],a[2]+s[2]]}e.add=r;function n(a,s){return[a[0]-s[0],a[1]-s[1],a[2]-s[2]]}e.sub=n;function i(a,s){return[a[0]/s[0],a[1]/s[1],a[2]/s[2]]}e.div=i;function o(a,s){return[a[0]*s[0],a[1]*s[1],a[2]*s[2]]}e.mul=o;function l(a,s){return Math.hypot(a[0]-s[0],a[1]-s[1],a[2]-s[2])}e.dist=l;function c(a,s,u){return[a[0]+(s[0]-a[0])*u,a[1]+(s[1]-a[1])*u,a[2]+(s[2]-a[2])*u]}e.lerp=c})(Eh||(Eh={}));var w_;(e=>{function t(n,i){return n[0]===i[0]&&n[1]===i[1]&&n[2]===i[2]&&n[3]===i[3]}e.isEqual=t;function r(n,i,o){return[n[0]+(i[0]-n[0])*o,n[1]+(i[1]-n[1])*o,n[2]+(i[2]-n[2])*o,n[3]+(i[3]-n[3])*o]}e.lerp=r})(w_||(w_={}));var Ym;(e=>{e.identity=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function t(i,o){for(let l=0;l<16;l++)if(i[l]!==o[l])return!1;return!0}e.isEqual=t;function r(i){return i??e.identity}e.simplify=r;function n(i,o){let l=o.slice(0);for(var c=0,a=o.length;c<a;c+=3){let s=i[3]*o[c]+i[7]*o[c+1]+i[11]*o[c+2]+i[15];l[c]=(i[0]*o[c]+i[4]*o[c+1]+i[8]*o[c+2]+i[12])/s,l[c+1]=(i[1]*o[c]+i[5]*o[c+1]+i[9]*o[c+2]+i[13])/s,l[c+2]=(i[2]*o[c]+i[6]*o[c+1]+i[10]*o[c+2]+i[14])/s}return l}e.applyMatrix4=n})(Ym||(Ym={}));var $i;(e=>{function t(a){return typeof a=="object"&&typeof a.r=="number"&&typeof a.g=="number"&&typeof a.b=="number"}e.isRGB=t,e.white={r:1,g:1,b:1},e.red={r:1,g:0,b:0},e.black={r:0,g:0,b:0};function r(a){return{r:Math.round(a.r*255),g:Math.round(a.g*255),b:Math.round(a.b*255),a:1}}e.toRgb255a1=r;function n(a){return{r:a.r,g:a.g,b:a.b}}e.clone=n;function i(a){return a=Math.floor(a),{r:(a>>16&255)/255,g:(a>>8&255)/255,b:(a&255)/255}}e.fromHex=i;function o(a){return Math.round(a.r*255)*65536+Math.round(a.g*255)*256+Math.round(a.b*255)}e.toHex=o;function l(a,s){return a.r===s.r&&a.g===s.g&&a.b===s.b}e.equals=l;function c(a,s,u){return{r:a.r+(s.r-a.r)*u,g:a.g+(s.g-a.g)*u,b:a.b+(s.b-a.b)*u}}e.lerp=c})($i||($i={}));var ws;(e=>{e.white={...$i.white,a:1},e.transparent={...$i.white,a:0};function t(l){return{r:l[0],g:l[1],b:l[2],a:l[3]}}e.from0to1=t;function r(l,c){return{...$i.fromHex(l),a:c}}e.fromHexAndA=r;function n(l){return{r:Math.round(l.r*255),g:Math.round(l.g*255),b:Math.round(l.b*255),a:l.a}}e.toRgb255a1=n;function i(l,c){return $i.equals(l,c)&&l.a===c.a}e.equals=i;function o(l,c,a){return{r:l.r+(c.r-l.r)*a,g:l.g+(c.g-l.g)*a,b:l.b+(c.b-l.b)*a,a:l.a+(c.a-l.a)*a}}e.lerp=o})(ws||(ws={}));var rP;(e=>e.identity={position:[0,0,0],rotation:[0,0,0],scale:[1,1,1]})(rP||(rP={}));var Y8;(e=>e.defaultData={mass:1,stiffness:80,damping:10,velocity:0})(Y8||(Y8={}));var $8;(e=>e.defaultData={control1:[.5,0],control2:[.5,1]})($8||($8={}));var gu;(e=>(e.linear=[0,0,1,1],e.ease=[.25,.1,.25,1],e.easeIn=[.42,0,1,1],e.easeOut=[0,0,.58,1],e.easeInOut=[.42,0,.58,1]))(gu||(gu={}));function X8(e){return typeof e=="string"&&e.length===36?/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e):!1}var qh;(e=>{e.all=["PerspectiveCamera","OrthographicCamera"];function t(r){return e.all.includes(r)}e.is=t})(qh||(qh={}));var $m;(e=>{e.DefaultUp=[0,1,0],e.DefaultTargetOffset=1e3,e.defaultData={far:1e5,type:"OrthographicCamera",perspective:{near:70,fov:45,zoom:1},orthographic:{near:-1e5,zoom:1},up:e.DefaultUp,isUpVectorFlipped:!1,targetOffset:e.DefaultTargetOffset};function t(r){return r.type==="PerspectiveCamera"?r.perspective.zoom:r.orthographic.zoom}e.getZoom=t})($m||($m={}));var Du;(e=>{function t(n,i=.1){return{disabled:!1,type:"linear",hideBase:!1,count:3,radial:{radius:Math.max(n[0],n[1])*2,start:0,end:360,alignment:!1,axis:"y",scale:[1,1,1],rotation:[0,0,0],position:[0,0,0]},toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},linear:{scale:[1,1,1],rotation:[0,0,0],position:[n[0]+n[0]*i,0,0]},grid:{count:[2,2,2],size:n.map(o=>o*(1+i)),useCenter:!0},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}}}e.defaultData=t;function r(n,i){let o={...n};if(o$.forEach(l=>{Object.assign(o,{[l]:i[l]??n[l]})}),o.radial={...n.radial},i.radial){let l=n.radial,c=i.radial;a$.forEach(a=>{Object.assign(o.radial,{[a]:c[a]??l[a]})})}if(o.linear={...n.linear},i.linear){let l=n.linear,c=i.linear;s$.forEach(a=>{Object.assign(o.linear,{[a]:c[a]??l[a]})})}if(o.grid={...n.grid},i.grid){let l=n.grid,c=i.grid;l$.forEach(a=>{Object.assign(o.grid,{[a]:c[a]??l[a]})})}if(o.toObject={...n.toObject},i.toObject){let l=n.toObject,c=i.toObject;c$.forEach(a=>{Object.assign(o.toObject,{[a]:c[a]??l[a]})})}if(o.randomnessObject={...n.randomnessObject},i.randomnessObject){let l=n.randomnessObject,c=i.randomnessObject;u$.forEach(a=>{Object.assign(o.randomnessObject,{[a]:c[a]??l[a]})})}return o}e.merge=r})(Du||(Du={}));var nP;(e=>{e.defaultData={radial:{},linear:{},grid:{},toObject:{},randomnessObject:{}};let t=["radial","linear","grid","toObject","randomnessObject"];function r(n,i){let o=[];n.count!==void 0&&o.push({type:0,path:i,props:{count:n.count}});for(let l of t){let c=n[l];c&&Object.keys(c).length>0&&o.push({type:0,path:[...i,l],props:c})}return o}e.toOps=r})(nP||(nP={}));var o$=["count"],a$=["radius","start","end","position","scale","rotation"],s$=["position","scale","rotation"],l$=["count","size"],c$=["count","position","scale","rotation"],u$=["strength","scale","rotation","position","movement","seed","freqScale"],iP;(e=>{e.all=["PointLight","SpotLight","DirectionalLight","HemisphereLight"];function t(r){return e.all.includes(r)}e.is=t})(iP||(iP={}));var oP;(e=>{function t(n){return r(n)}e.defaultData=t;function r(n){if(n==="PointLight")return{type:n,color:ws.white,intensity:1,distance:2e3,decay:1,shadows:!0,shadowResolution:1024,shadowRadius:1,penumbraSize:.5,depth:1e5};if(n==="SpotLight")return{type:n,color:ws.white,intensity:1,distance:2e3,decay:1,shadows:!0,penumbra:0,angle:30/180*Math.PI,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};if(n==="DirectionalLight")return{type:n,color:ws.white,intensity:1,shadows:!0,size:2e3,depth:1e5,penumbraSize:.5,shadowResolution:1024,shadowRadius:1};throw new Error("not implemented")}})(oP||(oP={}));var Xm;(e=>e.defaultData={enabled:"visibility",fusedBody:!0,rigidBody:"positioned",density:1,pointMass:0,gravityScale:1,friction:.5,damping:0,restitution:.2,colliderType:"convex",enabledRotation:[!0,!0,!0],enabledTranslation:[!0,!0,!0]})(Xm||(Xm={}));var aP;(e=>{e.defaultData={castShadow:!0,receiveShadow:!0};function t(r,n){return r.castShadow===n.castShadow&&r.receiveShadow===n.receiveShadow}e.equals=t})(aP||(aP={}));var sP;(e=>{e.defaultData={flatShading:!1,wireframe:!1,side:0};function t(r,n){return r.flatShading===n.flatShading&&r.side===n.side&&r.wireframe===n.wireframe}e.equals=t})(sP||(sP={}));var lP;(e=>e.defaultData={...sP.defaultData,...aP.defaultData})(lP||(lP={}));var K8;(e=>{function t(r,n){var o,l;let i=[];if("material"in r){let c=typeof r.material=="string"?n.materials[r.material]??((o=n.lib.materials[r.material])==null?void 0:o.asset):r.material;c&&i.push(c)}else if("materials"in r)for(let c of r.materials){let a=typeof c=="string"?n.materials[c]??((l=n.lib.materials[c])==null?void 0:l.asset):c;a&&i.push(a)}return i}e.getMaterialData=t})(K8||(K8={}));var __;(e=>(e.defaultVideo={data:"",thumb:"/_assets/_videos/catThumb.png",type:"video",name:"Cat video"},e.maxSize=3e7))(__||(__={}));var Q8;(e=>{function t(r){return r==="texture"||r==="video"||r==="color"||r==="depth"||r==="normal"||r==="gradient"||r==="noise"||r==="fresnel"||r==="rainbow"||r==="toon"||r==="outline"||r==="transmission"||r==="matcap"||r==="displace"||r==="pattern"||r==="light"}e.is=t})(Q8||(Q8={}));function WPe(e){return e.type!=="displace"}var Z8;(e=>{function t(r){return r==="phong"||r==="toon"||r==="lambert"||r==="physical"}e.is=t})(Z8||(Z8={}));var d$=["mode","gradientType","noiseType","displacementType","projection","cnormal","crop","axis","side"],GPe=["wrapping","image","video","name"],xo;(e=>{function t(o,l){let{texture:c,...a}=l;if(Object.assign(o,a),c){let s=o.texture;s&&Object.assign(s,c)}}e.patch=t;function r(o,l){return o==="light"&&l?n(l):i(o)}e.defaultData=r;function n(o){let l={mode:0,isMask:!1,visible:!0,bumpMap:void 0,bumpMapIntensity:5,roughnessMap:void 0,alphaOverride:1};switch(o){case"phong":return{...l,category:"phong",specular:{r:.2,g:.2,b:.2},shininess:5,type:"light",visible:!0,mode:0,occlusion:!0,alpha:.6};case"toon":return{...l,category:"toon",specular:{r:.2,g:.2,b:.2},shininess:10,type:"light",alpha:1};case"lambert":return{...l,category:"lambert",emissive:{r:0,g:0,b:0},type:"light",alpha:1,visible:!0,mode:0,occlusion:!0};case"physical":return{...l,category:"physical",roughness:.2,metalness:.2,reflectivity:.2,type:"light",alpha:1,visible:!0,mode:0,occlusion:!0}}}function i(o){let l={alpha:1,mode:0,isMask:!1,visible:!0};switch(o){case"texture":return{...l,type:"texture",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{image:"image_0",wrapping:1e3,repeat:[1,1],offset:[0,0]},crop:!1};case"video":return{...l,type:"video",size:[128,128],blending:0,axis:"x",side:2,projection:0,texture:{video:__.defaultVideo,wrapping:1001,repeat:[1,1],offset:[0,0]},crop:!1};case"color":return{...l,type:"color",color:$i.fromHex(Ka)};case"depth":return{...l,type:"depth",gradientType:1,smooth:!1,isVector:!0,isWorldSpace:!1,origin:[0,0,0],direction:[1,0,0],colors:[[1,1,1,1],[0,0,0,1]],steps:[0,1],near:50,far:200};case"normal":return{...l,type:"normal",cnormal:[1,1,1]};case"gradient":return{...l,type:"gradient",gradientType:0,smooth:!1,colors:[[0,0,0,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,1,1,1,1,1,1,1,1,1],num:2,angle:0,offset:[0,0],morph:[0,0]};case"noise":return{...l,type:"noise",size:[100,100,100],noiseType:0,scale:1,move:1,colorA:{...$i.fromHex(6710886),a:1},colorB:{...$i.fromHex(6710886),a:1},colorC:{...$i.fromHex(16777215),a:1},colorD:{...$i.fromHex(16777215),a:1},distortion:[1,1],fA:[1.7,9.2],fB:[8.3,2.8],voronoiStyle:0,highCut:1,lowCut:0,smoothness:.3,seed:0,quality:1};case"fresnel":return{...l,type:"fresnel",color:ws.fromHexAndA(16777215,1),bias:.1,scale:1,intensity:2,factor:1};case"rainbow":return{...l,type:"rainbow",filmThickness:30,movement:0,wavelengths:[0,0,0],noiseStrength:0,noiseScale:1,offset:[0,0,0]};case"toon":return{...l,type:"toon",positioning:2,colors:[[0,0,0,1],[.5,.5,.5,1],[.5,.5,.5,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1],[1,1,1,1]],steps:[0,.475,.525,1,1,1,1,1,1,1],num:4,source:[0,1e3,0],isWorldSpace:!0,noiseStrength:0,noiseScale:1,shadowColor:ws.fromHexAndA(0,0),offset:[0,0,0]};case"outline":return{...l,type:"outline",outlineColor:ws.fromHexAndA(0,1),contourColor:ws.fromHexAndA(0,1),outlineWidth:2,contourWidth:5,outlineThreshold:.4,contourThreshold:0,outlineSmoothing:0,contourFrequency:10,contourDirection:[0,1,0],positionalLines:!1,compensation:!0};case"matcap":return{...l,type:"matcap",texture:{image:"matcap_0",wrapping:1001,repeat:[1,1],offset:[0,0]}};case"transmission":return{...l,type:"transmission",thickness:10,ior:1.5,roughness:1};case"displace":return{visible:!0,type:"displace",displacementType:"noise",noiseType:0,scale:10,movement:1,offset:[0,0,0],intensity:8,voronoiStyle:0,smoothness:.3,seed:0,highCut:1,lowCut:0,quality:1};case"pattern":return{...l,type:"pattern",style:0,projection:0,axis:"y",blending:0,offset:[0,0],colorA:{...$i.fromHex(0),a:1},colorB:{...$i.fromHex(16777215),a:1},frequency:[10,10],size:.5,variation:0,smoothness:.5,zigzag:0,rotation:0,vertical:[0,1],horizontal:[0,1],sides:6}}}})(xo||(xo={}));var Oi;(e=>{function t(s){return!s.layers.some(u=>u.data.type==="texture"&&u.data.projection!==0||u.data.type==="depth"&&!u.data.isWorldSpace||u.data.type==="noise"||u.data.type==="displace")}e.isMergable=t;function r(s){let u="";return s.layers.forEach(d=>{Object.entries(d.data).forEach(([h,p])=>{u+=`${h}${p}`,Array.isArray(p)?p.forEach(m=>u+=`${m}`):typeof p=="object"?Object.values(p).forEach(m=>{typeof m=="number"?u+=`${m.toFixed(4)}`:u+=`${m}`}):u+=`${p}`})}),u}e.getHash=r;function n(){return{layers:new vt}}e.defaultEmptyData=n;function i(s="layer1",u="layer2"){return l("phong",s,u)}e.defaultData=i;function o(s,u){return{...s,name:u}}e.withName=o;function l(s,u="layer1",d="layer2"){let h=new vt;return h.push({fi:0,data:xo.defaultData("light",s),id:u}),h.push({fi:1,data:xo.defaultData("color"),id:d}),{layers:h}}e.defaultTwoLayerData=l;function c(s,u="phong",d="layer1",h="layer2"){let p=xo.defaultData("texture");Object.assign(p.texture,{image:s});let m=new vt;return m.push({fi:0,data:p,id:d}),m.push({fi:1,data:xo.defaultData("light",u),id:h}),{layers:m}}e.defaultTwoLayerTextureData=c;function a(s,u="phong",d="layer1",h="layer2"){let p=xo.defaultData("video");Object.assign(p.texture,{video:s});let m=new vt;return m.push({fi:0,data:p,id:d}),m.push({fi:1,data:xo.defaultData("light",u),id:h}),{layers:m}}e.defaultTwoLayerVideoTextureData=a})(Oi||(Oi={}));var S_;(e=>{function t(){return{points:new vt,roundness:0,shapeHoles:[],isClosed:!1}}e.defaultData=t})(S_||(S_={}));var E_;(e=>{function t(){return{points:new vt,lastInsertionPlane:null,subdivisions:12,isClosed:!1}}e.defaultData=t})(E_||(E_={}));var h$={type:"Ellipse",width:50,height:50,spikes:16,angle:360,innerRadius:0},cP;(e=>{function t(r,n){let i={...r};return f$.forEach(o=>{Object.assign(i,{[o]:n[o]??r[o]})}),i}e.merge=t})(cP||(cP={}));var p$={shape:h$,depth:1,offset:0,bevel:50,bevelSides:6,angle:0,twist:0,startScale:1,endScale:1,capType:"flat"},f$=["depth","offset","angle","twist","startScale","endScale"],C_;(e=>{function t(n){return n==="PolygonGeometry"||n==="RectangleGeometry"||n==="StarGeometry"||n==="TriangleGeometry"||n==="EllipseGeometry"}e.is2DParametricMesh=t;function r(n){return n==="PolygonGeometry"||n==="PolygonGeometry"||n==="RectangleGeometry"||n==="StarGeometry"||n==="TriangleGeometry"||n==="EllipseGeometry"||n==="PathGeometry"||n==="VectorGeometry"||n==="ConeGeometry"||n==="CubeGeometry"||n==="CylinderGeometry"||n==="DodecahedronGeometry"||n==="HelixGeometry"||n==="IcosahedronGeometry"||n==="LatheGeometry"||n==="PyramidGeometry"||n==="SphereGeometry"||n==="PlaneGeometry"||n==="BackdropGeometry"||n==="TorusGeometry"||n==="TorusKnotGeometry"||n==="BooleanGeometry"||n==="TextGeometry"}e.isParametricMesh=r})(C_||(C_={}));var uP;(e=>{function t(r,n){let i={...r};return Object.assign(i,n),i.type==="PathGeometry"&&"extrusion"in n&&n.extrusion&&(i.extrusion={...r.extrusion},Object.assign(i.extrusion,cP.merge(i.extrusion,n.extrusion))),i}e.merge=t})(uP||(uP={}));var nm;(e=>{function t(r){if(r==="RectangleGeometry")return{width:320,height:320,type:r,cornerRadius:[0,0,0,0],cornerType:0,depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(r==="PathGeometry")return{type:r,width:1,height:1,depth:1,path:E_.defaultData(),extrusion:p$};if(r==="VectorGeometry")return{width:1,height:1,type:r,subdivisions:12,shape:S_.defaultData(),depth:0,extrudeBevelSize:0,extrudeBevelSegments:1};if(r==="BooleanGeometry")return{type:r,operation:2,width:0,height:0,depth:0,phongAngle:35};if(r==="TextGeometry")return{type:r,width:100,height:100,depth:0,horizontalAlign:1,verticalAlign:1,fontSize:16,lineHeight:1.2,letterSpacing:0,text:{textValue:""},textTransform:1,font:"Roboto_regular",extrudeBevelSize:0,extrudeBevelSegments:1};if(r==="SphereGeometry")return{type:"SphereGeometry",width:100,height:100,depth:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180};throw new Error("not implemented")}e.defaultData=t})(nm||(nm={}));var J8=["width","height","depth"],dP;(e=>e.defaultData={enabled:!1,useBackgroundColor:!1,color:$i.white,near:.1,far:2e3})(dP||(dP={}));var A_;(e=>{let t={opacity:1,blendFunction:13,enabled:!1};e.defaultData={enabled:!1,pixelation:{...t,blendFunction:16,granularity:15},bloom:{...t,blendFunction:16,intensity:1,blurScale:1,luminanceThreshold:.25,luminanceSmoothing:.025,kernelSize:3},chromaticAberration:{...t,offset:[2,2]},vignette:{...t,darkness:1,offset:0},hueSaturation:{...t,hue:3,saturation:0},brightnessContrast:{...t,brightness:.25,contrast:0},depthOfField:{...t,focalLength:2,focusDistance:2,bokehScale:2},noise:{...t,blendFunction:16}}})(A_||(A_={}));var hP;(e=>e.defaultData={softShadowQuality:"low"})(hP||(hP={}));var pP;(e=>e.defaultData={enabled:!0,color:{r:.8274509803921568,g:.8274509803921568,b:.8274509803921568},intensity:.75})(pP||(pP={}));var fP;(e=>e.defaultData={occlusion:!1,aoFullRes:!1,radius:256,bias:.5,aoColor:{r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}})(fP||(fP={}));var Km;(e=>e.defaultData={usePhysics:!1,gravity:-10})(Km||(Km={}));var mP;(e=>e.defaultData={playCamera:Mg,gameControlObject:null})(mP||(mP={}));var gP;(e=>e.defaultData={backgroundColor:ws.fromHexAndA(HPe,1),postprocessing:A_.defaultData,fog:dP.defaultData,globalPhysics:Km.defaultData,ambient:pP.defaultData,ao:fP.defaultData,shadow:hP.defaultData,publish:mP.defaultData})(gP||(gP={}));var eN;(e=>{function t(n){return n==="Component"||n==="Instance"}e.isComponentRelated=t;function r(n){return n==="Empty"||n==="Instance"}e.isEmptyOrComponent=r})(eN||(eN={}));var Qm;(e=>{e.identity={...rP.identity,hiddenMatrix:Ym.identity};function t(i){return{position:i.position,rotation:i.rotation,scale:i.scale,hiddenMatrix:i.hiddenMatrix}}e.fromObject=t;function r(i,o){return{position:(o==null?void 0:o.position)||i.position,rotation:(o==null?void 0:o.rotation)||i.rotation,scale:(o==null?void 0:o.scale)||i.scale,hiddenMatrix:(o==null?void 0:o.hiddenMatrix)||i.hiddenMatrix}}e.merge=r;function n(i,o){return ePe({position:Eh.isEqual(i.position,o.position)?void 0:o.position,rotation:Eh.isEqual(i.rotation,o.rotation)?void 0:o.rotation,scale:Eh.isEqual(i.scale,o.scale)?null:o.scale,hiddenMatrix:Ym.isEqual(i.hiddenMatrix,o.hiddenMatrix)?void 0:o.hiddenMatrix})}e.diff=n})(Qm||(Qm={}));var ao;(e=>e.defaultData={states:new vt,events:new vt,visible:!0,raycastLock:!1,physics:Xm.defaultData,pathSnapping:{pathId:null,slide:0,offset:0,orientation:"tangential"},...Qm.identity,cloner:null})(ao||(ao={}));var vP;(e=>e.defaultData={type:"Empty",...ao.defaultData})(vP||(vP={}));var tN;(e=>e.defaultData={type:"Component",...ao.defaultData})(tN||(tN={}));var im;(e=>e.defaultData={type:"Mesh",...ao.defaultData,...lP.defaultData})(im||(im={}));var xy;(e=>e.defaultData={...ao.defaultData,...Qm.identity,position:[0,0,$m.DefaultTargetOffset],...$m.defaultData})(xy||(xy={}));var yP;(e=>{function t(r){return{...ao.defaultData,...oP.defaultData(r)}}e.defaultData=t,e.defaultDirectionalLightData={...e.defaultData("DirectionalLight"),position:[200,300,300],name:"Directional Light",intensity:.7}})(yP||(yP={}));var M_;(e=>{function t(n,i,o=0){for(;o<i.length;){let l=n?n[i[o]]:void 0;if(i.length===o+1)return l;if(l)n=l.descendants,o+=1;else return}}e.resolveWithDes=t;function r(n,i,o=0){let l=t(n,i,o);if(l){let c=Object.keys(l);if(c.length===1&&c[0]==="descendants")return}return l}e.resolve=r})(M_||(M_={}));var ju;(e=>{e.rootOverrideProps=["physics","events"],e.compositeNonOptionalOverrideProps=["geometry"],e.compositeEntireOverrideOverrideProps=["material"];function t(n,i){return{...ao.defaultData,...i,component:n,overrides:new Kn,physics:void 0,events:void 0,type:"Instance"}}e.ofComponent=t;function r(n){let i=Qm.fromObject(n.data);return t(n.id,i)}e.fromComponentData=r})(ju||(ju={}));var Zm;(e=>e.defaultData={type:"Page",...ao.defaultData,physics:{...Xm.defaultData,fusedBody:!1},...gP.defaultData,camera:xy.defaultData})(Zm||(Zm={}));var bP;(e=>(e.defaultCamera={position:[0,0,1e3],scale:[1,1,1],rotation:[0,0,0],hiddenMatrix:Ym.identity,name:"Play Camera",visible:!0,raycastLock:!1,physics:Xm.defaultData,states:new vt,events:new vt,cloner:null,pathSnapping:{pathId:null,orientation:"tangential",slide:0,offset:0},...$m.defaultData},e.KeysByResetCategory={States:["states"],Events:["events"],Material:["material","materials"],Geometry:["geometry"],Position:["position"],Rotation:["rotation"],Scale:["scale"],Transform:["position","scale","rotation","hiddenMatrix"],Name:["name"],Visibility:["visible","raycastLock","flatShading","wireframe","side"],Shadows:["castShadow","receiveShadow"],Cloner:["cloner"],Physics:["physics"]},e.defaultMeshObject={name:"Rectangle",...ao.defaultData,...im.defaultData,geometry:nm.defaultData("RectangleGeometry"),material:Oi.defaultTwoLayerData("phong","layer1","layer2")},e.defaultBooleanObject={name:"Boolean",...ao.defaultData,...im.defaultData,geometry:nm.defaultData("BooleanGeometry"),material:Oi.defaultTwoLayerData("phong","layer1","layer2")},e.defaultTextObject={name:"Text",...ao.defaultData,...im.defaultData,geometry:nm.defaultData("TextGeometry"),material:Oi.defaultTwoLayerData("phong","layer1","layer2")}))(bP||(bP={}));var sh;(e=>{function t(o,l){let c={name:l};return o.type==="Mesh"?(c.geometry={},"material"in o&&(c.material={layers:new Kn}),"materials"in o&&(c.materials=o.materials.map(a=>({layers:new Kn})))):qh.is(o.type)&&(c.perspective={},c.orthographic={}),c}e.newEmpty=t;function r(o,l){if(l===void 0)return o;let c={...o};return"material"in c&&"material"in l&&l.material&&(c.material=by(c.material,a=>{if(typeof a!="string")for(let[s,u]of Object.entries(l.material.layers)){let d=a.layers.data(s);d&&xo.patch(d,u)}}).data),c.materials&&l.materials&&(c.materials=by(c.materials,a=>{var s,u;for(let d=0;d<c.materials.length;d++){let h=l.materials[d];if(typeof h!="string")for(let[p,m]of Object.entries(h.layers)){let f=(u=(s=a[d])==null?void 0:s.layers)==null?void 0:u.data(p);f&&xo.patch(f,m)}}}).data),c}function n(o,l){let c,a=[],s={orthographic:0,perspective:0,geometry:0};function u(d,h){for(let[p,m]of Object.entries(h.layers)){let{texture:f,...g}=m;if(f!==void 0&&Object.keys(f).length>0){let v={path:[...d,"layers",p,"texture"],props:f,type:0};a.push(v)}if(Object.keys(g).length>0){let v={path:[...d,"layers",p],props:g,type:0};a.push(v)}}}for(let[d,h]of Object.entries(l))if(d!=="name")if(d==="cloner")a.push(...nP.toOps(h,["cloner"]));else if(d==="pathSnapping")a.push({path:[d],props:{slide:h.slide,offset:h.offset},type:0});else if(d==="material")u(["material"],h);else if(d==="materials")for(let[p,m]of Object.entries(h))u(["materials",p],m);else if(s[d]===0){if(d==="geometry"&&h.extrusion!==void 0){let p={path:[d,"extrusion"],props:h.extrusion,type:0};a.push(p),h={...h},delete h.extrusion}if(Object.keys(h).length>0){let p={path:[d],props:h,type:0};a.push(p)}}else c===void 0&&(c={path:[],props:{},type:0},a.push(c)),c.props[d]=h;return a}e.toOps=n;function i(o,l){var a,s,u,d,h,p;if(l===void 0)return o;let c={...o};if(Object.assign(c,Qm.merge(c,l)),Object.assign(c,{pathSnapping:Object.assign({},c.pathSnapping,{slide:((a=l.pathSnapping)==null?void 0:a.slide)??((s=c.pathSnapping)==null?void 0:s.slide)??0,offset:((u=l.pathSnapping)==null?void 0:u.offset)??((d=c.pathSnapping)==null?void 0:d.offset)??0})}),qh.is(o.type)){c.orthographic={...c.orthographic},c.perspective={...c.perspective};let m=l;((h=m.orthographic)==null?void 0:h.zoom)!==void 0&&(c.orthographic.zoom=m.orthographic.zoom),((p=m.perspective)==null?void 0:p.zoom)!==void 0&&(c.perspective.zoom=m.perspective.zoom),m.isUpVectorFlipped!==void 0&&(c.isUpVectorFlipped=m.isUpVectorFlipped),m.targetOffset!==void 0&&(c.targetOffset=m.targetOffset)}else if(o.type==="Mesh")"geometry"in l&&Object.assign(c,{geometry:uP.merge(c.geometry,l.geometry)}),(l.material||l.materials)&&(c=r(c,l)),c.cloner&&"cloner"in l&&Object.assign(c,{cloner:Du.merge(c.cloner,l.cloner)});else if(o.type==="Empty")c.cloner&&"cloner"in l&&Object.assign(c,{cloner:Du.merge(c.cloner,l.cloner)});else if(iP.is(o.type)){let m=l;m.intensity!==void 0&&(c.intensity=m.intensity),m.color!==void 0&&(typeof m.color=="string"?c.color=m.color:c.color=$i.clone(m.color))}return c}e.patch=i})(sh||(sh={}));var T_;(e=>e.defaultData={enablePan:!0,enableZoom:!0,enableRotate:!0,enableDamping:!0,rotationLimitsMode:0,rotationVerticalOffset:{min:Math.PI/4,max:Math.PI/4},rotationHorizontalOffset:{min:Math.PI/4,max:Math.PI/4},rotationSoftLimit:2,panLimitsMode:0,panVerticalOffset:{min:250,max:250},panHorizontalOffset:{min:250,max:250},panSoftLimit:2,zoomLimitsEnabled:!1,zoomLimits:{min:.1,max:2},autoRotate:!1,autoRotateSpeed:2,autoRotateClockwise:!0,hoverRotatePanMode:0,hoverRotatePanStrength:20,hoverRotateDamping:.125,isTouchZoom:!0,orbitTouches:2,panTouches:3,resetHoverEffectOnPointerLeave:!0})(T_||(T_={}));var Ch;(e=>e.defaultData={orbitControls:T_.defaultData,playPage:xv,withBackground:!0,preventScroll:!1,preventTouchScroll:!1,hideCursor:!1,mouseEventTarget:"canvas",joystickSizeAndXYOffset:Array(12).fill(0).map((t,r)=>{let n=0,i=0;return r<5?i=-30:r<10&&(i=30),r===0||r===10||r===5?n=30:(r===4||r===11||r===9)&&(n=-30),[120,[n,i],"show"]}),settings:{image:{format:"jpg",ratio:1},video:{format:"mp4",imageFormat:"jpg",fps:30,mbps:80,ratio:Math.max(1,typeof window<"u"?Math.floor(window.devicePixelRatio):1),stopMode:"manual",duration:5e3},web:{logo:!0,compress:!0,preset:1,preload:!0,hint:!1}},stopRaycast:!0,hdTransmission:!1})(Ch||(Ch={}));var xP;(e=>e.defaultData={id:"basic",label:"Basic",style:"None",prompt:""})(xP||(xP={}));var wP;(e=>e.defaultData={weather:0,shadows:0,lightOrigin:0,temperature:0,sun:0,camera:0,environment:0,particles:0,nature:0,floor:0})(wP||(wP={}));var om;(e=>(e.defaultData=()=>({mode:"line-art-both",prompt:"",negativePrompt:"",style:{...xP.defaultData},isRandomSeed:!0,seed:e.generateSeed(),guessMode:!1,advanced:!1,steps:20,guidanceScale:7.5,controlNetScale:1,modifiers:wP.defaultData}),e.generateSeed=()=>Math.round(Math.random()*1e5)))(om||(om={}));var wy;(e=>{function t(n){return n.find(i=>i.data.type==="Page"&&i.data.globalPhysics.usePhysics)!==void 0}e.physicsEnabled=t;function r(n,i,o){n.scene.objects.traverseFrom(i,(l,c)=>{var a;if(c.type==="Instance"){let s=(a=j_.getComponentData(n,c.component))==null?void 0:a.data;s&&o(l,c,s.events)}else o(l,c,c.events)})}e.traverseModuleInstances=r})(wy||(wy={}));var am;(e=>{e.TRASH_CAN_ID="830a2708-8ed9-49cf-a68e-085299892222";function t(i={withLight:!0,withSquare:!0}){let o=[],l=bP.defaultMeshObject;i.withLight===!0&&o.push({fi:-1,data:yP.defaultDirectionalLightData,id:"830a2708-8ed9-49cf-a68e-085299899103",children:[]}),i.withSquare===!0&&o.push({fi:1,id:"7ba78968-2a55-48f2-b14c-5191da3e075e",data:l,children:[]});let c=new jo;return c.push({fi:1,id:xv,data:{...Zm.defaultData,name:"Scene 1"},children:o}),c}e.defaultData={objects:t(),publish:Ch.defaultData,styles:om.defaultData()},e.emptyDataWithoutPage=function(){return{objects:new jo,publish:Ch.defaultData,styles:om.defaultData()}},e.emptyDataWithPage=function(i){return{objects:t(i),publish:Ch.defaultData,styles:om.defaultData()}};function r(i){return{...e.defaultData,objects:zc(i,jo.prototype)}}e.withObjs=r;function n(i,o){return r([{id:i,data:o,children:[],fi:0}])}e.withObj=n})(am||(am={}));var wv;(e=>e.defaultData={preset:"fullscreen",allowResponsive:!1,size:[512,512],coords:[0,0],sceneScale:1,color:{r:0,g:0,b:0,a:.5}})(wv||(wv={}));var P_;(e=>e.emptyImage={data:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVQYV2NgYAAAAAMAAWgmWQ0AAAAASUVORK5CYII=",name:"empty"})(P_||(P_={}));var ra;(e=>{function t(l){return l.textValue!==void 0}e.isTextValue=t;function r(l){return typeof l=="number"}e.isNumber=r;function n(l){return typeof l=="boolean"}e.isBoolean=n;function i(l){return t(l)?"string":n(l)?"boolean":"number"}e.typeOfVariable=i;function o(l){return e.isTextValue(l)?Array.isArray(l.textValue)?l.textValue.map(c=>c.toString().padStart(l.padding??2,"0")).join(l.deliminator??":")+(l.suffix!==void 0?" "+l.suffix:""):l.textValue.toString():e.isBoolean(l)?l?"True":"False":e.isNumber(l)?parseFloat(l.toFixed(3)).toString():l.toString()}e.getDisplayedValue=o})(ra||(ra={}));var _P;(e=>e.all=["images","videos","colors","audios","fonts","materials","variables"])(_P||(_P={}));var rN;(e=>e.all=[..._P.all,"components"])(rN||(rN={}));var nN;(e=>{function t(){return{images:new Ht,videos:new Ht,colors:new Ht,audios:new Ht,fonts:new Ht,materials:new Ht,components:new Ht,variables:new Ht}}e.defaultData=t})(nN||(nN={}));var Jm;(e=>{function t(){return{images:new Ht,videos:new Ht,colors:new Ht,audios:new Ht,fonts:new Ht,materials:new Ht,components:new Ht,variables:new Ht}}e.defaultData=t})(Jm||(Jm={}));var vs;(e=>{function t(){let l={};return l["89b10010-844c-11ec-a8a3-0242ac120002"]={r:.5,g:.5,b:.5,a:1,name:"Default Color"},zc(l,Ht.prototype)}e.defaultColors=t;function r(l){let c={};return l!=null&&l.withAITexture&&(c["a1b10010-844c-a8a3-11ec-0242ac2011ec"]={...P_.emptyImage,name:"AI generated image"}),zc(c,Ht.prototype)}e.defaultImages=r;function n(){return{catelogs:new Ht,materials:new Ht,images:new Ht,videos:new Ht,colors:new Ht,audios:new Ht,fonts:new Ht,variables:new vt,lib:Jm.defaultData()}}e.emptyData=n;function i(l){switch(l){case"number":return{value:0,name:"Number"};case"boolean":return{value:!1,name:"Boolean"};case"string":return{value:{textValue:"String value"},name:"String"};case"time":let c=[0,0,0];return{name:"Time",value:{textValue:c,deliminator:":",padding:2,suffix:"AM"},dynamicVariableType:"time",format:"HH:mm:ss",format12h24h:"12ampm",timeZone:null,hasEnd:!1,endValue:{textValue:c,deliminator:":",padding:2,suffix:"AM"},autoStart:!0,repeat:!1};case"counter":return{name:"Counter",value:0,dynamicVariableType:"counter",updateInterval:1e3,increment:1,autoStart:!0,hasEnd:!0,endValue:60,repeat:!0,randomStart:!1,range:[0,100],decimals:0};case"random":return{name:"Random",value:0,dynamicVariableType:"random",updateInterval:1e3,increment:1,autoStart:!0,isStatic:!1,hasEnd:!0,endValue:60,repeat:!0,min:0,max:100,decimals:0};default:console.error("Unknown variable type",l)}}e.defaultVariables=i;function o(l,c){if(c.format==="HH:mm:ss"){let a=Math.floor(l/3600),s=Math.floor((l-a*3600)/60),u=Math.round(l-a*3600-s*60);return{textValue:[a,s,u]}}else if(c.format==="mm:ss"){let a=Math.floor(l/60),s=Math.round(l-a*60);return{textValue:[a,s]}}else return c.format==="number"?l=Math.round(l):l=Math.round(l*1e3)/1e3,l}e.getFormattedTimerTime=o})(vs||(vs={}));var k_;(e=>e.list=["idle","move","jump","run"])(k_||(k_={}));var D_;(e=>(e.defaultColliderData={type:"capsule",height:200,radius:50,position:[0,0,0],rotation:[0,0,0]},e.defaultDataThirdPerson={moveMode:"walk",forwardDirection:"+z",speedTranslate:1e3,speedRotate:100,runMultiplier:2,rotationMode:"normal",rotBy:"keys",rotByTouch:"drag",delayPos:[.3,.3],delayRot:[.3,.3],keyAssignments:[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","▲"],["rotPosY","◀"],["rotNegX","▼"],["rotNegY","▶"],["jump","Space"],["run","⇧"],["none","Ctrl"]],touchControl:!0,joystickPosLoc:5,joystickRotLoc:11,jumpTouchButtonLoc:9,collider:e.defaultColliderData,colliderHelperVisible:!0,collisionEnabled:!0,jumpPower:100,resetYPosition:3e3,alignToGround:!1,autoOrientMove:!0,orientWith:"camera",orientMode:"radial",delayPosCamera:.3,delayRotCamera:.3,camera:"",cameraXAxis:"Limit",cameraYAxis:"Free",cameraRotXLimits:[0,Math.PI/2],cameraRotYLimits:[-Math.PI/2,Math.PI/2],gameActions:{idle:new vt,move:new vt,jump:new vt,run:new vt},navmesh:{enabled:!1,ch:6,cs:6,walkableClimb:5,walkableHeight:1,walkableRadius:0,zones:"all",objects:[],helperVisible:!0,destinationHelperRadius:0,destinationHelperColor:ws.fromHexAndA(3728051,1)}}))(D_||(D_={}));function iN(e){e.layers.forEach(t=>{if(t.type==="depth"&&t.colorA!==void 0){let r=t.colorA,n=t.colorB,i=[[r.r,r.g,r.b,r.a],[n.r,n.g,n.b,n.a]],o=[0,1];for(let c=2;c<10;c++)i.push(i[1]),o.push(1);let l={...Cc(Fn(t),"type","visible","isVector","isWorldSpace","origin","alpha","mode"),near:Math.max(0,t.near),far:Math.max(0,t.far),colors:i,steps:o,num:2,direction:[1,0,0],smooth:!1,gradientType:1};Object.assign(t,l)}else if(t.type==="depth"&&t.gradientType===1&&(t.near<0||t.far<0)){let r={...Fn(t),near:Math.max(t.near,0),far:Math.max(t.far,0)};Object.assign(t,r)}})}function bu(e,t){Object.values(e.shared.materials).forEach(r=>t(r))}function xu(e,t){e.scene.objects.traverse((r,n)=>{"materials"in n?n.materials.forEach((i,o)=>{i===void 0&&(n.materials[o]=Oi.defaultData(),i=n.materials[o]),typeof i!="string"&&t(i)}):"material"in n?typeof n.material!="string"&&(n.material===void 0&&(n.material=Oi.defaultData()),t(n.material)):n.type==="Mesh"&&(n.material===void 0&&(n.material=Oi.defaultData()),t(n.material)),"overrides"in n&&Object.values(n.overrides).forEach(i=>{i.material&&typeof i.material!="string"&&t(i.material)})})}function qPe(e){Object.assign(e.scene.publish,{orbitControls:{...T_.defaultData,...Fn(e.scene.publish.orbitControls)}})}function YPe(e){Object.assign(e.scene.publish.settings,{video:{...Ch.defaultData.settings.video,...Fn(e.scene.publish.settings.video)}})}function $Pe(e){function t(r){if(r.layers){for(let n of Object.values(r.layers))if(n){for(let[i,o]of Object.entries(n))if((d$.includes(i)||typeof o=="boolean")&&delete n[i],i==="texture")for(let[l,c]of Object.entries(o))(GPe.includes(l)||typeof c=="boolean")&&delete o[l]}}}e.scene.objects.traverse((r,n)=>{n.states.forEach(i=>{let o=i;o.material?t(o.material):o.materials&&o.materials.forEach(l=>{t(l)})})})}function XPe(e){e.scene.publish.withBackground=!0}function KPe(e){e.scene.publish.settings.web={compress:!0,preload:!0,preset:1,logo:!0,hint:!1}}function QPe(e){e.scene.objects.traverse((t,r)=>{let n=r.cloner;n&&(n.radial.scale=n.radial.scale.map(i=>i+1),n.linear.scale=n.linear.scale.map(i=>i+1))})}function ZPe(e){e.scene.objects.traverse((t,r)=>{let n=r.geometry;n&&(n.type==="DodecahedronGeometry"||n.type==="IcosahedronGeometry")&&(n.detail=Math.round(n.detail))})}function JPe(e){e.scene.objects.traverse((t,r)=>{let n=e.scene.objects.unproxy().parent(t);if(n){let i=Fn(e.scene.objects.data(n));i&&i.type==="Mesh"&&i.geometry.type==="BooleanGeometry"&&r.type==="Mesh"&&(r.visible=Fn(r).booleanExclude!==!0)}})}function e4e(e){e.scene.objects.traverse((t,r)=>{if(r.type==="Mesh"){let n=r;r.geometry.type==="NonParametricGeometry"?n.material!==void 0&&delete n.material:n.materials!==void 0&&delete n.materials}})}function t4e(e){function t(n){Object.setPrototypeOf(n,Kn.prototype),n.texture&&Object.setPrototypeOf(n.texture,Kn.prototype)}function r(n){Object.setPrototypeOf(n,Kn.prototype);for(let i in n)t(n[i])}e.scene.objects.traverse((n,i)=>{i.states.forEach(o=>{let l=o;if(l.material){let c=Fn(l.material).layers;r(c),l.material.layers=c}if(l.materials)for(let c=0;c<l.materials.length;c++){let a=l.materials[c],s=Fn(a).layers;r(s),a.layers=s}})})}function oN(e){e.layers===void 0&&Object.assign(e,Oi.defaultTwoLayerData("lambert"))}function mC(e){!e.layers||e.layers.forEach(t=>{if(t.type==="depth"&&t.colors.length===10){let r=[...t.colors];r.push(t.colors[9]);let n=[...t.steps];n.push(t.steps[9]);let i={...Fn(t),colors:r,steps:n};Object.assign(t,i)}})}function r4e(e){e.scene.objects.traverse((t,r)=>{r.type==="Mesh"&&(r.geometry.type==="BooleanGeometry"||r.geometry.type==="SubdivGeometry")&&(r.geometry.phongAngle=35)})}function aN(e){e.scene.objects.traverse((t,r)=>{"materials"in r?r.materials.forEach(n=>{typeof n!="string"&&mC(n)}):"material"in r&&typeof r.material!="string"&&mC(r.material)}),Object.values(e.shared.materials).forEach(t=>mC(t))}function n4e(e){e.scene.environment.ambientLight.softShadows=!1,e.scene.environment.ambientLight.softShadowQuality="low",e.scene.objects.traverse((t,r)=>{(r.type==="DirectionalLight"||r.type==="SpotLight")&&(r.shadowResolution=1024,r.shadowRadius=1,r.depth=1e5)}),e.shared.penumbraSize=new Array(5).fill(.5)}function i4e(e){e.shared.audios=zc({},Ht.prototype)}function o4e(e){e.shared.videos=zc({},Ht.prototype)}function a4e(e){let t=e.shared.materials;Object.entries(t).forEach(([r,n])=>{if(!n.layers){let i={name:"Untitled Material",layers:[{fi:0,data:{type:"light",category:"phong",alpha:.6,visible:!0,mode:0,specular:{r:.2,g:.2,b:.2},shininess:5},id:"layer1"},{fi:1,data:{type:"color",alpha:1,visible:!0,mode:0,color:{r:.2823529411764706,g:.2823529411764706,b:.30196078431372547}},id:"layer2"}]};Object.assign(t,{[r]:i})}})}function s4e(e){Object.entries(Fn(e.shared.images)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.images[t]}),Object.entries(Fn(e.shared.audios)).filter(t=>t[1].asset===!1).map(t=>t[0]).forEach(t=>{delete e.shared.audios[t]})}function l4e(e){e.scene.publish.settings.web.preload=!1}function sN(e){e.layers&&e.layers.forEach(t=>{t.type==="depth"&&t.num!==void 0&&(t.colors=t.colors.slice(0,t.num),t.steps=t.steps.slice(0,t.num),delete t.num)})}function lN(e){e.layers&&e.layers.forEach(t=>{WPe(t)&&t.isMask===void 0&&(t.isMask=!1),(t.type==="texture"||t.type==="video")&&t.blending===void 0&&(t.blending=0),(t.type==="noise"||t.type==="displace"&&t.displacementType==="noise")&&(t.voronoiStyle===void 0&&(t.voronoiStyle=0),t.highCut===void 0&&(t.highCut=1),t.lowCut===void 0&&(t.lowCut=0),t.smoothness===void 0&&(t.smoothness=.3),t.seed===void 0&&(t.seed=0),t.quality===void 0&&(t.quality=1))})}function c4e(e){e.shared.fonts=zc({},Ht.prototype)}function u4e(e){return e.replace(".typeface","").replace(/optimer/gi,"open sans").replace("space_mono","space mono").replace(/alma_mono/gi,"varela round").replace(/droid_sans_mono/gi,"noto sans mono").replace(/droid_sans|gentilis|gnomon_(simple|foreground)|helvetiker/gi,"roboto").replace(/droid_serif/gi,"roboto slab").replace("_sans"," sans").replace("crimson_text","crimson text").replace("medium_medium","medium").replace("fatface_fatface","fatface").replace("100hairline","thin").replace("200thin","extralight").replace("300light","light").replace("500medium","medium").replace("600semi","semibold").replace("800heavy","extrabold").replace("900black","black").replace(/bodoni_(11|16|24|36|48|72|96)([^_])/gi,"bodoni_$1_$2").replace(/bodoni_(11|16|24|36|48|72|96)/gi,"bodoni moda").replace(/(thin|hairline)(_regular)?/gi,"100").replace(/(extra|ultra)light(_regular)?/gi,"200").replace(/light(_regular)?/gi,"300").replace(/_book|_normal|_roman/gi,"_regular").replace(/medium(_regular)?/gi,"500").replace(/(semi|demi)bold(_regular)?/gi,"600").replace(/(extra|ultra)bold(_regular)?/gi,"800").replace(/bold(_regular)?/gi,"700").replace(/(black|heavy|fatface)(_regular)?/gi,"900").replace(/([1-9]00)_italic/gi,"$1italic").replace(/regularitalic/gi,"italic").replace(/regularitalic/gi,"italic").split(" ").map(t=>t.charAt(0).toUpperCase()+t.slice(1)).join(" ")}function d4e(e){let t=[];e.scene.objects.traverse((r,n)=>{let i=n;if(i.type==="TextFrame"){let o=Oi.defaultTwoLayerData("phong"),l=typeof i.color=="string"?e.shared.colors[i.color]:i.color;o.layers[1].data.color={r:l.r,g:l.g,b:l.b},o.layers[1].data.alpha=i.alpha;let c=u4e(i.font);e.shared.fonts[c]===void 0&&(e.shared.fonts[c]={name:c});let a={name:i.name,...ao.defaultData,...im.defaultData,flatShading:!1,wireframe:!1,geometry:{...nm.defaultData("TextGeometry"),width:i.width,height:i.height,font:c,depth:0,horizontalAlign:i.horizontalAlign,verticalAlign:i.verticalAlign,fontSize:i.fontSize*1.40625,lineHeight:i.lineHeight/1.40625,letterSpacing:i.letterSpacing-1,text:i.text,textTransform:i.textTransform,extrudeBevelSize:0,extrudeBevelSegments:1},material:o,states:Fn(i.states),events:Fn(i.events),visible:i.visible,raycastLock:i.raycastLock,position:i.position,rotation:i.rotation,scale:i.scale,hiddenMatrix:i.hiddenMatrix},s=Fn(e.scene.objects).parent(r);e.scene.objects.insertAfter(s??null,r,[{id:r+"new",data:a,children:[]}]),t.push(r)}}),t.forEach(r=>{e.scene.objects.delete(r)})}function h4e(e){let t={0:"MouseDown",1:"MouseUp",2:"MouseHover",5:"KeyDown",6:"KeyUp",7:"Start",9:"LookAt",10:"Follow",11:"Scroll",12:"Audio",13:"GameControl"};e.scene.objects.traverse((r,n)=>{n.events.forEach(i=>{if(t[Number(i.type)])if(Object.assign(i,{type:t[Number(i.type)]}),i.type==="Audio"&&"audioEvent"in i&&(Object.assign(i,{playAudio:i.audioEvent}),delete i.audioEvent),i.type==="GameControl")Object.assign(i,{gameActions:{idle:new vt,move:new vt,jump:new vt}});else{let o=new vt;Object.assign(i,{actions:o}),(i.type==="MouseDown"||i.type==="MouseUp"||i.type==="KeyDown"||i.type==="KeyUp")&&"url"in i&&o.push({fi:0,id:at.generateUUID(),data:{type:"Link",url:i.url,delay:0}}),"targets"in i&&(i.targets.forEach((l,c,a)=>{let s={state:void 0,repeat:0,delay:0,delayDirection:void 0,direction:"normal",duration:0,easing:4},u={easing:l.easing,duration:l.duration};l.easing===6?Object.assign(u,Cc(l,"mass","stiffness","damping","velocity")):l.easing===5&&Object.assign(u,{control1:{...l.control1},control2:{...l.control2}});let d={repeat:l.repeat?-1:0,delay:l.delay,delayDirection:l.delayDirection,direction:l.cycle&&l.rewind?"pingpong-rewind":l.cycle?"pingpong":"normal"},h={state:l.state,...d,...u},p={allowSlerp:!0,type:"Transition",object:l.object,repeat:0,delay:0,delayDirection:void 0,direction:"normal",tweens:new vt({fi:0,id:at.generateUUID(),data:s},{fi:1,id:at.generateUUID(),data:h})};o.push({fi:a,id:c,data:p})}),delete i.targets)}})})}function p4e(e){e.scene.objects.traverse((t,r)=>{function n(i,o){var a;let l=new vt,c=[];if(r.events.forEach((s,u,d)=>{if(s.type==="Audio"&&s.trigger===o){let h;c.push(u),s.interaction==="play"?h={...Cc(s,"interaction","audio","delay","volume","loop"),triggerAfter:"after"in s?s.after:void 0,toggle:"after"in s?s.toggle:void 0,type:"Audio"}:(s.interaction==="pause"||s.interaction==="stop")&&(h={...Cc(s,"interaction","delay","object","playAudio"),type:"Audio"}),h&&l.push({fi:d,id:u,data:h})}}),c.forEach(s=>r.events.delete(s)),l.length){let s=(a=r.events.find(u=>u.type===i))==null?void 0:a.data;s?"actions"in s&&s.actions.insertBefore(null,l):r.events.insertBefore(null,[{id:at.generateUUID(),data:{type:i,actions:l}}])}}n("Start","start"),n("MouseDown","mouseDown"),n("MouseUp","mouseUp"),n("KeyDown","keyDown"),n("KeyUp","keyUp")})}function cN(e){var r;let t=(r=e.layers.find(n=>n.type==="light"))==null?void 0:r.data;if((t==null?void 0:t.category)==="basic"){let n=xo.defaultData("light","phong"),i=t;Object.assign(i,n),i.visible=!1}}function uN(e){bu(e,cN),xu(e,cN)}function f4e(e){e.scene.objects.traverse((t,r)=>{r.type==="Mesh"&&r.geometry.type==="SubdivGeometry"&&(r.geometry.scaleBaked||(r.geometry.scaleBaked=[1,1,1]))})}function m4e(e){e.scene.objects.traverse((t,r)=>{(r.type==="Empty"||r.type==="Mesh")&&r.cloner&&!r.cloner.randomnessObject&&!r.cloner.toObject&&!r.cloner.randomness&&(r.cloner={...r.cloner,toObject:{object:"",spreadType:"random",scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],axis:"x",seed:0,count:99,align:"normal"},randomness:!1,randomnessObject:{strength:100,scale:[0,0,0],rotation:[0,0,0],position:[0,0,0],movement:1,seed:0,freqScale:10,noiseType:"perlin"}})})}function g4e(e){e.scene.objects.traverse((t,r)=>{r.type==="Mesh"&&r.geometry.type==="NonParametricGeometry"&&!("material"in r)&&!("materials"in r)&&(r.material=Oi.defaultTwoLayerData("phong"))})}function v4e(e){e.scene.publish.orbitControls.autoZoom===void 0&&(e.scene.publish.orbitControls.autoZoom=!1),e.scene.objects.traverse((t,r)=>{(r.type==="OrthographicCamera"||r.type==="PerspectiveCamera")&&(r.orthographic.autoZoom===void 0&&(r.orthographic.autoZoom=!1),r.orthographic.autoZoomFrustumSize===void 0&&(r.orthographic.autoZoomFrustumSize=790))})}function y4e(e){e.scene.objects.traverse((t,r)=>{r.pathSnapping===void 0&&(r.pathSnapping={pathId:null,slide:0,offset:0,orientation:"tangential"}),r.pathSnapping.offset===void 0&&(r.pathSnapping.offset=0)})}function b4e(e){e.scene.publish.mouseEventTarget===void 0&&(e.scene.publish.mouseEventTarget="canvas"),e.scene.publish.settings.web.hint===void 0&&(e.scene.publish.settings.web.hint=!1)}function x4e(e){let{video:t}=e.scene.publish.settings;t.format==="gif"&&t.fps>48&&(t.fps=15)}function w4e(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(n=>{n.type==="GameControl"&&(n.resetYPosition=Math.abs(n.resetYPosition-r.position[1]))})})}function _4e(e){let t=e.scene.environment.usePhysics;e.scene.objects.traverse((r,n)=>{t&&n.physics===null?n.collision=!1:n.collision="visibility"})}function S4e(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(n=>{n.type==="GameControl"&&(n.navmesh=D_.defaultDataThirdPerson.navmesh)})})}function E4e(e){e.scene.styles||(e.scene.styles=om.defaultData())}function dN(e){e.layers.forEach(t=>{t.type==="light"&&t.category!=="toon"&&t.occlusion===void 0&&(t.occlusion=!0)})}function C4e(e){e.scene.environment.ambientLight.occlusion===void 0&&(e.scene.environment.ambientLight.occlusion=!1),e.scene.environment.ambientLight.aoFullRes===void 0&&(e.scene.environment.ambientLight.aoFullRes=!1),e.scene.environment.ambientLight.radius===void 0&&(e.scene.environment.ambientLight.radius=256),e.scene.environment.ambientLight.bias===void 0&&(e.scene.environment.ambientLight.bias=.5),e.scene.environment.ambientLight.aoColor===void 0&&(e.scene.environment.ambientLight.aoColor={r:.19607843137254902,g:.19607843137254902,b:.19607843137254902}),xu(e,dN),bu(e,dN)}function A4e(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(n=>{n.type==="GameControl"&&Object.assign(n.gameActions,{run:new vt})})})}function M4e(e){e.scene.objects.traverse((t,r)=>{r.events.forEach(n=>{n.type==="GameControl"&&(n.keyAssignments=[...n.keyAssignments,["run","⇧"],["none","Ctrl"]])})})}function hN(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.bumpMapIntensity===void 0&&(t.bumpMapIntensity=5)})}function T4e(e,t){if(t<1&&(xu(e,iN),bu(e,iN),e.schema=1),t<2&&(qPe(e),e.schema=2),t<3&&($Pe(e),e.schema=3),t<4&&(XPe(e),e.schema=4),t<5&&(KPe(e),e.schema=5),t<6&&(QPe(e),e.schema=6),t<7&&(ZPe(e),e.schema=7),t<8&&(e.schema=8),t<9&&(aN(e),e.schema=9),t<10&&(r4e(e),e.schema=10),t<11&&(n4e(e),e.schema=11),t<12&&(aN(e),e.schema=12),t<13&&(i4e(e),e.schema=13),t<14&&(a4e(e),e.schema=14),t<15&&(s4e(e),e.schema=15),t<16&&(l4e(e),e.schema=16),t<17&&(xu(e,sN),bu(e,sN),e.schema=17),t<18&&(xu(e,oN),bu(e,oN),e.schema=18),t<19&&(YPe(e),e.schema=19),t<20&&(c4e(e),d4e(e),e.schema=20),t<21&&(h4e(e),p4e(e),e.schema=21),t<22&&(uN(e),e.schema=22),t<23&&(f4e(e),e.schema=23),t<24&&(m4e(e),e.schema=24),(t<25||e.shared.videos===void 0)&&(o4e(e),t<25&&(e.schema=25)),t<26&&(JPe(e),e.schema=26),t<27&&(e4e(e),e.schema=27),t<28&&(uN(e),e.schema=28),t<29&&(t4e(e),e.schema=29),t<30&&(g4e(e),e.schema=30),t<31&&(v4e(e),e.schema=31),t<33&&(y4e(e),e.schema=33),t<34&&(b4e(e),e.schema=34),t<35&&(x4e(e),e.schema=35),t<36&&(w4e(e),e.schema=36),t<37&&(_4e(e),e.schema=37),t<38&&(xu(e,lN),bu(e,lN),e.schema=38),t<39&&(S4e(e),e.schema=39),t<40&&(E4e(e),e.schema=40),t<41&&(C4e(e),e.schema=41),t<42&&(A4e(e),e.schema=42),t<43&&(M4e(e),e.schema=43),t<99){xu(e,hN),bu(e,hN),e.scene.publish.playCamera===null&&(e.scene.publish.playCamera=Mg);let r=Fn(e.scene.objects),n=e.scene.objects;e.scene.publish.playPage=xv,n.insertBefore(null,null,[{id:xv,data:{...Zm.defaultData,backgroundColor:e.scene.backgroundColor,fog:e.scene.fog,postprocessing:e.scene.postprocessing,ao:Cc(e.scene.environment.ambientLight,"occlusion","aoFullRes","radius","bias","aoColor"),publish:{playCamera:e.scene.publish.playCamera,gameControlObject:e.scene.publish.gameControlObject},shadow:Cc(e.scene.environment.ambientLight,"softShadowQuality"),globalPhysics:{...Km.defaultData,...Cc(e.scene.environment,"usePhysics","gravity")},camera:Fn(e.scene.ownerCamera)??Zm.defaultData.camera,name:"Scene"},children:[]}]);for(let l of r)l.id!==am.TRASH_CAN_ID&&n.move(xv,l.fi,l.id);let i=0,o=0;e.shared.penumbraSize&&e.scene.objects.traverse((l,c)=>{c.type==="DirectionalLight"?(c.penumbraSize=e.shared.penumbraSize[Math.min(i,2)],i+=1):c.type==="SpotLight"&&(c.penumbraSize=e.shared.penumbraSize[3+Math.min(o,1)],o+=1),(c.physics===void 0||c.physics===null)&&c.type!=="Instance"&&(c.physics={},Object.assign(c.physics,Xm.defaultData)),c.physics!==void 0&&c.physics!==null&&(c.physics.enabled=c.collision??"visibility",delete c.collision)}),e.schema=99}}function pN(e){e.layers&&e.layers.forEach(t=>{t.type==="light"&&t.alphaOverride===void 0&&(t.alphaOverride=1)})}function P4e(e){e.scene.objects.traverse((t,r)=>{let n=r.geometry;n&&n.type==="PathGeometry"&&(n.extrusion.capType="flat",n.extrusion.bevel=50,n.extrusion.bevelSides=6,n.extrusion.shape.type==="Custom"&&(n.extrusion.shape.shapeQuality="low"))})}var cf=180/Math.PI;function fN(e){e.rotation=e.rotation.slice(0,3).map(t=>t*cf)}function m$(e){var r,n;fN(e),e.type==="Page"&&fN(e.camera),(r=e.states)==null||r.forEach(i=>{i.rotation===void 0||i.rotation===null||(i.rotation=i.rotation.slice(0,3).map(o=>o*cf))});let t=e.geometry;t&&t.type==="SphereGeometry"&&(t.thetaLength=(t.thetaLength??180)*cf),t&&t.type==="TorusGeometry"&&(t.arc=t.arc*cf),t&&t.type==="PathGeometry"&&(t.extrusion.angle*=cf,t.extrusion.twist*=cf),e.type==="Mesh"&&e.geometry.type==="TextGeometry"&&(e.geometry.text={textValue:e.geometry.text}),Array.isArray(Fn(e.events))&&((n=e.events)==null||n.forEach(i=>{(i.type==="MouseDown"||i.type==="MouseUp"||i.type==="MousePress"||i.type==="KeyDown"||i.type==="KeyUp"||i.type==="KeyPress"||i.type==="Collision"||i.type==="Trigger")&&(i.runMode=i.toggle?"Toggle":"Once")}))}function k4e(e){e.shared.variables=zc({},Ht.prototype)}function D4e(e){let t=Fn(e.shared.variables);e.shared.variables=zc(Object.entries(t??{}).map(([r,n],i)=>({fi:i,id:r,data:n})),vt.prototype)}var wu=107;function g$(e,t){t(e.data);for(let r of e.children)g$(r,t)}function j4e(e){let t=e.schema??104;t!==wu&&t<105&&(g$(e.asset,m$),e.schema=105)}function v$(e){let t=e.schema??0;if(t!==wu){console.warn("updating from ",t,"to ",wu),T4e(e,t),t<100&&(e.scene.publish.joystickSizeAndXYOffset===void 0&&(e.scene.publish.joystickSizeAndXYOffset=Ch.defaultData.joystickSizeAndXYOffset),e.schema=100),t<101&&(xu(e,pN),bu(e,pN),e.schema=101),t<102&&(P4e(e),e.schema=102),t<104&&(e.shared.catelogs=new Ht,e.shared.lib=Jm.defaultData(),e.schema=104),t<105&&(k4e(e),e.scene.objects.traverse((r,n)=>{m$(n)}),e.schema=105);for(let r of Object.values(e.shared.lib.components))j4e(r);t<106&&(D4e(e),e.schema=106),t<107&&(e.shared.lib.variables=Jm.defaultData().variables,e.schema=107)}}var j_;(e=>{e.defaultData={schema:wu,scene:am.defaultData,frames:new Ht().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",wv.defaultData),shared:{...vs.emptyData(),colors:vs.defaultColors()}},e.emptyDataForImports=function(i){let o=am.emptyDataWithPage(i);return{schema:wu,scene:o,frames:new Ht().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",wv.defaultData),shared:{...vs.emptyData(),colors:vs.defaultColors(),images:vs.defaultImages(i)}}},e.emptyData=function(){return{schema:wu,scene:am.emptyDataWithPage(),frames:new Ht().add("72fc2993-2da3-4b6b-96ac-2879db3a28bd",wv.defaultData),shared:vs.emptyData()}},e.collabHelper={...GT,updateSchema(i){return(i.schema??0)<wu?by(i,v$):(i.schema??0)-wu}};function t(i){let o=e.collabHelper.updateSchema(i);return typeof o=="number"?o===0?i:null:o.data}e.updateSchemaDirectly=t;function r(i){return{...i,shared:{...i.shared,lib:Jm.defaultData()}}}e.withoutLib=r;function n(i,o){let l=i.scene.objects.get(o);if(l&&l.data.type==="Component")return l;{let c=i.shared.lib.components[o];if(c)return c.asset}}e.getComponentData=n})(j_||(j_={}));function lh(e,t=!1){let r=e[0].index!==null,n=new Set(Object.keys(e[0].attributes)),i=new Set(Object.keys(e[0].morphAttributes)),o={},l={},c=e[0].morphTargetsRelative,a=new lt,s=0;for(let u=0;u<e.length;++u){let d=e[u],h=0;if(r!==(d.index!==null))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". All geometries must have compatible attributes; make sure index attribute exists among all geometries, or in none of them."),null;for(let p in d.attributes){if(!n.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+'. All geometries must have compatible attributes; make sure "'+p+'" attribute exists among all geometries, or in none of them.'),null;o[p]===void 0&&(o[p]=[]),o[p].push(d.attributes[p]),h++}if(h!==n.size)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". Make sure all geometries have the same number of attributes."),null;if(c!==d.morphTargetsRelative)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". .morphTargetsRelative must be consistent throughout all geometries."),null;for(let p in d.morphAttributes){if(!i.has(p))return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+".  .morphAttributes must be consistent throughout all geometries."),null;l[p]===void 0&&(l[p]=[]),l[p].push(d.morphAttributes[p])}if(t){let p;if(r)p=d.index.count;else if(d.attributes.position!==void 0)p=d.attributes.position.count;else return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed with geometry at index "+u+". The geometry must have either an index or a position attribute"),null;a.addGroup(s,p,u),s+=p}}if(r){let u=0,d=[];for(let h=0;h<e.length;++h){let p=e[h].index;for(let m=0;m<p.count;++m)d.push(p.getX(m)+u);u+=e[h].attributes.position.count}a.setIndex(d)}for(let u in o){let d=mN(o[u]);if(!d)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" attribute."),null;a.setAttribute(u,d)}for(let u in l){let d=l[u][0].length;if(d===0)break;a.morphAttributes=a.morphAttributes||{},a.morphAttributes[u]=[];for(let h=0;h<d;++h){let p=[];for(let f=0;f<l[u].length;++f)p.push(l[u][f][h]);let m=mN(p);if(!m)return console.error("THREE.BufferGeometryUtils: .mergeBufferGeometries() failed while trying to merge the "+u+" morphAttribute."),null;a.morphAttributes[u].push(m)}}return a}function mN(e){let t,r,n,i=0;for(let c=0;c<e.length;++c){let a=e[c];if(a.isInterleavedBufferAttribute)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. InterleavedBufferAttributes are not supported."),null;if(t===void 0&&(t=a.array.constructor),t!==a.array.constructor)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.array must be of consistent array types across matching attributes."),null;if(r===void 0&&(r=a.itemSize),r!==a.itemSize)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.itemSize must be consistent across matching attributes."),null;if(n===void 0&&(n=a.normalized),n!==a.normalized)return console.error("THREE.BufferGeometryUtils: .mergeBufferAttributes() failed. BufferAttribute.normalized must be consistent across matching attributes."),null;i+=a.array.length}let o=new t(i),l=0;for(let c=0;c<e.length;++c)o.set(e[c].array,l),l+=e[c].array.length;return new St(o,r,n)}var I4e=Math.pow(2,-24),Tb=class{constructor(){}};function pl(e,t,r){return r.min.x=t[e],r.min.y=t[e+1],r.min.z=t[e+2],r.max.x=t[e+3],r.max.y=t[e+4],r.max.z=t[e+5],r}function gN(e){let t=-1,r=-1/0;for(let n=0;n<3;n++){let i=e[n+3]-e[n];i>r&&(r=i,t=n)}return t}function vN(e,t){t.set(e)}function yN(e,t,r){let n,i;for(let o=0;o<3;o++){let l=o+3;n=e[o],i=t[o],r[o]=n<i?n:i,n=e[l],i=t[l],r[l]=n>i?n:i}}function Pb(e,t,r){for(let n=0;n<3;n++){let i=t[e+2*n],o=t[e+2*n+1],l=i-o,c=i+o;l<r[n]&&(r[n]=l),c>r[n+3]&&(r[n+3]=c)}}function h0(e){let t=e[3]-e[0],r=e[4]-e[1],n=e[5]-e[2];return 2*(t*r+r*n+n*t)}function O4e(e,t){if(!e.index){let r=e.attributes.position.count,n=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer,i;r>65535?i=new Uint32Array(new n(4*r)):i=new Uint16Array(new n(2*r)),e.setIndex(new St(i,1));for(let o=0;o<r;o++)i[o]=o}}function R4e(e){if(!e.groups||!e.groups.length)return[{offset:0,count:e.index.count/3}];let t=[],r=new Set;for(let i of e.groups)r.add(i.start),r.add(i.start+i.count);let n=Array.from(r.values()).sort((i,o)=>i-o);for(let i=0;i<n.length-1;i++){let o=n[i],l=n[i+1];t.push({offset:o/3,count:(l-o)/3})}return t}function gC(e,t,r,n,i=null){let o=1/0,l=1/0,c=1/0,a=-1/0,s=-1/0,u=-1/0,d=1/0,h=1/0,p=1/0,m=-1/0,f=-1/0,g=-1/0,v=i!==null;for(let x=t*6,y=(t+r)*6;x<y;x+=6){let b=e[x+0],w=e[x+1],_=b-w,S=b+w;_<o&&(o=_),S>a&&(a=S),v&&b<d&&(d=b),v&&b>m&&(m=b);let E=e[x+2],A=e[x+3],C=E-A,M=E+A;C<l&&(l=C),M>s&&(s=M),v&&E<h&&(h=E),v&&E>f&&(f=E);let T=e[x+4],k=e[x+5],P=T-k,D=T+k;P<c&&(c=P),D>u&&(u=D),v&&T<p&&(p=T),v&&T>g&&(g=T)}n[0]=o,n[1]=l,n[2]=c,n[3]=a,n[4]=s,n[5]=u,v&&(i[0]=d,i[1]=h,i[2]=p,i[3]=m,i[4]=f,i[5]=g)}function z4e(e,t,r,n){let i=1/0,o=1/0,l=1/0,c=-1/0,a=-1/0,s=-1/0;for(let u=t*6,d=(t+r)*6;u<d;u+=6){let h=e[u+0];h<i&&(i=h),h>c&&(c=h);let p=e[u+2];p<o&&(o=p),p>a&&(a=p);let m=e[u+4];m<l&&(l=m),m>s&&(s=m)}n[0]=i,n[1]=o,n[2]=l,n[3]=c,n[4]=a,n[5]=s}function L4e(e,t,r,n,i){let o=r,l=r+n-1,c=i.pos,a=i.axis*2;for(;;){for(;o<=l&&t[o*6+a]<c;)o++;for(;o<=l&&t[l*6+a]>=c;)l--;if(o<l){for(let s=0;s<3;s++){let u=e[o*3+s];e[o*3+s]=e[l*3+s],e[l*3+s]=u;let d=t[o*6+s*2+0];t[o*6+s*2+0]=t[l*6+s*2+0],t[l*6+s*2+0]=d;let h=t[o*6+s*2+1];t[o*6+s*2+1]=t[l*6+s*2+1],t[l*6+s*2+1]=h}o++,l--}else return o}}var Yl=32,N4e=(e,t)=>e.candidate-t.candidate,Jc=new Array(Yl).fill().map(()=>({count:0,bounds:new Float32Array(6),rightCacheBounds:new Float32Array(6),leftCacheBounds:new Float32Array(6),candidate:0})),kb=new Float32Array(6);function B4e(e,t,r,n,i,o){let l=-1,c=0;if(o===0)l=gN(t),l!==-1&&(c=(t[l]+t[l+3])/2);else if(o===1)l=gN(e),l!==-1&&(c=F4e(r,n,i,l));else if(o===2){let a=h0(e),s=1.25*i,u=n*6,d=(n+i)*6;for(let h=0;h<3;h++){let p=t[h],m=(t[h+3]-p)/Yl;if(i<Yl/4){let f=[...Jc];f.length=i;let g=0;for(let x=u;x<d;x+=6,g++){let y=f[g];y.candidate=r[x+2*h],y.count=0;let{bounds:b,leftCacheBounds:w,rightCacheBounds:_}=y;for(let S=0;S<3;S++)_[S]=1/0,_[S+3]=-1/0,w[S]=1/0,w[S+3]=-1/0,b[S]=1/0,b[S+3]=-1/0;Pb(x,r,b)}f.sort(N4e);let v=i;for(let x=0;x<v;x++){let y=f[x];for(;x+1<v&&f[x+1].candidate===y.candidate;)f.splice(x+1,1),v--}for(let x=u;x<d;x+=6){let y=r[x+2*h];for(let b=0;b<v;b++){let w=f[b];y>=w.candidate?Pb(x,r,w.rightCacheBounds):(Pb(x,r,w.leftCacheBounds),w.count++)}}for(let x=0;x<v;x++){let y=f[x],b=y.count,w=i-y.count,_=y.leftCacheBounds,S=y.rightCacheBounds,E=0;b!==0&&(E=h0(_)/a);let A=0;w!==0&&(A=h0(S)/a);let C=1+1.25*(E*b+A*w);C<s&&(l=h,s=C,c=y.candidate)}}else{for(let v=0;v<Yl;v++){let x=Jc[v];x.count=0,x.candidate=p+m+v*m;let y=x.bounds;for(let b=0;b<3;b++)y[b]=1/0,y[b+3]=-1/0}for(let v=u;v<d;v+=6){let x=~~((r[v+2*h]-p)/m);x>=Yl&&(x=Yl-1);let y=Jc[x];y.count++,Pb(v,r,y.bounds)}let f=Jc[Yl-1];vN(f.bounds,f.rightCacheBounds);for(let v=Yl-2;v>=0;v--){let x=Jc[v],y=Jc[v+1];yN(x.bounds,y.rightCacheBounds,x.rightCacheBounds)}let g=0;for(let v=0;v<Yl-1;v++){let x=Jc[v],y=x.count,b=x.bounds,w=Jc[v+1].rightCacheBounds;y!==0&&(g===0?vN(b,kb):yN(b,kb,kb)),g+=y;let _=0,S=0;g!==0&&(_=h0(kb)/a);let E=i-g;E!==0&&(S=h0(w)/a);let A=1+1.25*(_*g+S*E);A<s&&(l=h,s=A,c=x.candidate)}}}}else console.warn(`MeshBVH: Invalid build strategy value ${o} used.`);return{axis:l,pos:c}}function F4e(e,t,r,n){let i=0;for(let o=t,l=t+r;o<l;o++)i+=e[o*6+n*2];return i/r}function U4e(e,t){let r=e.attributes.position,n=e.index.array,i=n.length/3,o=new Float32Array(i*6),l=r.normalized,c=r.array,a=r.offset||0,s=3;r.isInterleavedBufferAttribute&&(s=r.data.stride);let u=["getX","getY","getZ"];for(let d=0;d<i;d++){let h=d*3,p=d*6,m,f,g;l?(m=n[h+0],f=n[h+1],g=n[h+2]):(m=n[h+0]*s+a,f=n[h+1]*s+a,g=n[h+2]*s+a);for(let v=0;v<3;v++){let x,y,b;l?(x=r[u[v]](m),y=r[u[v]](f),b=r[u[v]](g)):(x=c[m+v],y=c[f+v],b=c[g+v]);let w=x;y<w&&(w=y),b<w&&(w=b);let _=x;y>_&&(_=y),b>_&&(_=b);let S=(_-w)/2,E=v*2;o[p+E+0]=w+S,o[p+E+1]=S+(Math.abs(w)+S)*I4e,w<t[v]&&(t[v]=w),_>t[v+3]&&(t[v+3]=_)}}return o}function V4e(e,t){function r(v){h&&h(v/p)}function n(v,x,y,b=null,w=0){if(!m&&w>=a&&(m=!0,s&&(console.warn(`MeshBVH: Max depth of ${a} reached when generating BVH. Consider increasing maxDepth.`),console.warn(e))),y<=u||w>=a)return r(x+y),v.offset=x,v.count=y,v;let _=B4e(v.boundingData,b,l,x,y,d);if(_.axis===-1)return r(x+y),v.offset=x,v.count=y,v;let S=L4e(c,l,x,y,_);if(S===x||S===x+y)r(x+y),v.offset=x,v.count=y;else{v.splitAxis=_.axis;let E=new Tb,A=x,C=S-x;v.left=E,E.boundingData=new Float32Array(6),gC(l,A,C,E.boundingData,o),n(E,A,C,o,w+1);let M=new Tb,T=S,k=y-C;v.right=M,M.boundingData=new Float32Array(6),gC(l,T,k,M.boundingData,o),n(M,T,k,o,w+1)}return v}O4e(e,t);let i=new Float32Array(6),o=new Float32Array(6),l=U4e(e,i),c=e.index.array,a=t.maxDepth,s=t.verbose,u=t.maxLeafTris,d=t.strategy,h=t.onProgress,p=e.index.count/3,m=!1,f=[],g=R4e(e);if(g.length===1){let v=g[0],x=new Tb;x.boundingData=i,z4e(l,v.offset,v.count,o),n(x,v.offset,v.count,o),f.push(x)}else for(let v of g){let x=new Tb;x.boundingData=new Float32Array(6),gC(l,v.offset,v.count,x.boundingData,o),n(x,v.offset,v.count,o),f.push(x)}return f}function H4e(e,t){let r=V4e(e,t),n,i,o,l=[],c=t.useSharedArrayBuffer?SharedArrayBuffer:ArrayBuffer;for(let u=0;u<r.length;u++){let d=r[u],h=a(d),p=new c(32*h);n=new Float32Array(p),i=new Uint32Array(p),o=new Uint16Array(p),s(0,d),l.push(p)}return l;function a(u){return u.count?1:1+a(u.left)+a(u.right)}function s(u,d){let h=u/4,p=u/2,m=!!d.count,f=d.boundingData;for(let g=0;g<6;g++)n[h+g]=f[g];if(m){let g=d.offset,v=d.count;return i[h+6]=g,o[p+14]=v,o[p+15]=65535,u+32}else{let g=d.left,v=d.right,x=d.splitAxis,y;if(y=s(u+32,g),y/4>Math.pow(2,32))throw new Error("MeshBVH: Cannot store child pointer greater than 32 bits.");return i[h+6]=y/4,y=s(y,v),i[h+7]=x,y}}}var Lc=class{constructor(){this.min=1/0,this.max=-1/0}setFromPointsField(e,t){let r=1/0,n=-1/0;for(let i=0,o=e.length;i<o;i++){let l=e[i][t];r=l<r?l:r,n=l>n?l:n}this.min=r,this.max=n}setFromPoints(e,t){let r=1/0,n=-1/0;for(let i=0,o=t.length;i<o;i++){let l=t[i],c=e.dot(l);r=c<r?c:r,n=c>n?c:n}this.min=r,this.max=n}isSeparated(e){return this.min>e.max||e.min>this.max}};Lc.prototype.setFromBox=function(){let e=new L;return function(t,r){let n=r.min,i=r.max,o=1/0,l=-1/0;for(let c=0;c<=1;c++)for(let a=0;a<=1;a++)for(let s=0;s<=1;s++){e.x=n.x*c+i.x*(1-c),e.y=n.y*a+i.y*(1-a),e.z=n.z*s+i.z*(1-s);let u=t.dot(e);o=Math.min(u,o),l=Math.max(u,l)}this.min=o,this.max=l}}();var W4e=function(){let e=new L,t=new L,r=new L;return function(n,i,o){let l=n.start,c=e,a=i.start,s=t;r.subVectors(l,a),e.subVectors(n.end,n.start),t.subVectors(i.end,i.start);let u=r.dot(s),d=s.dot(c),h=s.dot(s),p=r.dot(c),m=c.dot(c)*h-d*d,f,g;m!==0?f=(u*d-p*h)/m:f=0,g=(u+f*d)/h,o.x=f,o.y=g}}(),OD=function(){let e=new re,t=new L,r=new L;return function(n,i,o,l){W4e(n,i,e);let c=e.x,a=e.y;if(c>=0&&c<=1&&a>=0&&a<=1){n.at(c,o),i.at(a,l);return}else if(c>=0&&c<=1){a<0?i.at(0,l):i.at(1,l),n.closestPointToPoint(l,!0,o);return}else if(a>=0&&a<=1){c<0?n.at(0,o):n.at(1,o),i.closestPointToPoint(o,!0,l);return}else{let s;c<0?s=n.start:s=n.end;let u;a<0?u=i.start:u=i.end;let d=t,h=r;if(n.closestPointToPoint(u,!0,t),i.closestPointToPoint(s,!0,r),d.distanceToSquared(u)<=h.distanceToSquared(s)){o.copy(d),l.copy(u);return}else{o.copy(s),l.copy(h);return}}}}(),G4e=function(){let e=new L,t=new L,r=new Qo,n=new Ha;return function(i,o){let{radius:l,center:c}=i,{a,b:s,c:u}=o;if(n.start=a,n.end=s,n.closestPointToPoint(c,!0,e).distanceTo(c)<=l||(n.start=a,n.end=u,n.closestPointToPoint(c,!0,e).distanceTo(c)<=l)||(n.start=s,n.end=u,n.closestPointToPoint(c,!0,e).distanceTo(c)<=l))return!0;let d=o.getPlane(r);if(Math.abs(d.distanceToPoint(c))<=l){let h=d.projectPoint(c,t);if(o.containsPoint(h))return!0}return!1}}(),q4e=1e-15;function Lp(e){return Math.abs(e)<q4e}var Nc=class extends ki{constructor(...e){super(...e),this.isExtendedTriangle=!0,this.satAxes=new Array(4).fill().map(()=>new L),this.satBounds=new Array(4).fill().map(()=>new Lc),this.points=[this.a,this.b,this.c],this.sphere=new Bo,this.plane=new Qo,this.needsUpdate=!0}intersectsSphere(e){return G4e(e,this)}update(){let e=this.a,t=this.b,r=this.c,n=this.points,i=this.satAxes,o=this.satBounds,l=i[0],c=o[0];this.getNormal(l),c.setFromPoints(l,n);let a=i[1],s=o[1];a.subVectors(e,t),s.setFromPoints(a,n);let u=i[2],d=o[2];u.subVectors(t,r),d.setFromPoints(u,n);let h=i[3],p=o[3];h.subVectors(r,e),p.setFromPoints(h,n),this.sphere.setFromPoints(this.points),this.plane.setFromNormalAndCoplanarPoint(l,e),this.needsUpdate=!1}};Nc.prototype.closestPointToSegment=function(){let e=new L,t=new L,r=new Ha;return function(n,i=null,o=null){let{start:l,end:c}=n,a=this.points,s,u=1/0;for(let d=0;d<3;d++){let h=(d+1)%3;r.start.copy(a[d]),r.end.copy(a[h]),OD(r,n,e,t),s=e.distanceToSquared(t),s<u&&(u=s,i&&i.copy(e),o&&o.copy(t))}return this.closestPointToPoint(l,e),s=l.distanceToSquared(e),s<u&&(u=s,i&&i.copy(e),o&&o.copy(l)),this.closestPointToPoint(c,e),s=c.distanceToSquared(e),s<u&&(u=s,i&&i.copy(e),o&&o.copy(c)),Math.sqrt(u)}}();Nc.prototype.intersectsTriangle=function(){let e=new Nc,t=new Array(3),r=new Array(3),n=new Lc,i=new Lc,o=new L,l=new L,c=new L,a=new L,s=new Ha,u=new Ha,d=new Ha;return function(h,p=null,m=!1){this.needsUpdate&&this.update(),h.isExtendedTriangle?h.needsUpdate&&h.update():(e.copy(h),e.update(),h=e);let f=this.plane,g=h.plane;if(Math.abs(f.normal.dot(g.normal))>1-1e-10){let v=this.satBounds,x=this.satAxes;r[0]=h.a,r[1]=h.b,r[2]=h.c;for(let w=0;w<4;w++){let _=v[w],S=x[w];if(n.setFromPoints(S,r),_.isSeparated(n))return!1}let y=h.satBounds,b=h.satAxes;t[0]=this.a,t[1]=this.b,t[2]=this.c;for(let w=0;w<4;w++){let _=y[w],S=b[w];if(n.setFromPoints(S,t),_.isSeparated(n))return!1}for(let w=0;w<4;w++){let _=x[w];for(let S=0;S<4;S++){let E=b[S];if(o.crossVectors(_,E),n.setFromPoints(o,t),i.setFromPoints(o,r),n.isSeparated(i))return!1}}return p&&(m||console.warn("ExtendedTriangle.intersectsTriangle: Triangles are coplanar which does not support an output edge. Setting edge to 0, 0, 0."),p.start.set(0,0,0),p.end.set(0,0,0)),!0}else{let v=this.points,x=!1,y=0;for(let k=0;k<3;k++){let P=v[k],D=v[(k+1)%3];s.start.copy(P),s.end.copy(D),s.delta(l);let I=x?u.start:u.end,O=Lp(g.distanceToPoint(P));if(Lp(g.normal.dot(l))&&O){u.copy(s),y=2;break}if((g.intersectLine(s,I)||O)&&!Lp(I.distanceTo(D))){if(y++,x)break;x=!0}}if(y===1&&h.containsPoint(u.end))return p&&(p.start.copy(u.end),p.end.copy(u.end)),!0;if(y!==2)return!1;let b=h.points,w=!1,_=0;for(let k=0;k<3;k++){let P=b[k],D=b[(k+1)%3];s.start.copy(P),s.end.copy(D),s.delta(c);let I=w?d.start:d.end,O=Lp(f.distanceToPoint(P));if(Lp(f.normal.dot(c))&&O){d.copy(s),_=2;break}if((f.intersectLine(s,I)||O)&&!Lp(I.distanceTo(D))){if(_++,w)break;w=!0}}if(_===1&&this.containsPoint(d.end))return p&&(p.start.copy(d.end),p.end.copy(d.end)),!0;if(_!==2)return!1;if(u.delta(l),d.delta(c),l.dot(c)<0){let k=d.start;d.start=d.end,d.end=k}let S=u.start.dot(l),E=u.end.dot(l),A=d.start.dot(l),C=d.end.dot(l),M=E<A,T=S<C;return S!==C&&A!==E&&M===T?!1:(p&&(a.subVectors(u.start,d.start),a.dot(l)>0?p.start.copy(u.start):p.start.copy(d.start),a.subVectors(u.end,d.end),a.dot(l)<0?p.end.copy(u.end):p.end.copy(d.end)),!0)}}}();Nc.prototype.distanceToPoint=function(){let e=new L;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();Nc.prototype.distanceToTriangle=function(){let e=new L,t=new L,r=["a","b","c"],n=new Ha,i=new Ha;return function(o,l=null,c=null){let a=l||c?n:null;if(this.intersectsTriangle(o,a))return(l||c)&&(l&&a.getCenter(l),c&&a.getCenter(c)),0;let s=1/0;for(let u=0;u<3;u++){let d,h=r[u],p=o[h];this.closestPointToPoint(p,e),d=p.distanceToSquared(e),d<s&&(s=d,l&&l.copy(e),c&&c.copy(p));let m=this[h];o.closestPointToPoint(m,e),d=m.distanceToSquared(e),d<s&&(s=d,l&&l.copy(m),c&&c.copy(e))}for(let u=0;u<3;u++){let d=r[u],h=r[(u+1)%3];n.set(this[d],this[h]);for(let p=0;p<3;p++){let m=r[p],f=r[(p+1)%3];i.set(o[m],o[f]),OD(n,i,e,t);let g=e.distanceToSquared(t);g<s&&(s=g,l&&l.copy(e),c&&c.copy(t))}}return Math.sqrt(s)}}();var Ml=class{constructor(e,t,r){this.isOrientedBox=!0,this.min=new L,this.max=new L,this.matrix=new Re,this.invMatrix=new Re,this.points=new Array(8).fill().map(()=>new L),this.satAxes=new Array(3).fill().map(()=>new L),this.satBounds=new Array(3).fill().map(()=>new Lc),this.alignedSatBounds=new Array(3).fill().map(()=>new Lc),this.needsUpdate=!1,e&&this.min.copy(e),t&&this.max.copy(t),r&&this.matrix.copy(r)}set(e,t,r){this.min.copy(e),this.max.copy(t),this.matrix.copy(r),this.needsUpdate=!0}copy(e){this.min.copy(e.min),this.max.copy(e.max),this.matrix.copy(e.matrix),this.needsUpdate=!0}};Ml.prototype.update=function(){return function(){let e=this.matrix,t=this.min,r=this.max,n=this.points;for(let a=0;a<=1;a++)for(let s=0;s<=1;s++)for(let u=0;u<=1;u++){let d=1*a|2*s|4*u,h=n[d];h.x=a?r.x:t.x,h.y=s?r.y:t.y,h.z=u?r.z:t.z,h.applyMatrix4(e)}let i=this.satBounds,o=this.satAxes,l=n[0];for(let a=0;a<3;a++){let s=o[a],u=i[a],d=1<<a,h=n[d];s.subVectors(l,h),u.setFromPoints(s,n)}let c=this.alignedSatBounds;c[0].setFromPointsField(n,"x"),c[1].setFromPointsField(n,"y"),c[2].setFromPointsField(n,"z"),this.invMatrix.copy(this.matrix).invert(),this.needsUpdate=!1}}();Ml.prototype.intersectsBox=function(){let e=new Lc;return function(t){this.needsUpdate&&this.update();let r=t.min,n=t.max,i=this.satBounds,o=this.satAxes,l=this.alignedSatBounds;if(e.min=r.x,e.max=n.x,l[0].isSeparated(e)||(e.min=r.y,e.max=n.y,l[1].isSeparated(e))||(e.min=r.z,e.max=n.z,l[2].isSeparated(e)))return!1;for(let c=0;c<3;c++){let a=o[c],s=i[c];if(e.setFromBox(a,t),s.isSeparated(e))return!1}return!0}}();Ml.prototype.intersectsTriangle=function(){let e=new Nc,t=new Array(3),r=new Lc,n=new Lc,i=new L;return function(o){this.needsUpdate&&this.update(),o.isExtendedTriangle?o.needsUpdate&&o.update():(e.copy(o),e.update(),o=e);let l=this.satBounds,c=this.satAxes;t[0]=o.a,t[1]=o.b,t[2]=o.c;for(let d=0;d<3;d++){let h=l[d],p=c[d];if(r.setFromPoints(p,t),h.isSeparated(r))return!1}let a=o.satBounds,s=o.satAxes,u=this.points;for(let d=0;d<3;d++){let h=a[d],p=s[d];if(r.setFromPoints(p,u),h.isSeparated(r))return!1}for(let d=0;d<3;d++){let h=c[d];for(let p=0;p<4;p++){let m=s[p];if(i.crossVectors(h,m),r.setFromPoints(i,t),n.setFromPoints(i,u),r.isSeparated(n))return!1}}return!0}}();Ml.prototype.closestPointToPoint=function(){return function(e,t){return this.needsUpdate&&this.update(),t.copy(e).applyMatrix4(this.invMatrix).clamp(this.min,this.max).applyMatrix4(this.matrix),t}}();Ml.prototype.distanceToPoint=function(){let e=new L;return function(t){return this.closestPointToPoint(t,e),t.distanceTo(e)}}();Ml.prototype.distanceToBox=function(){let e=["x","y","z"],t=new Array(12).fill().map(()=>new Ha),r=new Array(12).fill().map(()=>new Ha),n=new L,i=new L;return function(o,l=0,c=null,a=null){if(this.needsUpdate&&this.update(),this.intersectsBox(o))return(c||a)&&(o.getCenter(i),this.closestPointToPoint(i,n),o.closestPointToPoint(n,i),c&&c.copy(n),a&&a.copy(i)),0;let s=l*l,u=o.min,d=o.max,h=this.points,p=1/0;for(let f=0;f<8;f++){let g=h[f];i.copy(g).clamp(u,d);let v=g.distanceToSquared(i);if(v<p&&(p=v,c&&c.copy(g),a&&a.copy(i),v<s))return Math.sqrt(v)}let m=0;for(let f=0;f<3;f++)for(let g=0;g<=1;g++)for(let v=0;v<=1;v++){let x=(f+1)%3,y=(f+2)%3,b=g<<x|v<<y,w=1<<f|g<<x|v<<y,_=h[b],S=h[w];t[m].set(_,S);let E=e[f],A=e[x],C=e[y],M=r[m],T=M.start,k=M.end;T[E]=u[E],T[A]=g?u[A]:d[A],T[C]=v?u[C]:d[A],k[E]=d[E],k[A]=g?u[A]:d[A],k[C]=v?u[C]:d[A],m++}for(let f=0;f<=1;f++)for(let g=0;g<=1;g++)for(let v=0;v<=1;v++){i.x=f?d.x:u.x,i.y=g?d.y:u.y,i.z=v?d.z:u.z,this.closestPointToPoint(i,n);let x=i.distanceToSquared(n);if(x<p&&(p=x,c&&c.copy(n),a&&a.copy(i),x<s))return Math.sqrt(x)}for(let f=0;f<12;f++){let g=t[f];for(let v=0;v<12;v++){let x=r[v];OD(g,x,n,i);let y=n.distanceToSquared(i);if(y<p&&(p=y,c&&c.copy(n),a&&a.copy(i),y<s))return Math.sqrt(y)}}return Math.sqrt(p)}}();var Np=new L,Bp=new L,Fp=new L,Db=new re,jb=new re,Ib=new re,bN=new L,xN=new L,wN=new L,Ob=new L;function Y4e(e,t,r,n,i,o){let l;return o===ai?l=e.intersectTriangle(n,r,t,!0,i):l=e.intersectTriangle(t,r,n,o!==Co,i),l===null?null:{distance:e.origin.distanceTo(i),point:i.clone()}}function $4e(e,t,r,n,i,o,l,c,a){Np.fromBufferAttribute(t,o),Bp.fromBufferAttribute(t,l),Fp.fromBufferAttribute(t,c);let s=Y4e(e,Np,Bp,Fp,Ob,a);if(s){n&&(Db.fromBufferAttribute(n,o),jb.fromBufferAttribute(n,l),Ib.fromBufferAttribute(n,c),s.uv=ki.getInterpolation(Ob,Np,Bp,Fp,Db,jb,Ib,new re)),i&&(Db.fromBufferAttribute(i,o),jb.fromBufferAttribute(i,l),Ib.fromBufferAttribute(i,c),s.uv1=ki.getInterpolation(Ob,Np,Bp,Fp,Db,jb,Ib,new re)),r&&(bN.fromBufferAttribute(r,o),xN.fromBufferAttribute(r,l),wN.fromBufferAttribute(r,c),s.normal=ki.getInterpolation(Ob,Np,Bp,Fp,bN,xN,wN,new L),s.normal.dot(e.direction)>0&&s.normal.multiplyScalar(-1));let u={a:o,b:l,c,normal:new L,materialIndex:0};ki.getNormal(Np,Bp,Fp,u.normal),s.face=u,s.faceIndex=o}return s}function y$(e,t,r,n,i){let o=n*3,l=e.index.getX(o),c=e.index.getX(o+1),a=e.index.getX(o+2),{position:s,normal:u,uv:d,uv1:h}=e.attributes,p=$4e(r,s,u,d,h,l,c,a,t);return p?(p.faceIndex=n,i&&i.push(p),p):null}function X4e(e,t,r,n,i,o){for(let l=n,c=n+i;l<c;l++)y$(e,t,r,l,o)}function K4e(e,t,r,n,i){let o=1/0,l=null;for(let c=n,a=n+i;c<a;c++){let s=y$(e,t,r,c);s&&s.distance<o&&(l=s,o=s.distance)}return l}function al(e,t,r,n){let i=e.a,o=e.b,l=e.c,c=t,a=t+1,s=t+2;r&&(c=r.getX(t),a=r.getX(t+1),s=r.getX(t+2)),i.x=n.getX(c),i.y=n.getY(c),i.z=n.getZ(c),o.x=n.getX(a),o.y=n.getY(a),o.z=n.getZ(a),l.x=n.getX(s),l.y=n.getY(s),l.z=n.getZ(s)}function _N(e,t,r,n,i,o,l){let c=r.index,a=r.attributes.position;for(let s=e,u=t+e;s<u;s++)if(al(l,s*3,c,a),l.needsUpdate=!0,n(l,s,i,o))return!0;return!1}var b$=class{constructor(e){this._getNewPrimitive=e,this._primitives=[]}getPrimitive(){let e=this._primitives;return e.length===0?this._getNewPrimitive():e.pop()}releasePrimitive(e){this._primitives.push(e)}};function _u(e,t){return t[e+15]===65535}function sm(e,t){return t[e+6]}function _y(e,t){return t[e+14]}function Sy(e){return e+8}function Ey(e,t){return t[e+6]}function Q4e(e,t){return t[e+7]}var Ff=new Cn,I_=new L,Z4e=["x","y","z"];function SP(e,t,r,n,i){let o=e*2,l=Tg,c=Qu,a=Zu;if(_u(o,c)){let s=sm(e,a),u=_y(o,c);X4e(t,r,n,s,u,i)}else{let s=Sy(e);O_(s,l,n,I_)&&SP(s,t,r,n,i);let u=Ey(e,a);O_(u,l,n,I_)&&SP(u,t,r,n,i)}}function EP(e,t,r,n){let i=e*2,o=Tg,l=Qu,c=Zu;if(_u(i,l)){let a=sm(e,c),s=_y(i,l);return K4e(t,r,n,a,s)}else{let a=Q4e(e,c),s=Z4e[a],u=n.direction[s]>=0,d,h;u?(d=Sy(e),h=Ey(e,c)):(d=Ey(e,c),h=Sy(e));let p=O_(d,o,n,I_)?EP(d,t,r,n):null;if(p){let f=p.point[s];if(u?f<=o[h+a]:f>=o[h+a+3])return p}let m=O_(h,o,n,I_)?EP(h,t,r,n):null;return p&&m?p.distance<=m.distance?p:m:p||m||null}}var J4e=function(){let e,t,r=[],n=new b$(()=>new Cn);return function(...o){e=n.getPrimitive(),t=n.getPrimitive(),r.push(e,t);let l=i(...o);n.releasePrimitive(e),n.releasePrimitive(t),r.pop(),r.pop();let c=r.length;return c>0&&(t=r[c-1],e=r[c-2]),l};function i(o,l,c,a,s=null,u=0,d=0){function h(x){let y=x*2,b=Qu,w=Zu;for(;!_u(y,b);)x=Sy(x),y=x*2;return sm(x,w)}function p(x){let y=x*2,b=Qu,w=Zu;for(;!_u(y,b);)x=Ey(x,w),y=x*2;return sm(x,w)+_y(y,b)}let m=o*2,f=Tg,g=Qu,v=Zu;if(_u(m,g)){let x=sm(o,v),y=_y(m,g);return pl(o,f,e),a(x,y,!1,d,u+o,e)}else{let x=Sy(o),y=Ey(o,v),b=x,w=y,_,S,E,A;if(s&&(E=e,A=t,pl(b,f,E),pl(w,f,A),_=s(E),S=s(A),S<_)){b=y,w=x;let I=_;_=S,S=I,E=A}E||(E=e,pl(b,f,E));let C=_u(b*2,g),M=c(E,C,_,d+1,u+b),T;if(M===2){let I=h(b),O=p(b)-I;T=a(I,O,!0,d+1,u+b,E)}else T=M&&i(b,l,c,a,s,u,d+1);if(T)return!0;A=t,pl(w,f,A);let k=_u(w*2,g),P=c(A,k,S,d+1,u+w),D;if(P===2){let I=h(w),O=p(w)-I;D=a(I,O,!0,d+1,u+w,A)}else D=P&&i(w,l,c,a,s,u,d+1);return!!D}}}(),eke=function(){let e=new Nc,t=new Nc,r=new Re,n=new Ml,i=new Ml;return function o(l,c,a,s,u=null){let d=l*2,h=Tg,p=Qu,m=Zu;if(u===null&&(a.boundingBox||a.computeBoundingBox(),n.set(a.boundingBox.min,a.boundingBox.max,s),u=n),_u(d,p)){let f=c,g=f.index,v=f.attributes.position,x=a.index,y=a.attributes.position,b=sm(l,m),w=_y(d,p);if(r.copy(s).invert(),a.boundsTree)return pl(l,h,i),i.matrix.copy(r),i.needsUpdate=!0,a.boundsTree.shapecast({intersectsBounds:_=>i.intersectsBox(_),intersectsTriangle:_=>{_.a.applyMatrix4(s),_.b.applyMatrix4(s),_.c.applyMatrix4(s),_.needsUpdate=!0;for(let S=b*3,E=(w+b)*3;S<E;S+=3)if(al(t,S,g,v),t.needsUpdate=!0,_.intersectsTriangle(t))return!0;return!1}});for(let _=b*3,S=w+b*3;_<S;_+=3){al(e,_,g,v),e.a.applyMatrix4(r),e.b.applyMatrix4(r),e.c.applyMatrix4(r),e.needsUpdate=!0;for(let E=0,A=x.count;E<A;E+=3)if(al(t,E,x,y),t.needsUpdate=!0,e.intersectsTriangle(t))return!0}}else{let f=l+8,g=m[l+6];return pl(f,h,Ff),!!(u.intersectsBox(Ff)&&o(f,c,a,s,u)||(pl(g,h,Ff),u.intersectsBox(Ff)&&o(g,c,a,s,u)))}}}();function O_(e,t,r,n){return pl(e,t,Ff),r.intersectBox(Ff,n)}var CP=[],$x,Tg,Qu,Zu;function W0(e){$x&&CP.push($x),$x=e,Tg=new Float32Array(e),Qu=new Uint16Array(e),Zu=new Uint32Array(e)}function Rb(){$x=null,Tg=null,Qu=null,Zu=null,CP.length&&W0(CP.pop())}var vC=Symbol("skip tree generation"),yC=new Cn,bC=new Cn,Up=new Re,Td=new Ml,p0=new Ml,f0=new L,zb=new L,tke=new L,rke=new L,nke=new L,SN=new Cn,Fs=new b$(()=>new Nc),_v=class{static serialize(e,t={}){if(t.isBufferGeometry)return console.warn("MeshBVH.serialize: The arguments for the function have changed. See documentation for new signature."),_v.serialize(arguments[0],{cloneBuffers:arguments[2]===void 0?!0:arguments[2]});t={cloneBuffers:!0,...t};let r=e.geometry,n=e._roots,i=r.getIndex(),o;return t.cloneBuffers?o={roots:n.map(l=>l.slice()),index:i.array.slice()}:o={roots:n,index:i.array},o}static deserialize(e,t,r={}){if(typeof r=="boolean")return console.warn("MeshBVH.deserialize: The arguments for the function have changed. See documentation for new signature."),_v.deserialize(arguments[0],arguments[1],{setIndex:arguments[2]===void 0?!0:arguments[2]});r={setIndex:!0,...r};let{index:n,roots:i}=e,o=new _v(t,{...r,[vC]:!0});if(o._roots=i,r.setIndex){let l=t.getIndex();if(l===null){let c=new St(e.index,1,!1);t.setIndex(c)}else l.array!==n&&(l.array.set(n),l.needsUpdate=!0)}return o}constructor(e,t={}){if(e.isBufferGeometry){if(e.index&&e.index.isInterleavedBufferAttribute)throw new Error("MeshBVH: InterleavedBufferAttribute is not supported for the index attribute.")}else throw new Error("MeshBVH: Only BufferGeometries are supported.");if(t=Object.assign({strategy:0,maxDepth:40,maxLeafTris:10,verbose:!0,useSharedArrayBuffer:!1,setBoundingBox:!0,onProgress:null,[vC]:!1},t),t.useSharedArrayBuffer&&typeof SharedArrayBuffer>"u")throw new Error("MeshBVH: SharedArrayBuffer is not available.");this._roots=null,t[vC]||(this._roots=H4e(e,t),!e.boundingBox&&t.setBoundingBox&&(e.boundingBox=this.getBoundingBox(new Cn))),this.geometry=e}refit(e=null){e&&Array.isArray(e)&&(e=new Set(e));let t=this.geometry,r=t.index.array,n=t.attributes.position,i,o,l,c,a=0,s=this._roots;for(let d=0,h=s.length;d<h;d++)i=s[d],o=new Uint32Array(i),l=new Uint16Array(i),c=new Float32Array(i),u(0,a),a+=i.byteLength;function u(d,h,p=!1){let m=d*2;if(l[m+15]===65535){let f=o[d+6],g=l[m+14],v=1/0,x=1/0,y=1/0,b=-1/0,w=-1/0,_=-1/0;for(let S=3*f,E=3*(f+g);S<E;S++){let A=r[S],C=n.getX(A),M=n.getY(A),T=n.getZ(A);C<v&&(v=C),C>b&&(b=C),M<x&&(x=M),M>w&&(w=M),T<y&&(y=T),T>_&&(_=T)}return c[d+0]!==v||c[d+1]!==x||c[d+2]!==y||c[d+3]!==b||c[d+4]!==w||c[d+5]!==_?(c[d+0]=v,c[d+1]=x,c[d+2]=y,c[d+3]=b,c[d+4]=w,c[d+5]=_,!0):!1}else{let f=d+8,g=o[d+6],v=f+h,x=g+h,y=p,b=!1,w=!1;e?y||(b=e.has(v),w=e.has(x),y=!b&&!w):(b=!0,w=!0);let _=y||b,S=y||w,E=!1;_&&(E=u(f,h,y));let A=!1;S&&(A=u(g,h,y));let C=E||A;if(C)for(let M=0;M<3;M++){let T=f+M,k=g+M,P=c[T],D=c[T+3],I=c[k],O=c[k+3];c[d+M]=P<I?P:I,c[d+M+3]=D>O?D:O}return C}}}traverse(e,t=0){let r=this._roots[t],n=new Uint32Array(r),i=new Uint16Array(r);o(0);function o(l,c=0){let a=l*2,s=i[a+15]===65535;if(s){let u=n[l+6],d=i[a+14];e(c,s,new Float32Array(r,l*4,6),u,d)}else{let u=l+8,d=n[l+6],h=n[l+7];e(c,s,new Float32Array(r,l*4,6),h)||(o(u,c+1),o(d,c+1))}}}raycast(e,t=ks){let r=this._roots,n=this.geometry,i=[],o=t.isMaterial,l=Array.isArray(t),c=n.groups,a=o?t.side:t;for(let s=0,u=r.length;s<u;s++){let d=l?t[c[s].materialIndex].side:a,h=i.length;if(W0(r[s]),SP(0,n,d,e,i),Rb(),l){let p=c[s].materialIndex;for(let m=h,f=i.length;m<f;m++)i[m].face.materialIndex=p}}return i}raycastFirst(e,t=ks){let r=this._roots,n=this.geometry,i=t.isMaterial,o=Array.isArray(t),l=null,c=n.groups,a=i?t.side:t;for(let s=0,u=r.length;s<u;s++){let d=o?t[c[s].materialIndex].side:a;W0(r[s]);let h=EP(0,n,d,e);Rb(),h!=null&&(l==null||h.distance<l.distance)&&(l=h,o&&(h.face.materialIndex=c[s].materialIndex))}return l}intersectsGeometry(e,t){let r=this.geometry,n=!1;for(let i of this._roots)if(W0(i),n=eke(0,r,e,t),Rb(),n)break;return n}shapecast(e,t,r){let n=this.geometry;if(e instanceof Function){if(t){let d=t;t=(h,p,m,f)=>{let g=p*3;return d(h,g,g+1,g+2,m,f)}}e={boundsTraverseOrder:r,intersectsBounds:e,intersectsTriangle:t,intersectsRange:null},console.warn("MeshBVH: Shapecast function signature has changed and now takes an object of callbacks as a second argument. See docs for new signature.")}let i=Fs.getPrimitive(),{boundsTraverseOrder:o,intersectsBounds:l,intersectsRange:c,intersectsTriangle:a}=e;if(c&&a){let d=c;c=(h,p,m,f,g)=>d(h,p,m,f,g)?!0:_N(h,p,n,a,m,f,i)}else c||(a?c=(d,h,p,m)=>_N(d,h,n,a,p,m,i):c=(d,h,p)=>p);let s=!1,u=0;for(let d of this._roots){if(W0(d),s=J4e(0,n,l,c,o,u),Rb(),s)break;u+=d.byteLength}return Fs.releasePrimitive(i),s}bvhcast(e,t,r){let{intersectsRanges:n,intersectsTriangles:i}=r,o=this.geometry.index,l=this.geometry.attributes.position,c=e.geometry.index,a=e.geometry.attributes.position;Up.copy(t).invert();let s=Fs.getPrimitive(),u=Fs.getPrimitive();if(i){let h=function(p,m,f,g,v,x,y,b){for(let w=f,_=f+g;w<_;w++){al(u,w*3,c,a),u.a.applyMatrix4(t),u.b.applyMatrix4(t),u.c.applyMatrix4(t),u.needsUpdate=!0;for(let S=p,E=p+m;S<E;S++)if(al(s,S*3,o,l),s.needsUpdate=!0,i(s,u,S,w,v,x,y,b))return!0}return!1};if(n){let p=n;n=function(m,f,g,v,x,y,b,w){return p(m,f,g,v,x,y,b,w)?!0:h(m,f,g,v,x,y,b,w)}}else n=h}e.getBoundingBox(bC),bC.applyMatrix4(t);let d=this.shapecast({intersectsBounds:h=>bC.intersectsBox(h),intersectsRange:(h,p,m,f,g,v)=>(yC.copy(v),yC.applyMatrix4(Up),e.shapecast({intersectsBounds:x=>yC.intersectsBox(x),intersectsRange:(x,y,b,w,_)=>n(h,p,x,y,f,g,w,_)}))});return Fs.releasePrimitive(s),Fs.releasePrimitive(u),d}intersectsBox(e,t){return Td.set(e.min,e.max,t),Td.needsUpdate=!0,this.shapecast({intersectsBounds:r=>Td.intersectsBox(r),intersectsTriangle:r=>Td.intersectsTriangle(r)})}intersectsSphere(e){return this.shapecast({intersectsBounds:t=>e.intersectsBox(t),intersectsTriangle:t=>t.intersectsSphere(e)})}closestPointToGeometry(e,t,r={},n={},i=0,o=1/0){e.boundingBox||e.computeBoundingBox(),Td.set(e.boundingBox.min,e.boundingBox.max,t),Td.needsUpdate=!0;let l=this.geometry,c=l.attributes.position,a=l.index,s=e.attributes.position,u=e.index,d=Fs.getPrimitive(),h=Fs.getPrimitive(),p=zb,m=tke,f=null,g=null;n&&(f=rke,g=nke);let v=1/0,x=null,y=null;return Up.copy(t).invert(),p0.matrix.copy(Up),this.shapecast({boundsTraverseOrder:b=>Td.distanceToBox(b),intersectsBounds:(b,w,_)=>_<v&&_<o?(w&&(p0.min.copy(b.min),p0.max.copy(b.max),p0.needsUpdate=!0),!0):!1,intersectsRange:(b,w)=>{if(e.boundsTree)return e.boundsTree.shapecast({boundsTraverseOrder:_=>p0.distanceToBox(_),intersectsBounds:(_,S,E)=>E<v&&E<o,intersectsRange:(_,S)=>{for(let E=_*3,A=(_+S)*3;E<A;E+=3){al(h,E,u,s),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let C=b*3,M=(b+w)*3;C<M;C+=3){al(d,C,a,c),d.needsUpdate=!0;let T=d.distanceToTriangle(h,p,f);if(T<v&&(m.copy(p),g&&g.copy(f),v=T,x=C/3,y=E/3),T<i)return!0}}}});{let _=u?u.count:s.count;for(let S=0,E=_;S<E;S+=3){al(h,S,u,s),h.a.applyMatrix4(t),h.b.applyMatrix4(t),h.c.applyMatrix4(t),h.needsUpdate=!0;for(let A=b*3,C=(b+w)*3;A<C;A+=3){al(d,A,a,c),d.needsUpdate=!0;let M=d.distanceToTriangle(h,p,f);if(M<v&&(m.copy(p),g&&g.copy(f),v=M,x=A/3,y=S/3),M<i)return!0}}}}}),Fs.releasePrimitive(d),Fs.releasePrimitive(h),v===1/0?null:(r.point?r.point.copy(m):r.point=m.clone(),r.distance=v,r.faceIndex=x,n&&(n.point?n.point.copy(g):n.point=g.clone(),n.point.applyMatrix4(Up),m.applyMatrix4(Up),n.distance=m.sub(n.point).length(),n.faceIndex=y),r)}closestPointToPoint(e,t={},r=0,n=1/0){let i=r*r,o=n*n,l=1/0,c=null;if(this.shapecast({boundsTraverseOrder:s=>(f0.copy(e).clamp(s.min,s.max),f0.distanceToSquared(e)),intersectsBounds:(s,u,d)=>d<l&&d<o,intersectsTriangle:(s,u)=>{s.closestPointToPoint(e,f0);let d=e.distanceToSquared(f0);return d<l&&(zb.copy(f0),l=d,c=u),d<i}}),l===1/0)return null;let a=Math.sqrt(l);return t.point?t.point.copy(zb):t.point=zb.clone(),t.distance=a,t.faceIndex=c,t}getBoundingBox(e){return e.makeEmpty(),this._roots.forEach(t=>{pl(0,new Float32Array(t),SN),e.union(SN)}),e}},m0=di(c0e()),ike=.5*(Math.sqrt(3)-1),g0=(3-Math.sqrt(3))/6,oke=1/3,Us=1/6,Sv=e=>Math.floor(e)|0,EN=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),xC=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function wC(e=Math.random){let t=x$(e),r=new Float64Array(t).map(i=>EN[i%12*2]),n=new Float64Array(t).map(i=>EN[i%12*2+1]);return function(i,o){let l=0,c=0,a=0,s=(i+o)*ike,u=Sv(i+s),d=Sv(o+s),h=(u+d)*g0,p=u-h,m=d-h,f=i-p,g=o-m,v,x;f>g?(v=1,x=0):(v=0,x=1);let y=f-v+g0,b=g-x+g0,w=f-1+2*g0,_=g-1+2*g0,S=u&255,E=d&255,A=.5-f*f-g*g;if(A>=0){let T=S+t[E],k=r[T],P=n[T];A*=A,l=A*A*(k*f+P*g)}let C=.5-y*y-b*b;if(C>=0){let T=S+v+t[E+x],k=r[T],P=n[T];C*=C,c=C*C*(k*y+P*b)}let M=.5-w*w-_*_;if(M>=0){let T=S+1+t[E+1],k=r[T],P=n[T];M*=M,a=M*M*(k*w+P*_)}return 70*(l+c+a)}}function ake(e=Math.random){let t=x$(e),r=new Float64Array(t).map(o=>xC[o%12*3]),n=new Float64Array(t).map(o=>xC[o%12*3+1]),i=new Float64Array(t).map(o=>xC[o%12*3+2]);return function(o,l,c){let a,s,u,d,h=(o+l+c)*oke,p=Sv(o+h),m=Sv(l+h),f=Sv(c+h),g=(p+m+f)*Us,v=p-g,x=m-g,y=f-g,b=o-v,w=l-x,_=c-y,S,E,A,C,M,T;b>=w?w>=_?(S=1,E=0,A=0,C=1,M=1,T=0):b>=_?(S=1,E=0,A=0,C=1,M=0,T=1):(S=0,E=0,A=1,C=1,M=0,T=1):w<_?(S=0,E=0,A=1,C=0,M=1,T=1):b<_?(S=0,E=1,A=0,C=0,M=1,T=1):(S=0,E=1,A=0,C=1,M=1,T=0);let k=b-S+Us,P=w-E+Us,D=_-A+Us,I=b-C+2*Us,O=w-M+2*Us,j=_-T+2*Us,N=b-1+3*Us,R=w-1+3*Us,F=_-1+3*Us,U=p&255,B=m&255,H=f&255,X=.6-b*b-w*w-_*_;if(X<0)a=0;else{let ee=U+t[B+t[H]];X*=X,a=X*X*(r[ee]*b+n[ee]*w+i[ee]*_)}let G=.6-k*k-P*P-D*D;if(G<0)s=0;else{let ee=U+S+t[B+E+t[H+A]];G*=G,s=G*G*(r[ee]*k+n[ee]*P+i[ee]*D)}let Z=.6-I*I-O*O-j*j;if(Z<0)u=0;else{let ee=U+C+t[B+M+t[H+T]];Z*=Z,u=Z*Z*(r[ee]*I+n[ee]*O+i[ee]*j)}let J=.6-N*N-R*R-F*F;if(J<0)d=0;else{let ee=U+1+t[B+1+t[H+1]];J*=J,d=J*J*(r[ee]*N+n[ee]*R+i[ee]*F)}return 32*(a+s+u+d)}}function x$(e){let t=new Uint8Array(512);for(let r=0;r<512/2;r++)t[r]=r;for(let r=0;r<512/2-1;r++){let n=r+~~(e()*(256-r)),i=t[r];t[r]=t[n],t[n]=i}for(let r=256;r<512;r++)t[r]=t[r-256];return t}var os=new ki,ske=class{constructor(e){this.weightAttribute=null;let t=e.geometry;if(!t.isBufferGeometry||t.attributes.position.itemSize!==3)throw new Error("THREE.MeshSurfaceSampler: Requires BufferGeometry triangle mesh.");t.index&&(t=t.toNonIndexed()),this.geometry=t,this.randomFunction=Math.random,this.positionAttribute=this.geometry.getAttribute("position"),this.distribution=null}build(){let e=this.positionAttribute,t=new Float32Array(e.count/3);for(let n=0;n<e.count;n+=3){let i=1;os.a.fromBufferAttribute(e,n),os.b.fromBufferAttribute(e,n+1),os.c.fromBufferAttribute(e,n+2),i*=os.getArea(),t[n/3]=i}this.distribution=new Float32Array(e.count/3);let r=0;for(let n=0;n<t.length;n++)r+=t[n],this.distribution[n]=r;return this}setRandomGenerator(e){return this.randomFunction=e,this}sample(e,t){if(this.distribution){let r=this.distribution[this.distribution.length-1],n=this.binarySearch(this.randomFunction()*r);return this.sampleFace(n,e,t)}}binarySearch(e){if(!this.distribution)return 0;let t=this.distribution,r=0,n=t.length-1,i=-1;for(;r<=n;){let o=Math.ceil((r+n)/2);if(o===0||t[o-1]<=e&&t[o]>e){i=o;break}else e<t[o]?n=o-1:r=o+1}return i}sampleFace(e,t,r){let n=this.randomFunction(),i=this.randomFunction();return n+i>1&&(n=1-n,i=1-i),os.a.fromBufferAttribute(this.positionAttribute,e*3),os.b.fromBufferAttribute(this.positionAttribute,e*3+1),os.c.fromBufferAttribute(this.positionAttribute,e*3+2),t.set(0,0,0).addScaledVector(os.a,n).addScaledVector(os.b,i).addScaledVector(os.c,1-(n+i)),os.getNormal(r),this}},lke=di(nq()),cke=new Re,uke=new Re,dke=new Re,Cy;(e=>{function t(r){return r&&r.__isSPEObject}e.is=t})(Cy||(Cy={}));var RD=e=>class extends e{constructor(){super(...arguments),this.previousModelViewMatrix=new Re,this.copyPreviousMatrix=!0,this.hiddenMatrix=new Re,this.matrixWorldRigid=new Re,this.shearScale=new Re,this.shearScaleInv=new Re}get __isSPEObject(){return!0}isDescendantOf(t){t instanceof wr&&(t=t.uuid);let r=this;for(;r.parent;){if(r.parent.uuid===t)return!0;r=r.parent}return!1}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,t=!0);for(let r of this.children)r.updateMatrixWorld(t)}updateWorldMatrix(t,r){let n=this.parent;if(t&&n!==null&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.multiplyMatrices(this.hiddenMatrix,this.matrix):(this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.hiddenMatrix),this.matrixWorld.multiplyMatrices(this.matrixWorld,this.matrix)),r)for(let i of this.children)i.updateWorldMatrix(!1,!0)}traverseChildren(t,r=0){for(let n of this.children)Cy.is(n)&&n.traverseObject(t,r+1)}traverseObject(t,r=0){if(t(this,r)!==!0)for(let n of this.children)Cy.is(n)&&n.traverseObject(t,r+1)}updateMatrixWorldSVD(){let t=this.matrixWorld.elements,r=[[t[0],t[4],t[8]],[t[1],t[5],t[9]],[t[2],t[6],t[10]]],{u:n,v:i,q:o}=(0,lke.SVD)(r),l=cke.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1),c=uke.set(i[0][0],i[0][1],i[0][2],0,i[1][0],i[1][1],i[1][2],0,i[2][0],i[2][1],i[2][2],0,0,0,0,1),a=dke.copy(c).transpose();this.shearScale.makeScale(o[0],o[1],o[2]).multiply(a).premultiply(c),this.shearScaleInv.copy(this.shearScale).invert(),this.matrixWorldRigid.multiplyMatrices(l,a).copyPosition(this.matrixWorld),o.every(s=>Math.abs(o[0]-s)<.01)?this.hasNonUniformScale=!1:this.hasNonUniformScale=!0}attach(t,r){this.updateWorldMatrix(!0,!1);let n=new Re().copy(this.matrixWorld).invert();return t.parent!==null&&(t.parent.updateWorldMatrix(!0,!1),n.multiply(t.parent.matrixWorld)),"hiddenMatrix"in t&&t.hiddenMatrix instanceof Re?t.hiddenMatrix.premultiply(n):t.applyMatrix4(n),t.updateWorldMatrix(!1,!1),this.add(t),r!==void 0&&(this.children.pop(),this.children.splice(r,0,t)),this}copy(t,r=!1){return super.copy(t,r),this.hasNonUniformScale=t.hasNonUniformScale,this}onAfterRender(t,r,n,i,o,l){this.copyPreviousMatrix&&this.previousModelViewMatrix.copy(this.modelViewMatrix)}},hke=class extends RD(wr){},pke=e=>e.type==="Mesh",ji=class extends hke{constructor(e){super(),this.object=e,this.matrixAutoUpdate=!1,this.hasNonUniformScale=e.hasNonUniformScale}raycast(e,t){}expand(){let e=0,t=this.object.entityChildren(e);for(;t;){let r=this.children[e];(r==null?void 0:r.object)!==t&&(r&&this.remove(r),r=new ji(t),this.add(r),this.children.splice(e,0,this.children.pop()),r.matrixWorldNeedsUpdate=!0,r.matrixAutoUpdate=!1,r.matrix=t.matrix,r.hiddenMatrix=t.hiddenMatrix),r.expand(),e+=1,t=this.object.entityChildren(e)}for(;this.children.length>e;)this.remove(this.children[e])}get visible(){var e;return this.playModeVisible!==void 0?this.playModeVisible:this.object.visible||this.object.dataPatched.visible&&((e=this.object.dataPatched.cloner)==null?void 0:e.hideBase)===!0}set visible(e){}get castShadow(){return this.object.castShadow}set castShadow(e){}get receiveShadow(){return this.object.receiveShadow}set receiveShadow(e){}get isMesh(){return pke(this.object)}get isLight(){return this.object.isLight}get layers(){return this.object.layers}set layers(e){}get isCamera(){return!1}get geometry(){if(this.object.geometry)return this.object.geometry}get material(){if(this.object.material)return this.object.material}},qd=new L,Yd=new L,lm=new Re,w$=[new L(-1,1,1),new L(-1,-1,1),new L(1,-1,1),new L(1,1,1),new L(-1,1,-1),new L(-1,-1,-1),new L(1,-1,-1),new L(1,1,-1)],fke=[[0,3],[1,2],[5,6],[4,7],[0,1],[3,2],[7,6],[4,5],[0,4],[1,5],[2,6],[3,7]],mke=[[0,2],[7,5],[4,1],[3,6],[4,3],[1,6]],CN=(e,t,r)=>{e.updateEntityBoxSize(qd,Yd),lm.copy(t).multiply(e.matrixWorld),Yd.x===0&&Yd.y===0&&Yd.z===0?r.push(new L(qd.x,qd.y,qd.z).applyMatrix4(lm)):w$.forEach(n=>{r.push(n.clone().multiply(Yd).add(qd).applyMatrix4(lm))})},AN=class extends Cn{constructor(){super(...arguments),this.matrix=new Re,this.vertices=[],this.faces=[],this.edges=[],this.centerEdges=[]}copy(e){return super.copy(e),this.matrix.copy(e.matrix),this.vertices=e.vertices.map(t=>t.clone()),this.faces=e.faces.map(t=>t.clone()),this.edges=e.edges.map(t=>t.clone()),this.centerEdges=e.centerEdges.map(t=>t.clone()),this}setFromObjectSize(e,t=!1){e.updateWorldMatrix(!1,t),this.makeEmpty(),this.matrix.copy(e.matrixWorld);let r=new Re().copy(e.matrixWorld).invert();return this.expandByObjectSize(e,r,t)}expandByObjectSize(e,t,r=!1){let n=[];return r===!0?e.traverseEntity(i=>{if(i.visible||i.cloner&&i.data.visible){if(!("geometry"in i)){n.push(new L);return}CN(i,t,n)}}):CN(e,t,n),this.setFromPoints(n)}getCenter(e){return e=super.getCenter(e),e.applyMatrix4(this.matrix),e}getPositionToCenter(e){return e=super.getCenter(e),e.applyMatrix4(lm.copy(this.matrix).setPosition(0,0,0)),e}computeVertices(){this.getSize(Yd).multiplyScalar(.5),this.getCenter(qd),lm.copy(this.matrix).setPosition(qd),this.vertices=w$.map(e=>e.clone().multiply(Yd).applyMatrix4(lm))}computeEdges(){this.vertices.length>0&&this.computeVertices(),this.edges=fke.map(([e,t])=>new Ha(this.vertices[e],this.vertices[t])),this.centerEdges=this.edges.map(e=>e.getCenter(new L))}computeFaces(){this.vertices.length>0&&this.computeVertices(),this.faces=mke.map(([e,t])=>this.vertices[e].clone().add(this.vertices[t]).multiplyScalar(.5))}},Iu={Cloner:()=>{},changeEntityProptotype:()=>{},createEntity:()=>{}},gke=class extends jq{constructor(){super()}getPoints(e=12){let t=[],r,n=this.getCurveLengths(),i=n[n.length-1]/n.length;for(let o=0,l=this.curves;o<l.length;o++){let c=l[o],a=o===0?n[o]:n[o]-n[o-1],s=Math.ceil(e*a/i),u=c.getPoints(s);for(let d=0;d<u.length;d++){let h=u[d];r&&r.equals(h)||(t.push(h),r=h)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}},AP=.001;function MP(e,t,r){return t.clone().sub(e).cross(t.clone().sub(r)).length()<=AP}function _C(e,t){let r=new L(...e.position),n=new L(...e.controlNext.position),i=new L(...t.controlPrevious.position),o=new L(...t.position);return MP(r,n,o)&&MP(r,i,o)}function _$(e){let t=e.points.map(u=>new L(...u.data.position)),r=[e.points[0]],n=new L(...r[0].data.position);for(let u=0;u<e.points.length-1;u++)MP(n,t[u],t[u+1])||(r.push(e.points[u]),n=t[u]);r.push(e.points[e.points.length-1]);let i=e.isClosed,o=r.length-(i?0:1),l=r.length,c=[];for(let u=0;u<l;u++){let d=r[u].data,h=new L(...d.position),p=new L(...d.controlPrevious.position),m=new L(...d.controlNext.position),f={position:h,baseRoundness:d.roundness,controlPrevious:p,controlNext:m};if(d.roundness===0||!e.isClosed&&(u===0||u===l-1)){c[u]={...f,removedLength:0};continue}let g=i&&u==0?l-1:u-1,v=i&&u==l-1?0:u+1,x=r[g].data,y=r[v].data,b=new L(...x.position),w=new L(...y.position),_=b.clone().sub(h).normalize(),S=w.clone().sub(h).normalize();Object.assign(f,{prevDir:_,nextDir:S});let E=_C(x,d),A=_C(d,y);if(!E||!A)c[u]={...f,removedLength:0};else{let C=_.clone().add(S).normalize(),M=C.clone().cross(_).length()/_.dot(C);c[u]={...f,tan:M,removedLength:d.roundness/M}}}for(let u=0;u<o;u++){let d=u,h=i&&u===l-1?0:u+1,p=c[d],m=c[h];if(p.removedLength!==0||m.removedLength!==0){let f=p.position.distanceTo(m.position);p.removedLength=Math.min(p.removedLength,f/2),m.removedLength=Math.min(m.removedLength,f/2)}}let a=[];for(let u=0;u<o;u++){let d=u,h=i&&u===l-1?0:u+1,p=c[d],m=c[h],f=null;if(!_C(r[d].data,r[h].data))p.position.distanceTo(m.position)>AP&&(f=new Hx(p.position,p.controlNext,m.controlPrevious,m.position));else{let g=p.position.clone(),v=m.position.clone();(p.removedLength!==0||m.removedLength!==0)&&(p.nextDir&&g.add(p.nextDir.clone().setLength(p.removedLength)),m.prevDir&&v.add(m.prevDir.clone().setLength(m.removedLength))),g.distanceTo(v)>AP&&(f=new Hx(g,g.clone().lerp(v,.3),v.clone().lerp(g,.3),v))}a[2*u+1]=f}for(let u=0;u<l;u++){let d=c[u];if(d.removedLength===0){a[2*u]=null;continue}let h=d.position,p=d.prevDir.clone().multiplyScalar(d.removedLength).add(h),m=d.nextDir.clone().multiplyScalar(d.removedLength).add(h),f=d.tan*d.removedLength,g=d.prevDir.clone().add(d.nextDir).normalize(),v=p.clone().lerp(m,.5),x=p.distanceTo(m)/2,y=g.clone().multiplyScalar(Math.sqrt(Math.pow(f,2)-Math.pow(x,2))).add(v),b=g.clone().multiplyScalar(-f).add(y),w=h.distanceTo(b)/h.distanceTo(v),_=d.prevDir.clone().multiplyScalar(w*h.distanceTo(p)).add(h),S=_.clone().lerp(b,2),E=p.clone().lerp(_,4/3),A=m.clone().lerp(S,4/3);a[2*u]=new Hx(p,E,A,m)}let s=new gke;return a.forEach(u=>{u&&s.add(u)}),s}var Jt;(e=>{function t(r){return r&&r.__isEntity}e.is=t})(Jt||(Jt={}));var ic=e=>Jt.is(e),vke={type:"completeState",isfromEntity:!0},yke=["x","y","z"],SC=new L,bke=new L().set(0,1,0),zD=e=>class extends RD(e){constructor(){super(...arguments),this.raycastLock=!1,this.scaleLock=!1,this.disposed=!1,this.stateSelection=null,this.destroyedInAction=!1,this.instances=[],this.prevState=null,this.currentState=null,this.reversibleToState=null,this.currentTransitionEvent=null,this.previousAction=null,this._singleBBox=new AN,this._recursiveBBox=new AN,this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0,this._needApplyPathSnapping=!0,this.attachedPaths=new Set}get __isEntity(){return!0}entityChildren(t){let r=this.children[t];if(Jt.is(r))return r}entityChildrenCount(){let t=this.children.length;for(;t--;)if(Jt.is(this.children[t]))return t+1;return 0}get isConcreteEntity(){return typeof this.identity=="string"}get isVirtualEntity(){return typeof this.identity!="string"}get isInstanceRoot(){return this.isConcreteEntity&&this.data.type==="Instance"}nearestInstanceSelfOrParent(){let t=this;for(;t.data.type!=="Instance";){let r=t.parent;if(Jt.is(r))t=r;else return}return t}forInstancesRec(t){this.instances.forEach(r=>{r.disposed||t(r),r.forInstancesRec(t)})}super_Entity(t,r){typeof t=="string"&&(this.uuid=t),this.identity=t,this.data=r,this.matrixAutoUpdate=!1,this.dataPatched=this.data}changeSelectedState(t,r,n=!1){if(!(this.data.states.length===0&&!n)){for(let i of this.data.states)sh.toOps(this.data,i.data).forEach(o=>{let l=WT.replaceProps(o,this.data);this.dataPatched=this.data,this.updateByPatchedOp(l,this.data,r)});if(t!==null){let i=this.data.states.data(t);i&&(this.dataPatched=sh.patch(this.data,i),sh.toOps(this.data,i).forEach(o=>{this.updateByPatchedOp(o,this.dataPatched,r)}))}n&&this.updateTransformState(this.dataPatched,r),this.stateSelection=t,this.updatePathSnapping(this.dataPatched.pathSnapping)}}get singleBBox(){return this.singleBBoxNeedsUpdate&&(this.singleBBoxNeedsUpdate=!1,this._singleBBox.setFromObjectSize(this,!1),this._singleBBox.computeVertices(),this._singleBBox.computeEdges(),this._singleBBox.computeFaces()),this._singleBBox}get recursiveBBox(){return this.recursiveBBoxNeedsUpdate&&(this.recursiveBBoxNeedsUpdate=!1,this._recursiveBBox.setFromObjectSize(this,!0),this._recursiveBBox.computeVertices(),this._recursiveBBox.computeEdges(),this._recursiveBBox.computeFaces()),this._recursiveBBox}updateEntityBoxSize(t,r){t.setScalar(0),r.setScalar(0)}resetBBoxNeedsUpdateSelf(){this.singleBBoxNeedsUpdate=!0,this.recursiveBBoxNeedsUpdate=!0}resetBBoxNeedsUpdate(){this.resetBBoxNeedsUpdateSelf(),this.traverseAncestors(t=>{ic(t)&&t.resetBBoxNeedsUpdateSelf()}),this.traverseEntity(t=>{t.resetBBoxNeedsUpdateSelf()})}find(t){let r;return this.traverseEntity(n=>{n.uuid===t&&(r=n)}),r}traverseSortNextHelper(){let t=this.parent;if(t){let r=t.children,n=r.indexOf(this)+1;if(Jt.is(r[n]))return r[n];if(Jt.is(t))return t.traverseSortNextHelper()}}sortNext(){let t=this.children;return this.children.length>0&&Jt.is(this.children[0])?t[0]:this.traverseSortNextHelper()}goUp(t){let r=this;for(;t>0&&r!==null;)r=r.parent,t-=1;return r}hasAnccestorOrSelf(t){return this===t||this.hasAnccestor(t)}hasAnccestor(t){let r=this.parent;for(;r;){if(t===r)return!0;r=r.parent}return!1}countToAccestor(t){let r=0,n=this;for(;n!==t;){if(n===null)return-1;n=n.parent,r+=1}return r}forEachEntity(t){for(let r of this.children)ic(r)&&t(r)}traverseEntityAncestors(t){this.traverseAncestors(r=>{Jt.is(r)&&t(r)})}traverseConcreteEntity(t,r=0){if(t(this,r)!==!0)for(let n of this.children)ic(n)&&n.isConcreteEntity&&n.traverseEntity(t,r+1)}traverseEntity(t,r=0){if(t(this,r)!==!0)for(let n of this.children)ic(n)&&n.traverseEntity(t,r+1)}traverseVisibleEntity(t){t(this);for(let r of this.children)ic(r)&&r.visible&&r.traverseVisibleEntity(t)}updateMatrix(){super.updateMatrix(),this.cloner&&this.cloner.onObjUpdateMatrix(),this.dispatchEvent({type:"updateMatrix"})}updateMatrixWorld(t){super.updateMatrixWorld(t),this.dispatchEvent({type:"updateMatrixWorld"})}copy(t,r=!1){return super.copy(t,r),this.dataPatched=t.dataPatched,this.raycastLock=t.raycastLock,this.scaleLock=t.scaleLock,this.hiddenMatrix.copy(t.hiddenMatrix),this}hasEntityChild(){return this.children.some(t=>ic(t))}isAncestorOf(t){if(this.uuid===t)return!1;let r=!1;return this.traverseEntity(n=>{n.uuid===t&&(r=!0)}),r}toObjectTransformState(t=[]){this.updateWorldMatrix(!0,!1);let r={position:this.position.toArray(),rotation:[this.rotation.x*at.RAD2DEG,this.rotation.y*at.RAD2DEG,this.rotation.z*at.RAD2DEG],scale:this.scale.toArray(),hiddenMatrix:this.hiddenMatrix.toArray()};return HT(r,t)}getTransformValues(t,r,n){return r[t].map((i,o)=>(n==null?void 0:n.shared.getVariable(i,[this.uuid,t,yke[o]]))??i)}updateTransformState(t,r){let n=!1;return t.position&&(this.position.fromArray(this.getTransformValues("position",t,r)),n=!0),t.rotation&&(SC.fromArray(this.getTransformValues("rotation",t,r)).multiplyScalar(at.DEG2RAD),this.rotation.setFromVector3(SC),n=!0),t.scale&&(this.scale.fromArray(this.getTransformValues("scale",t,r)),n=!0),t.hiddenMatrix!==void 0&&(n=!0,this.hiddenMatrix.fromArray(t.hiddenMatrix??Ym.identity)),n&&(this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(i=>{i.invalidateClonerTransform(this)})),t.position&&t.rotation&&t.scale&&t.hiddenMatrix!==void 0&&this.updateWorldMatrix(!1,!0),n}onVariableUpdate(t=!1){if(t){this.resetBBoxNeedsUpdate();return}this.updateMatrix(),this.resetBBoxNeedsUpdate(),this.invalidateClonerTransform(this),this.traverseEntityAncestors(r=>{r.invalidateClonerTransform(this)})}dispose(){this.disposed=!0,this.cloner&&(this.cloner.removeFromParent(),this.cloner=void 0)}disposeChildrenRecursively(){for(let t of this.children)Jt.is(t)&&t.disposeRecursively()}disposeRecursively(){this.dispose(),this.children.forEach(t=>{Jt.is(t)&&t.disposeRecursively()})}toState(t=[]){let r={name:this.name,visible:this.visible,raycastLock:this.raycastLock,...this.toObjectTransformState(t)};return HT(r,t)}updateByObjUpdateOp(t,r){t!==void 0&&this.updateByOp({type:0,props:t,path:[]},{...this.data,...t},r,!1)}updateByOp(t,r,n,i){let o=this.data;this.data=r;let l=t,c=Ba(t.path,["states","*"]);if(c!==null){if(t.type===0){let[a]=c;if((this==null?void 0:this.stateSelection)===a){let s={...t.props};if(delete s.name,Object.values(t.props).some(u=>u===void 0)){let u=this.data;if(u!==void 0){let d=Ki.zoom(u,t.path.slice(2));if(d)for(let h in t.props)t.props[h]===void 0&&h in d&&(s[h]=d[h])}}l={...t,props:s,path:t.path.slice(2)}}}}else if(t.type===0){let a=this.stateSelection?this.data.states.data(this.stateSelection):void 0;if(a!==void 0){if(t.props.name!==void 0&&a.name){let{name:u,...d}=a;a=d}if(t.props.material!==void 0&&"material"in a){let{material:u,...d}=a;a=d}let s=Ki.removeOverridden(t.path,t.props,a);l={...t,props:s}}}if(this.updateByPatchedOpBase(l,sh.patch(this.data,this.stateSelection?this.data.states.data(this.stateSelection):void 0),n),Ba(t.path,["overrides"])){let a=[],s=[...t.path];for(a.push(s[1]),s.splice(0,2);s.length>0&&s[0]==="descendants";)a.push(s[1]),s.splice(0,2);if(a[a.length-1]===void 0){if(t.type===0)for(let u of Object.keys(t.props)){a[a.length-1]=u;let d=n.scene.findInstance([this.uuid,...a]);d&&(d.overrideData=t.props[u],d.updateState(Xu.apply(d.component.data,d.overrideData),n))}}else{let u=n.scene.findInstance([this.uuid,...a]);if(u){let d=Ki.zoom(u.component.data,s);if(t={...t,path:s},t.type===0){let h=t.props;if(d)for(let[p,m]of Object.entries(t.props))m===void 0&&(h===t.props&&(h={...t.props}),h[p]=d[p]);t={...t,props:h}}u.overrideData=M_.resolve(r.overrides,a),u.updateByOp(t,Di.applySimple(u.data,t),n,!1)}}}else if(this.instances.length>0){let a;if(t.path.length===0&&t.type===0){let s;for(let u of ju.rootOverrideProps)u in t.props&&(s===void 0&&(s={}),s[u]=t.props[u]);s&&(a={...t,props:s})}else for(let s of ju.rootOverrideProps)if(Ba(t.path,[s])){a=t;break}a!==void 0&&this.instances.forEach(s=>{if(s.isInstanceRoot){let u=Xu.filterOp(s.overrideData,a);u&&s.updateByOp(u,Di.applySimple(s.data,u),n,!0)}}),this.instances.forEach(s=>{if(!s.isInstanceRoot){let u=Xu.filterOp(s.overrideData,t);if(u){let d;o===s.data&&t===u?d=r:d=Di.applySimple(s.data,u),s.updateByOp(u,d,n,!0)}}})}}updateByPatchedOpBase(t,r,n){if(this.dataPatched=r,t.path.length===0&&t.type===0)t.props.type!==void 0&&!qh.is(t.props.type)&&Iu.changeEntityProptotype(this,r,n);else if(t.path.length===1&&t.path[0]==="geometry"&&t.type===0&&"type"in t.props){Iu.changeEntityProptotype(this,r,n);for(let i of this.children)Jt.is(i)&&i.updateVisible(n.scene)}this.updateByPatchedOp(t,r,n)}updateByPatchedOp(t,r,n){if(t.path.length===0&&t.type===0&&this.updateState(t.props,n),Ba(t.path,["pathSnapping"])!==null&&this.updatePathSnapping(r.pathSnapping),Ba(t.path,["cloner"])!==null){let i=Di.drop(t,1);i.path.length===0&&i.type===0&&i.props.disabled===!0?this.setFromClonerState(null,n):this.cloner?this.cloner.updateState(r.cloner,n.scene):(this.setFromClonerState(r.cloner,n),this.expandCloner(n.scene)),this.updateVisible(n.scene)}}updatePathSnapping(t=this.dataPatched.pathSnapping){this._updatedPathSnapping=t,this._needApplyPathSnapping=!0}get updatedPathSnapping(){return this._updatedPathSnapping}applyPathSnapping(t){var m,f,g,v,x;let r=((m=this._updatedPathSnapping)==null?void 0:m.pathId)??this.dataPatched.pathSnapping.pathId,n=((f=this._updatedPathSnapping)==null?void 0:f.slide)??this.dataPatched.pathSnapping.slide??0,i=((g=this._updatedPathSnapping)==null?void 0:g.offset)??this.dataPatched.pathSnapping.offset??0,o=((v=this._updatedPathSnapping)==null?void 0:v.orientation)??this.dataPatched.pathSnapping.orientation;if(r===null)return;let l=t.find(r);if(!l||this._needApplyPathSnapping===!1)return;this._needApplyPathSnapping=!1;let c=l.data;if(c.geometry.path.points.length<=1)return;let a=_$(c.geometry.path),s=(n+i)%1;n+i===1&&s===0&&(s=1);let u=a.getPointAt(s);if(u===null)return;let d=this.parent?(x=this.parent)==null?void 0:x.matrixWorld:new Re;l.updateMatrixWorld();let h=new Re().multiplyMatrices(d.clone().invert(),l.matrixWorld);u.applyMatrix4(h);let p={position:u.toArray(),rotation:c.rotation};if(o==="tangential"){let y=new Re().extractRotation(l.matrixWorld),b=a.getTangentAt(s).applyMatrix4(y).add(u),w=new Re().lookAt(u,b,bke),_=SC.setFromEuler(new oi().setFromRotationMatrix(w)).multiplyScalar(at.RAD2DEG);p={...p,rotation:_.toArray()}}this.updateTransformState(p),this.traverseEntity(y=>{y._cameraType&&y.dispatchEvent(vke)})}updateVisible(t){var n;if(this.visible=this.dataPatched.visible&&(!this.dataPatched.cloner||(this.dataPatched.cloner.disabled??!1)||((n=this.dataPatched.cloner)==null?void 0:n.hideBase)!==!0),!t)return;let r=!1;this.traverseEntity(i=>{if(i.data.type==="Splat")return r=!0,!0}),r&&t.reloadSplats()}updateState_Entity(t,r){t.name!==void 0&&(this.name=t.name),t.raycastLock!==void 0&&(this.raycastLock=t.raycastLock),t.visible!==void 0&&(this.updateVisible(r==null?void 0:r.scene),this.resetBBoxNeedsUpdate()),r&&"cloner"in t&&t.cloner!==void 0&&(this.setFromClonerState(t.cloner,r),this.updateVisible(r.scene)),this.updateTransformState(t,r)}get attachedSurfaceCloners(){return this.children.filter(t=>t instanceof Iu.Cloner&&t.parameters.type==="toObject")}setFromClonerState(t,r){this.disposed||(t===null||t.disabled?(this.cloner&&this.cloner.removeFromParent(),this.cloner=void 0):this.cloner===void 0?(this.cloner=new Iu.Cloner(this,t),r.scene.addPendingExpandCloner(this)):this.cloner.updateState(t,r.scene))}expandCloner(t){!this.disposed&&this.cloner&&this.cloner.expandClones(t)}invalidateClonerTransform(t){this.cloner&&this.cloner.invalidateTransform(t)}},S$=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:64,heightSegments:1,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadius:8,cornerSegments:8,hollow:0},e.parameters);r.thetaLength=at.clamp(r.thetaLength,0,360);let n=r.width/2,i=r.radiusTop??n,o=r.radiusBottom??n;return i===o?(i=n,o=n):i>o?(i=n,o=o*n/i):(i=i*n/o,o=n),{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width),radiusTop:i,radiusBottom:o})}}static build(e){let{width:t,depth:r,height:n,radialSegments:i,heightSegments:o,openEnded:l,thetaStart:c,thetaLength:a,radiusTop:s,radiusBottom:u,cornerRadius:d,cornerSegments:h,hollow:p}=e.parameters,m;return a===0?(m=new lt,m.setAttribute("position",new Ze([],3))):d||p?m=new E$(s,u,n,i,o,l,c,a*Math.PI/180,d,d,h,p):m=new J5(s,u,n,i,o,l,c,a*Math.PI/180),m.scale(1,1,r/t),Object.assign(m,{userData:{...e,type:"CylinderGeometry"}})}};function eu(e,t,r){r.x=e.x*t.x,r.y=e.y,r.z=e.x*t.y}function MN(e){return new re(e.y,-e.x)}var E$=class extends lt{constructor(e,t,r,n,i,o,l,c,a,s,u,d,h=!1){super(),this.type="RoundedCylinderBufferGeometry",e=e!==void 0?e:1,t=t!==void 0?t:1,r=r||1,n=Math.floor(n)||8,i=Math.floor(i)||1,o=o!==void 0?o:!1,l=l!==void 0?l:0,c=c!==void 0?c:Math.PI*2,o&&(a=0,s=0);let p=[],m=[],f=[],g=[],v=0,x=r/2,y=new L,b=new L;h&&e==0&&(e=a),h&&t==0&&(t=s);let w=new re(e,x),_=new re(t,-x),S=null,E=null,A=null,C=null,M=w.clone().sub(_),T=0,k=0,P=0;d>0&&(T=Math.min(e,t)*(1-d),k=e-T,P=t-T);let D=w.clone();D.x-=T;let I=Math.PI-M.angle(),O=M.angle(),j=Math.tan(O/2),N=Math.tan(I/2),R=j+N,F=d?R:N,U=d?R:j;if(a=Math.min(a,(e-k)/F,M.length()/R),s=Math.min(s,(t-P)/U,M.length()/R),a>0){let J=a/j;S=w.clone().sub(new re(J,a)),d&&(A=S.clone(),A.x-=T-R*a),w.sub(M.clone().setLength(J))}if(s>0){let J=s/N;E=_.clone().sub(new re(J,-s)),_.add(M.clone().setLength(J)),d&&(C=E.clone(),C.x-=T-R*s,D.sub(M.clone().setLength(J)))}M=w.clone().sub(_);let B=M.length()<.5,H=[];for(let J=0;J<=n;J++){let ee=[],q=J/n,Y=q*c+l,Q=new re(Math.sin(Y),Math.cos(Y));C&&E?(X(ee,q,Q,I,s,C,-1,!0),X(ee,q,Q,O,s,E,-1,!1)):E?(G(ee,Q,E.x,0,-1),X(ee,q,Q,O,s,E,-1,!1)):o||G(ee,Q,t,P,-1);let ie=MN(M).normalize();if(eu(ie,Q,y),!B)for(let le=0;le<=i;le++){let de=le/i,De=M.clone().multiplyScalar(de).add(_);eu(De,Q,b),m.push(b.x,b.y,b.z),f.push(y.x,y.y,y.z),g.push(q,.5+b.y/r),ee.push(v++)}if(A&&S?(X(ee,q,Q,I,a,S,1,!1),X(ee,q,Q,O,a,A,1,!0)):S?(X(ee,q,Q,I,a,S,1,!1),G(ee,Q,S.x,0,1)):o||G(ee,Q,e,k,1),d&&!B){let le=MN(M).multiplyScalar(-1).normalize();eu(le,Q,y);for(let de=0;de<=i;de++){let De=de/i,Me=M.clone().multiplyScalar(-De).add(D);eu(Me,Q,b),m.push(b.x,b.y,b.z),f.push(y.x,y.y,y.z),g.push(q,.5+b.y/r),ee.push(v++)}}d&&!o&&ee.push(ee[0]),H.push(ee)}for(let J=0;J<H.length-1;J++)for(let ee=0;ee<H[0].length-1;ee++){if(o&&d&&ee==i)continue;let q=H[J][ee],Y=H[J+1][ee],Q=H[J+1][ee+1],ie=H[J][ee+1],le=m[Q*3+0],de=m[Q*3+2];p.push(q,Y,ie),(le!=0||de!=0)&&p.push(Y,Q,ie)}c<Math.PI*2&&(Z(-1,H[0],l),Z(1,H[H.length-1],l+c)),this.setIndex(p),this.setAttribute("position",new Ze(m,3)),this.setAttribute("normal",new Ze(f,3)),this.setAttribute("uv",new Ze(g,2));function X(J,ee,q,Y,Q,ie,le,de){for(let De=0;De<u+1;De++){let Me=De/u,Ee=le<0?Me:1-Me;de&&(Ee-=1),Ee*=Y;let Te=new re(Math.sin(Ee),Math.cos(Ee)*le),$e=Te.clone().multiplyScalar(Q).add(ie);eu($e,q,b),m.push(b.x,b.y,b.z),eu(Te,q,y),f.push(y.x,y.y,y.z),g.push(ee,.5+b.y/r),J.push(v++)}}function G(J,ee,q,Y,Q){let ie=new L,le=new re,de=[q,Y];Q<0&&de.reverse();for(let De of de)le.set(De,x*Q),eu(le,ee,ie),m.push(ie.x,ie.y,ie.z),f.push(0,Q,0),g.push(.5,.5),J.push(v++)}function Z(J,ee,q){let Y=new re(Math.sin(q),Math.cos(q)),Q=new re(-Math.cos(q),Math.sin(q)),ie=new L,le=J<0?(Me,Ee,Te)=>p.push(Me,Ee,Te):(Me,Ee,Te)=>p.push(Me,Te,Ee),de=new re((e+t+k+P)/4,0);eu(de,Y,ie),m.push(ie.x,ie.y,ie.z),f.push(Q.x,0,Q.y),g.push(.5,.5);let De=v++;for(let Me of ee){let Ee=m.slice(Me*3,Me*3+3);m.push(...Ee),f.push(Q.x,0,Q.y);let Te=g.slice(Me*2,Me*2+2);g.push(...Te),v++}for(let Me=De+1;Me<v-1;Me++)le(De,Me,Me+1);le(De,v-1,De+1)}}},xke=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:32,heightSegments:8,openEnded:!1,thetaStart:0,thetaLength:360,cornerRadiusTop:8,cornerRadiusBottom:8,cornerSegments:8},e.parameters);return r.thetaLength=at.clamp(r.thetaLength,0,360),{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,depth:r,height:n,radialSegments:i,heightSegments:o,openEnded:l,thetaStart:c,thetaLength:a,cornerRadiusTop:s,cornerRadiusBottom:u,cornerSegments:d}=e.parameters,h;return a===0?(h=new lt,h.setAttribute("position",new Ze([],3))):s>0||u>0||a<360?h=new E$(0,t/2,n,i,o,l,c,a*Math.PI/180,s,u,d,0,!0):h=new Oq(t/2,n,i,o,l),h.scale(1,1,r/t),Object.assign(h,{userData:{...e,type:"ConeGeometry"}})}},wke=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,widthSegments:1,heightSegments:1,depthSegments:1,cornerRadius:8,cornerSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:n,widthSegments:i,heightSegments:o,depthSegments:l,cornerRadius:c,cornerSegments:a}=e.parameters,s;return c==0?s=new Cl(t,r,n,i,o,l):s=new _ke(t,r,n,i,o,l,c,a),Object.assign(s,{userData:{...e,type:"CubeGeometry"}})}},EC=Math.PI/2,_ke=class extends lt{constructor(e=1,t=1,r=1,n=1,i=1,o=1,l=0,c=4){super(),this.type="BoxGeometry";let a=this;n=Math.floor(n),i=Math.floor(i),o=Math.floor(o),c=Math.floor(c),l=Math.min(l,e/2,t/2,r/2);let s=[],u=[],d=[],h=[],p=0,m=0;f("z","y","x",-1,-1,r,t,e,o,i,0),f("z","y","x",1,-1,r,t,-e,o,i,1),f("x","z","y",1,1,e,r,t,n,o,2),f("x","z","y",1,-1,e,r,-t,n,o,3),f("x","y","z",1,-1,e,t,r,n,i,4),f("x","y","z",-1,-1,e,t,-r,n,i,5),l>0&&(g("z","y","x",-1,-1,1,r,t,e,o,0),g("z","y","x",1,-1,-1,r,t,e,o,1),g("z","y","x",-1,1,-1,r,t,e,o,1),g("z","y","x",1,1,1,r,t,e,o,0),g("x","y","z",-1,-1,-1,e,t,r,n,0),g("x","y","z",1,-1,1,e,t,r,n,1),g("x","y","z",-1,1,1,e,t,r,n,0),g("x","y","z",1,1,-1,e,t,r,n,1),g("y","x","z",-1,-1,1,t,e,r,i,0),g("y","x","z",1,-1,-1,t,e,r,i,1),g("y","x","z",1,1,1,t,e,r,i,1),g("y","x","z",-1,1,-1,t,e,r,i,0),v(1,1,1),v(-1,1,1),v(1,-1,1),v(-1,-1,1),v(1,1,-1),v(-1,1,-1),v(1,-1,-1),v(-1,-1,-1)),this.setIndex(s),this.setAttribute("position",new Ze(u,3)),this.setAttribute("normal",new Ze(d,3)),this.setAttribute("uv",new Ze(h,2));function f(x,y,b,w,_,S,E,A,C,M,T){let k=(S-2*l)/C,P=(E-2*l)/M,D=S/2-l,I=E/2-l,O=A/2,j=C+1,N=M+1,R=0,F=0,U=new L;for(let B=0;B<N;B++){let H=B*P-I;for(let X=0;X<j;X++){let G=X*k-D;U[x]=G*w,U[y]=H*_,U[b]=O,u.push(U.x,U.y,U.z),U[x]=0,U[y]=0,U[b]=A>0?1:-1,d.push(U.x,U.y,U.z),h.push(X/C),h.push(1-B/M),R+=1}}for(let B=0;B<M;B++)for(let H=0;H<C;H++){let X=p+H+j*B,G=p+H+j*(B+1),Z=p+(H+1)+j*(B+1),J=p+(H+1)+j*B;s.push(X,G,J),s.push(G,Z,J),F+=6}a.addGroup(m,F,T),m+=F,p+=R}function g(x,y,b,w,_,S,E,A,C,M,T){let k=(E-2*l)/M,P=E/2-l,D=A/2-l,I=C/2,O=M+1,j=0,N=0,R=new L,F=new L;for(let U=0;U<c+1;U++){let B=U/c*EC,H=Math.sin(B)*l,X=(1-Math.cos(B))*l,G=Math.sin(B),Z=Math.cos(B);R[y]=(D+H)*_,R[b]=(I-X)*S,F[x]=0,F[y]=G*Math.sign(R[y]),F[b]=Z*Math.sign(R[b]);for(let J=0;J<O;J++){let ee=J*k-P;R[x]=ee*w,u.push(R.x,R.y,R.z),d.push(F.x,F.y,F.z),h.push(J/M),h.push(0),j+=1}}for(let U=0;U<c;U++)for(let B=0;B<M;B++){let H=p+B+O*U,X=p+B+O*(U+1),G=p+(B+1)+O*(U+1),Z=p+(B+1)+O*U;s.push(H,X,Z),s.push(X,G,Z),N+=6}a.addGroup(m,N,T),m+=N,p+=j}function v(x,y,b){let w=new L,_=new L(e/2,t/2,r/2);_.subScalar(l);let S=[],E=x*y*b>0?(C,M,T)=>s.push(C,M,T):(C,M,T)=>s.push(C,T,M);for(let C=0;C<=c;C++){let M=[],T=EC*(1-C/c),k=Math.cos(T),P=Math.sin(T),D=0;for(let I=0;I<=C;I++){let O=Math.cos(D),j=Math.sin(D);w.x=k*O,w.y=P,w.z=k*j;let N=_.clone().addScaledVector(w,l);u.push(x*N.x,y*N.y,b*N.z),d.push(x*w.x,y*w.y,b*w.z),h.push(0,0),M.push(p++),D+=EC/C}S.push(M)}let A=S.length-1;for(let C=0;C<A;C++){let M=S[C],T=S[C+1],k=M.length-1;E(M[0],T[1],T[0]);for(let P=1;P<=k;P++)E(M[P-1],M[P],T[P]),E(M[P],T[P+1],T[P])}}}},LD=class extends lt{constructor(e=[],t=[],r="",n=1,i=.2,o=4){super(),this.type="PolyhedronGeometryRound";let l=[],c=[],a=[];s(),u(),this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(a,3)),this.setAttribute("uv",new Ze(c,2));return;function s(){var O;i=Math.min(1-1e-5,i),i==0&&(o=0);let d={IcosahedronGeometry:5,DodecahedronGeometry:3,HexahedronGeometry:3,OctahedronGeometry:4,TetrahedronGeometry:3}[r],h=new L,p=h.clone(),m=new ki,f=i*n,g=n-f,v=o+1,x=new L,y=(j,N)=>x.subVectors(j,N).normalize(),b=(j,N)=>Array(j).fill(void 0).map(N),w=b(e.length/3,(j,N)=>new L().fromArray(e,N*3).setLength(n)),_=[],S=1e6;for(let j=0;j<w.length;j++){let N=w[j],R=[],F,U,B,H=1e10,X=-1;for(;(X=t.indexOf(j,X+1))!=-1;){let ee=X-X%3;F=t[ee+(X+1)%3],U=t[ee+(X+2)%3],B=N.distanceToSquared(w[F]),H=Math.min(H,B),R.push([F,U,B])}H+=1e-6;let G=[],Z=0,J=R.length;for(let ee=0;ee<J;ee++){[F,U,B]=R[Z];let q=((O=_[F])==null?void 0:O.includes(j))==!0;B<=H&&G.push(F+ +q*S),Z=R.findIndex(Y=>Y[0]==U)}_.push(G)}let E=[];{let j=0,N=0,R,F,U=d==3;for(let B=0;B<=o;B++){R=B*(B+1)/2,F=(B+1)*(B+2)/2;for(let H=0;H<o-B;H++)[j,N]=[R+H+B+2,F+H+B+3],E.push(R,F,...U?[N,R]:[j,F],N,j),[R,F]=[j,N];E.push(R,F,R+o+2)}}let A=h.clone(),C=h.clone(),M=h.clone(),T=h.clone(),k=h.clone(),P=[],D=b(w.length,()=>b(d,()=>h.clone()));for(let j=0;j<w.length;j++){h.copy(w[j]).normalize(),A.copy(h).multiplyScalar(g);let N=_[j];for(let G=0;G<N.length;G++){let Z=N[G],J=N[(G+1)%d];m.setFromPointsAndIndices(w,j,Z%S,J%S),m.b.sub(m.a).setLength(1e10).add(m.a),m.c.sub(m.a).setLength(1e10).add(m.a),m.closestPointToPoint(A,D[j][G])}let R=[],F=[],U=[],B=new L;o==0&&[...D[j]].reduce((G,Z)=>G.add(Z),B).multiplyScalar(1/d);for(let G=0;G<d;G++){let Z=[],J=(G-1+d)%d,ee=D[j][J],q=D[j][G];h.copy(ee).sub(A),p.copy(q).sub(A);let Y=A.angleTo(h),Q=h.angleTo(p),ie=Math.cos(Y)*f;o==0?C.copy(B):C.copy(A).setLength(g+ie),F.push(ie);let le=[C,ee,q];for(let de=0;de<2;de++){let De=le[de],Me=le[de+1];T.subVectors(De,A),k.subVectors(Me,A),M.crossVectors(T,k).normalize();for(let Ee=0;Ee<v;Ee++){let Te=[Y,Q][de]*Ee/v;h.copy(T).applyAxisAngle(M,Te).add(A),R.push(h.clone()),de&&(y(h,A),Z.push([Ee==0?De:h.clone(),x.clone()]))}de&&(y(Me,A),Z.push([Me,x.clone()]))}U.push(Z)}P.push(U);let H=2*v,X=2;for(let G=0;G<d;G++){let Z=H*G,J=H*((G+1)%d),ee=[R[Z]];for(let Y=1;Y<v;Y++){T=R[Z+Y],k=R[J+Y],ee.push(T);for(let Q=1,ie=Y-X+1;Q<=ie;Q++)h.lerpVectors(T,k,Q/(ie+1)),h.sub(A).setLength(F[G]).add(A),ee.push(h.clone());ee.push(k)}for(let Y=0;Y<v;Y++)ee.push(R[Y+v+Z]);ee.push(R[J+v]);let q=E.map(Y=>ee[Y]);l.push(...q.map(Y=>[Y.x,Y.y,Y.z]).flat()),a.push(...q.map(Y=>(y(Y,A),[x.x,x.y,x.z])).flat())}}let I=[];for(let j=0;j<_.length;j++)for(let N=0;N<d;N++){let R=_[j][N];if(R<S){let F=_[R].findIndex(H=>H%S==j),U=P[j][N],B=P[R][F];for(let H=0;H<v;H++){let X=U[H],G=B[v-H],Z=U[H+1],J=B[v-(H+1)];[X,G,Z,Z,G,J].forEach(ee=>{l.push(ee[0].x,ee[0].y,ee[0].z),a.push(ee[1].x,ee[1].y,ee[1].z)})}I.push(U[0][0],B[v][0],U[v][0],B[0][0])}}for(;I.length;){let j,N,R,F;[j,N]=I.splice(0,2);let U=[j];for(;j!=N;)U.push(N),R=I.indexOf(N),F=R%2,N=I.splice(R-F,2)[1-F];x.subVectors(U[0],U[1]).cross(h.subVectors(U[0],U[2])).normalize();let B=x.dot(U[0])<0;B&&x.negate();for(let H=1;H<=U.length-2;H++)[U[H+ +B],U[H+1-+B],U[0]].forEach(X=>{l.push(X.x,X.y,X.z),a.push(x.x,x.y,x.z)})}}function u(){let d=new L;for(let _=0;_<l.length;_+=3){d.x=l[_+0],d.y=l[_+1],d.z=l[_+2];let S=b(d)/2/Math.PI+.5,E=w(d)/Math.PI+.5;c.push(S,1-E)}let h=new L,p=new L,m=new L,f=new L,g=new re,v=new re,x=new re,y=(_,S,E,A)=>{A<0&&_.x===1&&(c[S]=_.x-1),E.x===0&&E.z===0&&(c[S]=A/2/Math.PI+.5)};for(let _=0,S=0;_<l.length;_+=9,S+=6){h.set(l[_+0],l[_+1],l[_+2]),p.set(l[_+3],l[_+4],l[_+5]),m.set(l[_+6],l[_+7],l[_+8]),g.set(c[S+0],c[S+1]),v.set(c[S+2],c[S+3]),x.set(c[S+4],c[S+5]),f.copy(h).add(p).add(m).divideScalar(3);let E=b(f);y(g,S+0,h,E),y(v,S+2,p,E),y(x,S+4,m,E)}for(let _=0;_<c.length;_+=6){let S=c[_+0],E=c[_+2],A=c[_+4],C=Math.max(S,E,A),M=Math.min(S,E,A);C>.9&&M<.1&&(S<.2&&(c[_+0]+=1),E<.2&&(c[_+2]+=1),A<.2&&(c[_+4]+=1))}function b(_){return Math.atan2(_.z,-_.x)}function w(_){return Math.atan2(-_.y,Math.sqrt(_.x*_.x+_.z*_.z))}}}static fromJSON(e){return new LD(e.vertices,e.indices,e.radius,e.corner,e.cornerSides)}},Ske=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:n,detail:i,corner:o,cornerSides:l}=e.parameters,c=i===0&&o!==0?new C$(t*.5,o,l):new Rq(t*.5,i);return c.scale(1,r/t,n/t),Object.assign(c,{userData:{...e,type:"DodecahedronGeometry"}})}},C$=class extends LD{constructor(e=1,t=.2,r=4){let n=(1+Math.sqrt(5))/2,i=1/n,o=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i],l=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],c="DodecahedronGeometry";super(o,l,c,e,t,r),this.type=c}static fromJSON(e){return new C$(e.radius,e.corner,e.cornerSides)}},v0=1e-12,ND=class{constructor(e){this.position=new re,this.startPosition=new re,this.uuid=at.generateUUID(),this.position=e.clone()}start(){this.reset()}reset(){this.startPosition.copy(this.position)}applyOffset(e){this.position.copy(this.startPosition).add(e)}copy(e){return this.position.copy(e.position),this.startPosition.copy(e.startPosition),this}clone(){return new ND(this.position).copy(this)}toJSON(){return[this.position.x,this.position.y]}},TP=class extends ND{constructor(e){super(e.position),this.parent=e}copy(e){return super.copy(e),this}clone(){return new TP(this.parent).copy(this)}},cm=class extends ND{constructor(e,t){super(t),this.controls=[],this.roundness=0,this.areControlsDirectionsMirrored=!0,this.uuid=e,this.controls.push(new TP(this),new TP(this))}static create(e,t){let r=new cm(e,new re(...t.position));return r.controls[0].position.set(...t.controlPrevious.position),r.controls[1].position.set(...t.controlNext.position),r.roundness=t.roundness,r.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored,r}getOppositeControl(e){let t=this.controls.indexOf(e);return t===0?this.controls[1]:t===1?this.controls[0]:null}applyOffsetToControls(e,t=1){for(let r=0,n=this.controls.length;r<n;r++){let i=this.controls[r];this.position.distanceTo(i.position)<=t?i.position.copy(this.position):i.applyOffset(e)}}controlsMoved(){return!(this.position.equals(this.controls[0].position)&&this.position.equals(this.controls[1].position))}copy(e){return super.copy(e),this.controls[0].copy(e.controls[0]),this.controls[1].copy(e.controls[1]),this.roundness=e.roundness,this.uuid=e.uuid,this}clone(){return new cm(this.uuid,this.position).copy(this)}toJSON(){return super.toJSON().concat(this.controls[0].toJSON(),this.controls[1].toJSON(),[this.roundness])}computeTangents(){var r,n;let e=(r=this.curveBefore)==null?void 0:r.getTangentAt(1),t=(n=this.curveAfter)==null?void 0:n.getTangentAt(0);return[e,t]}computeNormals(e=new re,t=new re){let[r,n]=this.computeTangents();return r&&n&&(TN(r,e),TN(n,t)),[e,t]}computeTangent(e=new re){let[t,r]=this.computeTangents();return t&&r&&e.copy(t).add(r).normalize(),e}computeNormal(e=new re){let[t,r]=this.computeNormals();return e.copy(t).add(r).normalize(),e}};function TN(e,t=new re){let r=e.length();return t.set(-e.y/r,e.x/r)}var BD=e=>e,Pg=new re,WS=new re,Eke=new re,Cke=new re,Ake=new re,Mke=new re,A$=new L,M$=new L;function Tke(e){let t=new re;t.addVectors(e.v0,Pg.subVectors(e.v1,e.v0).multiplyScalar(2/3));let r=new re;return r.addVectors(e.v2,WS.subVectors(e.v1,e.v2).multiplyScalar(2/3)),new xs(e.v0,t,r,e.v2)}function G0(e,t,r=Number.EPSILON){return Math.abs(e-t)<r}function Pke(e,t,r=Number.EPSILON){return e.distanceTo(t)<r}function kke(e,t,r=Number.EPSILON){return e.distanceTo(t)<r}function T$(e,t,r){let n=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),i=Math.sqrt(Math.pow(t.x-r.x,2)+Math.pow(t.y-r.y,2)),o=Math.sqrt(Math.pow(r.x-e.x,2)+Math.pow(r.y-e.y,2));return Math.acos((i*i+n*n-o*o)/(2*i*n))}function Dke(e,t,r){return kN(e,t)&&kN(t,r)&&PP(e.position,t.position,r.position)}function PP(e,t,r){return Pg.copy(t).sub(e).cross(WS.copy(r).sub(e))===0}function jke(e,t,r,n,i){let o=Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)),l=(e.y+t.y)/2,c=(e.x+t.x)/2,a=Math.sqrt(Math.pow(r,2)-Math.pow(o/2,2))*(e.y-t.y)/o,s=Math.sqrt(Math.pow(r,2)-Math.pow(o/2,2))*(t.x-e.x)/o;return n.set(c+a,l+s),i.set(c-a,l-s),[n,i]}function Ike(e,t,r){let n=e.distanceTo(r),i=t.distanceTo(r);return n<i?t:e}function Oke(e,t,r,n,i,o){let l=t.x-e.x,c=t.y-e.y,a=r.x-e.x,s=r.y-e.y,u=Math.sqrt((l+a)*(l+a)+(c+s)*(c+s)),d;return T$(t,e,r)>Math.PI&&(u*=-1),G0(s,c)?d=(c+s)*(n/u-.5)*8/3/(l-a):d=(l+a)*(n/u-.5)*8/3/(s-c),i.set(t.x-d*c,t.y+d*l),o.set(r.x+d*s,r.y-d*a),[i,o]}function PN(e,t){return e.position.equals(e.controls[1].position)&&t.position.equals(t.controls[0].position)}function kN(e,t){return PP(e.position,e.controls[1].position,t.position)&&PP(e.position,t.controls[0].position,t.position)}function Rke(e,t,r,n,i=.5){let o=Pg.subVectors(t,e).multiplyScalar(i).add(e),l=WS.subVectors(r,t).multiplyScalar(i).add(t),c=Eke.subVectors(n,r).multiplyScalar(i).add(r),a=o,s=Cke.subVectors(l,o).multiplyScalar(i).add(o),u=Ake.subVectors(c,l).multiplyScalar(i).add(l),d=c,h=Mke.subVectors(u,s).multiplyScalar(i).add(s);return[e.x,e.y,a.x,a.y,s.x,s.y,h.x,h.y,u.x,u.y,d.x,d.y,n.x,n.y]}function zke(e,t,r=12,n=!0){let i=M$.set(0,0,0),o,l=0;for(let c=0;c<t.length;c++){let a=BD(t[c]),s=Pg,u=Ah(a,r);for(let d=0;d<=u;d++)if(a instanceof xs||a instanceof od||a instanceof Ms){if(a.getPoint(d/u,s),i.set(s.x,s.y,0),o!==void 0&&kke(o,i))continue;o===void 0&&(o=A$),o.copy(i),e.setXYZ(l,i.x,i.y,i.z),l++}}return n&&l>1&&!(e.getX(l-1)===e.getX(0)&&e.getY(l-1)===e.getY(0)&&e.getZ(l-1)===e.getZ(0))&&(e.setXYZ(l,e.getX(0),e.getY(0),e.getZ(0)),l++),e}function Lke(e,t,r,n=12,i=!0){let o=M$.set(0,0,0),l=0,c=[];for(let a=0;a<t.length;a++){if(r[a]===!1)continue;let s,u=BD(t[a]),d=Pg,h=Ah(u,n);c.push(h);for(let p=0;p<=h;p++)if(u instanceof xs||u instanceof od||u instanceof Ms){if(u.getPoint(p/h,d),o.set(d.x,d.y,0),s==null?void 0:s.equals(o))continue;s===void 0?s=A$:(e.setXYZ(l,s.x,s.y,s.z),l++,e.setXYZ(l,o.x,o.y,o.z),l++),s.copy(o)}}return i&&l>1&&!(e.getX(l-1)===e.getX(0)&&e.getY(l-1)===e.getY(0)&&e.getZ(l-1)===e.getZ(0))&&(e.setXYZ(l,e.getX(0),e.getY(0),e.getZ(0)),l++),c}function DN(e,t=12,r=!1){let n=[];for(let i=0,o=e.length;i<o;i++){let l=e[i],c=0;if(r&&l.roundedCurveCorner!==void 0){let a=Ah(l.roundedCurveCorner,t)*.5;i>0&&(n[i-1]+=a),c+=a}l.curveAfter!==void 0&&(c+=Ah(l.curveAfter,t)),n.push(c)}return e.length>0&&r&&e[0].roundedCurveCorner!==void 0&&(n[e.length-1]+=Ah(e[0].roundedCurveCorner,t)*.5),n}function Ah(e,t=12){return e&&e instanceof TS?t*2:e&&(e instanceof Ms||e instanceof Dq)?1:e&&e instanceof Z5?t*e.points.length:t}function Nke(e,t,r=12,n=!0){let i,o=0;for(let l=0;l<t.length;l++){let c=BD(t[l]),a=Ah(c,r),s=Pg;for(let u=0;u<=a;u++)if(c instanceof xs||c instanceof od||c instanceof Ms){if(c.getPoint(u/a,s),i!==void 0&&Pke(i,s,v0))continue;i===void 0&&(i=WS),i.copy(s),e.push(s.x,s.y),o++}}return G0(e[0],e[e.length-2],v0)&&G0(e[1],e[e.length-1],v0)&&(e.pop(),e.pop()),n&&o>1&&!(G0(e[o-1],e[1],v0)&&G0(e[o-2],e[0],v0))&&(e.push(e[0],e[1]),o++),e}var CC=new re,Bke=new re,Fke=new re,Uke=new re,Vke=new re,Hke=new re,pn=class extends i_{constructor(e=100,t=100){super(),this.points=[],this.shapeHoles=[],this.plane=new Qo(new L(0,0,-1)),this.subdivision=0,this.controlSnapDistance=4,this.pointIDs=0,this.isMesh2D=!1,this.isText=!1,this._roundness=0,this.isClosed=!1,this.useCubicForRoundedCorners=!0,this.uuid=at.generateUUID(),this.needsUpdate=!1,this.roundedCurves=[],this._width=e,this._height=t}static createFromState(e,t,r){let n=new pn;return n.isClosed=e.isClosed,n.points=e.points.map(i=>cm.create(i.id,i.data)),typeof e.roundness=="number"&&(n.roundness=e.roundness),n.shapeHoles=e.shapeHoles.map(i=>pn.createFromState(i)),t!==void 0&&r!==void 0&&n.applySize(t,r),n.update(),n}get width(){return this._width}get height(){return this._height}get roundness(){return this._roundness}set roundness(e){if(this._roundness!==e){this._roundness=e;for(let t=0,r=this.points.length;t<r;t++)this.points[t].roundness=e;this.needsUpdate=!0}}getPointsIndexesByIds(e){return e.map(t=>this.getPointIndexById(t)).filter(t=>t>=0)}getPointIndexById(e){let t=this.points.length,r=this.points.findIndex(n=>n.uuid===e);if(r<0){let n=t;for(let i=0,o=this.shapeHoles.length;i<o;i++){let l=this.shapeHoles[i],c=l.points.length,a=l.getPointIndexById(e);if(a<0)n+=c;else return a+n}}return r}getLineIndexById(e){return this.getPointIndexById(e)}getBezierPoint(e){if(e<=this.points.length-1)return this.points[e];if(this.shapeHoles.length>0){let t=this.points.length;for(let r=0,n=this.shapeHoles.length;r<n;r++){let i=this.shapeHoles[r],o=e-t;if(o<=i.points.length-1)return i.points[o];t+=i.points.length}}throw new Error("This shape does not have a point for this index: "+e)}getBezierPointIndex(e){let t=this.points.indexOf(e);if(t>=0)return t;if(t=this.points.length,this.shapeHoles.length>0)for(let r=0,n=this.shapeHoles.length;r<n;r++){let i=this.shapeHoles[r],o=i.points.indexOf(e);if(o>=0)return t+o;t+=i.points.length}return-1}getAllPoints(){let e=[].concat(...this.shapeHoles.map(t=>t.points));return[...this.points,...e]}applySize(e,t){e===0&&(e=.001),t===0&&(t=.001),this._width=e,this._height=t}applyScale(e,t){let r=CC.set(e,t);for(let n=0,i=this.points.length;n<i;n++){let o=this.points[n];o.position.multiply(r),o.controls[0].position.multiply(r),o.controls[1].position.multiply(r)}for(let n=0,i=this.shapeHoles.length;n<i;n++)this.shapeHoles[n].applyScale(e,t);this._update()}createPoint(e,t=0,r=at.generateUUID()){let n;e instanceof re?n=e:n=new re(e,t);let i=new cm(r,n);return i.roundness=this.roundness,i}addPoint(e){this.points.push(e),this.needsUpdate=!0}addPointAt(e,t){this.points.splice(t,0,e),this.needsUpdate=!0}getPointByUuid(e){for(let t=0,r=this.points.length;t<r;t++){let n=this.points[t];if(n.uuid===e)return n}for(let t=0,r=this.shapeHoles.length;t<r;t++){let n=this.shapeHoles[t].getPointByUuid(e);if(n)return n}}getFirstPoint(){return this.points[0]}getLastPoint(){return this.points[this.points.length-1]}removePoint(e){let t=this.points.indexOf(e);t>=0&&this.points.splice(t,1),this.needsUpdate=!0}removePointById(e){let t=this.points.find(r=>r.uuid===e);t&&this.removePoint(t)}update(){for(let e=0,t=this.shapeHoles.length;e<t;e++)this.shapeHoles[e].update();this._update()}extractShapePointsToBuffer(e,t=12,r=!1){this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t);let n=r?this.roundedCurveDivisions:this.curveDivisions;return zke(e,r?this.roundedCurves:this.curves,t,this.autoClose),n.reduce((i,o)=>i+o,0)+1}computeCurveDivisions(e=12){return this.curveDivisions=DN(this.points,e,!1),this.roundedCurveDivisions=DN(this.points,e,!0),this.curveDivisions}extractFilteredShapePointsToBuffer(e,t,r=12){return Lke(e,this.curves,t,r,this.autoClose).reduce((n,i)=>n+i,0)*2}extractShapePointsToFlatArray(e,t=12){return this.subdivision=t,this.curveDivisions===void 0&&this.computeCurveDivisions(t),Nke(e,this.roundedCurves,t,this.autoClose)}getCurveIndexFromVertexId(e,t=!1){let r=0;this.curveDivisions===void 0&&this.computeCurveDivisions(this.subdivision);let n=t?this.roundedCurveDivisions:this.curveDivisions,i=0;t&&this.points[0].roundedCurveCorner!==void 0&&(i=Ah(this.points[0].roundedCurveCorner,this.subdivision)*.5);let o=e-i;o<0&&(o+=n.reduce((l,c)=>l+c,0));for(let l=0,c=n.length;l<c;l++){let a=n[l];if(o<r+a)return[l,(o-r+1)/a];r+=a}return[0,1]}getCurveT(e,t,r){let n=this.points[e],i=this.points[e>=this.points.length-1?0:e+1],o=this.curveDivisions,l=o[e];if(PN(n,i)){let a=n.position.distanceTo(i.position);return n.position.distanceTo(CC.set(r.x,r.y))/a}let c=0;for(let a=0;a<e;a++)c+=o[a];return(t-c)/l}dispose(){}_applyCurveForPoint(e,t){PN(t,e)?this.lineTo(e.position.x,e.position.y):this.bezierCurveTo(t.controls[1].position.x,t.controls[1].position.y,e.controls[0].position.x,e.controls[0].position.y,e.position.x,e.position.y);let r=this.curves[this.curves.length-1];e.curveBefore=r,t.curveAfter=r;let n=r.clone();e.roundedCurveBefore=n,t.roundedCurveAfter=n,e.roundedCurveCorner=void 0,this.roundedCurves.push(n)}_update(){if(this.curves=[],this.roundedCurves=[],!this.points.length)return;for(let t=0,r=this.points.length;t<r;t++){let n=this.points[t];if(t===0)this.moveTo(n.position.x,n.position.y);else{let i=this.points[t-1];this._applyCurveForPoint(n,i)}}let e=this.getLastPoint();if(e!=null&&e.curveAfter&&(e.curveAfter=void 0),this.isClosed){let t=this.points[0],r=this.points[this.points.length-1];this._applyCurveForPoint(t,r)}if(this.points.length>2){let t=0;for(let r=0,n=this.points.length;r<n;r++){let i=this.points[r],o=this.points[r-1]??this.points[this.points.length-1],l=this.points[r+1]??this.points[0],c=i.roundness,a=o&&l&&Dke(o,i,l);if(!i.controlsMoved()&&c>0&&!a){let s=i.curveBefore,u=i.curveAfter;if(s===void 0||u===void 0)continue;let d=i.roundedCurveBefore,h=i.roundedCurveAfter,p=s.getLength(),m=u.getLength(),f=Math.min(c,p*.499),g=Math.min(c,m*.499),v=Math.min(f,g),x=1-v/p,y=v/m,b=s.getPointAt(x,CC),w=u.getPointAt(y,Bke);this._subSplitCurve(s,d,x,b,void 0),this._subSplitCurve(u,h,y,void 0,w);let _;if(this.useCubicForRoundedCorners){let S=T$(b,i.position,w)/2,E=Math.tan(S)*b.distanceTo(i.position),[A,C]=jke(b,w,E,Fke,Uke),M=Ike(A,C,i.position),[T,k]=Oke(M,b,w,E,Vke,Hke);_=new xs(b.clone(),T.clone(),k.clone(),w.clone())}else _=new od(b.clone(),i.position.clone(),w.clone());i.roundedCurveCorner=_,this.roundedCurves.splice(r+t,0,_),t++}}}}_subSplitCurve(e,t,r,n,i){if(e instanceof Ms)n!==void 0&&t.v2.copy(n),i!==void 0&&t.v1.copy(i);else{let o=e,l=t,c=o.getUtoTmapping(r,0),a=Rke(o.v0,o.v1,o.v2,o.v3,c);return n!==void 0&&(l.v0.set(a[0],a[1]),l.v1.set(a[2],a[3]),l.v2.set(a[4],a[5]),l.v3.set(a[6],a[7])),i!==void 0&&(l.v0.set(a[6],a[7]),l.v1.set(a[8],a[9]),l.v2.set(a[10],a[11]),l.v3.set(a[12],a[13])),l}return t}clone(){let e=new pn(this._width,this._height);return e.points=this.points.map(t=>t.clone()),e.isClosed=this.isClosed,e.roundness=this.roundness,e.isMesh2D=this.isMesh2D,e.shapeHoles=this.shapeHoles.map(t=>t.clone()),e}toJSON(){return{points:this.points.reduce((e,t)=>e.concat(t.toJSON()),[]),shapeHoles:this.shapeHoles.map(e=>e.toJSON()),isClosed:this.isClosed,roundness:this.roundness}}fromJSON(e){var r;this.points=[],this.pointIDs=0;let t=e.points.length/7;for(let n=0;n<t;n++){let i=n*7,o=e.points[i+0],l=e.points[i+1],c=e.points[i+2],a=e.points[i+3],s=e.points[i+4],u=e.points[i+5],d=e.points[i+6],h=new cm(at.generateUUID(),new re(o,l));h.controls[0].position.set(c,a),h.controls[1].position.set(s,u),h.roundness=d,this.points.push(h)}return this.shapeHoles=(r=e.shapeHoles)!=null&&r.length?e.shapeHoles.map(n=>{let i=new pn;return i.fromJSON(n),i}):[],this.isClosed=e.isClosed,this._roundness=e.roundness,this._update(),this}fromShape(e,t=!1){this.isText=t;let r=(i,o)=>{o instanceof xs&&o.v3.equals(i.position)&&i.controls[0].position.copy(o.v2)},n=i=>{let o=[],l,c;for(l=0,c=i.length;l<c;l++)i[l]instanceof od&&(i[l]=Tke(i[l]));for(l=0,c=i.length;l<c;l++){let u=i[l],d=l>0?i[l-1]:null,h;u instanceof xs?(h=this.createPoint(u.v0),h.controls[1].position.copy(u.v1)):u instanceof Ms&&(h=this.createPoint(u.v1)),h!==void 0&&(d!==null&&r(h,d),o.push(h))}let a=i[i.length-1],s=!1;return a instanceof xs?a.v3.equals(o[0].position)&&(o[0].controls[0].position.copy(a.v2),s=!0):a instanceof Ms&&a.v2.equals(o[0].position)&&(s=!0),this.isClosed=s,o};return this.points=n(e.curves),e instanceof i_&&(this.shapeHoles=e.holes.map(i=>{let o=new pn;return o.fromShape(i),o})),this.update(),this}updatePoint(e,t){let r=this.getPointByUuid(e);r&&(t.position!==void 0&&r.position.fromArray(t.position),t.roundness!==void 0&&(r.roundness=t.roundness),t.areControlsDirectionsMirrored!==void 0&&(r.areControlsDirectionsMirrored=t.areControlsDirectionsMirrored),this.needsUpdate=!0)}updatePreviousControl(e,t){var n;let r=(n=this.getPointByUuid(e))==null?void 0:n.controls[0];r&&(t.position&&r.position.fromArray(t.position),this.needsUpdate=!0)}updateNextControl(e,t){var n;let r=(n=this.getPointByUuid(e))==null?void 0:n.controls[1];r&&(t.position&&r.position.fromArray(t.position),this.needsUpdate=!0)}},kP=Math.PI*2;function AC({x:e,y:t},r,n,i,o){return{x:e*r+i,y:t*n+o}}function Wke(e,t){let r=t===1.5707963267948966?.551915024494:t===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(t/4),n=Math.cos(e),i=Math.sin(e),o=Math.cos(e+t),l=Math.sin(e+t);return[{x:n-i*r,y:i+n*r},{x:o+l*r,y:l-o*r},{x:o,y:l}]}function jN(e,t,r,n){let i=e*n-t*r<0?-1:1,o=Math.min(1,Math.max(-1,e*r+t*n));return i*Math.acos(o)}function Gke(e,t,r,n,i,o,l,c,a,s){let u=Math.pow(i,2),d=Math.pow(o,2),h=Math.pow(l,2),p=Math.pow(c,2),m=u*d-u*p-d*h;m<0&&(m=0),m/=u*p+d*h,m=Math.sqrt(m)*(a===s?-1:1);let f=m*i/o*c,g=m*-o/i*l,v=f+(e+r)/2,x=g+(t+n)/2,y=(l-f)/i,b=(c-g)/o,w=(-l-f)/i,_=(-c-g)/o,S=jN(1,0,y,b),E=jN(y,b,w,_);return!s&&E>0&&(E-=kP),s&&E<0&&(E+=kP),{centerx:v,centery:x,ang1:S,ang2:E}}function qke({px:e,py:t,cx:r,cy:n,rx:i,ry:o,largeArcFlag:l,sweepFlag:c}){let a=[];if(i===0||o===0)return[];let s=(e-r)/2,u=(t-n)/2;if(s===0&&u===0)return[];i=Math.abs(i),o=Math.abs(o);let d=Math.pow(s,2)/Math.pow(i,2)+Math.pow(u,2)/Math.pow(o,2);d>1&&(i*=Math.sqrt(d),o*=Math.sqrt(d));let h=Gke(e,t,r,n,i,o,s,u,l,c),{ang1:p,ang2:m}=h,{centerx:f,centery:g}=h,v=Math.abs(m)/(kP/4);Math.abs(1-v)<1e-7&&(v=1);let x=Math.max(Math.ceil(v),1);m/=x;for(let y=0;y<x;y++)a.push(Wke(p,m)),p+=m;return a.map(y=>{let{x:b,y:w}=AC(y[0],i,o,f,g),{x:_,y:S}=AC(y[1],i,o,f,g),{x:E,y:A}=AC(y[2],i,o,f,g);return{x1:b,y1:w,x2:_,y2:S,x:E,y:A}})}var yr;(function(e){e[e.ODD=0]="ODD",e[e.NONZERO=1]="NONZERO",e[e.POSITIVE=2]="POSITIVE",e[e.NEGATIVE=3]="NEGATIVE",e[e.ABS_GEQ_TWO=4]="ABS_GEQ_TWO"})(yr||(yr={}));var Nn;(function(e){e[e.POLYGONS=0]="POLYGONS",e[e.CONNECTED_POLYGONS=1]="CONNECTED_POLYGONS",e[e.BOUNDARY_CONTOURS=2]="BOUNDARY_CONTOURS"})(Nn||(Nn={}));function wt(e,t){if(!e)throw t||"Assertion Failed!"}var ct=function(){function e(){}return e.vertEq=function(t,r){return t.s===r.s&&t.t===r.t},e.vertLeq=function(t,r){return t.s<r.s||t.s===r.s&&t.t<=r.t},e.transLeq=function(t,r){return t.t<r.t||t.t===r.t&&t.s<=r.s},e.edgeGoesLeft=function(t){return e.vertLeq(t.Dst,t.Org)},e.edgeGoesRight=function(t){return e.vertLeq(t.Org,t.Dst)},e.vertL1dist=function(t,r){return Math.abs(t.s-r.s)+Math.abs(t.t-r.t)},e.edgeEval=function(t,r,n){wt(e.vertLeq(t,r)&&e.vertLeq(r,n));var i=r.s-t.s,o=n.s-r.s;return i+o>0?i<o?r.t-t.t+(t.t-n.t)*(i/(i+o)):r.t-n.t+(n.t-t.t)*(o/(i+o)):0},e.edgeSign=function(t,r,n){wt(e.vertLeq(t,r)&&e.vertLeq(r,n));var i=r.s-t.s,o=n.s-r.s;return i+o>0?(r.t-n.t)*i+(r.t-t.t)*o:0},e.transEval=function(t,r,n){wt(e.transLeq(t,r)&&e.transLeq(r,n));var i=r.t-t.t,o=n.t-r.t;return i+o>0?i<o?r.s-t.s+(t.s-n.s)*(i/(i+o)):r.s-n.s+(n.s-t.s)*(o/(i+o)):0},e.transSign=function(t,r,n){wt(e.transLeq(t,r)&&e.transLeq(r,n));var i=r.t-t.t,o=n.t-r.t;return i+o>0?(r.s-n.s)*i+(r.s-t.s)*o:0},e.vertCCW=function(t,r,n){return t.s*(r.t-n.t)+r.s*(n.t-t.t)+n.s*(t.t-r.t)>=0},e.interpolate=function(t,r,n,i){return t=t<0?0:t,n=n<0?0:n,t<=n?n===0?(r+i)/2:r+(i-r)*(t/(t+n)):i+(r-i)*(n/(t+n))},e.intersect=function(t,r,n,i,o){var l,c,a;e.vertLeq(t,r)||(a=t,t=r,r=a),e.vertLeq(n,i)||(a=n,n=i,i=a),e.vertLeq(t,n)||(a=t,t=n,n=a,a=r,r=i,i=a),e.vertLeq(n,r)?e.vertLeq(r,i)?(l=e.edgeEval(t,n,r),c=e.edgeEval(n,r,i),l+c<0&&(l=-l,c=-c),o.s=e.interpolate(l,n.s,c,r.s)):(l=e.edgeSign(t,n,r),c=-e.edgeSign(t,i,r),l+c<0&&(l=-l,c=-c),o.s=e.interpolate(l,n.s,c,i.s)):o.s=(n.s+r.s)/2,e.transLeq(t,r)||(a=t,t=r,r=a),e.transLeq(n,i)||(a=n,n=i,i=a),e.transLeq(t,n)||(a=t,t=n,n=a,a=r,r=i,i=a),e.transLeq(n,r)?e.transLeq(r,i)?(l=e.transEval(t,n,r),c=e.transEval(n,r,i),l+c<0&&(l=-l,c=-c),o.t=e.interpolate(l,n.t,c,r.t)):(l=e.transSign(t,n,r),c=-e.transSign(t,i,r),l+c<0&&(l=-l,c=-c),o.t=e.interpolate(l,n.t,c,i.t)):o.t=(n.t+r.t)/2},e}(),y0=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.trail=null,this.n=0,this.marked=!1,this.inside=!1}return e}(),Lb=function(){function e(t){this.side=t,this.next=null,this.Org=null,this.Sym=null,this.Onext=null,this.Lnext=null,this.Lface=null,this.activeRegion=null,this.winding=0}return Object.defineProperty(e.prototype,"Rface",{get:function(){return this.Sym.Lface},set:function(t){this.Sym.Lface=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dst",{get:function(){return this.Sym.Org},set:function(t){this.Sym.Org=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Oprev",{get:function(){return this.Sym.Lnext},set:function(t){this.Sym.Lnext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Lprev",{get:function(){return this.Onext.Sym},set:function(t){this.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dprev",{get:function(){return this.Lnext.Sym},set:function(t){this.Lnext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rprev",{get:function(){return this.Sym.Onext},set:function(t){this.Sym.Onext=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Dnext",{get:function(){return this.Sym.Onext.Sym},set:function(t){this.Sym.Onext.Sym=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"Rnext",{get:function(){return this.Sym.Lnext.Sym},set:function(t){this.Sym.Lnext.Sym=t},enumerable:!0,configurable:!0}),e}(),uf=function(){function e(){this.next=null,this.prev=null,this.anEdge=null,this.coords=[0,0,0],this.s=0,this.t=0,this.pqHandle=0,this.n=0,this.idx=0}return e}(),IN=function(){function e(){var t=new uf,r=new y0,n=new Lb(0),i=new Lb(1);t.next=t.prev=t,t.anEdge=null,r.next=r.prev=r,n.next=n,n.Sym=i,i.next=i,i.Sym=n,this.vHead=t,this.fHead=r,this.eHead=n,this.eHeadSym=i}return e.prototype.makeEdge_=function(t){var r=new Lb(0),n=new Lb(1);t.Sym.side<t.side&&(t=t.Sym);var i=t.Sym.next;return n.next=i,i.Sym.next=r,r.next=t,t.Sym.next=n,r.Sym=n,r.Onext=r,r.Lnext=n,r.Org=null,r.Lface=null,r.winding=0,r.activeRegion=null,n.Sym=r,n.Onext=n,n.Lnext=r,n.Org=null,n.Lface=null,n.winding=0,n.activeRegion=null,r},e.prototype.splice_=function(t,r){var n=t.Onext,i=r.Onext;n.Sym.Lnext=r,i.Sym.Lnext=t,t.Onext=i,r.Onext=n},e.prototype.makeVertex_=function(t,r,n){var i=t;wt(i,"Vertex can't be null!");var o=n.prev;i.prev=o,o.next=i,i.next=n,n.prev=i,i.anEdge=r;var l=r;do l.Org=i,l=l.Onext;while(l!==r)},e.prototype.makeFace_=function(t,r,n){var i=t;wt(i,"Face can't be null");var o=n.prev;i.prev=o,o.next=i,i.next=n,n.prev=i,i.anEdge=r,i.trail=null,i.marked=!1,i.inside=n.inside;var l=r;do l.Lface=i,l=l.Lnext;while(l!==r)},e.prototype.killEdge_=function(t){t.Sym.side<t.side&&(t=t.Sym);var r=t.next,n=t.Sym.next;r.Sym.next=n,n.Sym.next=r},e.prototype.killVertex_=function(t,r){var n=t.anEdge,i=n;do i.Org=r,i=i.Onext;while(i!==n);var o=t.prev,l=t.next;l.prev=o,o.next=l},e.prototype.killFace_=function(t,r){var n=t.anEdge,i=n;do i.Lface=r,i=i.Lnext;while(i!==n);var o=t.prev,l=t.next;l.prev=o,o.next=l},e.prototype.makeEdge=function(){var t=new uf,r=new uf,n=new y0,i=this.makeEdge_(this.eHead);return this.makeVertex_(t,i,this.vHead),this.makeVertex_(r,i.Sym,this.vHead),this.makeFace_(n,i,this.fHead),i},e.prototype.splice=function(t,r){var n=!1,i=!1;if(t!==r){if(r.Org!==t.Org&&(i=!0,this.killVertex_(r.Org,t.Org)),r.Lface!==t.Lface&&(n=!0,this.killFace_(r.Lface,t.Lface)),this.splice_(r,t),!i){var o=new uf;this.makeVertex_(o,r,t.Org),t.Org.anEdge=t}if(!n){var l=new y0;this.makeFace_(l,r,t.Lface),t.Lface.anEdge=t}}},e.prototype.delete=function(t){var r=t.Sym,n=!1;if(t.Lface!==t.Rface&&(n=!0,this.killFace_(t.Lface,t.Rface)),t.Onext===t)this.killVertex_(t.Org,null);else if(t.Rface.anEdge=t.Oprev,t.Org.anEdge=t.Onext,this.splice_(t,t.Oprev),!n){var i=new y0;this.makeFace_(i,t,t.Lface)}r.Onext===r?(this.killVertex_(r.Org,null),this.killFace_(r.Lface,null)):(t.Lface.anEdge=r.Oprev,r.Org.anEdge=r.Onext,this.splice_(r,r.Oprev)),this.killEdge_(t)},e.prototype.addEdgeVertex=function(t){var r=this.makeEdge_(t),n=r.Sym;this.splice_(r,t.Lnext),r.Org=t.Dst;var i=new uf;return this.makeVertex_(i,n,r.Org),r.Lface=n.Lface=t.Lface,r},e.prototype.splitEdge=function(t){var r=this.addEdgeVertex(t),n=r.Sym;return this.splice_(t.Sym,t.Sym.Oprev),this.splice_(t.Sym,n),t.Dst=n.Org,n.Dst.anEdge=n.Sym,n.Rface=t.Rface,n.winding=t.winding,n.Sym.winding=t.Sym.winding,n.idx=t.idx,n.Sym.idx=t.Sym.idx,n},e.prototype.connect=function(t,r){var n=!1,i=this.makeEdge_(t),o=i.Sym;if(r.Lface!==t.Lface&&(n=!0,this.killFace_(r.Lface,t.Lface)),this.splice_(i,t.Lnext),this.splice_(o,r),i.Org=t.Dst,o.Org=r.Org,i.Lface=o.Lface=t.Lface,t.Lface.anEdge=o,!n){var l=new y0;this.makeFace_(l,i,t.Lface)}return i},e.prototype.zapFace=function(t){var r=t.anEdge,n,i,o,l,c;i=r.Lnext;do n=i,i=n.Lnext,n.Lface=null,n.Rface===null&&(n.Onext===n?this.killVertex_(n.Org,null):(n.Org.anEdge=n.Onext,this.splice_(n,n.Oprev)),o=n.Sym,o.Onext===o?this.killVertex_(o.Org,null):(o.Org.anEdge=o.Onext,this.splice_(o,o.Oprev)),this.killEdge_(n));while(n!=r);l=t.prev,c=t.next,c.prev=l,l.next=c},e.prototype.countFaceVerts_=function(t){var r=t.anEdge,n=0;do n++,r=r.Lnext;while(r!==t.anEdge);return n},e.prototype.mergeConvexFaces=function(t){var r,n,i,o,l,c,a;for(r=this.fHead.next;r!==this.fHead;r=r.next)if(r.inside)for(n=r.anEdge,l=n.Org;i=n.Lnext,o=n.Sym,o&&o.Lface&&o.Lface.inside&&(c=this.countFaceVerts_(r),a=this.countFaceVerts_(o.Lface),c+a-2<=t&&ct.vertCCW(n.Lprev.Org,n.Org,o.Lnext.Lnext.Org)&&ct.vertCCW(o.Lprev.Org,o.Org,n.Lnext.Lnext.Org)&&(i=o.Lnext,this.delete(o),n=null,o=null)),!(n&&n.Lnext.Org===l);)n=i;return!0},e.prototype.check=function(){var t=this.fHead,r=this.vHead,n=this.eHead,i,o,l,c,a,s;for(o=t,o=t;(i=o.next)!==t;o=i){wt(i.prev===o),a=i.anEdge;do wt(a.Sym!==a),wt(a.Sym.Sym===a),wt(a.Lnext.Onext.Sym===a),wt(a.Onext.Sym.Lnext===a),wt(a.Lface===i),a=a.Lnext;while(a!==i.anEdge)}for(wt(i.prev===o&&i.anEdge===null),c=r,c=r;(l=c.next)!==r;c=l){wt(l.prev===c),a=l.anEdge;do wt(a.Sym!==a),wt(a.Sym.Sym===a),wt(a.Lnext.Onext.Sym===a),wt(a.Onext.Sym.Lnext===a),wt(a.Org===l),a=a.Onext;while(a!==l.anEdge)}for(wt(l.prev===c&&l.anEdge===null),s=n,s=n;(a=s.next)!==n;s=a)wt(a.Sym.next===s.Sym),wt(a.Sym!==a),wt(a.Sym.Sym===a),wt(a.Org!==null),wt(a.Dst!==null),wt(a.Lnext.Onext.Sym===a),wt(a.Onext.Sym.Lnext===a);wt(a.Sym.next===s.Sym&&a.Sym===this.eHeadSym&&a.Sym.Sym===a&&a.Org===null&&a.Dst===null&&a.Lface===null&&a.Rface===null)},e}(),ON=function(){function e(){this.handle=null}return e}(),RN=function(){function e(){this.key=null,this.node=0}return e}(),Yke=function(){function e(t,r){this.leq=r,this.max=0,this.nodes=[],this.handles=[],this.initialized=!1,this.freeList=0,this.size=0,this.max=t,this.nodes=[],this.handles=[];for(var n=0;n<t+1;n++)this.nodes[n]=new ON,this.handles[n]=new RN;this.initialized=!1,this.nodes[1].handle=1,this.handles[1].key=null}return e.prototype.floatDown_=function(t){var r=this.nodes,n=this.handles,i,o,l;for(i=r[t].handle;;){if(l=t<<1,l<this.size&&this.leq(n[r[l+1].handle].key,n[r[l].handle].key)&&++l,wt(l<=this.max),o=r[l].handle,l>this.size||this.leq(n[i].key,n[o].key)){r[t].handle=i,n[i].node=t;break}r[t].handle=o,n[o].node=t,t=l}},e.prototype.floatUp_=function(t){var r=this.nodes,n=this.handles,i,o,l;for(i=r[t].handle;;){if(l=t>>1,o=r[l].handle,l===0||this.leq(n[o].key,n[i].key)){r[t].handle=i,n[i].node=t;break}r[t].handle=o,n[o].node=t,t=l}},e.prototype.init=function(){for(var t=this.size;t>=1;--t)this.floatDown_(t);this.initialized=!0},e.prototype.min=function(){return this.handles[this.nodes[1].handle].key},e.prototype.insert=function(t){var r,n;if(r=++this.size,r*2>this.max){this.max*=2;var i,o;for(o=this.nodes.length,this.nodes.length=this.max+1,i=o;i<this.nodes.length;i++)this.nodes[i]=new ON;for(o=this.handles.length,this.handles.length=this.max+1,i=o;i<this.handles.length;i++)this.handles[i]=new RN}return this.freeList===0?n=r:(n=this.freeList,this.freeList=this.handles[n].node),this.nodes[r].handle=n,this.handles[n].node=r,this.handles[n].key=t,this.initialized&&this.floatUp_(r),n},e.prototype.extractMin=function(){var t=this.nodes,r=this.handles,n=t[1].handle,i=r[n].key;return this.size>0&&(t[1].handle=t[this.size].handle,r[t[1].handle].node=1,r[n].key=null,r[n].node=this.freeList,this.freeList=n,--this.size,this.size>0&&this.floatDown_(1)),i},e.prototype.delete=function(t){var r=this.nodes,n=this.handles,i;wt(t>=1&&t<=this.max&&n[t].key!==null),i=n[t].node,r[i].handle=r[this.size].handle,n[r[i].handle].node=i,--this.size,i<=this.size&&(i<=1||this.leq(n[r[i>>1].handle].key,n[r[i].handle].key)?this.floatDown_(i):this.floatUp_(i)),n[t].key=null,n[t].node=this.freeList,this.freeList=t},e}(),MC=function(){function e(){this.eUp=null,this.nodeUp=null,this.windingNumber=0,this.inside=!1,this.sentinel=!1,this.dirty=!1,this.fixUpperEdge=!1}return e}(),zN=function(){function e(){this.key=null,this.next=null,this.prev=null}return e}(),$ke=function(){function e(t,r){this.frame=t,this.leq=r,this.head=new zN,this.head.next=this.head,this.head.prev=this.head}return e.prototype.min=function(){return this.head.next},e.prototype.max=function(){return this.head.prev},e.prototype.insert=function(t){return this.insertBefore(this.head,t)},e.prototype.search=function(t){var r=this.head;do r=r.next;while(r.key!==null&&!this.leq(this.frame,t,r.key));return r},e.prototype.insertBefore=function(t,r){do t=t.prev;while(t.key!==null&&!this.leq(this.frame,t.key,r));var n=new zN;return n.key=r,n.next=t.next,t.next.prev=n,n.prev=t,t.next=n,n},e.prototype.delete=function(t){t.next.prev=t.prev,t.prev.next=t.next},e}(),Xke=function(){function e(){}return e.regionBelow=function(t){return t.nodeUp.prev.key},e.regionAbove=function(t){return t.nodeUp.next.key},e.debugEvent=function(t){},e.addWinding=function(t,r){t.winding+=r.winding,t.Sym.winding+=r.Sym.winding},e.edgeLeq=function(t,r,n){var i=t.event,o=r.eUp,l=n.eUp;if(o.Dst===i)return l.Dst===i?ct.vertLeq(o.Org,l.Org)?ct.edgeSign(l.Dst,o.Org,l.Org)<=0:ct.edgeSign(o.Dst,l.Org,o.Org)>=0:ct.edgeSign(l.Dst,i,l.Org)<=0;if(l.Dst===i)return ct.edgeSign(o.Dst,i,o.Org)>=0;var c=ct.edgeEval(o.Dst,i,o.Org),a=ct.edgeEval(l.Dst,i,l.Org);return c>=a},e.deleteRegion=function(t,r){r.fixUpperEdge&&wt(r.eUp.winding===0),r.eUp.activeRegion=null,t.dict.delete(r.nodeUp)},e.fixUpperEdge=function(t,r,n){wt(r.fixUpperEdge),t.mesh.delete(r.eUp),r.fixUpperEdge=!1,r.eUp=n,n.activeRegion=r},e.topLeftRegion=function(t,r){var n=r.eUp.Org,i;do r=e.regionAbove(r);while(r.eUp.Org===n);if(r.fixUpperEdge){if(i=t.mesh.connect(e.regionBelow(r).eUp.Sym,r.eUp.Lnext),i===null)return null;e.fixUpperEdge(t,r,i),r=e.regionAbove(r)}return r},e.topRightRegion=function(t){var r=t.eUp.Dst;do t=e.regionAbove(t);while(t.eUp.Dst===r);return t},e.addRegionBelow=function(t,r,n){var i=new MC;return i.eUp=n,i.nodeUp=t.dict.insertBefore(r.nodeUp,i),i.fixUpperEdge=!1,i.sentinel=!1,i.dirty=!1,n.activeRegion=i,i},e.isWindingInside=function(t,r){switch(t.windingRule){case yr.ODD:return(r&1)!==0;case yr.NONZERO:return r!==0;case yr.POSITIVE:return r>0;case yr.NEGATIVE:return r<0;case yr.ABS_GEQ_TWO:return r>=2||r<=-2}throw new Error("Invalid winding rulle")},e.computeWinding=function(t,r){r.windingNumber=e.regionAbove(r).windingNumber+r.eUp.winding,r.inside=e.isWindingInside(t,r.windingNumber)},e.finishRegion=function(t,r){var n=r.eUp,i=n.Lface;i.inside=r.inside,i.anEdge=n,e.deleteRegion(t,r)},e.finishLeftRegions=function(t,r,n){for(var i,o=null,l=r,c=r.eUp;l!==n;){if(l.fixUpperEdge=!1,o=e.regionBelow(l),i=o.eUp,i.Org!=c.Org){if(!o.fixUpperEdge){e.finishRegion(t,l);break}i=t.mesh.connect(c.Lprev,i.Sym),e.fixUpperEdge(t,o,i)}c.Onext!==i&&(t.mesh.splice(i.Oprev,i),t.mesh.splice(c,i)),e.finishRegion(t,l),c=o.eUp,l=o}return c},e.addRightEdges=function(t,r,n,i,o,l){var c,a,s,u,d=!0;s=n;do wt(ct.vertLeq(s.Org,s.Dst)),e.addRegionBelow(t,r,s.Sym),s=s.Onext;while(s!==i);for(o===null&&(o=e.regionBelow(r).eUp.Rprev),a=r,u=o;c=e.regionBelow(a),s=c.eUp.Sym,s.Org===u.Org;)s.Onext!==u&&(t.mesh.splice(s.Oprev,s),t.mesh.splice(u.Oprev,s)),c.windingNumber=a.windingNumber-s.winding,c.inside=e.isWindingInside(t,c.windingNumber),a.dirty=!0,!d&&e.checkForRightSplice(t,a)&&(e.addWinding(s,u),e.deleteRegion(t,a),t.mesh.delete(u)),d=!1,a=c,u=s;a.dirty=!0,wt(a.windingNumber-s.winding===c.windingNumber),l&&e.walkDirtyRegions(t,a)},e.spliceMergeVertices=function(t,r,n){t.mesh.splice(r,n)},e.vertexWeights=function(t,r,n){var i=ct.vertL1dist(r,t),o=ct.vertL1dist(n,t),l=.5*o/(i+o),c=.5*i/(i+o);t.coords[0]+=l*r.coords[0]+c*n.coords[0],t.coords[1]+=l*r.coords[1]+c*n.coords[1],t.coords[2]+=l*r.coords[2]+c*n.coords[2]},e.getIntersectData=function(t,r,n,i,o,l){r.coords[0]=r.coords[1]=r.coords[2]=0,r.idx=-1,e.vertexWeights(r,n,i),e.vertexWeights(r,o,l)},e.checkForRightSplice=function(t,r){var n=e.regionBelow(r),i=r.eUp,o=n.eUp;if(ct.vertLeq(i.Org,o.Org)){if(ct.edgeSign(o.Dst,i.Org,o.Org)>0)return!1;ct.vertEq(i.Org,o.Org)?i.Org!==o.Org&&(t.pq.delete(i.Org.pqHandle),e.spliceMergeVertices(t,o.Oprev,i)):(t.mesh.splitEdge(o.Sym),t.mesh.splice(i,o.Oprev),r.dirty=n.dirty=!0)}else{if(ct.edgeSign(i.Dst,o.Org,i.Org)<0)return!1;e.regionAbove(r).dirty=r.dirty=!0,t.mesh.splitEdge(i.Sym),t.mesh.splice(o.Oprev,i)}return!0},e.checkForLeftSplice=function(t,r){var n=e.regionBelow(r),i=r.eUp,o=n.eUp,l;if(wt(!ct.vertEq(i.Dst,o.Dst)),ct.vertLeq(i.Dst,o.Dst)){if(ct.edgeSign(i.Dst,o.Dst,i.Org)<0)return!1;e.regionAbove(r).dirty=r.dirty=!0,l=t.mesh.splitEdge(i),t.mesh.splice(o.Sym,l),l.Lface.inside=r.inside}else{if(ct.edgeSign(o.Dst,i.Dst,o.Org)>0)return!1;r.dirty=n.dirty=!0,l=t.mesh.splitEdge(o),t.mesh.splice(i.Lnext,o.Sym),l.Rface.inside=r.inside}return!0},e.checkForIntersect=function(t,r){var n=e.regionBelow(r),i=r.eUp,o=n.eUp,l=i.Org,c=o.Org,a=i.Dst,s=o.Dst,u,d,h=new uf,p,m;if(wt(!ct.vertEq(s,a)),wt(ct.edgeSign(a,t.event,l)<=0),wt(ct.edgeSign(s,t.event,c)>=0),wt(l!==t.event&&c!==t.event),wt(!r.fixUpperEdge&&!n.fixUpperEdge),l===c||(u=Math.min(l.t,a.t),d=Math.max(c.t,s.t),u>d))return!1;if(ct.vertLeq(l,c)){if(ct.edgeSign(s,l,c)>0)return!1}else if(ct.edgeSign(a,c,l)<0)return!1;return e.debugEvent(t),ct.intersect(a,l,s,c,h),wt(Math.min(l.t,a.t)<=h.t),wt(h.t<=Math.max(c.t,s.t)),wt(Math.min(s.s,a.s)<=h.s),wt(h.s<=Math.max(c.s,l.s)),ct.vertLeq(h,t.event)&&(h.s=t.event.s,h.t=t.event.t),p=ct.vertLeq(l,c)?l:c,ct.vertLeq(p,h)&&(h.s=p.s,h.t=p.t),ct.vertEq(h,l)||ct.vertEq(h,c)?(e.checkForRightSplice(t,r),!1):!ct.vertEq(a,t.event)&&ct.edgeSign(a,t.event,h)>=0||!ct.vertEq(s,t.event)&&ct.edgeSign(s,t.event,h)<=0?s===t.event?(t.mesh.splitEdge(i.Sym),t.mesh.splice(o.Sym,i),r=e.topLeftRegion(t,r),i=e.regionBelow(r).eUp,e.finishLeftRegions(t,e.regionBelow(r),n),e.addRightEdges(t,r,i.Oprev,i,i,!0),!0):a===t.event?(t.mesh.splitEdge(o.Sym),t.mesh.splice(i.Lnext,o.Oprev),n=r,r=e.topRightRegion(r),m=e.regionBelow(r).eUp.Rprev,n.eUp=o.Oprev,o=e.finishLeftRegions(t,n,null),e.addRightEdges(t,r,o.Onext,i.Rprev,m,!0),!0):(ct.edgeSign(a,t.event,h)>=0&&(e.regionAbove(r).dirty=r.dirty=!0,t.mesh.splitEdge(i.Sym),i.Org.s=t.event.s,i.Org.t=t.event.t),ct.edgeSign(s,t.event,h)<=0&&(r.dirty=n.dirty=!0,t.mesh.splitEdge(o.Sym),o.Org.s=t.event.s,o.Org.t=t.event.t),!1):(t.mesh.splitEdge(i.Sym),t.mesh.splitEdge(o.Sym),t.mesh.splice(o.Oprev,i),i.Org.s=h.s,i.Org.t=h.t,i.Org.pqHandle=t.pq.insert(i.Org),e.getIntersectData(t,i.Org,l,a,c,s),e.regionAbove(r).dirty=r.dirty=n.dirty=!0,!1)},e.walkDirtyRegions=function(t,r){for(var n=e.regionBelow(r),i,o;;){for(;n.dirty;)r=n,n=e.regionBelow(n);if(!r.dirty&&(n=r,r=e.regionAbove(r),r===null||!r.dirty))return;if(r.dirty=!1,i=r.eUp,o=n.eUp,i.Dst!==o.Dst&&e.checkForLeftSplice(t,r)&&(n.fixUpperEdge?(e.deleteRegion(t,n),t.mesh.delete(o),n=e.regionBelow(r),o=n.eUp):r.fixUpperEdge&&(e.deleteRegion(t,r),t.mesh.delete(i),r=e.regionAbove(n),i=r.eUp)),i.Org!==o.Org)if(i.Dst!==o.Dst&&!r.fixUpperEdge&&!n.fixUpperEdge&&(i.Dst===t.event||o.Dst===t.event)){if(e.checkForIntersect(t,r))return}else e.checkForRightSplice(t,r);i.Org===o.Org&&i.Dst===o.Dst&&(e.addWinding(o,i),e.deleteRegion(t,r),t.mesh.delete(i),r=e.regionAbove(n))}},e.connectRightVertex=function(t,r,n){var i,o=n.Onext,l=e.regionBelow(r),c=r.eUp,a=l.eUp,s=!1;if(c.Dst!==a.Dst&&e.checkForIntersect(t,r),ct.vertEq(c.Org,t.event)&&(t.mesh.splice(o.Oprev,c),r=e.topLeftRegion(t,r),o=e.regionBelow(r).eUp,e.finishLeftRegions(t,e.regionBelow(r),l),s=!0),ct.vertEq(a.Org,t.event)&&(t.mesh.splice(n,a.Oprev),n=e.finishLeftRegions(t,l,null),s=!0),s){e.addRightEdges(t,r,n.Onext,o,o,!0);return}ct.vertLeq(a.Org,c.Org)?i=a.Oprev:i=c,i=t.mesh.connect(n.Lprev,i),e.addRightEdges(t,r,i,i.Onext,i.Onext,!1),i.Sym.activeRegion.fixUpperEdge=!0,e.walkDirtyRegions(t,r)},e.connectLeftDegenerate=function(t,r,n){var i,o,l,c,a;if(i=r.eUp,ct.vertEq(i.Org,n)){wt(!1),e.spliceMergeVertices(t,i,n.anEdge);return}if(!ct.vertEq(i.Dst,n)){t.mesh.splitEdge(i.Sym),r.fixUpperEdge&&(t.mesh.delete(i.Onext),r.fixUpperEdge=!1),t.mesh.splice(n.anEdge,i),e.sweepEvent(t,n);return}wt(!1),r=e.topRightRegion(r),a=e.regionBelow(r),l=a.eUp.Sym,o=c=l.Onext,a.fixUpperEdge&&(wt(o!==l),e.deleteRegion(t,a),t.mesh.delete(l),l=o.Oprev),t.mesh.splice(n.anEdge,l),ct.edgeGoesLeft(o)||(o=null),e.addRightEdges(t,r,l.Onext,c,o,!0)},e.connectLeftVertex=function(t,r){var n,i,o,l,c,a,s=new MC;if(s.eUp=r.anEdge.Sym,n=t.dict.search(s).key,i=e.regionBelow(n),!!i){if(l=n.eUp,c=i.eUp,ct.edgeSign(l.Dst,r,l.Org)===0){e.connectLeftDegenerate(t,n,r);return}if(o=ct.vertLeq(c.Dst,l.Dst)?n:i,n.inside||o.fixUpperEdge){if(o===n)a=t.mesh.connect(r.anEdge.Sym,l.Lnext);else{var u=t.mesh.connect(c.Dnext,r.anEdge);a=u.Sym}o.fixUpperEdge?e.fixUpperEdge(t,o,a):e.computeWinding(t,e.addRegionBelow(t,n,a)),e.sweepEvent(t,r)}else e.addRightEdges(t,n,r.anEdge,r.anEdge,null,!0)}},e.sweepEvent=function(t,r){t.event=r,e.debugEvent(t);for(var n=r.anEdge;n.activeRegion===null;)if(n=n.Onext,n===r.anEdge){e.connectLeftVertex(t,r);return}var i=e.topLeftRegion(t,n.activeRegion);wt(i!==null);var o=e.regionBelow(i),l=o.eUp,c=e.finishLeftRegions(t,o,null);c.Onext===l?e.connectRightVertex(t,i,c):e.addRightEdges(t,i,c.Onext,l,l,!0)},e.addSentinel=function(t,r,n,i){var o=new MC,l=t.mesh.makeEdge();l.Org.s=n,l.Org.t=i,l.Dst.s=r,l.Dst.t=i,t.event=l.Dst,o.eUp=l,o.windingNumber=0,o.inside=!1,o.fixUpperEdge=!1,o.sentinel=!0,o.dirty=!1,o.nodeUp=t.dict.insert(o)},e.initEdgeDict=function(t){t.dict=new $ke(t,e.edgeLeq);var r=t.bmax[0]-t.bmin[0],n=t.bmax[1]-t.bmin[1],i=t.bmin[0]-r,o=t.bmax[0]+r,l=t.bmin[1]-n,c=t.bmax[1]+n;e.addSentinel(t,i,o,l),e.addSentinel(t,i,o,c)},e.doneEdgeDict=function(t){for(var r,n=0;(r=t.dict.min().key)!==null;)r.sentinel||(wt(r.fixUpperEdge),wt(++n===1)),wt(r.windingNumber===0),e.deleteRegion(t,r)},e.removeDegenerateEdges=function(t){var r,n,i,o=t.mesh.eHead;for(r=o.next;r!==o;r=n)n=r.next,i=r.Lnext,ct.vertEq(r.Org,r.Dst)&&r.Lnext.Lnext!==r&&(e.spliceMergeVertices(t,i,r),t.mesh.delete(r),r=i,i=r.Lnext),i.Lnext===r&&(i!==r&&((i===n||i===n.Sym)&&(n=n.next),t.mesh.delete(i)),(r===n||r===n.Sym)&&(n=n.next),t.mesh.delete(r))},e.initPriorityQ=function(t){var r,n,i,o=0;for(i=t.mesh.vHead,n=i.next;n!==i;n=n.next)o++;for(o+=8,r=t.pq=new Yke(o,ct.vertLeq),i=t.mesh.vHead,n=i.next;n!==i;n=n.next)n.pqHandle=r.insert(n);return n!==i?!1:(r.init(),!0)},e.donePriorityQ=function(t){t.pq=null},e.removeDegenerateFaces=function(t,r){var n,i,o;for(n=r.fHead.next;n!==r.fHead;n=i)i=n.next,o=n.anEdge,wt(o.Lnext!==o),o.Lnext.Lnext===o&&(e.addWinding(o.Onext,o),t.mesh.delete(o));return!0},e.computeInterior=function(t,r){r===void 0&&(r=!0);var n,i;if(e.removeDegenerateEdges(t),!e.initPriorityQ(t))return!1;for(e.initEdgeDict(t);(n=t.pq.extractMin())!==null;){for(;i=t.pq.min(),!(i===null||!ct.vertEq(i,n));)i=t.pq.extractMin(),e.spliceMergeVertices(t,n.anEdge,i.anEdge);e.sweepEvent(t,n)}return t.event=t.dict.min().key.eUp.Org,e.debugEvent(t),e.doneEdgeDict(t),e.donePriorityQ(t),e.removeDegenerateFaces(t,t.mesh)?(r&&t.mesh.check(),!0):!1},e}(),Kke=function(){function e(){this.mesh=new IN,this.normal=[0,0,0],this.sUnit=[0,0,0],this.tUnit=[0,0,0],this.bmin=[0,0],this.bmax=[0,0],this.windingRule=yr.ODD,this.dict=null,this.pq=null,this.event=null,this.vertexIndexCounter=0,this.vertices=[],this.vertexIndices=[],this.vertexCount=0,this.elements=[],this.elementCount=0}return e.prototype.dot_=function(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]},e.prototype.normalize_=function(t){var r=t[0]*t[0]+t[1]*t[1]+t[2]*t[2];if(!r)throw"Zero-size vector!";r=Math.sqrt(r),t[0]/=r,t[1]/=r,t[2]/=r},e.prototype.longAxis_=function(t){var r=0;return Math.abs(t[1])>Math.abs(t[0])&&(r=1),Math.abs(t[2])>Math.abs(t[r])&&(r=2),r},e.prototype.computeNormal_=function(t){var r,n,i,o,l,c,a=[0,0,0],s=[0,0,0],u=[0,0,0],d=[0,0,0],h=[0,0,0],p=[null,null,null],m=[null,null,null],f=this.mesh.vHead;r=f.next;for(var g=0;g<3;++g)o=r.coords[g],s[g]=o,m[g]=r,a[g]=o,p[g]=r;for(r=f.next;r!==f;r=r.next)for(var v=0;v<3;++v)o=r.coords[v],o<s[v]&&(s[v]=o,m[v]=r),o>a[v]&&(a[v]=o,p[v]=r);var x=0;if(a[1]-s[1]>a[0]-s[0]&&(x=1),a[2]-s[2]>a[x]-s[x]&&(x=2),s[x]>=a[x]){t[0]=0,t[1]=0,t[2]=1;return}for(c=0,n=m[x],i=p[x],u[0]=n.coords[0]-i.coords[0],u[1]=n.coords[1]-i.coords[1],u[2]=n.coords[2]-i.coords[2],r=f.next;r!==f;r=r.next)d[0]=r.coords[0]-i.coords[0],d[1]=r.coords[1]-i.coords[1],d[2]=r.coords[2]-i.coords[2],h[0]=u[1]*d[2]-u[2]*d[1],h[1]=u[2]*d[0]-u[0]*d[2],h[2]=u[0]*d[1]-u[1]*d[0],l=h[0]*h[0]+h[1]*h[1]+h[2]*h[2],l>c&&(c=l,t[0]=h[0],t[1]=h[1],t[2]=h[2]);c<=0&&(t[0]=t[1]=t[2]=0,t[this.longAxis_(u)]=1)},e.prototype.checkOrientation_=function(){for(var t=this.mesh.fHead,r,n=this.mesh.vHead,i,o=0,l=t.next;l!==t;l=l.next)if(i=l.anEdge,!(i.winding<=0))do o+=(i.Org.s-i.Dst.s)*(i.Org.t+i.Dst.t),i=i.Lnext;while(i!==l.anEdge);if(o<0){for(r=n.next;r!==n;r=r.next)r.t=-r.t;this.tUnit[0]=-this.tUnit[0],this.tUnit[1]=-this.tUnit[1],this.tUnit[2]=-this.tUnit[2]}},e.prototype.projectPolygon_=function(){var t=this.mesh.vHead,r=[0,0,0],n,i,o=!1;r[0]=this.normal[0],r[1]=this.normal[1],r[2]=this.normal[2],!r[0]&&!r[1]&&!r[2]&&(this.computeNormal_(r),o=!0),n=this.sUnit,i=this.tUnit;var l=this.longAxis_(r);n[l]=0,n[(l+1)%3]=1,n[(l+2)%3]=0,i[l]=0,i[(l+1)%3]=0,i[(l+2)%3]=r[l]>0?1:-1;for(var c=t.next;c!==t;c=c.next)c.s=this.dot_(c.coords,n),c.t=this.dot_(c.coords,i);o&&this.checkOrientation_();for(var a=!0,s=t.next;s!==t;s=s.next)a?(this.bmin[0]=this.bmax[0]=s.s,this.bmin[1]=this.bmax[1]=s.t,a=!1):(s.s<this.bmin[0]&&(this.bmin[0]=s.s),s.s>this.bmax[0]&&(this.bmax[0]=s.s),s.t<this.bmin[1]&&(this.bmin[1]=s.t),s.t>this.bmax[1]&&(this.bmax[1]=s.t))},e.prototype.addWinding_=function(t,r){t.winding+=r.winding,t.Sym.winding+=r.Sym.winding},e.prototype.tessellateMonoRegion_=function(t,r){var n,i;if(n=r.anEdge,!(n.Lnext!==n&&n.Lnext.Lnext!==n))throw"Mono region invalid";for(;ct.vertLeq(n.Dst,n.Org);n=n.Lprev);for(;ct.vertLeq(n.Org,n.Dst);n=n.Lnext);i=n.Lprev;for(var o=void 0;n.Lnext!==i;)if(ct.vertLeq(n.Dst,i.Org)){for(;i.Lnext!==n&&(ct.edgeGoesLeft(i.Lnext)||ct.edgeSign(i.Org,i.Dst,i.Lnext.Dst)<=0);)o=t.connect(i.Lnext,i),i=o.Sym;i=i.Lprev}else{for(;i.Lnext!==n&&(ct.edgeGoesRight(n.Lprev)||ct.edgeSign(n.Dst,n.Org,n.Lprev.Org)>=0);)o=t.connect(n,n.Lprev),n=o.Sym;n=n.Lnext}if(i.Lnext===n)throw"Mono region invalid";for(;i.Lnext.Lnext!==n;)o=t.connect(i.Lnext,i),i=o.Sym;return!0},e.prototype.tessellateInterior_=function(t){for(var r,n=t.fHead.next;n!==t.fHead;n=r)if(r=n.next,n.inside&&!this.tessellateMonoRegion_(t,n))return!1;return!0},e.prototype.discardExterior_=function(t){for(var r,n=t.fHead.next;n!==t.fHead;n=r)r=n.next,n.inside||t.zapFace(n)},e.prototype.setWindingNumber_=function(t,r,n){for(var i,o=t.eHead.next;o!==t.eHead;o=i)i=o.next,o.Rface.inside!==o.Lface.inside?o.winding=o.Lface.inside?r:-r:n?t.delete(o):o.winding=0},e.prototype.getNeighbourFace_=function(t){return!t.Rface||!t.Rface.inside?-1:t.Rface.n},e.prototype.outputPolymesh_=function(t,r,n,i){var o,l=0,c=0,a;n>3&&t.mergeConvexFaces(n);for(var s=t.vHead.next;s!==t.vHead;s=s.next)s.n=-1;for(var u=t.fHead.next;u!==t.fHead;u=u.next)if(u.n=-1,!!u.inside){o=u.anEdge,a=0;do{var s=o.Org;s.n===-1&&(s.n=c,c++),a++,o=o.Lnext}while(o!==u.anEdge);if(a>n)throw"Face vertex greater that support polygon";u.n=l,++l}this.elementCount=l,r===Nn.CONNECTED_POLYGONS&&(l*=2),this.elements=[],this.elements.length=l*n,this.vertexCount=c,this.vertices=[],this.vertices.length=c*i,this.vertexIndices=[],this.vertexIndices.length=c;for(var s=t.vHead.next;s!==t.vHead;s=s.next)if(s.n!==-1){var d=s.n*i;this.vertices[d+0]=s.coords[0],this.vertices[d+1]=s.coords[1],i>2&&(this.vertices[d+2]=s.coords[2]),this.vertexIndices[s.n]=s.idx}for(var h=0,u=t.fHead.next;u!==t.fHead;u=u.next)if(u.inside){o=u.anEdge,a=0;do{var s=o.Org;this.elements[h++]=s.n,a++,o=o.Lnext}while(o!==u.anEdge);for(var p=a;p<n;++p)this.elements[h++]=-1;if(r===Nn.CONNECTED_POLYGONS){o=u.anEdge;do this.elements[h++]=this.getNeighbourFace_(o),o=o.Lnext;while(o!==u.anEdge);for(var m=a;m<n;++m)this.elements[h++]=-1}}},e.prototype.outputContours_=function(t,r){var n,i,o=0,l=0;this.vertexCount=0,this.elementCount=0;for(var c=t.fHead.next;c!==t.fHead;c=c.next)if(c.inside){i=n=c.anEdge;do this.vertexCount++,n=n.Lnext;while(n!==i);this.elementCount++}this.elements=[],this.elements.length=this.elementCount*2,this.vertices=[],this.vertices.length=this.vertexCount*r,this.vertexIndices=[],this.vertexIndices.length=this.vertexCount;var a=0,s=0,u=0;o=0;for(var c=t.fHead.next;c!==t.fHead;c=c.next)if(c.inside){l=0,i=n=c.anEdge;do this.vertices[a++]=n.Org.coords[0],this.vertices[a++]=n.Org.coords[1],r>2&&(this.vertices[a++]=n.Org.coords[2]),this.vertexIndices[s++]=this.vertexIdCallback?this.vertexIdCallback(n):n.Org.idx,l++,n=n.Lnext;while(n!==i);this.elements[u++]=o,this.elements[u++]=l,o+=l}},e.prototype.addContour=function(t,r){this.mesh===null&&(this.mesh=new IN),t<2&&(t=2),t>3&&(t=3);for(var n=null,i=0;i<r.length;i+=t)n===null?(n=this.mesh.makeEdge(),this.mesh.splice(n,n.Sym)):(this.mesh.splitEdge(n),n=n.Lnext),n.Org.coords[0]=r[i+0],n.Org.coords[1]=r[i+1],t>2?n.Org.coords[2]=r[i+2]:n.Org.coords[2]=0,n.Org.idx=this.vertexIndexCounter++,this.edgeCreateCallback&&this.edgeCreateCallback(n),n.winding=1,n.Sym.winding=-1},e.prototype.tesselate=function(t,r,n,i,o,l){if(t===void 0&&(t=yr.ODD),r===void 0&&(r=Nn.POLYGONS),l===void 0&&(l=!0),this.vertices=[],this.elements=[],this.vertexIndices=[],this.vertexIndexCounter=0,o&&(this.normal[0]=o[0],this.normal[1]=o[1],this.normal[2]=o[2]),this.windingRule=t,i<2&&(i=2),i>3&&(i=3),!this.mesh)return!1;this.projectPolygon_(),Xke.computeInterior(this,l);var c=this.mesh;return r===Nn.BOUNDARY_CONTOURS?this.setWindingNumber_(c,1,!0):this.tessellateInterior_(c),l&&c.check(),r===Nn.BOUNDARY_CONTOURS?this.outputContours_(c,i):this.outputPolymesh_(c,r,n,i),!0},e}();function Ou(e){var t=e.windingRule,r=t===void 0?yr.ODD:t,n=e.elementType,i=n===void 0?Nn.POLYGONS:n,o=e.polySize,l=o===void 0?3:o,c=e.vertexSize,a=c===void 0?2:c,s=e.normal,u=s===void 0?[0,0,1]:s,d=e.contours,h=d===void 0?[]:d,p=e.strict,m=p===void 0?!0:p,f=e.debug,g=f===void 0?!1:f;if(!h&&m)throw new Error("Contours can't be empty");if(h){var v=new Kke;e.edgeCreateCallback&&(v.edgeCreateCallback=e.edgeCreateCallback),e.vertexIdCallback&&(v.vertexIdCallback=e.vertexIdCallback);for(var x=0;x<h.length;x++)v.addContour(a||2,h[x]);return v.tesselate(r,i,l,a,u,m),{vertices:v.vertices,vertexIndices:v.vertexIndices,vertexCount:v.vertexCount,elements:v.elements,elementCount:v.elementCount,mesh:g?v.mesh:void 0}}}yr.ODD;yr.NONZERO;yr.POSITIVE;yr.NEGATIVE;yr.ABS_GEQ_TWO;Nn.POLYGONS;Nn.CONNECTED_POLYGONS;Nn.BOUNDARY_CONTOURS;var DP=class{constructor(e=256,t=!1){this.capacity=e,this.size=0,this.debug=t,this.debug&&console.log(`allocating with cap ${e}`);let r=e*DP.eSize;this.buffer=new ArrayBuffer(r);let n=Float32Array.BYTES_PER_ELEMENT,i=0;this.positions=new Float32Array(this.buffer,i*n,3*e),i+=3*e,this.normals=new Float32Array(this.buffer,i*n,3*e),i+=3*e,this.uvs=new Float32Array(this.buffer,i*n,2*e)}realloc(e,t=!1){if(e<this.size)throw Error("cannot shrink buffer");if(e<=this.capacity&&!t)return;this.debug&&console.log(`resizing from ${this.capacity} → ${e}`);let r=e*DP.eSize,n=new ArrayBuffer(r),i=Float32Array.BYTES_PER_ELEMENT,o=0,l=new Float32Array(n,o*i,3*e);o+=3*e;let c=new Float32Array(n,o*i,3*e);o+=3*e;let a=new Float32Array(n,o*i,2*e);t?(l.set(this.positions.subarray(0,this.size*3)),c.set(this.normals.subarray(0,this.size*3)),a.set(this.uvs.subarray(0,this.size*2))):(l.set(this.positions),c.set(this.normals),a.set(this.uvs)),this.buffer=n,this.positions=l,this.normals=c,this.uvs=a,this.capacity=e}get(e=1){let t=this.size+e;if(t>this.capacity){let n=this.capacity;for(;t>n;)n*=2;this.realloc(n)}let r=this.size;return this.size=t,r}reserve(e){let t=this.size+e;t>this.capacity&&this.realloc(t)}shrink(){this.debug&&console.log(`shrinking ${this.capacity} → ${this.size}`),this.realloc(this.size,!0)}},P$=DP;P$.eSize=8*Float32Array.BYTES_PER_ELEMENT;var Qke=di(d0e()),FD={vertices:[160,160,-160,160,-160,-160,160,-160],vertexIndices:[1,0,3,2],vertexCount:4,elements:[0,4],elementCount:1,mesh:void 0},k$={vertices:[],vertexIndices:[],vertexCount:0,elements:[],elementCount:0,mesh:void 0},D$={vertices:[-160,160,160,-160,160,160,-160,-160],vertexIndices:[1,3,0,2],vertexCount:4,elements:[0,1,2,1,0,3],elementCount:2,mesh:void 0},TC=(e,t)=>([r,n])=>(n<r&&(n+=t),(e>=r?e:e+t)<=n),UD=class extends lt{constructor(e,t,r=0,n=12,i=3,o=yr.ODD,l=!1){super(),this.forPathBevel=l,this.type="ShapeGeometry",this.vertexCache={},this._shape=e,this._depth=t,this._curveSegments=n,this._bevelSegmentsInput=i;let c=this._shape.extractShapePointsToFlatArray([],n),a=this._shape.shapeHoles.map(A=>{let C=A.extractShapePointsToFlatArray([],n),M=[];for(let T=C.length-1;T>=1;T-=2){let k=C[T-1],P=C[T-0];M.push(k,P)}return M}),s=[],u=[];for(let A=0;A<c.length;A+=2)u.push([c[A],c[A+1]]);s.push(u);for(let A=0;A<a.length;A++){let C=a[A],M=[];for(let T=0;T<C.length;T+=2)M.push([C[T],C[T+1]]);s.push(M)}let d;e.isText?d=new Kq().setFromPoints(e.points.map(A=>A.position)).getSize(new re).length()*.1:s[0].length===0?d=r:d=(0,Qke.default)(s).distance,r<=0?(this._bevel=0,this._bevelSegments=0):(this._bevel=Math.min(r,d,t/2),this._bevelSegments=Math.floor(i));let h;try{h=Ou({windingRule:o,elementType:Nn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[c]})}catch{h=FD}let p;try{p=Ou({windingRule:yr.ODD,elementType:Nn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...a]})}catch{p=k$}if(!h)throw new Error("error generating geometry");let m=h.elementCount;if(p){h.elementCount+=p.elementCount;for(let A=0;A<p.elements.length;A++){let C=p.elements[A],M=A%2===0?h.vertexCount:0;h.elements.push(C+M)}for(let A=0;A<p.vertexIndices.length;A++){let C=p.vertexIndices[A],M=h.vertexCount;h.vertexIndices.push(C+M)}for(let A=0;A<p.vertices.length;A++){let C=p.vertices[A];h.vertices.push(C)}}let f=1/0,g=-1/0,v=1/0,x=-1/0;for(let A=0,C=h.vertexCount;A<C;A++){let M=A*2,T=h.vertices[M+0],k=h.vertices[M+1];T<f&&(f=T),T>g&&(g=T),k<v&&(v=k),k>x&&(x=k)}this._minX=f,this._minY=v,this._width=g-f,this._height=x-v,this._buffer=new P$(this._computeBufferEstimatedSize(h));let y=[],b=[];for(let A=h.elementCount-1;A>=0;A--){let C=A>=m,M=A*2,T=h.elements[M+0],k=h.elements[M+1],P=T+k,D={start:T,count:k,normals:[],continuous:[],concave:[]},I=T,O=P-1,j=T+1,N=this._shape.roundedCurves.length;do{let H=I-T,X=h.vertices[O*2+0],G=h.vertices[O*2+1],Z=h.vertices[I*2+0],J=h.vertices[I*2+1],ee=h.vertices[j*2+0],q=h.vertices[j*2+1],Y=Z-X,Q=J-G,ie=Math.sqrt(Y*Y+Q*Q);Y/=ie,Q/=ie;let le=Z-ee,de=J-q,De=Math.sqrt(le*le+de*de);le/=De,de/=De,D.normals[H*2+0]=-de,D.normals[H*2+1]=le,D.concave[H]=Y*de-Q*le>0;let Me=h.vertexIndices[I];if(Array.isArray(Me))D.continuous[H]=!1;else{let[Ee,Te]=this._shape.getCurveIndexFromVertexId(Me-1,!0);if(Te>0&&Te<1)D.continuous[H]=!0;else{let $e=Te===1?Ee+1:Ee-1;$e=($e+N)%N;let ze=Te===1?0:1,K=this._shape.roundedCurves[Ee].getTangent(Te),W=this._shape.roundedCurves[$e].getTangent(ze);D.continuous[H]=K.dot(W)>.95}}C&&(D.normals[H*2+0]*=-1,D.normals[H*2+1]*=-1),[O,I,j]=[I,j,j+1],j>=P&&(j-=k)}while(j!==T+1);let R=[];R.push({bevelI:0,angle:0,size:0,boundary:{vertices:h.vertices.slice(T*2,P*2),vertexCount:k,vertexIndices:new Array(k).fill(!0).map((H,X)=>[X,X]),elements:[0,k],elementCount:1,mesh:null},reverseMap:[],insetPoints:h.vertices.slice(T*2,P*2)});let F=0;for(let H=1;H<=this._bevelSegments;H++){let X=H/this._bevelSegments*Math.PI/2,G=(1-Math.cos(X))*this._bevel,Z=[],J=[],ee=0;for(let Y=0;Y<k;Y++){let Q=Y*2,ie=(Y-1+k)%k*2,le=h.vertices[D.start*2+Q+0],de=h.vertices[D.start*2+Q+1],De=-D.normals[ie+0]*G,Me=-D.normals[ie+1]*G,Ee=-D.normals[Q+0]*G,Te=-D.normals[Q+1]*G;if(D.concave[Y]||!D.concave[Y]&&C){let $e=Math.atan2(Me,De),ze=Math.atan2(Te,Ee);ze>$e&&(ze-=Math.PI*2);let K=ze-$e;if(D.continuous[Y]||C){let W=$e+K/2,se=Math.cos(W)*G,Se=Math.sin(W)*G;Z[2*ee+0]=le+se*(C?-1:1),Z[2*ee+1]=de+Se*(C?-1:1),J[ee]=Y,ee++}else{let W=Math.max(1,Math.floor(n/4*Math.abs(K)/Math.PI));for(let se=0;se<=W;se++){let Se=$e+K*(se/W),te=Math.cos(Se)*G,ce=Math.sin(Se)*G;Z[2*ee+0]=le+te,Z[2*ee+1]=de+ce,J[ee]=Y,ee++}}}else Z[2*ee+0]=le+De,Z[2*ee+1]=de+Me,J[ee]=Y,ee++,Z[2*ee+0]=le,Z[2*ee+1]=de,J[ee]=Y,ee++,Z[2*ee+0]=le+Ee,Z[2*ee+1]=de+Te,J[ee]=Y,ee++}let q=Ou({windingRule:yr.POSITIVE,elementType:Nn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[Z],edgeCreateCallback:Y=>{let Q=Y.Org.idx,ie=J[Q],le=J[(Q+1)%J.length];Y.idx=[ie,le],Y.Sym.idx=[le,ie]},vertexIdCallback:Y=>{let Q=Y.Lprev.idx;return[Q?Q[1]:0,Y.idx?Y.idx[0]:0]}});if(!q)throw console.log("Error"),new Error(`error generating bevel geometry for ${H}'th loop`);if(!q.vertexCount){let Y=(H-1)/this._bevelSegments*Math.PI/2;F=(1-Math.sin(Y))*this._bevel;break}for(let Y=0;Y<q.vertexIndices.length;Y++){let[Q,ie]=q.vertexIndices[Y];if(Q===ie)continue;let le=ie;ie<Q&&(le+=k);for(let de=Q;de<le;de++){let De=de%k,Me=(de+1)%k;if(!D.continuous[De]||!D.continuous[Me]){q.vertexIndices[Y]=[Q,De],q.vertexIndices.splice(Y+1,0,[Me,ie]),q.vertices.splice((Y+1)*2,0,q.vertices[Y*2],q.vertices[Y*2+1]);break}}}R.push({bevelI:H,angle:X,size:G,boundary:q,reverseMap:J,insetPoints:Z})}let U=(H,X,G)=>{let Z=0,J=H.boundary.vertexIndices.length;for(;Z<J&&G(H.boundary.vertexIndices[X]);)X=(X+1)%J,Z++;return Z},B=y.length;for(let H=1;H<R.length;H++){let X=R[H-1],G=R[H],Z=X.boundary.vertexIndices.length,J=G.boundary.vertexIndices.length;if(!Z||!J)break;let ee=D.concave.length,q=0,Y=TC(q,k);for(;!X.boundary.vertexIndices.filter(Y).length||!G.boundary.vertexIndices.filter(Y).length;)q++,Y=TC(q,k);let Q=X.boundary.vertexIndices.findIndex(Y),ie=G.boundary.vertexIndices.findIndex(Y);do Q=(Q+1)%Z;while(Y(X.boundary.vertexIndices[Q]));do ie=(ie+1)%J;while(Y(G.boundary.vertexIndices[ie]));q=(q+1)%k;let le=q,de=0,De=this._buildBevelVert(D,X,(Q-1+Z)%Z,void 0,de),Me=this._buildBevelVert(D,G,(ie-1+J)%J,void 0,de),Ee=De,Te=Me,$e,ze,K=!1;do{de=(q||ee)/ee,Y=TC(q,k);let W=U(X,Q,Y),se=U(G,ie,Y),Se=K;if(K=!1,W&&!se){for(let te=0;te<W;te++)$e=this._buildBevelVert(D,X,(Q+te)%Z,te/(W-1),de),y.push(Ee.topN,$e.topP,Te.topN),l===!1&&y.push($e.bottomP,Ee.bottomN,Te.bottomN),Ee=$e;K=!0}else if(!W&&se)for(let te=0;te<se;te++)ze=this._buildBevelVert(D,G,(ie+te)%J,te/(se-1),de),y.push(Te.topN,Ee.topP,ze.topP),l===!1&&y.push(Ee.bottomP,Te.bottomN,ze.bottomP),Te=ze;else if(W&&se)if($e=this._buildBevelVert(D,X,Q,0,de),ze=this._buildBevelVert(D,G,ie,0,de),Se?(y.push(Ee.topN,ze.topP,Te.topN),y.push(Ee.topN,$e.topP,ze.topP),l===!1&&(y.push(ze.bottomP,Ee.bottomN,Te.bottomN),y.push(ze.bottomP,$e.bottomP,Ee.bottomN))):(y.push(Te.topN,Ee.topN,$e.topP),y.push(Te.topN,$e.topP,ze.topP),l===!1&&(y.push($e.bottomP,Ee.bottomN,Te.bottomN),y.push($e.bottomP,Te.bottomN,ze.bottomP))),Ee=$e,Te=ze,W===se)for(let te=1;te<W;te++)$e=this._buildBevelVert(D,X,(Q+te)%Z,te/(W-1),de),ze=this._buildBevelVert(D,G,(ie+te)%J,te/(se-1),de),y.push(Ee.topN,$e.topP,Te.topN),y.push(Te.topN,$e.topP,ze.topP),l===!1&&(y.push($e.bottomP,Ee.bottomN,Te.bottomN),y.push($e.bottomP,Te.bottomN,ze.bottomP)),Ee=$e,Te=ze;else if(W>se){let te=W/se,ce=0;for(let we=1;we<W;we++)$e=this._buildBevelVert(D,X,(Q+we)%Z,we/(W-1),de),y.push(Ee.topN,$e.topP,Te.topN),l===!1&&y.push($e.bottomP,Ee.bottomN,Te.bottomN),Ee=$e,we>(ce+1)*te&&(ce++,ze=this._buildBevelVert(D,G,(ie+ce)%J,ce/(se-1),de),y.push(Te.topN,$e.topP,ze.topP),l===!1&&y.push($e.bottomP,Te.bottomN,ze.bottomP),Te=ze)}else{let te=se/W,ce=0;for(let we=1;we<se;we++)ze=this._buildBevelVert(D,G,(ie+we)%J,we/(se-1),de),y.push(Te.topN,$e.topP,ze.topP),l===!1&&y.push($e.bottomP,Te.bottomN,ze.bottomP),Te=ze,we>(ce+1)*te&&(ce++,$e=this._buildBevelVert(D,X,(Q+ce)%Z,ce/(W-1),de),y.push(Ee.topN,$e.topP,Te.topN),l===!1&&y.push($e.bottomP,Ee.bottomN,Te.bottomN),Ee=$e)}Q=(Q+W)%Z,ie=(ie+se)%J,q=(q+1)%ee}while(q!==le)}if(l===!1&&this._depth>this._bevel*2&&this._buildWall(R,D,y),C){let H=[];for(let X=y.length-1;X>=B+2;X-=3){let G=y[X-2],Z=y[X-1],J=y[X-0];H.push(J,Z,G)}y.splice(B,y.length-B,...H)}if(C){let H=[];for(let X=R[R.length-1].boundary.vertices.length-1;X>=1;X-=2){let G=R[R.length-1].boundary.vertices[X-1],Z=R[R.length-1].boundary.vertices[X-0];H.push(G,Z)}b.push(H)}if(!C){let H=R[R.length-1],X;try{X=Ou({windingRule:R.length>1?yr.POSITIVE:yr.ODD,elementType:Nn.POLYGONS,vertexSize:2,strict:!0,contours:[H.insetPoints,...b]})}catch{X=D$}if(!X)throw new Error("Error generating geometry for surface");a.length===0&&this._bevel<d&&Object.assign(this,{useNgonForTopBottomFaceDuringBake:!0});for(let G=0;G<X.elementCount*3;G+=3){let Z=this._buildSurfaceVert(X,X.elements[G+0],F),J=this._buildSurfaceVert(X,X.elements[G+1],F),ee=this._buildSurfaceVert(X,X.elements[G+2],F);y.push(Z.top,J.top,ee.top),l===!1&&y.push(ee.bottom,J.bottom,Z.bottom)}}this.vertexCache={}}this._buffer.shrink();let w=new St(Uint32Array.from(y),1),_=new St(this._buffer.positions,3),S=new St(this._buffer.normals,3),E=new St(this._buffer.uvs,2);_.needsUpdate=!0,S.needsUpdate=!0,E.needsUpdate=!0,w.needsUpdate=!0,this.setAttribute("position",_),this.setAttribute("normal",S),this.setAttribute("uv",E),this.setIndex(w)}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,r){let n=e[0];for(let i=0,o=n.boundary.vertexCount;i<o;i++){let l=this._buildBevelVert(t,n,i),c=this._buildBevelVert(t,n,(i+1)%o);r.push(c.topP,l.topN,l.bottomN),r.push(c.topP,l.bottomN,c.bottomP)}}_buildSurfaceVert(e,t,r){let n=t.toString();if(n in this.vertexCache)return this.vertexCache[n];let i=e.vertices[t*2+0],o=e.vertices[t*2+1],l=(i-this._minX)/this._width,c=(o-this._minY)/this._height;this.forPathBevel&&(c=1);let a=this._buffer.get(this.forPathBevel?1:2),s=a*3,u=a*2,d={top:a+0,bottom:a+1};return this._buffer.positions[s+0]=i,this._buffer.positions[s+1]=o,this._buffer.positions[s+2]=this.forPathBevel?this._bevel:this._depth-r,this._buffer.normals[s+0]=0,this._buffer.normals[s+1]=0,this._buffer.normals[s+2]=1,this._buffer.uvs[u+0]=l,this._buffer.uvs[u+1]=c,this.forPathBevel===!1&&(this._buffer.positions[s+3]=i,this._buffer.positions[s+4]=o,this._buffer.positions[s+5]=r,this._buffer.normals[s+3]=0,this._buffer.normals[s+4]=0,this._buffer.normals[s+5]=-1,this._buffer.uvs[u+2]=l,this._buffer.uvs[u+3]=c),this.vertexCache[n]=d,d}_buildBevelVert(e,t,r,n=1,i){let o=`${t.bevelI}:${r}`;if(o in this.vertexCache&&i!==0&&i!==1&&(!i||i===this.vertexCache[o].pathBevelUCoord))return this.vertexCache[o];let[l,c]=t.boundary.vertexIndices[r],a,s,u,d;l!==c?(s=l,a=c,d=!1,u=e.continuous[s]&&e.continuous[a]):(a=l,s=(a-1+e.count)%e.count,d=e.concave[a]&&t.bevelI>0,u=e.continuous[a]||d);let h=Math.cos(t.angle),p=Math.sin(t.angle),m=r*2,f=a*2,g=s*2,v=t.boundary.vertices[m+0],x=t.boundary.vertices[m+1],y=(1-p)*this._bevel,b=(v-this._minX)/this._width,w=(x-this._minY)/this._height;this.forPathBevel&&(i!==void 0&&(b=i),w=1);let _=e.normals[f+0],S=e.normals[f+1],E=e.normals[g+0],A=e.normals[g+1];if(d){let P=E-_,D=A-S;_=_+P*(1-n),S=S+D*(1-n);let I=Math.sqrt(_*_+S*S);_/=I,S/=I}let C=this.forPathBevel?this._buffer.get(u?1:2):this._buffer.get(u?2:4),M=C*3,T=C*2,k={i:r,fi:a,topP:C+0,topN:C+0,bottomP:C+1,bottomN:C+1,pathBevelUCoord:i};return this._buffer.positions[M+0]=v,this._buffer.positions[M+1]=x,this._buffer.positions[M+2]=(this.forPathBevel?this._bevel:this._depth)-y,this._buffer.normals[M+0]=_*h,this._buffer.normals[M+1]=S*h,this._buffer.normals[M+2]=p,this._buffer.uvs[T+0]=b,this._buffer.uvs[T+1]=w,this.forPathBevel===!1&&(this._buffer.positions[M+3]=v,this._buffer.positions[M+4]=x,this._buffer.positions[M+5]=y,this._buffer.normals[M+3]=_*h,this._buffer.normals[M+4]=S*h,this._buffer.normals[M+5]=-p,this._buffer.uvs[T+2]=w,this._buffer.uvs[T+3]=b),u||(this.forPathBevel?(C+=1,M+=3,T+=2):(C+=2,M+=6,T+=4),k.topP=C+0,k.bottomP=C+1,this._buffer.positions[M+0]=v,this._buffer.positions[M+1]=x,this._buffer.positions[M+2]=(this.forPathBevel?this._bevel:this._depth)-y,this._buffer.normals[M+0]=E*h,this._buffer.normals[M+1]=A*h,this._buffer.normals[M+2]=p,this._buffer.uvs[T+0]=b,this._buffer.uvs[T+1]=w,this.forPathBevel===!1&&(this._buffer.positions[M+3]=v,this._buffer.positions[M+4]=x,this._buffer.positions[M+5]=y,this._buffer.normals[M+3]=E*h,this._buffer.normals[M+4]=A*h,this._buffer.normals[M+5]=-p,this._buffer.uvs[T+2]=w,this._buffer.uvs[T+3]=b)),this.vertexCache[o]=k,k}clone(){let e=new UD(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=LS(this.userData),e}},j$=class extends lt{constructor(e,t=12,r={}){super(),this.type="ShapeGeometry",this.windingRule=yr.ODD,this.elementType=Nn.POLYGONS,this.polySize=3,this.vertexSize=2,this.strict=!0,this._shape=e,this._curveSegments=t,this._triangulationOptions=Object.assign({windingRule:yr.ODD,elementType:Nn.POLYGONS,polySize:3,vertexSize:2,strict:!0},r);let n=this._shape.extractShapePointsToFlatArray([],this._curveSegments),i=this._shape.shapeHoles.map(h=>h.extractShapePointsToFlatArray([],this._curveSegments)),o,l=!0,c=!0,a,s;for(let h=0,p=n.length/2;h<p;h++){let m=h*2,f=n[m+0],g=n[m+1];if(a!==void 0&&f!==a&&(l=!1),s!==void 0&&g!==s&&(c=!1),a=f,s=g,!l&&!c)break}if(!l&&!c)try{o=Ou({contours:[n,...i],windingRule:this._triangulationOptions.windingRule,elementType:this._triangulationOptions.elementType,polySize:this._triangulationOptions.polySize,vertexSize:this._triangulationOptions.vertexSize,strict:this._triangulationOptions.strict})}catch{o=FD}let u=(o==null?void 0:o.vertexCount)??1,d=(o==null?void 0:o.elementCount)??1;if(this._positionAttribute=new St(new Float32Array(u*3),3),this._normalAttribute=new St(new Float32Array(u*3),3),this._uvAttribute=new St(new Float32Array(u*2),2),this._indexAttribute=new St(new Uint32Array(d*3),1),o){let h=1/0,p=-1/0,m=1/0,f=-1/0;for(let x=0,y=u;x<y;x++){let b=x*2,w=o.vertices[b+0],_=o.vertices[b+1];w<h&&(h=w),w>p&&(p=w),_<m&&(m=_),_>f&&(f=_)}let g=p-h,v=f-m;for(let x=0,y=u;x<y;x++){let b=x*2,w=o.vertices[b+0],_=o.vertices[b+1],S=(w-h)/g,E=(_-m)/v;this._positionAttribute.setXYZ(x,w,_,0),this._normalAttribute.setXYZ(x,0,0,1),this._uvAttribute.setXY(x,S,E)}for(let x=0,y=d;x<y;x++){let b=x*3,w=o.elements[b+0],_=o.elements[b+1],S=o.elements[b+2];this._indexAttribute.setX(b+0,w),this._indexAttribute.setX(b+1,_),this._indexAttribute.setX(b+2,S)}}this.setAttribute("position",this._positionAttribute),this.setAttribute("normal",this._normalAttribute),this.setAttribute("uv",this._uvAttribute),this.setIndex(this._indexAttribute),this.setDrawRange(0,((o==null?void 0:o.elementCount)??1)*3)}clone(){let e=new j$(this._shape,this._curveSegments);return e.userData=LS(this.userData),e}},I$=class extends UD{constructor(e,t,r=0,n=12,i=3,o=yr.ODD){super(e,t,r,n,i,o),this.type="ShapeGeometry"}_computeBufferEstimatedSize(e){return e.vertexCount*2*(2+this._bevelSegments)}_buildWall(e,t,r){let n=e[0];for(let i=0,o=n.boundary.vertexCount;i<o;i++){let l=this._buildBevelVert(t,n,i),c=this._buildBevelVert(t,n,(i+1)%o);r.push(c.topP,l.topN,l.bottomN),r.push(c.topP,l.bottomN,c.bottomP)}}clone(){let e=new I$(this._shape,this._depth,this._bevel,this._curveSegments,this._bevelSegmentsInput);return e.userData=LS(this.userData),e}},cp=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var s,u;let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,subdivisions:40,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3,windingRule:yr.ODD},e.parameters),n=Math.abs(r.width),i=Math.abs(r.height??r.width),o=Math.abs(r.depth??0),l=e.shape??(t==null?void 0:t.shape),c=(l==null?void 0:l.roundness)??r.roundness;l!==void 0&&(l instanceof pn?(l.width!==n||l.height!==i)&&l.applySize(n,i):l=new pn(n,i).fromJSON(l),((s=e.parameters)==null?void 0:s.roundness)!==void 0&&((u=e.parameters)==null?void 0:u.roundness)>0&&l.update());let a=l??new pn(n,i);return{parameters:Object.assign(r,{width:n,height:i,depth:o,roundness:c}),shape:a}}static build(e){let{depth:t,extrudeBevelSize:r,extrudeBevelSegments:n,subdivisions:i,roundness:o,windingRule:l}=e.parameters;e.shape.roundness=o;let c;return t<=0?c=new j$(e.shape,i,{windingRule:l}):c=new I$(e.shape,t,r,i,n,l),Object.assign(c,{userData:{...e,type:"VectorGeometry"}})}},O$=Math.PI*2,VD=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:64,angle:360,innerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return r.angle=at.clamp(r.angle,0,360),{shape:e.shape&&e.shape instanceof pn?e.shape:new pn,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,spikes:n,angle:i,innerRadius:o,depth:l,extrudeBevelSize:c,extrudeBevelSegments:a}=e.parameters,s=e.shape,u=t*.5,d=r*.5,h=Zke(s,u,d,i*Math.PI/180,n,o);s.isClosed=!0,s.update();let p;return i===0?(p=new lt,p.setAttribute("position",new Ze([],3))):p=cp.create({shape:s,parameters:{subdivisions:h,depth:l,extrudeBevelSize:c,extrudeBevelSegments:a}}),Object.assign(p,{userData:{...e,type:"EllipseGeometry"}})}};function Zke(e,t,r,n,i,o){if(n>=O$)return i>30||i%4===0?(e5e(e,t,r,o),Math.round(i/4)):LN(e,n,i,t,r,o);n=Math.max(n,.001);let l={x:0,y:r},c=n+Math.PI*.5,a={x:Math.cos(c)*t,y:Math.sin(c)*r},s=qke({px:l.x,py:l.y,cx:a.x,cy:a.y,rx:t,ry:r,largeArcFlag:n>Math.PI,sweepFlag:!0});return i>30||i%s.length===0?Jke(e,l.x,l.y,s,i,t,r,o):LN(e,n,i,t,r,o)}function Jke(e,t,r,n,i,o,l,c){let a=Math.round(i/n.length);e.addPoint(um(t,r));for(let s=0,u=n.length;s<u;s++){let d=n[s],h=e.points[s],p=um(d.x,d.y);h.controls[1].position.set(d.x1,d.y1),p.controls[0].position.set(d.x2,d.y2),e.addPoint(p)}return c>0?R$(e,o,l,c):e.addPoint(um(0,0)),a}function LN(e,t,r,n,i,o){let l=-t/r;for(let c=0;c<=r;c++){let a=l*c,s=Math.sin(a)*n,u=Math.cos(a)*i;e.addPoint(um(s,u))}return t<O$?o>0?R$(e,n,i,o):e.addPoint(um(0,0)):(e.removePoint(e.points[e.points.length-1]),o>0&&z$(e,n,i,o)),1}function e5e(e,t,r,n=0,i=0,o=0){let l=.5522847498,c=t*l,a=r*l;e.addPoint(Nb(i-t,o,i-t,o-a,i-t,o+a)),e.addPoint(Nb(i,o+r,i-c,o+r,i+c,o+r)),e.addPoint(Nb(i+t,o,i+t,o+a,i+t,o-a)),e.addPoint(Nb(i,o-r,i+c,o-r,i-c,o-r)),n>0&&z$(e,t,r,n)}function um(e,t){return new cm(at.generateUUID(),new re(e,t))}function Nb(e,t,r,n,i,o){let l=um(e,t);return l.controls[0].position.set(r,n),l.controls[1].position.set(i,o),l}function R$(e,t,r,n){L$(e,t,r,n).forEach(i=>e.addPoint(i))}function z$(e,t,r,n){let i=L$(e,t,r,n),o=new pn;i.forEach(l=>o.addPoint(l)),o.isClosed=!0,e.shapeHoles.push(o)}function L$(e,t,r,n){let i=n*t/100,o=i*(Math.abs(r)/Math.abs(t)),l=new re(i/t,o/r),c=e.points.map(a=>{let s=a.clone();return s.uuid=at.generateUUID(),s}).reverse();return c.forEach(a=>{a.position.multiply(l);let s=a.controls[0].position.clone().multiply(l),u=a.controls[1].position.clone().multiply(l);a.controls[0].position.copy(u),a.controls[1].position.copy(s)}),c}var t5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,revolutions:2,segments:40,pathRadius:10,pathType:0,pathSegments:30,cornerRadius:30,cornerSegments:4},e.parameters),n=Math.abs(r.width),i=Math.abs(r.height??n),o=Math.abs(r.depth??n),l=Math.abs(Math.min(n,o))/2;return{parameters:Object.assign(r,{width:n,height:i,depth:o,radius:l,segments:Math.round(r.segments),pathSegments:Math.round(r.pathSegments),cornerSegments:Math.round(r.cornerSegments)})}}static build(e){let{width:t,height:r,depth:n,radius:i,revolutions:o,segments:l,pathRadius:c,pathType:a,pathSegments:s,cornerRadius:u,cornerSegments:d}=e.parameters,h=new N$(!1,t,r,n,i,o,l,c,a,s,u,d);return Object.assign(h,{userData:{...e,type:"HelixGeometry"}})}},PC=new tm([0,0,0],1),N$=class extends lt{constructor(e=!0,t=1,r=1,n=1,i=1,o=1,l=1,c=1,a=1,s=1,u=1,d=1){if(super(),o===0)return;let h=e&&o===1;h&&(d=0),u>100&&(u=100),u===0&&(d=0);let p=()=>new L,m=new L,f=p(),g=p(),v=p(),x,y,b,w,_,S,E,A,C=p(),M=p(),T=p(),k=p(),P=p(),D=p(),I=p(),O=p(),j=r-2*c+.001,N=j/o,R=Math.ceil(l*o),F=R+1,U=j/R,B=-j/2,H=s+1,X=2*Math.PI/s,G=Math.PI/2/d,Z=.01,J=Math.min((1-u/100)*c,c-Z),ee=c-J,q=0,Y=2,Q=d*Y+Y,ie=H*Q/Y,le=ie+H*F,de=Math.max(0,H*(F+Q)),[De,Me,Ee]=[3,3,2].map(he=>Array(de*he).fill(0)),Te=[],$e=i-c;function ze(he,Ne){let Xe=Math.PI/2;S=Ne*U,A=2*Math.PI*(S%N)/N+Xe,S+=B,E=Math.sin(A)*$e,_=Math.cos(A)*$e,e?he.set(_,E,S):he.set(_,S,E)}ze(m,-1e-10),ze(f,0),C.copy(m),ze(m,1);let K=m.distanceTo(f),W=h?0:ee+J,se=K*R+2*W,Se=J,te=se-W;for(let he=0;he<=R;he++){ze(g,he),O.subVectors(g,C).normalize(),C.copy(g),D.copy(g).setComponent(+e+1,0).normalize(),I.crossVectors(O,D).normalize();let Ne=he===0,Xe=he===R,Ce=Ne?3*Math.PI/2:G,Ue=Ne?Se:te,Ge=Ne?H:le,st=Ne?0:de-H,He=O.clone().multiplyScalar(Ne?-ee:ee).add(g),tt=O.clone().multiplyScalar(Ne?-1:1).normalize();for(let ne=0;ne<H;ne++){let ye=ne*X;if(M.addVectors(m.copy(D).multiplyScalar(c*Math.cos(ye)),f.copy(I).multiplyScalar(c*Math.sin(ye))),T.copy(M).normalize(),Ne||Xe){h||(q=st+ne,[0,1,2].forEach(Pe=>{De[q*3+Pe]=He.getComponent(Pe),Me[q*3+Pe]=tt.getComponent(Pe)}),Ee[q*2]=+Xe,Ee[q*2+1]=ne/s),f.copy(T).multiplyScalar(J),v.addVectors(g,f);for(let Pe=0;Pe<d;Pe++){let Qe=Pe*G+Ce;k.addVectors(m.copy(O).multiplyScalar(ee*Math.sin(Qe)),f.copy(T).multiplyScalar(ee*Math.cos(Qe))),P.copy(k).normalize(),f.addVectors(v,k),k.normalize(),q=Ge+Pe*H+ne,[0,1,2].forEach(Xt=>{De[q*3+Xt]=f.getComponent(Xt),Me[q*3+Xt]=P.getComponent(Xt)});let gt=+Ne+Math.sin(Qe);Ee[q*2]=(Ue+ee*gt)/se,Ee[q*2+1]=ne/s}}f.addVectors(g,M),q=ie+he*H+ne,[0,1,2].forEach(Pe=>{De[q*3+Pe]=f.getComponent(Pe),Me[q*3+Pe]=T.getComponent(Pe)}),Ee[q*2]=(W+he*K)/se,Ee[q*2+1]=ne/s}}let ce=F+2*d+Y,[we,fe]=[+h,ce-1];for(let he=we;he<=fe-1;he++){let Ne=h&&he===fe-1;for(let Xe=0;Xe<H-1;Xe++)x=he*H+Xe,y=x+1,b=(Ne?Xe:x)+H,w=(Ne?Xe+1:y)+H,he===0?Te.push(y,w,b):he===ce-2?Te.push(x,y,b):Te.push(x,y,b,y,w,b)}this.setIndex(Te),this.setAttribute("position",new Ze(De,3)),this.setAttribute("normal",new Ze(Me,3)),this.setAttribute("uv",new Ze(Ee,2))}getClosedTorusIndicesForBooleanOrSubdiv(){let e=this.userData.parameters,t=Math.ceil(e.tubularSegments),r=e.radialSegments+1,n=Array.from(this.getIndex().array),i,o,l,c,a=6*(t-1)*e.radialSegments,s=t,u=s===t;for(let d=0;d<e.radialSegments;d++)i=s*r+d,o=i+1,l=(u?d:i)+r,c=(u?d+1:o)+r,n[a++]=i,n[a++]=o,n[a++]=l,n[a++]=o,n[a++]=c,n[a++]=l;return n.length=a,PC.array=n,PC.count=n.length,PC}},r5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,detail:0,corner:0,cornerSides:4},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:n,detail:i,corner:o,cornerSides:l}=e.parameters,c=i===0&&o!==0?new B$(t*.5,o,l):new Fq(t*.5,i);return c.scale(1,r/t,n/t),Object.assign(c,{userData:{...e,type:"IcosahedronGeometry"}})}},B$=class extends LD{constructor(e=1,t=.2,r=4){let n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1],o=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],l="IcosahedronGeometry";super(i,o,l,e,t,r),this.type=l}static fromJSON(e){return new B$(e.radius,e.corner,e.cornerSides)}},n5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){var n;(((n=e.parameters)==null?void 0:n.points)??[]).forEach(i=>{Array.isArray(i)&&(i.x=i[0],i.y=i[1])});let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,segments:64,verticalSegments:64,points:[{x:0,y:-50,id:0},{x:50,y:-50,id:1},{x:50,y:50,id:2},{x:0,y:50,id:3}]},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{points:t,segments:r,verticalSegments:n}=e.parameters,i=new i_;i.moveTo(t[0].x,t[0].y),i.bezierCurveTo(t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y);let o=new Iq(i.extractPoints(n).shape,r);return o.rotateZ(Math.PI),Object.assign(o,{userData:{...e,type:"LatheGeometry"}})}},Vs=new Re,kC=new wr,Bb=new L,R_=class extends wi{constructor(){super(),this.uuid=at.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}applyMatrix4(e){let t=new Sn().getNormalMatrix(e);for(let r=0,n=this.vertices.length;r<n;r++)this.vertices[r].applyMatrix4(e);for(let r=0,n=this.faces.length;r<n;r++){let i=this.faces[r];i.normal.applyMatrix3(t).normalize();for(let o=0,l=i.vertexNormals.length;o<l;o++)i.vertexNormals[o].applyMatrix3(t).normalize()}return this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this}rotateX(e){return Vs.makeRotationX(e),this.applyMatrix4(Vs),this}rotateY(e){return Vs.makeRotationY(e),this.applyMatrix4(Vs),this}rotateZ(e){return Vs.makeRotationZ(e),this.applyMatrix4(Vs),this}translate(e,t,r){return Vs.makeTranslation(e,t,r),this.applyMatrix4(Vs),this}scale(e,t,r){return Vs.makeScale(e,t,r),this.applyMatrix4(Vs),this}lookAt(e){return kC.lookAt(e),kC.updateMatrix(),this.applyMatrix4(kC.matrix),this}fromBufferGeometry(e){let t=this,r=e.index!==null?e.index:void 0,n=e.attributes;if(n.position===void 0)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;let i=n.position,o=n.normal,l=n.color,c=n.uv,a=n.uv2;a!==void 0&&(this.faceVertexUvs[1]=[]);for(let d=0;d<i.count;d++)t.vertices.push(new L().fromBufferAttribute(i,d)),l!==void 0&&t.colors.push(new ht().fromBufferAttribute(l,d));function s(d,h,p,m){let f=l===void 0?[]:[t.colors[d].clone(),t.colors[h].clone(),t.colors[p].clone()],g=o===void 0?[]:[new L().fromBufferAttribute(o,d),new L().fromBufferAttribute(o,h),new L().fromBufferAttribute(o,p)],v=new jP(d,h,p,g,f,m);t.faces.push(v),c!==void 0&&t.faceVertexUvs[0].push([new re().fromBufferAttribute(c,d),new re().fromBufferAttribute(c,h),new re().fromBufferAttribute(c,p)]),a!==void 0&&t.faceVertexUvs[1].push([new re().fromBufferAttribute(a,d),new re().fromBufferAttribute(a,h),new re().fromBufferAttribute(a,p)])}let u=e.groups;if(u.length>0)for(let d=0;d<u.length;d++){let h=u[d],p=h.start,m=h.count;for(let f=p,g=p+m;f<g;f+=3)r!==void 0?s(r.getX(f),r.getX(f+1),r.getX(f+2),h.materialIndex):s(f,f+1,f+2,h.materialIndex)}else if(r!==void 0)for(let d=0;d<r.count;d+=3)s(r.getX(d),r.getX(d+1),r.getX(d+2));else for(let d=0;d<i.count;d+=3)s(d,d+1,d+2);return this.computeFaceNormals(),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Bb).negate(),this.translate(Bb.x,Bb.y,Bb.z),this}normalize(){this.computeBoundingSphere();let e=this.boundingSphere.center,t=this.boundingSphere.radius,r=t===0?1:1/t,n=new Re;return n.set(r,0,0,-r*e.x,0,r,0,-r*e.y,0,0,r,-r*e.z,0,0,0,1),this.applyMatrix4(n),this}computeFaceNormals(){let e=new L,t=new L;for(let r=0,n=this.faces.length;r<n;r++){let i=this.faces[r],o=this.vertices[i.a],l=this.vertices[i.b],c=this.vertices[i.c];e.subVectors(c,l),t.subVectors(o,l),e.cross(t),e.normalize(),i.normal.copy(e)}}computeVertexNormals(e=!0){let t=new Array(this.vertices.length);for(let r=0,n=this.vertices.length;r<n;r++)t[r]=new L;if(e){let r=new L,n=new L;for(let i=0,o=this.faces.length;i<o;i++){let l=this.faces[i],c=this.vertices[l.a],a=this.vertices[l.b],s=this.vertices[l.c];r.subVectors(s,a),n.subVectors(c,a),r.cross(n),t[l.a].add(r),t[l.b].add(r),t[l.c].add(r)}}else{this.computeFaceNormals();for(let r=0,n=this.faces.length;r<n;r++){let i=this.faces[r];t[i.a].add(i.normal),t[i.b].add(i.normal),t[i.c].add(i.normal)}}for(let r=0,n=this.vertices.length;r<n;r++)t[r].normalize();for(let r=0,n=this.faces.length;r<n;r++){let i=this.faces[r],o=i.vertexNormals;o.length===3?(o[0].copy(t[i.a]),o[1].copy(t[i.b]),o[2].copy(t[i.c])):(o[0]=t[i.a].clone(),o[1]=t[i.b].clone(),o[2]=t[i.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeFlatVertexNormals(){this.computeFaceNormals();for(let e=0,t=this.faces.length;e<t;e++){let r=this.faces[e],n=r.vertexNormals;n.length===3?(n[0].copy(r.normal),n[1].copy(r.normal),n[2].copy(r.normal)):(n[0]=r.normal.clone(),n[1]=r.normal.clone(),n[2]=r.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)}computeMorphNormals(){for(let t=0,r=this.faces.length;t<r;t++){let n=this.faces[t];n.__originalFaceNormal?n.__originalFaceNormal.copy(n.normal):n.__originalFaceNormal=n.normal.clone(),n.__originalVertexNormals||(n.__originalVertexNormals=[]);for(let i=0,o=n.vertexNormals.length;i<o;i++)n.__originalVertexNormals[i]?n.__originalVertexNormals[i].copy(n.vertexNormals[i]):n.__originalVertexNormals[i]=n.vertexNormals[i].clone()}let e=new R_;e.faces=this.faces;for(let t=0,r=this.morphTargets.length;t<r;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];let i=this.morphNormals[t].faceNormals,o=this.morphNormals[t].vertexNormals;for(let l=0,c=this.faces.length;l<c;l++){let a=new L,s={a:new L,b:new L,c:new L};i.push(a),o.push(s)}}let n=this.morphNormals[t];e.vertices=this.morphTargets[t].vertices,e.computeFaceNormals(),e.computeVertexNormals();for(let i=0,o=this.faces.length;i<o;i++){let l=this.faces[i],c=n.faceNormals[i],a=n.vertexNormals[i];c.copy(l.normal),a.a.copy(l.vertexNormals[0]),a.b.copy(l.vertexNormals[1]),a.c.copy(l.vertexNormals[2])}}for(let t=0,r=this.faces.length;t<r;t++){let n=this.faces[t];n.normal=n.__originalFaceNormal,n.vertexNormals=n.__originalVertexNormals}}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Cn),this.boundingBox.setFromPoints(this.vertices)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Bo),this.boundingSphere.setFromPoints(this.vertices)}merge(e,t,r=0){if(!(e&&e.isGeometry)){console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",e);return}let n,i=this.vertices.length,o=this.vertices,l=e.vertices,c=this.faces,a=e.faces,s=this.colors,u=e.colors;t!==void 0&&(n=new Sn().getNormalMatrix(t));for(let d=0,h=l.length;d<h;d++){let p=l[d].clone();t!==void 0&&p.applyMatrix4(t),o.push(p)}for(let d=0,h=u.length;d<h;d++)s.push(u[d].clone());for(let d=0,h=a.length;d<h;d++){let p=a[d],m,f,g=p.vertexNormals,v=p.vertexColors,x=new jP(p.a+i,p.b+i,p.c+i);x.normal.copy(p.normal),n!==void 0&&x.normal.applyMatrix3(n).normalize();for(let y=0,b=g.length;y<b;y++)m=g[y].clone(),n!==void 0&&m.applyMatrix3(n).normalize(),x.vertexNormals.push(m);x.color.copy(p.color);for(let y=0,b=v.length;y<b;y++)f=v[y],x.vertexColors.push(f.clone());x.materialIndex=p.materialIndex+r,c.push(x)}for(let d=0,h=e.faceVertexUvs.length;d<h;d++){let p=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let m=0,f=p.length;m<f;m++){let g=p[m],v=[];for(let x=0,y=g.length;x<y;x++)v.push(g[x].clone());this.faceVertexUvs[d].push(v)}}}mergeMesh(e){if(!(e&&e.isMesh)){console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",e);return}e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix)}mergeVertices(e=4){let t={},r=[],n=[],i=Math.pow(10,e);for(let c=0,a=this.vertices.length;c<a;c++){let s=this.vertices[c],u=Math.round(s.x*i)+"_"+Math.round(s.y*i)+"_"+Math.round(s.z*i);t[u]===void 0?(t[u]=c,r.push(this.vertices[c]),n[c]=r.length-1):n[c]=n[t[u]]}let o=[];for(let c=0,a=this.faces.length;c<a;c++){let s=this.faces[c];s.a=n[s.a],s.b=n[s.b],s.c=n[s.c];let u=[s.a,s.b,s.c];for(let d=0;d<3;d++)if(u[d]===u[(d+1)%3]){o.push(c);break}}for(let c=o.length-1;c>=0;c--){let a=o[c];this.faces.splice(a,1);for(let s=0,u=this.faceVertexUvs.length;s<u;s++)this.faceVertexUvs[s].splice(a,1)}let l=this.vertices.length-r.length;return this.vertices=r,l}setFromPoints(e){this.vertices=[];for(let t=0,r=e.length;t<r;t++){let n=e[t];this.vertices.push(new L(n.x,n.y,n.z||0))}return this}sortFacesByMaterialIndex(){let e=this.faces,t=e.length;for(let c=0;c<t;c++)e[c]._id=c;function r(c,a){return c.materialIndex-a.materialIndex}e.sort(r);let n=this.faceVertexUvs[0],i=this.faceVertexUvs[1],o,l;n&&n.length===t&&(o=[]),i&&i.length===t&&(l=[]);for(let c=0;c<t;c++){let a=e[c]._id;o&&o.push(n[a]),l&&l.push(i[a])}o&&(this.faceVertexUvs[0]=o),l&&(this.faceVertexUvs[1]=l)}toJSON(){let e={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),this.parameters!==void 0){let p=this.parameters;for(let m in p)p[m]!==void 0&&(e[m]=p[m]);return e}let t=[];for(let p=0;p<this.vertices.length;p++){let m=this.vertices[p];t.push(m.x,m.y,m.z)}let r=[],n=[],i={},o=[],l={},c=[],a={};for(let p=0;p<this.faces.length;p++){let m=this.faces[p],f=!0,g=!1,v=this.faceVertexUvs[0][p]!==void 0,x=m.normal.length()>0,y=m.vertexNormals.length>0,b=m.color.r!==1||m.color.g!==1||m.color.b!==1,w=m.vertexColors.length>0,_=0;if(_=s(_,0,0),_=s(_,1,f),_=s(_,2,g),_=s(_,3,v),_=s(_,4,x),_=s(_,5,y),_=s(_,6,b),_=s(_,7,w),r.push(_),r.push(m.a,m.b,m.c),r.push(m.materialIndex),v){let S=this.faceVertexUvs[0][p];r.push(h(S[0]),h(S[1]),h(S[2]))}if(x&&r.push(u(m.normal)),y){let S=m.vertexNormals;r.push(u(S[0]),u(S[1]),u(S[2]))}if(b&&r.push(d(m.color)),w){let S=m.vertexColors;r.push(d(S[0]),d(S[1]),d(S[2]))}}function s(p,m,f){return f?p|1<<m:p&~(1<<m)}function u(p){let m=p.x.toString()+p.y.toString()+p.z.toString();return i[m]!==void 0||(i[m]=n.length/3,n.push(p.x,p.y,p.z)),i[m]}function d(p){let m=p.r.toString()+p.g.toString()+p.b.toString();return l[m]!==void 0||(l[m]=o.length,o.push(p.getHex())),l[m]}function h(p){let m=p.x.toString()+p.y.toString();return a[m]!==void 0||(a[m]=c.length/2,c.push(p.x,p.y)),a[m]}return e.data={},e.data.vertices=t,e.data.normals=n,o.length>0&&(e.data.colors=o),c.length>0&&(e.data.uvs=[c]),e.data.faces=r,e}clone(){return new R_().copy(this)}copy(e){this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=e.name;let t=e.vertices;for(let d=0,h=t.length;d<h;d++)this.vertices.push(t[d].clone());let r=e.colors;for(let d=0,h=r.length;d<h;d++)this.colors.push(r[d].clone());let n=e.faces;for(let d=0,h=n.length;d<h;d++)this.faces.push(n[d].clone());for(let d=0,h=e.faceVertexUvs.length;d<h;d++){let p=e.faceVertexUvs[d];this.faceVertexUvs[d]===void 0&&(this.faceVertexUvs[d]=[]);for(let m=0,f=p.length;m<f;m++){let g=p[m],v=[];for(let x=0,y=g.length;x<y;x++){let b=g[x];v.push(b.clone())}this.faceVertexUvs[d].push(v)}}let i=e.morphTargets;for(let d=0,h=i.length;d<h;d++){let p={};if(p.name=i[d].name,i[d].vertices!==void 0){p.vertices=[];for(let m=0,f=i[d].vertices.length;m<f;m++)p.vertices.push(i[d].vertices[m].clone())}if(i[d].normals!==void 0){p.normals=[];for(let m=0,f=i[d].normals.length;m<f;m++)p.normals.push(i[d].normals[m].clone())}this.morphTargets.push(p)}let o=e.morphNormals;for(let d=0,h=o.length;d<h;d++){let p={};if(o[d].vertexNormals!==void 0){p.vertexNormals=[];for(let m=0,f=o[d].vertexNormals.length;m<f;m++){let g=o[d].vertexNormals[m],v={};v.a=g.a.clone(),v.b=g.b.clone(),v.c=g.c.clone(),p.vertexNormals.push(v)}}if(o[d].faceNormals!==void 0){p.faceNormals=[];for(let m=0,f=o[d].faceNormals.length;m<f;m++)p.faceNormals.push(o[d].faceNormals[m].clone())}this.morphNormals.push(p)}let l=e.skinWeights;for(let d=0,h=l.length;d<h;d++)this.skinWeights.push(l[d].clone());let c=e.skinIndices;for(let d=0,h=c.length;d<h;d++)this.skinIndices.push(c[d].clone());let a=e.lineDistances;for(let d=0,h=a.length;d<h;d++)this.lineDistances.push(a[d]);let s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());let u=e.boundingSphere;return u!==null&&(this.boundingSphere=u.clone()),this.elementsNeedUpdate=e.elementsNeedUpdate,this.verticesNeedUpdate=e.verticesNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.lineDistancesNeedUpdate=e.lineDistancesNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this}toBufferGeometry(){let e=new i5e().fromGeometry(this),t=new lt,r=new Float32Array(e.vertices.length*3);if(t.setAttribute("position",Fb.call(new St(r,3),e.vertices)),e.normals.length>0){let n=new Float32Array(e.normals.length*3);t.setAttribute("normal",Fb.call(new St(n,3),e.normals))}if(e.colors.length>0){let n=new Float32Array(e.colors.length*3);t.setAttribute("color",NN.call(new St(n,3),e.colors))}if(e.uvs.length>0){let n=new Float32Array(e.uvs.length*2);t.setAttribute("uv",BN.call(new St(n,2),e.uvs))}if(e.uvs2.length>0){let n=new Float32Array(e.uvs2.length*2);t.setAttribute("uv2",BN.call(new St(n,2),e.uvs2))}t.groups=e.groups;for(let n in e.morphTargets){let i=[],o=e.morphTargets[n];for(let l=0,c=o.length;l<c;l++){let a=o[l],s=new Ze(a.data.length*3,3);s.name=a.name,i.push(Fb.call(s,a.data))}t.morphAttributes[n]=i}if(e.skinIndices.length>0){let n=new Ze(e.skinIndices.length*4,4);t.setAttribute("skinIndex",FN.call(n,e.skinIndices))}if(e.skinWeights.length>0){let n=new Ze(e.skinWeights.length*4,4);t.setAttribute("skinWeight",FN.call(n,e.skinWeights))}return e.boundingSphere!==null&&(t.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(t.boundingBox=e.boundingBox.clone()),t}computeTangents(){console.error("THREE.Geometry: .computeTangents() has been removed.")}computeLineDistances(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}applyMatrix(e){return console.warn("THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(e)}dispose(){this.dispatchEvent({type:"dispose"})}static createBufferGeometryFromObject(e){let t=new lt,r=e.geometry;if(e.isPoints||e.isLine){let n=new Ze(r.vertices.length*3,3),i=new Ze(r.colors.length*3,3);if(t.setAttribute("position",Fb.call(n,r.vertices)),t.setAttribute("color",NN.call(i,r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length){let o=new Ze(r.lineDistances.length,1);t.setAttribute("lineDistance",o5e.call(o,r.lineDistances))}r.boundingSphere!==null&&(t.boundingSphere=r.boundingSphere.clone()),r.boundingBox!==null&&(t.boundingBox=r.boundingBox.clone())}else e.isMesh&&(t=r.toBufferGeometry());return t}};R_.prototype.isGeometry=!0;var i5e=class{constructor(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}computeGroups(e){let t=[],r,n,i,o=e.faces;for(n=0;n<o.length;n++){let l=o[n];l.materialIndex!==i&&(i=l.materialIndex,r!==void 0&&(r.count=n*3-r.start,t.push(r)),r={start:n*3,materialIndex:i})}r!==void 0&&(r.count=n*3-r.start,t.push(r)),this.groups=t}fromGeometry(e){let t=e.faces,r=e.vertices,n=e.faceVertexUvs,i=n[0]&&n[0].length>0,o=n[1]&&n[1].length>0,l=e.morphTargets,c=l.length,a;if(c>0){a=[];for(let g=0;g<c;g++)a[g]={name:l[g].name,data:[]};this.morphTargets.position=a}let s=e.morphNormals,u=s.length,d;if(u>0){d=[];for(let g=0;g<u;g++)d[g]={name:s[g].name,data:[]};this.morphTargets.normal=d}let h=e.skinIndices,p=e.skinWeights,m=h.length===r.length,f=p.length===r.length;r.length>0&&t.length===0&&console.error("THREE.DirectGeometry: Faceless geometries are not supported.");for(let g=0;g<t.length;g++){let v=t[g];this.vertices.push(r[v.a],r[v.b],r[v.c]);let x=v.vertexNormals;if(x.length===3)this.normals.push(x[0],x[1],x[2]);else{let b=v.normal;this.normals.push(b,b,b)}let y=v.vertexColors;if(y.length===3)this.colors.push(y[0],y[1],y[2]);else{let b=v.color;this.colors.push(b,b,b)}if(i===!0){let b=n[0][g];b!==void 0?this.uvs.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",g),this.uvs.push(new re,new re,new re))}if(o===!0){let b=n[1][g];b!==void 0?this.uvs2.push(b[0],b[1],b[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",g),this.uvs2.push(new re,new re,new re))}for(let b=0;b<c;b++){let w=l[b].vertices;a[b].data.push(w[v.a],w[v.b],w[v.c])}for(let b=0;b<u;b++){let w=s[b].vertexNormals[g];d[b].data.push(w.a,w.b,w.c)}m&&this.skinIndices.push(h[v.a],h[v.b],h[v.c]),f&&this.skinWeights.push(p[v.a],p[v.b],p[v.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),this}},jP=class{constructor(e,t,r,n,i,o=0){this.a=e,this.b=t,this.c=r,this.normal=n&&n.isVector3?n:new L,this.vertexNormals=Array.isArray(n)?n:[],this.color=i&&i.isColor?i:new ht,this.vertexColors=Array.isArray(i)?i:[],this.materialIndex=o}clone(){return new this.constructor().copy(this)}copy(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(let t=0,r=e.vertexNormals.length;t<r;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(let t=0,r=e.vertexColors.length;t<r;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}};function o5e(e){return this.array.set(e),this}function NN(e){let t=this.array,r=0;for(let n=0,i=e.length;n<i;n++){let o=e[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",n),o=new ht),t[r++]=o.r,t[r++]=o.g,t[r++]=o.b}return this}function BN(e){let t=this.array,r=0;for(let n=0,i=e.length;n<i;n++){let o=e[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",n),o=new re),t[r++]=o.x,t[r++]=o.y}return this}function Fb(e){let t=this.array,r=0;for(let n=0,i=e.length;n<i;n++){let o=e[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",n),o=new L),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z}return this}function FN(e){let t=this.array,r=0;for(let n=0,i=e.length;n<i;n++){let o=e[n];o===void 0&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",n),o=new Ot),t[r++]=o.x,t[r++]=o.y,t[r++]=o.z,t[r++]=o.w}return this}var a5e=["a","b","c"];function s5e(e,t){switch(t){case"c":return e.c;case"b":return e.b;case"a":default:return e.a}}function DC(e,t,r){let n=Math.min(e,t),i=Math.max(e,t),o=n+"_"+i;return r.get(o)}function jC(e,t,r,n,i,o){let l=Math.min(e,t),c=Math.max(e,t),a=l+"_"+c,s;if(n.has(a))s=n.get(a);else{let u=r[l],d=r[c];s={a:u,b:d,newEdge:null,faces:[]},n.set(a,s)}s.faces.push(i),o[e].edges.push(s),o[t].edges.push(s)}function l5e(e,t,r,n){let i,o,l;for(i=0,o=e.length;i<o;i++)r[i]={edges:[]};for(i=0,o=t.length;i<o;i++)l=t[i],jC(l.a,l.b,e,n,l,r),jC(l.b,l.c,e,n,l,r),jC(l.c,l.a,e,n,l,r)}function Ub(e,t,r,n,i){e.push(new jP(t,r,n,void 0,void 0,i))}function Vp(e,t){return Math.abs(t-e)/2+Math.min(e,t)}function Vb(e,t,r,n){e.push([t.clone(),r.clone(),n.clone()])}var c5e=class{constructor(e=1){this.subdivisions=e}modify(e){e instanceof lt?e=new R_().fromBufferGeometry(e):e=e.clone(),e.mergeVertices();let t=this.subdivisions;for(;t-- >0;)this._smooth(e);return e.computeFaceNormals(),e.computeVertexNormals(),e}_smooth(e){let t=new L,r,n,i,o,l,c=e.vertices,a=e.faces,s=e.faceVertexUvs[0],u=s!==void 0&&s.length>0,d=[],h=new Map;l5e(c,a,d,h);let p=[],m,f,g,v,x,y,b;for(let Z of Array.from(h.keys())){for(f=h.get(Z),g=new L,x=3/8,y=1/8,b=f.faces.length,b!=2&&(x=.5,y=0,b!=1),g.addVectors(f.a,f.b).multiplyScalar(x),t.set(0,0,0),o=0;o<b;o++){for(v=f.faces[o],l=0;l<3&&(m=c[s5e(v,a5e[l])],!(m!==f.a&&m!==f.b));l++);m&&t.add(m)}t.multiplyScalar(y),g.add(t),f.newEdge=p.length,p.push(g)}let w,_,S,E,A,C,M,T=[];for(n=0,i=c.length;n<i;n++){for(C=c[n],A=d[n].edges,r=A.length,r==3?w=3/16:r>3&&(w=3/(8*r)),_=1-r*Number(w),S=w,r<=2&&(r==2?(_=3/4,S=1/8):r==1||r==0),M=C.clone().multiplyScalar(_),t.set(0,0,0),o=0;o<r;o++)E=A[o],m=E.a!==C?E.a:E.b,t.add(m);t.multiplyScalar(Number(S)),M.add(t),T.push(M)}let k=T.concat(p),P=T.length,D,I,O,j=[],N=[],R,F,U,B,H=new re,X=new re,G=new re;for(n=0,i=a.length;n<i;n++)v=a[n],D=Number(DC(v.a,v.b,h).newEdge)+P,I=Number(DC(v.b,v.c,h).newEdge)+P,O=Number(DC(v.c,v.a,h).newEdge)+P,Ub(j,D,I,O,v.materialIndex),Ub(j,v.a,D,O,v.materialIndex),Ub(j,v.b,I,D,v.materialIndex),Ub(j,v.c,O,I,v.materialIndex),u&&(R=s[n],F=R[0],U=R[1],B=R[2],H.set(Vp(F.x,U.x),Vp(F.y,U.y)),X.set(Vp(U.x,B.x),Vp(U.y,B.y)),G.set(Vp(F.x,B.x),Vp(F.y,B.y)),Vb(N,H,X,G),Vb(N,F,H,G),Vb(N,U,X,H),Vb(N,B,G,X));e.vertices=k,e.faces=j,u&&(e.faceVertexUvs[0]=N)}},Hn=new L,u5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=e.geometry??(t==null?void 0:t.geometry)??new lt().copy(new Cl(100,100,100)),n;t===void 0?(r.computeBoundingBox(),r.boundingBox.getSize(Hn),n={width:Hn.x,height:Hn.y,depth:Hn.z,subdivisions:0}):n=t.parameters;let i={...n,...e.parameters};return{parameters:{width:Math.abs(i.width),height:Math.abs(i.height),depth:Math.abs(i.depth),subdivisions:Math.abs(i.subdivisions)},geometry:r}}static build(e){let{width:t,height:r,depth:n,subdivisions:i}=e.parameters,o=e.geometry??new lt().copy(new Cl(100,100,100)),l=o.userData.parameters;l===void 0?(o.computeBoundingBox(),o.boundingBox.getSize(Hn)):Hn.set(l.width,l.height,l.depth),(t!==Hn.x||r!==Hn.y||n!==Hn.z)&&o.scale(Hn.x===0?1:t/Hn.x,Hn.y===0?1:r/Hn.y,Hn.z===0?1:n/Hn.z);let c=o.originalGeometry;try{i>0?(c===void 0||(l==null?void 0:l.subdivisions)!==i)&&(c===void 0&&(c=o),o=new c5e(i).modify(c).toBufferGeometry()):(c!==void 0&&(o=c),c=void 0,o.getAttribute("normal")===void 0&&o.computeVertexNormals())}catch{c!==void 0&&(o=c),c=void 0,o.getAttribute("normal")===void 0&&o.computeVertexNormals()}return c!==void 0&&Object.assign(o,{originalGeometry:c}),delete e.geometry,Object.assign(o,{userData:{...e,type:"NonParametricGeometry"}})}static loadFromUrl(e,t,r){new $q(r).load(e,n=>{let i=this.normalizeInputs({geometry:n});n.boundingBox.getSize(Hn);let o=100/Hn.x;Object.assign(i.parameters,{width:100,height:Hn.y*o,depth:Hn.z*o}),t(this.build(i))})}},F$=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters);return{shape:e.shape&&e.shape instanceof pn?e.shape:new pn,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,spikes:n,cornerRadius:i,depth:o,extrudeBevelSize:l,extrudeBevelSegments:c}=e.parameters,a=e.shape,s=t*.5,u=r*.5,d=0,h=0,p=2*Math.PI/n;for(let f=0;f<n;f++){let g=p*f,v=d+Math.sin(g)*s,x=h+Math.cos(g)*u;a.addPoint(a.createPoint(v,x))}a.isClosed=!0;for(let f=0,g=a.points.length;f<g;f++)a.points[f].roundness=i;a.roundness=i,a.update();let m=cp.create({shape:a,parameters:{roundness:i,depth:o,extrudeBevelSize:l,extrudeBevelSegments:c}});return Object.assign(m,{userData:{...e,type:"PolygonGeometry"}})}},d5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:4,heightSegments:1,cornerRadius:0,cornerSegments:8,openEnded:!1},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:n,radialSegments:i,heightSegments:o,openEnded:l,cornerRadius:c,cornerSegments:a}=e.parameters,s=new p5e(t*.5,r,i,o,l,c,a);return s.scale(1,1,n/t),Object.assign(s,{userData:{...e,type:"PyramidGeometry"}})}};function b0(e,t,r){r.x=e.x*t.x,r.y=e.y,r.z=e.x*t.y}function IC(e,t,r,n,i,o){let l=t.clone().sub(e),c=r.clone().sub(e),a=l.angleTo(c);if(l.normalize(),c.normalize(),n===i){let s=l.add(c).normalize();o.copy(e).addScaledVector(s,n/Math.sin(a/2))}else{let s=l.angleTo(c);o.copy(e),o.addScaledVector(l,i/Math.sin(s)),o.addScaledVector(c,n/Math.sin(s))}}function h5e(e,t,r){let n=e.clone().sub(t),i=r.clone().sub(t);return n.projectOnVector(i),n.add(t)}var p5e=class extends lt{constructor(e=.5,t=1,r=4,n=1,i=!1,o=0,l=4){super(),r=Math.floor(Math.max(3,r)),n=Math.floor(n),l=Math.floor(l);let c=[],a=[],s=[],u=[],d=0,h=t/2,p=Math.PI/r,m=e*Math.cos(Math.PI/r),f=2*Math.PI/r,g=(r-2)*Math.PI/r,v=Math.PI-g,x=new L(0,-h,0),y=new L(0,h,0),b=new re(e,-h),w=new re(m,-h),_=new re(0,y.y).sub(w),S=new re(0,y.y).sub(b),E=new re(_.y,-_.x).normalize(),A=new re(S.y,-S.x).normalize(),C=e*Math.cos(Math.PI/r)*Math.tan((Math.PI-_.angle())/2)-1e-8;o=Math.min(o,C);let M;{let O=new L(E.x,E.y,0),j=new L(Math.cos(f)*O.x,O.y,Math.sin(f)*O.x);M=O.angleTo(j)}let T=o/Math.tan((Math.PI-_.angle())/2),k=o/Math.tan((Math.PI-M)/2),P=new L;if(!i){a.push(x.x,x.y,x.z),s.push(0,-1,0),u.push(0,0);let O=d++,j=[],N=b.clone(),R=T/Math.cos(Math.PI/r);N.x-=R;for(let F=0;F<r;F++){let U=F/r*Math.PI*2+p,B=new re(Math.sin(U),Math.cos(U));b0(N,B,P),a.push(P.x,P.y,P.z),s.push(0,-1,0),u.push(0,0),j.push(d++)}for(let F=0;F<j.length;F++)c.push(j[F],O,j[(F+1)%j.length])}{let O=new L,j=new L,N=new L,R=new L,F=new L,U=new L;for(let B=0;B<r;B++){let H=B/r*Math.PI*2+p,X=(B+.5)/r*Math.PI*2+p,G=(B+1)/r*Math.PI*2+p,Z=new re(Math.sin(H),Math.cos(H)),J=new re(Math.sin(X),Math.cos(X)),ee=new re(Math.sin(G),Math.cos(G));b0(b,Z,j),b0(b,ee,N),b0(E,J,O),IC(y,j,N,k,k,R),a.push(R.x,R.y,R.z),IC(j,y,N,k,T,F),a.push(F.x,F.y,F.z),IC(N,j,y,T,k,U),a.push(U.x,U.y,U.z),s.push(O.x,O.y,O.z),s.push(O.x,O.y,O.z),s.push(O.x,O.y,O.z),u.push(0,0),u.push(0,0),u.push(0,0);let q=d++,Y=d++,Q=d++;if(c.push(q,Y,Q),o>0){{let de=j.clone().add(N).multiplyScalar(.5),De=y.clone().sub(de).normalize(),Me=x.clone().sub(de).normalize().add(De).normalize().multiplyScalar(-1),Ee=U.clone().sub(F);D(de,Ee,Me,_.angle())}let ie,le;{let de=new L;b0(A,ee,de);let De=U.clone().add(R).multiplyScalar(.5);De=h5e(De,N,y);let Me=U.clone().sub(R);[ie,le]=D(De,Me,de,M,R.y)}{let de=ie,De=de.clone().setY(0).normalize(),Me=new L(0,-1,0),Ee=De.clone().cross(Me);I(de,De,Me,Ee)}{let de=_.angle(),De=Math.PI-de,Me=y.clone();Me.y-=o/Math.sin(de-Math.PI/2);let Ee=new L,Te=[];for(let ze=0;ze<l;ze++){let K=[],W=Math.PI/2-De*ze/l,se=Math.cos(W),Se=Math.sin(W),te=X;for(let ce=0;ce<=ze;ce++){let we=Math.cos(te),fe=Math.sin(te);O.x=se*fe,O.y=Se,O.z=se*we,Ee.copy(Me).addScaledVector(O,o),a.push(Ee.x,Ee.y,Ee.z),s.push(O.x,O.y,O.z),u.push(0,0),K.push(d++),te+=Math.PI*2/ze/r}Te.push(K)}le.reverse(),Te.push(le);let $e=Te.length-1;for(let ze=0;ze<$e;ze++){let K=Te[ze],W=Te[ze+1],se=K.length-1;c.push(W[1],K[0],W[0]);for(let Se=1;Se<=se;Se++)c.push(K[Se],K[Se-1],W[Se]),c.push(W[Se+1],K[Se],W[Se])}}}}}this.setIndex(c),this.setAttribute("position",new Ze(a,3)),this.setAttribute("normal",new Ze(s,3)),this.setAttribute("uv",new Ze(u,2));function D(O,j,N,R,F){let U=-R/2,B=(Math.PI-R)/2,H=j.clone().normalize().cross(N);O.addScaledVector(N,-o/Math.sin(B));let X=new L,G=new L,Z=1,J=d,ee=[];for(let q=0;q<=l;q++){let Y=U+q/l*R;G.set(0,0,0),G.addScaledVector(H,Math.sin(Y)),G.addScaledVector(N,Math.cos(Y));for(let Q=0;Q<=Z;Q++){let ie=Q/Z-.5;if(X.copy(O),X.addScaledVector(j,ie),X.addScaledVector(G,o),F!=null){let le=Math.max(0,X.y-F);X.addScaledVector(j,-le/j.y)}a.push(X.x,X.y,X.z),s.push(G.x,G.y,G.z),u.push(0,0),Q===0&&ee.push(d),d++}}for(let q=0;q<l;q++)for(let Y=0;Y<Z;Y++){let Q=J+Y+(Z+1)*q,ie=Q+(Z+1),le=ie+1,de=Q+1;c.push(Q,ie,de),c.push(ie,le,de)}return[O.clone().addScaledVector(j,.5),ee]}function I(O,j,N,R){let F=Math.PI/2,U=S.angle()-F,B=[],H=new L,X=new L;for(let Z=0;Z<=l;Z++){let J=[],ee=Z/l;for(let q=0;q<=Z;q++){let Y=((Z?q/Z:0)-.5)*v,Q=Math.cos(Y),ie=Math.sin(Y),le=Math.atan(Math.tan(U)*Q),de=(F+le)*ee,De=Math.cos(de),Me=Math.sin(de);H.set(0,0,0),H.addScaledVector(j,Me*Q),H.addScaledVector(N,De),H.addScaledVector(R,Me*ie),X.copy(O).addScaledVector(H,o),a.push(X.x,X.y,X.z),s.push(H.x,H.y,H.z),u.push(0,0),J.push(d++)}B.push(J)}let G=B.length-1;for(let Z=0;Z<G;Z++){let J=B[Z],ee=B[Z+1],q=J.length-1;c.push(J[0],ee[1],ee[0]);for(let Y=1;Y<=q;Y++)c.push(J[Y-1],J[Y],ee[Y]),c.push(J[Y],ee[Y+1],ee[Y])}}}},U$=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,cornerRadius:[0,0,0,0],cornerType:1,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters),n=Object.assign((t==null?void 0:t.ui)??{enabledIndieCorners:!1},e.ui);return{shape:e.shape&&e.shape instanceof pn?e.shape:new pn,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)}),ui:n}}static build(e){let t=e.shape,{width:r,height:n,cornerRadius:i,cornerType:o,depth:l,extrudeBevelSize:c,extrudeBevelSegments:a}=e.parameters,s={x:r*.5,y:n*.5},u={x:-s.x,y:-s.y},d={x:s.x,y:s.y};function h(b,w,_){return w>r&&_>n?Math.min(b*r/w,b*n/_):w>r?b*r/w:_>n?b*n/_:b}let p=[];p[0]=i[0]===0?0:h(i[0],i[0]+i[3],i[0]+i[1]),p[1]=i[1]===0?0:h(i[1],i[1]+i[2],i[1]+i[0]),p[2]=i[2]===0?0:h(i[2],i[2]+i[1],i[2]+i[3]),p[3]=i[3]===0?0:h(i[3],i[3]+i[0],i[3]+i[2]);let m=u.x,f=d.x,g=d.y,v=u.y;t.addPoint(t.createPoint(m,g)),t.addPoint(t.createPoint(f,g)),t.addPoint(t.createPoint(f,v)),t.addPoint(t.createPoint(m,v)),t.isClosed=!0;let x=!0;for(let b=0,w=t.points.length;b<w;b++)t.points[b].roundness=p[b],b>0&&p[b]!==p[b-1]&&(x=!1);x&&(t.roundness=p[0]),t.useCubicForRoundedCorners=o!==1,t.update();let y=cp.create({shape:t,parameters:{depth:l,extrudeBevelSize:c,extrudeBevelSegments:a}});return Object.assign(y,{userData:{...e,type:"RectangleGeometry"}})}},f5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,widthSegments:64,heightSegments:64,phiStart:0,phiLength:2*Math.PI,thetaStart:0,thetaLength:180},e.parameters);return r.thetaLength=at.clamp(r.thetaLength,0,180),{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t=100,height:r=t,depth:n=t,widthSegments:i=64,heightSegments:o=64,phiStart:l,phiLength:c,thetaStart:a,thetaLength:s}=e.parameters,u;return s===0?(u=new lt,u.setAttribute("position",new Ze([],3))):u=new tD(.5*t,i,o,l,c,a,s*at.DEG2RAD),u.scale(1,r/t,n/t),Object.assign(u,{userData:{...e,type:"SphereGeometry"}})}},m5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,widthSegments:8,heightSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:0})}}static build(e){let{width:t=100,height:r=t,widthSegments:n=8,heightSegments:i=8}=e.parameters,o=new AS(t,r,n,i);return o.scale(1,1,1),Object.assign(o,{userData:{...e,type:"PlaneGeometry"}})}},g5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,angle:90,cornerRadius:24,cornerSegments:8},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width)})}}static build(e){let{width:t,height:r,depth:n,angle:i,cornerRadius:o,cornerSegments:l}=e.parameters,c=new v5e(t,r,n,i,o,l);return Object.assign(c,{userData:{...e,type:"BackdropGeometry"}})}},v5e=class extends lt{constructor(e=1,t=1,r=1,n=90,i=10,o=24){super(),this.type="BackdropGeometry";let l=[],c=[],a=[],s=.001;i==0&&(o=1),o=Math.max(1,Math.floor(o)),i=Math.min(i,100),n=Math.min(180-s,n),n*=Math.PI/180;let u=[],d=Math.PI/2,h=(Z=0,J=0,ee=0)=>new L(Z,J,ee),p=h(),m=h(),[f,g,v]=[t/2,e/2,r/2],x=-g,y=+g,[b,w,_]=[h(x,-f,+v),h(x,-f,-v),h(x,+f,-v)],S=(Z,J=!1)=>Math.sin(Z-Math.PI/(1+ +J)),E=(Z,J=!1)=>Math.cos(Z-Math.PI/(1+ +J));_.y=Math.sin(n)*t-f;let A=Math.cos(n)*t-v,C=b.z-s;n<=d?(_.z=Math.min(A,C),_.z==C&&(_.y-=(A-C)/Math.tan(d-n))):w.z=Math.min(w.z-A-v,b.z-s),p.subVectors(b,w),m.subVectors(_,w);let M=Math.min(p.length(),m.length())*i/100,T=M*Math.tan(n/2),k=M/Math.cos(n/2),P=p.clone().normalize().add(m.normalize()).setLength(k).add(w);p.set(0,S(n,!0),E(n,!0)),u.push([_,p.clone()]);let D=(Math.PI-n)/o;for(let Z=0;Z<=o;Z++){let J=d+n+Z*D;p.set(0,Math.sin(J)*T,Math.cos(J)*T),p.add(P),m.set(0,S(J),E(J)),u.push([p.clone(),m.clone()])}u.push([b,h(0,1,0)]);let I=Math.sin(D/2)*T*2,O=u.length-1,j=u[0][0].distanceTo(u[1][0]),N=u[O-1][0].distanceTo(u[O][0]),R=j+I*o+N;u[0].push(1);for(let Z=0;Z<=o;Z++)u[Z+1].push(1-(j+Z*I)/R);u[O].push(0);let[F,U,B]=u[0],H,X,G;for(let Z=1;Z<u.length;Z++)[H,X,G]=u[Z],l.push(x,F.y,F.z,x,H.y,H.z,y,F.y,F.z,y,F.y,F.z,x,H.y,H.z,y,H.y,H.z),c.push(0,U.y,U.z,0,X.y,X.z,0,U.y,U.z,0,U.y,U.z,0,X.y,X.z,0,X.y,X.z),a.push(0,B,0,G,1,B,1,B,0,G,1,G),[F,U,B]=[H,X,G];this.setAttribute("position",new Ze(l,3)),this.setAttribute("normal",new Ze(c,3)),this.setAttribute("uv",new Ze(a,2))}},V$=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,innerRadiusPercent:38.19,spikes:5,cornerRadius:0,angle:360,extrudeBevelSize:0,extrudeBevelSegments:1},e.parameters);return{shape:e.shape&&e.shape instanceof pn?e.shape:new pn,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r,innerRadiusPercent:n,spikes:i,cornerRadius:o,angle:l,depth:c,extrudeBevelSize:a,extrudeBevelSegments:s}=e.parameters,u=e.shape,d=t*.5,h=r*.5,p=0,m=0,f=l*Math.PI/360/i,g=Math.PI/2*3*-1,v=d*n/100,x=h*n/100;if(i===3&&n===50){f=2*Math.PI/i;for(let b=0;b<i;b++){let w=f*b,_=p+Math.sin(w)*d,S=m+Math.cos(w)*h;u.addPoint(u.createPoint(_,S))}}else for(let b=0;b<i;b++){let w=p+Math.cos(g)*d,_=m+Math.sin(g)*h;u.addPoint(u.createPoint(w,_)),g+=f,w=p+Math.cos(g)*v,_=m+Math.sin(g)*x,u.addPoint(u.createPoint(w,_)),g+=f}u.isClosed=!0;for(let b=0,w=u.points.length;b<w;b++)u.points[b].roundness=o;u.roundness=o,u.update();let y=cp.create({shape:u,parameters:{roundness:o,depth:c,extrudeBevelSize:a,extrudeBevelSegments:s}});return Object.assign(y,{userData:{...e,type:"StarGeometry"}})}},y5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t,height:r}=e.parameters,n=new AS(t,r);return Object.assign(n,{userData:{...e,type:"TextFrameGeometry"}})}},b5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,radialSegments:32,tubularSegments:64,arc:360,cornerRadius:30,cornerSegments:8},e.parameters),n=Math.abs(r.width),i=Math.abs(r.height??r.width),o=Math.round(Math.abs(r.depth??r.width*.25));return{parameters:Object.assign(r,{width:n,height:i,depth:o})}}static build(e){let{width:t,height:r,depth:n,radialSegments:i,tubularSegments:o,arc:l,cornerRadius:c,cornerSegments:a}=e.parameters,s=x5e(t,r,n,t*.5,l,o,0,0,i,c,a);return s.scale(1,r/t,1),Object.assign(s,{userData:{...e,type:"TorusGeometry"}})}};function x5e(e,t,r,n,i,o,l,c,a,s,u){[t,r]=[r,t],l=t/2;let d=at.clamp(i/360,0,1);if(d===0){let h=new lt;return h.setAttribute("position",new Ze([],3)),h}return d===1&&(s=0),new N$(!0,e,t,r,n,d,o,l,c,a,s,u)}var w5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,tubularSegments:64,radialSegments:32,p:2,q:3},e.parameters);return{parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width),depth:Math.abs(r.depth??r.width),tube:r.tube??r.width*.125})}}static build(e){let{width:t,tube:r,tubularSegments:n,radialSegments:i,p:o,q:l}=e.parameters,c=t*.5;c!==r&&(c-=r);let a=new Uq(c,r,n,i,o,l);return Object.assign(a,{userData:{...e,type:"TorusKnotGeometry"}})}},_5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,depth:0,spikes:5,cornerRadius:0,extrudeBevelSize:0,extrudeBevelSegments:1,isRect:!1},e.parameters);return{shape:e.shape&&e.shape instanceof pn?e.shape:new pn,parameters:Object.assign(r,{width:Math.abs(r.width),height:Math.abs(r.height??r.width*(r.isRect?1:Math.sqrt(3)/2)),depth:Math.abs(r.depth??0)})}}static build(e){let{width:t=100,height:r,cornerRadius:n,depth:i,extrudeBevelSize:o,extrudeBevelSegments:l,isRect:c}=e.parameters,a=e.shape,s=t*.5,u=r*.5;c?(a.addPoint(a.createPoint(-s,u)),a.addPoint(a.createPoint(s,-u)),a.addPoint(a.createPoint(-s,-u))):(a.addPoint(a.createPoint(0,u)),a.addPoint(a.createPoint(s,-u)),a.addPoint(a.createPoint(-s,-u))),a.isClosed=!0;for(let h=0,p=a.points.length;h<p;h++)a.points[h].roundness=n;a.roundness=n,a.update();let d=cp.create({shape:a,parameters:{roundness:n,depth:i,extrudeBevelSize:o,extrudeBevelSegments:l}});return Object.assign(d,{userData:{...e,type:"TriangleGeometry"}})}};function S5e(e,t){let r=2*Math.PI;return(e%r+r)%r===(t%r+r)%r}var E5e=class{add(e,t,r){if(typeof arguments[0]!="string")for(let n in arguments[0])this.add(n,arguments[0][n],arguments[1]);else(Array.isArray(e)?e:[e]).forEach(function(n){this[n]=this[n]||[],t&&this[n][r?"unshift":"push"](t)},this)}run(e,t){this[e]=this[e]||[],this[e].forEach(function(r){r.call(t&&t.context?t.context:t,t)})}},C5e=class{constructor(e){this.jsep=e,this.registered={}}register(...e){e.forEach(t=>{if(typeof t!="object"||!t.name||!t.init)throw new Error("Invalid JSEP plugin format");this.registered[t.name]||(t.init(this.jsep),this.registered[t.name]=t)})}},_e=class{static get version(){return"1.3.8"}static toString(){return"JavaScript Expression Parser (JSEP) v"+_e.version}static addUnaryOp(e){return _e.max_unop_len=Math.max(e.length,_e.max_unop_len),_e.unary_ops[e]=1,_e}static addBinaryOp(e,t,r){return _e.max_binop_len=Math.max(e.length,_e.max_binop_len),_e.binary_ops[e]=t,r?_e.right_associative.add(e):_e.right_associative.delete(e),_e}static addIdentifierChar(e){return _e.additional_identifier_chars.add(e),_e}static addLiteral(e,t){return _e.literals[e]=t,_e}static removeUnaryOp(e){return delete _e.unary_ops[e],e.length===_e.max_unop_len&&(_e.max_unop_len=_e.getMaxKeyLen(_e.unary_ops)),_e}static removeAllUnaryOps(){return _e.unary_ops={},_e.max_unop_len=0,_e}static removeIdentifierChar(e){return _e.additional_identifier_chars.delete(e),_e}static removeBinaryOp(e){return delete _e.binary_ops[e],e.length===_e.max_binop_len&&(_e.max_binop_len=_e.getMaxKeyLen(_e.binary_ops)),_e.right_associative.delete(e),_e}static removeAllBinaryOps(){return _e.binary_ops={},_e.max_binop_len=0,_e}static removeLiteral(e){return delete _e.literals[e],_e}static removeAllLiterals(){return _e.literals={},_e}get char(){return this.expr.charAt(this.index)}get code(){return this.expr.charCodeAt(this.index)}constructor(e){this.expr=e,this.index=0}static parse(e){return new _e(e).parse()}static getMaxKeyLen(e){return Math.max(0,...Object.keys(e).map(t=>t.length))}static isDecimalDigit(e){return e>=48&&e<=57}static binaryPrecedence(e){return _e.binary_ops[e]||0}static isIdentifierStart(e){return e>=65&&e<=90||e>=97&&e<=122||e>=128&&!_e.binary_ops[String.fromCharCode(e)]||_e.additional_identifier_chars.has(String.fromCharCode(e))}static isIdentifierPart(e){return _e.isIdentifierStart(e)||_e.isDecimalDigit(e)}throwError(e){let t=new Error(e+" at character "+this.index);throw t.index=this.index,t.description=e,t}runHook(e,t){if(_e.hooks[e]){let r={context:this,node:t};return _e.hooks.run(e,r),r.node}return t}searchHook(e){if(_e.hooks[e]){let t={context:this};return _e.hooks[e].find(function(r){return r.call(t.context,t),t.node}),t.node}}gobbleSpaces(){let e=this.code;for(;e===_e.SPACE_CODE||e===_e.TAB_CODE||e===_e.LF_CODE||e===_e.CR_CODE;)e=this.expr.charCodeAt(++this.index);this.runHook("gobble-spaces")}parse(){this.runHook("before-all");let e=this.gobbleExpressions(),t=e.length===1?e[0]:{type:_e.COMPOUND,body:e};return this.runHook("after-all",t)}gobbleExpressions(e){let t=[],r,n;for(;this.index<this.expr.length;)if(r=this.code,r===_e.SEMCOL_CODE||r===_e.COMMA_CODE)this.index++;else if(n=this.gobbleExpression())t.push(n);else if(this.index<this.expr.length){if(r===e)break;this.throwError('Unexpected "'+this.char+'"')}return t}gobbleExpression(){let e=this.searchHook("gobble-expression")||this.gobbleBinaryExpression();return this.gobbleSpaces(),this.runHook("after-expression",e)}gobbleBinaryOp(){this.gobbleSpaces();let e=this.expr.substr(this.index,_e.max_binop_len),t=e.length;for(;t>0;){if(_e.binary_ops.hasOwnProperty(e)&&(!_e.isIdentifierStart(this.code)||this.index+e.length<this.expr.length&&!_e.isIdentifierPart(this.expr.charCodeAt(this.index+e.length))))return this.index+=t,e;e=e.substr(0,--t)}return!1}gobbleBinaryExpression(){let e,t,r,n,i,o,l,c,a;if(o=this.gobbleToken(),!o||(t=this.gobbleBinaryOp(),!t))return o;for(i={value:t,prec:_e.binaryPrecedence(t),right_a:_e.right_associative.has(t)},l=this.gobbleToken(),l||this.throwError("Expected expression after "+t),n=[o,i,l];t=this.gobbleBinaryOp();){if(r=_e.binaryPrecedence(t),r===0){this.index-=t.length;break}i={value:t,prec:r,right_a:_e.right_associative.has(t)},a=t;let s=u=>i.right_a&&u.right_a?r>u.prec:r<=u.prec;for(;n.length>2&&s(n[n.length-2]);)l=n.pop(),t=n.pop().value,o=n.pop(),e={type:_e.BINARY_EXP,operator:t,left:o,right:l},n.push(e);e=this.gobbleToken(),e||this.throwError("Expected expression after "+a),n.push(i,e)}for(c=n.length-1,e=n[c];c>1;)e={type:_e.BINARY_EXP,operator:n[c-1].value,left:n[c-2],right:e},c-=2;return e}gobbleToken(){let e,t,r,n;if(this.gobbleSpaces(),n=this.searchHook("gobble-token"),n)return this.runHook("after-token",n);if(e=this.code,_e.isDecimalDigit(e)||e===_e.PERIOD_CODE)return this.gobbleNumericLiteral();if(e===_e.SQUOTE_CODE||e===_e.DQUOTE_CODE)n=this.gobbleStringLiteral();else if(e===_e.OBRACK_CODE)n=this.gobbleArray();else{for(t=this.expr.substr(this.index,_e.max_unop_len),r=t.length;r>0;){if(_e.unary_ops.hasOwnProperty(t)&&(!_e.isIdentifierStart(this.code)||this.index+t.length<this.expr.length&&!_e.isIdentifierPart(this.expr.charCodeAt(this.index+t.length)))){this.index+=r;let i=this.gobbleToken();return i||this.throwError("missing unaryOp argument"),this.runHook("after-token",{type:_e.UNARY_EXP,operator:t,argument:i,prefix:!0})}t=t.substr(0,--r)}_e.isIdentifierStart(e)?(n=this.gobbleIdentifier(),_e.literals.hasOwnProperty(n.name)?n={type:_e.LITERAL,value:_e.literals[n.name],raw:n.name}:n.name===_e.this_str&&(n={type:_e.THIS_EXP})):e===_e.OPAREN_CODE&&(n=this.gobbleGroup())}return n?(n=this.gobbleTokenProperty(n),this.runHook("after-token",n)):this.runHook("after-token",!1)}gobbleTokenProperty(e){this.gobbleSpaces();let t=this.code;for(;t===_e.PERIOD_CODE||t===_e.OBRACK_CODE||t===_e.OPAREN_CODE||t===_e.QUMARK_CODE;){let r;if(t===_e.QUMARK_CODE){if(this.expr.charCodeAt(this.index+1)!==_e.PERIOD_CODE)break;r=!0,this.index+=2,this.gobbleSpaces(),t=this.code}this.index++,t===_e.OBRACK_CODE?(e={type:_e.MEMBER_EXP,computed:!0,object:e,property:this.gobbleExpression()},this.gobbleSpaces(),t=this.code,t!==_e.CBRACK_CODE&&this.throwError("Unclosed ["),this.index++):t===_e.OPAREN_CODE?e={type:_e.CALL_EXP,arguments:this.gobbleArguments(_e.CPAREN_CODE),callee:e}:(t===_e.PERIOD_CODE||r)&&(r&&this.index--,this.gobbleSpaces(),e={type:_e.MEMBER_EXP,computed:!1,object:e,property:this.gobbleIdentifier()}),r&&(e.optional=!0),this.gobbleSpaces(),t=this.code}return e}gobbleNumericLiteral(){let e="",t,r;for(;_e.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(this.code===_e.PERIOD_CODE)for(e+=this.expr.charAt(this.index++);_e.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);if(t=this.char,t==="e"||t==="E"){for(e+=this.expr.charAt(this.index++),t=this.char,(t==="+"||t==="-")&&(e+=this.expr.charAt(this.index++));_e.isDecimalDigit(this.code);)e+=this.expr.charAt(this.index++);_e.isDecimalDigit(this.expr.charCodeAt(this.index-1))||this.throwError("Expected exponent ("+e+this.char+")")}return r=this.code,_e.isIdentifierStart(r)?this.throwError("Variable names cannot start with a number ("+e+this.char+")"):(r===_e.PERIOD_CODE||e.length===1&&e.charCodeAt(0)===_e.PERIOD_CODE)&&this.throwError("Unexpected period"),{type:_e.LITERAL,value:parseFloat(e),raw:e}}gobbleStringLiteral(){let e="",t=this.index,r=this.expr.charAt(this.index++),n=!1;for(;this.index<this.expr.length;){let i=this.expr.charAt(this.index++);if(i===r){n=!0;break}else if(i==="\\")switch(i=this.expr.charAt(this.index++),i){case"n":e+=`
`;break;case"r":e+="\r";break;case"t":e+="	";break;case"b":e+="\b";break;case"f":e+="\f";break;case"v":e+="\v";break;default:e+=i}else e+=i}return n||this.throwError('Unclosed quote after "'+e+'"'),{type:_e.LITERAL,value:e,raw:this.expr.substring(t,this.index)}}gobbleIdentifier(){let e=this.code,t=this.index;for(_e.isIdentifierStart(e)?this.index++:this.throwError("Unexpected "+this.char);this.index<this.expr.length&&(e=this.code,_e.isIdentifierPart(e));)this.index++;return{type:_e.IDENTIFIER,name:this.expr.slice(t,this.index)}}gobbleArguments(e){let t=[],r=!1,n=0;for(;this.index<this.expr.length;){this.gobbleSpaces();let i=this.code;if(i===e){r=!0,this.index++,e===_e.CPAREN_CODE&&n&&n>=t.length&&this.throwError("Unexpected token "+String.fromCharCode(e));break}else if(i===_e.COMMA_CODE){if(this.index++,n++,n!==t.length){if(e===_e.CPAREN_CODE)this.throwError("Unexpected token ,");else if(e===_e.CBRACK_CODE)for(let o=t.length;o<n;o++)t.push(null)}}else if(t.length!==n&&n!==0)this.throwError("Expected comma");else{let o=this.gobbleExpression();(!o||o.type===_e.COMPOUND)&&this.throwError("Expected comma"),t.push(o)}}return r||this.throwError("Expected "+String.fromCharCode(e)),t}gobbleGroup(){this.index++;let e=this.gobbleExpressions(_e.CPAREN_CODE);if(this.code===_e.CPAREN_CODE)return this.index++,e.length===1?e[0]:e.length?{type:_e.SEQUENCE_EXP,expressions:e}:!1;this.throwError("Unclosed (")}gobbleArray(){return this.index++,{type:_e.ARRAY_EXP,elements:this.gobbleArguments(_e.CBRACK_CODE)}}},A5e=new E5e;Object.assign(_e,{hooks:A5e,plugins:new C5e(_e),COMPOUND:"Compound",SEQUENCE_EXP:"SequenceExpression",IDENTIFIER:"Identifier",MEMBER_EXP:"MemberExpression",LITERAL:"Literal",THIS_EXP:"ThisExpression",CALL_EXP:"CallExpression",UNARY_EXP:"UnaryExpression",BINARY_EXP:"BinaryExpression",ARRAY_EXP:"ArrayExpression",TAB_CODE:9,LF_CODE:10,CR_CODE:13,SPACE_CODE:32,PERIOD_CODE:46,COMMA_CODE:44,SQUOTE_CODE:39,DQUOTE_CODE:34,OPAREN_CODE:40,CPAREN_CODE:41,OBRACK_CODE:91,CBRACK_CODE:93,QUMARK_CODE:63,SEMCOL_CODE:59,COLON_CODE:58,unary_ops:{"-":1,"!":1,"~":1,"+":1},binary_ops:{"||":1,"&&":2,"|":3,"^":4,"&":5,"==":6,"!=":6,"===":6,"!==":6,"<":7,">":7,"<=":7,">=":7,"<<":8,">>":8,">>>":8,"+":9,"-":9,"*":10,"/":10,"%":10},right_associative:new Set,additional_identifier_chars:new Set(["$","_"]),literals:{true:!0,false:!1,null:null},this_str:"this"});_e.max_unop_len=_e.getMaxKeyLen(_e.unary_ops);_e.max_binop_len=_e.getMaxKeyLen(_e.binary_ops);var eg=e=>new _e(e).parse(),M5e=Object.getOwnPropertyNames(_e);M5e.forEach(e=>{eg[e]===void 0&&e!=="prototype"&&(eg[e]=_e[e])});eg.Jsep=_e;var T5e="ConditionalExpression",P5e={name:"ternary",init(e){e.hooks.add("after-expression",function(t){if(t.node&&this.code===e.QUMARK_CODE){this.index++;let r=t.node,n=this.gobbleExpression();if(n||this.throwError("Expected expression"),this.gobbleSpaces(),this.code===e.COLON_CODE){this.index++;let i=this.gobbleExpression();if(i||this.throwError("Expected expression"),t.node={type:T5e,test:r,consequent:n,alternate:i},r.operator&&e.binary_ops[r.operator]<=.9){let o=r;for(;o.right.operator&&e.binary_ops[o.right.operator]<=.9;)o=o.right;t.node.test=o.right,o.right=t.node,t.node=r}}else this.throwError("Expected :")}})}};eg.plugins.register(P5e);var k5e=["+","-","*","/","(",")","==","!=",">","<",">=","<=","and","or","!","%","^",","],D5e=["0","1","2","3","4","5","6","7","8","9","."],j5e=["sin","cos","tan","asin","acos","atan","atan2","sqrt","abs","log","exp","floor","ceil","round","min","max","random"];function I5e(e){return typeof e!="string"?!1:!isNaN(e)&&!isNaN(parseFloat(e))}eg.addBinaryOp("^",11,!0);function H$(e,t,r="number"){let n="";for(let l=0;l<e.length;l++){let c=e[l];if("id"in c){let a=e[l-1];if(l>0&&"id"in a){console.error("Two variables in a row",e);return}let s=t.getVariable(c.id),u=ra.getDisplayedValue(s);r==="number"&&ra.isTextValue(s)&&Array.isArray(s.textValue)&&s.textValue.length===1?u=parseFloat(u).toString():r==="boolean"&&ra.isBoolean(s)?u=s?"true":"false":r==="boolean"&&ra.isTextValue(s)&&!Array.isArray(s.textValue)&&(u='"'+u+'"'),n+=u;continue}else if(r==="string"){c.name!=='"'&&c.name!=="+"&&(n+=c.name),c.name==="+"&&n[n.length-1]==="\\"&&(n=n.slice(0,-1)+c.name);continue}if(c.name==="and"){n+="&&";continue}if(c.name==="or"){n+="||";continue}if(c.name==="True"){n+="true";continue}if(c.name==="False"){n+="false";continue}if(r==="boolean"&&!I5e(c.name)&&!D5e.includes(c.name)&&!k5e.includes(c.name)&&!j5e.includes(c.name.replace(/\($/g,""))){n+='"'+c.name+'"';continue}n+=c.name}if(r==="string")return n;if(e.length===0){if(r==="number")return 0;if(r==="boolean")return!1}let i;try{i=eg(n)}catch(l){console.error(n,l);return}let o;try{o=or(i)}catch(l){console.error(n,i,l)}return o}function or(e){switch(e.type){case"BinaryExpression":switch(e.operator){case"==":return+(or(e.left)===or(e.right));case"!=":return+(or(e.left)!==or(e.right));case">":return+(or(e.left)>or(e.right));case">=":return+(or(e.left)>=or(e.right));case"<":return+(or(e.left)<or(e.right));case"<=":return+(or(e.left)<=or(e.right));case"+":return or(e.left)+or(e.right);case"-":return or(e.left)-or(e.right);case"*":return or(e.left)*or(e.right);case"/":return or(e.left)/or(e.right);case"%":return or(e.left)%or(e.right);case"&&":return or(e.left)&&or(e.right);case"||":return or(e.left)||or(e.right);case"^":return Math.pow(or(e.left),or(e.right));default:throw new Error("Unknown operator: "+e.operator)}case"UnaryExpression":switch(e.operator){case"-":return-or(e.argument);case"!":return+!or(e.argument);default:throw new Error("Unknown operator: "+e.operator)}case"Identifier":throw new Error("Unknown identifier: "+e.name);case"Literal":return e.value;case"CallExpression":if(e.callee.type==="Identifier"){if(e.callee.name==="random"){let t=0,r=1;if(e.arguments.length>=1)try{t=or(e.arguments[0])}catch(n){console.warn(n)}if(e.arguments.length>=2)try{r=or(e.arguments[1])}catch(n){console.warn(n)}return t=Math.min(r,t),r=Math.max(r,t),t+Math.random()*(r-t)}return Math[e.callee.name].apply(null,e.arguments.map(or))}else throw new Error("Unknown node");default:throw new Error("Unknown node type: "+e.type)}}var O5e=new Re,R5e=new Re;function z5e(e,t,r){let n=[new L,new L,new L],i=[new L,new L,new L];return e.extractBasis(n[0],n[1],n[2]),t.extractBasis(i[0],i[1],i[2]),n.forEach((o,l)=>{let c=i[l],a=at.lerp(o.length(),c.length(),r);o.lerp(c,r).setLength(a)}),new Re().makeBasis(n[0],n[1],n[2])}var L5e=class{static create(e){return this.build(this.normalizeInputs(e))}static normalizeInputs(e,t){let r=Object.assign({},(t==null?void 0:t.parameters)??{width:100,height:100,depth:1,subdivisions:12,roundness:0,extrudeBevelSize:0,extrudeBevelSegments:3},e.parameters),n=Math.abs(r.width),i=Math.abs(r.height??r.width),o=Math.abs(r.depth??0),l=(t==null?void 0:t.shapeData)??VD.create({parameters:h$}).userData.shape;return{path:e.path??E_.defaultData(),parameters:Object.assign(r,{width:n,height:i,depth:o,extrusion:{...p$,...r.extrusion}}),shapeData:l}}static build(e){if(e.path.points.length>=2){let t=new N5e(e);return Object.assign(t,{userData:{...e,type:"PathGeometry"}})}else return Object.assign(new lt,{userData:{...e,type:"PathGeometry"}})}},N5e=class extends lt{constructor(e){super(),this.type="PathExtrusionGeometry",this.inputs=e,this.build()}_isGeometryClosed(){return this.inputs.path.isClosed&&this.inputs.parameters.extrusion.depth===1}_isOpenEnded(){let e=this.inputs.parameters.extrusion;return!(this.inputs.path.isClosed&&e.depth===1)||!S5e(e.twist,0)||e.startScale!==e.endScale}build(){let e=this._extractPathPoints();if(e.length<2)return;let t=this._computeBasisMatrices(e),{depth:r,offset:n}=this.inputs.parameters.extrusion;r=Math.max(0,Math.min(r,1)),n=Math.max(0,Math.min(n,1));let i=this.inputs.path.isClosed?e.length:e.length-1,o=Math.floor(n*i),l=this.inputs.path.isClosed?Math.ceil((r+n)*i):Math.ceil(Math.min(1,r+n)*i),c=Math.min(Math.max(2,l-o+1),i+2),a=[],s=[];for(let O=0;O<c;O++){let j=this.inputs.path.isClosed?(O+o)%e.length:Math.min(O+o,e.length-1);a.push(e[j].clone()),s.push(t[j].clone())}let u=(O,j,N)=>{a[O]=a[O].clone().lerp(a[j],N),s[O]=z5e(s[O],s[j],N)},d=0,h=n*i%1;(!this.inputs.path.isClosed||r<=1)&&(h||n===0)&&(d=h,u(0,1,d));let p=0,m=(n+r)*i%1;if((this.inputs.path.isClosed&&r<=1||!this.inputs.path.isClosed&&n+r<1)&&m&&(p=m,u(a.length-1,a.length-2,1-p)),r===0){let O=a.length-1;a[O].copy(a[0]),s[O].copy(s[0])}this._applyPathModifiers(s,d,p);let{bevel:f,bevelSides:g}=this.inputs.parameters.extrusion,v=f>0?this.inputs.parameters.extrusion.capType:"flat",x=5;this.inputs.parameters.extrusion.shape.type==="Custom"&&(x=this.inputs.parameters.extrusion.shape.shapeQuality==="low"?5:12);let{regions:y,infos:b,vertices:w}=this._computeShapePoints(x),_=0,S;v==="round"&&(S=new UD(this.inputs.shapeData,2*f,f,x,g,void 0,!0),_=S.getAttribute("position").count);let E=0,A=0;b.sort((O,j)=>O.start-j.start),b.forEach(O=>{O.verticesStart=E,O.verticesCount=O.continuous.reduce((j,N,R)=>j+(R===0||!N?2:1),0),A+=O.verticesCount,E=A});let C=A*c,M,T=0;if(this._isOpenEnded()&&v==="flat"){try{M=Ou({windingRule:yr.ODD,elementType:Nn.POLYGONS,polySize:3,vertexSize:2,strict:!0,contours:y})}catch{M=D$}T=M.vertexCount}let k=C+2*T+_*2,P=C+2*T,D={positions:new Float32Array(k*3),normals:new Float32Array(k*3),uvs:new Float32Array(k*2)},I=[];if(b.forEach(O=>{this._extrudeRegion(O,w,s,a,D,I,this._isGeometryClosed()&&!this._isOpenEnded())}),M&&(this._closeEnd(M,C,I,D,s[0],a[0],!1),this._closeEnd(M,C+T,I,D,s[s.length-1],a[a.length-1],!0)),S){D.positions.set(S.getAttribute("position").array,P*3),D.normals.set(S.getAttribute("normal").array,P*3),D.uvs.set(S.getAttribute("uv").array,P*2);let O=I.length;I.push(...S.getIndex().array.map(R=>R+P)),P+=_,D.positions.set(S.getAttribute("position").array,P*3),D.normals.set(S.getAttribute("normal").array,P*3),D.uvs.set(S.getAttribute("uv").array,P*2);let j=I.length;I.push(...S.getIndex().array.map(R=>R+P)),this.setAttribute("position",new St(D.positions,3)),this.setAttribute("normal",new St(D.normals,3)),this.setAttribute("uv",new St(D.uvs,2)),this.setIndex(I);let N=O5e;N.copy(s[s.length-1]).setPosition(a[a.length-1]),this.applyMatrix4OnRange(N,P,k),N.copy(s[0]).setPosition(a[0]).multiply(R5e.makeScale(1,1,-1)),this.applyMatrix4OnRange(N,P-_,P),this.reverseIndicesOnRange(O,j)}else this.setAttribute("position",new St(D.positions,3)),this.setAttribute("normal",new St(D.normals,3)),this.setAttribute("uv",new St(D.uvs,2)),this.setIndex(I)}_extractPathPoints(){let e=_$(this.inputs.path).getPoints(this.inputs.path.subdivisions);if(e.length<2)return[];let t=[e[0]];return e.forEach(r=>{t[t.length-1].distanceToSquared(r)>.001&&t.push(r)}),this.inputs.path.isClosed&&t[t.length-1].distanceTo(t[0])<.001&&t.pop(),t}_computeBasisMatrices(e){let t=[],r=e.length,n=this.inputs.path.isClosed,i=new L,o=new L,l=new L,c=new L,a=new L(0,1,0);for(let m=0;m<r;m++){let f=e[m],g;m===0?g=n?e[e.length-2]:f.clone().multiplyScalar(2).sub(e[1]):g=e[m-1];let v;m===r-1?v=n?e[1]:f.clone().multiplyScalar(2).sub(e[m-1]):v=e[m+1];let x=f.clone().sub(g).normalize(),y=v.clone().sub(f).normalize(),b=x.clone().add(y).normalize();l.copy(b),m===0&&(b.equals(a)||b.clone().negate().equals(a))&&a.set(0,0,1);let w=a.clone().cross(b).normalize(),_=b.clone().cross(w).normalize();a.copy(_),c.copy(w),m===0&&(i.copy(_),o.copy(b));let S=new Re().makeBasis(w,_,b);t.push(S)}let s=n?o:l,u=n?i:new L(0,1,0),d=s.clone().cross(c).normalize(),h=Math.acos(u.dot(d));if(isNaN(h))return t;let p=u.clone().cross(d);s.dot(p)>0&&(h*=-1);for(let m=1;m<t.length;m++){let f=new Re().makeRotationZ(h*m/t.length);t[m].multiply(f)}return t}_applyPathModifiers(e,t,r){let n=e.length,{angle:i,twist:o,startScale:l,endScale:c}=this.inputs.parameters.extrusion,a=new Re,s=new Re;return e.forEach((u,d)=>{let h=d===0?0:d===n-1?1:(d-t)/(n-(r===0?0:1)-(t+(1-r)));a.makeRotationZ(at.lerp(i,i+o,h)*at.DEG2RAD);let p=at.lerp(l,c,h);s.makeScale(p,p,p),u.multiply(a).multiply(s)}),e}_computeShapePoints(e=12,t=yr.ODD){let r=this.inputs.shapeData,n=r.extractShapePointsToFlatArray([],e),i=r.shapeHoles.map(s=>{let u=s.extractShapePointsToFlatArray([],e),d=[];for(let h=u.length-1;h>=1;h-=2){let p=u[h-1],m=u[h-0];d.push(p,m)}return d}),o;try{o=Ou({windingRule:t,elementType:Nn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[n]})}catch{o=FD}let l;try{l=Ou({windingRule:yr.ODD,elementType:Nn.BOUNDARY_CONTOURS,vertexSize:2,strict:!0,contours:[...i]})}catch{l=k$}if(!o)throw new Error("error generating geometry");let c=o.elementCount;if(l){o.elementCount+=l.elementCount;for(let s=0;s<l.elements.length;s++){let u=l.elements[s],d=s%2===0?o.vertexCount:0;o.elements.push(u+d)}for(let s=0;s<l.vertexIndices.length;s++){let u=l.vertexIndices[s],d=o.vertexCount;o.vertexIndices.push(u+d)}for(let s=0;s<l.vertices.length;s++){let u=l.vertices[s];o.vertices.push(u)}}for(let s=0,u=o.vertexCount;s<u;s++){let d=s*2;o.vertices[d+0],o.vertices[d+1]}let a=[];for(let s=o.elementCount-1;s>=0;s--){let u=s>=c,d=s*2,h=o.elements[d+0],p=o.elements[d+1],m=h+p,f={start:h,count:p,normals:[],isHole:u,continuous:[],verticesStart:0,verticesCount:0};a.push(f);let g=h,v=m-1,x=h+1,y=r.roundedCurves.length;do{let b=g-h;o.vertices[v*2+0],o.vertices[v*2+1];let w=o.vertices[g*2+0],_=o.vertices[g*2+1],S=o.vertices[x*2+0],E=o.vertices[x*2+1],A=w-S,C=_-E,M=Math.sqrt(A*A+C*C);A/=M,C/=M,f.normals[b*2+0]=-C,f.normals[b*2+1]=A;let T=o.vertexIndices[g];if(Array.isArray(T))f.continuous[b]=!1;else{let[k,P]=r.getCurveIndexFromVertexId(T-1,!0);if(P>0&&P<1)f.continuous[b]=!0;else{let D=P===1?k+1:k-1;D=(D+y)%y;let I=P===1?0:1,O=r.roundedCurves[k].getTangent(P),j=r.roundedCurves[D].getTangent(I);f.continuous[b]=O.dot(j)>.95}}u&&(f.normals[b*2+0]*=-1,f.normals[b*2+1]*=-1),[v,g,x]=[g,x,x+1],x>=m&&(x-=p)}while(x!==h+1)}return{regions:[n,...i],infos:a,vertices:o.vertices}}_insertVertex(e,t,r,n,i){let o=t*2,l=t*3;e.positions[l+0]=r.x,e.positions[l+1]=r.y,e.positions[l+2]=r.z,e.normals[l+0]=n.x,e.normals[l+1]=n.y,e.normals[l+2]=n.z,e.uvs[o+0]=i.x,e.uvs[o+1]=i.y}_extrudeRegion(e,t,r,n,i,o,l){let c=new L,a=new L,s=new L,u=new L,d=new re;r.forEach((p,m)=>{let f=n[m],g=e.verticesStart*r.length+e.verticesCount*m;for(let v=0;v<e.count;v++){let x=(e.start+v)*2;if(c.set(t[x+0],t[x+1],0),s.copy(c).applyMatrix4(p).add(f),e.continuous[v])u.set(e.normals[v*2+0],e.normals[v*2+1],0);else{let y=v===0?(e.start+e.count-1)*2:x-2;a.set(t[y+0],t[y+1],0),u.copy(c).sub(a),u.set(-u.y,u.x,0),e.isHole||u.negate()}if(u.applyMatrix4(p).normalize(),d.set(v===0?1:v/e.count,m/(r.length-1)),this._insertVertex(i,g,s,u,d),g++,!e.continuous[v]||v===0){if(v===0)u.set(e.normals[v*2+0],e.normals[v*2+1],0),d.set(0,m/(r.length-1));else{let y=v===e.count-1?e.start*2:x+2;a.set(t[y+0],t[y+1],0),u.copy(a).sub(c),u.set(-u.y,u.x,0),e.isHole||u.negate()}u.applyMatrix4(p).normalize(),this._insertVertex(i,g,s,u,d),g++}}});let h=r.length-1;for(let p=0;p<h;p++){let m=e.verticesStart*r.length+e.verticesCount*p,f=e.verticesStart*r.length+e.verticesCount*(p+1),g=0;for(let v=0;v<e.count;v++){(!e.continuous[v]||v===0)&&g++;let x=v===e.count-1?0:g+1,y=m+g,b=m+x,w=f+x,_=f+g;e.isHole?o.push(y,w,b,y,_,w):o.push(y,b,w,y,w,_),g++}}}_closeEnd(e,t,r,n,i,o,l){let c=e.vertexCount,a=new L(0,0,l?-1:1).applyMatrix4(i),s=new L,u=new re;for(let h=0;h<c;h++){let p=2*h;s.set(e.vertices[p+0],e.vertices[p+1],0).applyMatrix4(i).add(o),this._insertVertex(n,t+h,s,a,u)}let d=e.elements;for(let h=0;h<e.elementCount;h++){let p=3*h,m=d[p+0]+t,f=d[p+(l?1:2)]+t,g=d[p+(l?2:1)]+t;r.push(m,f,g)}}applyMatrix4OnRange(e,t,r){let n=e.elements,i=new Sn().getNormalMatrix(e).elements,o,l,c,a,s=this.attributes.position,u=this.attributes.normal;if(!s||!u)return;let d=s.array,h=u.array,p=s.itemSize;for(let m=t*p,f=r*p;m<f;m+=p){if(m===t)debugger;o=d[m+0],l=d[m+1],c=d[m+2],a=1/(n[3]*o+n[7]*l+n[11]*c+n[15]),d[m+0]=(n[0]*o+n[4]*l+n[8]*c+n[12])*a,d[m+1]=(n[1]*o+n[5]*l+n[9]*c+n[13])*a,d[m+2]=(n[2]*o+n[6]*l+n[10]*c+n[14])*a,o=h[m+0],l=h[m+1],c=h[m+2],h[m+0]=i[0]*o+i[3]*l+i[6]*c,h[m+1]=i[1]*o+i[4]*l+i[7]*c,h[m+2]=i[2]*o+i[5]*l+i[8]*c}s.needsUpdate=!0,u.needsUpdate=!0}reverseIndicesOnRange(e,t){let r=this.index;if(r){for(let n=e;n<t;n+=3){let i=r.getX(n),o=r.getX(n+1),l=r.getX(n+2);r.setXYZ(n,l,o,i)}r.needsUpdate=!0}}};function W$(){let e=new lt;return e.setAttribute("position",new St(new Float32Array([]),3)),e.setIndex(new St(new Uint16Array([]),1)),e}var B5e=W$().attributes,F5e=12,U5e=1,G$=class extends lt{constructor(e,t){super(),this.charWidths=[],this.charCoords=[],this.wrappedText=[],this.isLowResolution=!1,this.vectorShapes=[],Object.assign(this.attributes,B5e),this.userData={parameters:e,type:"TextGeometry"};let r=t.getFont(e.font);r!=null&&r.isLoaded?(this.font=r,this.update(e)):this.updateFont(e.font,t).then(()=>{this.update(e),t==null||t.requestRender()})}async updateFont(e,t){let r=t.getFont(e);r&&(this.font=r,await r.loadingPromise)}update(e){let t=this.font;if(this.userData={parameters:e,type:"TextGeometry"},!(t!=null&&t.isLoaded)){console.warn("Cannot update text because its font is not loaded");return}let{width:r,height:n,depth:i,extrudeBevelSize:o,extrudeBevelSegments:l,text:c,textTransform:a}=e,s=ra.getDisplayedValue(c),u=a===2?s.toUpperCase():a===3?s.toLowerCase():s,d=V5e(e,t,u),{shapes:h,charWidths:p,charCoords:m}=t.generateShapes(d,e),f=(typeof r=="number"?r:1)*.5,g=(typeof n=="number"?n:1)*.5,v=h.map(b=>new pn().fromShape(b,!0));this.vectorShapes=v;let x=v.map(b=>cp.create({shape:b,parameters:{depth:i,extrudeBevelSegments:l,extrudeBevelSize:o,windingRule:i<=0?yr.NONZERO:yr.ODD,subdivisions:this.isLowResolution&&i>0?U5e:F5e}})),y=x.length?lh(x):W$();y.translate(-f,g,0),this.dispose(),this.wrappedText=d,this.charCoords=m,this.charWidths=p,this.deleteAttribute("extrudeNormal"),Object.entries(y.attributes).forEach(([b,w])=>{this.setAttribute(b,w)}),this.setIndex(y.index),this.computeBoundingSphere()}clone(){let e=zc(new lt,G$.prototype);return e.copy(this),console.log("CloneGeometry",this,e),e}copy(e){return Object.entries(e.attributes).forEach(([t,r])=>{this.setAttribute(t,r)}),this.setIndex(e.index),this.userData={parameters:{...e.userData.parameters},type:"TextGeometry"},this}async setText(e){this.font&&await this.font.loadingPromise,await this.update({...this.userData.parameters,text:e})}get text(){return this.userData.parameters.text??""}};function V5e(e,t,r){let n=[""],i="";for(let o of r)i+=o,o===" "||o===`
`?(n[n.length-1]+=i,i="",o===`
`&&n.push("")):t.getTextWidth(n[n.length-1]+i,e)>e.width&&(n[n.length-1].length&&n.push(""),t.getTextWidth(n[n.length-1]+i,e)>e.width&&(i.length===1?(n[n.length-1]+=i,i=""):(n[n.length-1]+=i.slice(0,-1),i=i[i.length-1],n.push(""))));return n[n.length-1]+=i,n}var q$,HD=new Promise(e=>{q$=e}),UN=!1,Hb;function H5e(){if(UN)return;if(Hb)return Hb;async function e(){let t="https://unpkg.com/@splinetool/modelling-wasm@0.9.526/build",r=Qy(()=>import("./process-B9H0U9ag.js"),[]),[n,i]=await Promise.all([r,fetch(`${t}/process.wasm`).then(c=>c.arrayBuffer())]),o=n.default,l=await o({wasmBinary:i});q$(l),UN=!0}return Hb=e(),Hb}var W5e=["font"];function z_(e,t,r,n){var s;let i,o,l;e.type==="PathGeometry"?(o=JSON.parse(JSON.stringify(e)),l=[[],["extrusion"]]):(o={...e},l=[[]]);for(let u of l){let d=o;for(let h of u)d=d[h];for(i in d){let h=d[i];X8(h)&&!W5e.includes(i)&&(d[i]=t.getVariable(h,[n.uuid,"geometry",...u,i]),X8(d[i])&&(d[i]=1))}}let c={parameters:o,type:o.type};if(o.type==="PathGeometry")c.path=o.path;else if(o.type==="VectorGeometry"){let u=pn.createFromState(o.shape,o.width,o.height);c.shape=u}else if(o.type==="NonParametricGeometry")o.data.groups&&((s=o.data.groups)==null||s.forEach(u=>u.materialIndex=Math.max(u.materialIndex??0,0))),c.geometry=new $q().parse(o);else if(o.type==="SubdivGeometry"){let u=new Xi(o,r);return u.data=e,u}else if(o.type==="TextGeometry")return new G$(o,t);let a;try{a=qN(c)}catch(u){console.error(u)}if(!a){let u=pn.createFromState(S_.defaultData(),100,100);c.shape=u,a=qN(c)}return a}var G5e=new Re;function IP(e,t,r,n){let i=e.position.array,o=e.normal.array,l=G5e.makeScale(t,r,n).invert().elements,c,a,s;for(var u=0,d=i.length;u<d;u+=3)i[u]*=t,i[u+1]*=r,i[u+2]*=n,c=o[u],a=o[u+1],s=o[u+2],o[u]=l[0]*c+l[4]*a+l[8]*s,o[u+1]=l[1]*c+l[5]*a+l[9]*s,o[u+2]=l[2]*c+l[6]*a+l[10]*s;e.position.needsUpdate=!0,e.normal.needsUpdate=!0}var Wb=new Cn,Hp=new L,pt;HD.then(e=>{pt=e});var VN=new Float32Array([10,10,0,-10,10,0,-10,-10,0,10,-10,0]),HN=new Uint32Array([0,1,2,3]),WN=new Uint8Array([4]),Xi=class extends lt{constructor(t,r){super(),this.data=t,this.flatShading=r,this.subdivPointer=0,this.rebuild(),this.freeSubdivPointer()}mutateDirectlyScaleBaked(t,r){this.freeSubdivPointer();let n=this.data.scaleBaked,i=Eh.div(r,n);this.subdividedGeometry&&IP(this.subdividedGeometry.attributes,...i),this.originalGeometry&&IP(this.originalGeometry.attributes,...i),this.data=t;let o=this.userData.parameters;this.userData.parameters={width:o.width*i[0],height:o.height*i[1],depth:o.depth*i[2]},this.originalGeometry.boundingSphere.center.multiply(Hp.fromArray(i));let l=Hp.set(o.width,o.height,o.depth).length();this.originalGeometry.boundingSphere.radius=l/2}ensureSubdivPointer(){return this.subdivPointer===0&&this.rebuild(),this.subdivPointer}rebuild(){let t,r,n;try{({originalGeometry:t,subdividedGeometry:r,subdivPointer:n}=Xi.build(this.data,void 0,!this.flatShading,void 0))}catch{t=new Cl(100,100,100),n=0}this.subdivPointer=n,this.originalGeometry=t,this.subdividedGeometry=r??void 0;let i=this.subdividedGeometry??this.originalGeometry;Object.assign(this,i),this.calcBoundingBox()}freeSubdivPointer(){this.subdivPointer&&(Xi.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0)}dispose(){super.dispose(),this.freeSubdivPointer()}calcBoundingBox(){let t=this.originalGeometry;t.boundingSphere===null&&(t.boundingSphere=new Bo,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=t.boundingSphere));let r=t.attributes.position,n=t.boundingSphere.center;Wb.setFromBufferAttribute(r),Wb.getCenter(n),t.boundingSphere.radius=n.distanceTo(Wb.max),isNaN(t.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Wb.getSize(Hp);let i={width:Hp.x,height:Hp.y,depth:Hp.z};return this.userData.parameters=i,i}static build(t,r,n,i){let o,l,c,a=(t==null?void 0:t.phongAngle)??35;n===!1&&(a=-1),r&&(pt.free_bvh(r),pt.free_subdivision_surface(r));try{o=Xi.allocate(t,i)}catch(s){console.error(s,t),o=Xi.allocate({positionWASM:VN,indexWASM:HN,verticesPerFaceWASM:WN},i)}if(pt.set_destination_refinement_level(o,0),l=Xi.buildLevel(o,!0,a),t.subdivisions>0)try{pt.set_destination_refinement_level(o,t.subdivisions),c=Xi.buildLevel(o,!1,a)}catch{try{pt.set_destination_refinement_level(o,t.subdivisions-1),c=Xi.buildLevel(o,!1,a)}catch{c=null}}else c=null;return{subdivPointer:o,originalGeometry:l,subdividedGeometry:c}}static primitiveToQuads(t,r,n){t.widthSegments>16&&(t.widthSegments=16),t.heightSegments>16&&(t.heightSegments=16),t.depthSegments>16&&(t.depthSegments=16),t.radialSegments>16&&(t.radialSegments=16),t.type==="DodecahedronGeometry"&&(t.detail=0);let i=t.shape!==void 0||t.path!==void 0?r.geometry:z_(t,n,!1),o;t.type==="TorusGeometry"&&t.arc===Math.PI*2?o=i.getClosedTorusIndicesForBooleanOrSubdiv():o=i.getIndex();let l,c,a,s;({positions:l,triIndices:s}=GS(i.getAttribute("position"),o));let u;if(t.type==="CylinderGeometry"&&t.cornerRadius===0&&t.hollow===0&&t.openEnded===!1){let d=t.radialSegments*t.heightSegments*3*2,h=d+t.radialSegments*3;u=[d,h]}return{indices:c,verticesPerFace:a}=Y$(l,s,i,u),{positions:l,indices:c,verticesPerFace:a}}static allocate(t,r){var b;let n,i,o,l=[],c=[];t.positionWASM&&t.positionWASM.length>0?(n=t.positionWASM,i=t.indexWASM,o=t.verticesPerFaceWASM):(n=VN,i=HN,o=WN);let a=n.length,s=i.length,u=o.length,d=n.length+l.length+c.length,h=i.length+o.length,p=d*Float32Array.BYTES_PER_ELEMENT+h*Uint32Array.BYTES_PER_ELEMENT,m=d*Float32Array.BYTES_PER_ELEMENT,f=pt._malloc(p),g=new Float32Array(pt.HEAPF32.buffer,f,d),v=new Uint32Array(pt.HEAPU32.buffer,f+m,h);g.set(n,0),g.set(l,n.length),g.set(c,n.length+l.length),v.set(i,0),v.set(o,i.length);let x;(b=t==null?void 0:t.scaleBaked)!=null&&b.some(w=>w!==1)&&(x=new Re().makeScale(...t.scaleBaked)),r&&(x?x.premultiply(r):x=r);let y=x?pt.alloc_subdivision_surface2(f,a,f+m,s,f+m+i.length*Uint32Array.BYTES_PER_ELEMENT,u,x.elements):pt.alloc_subdivision_surface(f,a,f+m,s,f+m+i.length*Uint32Array.BYTES_PER_ELEMENT,u);return pt._free(f),y}static buildLevel(t,r,n,i,o){let l=o?pt.get_mesh_data2(t,r?pt.Level.CONTROL:pt.Level.REFINED,n,o.elements):pt.get_mesh_data(t,r?pt.Level.CONTROL:pt.Level.REFINED,n),c=8,a=pt.HEAPU32.subarray(l>>2,(l>>2)+c),s=a.subarray(4,8),u=0,d=pt.HEAPU32[a[u]>>2],h=pt.HEAPF32.subarray(d>>2,(d>>2)+s[u]);u++;let p=pt.HEAPU32[a[u]>>2],m=pt.HEAPF32.subarray(p>>2,(p>>2)+s[u]);u++;let f=pt.HEAPU32[a[u]>>2],g=pt.HEAPU32.subarray(f>>2,(f>>2)+s[u]);u++;let v=pt.HEAPU32[a[u]>>2],x=pt.HEAPU32.subarray(v>>2,(v>>2)+s[u]);if(u++,i===void 0){let y=new lt;if(y.setIndex(new tm(x,1)),y.setAttribute("position",new Ze(h,3)),y.setAttribute("normal",new Ze(m,3)),r){y.setAttribute("faceMap",new tm(g,1));let b=new Float32Array(m.length/3*4).fill(0);y.setAttribute("color",new St(b,4))}return pt.free_mesh_data(l),y.userData.type="SubdivGeometry",y}i.getAttribute("position").copyArray(h),i.getAttribute("normal").copyArray(m),i.attributes.position.needsUpdate=!0,i.attributes.normal.needsUpdate=!0,pt.free_mesh_data(l)}static freeSubdivPointer(t){pt.free_bvh(t),pt.free_subdivision_surface(t)}static buildControlCageWireframe(t,r,n){let i=pt.get_wireframe_data_for_base_level(t),o=4,l=pt.HEAPU32.subarray(i>>2,(i>>2)+o),c=l.subarray(2,4),a=0,s=pt.HEAPU32[l[a]>>2],u=pt.HEAPF32.subarray(s>>2,(s>>2)+c[a]);a++;let d=pt.HEAPU32[l[a]>>2],h=pt.HEAPU32.subarray(d>>2,(d>>2)+c[a]);if(r===void 0){let p=new lt;p.setAttribute("position",new Ze(u,3));let m=new Float32Array(u.length);for(let f=0,g=u.length;f<g;)m[f++]=n.r,m[f++]=n.g,m[f++]=n.b;return p.setAttribute("color",new St(m,3)),p.setIndex(new tm(h,1)),pt.free_wireframe_data_for_base_level(i),p}r.getAttribute("position").copyArray(u),r.attributes.position.needsUpdate=!0,pt.free_wireframe_data_for_base_level(i)}static updateCollabMesh(t,r,n){let i=r===0;i||pt.set_destination_refinement_level(t,r);let o=n?pt.get_topological_data2(t,i?pt.Level.CONTROL:pt.Level.REFINED,n.elements):pt.get_topological_data(t,i?pt.Level.CONTROL:pt.Level.REFINED),l=6,c=pt.HEAPU32.subarray(o>>2,(o>>2)+l),a=c.subarray(3,6),s=0,u=pt.HEAPU32[c[s]>>2],d=new Float32Array(pt.HEAPF32.subarray(u>>2,(u>>2)+a[s]));s++;let h=pt.HEAPU32[c[s]>>2],p=new Uint32Array(pt.HEAPU32.subarray(h>>2,(h>>2)+a[s]));s++;let m=pt.HEAPU32[c[s]>>2],f=new Uint8Array(pt.HEAPU32.subarray(m>>2,(m>>2)+a[s]));return pt.free_topological_data(o),{positions:d,indices:p,verticesPerFace:f}}},GN=["getX","getY","getZ"];function GS(e,t){let r={},n=t?t.count:e.count,i=0,o=[],l=[],c=1e4;for(let s=0;s<n;s++){let u=t?t.getX(s):s,d="";for(let h=0;h<3;h++)d+=`${~~(e[GN[h]](u)*c)},`;if(d in r)o.push(r[d]);else{for(let h=0;h<3;h++)l.push(e[GN[h]](u));r[d]=i,o.push(i),i++}}let a=[];for(let s=0;s<o.length;s+=3)o[s]===o[s+1]||o[s]===o[s+2]||o[s+1]===o[s+2]||a.push(o[s],o[s+1],o[s+2]);return{positions:l,triIndices:a}}var Gb=new L,OC=new L,RC=new L,zC=new L;function Y$(e,t,r,n){let i=[],o=[];if(r.userData.shape!==void 0&&r.userData.parameters.depth===0&&r.userData.shape.shapeHoles.length===0){let a=r.userData.shape.extractShapePointsToFlatArray([]),s=r.userData.parameters.spikes;if(r.userData.type==="EllipseGeometry"&&s<=24&&s%4===0&&r.userData.parameters.angle>=360){let h=a.length/2/s;a=a.filter((p,m)=>Math.floor(m/2)%h===0)}let u=0;for(let h=0;h<a.length;h+=2)u+=(a[h]-a[(h===0?a.length:h)-2])*(a[h+1]+a[(h===0?a.length:h)-1]);e.length=0;let d=0;if(u<0)for(let h=0;h<a.length;h+=2)e.push(a[h],a[h+1],0),i.push(d++);else for(let h=a.length-2;h>=0;h-=2)e.push(a[h],a[h+1],0),i.push(d++);return o.push(d),{indices:i,verticesPerFace:o}}let l=new Float32Array([r.userData.parameters.depth])[0],c=0;for(;c<t.length;){if(r.useNgonForTopBottomFaceDuringBake){let a=0;if((e[t[c]*3+2]===l||e[t[c]*3+2]===0)&&a++,(e[t[c+1]*3+2]===l||e[t[c+1]*3+2]===0)&&a++,(e[t[c+2]*3+2]===l||e[t[c+2]*3+2]===0)&&a++,a===3)break}if(t[c+1]===t[c+3]&&t[c+2]===t[c+5]||t[c+0]===t[c+3]&&t[c+2]===t[c+4]){Gb.set(e[t[c]*3],e[t[c]*3+1],e[t[c]*3+2]),OC.set(e[t[c+1]*3],e[t[c+1]*3+1],e[t[c+1]*3+2]),RC.set(e[t[c+4]*3],e[t[c+4]*3+1],e[t[c+4]*3+2]),zC.set(e[t[c+5]*3],e[t[c+5]*3+1],e[t[c+5]*3+2]),OC.sub(Gb).normalize(),RC.sub(Gb).normalize(),zC.sub(Gb).normalize();let a=OC.cross(RC).dot(zC);Math.abs(a)>.005||n&&n.some((s,u)=>u%2===1?!1:c>=n[u]&&c<n[u+1])?(i.push(t[c],t[c+1],t[c+2]),o.push(3),c+=3):(i.push(t[c],t[c+1],t[c+4],t[c+5]),o.push(4),c+=6)}else i.push(t[c],t[c+1],t[c+2]),o.push(3),c+=3}if(r.useNgonForTopBottomFaceDuringBake){let a=[],s=[],u=0;for(let d=0,h=0;d<e.length;d+=3,h++)e[d+2]===0&&(a.push(h),u++),e[d+2]===l&&s.push(h);if(r.userData.parameters.extrudeBevelSize===0){let d=s[0];s[0]=s[1],s[1]=d}a.reverse(),i.push(...a,...s),o.push(u,u)}return{indices:i,verticesPerFace:o}}var Zl={};s0e(Zl,{calcBoolean:()=>K5e,calcBooleanTopological:()=>X5e,freeMeshSet:()=>eDe,getMeshSet:()=>Q5e,hasOpenEdges:()=>Z5e,transformMeshSet:()=>J5e});var $$,q5e=new Promise(e=>{$$=e}),qb;function Y5e(){if(qb)return qb;async function e(){let t="https://unpkg.com/@splinetool/boolean-wasm@0.9.526/build",r=Qy(()=>import("./boolean-DJ5d0xJO.js"),[]),[n,i]=await Promise.all([r,fetch(`${t}/boolean.wasm`).then(c=>c.arrayBuffer())]),o=n.default,l=await o({wasmBinary:i});$$(l)}return qb=e(),qb}var Gt,dm;q5e.then(e=>Gt=e);function $5e(e,t,r){let n,i;e.userData.parameters.type==="TorusGeometry"&&e.userData.parameters.arc===Math.PI*2?i=e.getClosedTorusIndicesForBooleanOrSubdiv():i=e.getIndex();let{positions:o,triIndices:l}=GS(e.getAttribute("position"),i),c;if(t&&r){let{indices:a,verticesPerFace:s}=Y$(o,l,e);c=s.length,n=[];for(let u=0,d=0;u<c;u++){n.push(s[u]);for(let h=0;h<s[u];h++)n.push(a[d++])}}else{let a=l.length;n=Array(a+a/3),c=0;for(let s=0,u=0;u<n.length;)n[u++]=3,c++,n[u++]=l[s++],n[u++]=l[s++],n[u++]=l[s++]}return{positions:o,faceIndices:n,nFaces:c}}function X$(e){let t=e.length,r=t*Uint32Array.BYTES_PER_ELEMENT,n=t*Float32Array.BYTES_PER_ELEMENT,i=Number.isInteger(e[0])?r:n,o=Gt._malloc(i);return(Number.isInteger(e[0])?new Uint32Array(Gt.HEAPU32.buffer,o,t):new Float32Array(Gt.HEAPF32.buffer,o,t)).set(e,0),o}function K$(e){switch(e){case 0:return Gt.OP.UNION;case 1:return Gt.OP.INTERSECTION;case 2:return Gt.OP.A_MINUS_B;case 3:return Gt.OP.B_MINUS_A;case 4:return Gt.OP.SYMMETRIC_DIFFERENCE;case 5:return Gt.OP.ALL;default:throw new Error("Unknown boolean operation "+e)}}function X5e(e,t){dm===void 0&&(dm=Gt.init_csg());let r=X$(e),n=Gt.csg_calc_topological(dm,r,e.length,K$(t));Gt._free(r);let i=6,o=Gt.HEAPU32.subarray(n>>2,(n>>2)+i),l=o.subarray(3,6),c=0,a=Gt.HEAPU32[o[c]>>2],s=new Float32Array(Gt.HEAPF32.subarray(a>>2,(a>>2)+l[c]));c++;let u=Gt.HEAPU32[o[c]>>2],d=new Uint32Array(Gt.HEAPU32.subarray(u>>2,(u>>2)+l[c]));c++;let h=Gt.HEAPU32[o[c]>>2],p=new Uint8Array(Gt.HEAPU32.subarray(h>>2,(h>>2)+l[c]));return Gt.free_mesh_data(n),{positions:s,indices:d,verticesPerFace:p}}function K5e(e,t,r,n){dm===void 0&&(dm=Gt.init_csg());let i=X$(e),o=Gt.csg_calc(dm,i,e.length,n,K$(t));Gt._free(i);let l=5,c=Gt.HEAPU32.subarray(o>>2,(o>>2)+l),a=c.subarray(2,5),s=0,u=Gt.HEAPU32[c[s]>>2],d=Gt.HEAPF32.subarray(u>>2,(u>>2)+a[s]);s++;let h=Gt.HEAPU32[c[s]>>2],p=Gt.HEAPF32.subarray(h>>2,(h>>2)+a[s]);s++;let m=a[s];r.setAttribute("position",new Ze(d,3)),r.setAttribute("normal",new Ze(p,3));let f=Gt.HEAPF32.subarray((o>>2)+5,(o>>2)+5+6);return r.boundingSphere===null&&(r.boundingSphere=new Bo),r.boundingSphere.radius=-1,r.userData.parameters={width:f[3]*2,height:f[4]*2,depth:f[5]*2},Gt.free_mesh_data(o),m}function Q5e(e,t,r){if(Gt===void 0)return-1;let n,i,o;if(t&&e.userData.positions!==void 0){let g=e.userData;o=g.verticesPerFace.length,n=g.positions,i=Array(g.verticesPerFace.reduce((v,x)=>v+x,0)+o);for(let v=0,x=0,y=0;v<g.verticesPerFace.length;v++){i[y++]=g.verticesPerFace[v];for(let b=0;b<g.verticesPerFace[v];b++)i[y++]=g.indices[x++]}}else({positions:n,faceIndices:i,nFaces:o}=$5e(e,t,r));let l=n.length,c=i.length,a=n.length,s=i.length,u=a*Float32Array.BYTES_PER_ELEMENT+s*Uint32Array.BYTES_PER_ELEMENT,d=a*Float32Array.BYTES_PER_ELEMENT,h=Gt._malloc(u),p=new Float32Array(Gt.HEAPF32.buffer,h,a),m=new Uint32Array(Gt.HEAPU32.buffer,h+d,s);p.set(n,0),m.set(i,0);let f=Gt.get_csg_mesh(h,l,h+d,c,o);return Gt._free(h),f}function Z5e(e){return Gt.has_open_edges(e)}function J5e(e,t){Gt.transform_csg_mesh(e,t.elements)}function eDe(e){Gt.free_csg_mesh(e)}var tDe={ConeGeometry:xke,CubeGeometry:wke,CylinderGeometry:S$,DodecahedronGeometry:Ske,EllipseGeometry:VD,HelixGeometry:t5e,IcosahedronGeometry:r5e,LatheGeometry:n5e,NonParametricGeometry:u5e,PolygonGeometry:F$,PyramidGeometry:d5e,RectangleGeometry:U$,SphereGeometry:f5e,PlaneGeometry:m5e,BackdropGeometry:g5e,StarGeometry:V$,TextFrameGeometry:y5e,TorusGeometry:b5e,TorusKnotGeometry:w5e,TriangleGeometry:_5e,PathGeometry:L5e,VectorGeometry:cp},qN=e=>tDe[e.type].create(e);function Wp(e){return e!==null&&"booleanOp"in e}var Q$=class extends zD(ro){constructor(){super(...arguments),this.booleanMeshSetAddress=-1,this.booleanWasTransformed=!1,this.booleanMatrixInvOld=new Re}updateVisible(e){super.updateVisible(e),this.visible=!Wp(this.parent)&&this.visible,Wp(this.parent)&&this.parent.invalidateDownstreamBooleanData()}freeBooleanPointer(){this.booleanMeshSetAddress!==-1&&(Zl.freeMeshSet(this.booleanMeshSetAddress),this.booleanMeshSetAddress=-1)}invalidateDownstreamBooleanData(e=!1){return e?this.booleanWasTransformed=!0:this.freeBooleanPointer(),Wp(this.parent)?this.parent.invalidateDownstreamBooleanData():this}invalidateUpstreamBooleanData(){this.freeBooleanPointer();for(let e of this.children)e instanceof Q$&&(e.freeBooleanPointer(),Wp(e)&&e.invalidateUpstreamBooleanData())}updateTransformState(e,t){let r=super.updateTransformState(e,t);return r&&Wp(this.parent)&&this.invalidateDownstreamBooleanData(!0),r}onVariableUpdate(e=!1){super.onVariableUpdate(e),Wp(this.parent)&&this.invalidateDownstreamBooleanData(!0)}},Yb=new Cn;function WD(e,t=0,r=e.count,n,i){let o=1/0,l=1/0,c=1/0,a=-1/0,s=-1/0,u=-1/0;for(let d=t;d<r;d++){let h=e.getX(d),p=e.getY(d),m=e.getZ(d);h<o&&(o=h),p<l&&(l=p),m<c&&(c=m),h>a&&(a=h),p>s&&(s=p),m>u&&(u=m)}Yb.min.set(o,l,c),Yb.max.set(a,s,u),Yb.getCenter(n),Yb.getSize(i).multiplyScalar(.5)}var rDe=new lt,nDe=new r1,Fo=class extends Q${constructor(e,t){super(rDe,nDe),this.super_Entity(e,t)}updateState(e,t){this.updateState_Entity(e,t)}updateEntityBoxSize(e,t){let r=this.geometry.getAttribute("position");r!==void 0?WD(r,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:r.count,e,t):super.updateEntityBoxSize(e,t)}},YN=class{constructor(e){e=e??{},this.name=e.name,this.type=e.type,this.node=e.node,this.size=e.size,this.needsUpdate=e.needsUpdate}get value(){return this.node.value}set value(e){this.node.value=e}},yd=class{constructor(e){this.hashProperties=void 0,this.isNode=!0,this.shortcuts={},this.uuid=at.generateUUID(),this.type=e,this.name=""}analyze(e,t){t=t??{},e.analyzing=!0,this.build(e.addFlow(t.slot,t.cache,t.context),"v4"),e.clearVertexNodeCode(),e.clearFragmentNodeCode(),e.removeFlow(),e.analyzing=!1}analyzeAndFlow(e,t,r){return r=r??{},this.analyze(e,r),this.flow(e,t,r)}flow(e,t,r){r=r??{},e.addFlow(r.slot,r.cache,r.context);let n={result:this.build(e,t),code:e.clearNodeCode(),extra:e.context.extra};return e.removeFlow(),n}build(e,t,r){t=t??this.getType(e,t);let n=e.getNodeData(r??this);return e.analyzing&&this.appendDepsNode(e,n,t),e.nodes.indexOf(this)===-1&&e.nodes.push(this),this.updateFrame!==void 0&&e.updaters.indexOf(this)===-1&&e.updaters.push(this),this.generate(e,t,r)}updateFrame(e){}generateReadonly(e,t,r,n,i,o){return""}generate(e,t,r,n,i){return""}parse(e,t,r,n){}appendDepsNode(e,t,r){t.deps=(t.deps||0)+1;let n=e.getTypeLength(r);(n>(t.outputMax||0)||this.getType(e,r))&&(t.outputMax=n,t.output=r)}setName(e){this.name=e}getName(){return this.name}getType(e,t){return t==="sampler2D"||t==="samplerCube"?t:this.type}getHash(){let e="{",t,r;for(t in this)r=this[t],r instanceof yd&&(e+='"'+t+'":'+r.getHash()+",");if(this.hashProperties)for(let n=0;n<this.hashProperties.length;n++)t=this.hashProperties[n],r=this[t],e+='"'+t+'":"'+String(r)+'",';return e+='"id":"'+this.uuid+'"}',e}},iDe=class{constructor(){this.nodes={},this.keywords={}}add(e){this.nodes[e.name]=e}addKeyword(e,t,r){r=r!==void 0?r:!0,this.keywords[e]={callback:t,cache:r}}remove(e){delete this.nodes[e.name]}removeKeyword(e){delete this.keywords[e]}get(e){return this.nodes[e]}getKeyword(e,t){return this.keywords[e].callback(t)}getKeywordData(e){return this.keywords[e]}contains(e){return this.nodes[e]!==void 0}containsKeyword(e){return this.keywords[e]!==void 0}},So=new iDe,Er=class extends yd{constructor(e,t){super(e),this.scope="",t=t??{},this.shared=t.shared!==void 0?t.shared:!0,this.unique=t.unique!==void 0?t.unique:!1}build(e,t,r,n){if(t=t??this.getType(e),this.getShared(e,t)){let i=this.getUnique(e,t);i&&this.uuid===void 0&&(this.uuid=at.generateUUID()),r=e.getUUID(r??this.getUUID(),!i);let o=e.getNodeData(r),l=o.output||this.getType(e);if(e.analyzing)return(o.deps||0)>0||this.getLabel()?(this.appendDepsNode(e,o,t),this.generate(e,t,r)):super.build(e,t,r);if(i)return o.name=o.name||super.build(e,t,r),o.name;if(!this.getLabel()&&(!this.getShared(e,l)||e.context.ignoreCache||o.deps===1))return super.build(e,t,r);r=this.getUUID(!1);let c=this.getTemp(e,r);if(c)return e.format(c,l,t);{c=super.generate(e,t,r,o.output,n);let a=this.generate(e,l,r);return e.addNodeCode(c+" = "+a+";"),e.format(c,l,t)}}return super.build(e,t,r)}getShared(e,t){return t!=="sampler2D"&&t!=="samplerCube"&&this.shared}getUnique(e,t){return this.unique}setLabel(e){return this.label=e,this}getLabel(){return this.label}getUUID(e){let t=this.uuid;return typeof this.scope=="string"&&(t=this.scope+"-"+t),t}getTemp(e,t){t=t||this.uuid;let r=e.getVars()[t];return r?r.name:void 0}generate(e,t,r,n,i){return this.getShared(e,t)||console.error("TempNode is not shared"),r=r??this.uuid,e.getTempVar(r,n??this.getType(e),i,this.getLabel()).name}},Uo=class extends Er{constructor(e,t){t=t??{},t.shared=t.shared!==void 0?t.shared:!1,super(e,t),this.readonly=!1}setReadonly(e){return this.readonly=e,this.hashProperties=this.readonly?["value"]:void 0,this}getReadonly(){return this.readonly}generate(e,t,r,n,i,o){r=e.getUUID(r??this.getUUID()),n=n??this.getType(e);let l=e.getNodeData(r);return this.getReadonly()&&this.generateReadonly!==void 0?this.generateReadonly(e,t,r,n,i,o):e.isShader("vertex")?(l.vertex||(l.vertex=e.createVertexUniform(n,this,i,o,this.getLabel())),e.format(l.vertex.name,n,t)):(l.fragment||(l.fragment=e.createFragmentUniform(n,this,i,o,this.getLabel())),e.format(l.fragment.name,n,t))}},gi=class extends Uo{constructor(t=0,r){super("v2"),this.nodeType="Vector2",this.value=t instanceof re?t:new re(t,r)}get x(){return this.value.x}set x(t){this.value.x=t}get y(){return this.value.y}set y(t){this.value.y=t}generateReadonly(t,r,n,i,o,l){return t.format("vec2("+this.value.x+", "+this.value.y+")",i,r)}},Ca=class extends Uo{constructor(e=0,t,r){super("v3"),this.nodeType="Vector3",this.value=e instanceof L?e:new L(e,t,r)}get x(){return this.value.x}set x(e){this.value.x=e}get y(){return this.value.y}set y(e){this.value.y=e}get z(){return this.value.z}set z(e){this.value.z=e}generateReadonly(e,t,r,n,i,o){return e.format("vec3("+this.value.x+", "+this.value.y+", "+this.value.z+")",n,t)}},Io=class extends ht{constructor(e,t,r,n){super(e,t,r),this.isColorA=!0,this.a=n}setRGBA(e,t,r,n){super.setRGB(e,t,r),this.a=n}copy(e){return super.copy(e),this.a="a"in e?e.a:1,this}clone(){return new this.constructor(this.r,this.g,this.b,this.a)}setStyle(e,t="srgb"){let r;if(e==="transparent")return this.setRGBA(0,0,0,0),this;if(r=/^((?:rgb|hsl)a?)\(([^)]*)\)/.exec(e)){let n,i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(n=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a=i==="rgba"?parseFloat(n[4]):1,super.setStyle(e,t);break;case"hsl":case"hsla":if(n=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)%\s*,\s*(\d*\.?\d+)%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return this.a=i==="hsla"?parseFloat(n[4]):1,super.setStyle(e,t);break}}return super.setStyle(e,t)}get x(){return this.r}get y(){return this.g}get z(){return this.b}get w(){return this.a}set x(e){this.r=e}set y(e){this.g=e}set z(e){this.b=e}set w(e){this.a=e}},Jl=class extends Uo{constructor(e){super("v4"),this.nodeType="Vector4",this.value=e instanceof Io?e:new Io(e.r,e.g,e.b,e.a)}generateReadonly(e,t,r,n,i,o){return e.format("vec4("+this.value.r+", "+this.value.g+", "+this.value.b+", "+this.value.a+")",n,t)}},oDe=/^\s*([a-z_0-9]+)\s([a-z_0-9]+)\s*\((.*?)\)/i,$N=/[a-z_0-9]+/gi,Ye=class extends Er{constructor(e,t,r,n,i){super(i),this.src="",this.nodeType="Function",this.useKeywords=!0,this.includes=[],this.extensions={},this.keywords={},this.isMethod=i===void 0,this.isInterface=!1,this.parse(e,t,r,n)}getShared(e,t){return!this.isMethod}getType(e){return e.getTypeByFormat(this.type)}getInputByName(e){if(this.inputs){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}}getIncludeByName(e){if(this.includes){let t=this.includes.length;for(;t--;)if(this.includes[t].name===e)return this.includes[t]}}generate(e,t,r,n,i){let o,l=0,c=this.src;if(this.includes)for(let s=0;s<this.includes.length;s++)e.include(this.includes[s],this);for(let s in this.extensions)e.extensions[s]=!0;let a=[];for(;o=$N.exec(this.src);)a.push(o);for(let s=0;s<a.length;s++){let u=a[s],d=u[0],h=this.isMethod?!this.getInputByName(d):!0,p=d;if(this.keywords[d]||this.useKeywords&&h&&So.containsKeyword(d)){let m=this.keywords[d];if(!m){let f=So.getKeywordData(d);f.cache&&(m=e.keywords[d]),m=m||So.getKeyword(d,e),f.cache&&(e.keywords[d]=m)}p=m.build(e)}d!==p&&c[u.index+l-1]!=="."&&(c=c.substring(0,u.index+l)+p+c.substring(u.index+d.length+l),l+=p.length-d.length),this.getIncludeByName(p)===void 0&&So.contains(p)&&e.include(So.get(p))}return t==="source"?c:this.isMethod?(this.isInterface||e.include(this,void 0,c),this.name):e.format("( "+c+" )",this.getType(e),t)}parse(e,t,r,n){if(this.src=e||"",this.includes=t??[],this.extensions=r??{},this.keywords=n??{},this.isMethod){let i=oDe.exec(this.src);if(this.inputs=[],i&&i.length==4){this.type=i[1],this.name=i[2];let o=i[3].match($N);if(o){let l=0;for(;l<o.length;){let c=o[l++],a;c==="in"||c==="out"||c==="inout"?a=o[l++]:(a=c,c="");let s=o[l++];this.inputs.push({name:s,type:a,qualifier:c})}}this.isInterface=this.src.indexOf("{")===-1}else this.type="",this.name=""}}},aDe=/^([a-z_0-9]+)\s([a-z_0-9]+)\s?\=?\s?(.*?)(\;|$)/i,Z$=class extends Er{constructor(e="",t){super(),this.src="",this.useDefine=!1,this.nodeType="Const",this.parse(e||Z$.PI,void 0,void 0,void 0,t)}getType(e){return e.getTypeByFormat(this.type)}parse(e,t,r,n,i){this.src=e||"";let o,l,c="",a=aDe.exec(e);this.useDefine=i??this.src.charAt(0)==="#",a&&a.length>1?(l=a[1],o=a[2],c=a[3]):(o=this.src,l="f"),this.name=o,this.type=l,this.value=c}build(e,t){if(t==="source"){if(this.value)return this.useDefine?"#define "+this.name+" "+this.value:"const "+this.type+" "+this.name+" = "+this.value+";";if(this.useDefine)return this.src}return e.include(this),e.format(this.name,this.getType(e),t)}generate(e,t,r,n,i){return e.format(this.name,this.getType(e),t)}},vr=Z$;vr.PI="PI",vr.PI2="PI2",vr.RECIPROCAL_PI="RECIPROCAL_PI",vr.RECIPROCAL_PI2="RECIPROCAL_PI2",vr.LOG2="LOG2",vr.EPSILON="EPSILON";var sDe=new RegExp(`^structs*([a-z_0-9]+)s*{s*((.|
)*?)}`,"gim"),lDe=new RegExp("s*(w*?)s*(w*?)(=|;)","gim"),J$=class extends Er{constructor(e=""){super(),this.inputs=[],this.src="",this.nodeType="Struct",this.parse(e)}getType(e){return e.getTypeByFormat(this.name)}getInputByName(e){let t=this.inputs.length;for(;t--;)if(this.inputs[t].name===e)return this.inputs[t]}generate(e,t,r,n,i){return t==="source"?this.src+";":e.format("( "+this.src+" )",this.getType(e),t)}parse(e=""){this.src=e,this.inputs=[];let t=sDe.exec(e);if(t){let r=t[2],n;for(;n=lDe.exec(r);)this.inputs.push({type:n[1],name:n[2]});this.name=t[1]}else this.name="";this.type=this.name}},GD=class extends Er{constructor(e){super("v2",{shared:!1}),this.nodeType="UV",this.index=e??0}generate(e,t){e.requires.uv[this.index]=!0;let r=this.index>0?this.index+1:"",n=e.isShader("vertex")?"uv"+r:"vUv"+r;return e.format(n,this.getType(e),t)}};So.addKeyword("uv",function(){return new GD});So.addKeyword("uv2",function(){return new GD(1)});var df=class extends Er{constructor(e,t){super("v4"),this.nodeType="ColorSpace",this.input=e,this.method=t??df.LINEAR_TO_LINEAR,this.hashProperties=["method"]}static getEncodingComponents(e){switch(e){case El:return["Linear"];case It:return["sRGB"];default:return[]}}generate(e,t){var l;let r=this.input.build(e,"v4"),n=this.getType(e),i=df.Nodes[this.method],o=e.include(i);if(o===df.LINEAR_TO_LINEAR)return e.format(r,n,t);if(((l=i.inputs)==null?void 0:l.length)===2){let c=this.factor.build(e,"f");return e.format(o+"( "+r+", "+c+" )",n,t)}else return e.format(o+"( "+r+" )",n,t)}fromEncoding(e){let t=df.getEncodingComponents(e);this.method="LinearTo"+t[0],this.factor=t[1]}fromDecoding(e){let t=df.getEncodingComponents(e);this.method=t[0]+"ToLinear",this.factor=t[1]}},ml=df;ml.Nodes={LinearToLinear:new Ye(["vec4 LinearToLinear( in vec4 value ) {","	return value;","}"].join(`
`)),sRGBToLinear:new Ye(["vec4 sRGBToLinear( in vec4 value ) {","	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );","}"].join(`
`)),LinearTosRGB:new Ye(["vec4 LinearTosRGB( in vec4 value ) {","	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );","}"].join(`
`))},ml.LINEAR_TO_LINEAR="LinearToLinear",ml.SRGB_TO_LINEAR="sRGBToLinear",ml.LINEAR_TO_SRGB="LinearTosRGB";var Or=class extends Ye{constructor(e="",t,r,n,i){super(e,i,n,r,t),this.nodeType="Expression"}},cc=class extends Uo{constructor(e=new Xn,t,r,n){super("v4",{shared:!0}),this.nodeType="Texture",this.value=e,this.uv=t??new GD,this.bias=r,this.project=n!==void 0?n:!1}getTexture(e,t){return super.generate(e,t,this.value.uuid,"t")}generate(e,t){if(t==="sampler2D")return this.getTexture(e,t);let r=this.getTexture(e,t),n=this.uv.build(e,this.project?"v4":"v2"),i=this.bias?this.bias.build(e,"f"):void 0;i===void 0&&e.context.bias&&(i=e.context.bias.setTexture(this).build(e,"f"));let o,l;this.project?o="texture2DProj":o=i?"tex2DBias":"tex2D",i?l=o+"( "+r+", "+n+", "+i+" )":l=o+"( "+r+", "+n+" )";let c={include:e.isShader("vertex"),ignoreCache:!0},a=this.getType(e);return e.addContext(c),this.colorSpace=this.colorSpace??new ml(new Or("",a)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(l),l=this.colorSpace.build(e,a),e.removeContext(),e.format(l,a,t)}},Je=class extends Uo{constructor(e){super("f"),this.nodeType="Float",this.value=e??0}generateReadonly(e,t,r,n,i,o){return e.format(this.value+(this.value%1?"":".0"),n,t)}},XN=class extends Er{constructor(e,t){super(),this.inputs=[],this.nodeType="FunctionCall",this.value=e,this.inputs=t??[]}getFunction(){return this.value}getType(e){return this.value.getType(e)}generate(e,t,r,n,i){n=this.getType(e);let o=this.value,l=o.build(e,t)+"( ",c=[];if(o.inputs){for(let a=0;a<o.inputs.length;a++){let s=o.inputs[a],u=this.inputs[a]||this.inputs[s.name];c.push(u.build(e,e.getTypeByFormat(s.type)))}l+=c.join(", ")+" )"}return e.format(l,n,t)}},eX=class extends Er{constructor(e,t,r=eX.ADD){super(),this.nodeType="Operator",this.type=e.type,this.a=e,this.b=t,this.op=r}getType(e){let t=this.a.getType(e),r=this.b.getType(e);return e.isTypeMatrix(t)?"v4":e.getTypeLength(r)>e.getTypeLength(t)?r:t}generate(e,t){let r=this.getType(e);this.type=r;let n=this.a.build(e,r),i=this.b.build(e,r);return e.format("( "+n+" "+this.op+" "+i+" )",r,t)}},vo=eX;vo.ADD="+",vo.SUB="-",vo.MUL="*",vo.DIV="/";var gr=class extends Er{constructor(e,t=gr.ABS,r,n){super(),this.nodeType="Math",this.a=e,typeof t!="string"?this.b=t:n=t,typeof r!="string"?this.c=r:n=r,this.method=n,this.hashProperties=["method"]}getNumInputs(e){switch(this.method){case gr.MIX:case gr.CLAMP:case gr.REFRACT:case gr.SMOOTHSTEP:case gr.FACEFORWARD:return 3;case gr.MIN:case gr.MAX:case gr.MOD:case gr.STEP:case gr.REFLECT:case gr.DISTANCE:case gr.DOT:case gr.CROSS:case gr.POW:return 2;default:return 1}}getInputType(e){let t=e.getTypeLength(this.a.getType(e)),r=this.b?e.getTypeLength(this.b.getType(e)):0,n=this.c?e.getTypeLength(this.c.getType(e)):0;return t>r&&t>n?this.a.getType(e):r>n?this.b.getType(e):this.c.getType(e)}getType(e){switch(this.method){case gr.LENGTH:case gr.DISTANCE:case gr.DOT:return"f";case gr.CROSS:return"v3"}return this.getInputType(e)}generate(e,t){let r,n,i,o=this.a?e.getTypeLength(this.a.getType(e)):0,l=this.b?e.getTypeLength(this.b.getType(e)):0,c=this.c?e.getTypeLength(this.c.getType(e)):0,a=this.getInputType(e),s=this.getType(e);switch(this.type=s,this.method){case gr.NEGATE:return e.format("( -"+this.a.build(e,a)+" )",a,t);case gr.INVERT:return e.format("( 1.0 - "+this.a.build(e,a)+" )",a,t);case gr.CROSS:r=this.a.build(e,"v3"),n=this.b.build(e,"v3");break;case gr.STEP:r=this.a.build(e,o===1?"f":a),n=this.b.build(e,a);break;case gr.MIN:case gr.MAX:case gr.MOD:r=this.a.build(e,a),n=this.b.build(e,l===1?"f":a);break;case gr.REFRACT:r=this.a.build(e,a),n=this.b.build(e,a),i=this.c.build(e,"f");break;case gr.MIX:r=this.a.build(e,a),n=this.b.build(e,a),i=this.c.build(e,c===1?"f":a);break;default:r=this.a.build(e,a),this.b&&(n=this.b.build(e,a)),this.c&&(i=this.c.build(e,a));break}let u=[];u.push(r),n&&u.push(n),i&&u.push(i);let d=this.getNumInputs(e);if(u.length!==d)throw Error(`Arguments not match used in "${this.method}". Require ${d}, currently ${u.length}.`);return e.format(this.method+"( "+u.join(", ")+" )",s,t)}},kt=gr;kt.RAD="radians",kt.DEG="degrees",kt.EXP="exp",kt.EXP2="exp2",kt.LOG="log",kt.LOG2="log2",kt.SQRT="sqrt",kt.INV_SQRT="inversesqrt",kt.FLOOR="floor",kt.CEIL="ceil",kt.NORMALIZE="normalize",kt.FRACT="fract",kt.SATURATE="saturate",kt.SIN="sin",kt.COS="cos",kt.TAN="tan",kt.ASIN="asin",kt.ACOS="acos",kt.ARCTAN="atan",kt.ABS="abs",kt.SIGN="sign",kt.LENGTH="length",kt.NEGATE="negate",kt.INVERT="invert",kt.MIN="min",kt.MAX="max",kt.MOD="mod",kt.STEP="step",kt.REFLECT="reflect",kt.DISTANCE="distance",kt.DOT="dot",kt.CROSS="cross",kt.POW="pow",kt.MIX="mix",kt.CLAMP="clamp",kt.REFRACT="refract",kt.SMOOTHSTEP="smoothstep",kt.FACEFORWARD="faceforward";var q0=class extends Er{constructor(e,t,r){super("v4"),this.nodeType="TextureCubeUV",this.value=e,this.uv=t,this.bias=r}bilinearCubeUV(e,t,r,n){let i=new XN(q0.Nodes.bilinearCubeUV,[t,r,n]);this.colorSpaceTL=this.colorSpaceTL??new ml(new Or("","v4")),this.colorSpaceTL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTL.input.parse(i.build(e)+".tl"),this.colorSpaceTR=this.colorSpaceTR??new ml(new Or("","v4")),this.colorSpaceTR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceTR.input.parse(i.build(e)+".tr"),this.colorSpaceBL=this.colorSpaceBL??new ml(new Or("","v4")),this.colorSpaceBL.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBL.input.parse(i.build(e)+".bl"),this.colorSpaceBR=this.colorSpaceBR??new ml(new Or("","v4")),this.colorSpaceBR.fromDecoding(e.getTextureEncodingFromMap(this.value.value)),this.colorSpaceBR.input.parse(i.build(e)+".br");let o={include:e.isShader("vertex"),ignoreCache:!0};e.addContext(o),this.colorSpaceTLExp=new Or(this.colorSpaceTL.build(e,"v4"),"v4"),this.colorSpaceTRExp=new Or(this.colorSpaceTR.build(e,"v4"),"v4"),this.colorSpaceBLExp=new Or(this.colorSpaceBL.build(e,"v4"),"v4"),this.colorSpaceBRExp=new Or(this.colorSpaceBR.build(e,"v4"),"v4"),e.removeContext();let l=new Or("mix( mix( cubeUV_TL, cubeUV_TR, cubeUV.f.x ), mix( cubeUV_BL, cubeUV_BR, cubeUV.f.x ), cubeUV.f.y )","v4");return l.keywords.cubeUV_TL=this.colorSpaceTLExp,l.keywords.cubeUV_TR=this.colorSpaceTRExp,l.keywords.cubeUV_BL=this.colorSpaceBLExp,l.keywords.cubeUV_BR=this.colorSpaceBRExp,l.keywords.cubeUV=i,l}generate(e,t){if(e.isShader("fragment")){let r=this.uv,n=this.bias||e.context.roughness,i=new XN(q0.Nodes.roughnessToMip,[n]),o=new kt(i,q0.Nodes.m0,q0.Nodes.cubeUV_maxMipLevel,kt.CLAMP),l=new kt(o,kt.FLOOR),c=new kt(o,kt.FRACT),a=this.bilinearCubeUV(e,this.value,r,l),s=this.bilinearCubeUV(e,this.value,r,new vo(l,new Je(1).setReadonly(!0),vo.ADD)),u=new kt(a,s,c,kt.MIX);return e.format(u.build(e),"v4",t)}else return console.warn("TextureCubeUVNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t)}},OP=q0;OP.Nodes=function(){let e=new J$(`struct TextureCubeUVData {
			vec4 tl;
			vec4 tr;
			vec4 br;
			vec4 bl;
			vec2 f;
		}`),t=new vr("float cubeUV_maxMipLevel 8.0",!0),r=new vr("float cubeUV_minMipLevel 4.0",!0),n=new vr("float cubeUV_maxTileSize 256.0",!0),i=new vr("float cubeUV_minTileSize 16.0",!0),o=new Ye(`float getFace(vec3 direction) {
				vec3 absDirection = abs(direction);
				float face = -1.0;
				if (absDirection.x > absDirection.z) {
					if (absDirection.x > absDirection.y)
						face = direction.x > 0.0 ? 0.0 : 3.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				} else {
					if (absDirection.z > absDirection.y)
						face = direction.z > 0.0 ? 2.0 : 5.0;
					else
						face = direction.y > 0.0 ? 1.0 : 4.0;
				}
				return face;
		}`);o.useKeywords=!1;let l=new Ye(`vec2 getUV(vec3 direction, float face) {
				vec2 uv;
				if (face == 0.0) {
					uv = vec2(direction.z, direction.y) / abs(direction.x); // pos x
				} else if (face == 1.0) {
					uv = vec2(-direction.x, -direction.z) / abs(direction.y); // pos y
				} else if (face == 2.0) {
					uv = vec2(-direction.x, direction.y) / abs(direction.z); // pos z
				} else if (face == 3.0) {
					uv = vec2(-direction.z, direction.y) / abs(direction.x); // neg x
				} else if (face == 4.0) {
					uv = vec2(-direction.x, direction.z) / abs(direction.y); // neg y
				} else {
					uv = vec2(direction.x, direction.y) / abs(direction.z); // neg z
				}
				return 0.5 * (uv + 1.0);
		}`);l.useKeywords=!1;let c=new Ye(`TextureCubeUVData bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {
			float face = getFace(direction);
			float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);
			mipInt = max(mipInt, cubeUV_minMipLevel);
			float faceSize = exp2(mipInt);
			float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);
			vec2 uv = getUV(direction, face) * (faceSize - 1.0);
			vec2 f = fract(uv);
			uv += 0.5 - f;
			if (face > 2.0) {
				uv.y += faceSize;
				face -= 3.0;
			}
			uv.x += face * faceSize;
			if(mipInt < cubeUV_maxMipLevel){
				uv.y += 2.0 * cubeUV_maxTileSize;
			}
			uv.y += filterInt * 2.0 * cubeUV_minTileSize;
			uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);
			uv *= texelSize;
			vec4 tl = texture2D(envMap, uv);
			uv.x += texelSize;
			vec4 tr = texture2D(envMap, uv);
			uv.y += texelSize;
			vec4 br = texture2D(envMap, uv);
			uv.x -= texelSize;
			vec4 bl = texture2D(envMap, uv);
			return TextureCubeUVData( tl, tr, br, bl, f );
		}`,[e,o,l,t,r,n,i]);c.useKeywords=!1;let a=new vr("float r0 1.0",!0),s=new vr("float v0 0.339",!0),u=new vr("float m0 -2.0",!0),d=new vr("float r1 0.8",!0),h=new vr("float v1 0.276",!0),p=new vr("float m1 -1.0",!0),m=new vr("float r4 0.4",!0),f=new vr("float v4 0.046",!0),g=new vr("float m4 2.0",!0),v=new vr("float r5 0.305",!0),x=new vr("float v5 0.016",!0),y=new vr("float m5 3.0",!0),b=new vr("float r6 0.21",!0),w=new vr("float v6 0.0038",!0),_=new vr("float m6 4.0",!0),S=[a,s,u,d,h,p,m,f,g,v,x,y,b,w,_],E=new Ye(`float roughnessToMip(float roughness) {
			float mip = 0.0;
			if (roughness >= r1) {
				mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;
			} else if (roughness >= r4) {
				mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;
			} else if (roughness >= r5) {
				mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;
			} else if (roughness >= r6) {
				mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;
			} else {
				mip = -2.0 * log2(1.16 * roughness);// 1.16 = 1.79^0.25
			}
			return mip;
		}`,S);return{bilinearCubeUV:c,roughnessToMip:E,m0:u,cubeUV_maxMipLevel:t}}();var hf=class extends Er{constructor(e){super("v3"),this.nodeType="Normal",this.scope=e??hf.VIEW}getShared(){return this.scope===hf.WORLD}build(e,t,r,n){let i=e.context[this.scope+"Normal"];return i?i.build(e,t,r,n):super.build(e,t,r)}generate(e,t,r,n,i){let o;switch(this.scope){case hf.VIEW:e.isShader("vertex")?o="transformedNormal":o="geometryNormal";break;case hf.LOCAL:e.isShader("vertex")?o="objectNormal":(e.requires.normal=!0,o="vObjectNormal");break;case hf.WORLD:e.isShader("vertex")?o="inverseTransformDirection( transformedNormal, viewMatrix ).xyz":(e.requires.worldNormal=!0,o="vWNormal");break}return e.format(o,this.getType(e),t)}},Ao=hf;Ao.LOCAL="local",Ao.WORLD="world",Ao.VIEW="view",Ao.NORMAL="normal";So.addKeyword("viewNormal",function(){return new Ao(Ao.VIEW)});So.addKeyword("localNormal",function(){return new Ao(Ao.NORMAL)});So.addKeyword("worldNormal",function(){return new Ao(Ao.WORLD)});var $l=class extends Er{constructor(e){super("v3"),this.nodeType="Position",this.scope=e??$l.LOCAL}getType(){switch(this.scope){case $l.PROJECTION:return"v4"}return this.type}getShader(){switch(this.scope){case $l.LOCAL:case $l.WORLD:return!1}return!0}generate(e,t,r,n,i){let o;switch(this.scope){case $l.LOCAL:e.isShader("vertex")?o="transformed":(e.requires.position=!0,o="vPosition");break;case $l.WORLD:if(e.isShader("vertex"))return"( modelMatrix * vec4( transformed, 1.0 ) ).xyz";e.requires.worldPosition=!0,o="vWPosition";break;case $l.VIEW:o=e.isShader("vertex")?"-mvPosition.xyz":"vViewPosition";break;case $l.PROJECTION:o=e.isShader("vertex")?"( projectionMatrix * modelViewMatrix * vec4( position, 1.0 ) )":"vec4( 0.0 )";break}return e.format(o,this.getType(),t)}},_s=$l;_s.LOCAL="local",_s.WORLD="world",_s.VIEW="view",_s.PROJECTION="projection";So.addKeyword("position",function(){return new _s});So.addKeyword("worldPosition",function(){return new _s(_s.WORLD)});So.addKeyword("viewPosition",function(){return new _s(_s.VIEW)});var Ks=class extends Er{constructor(e){super("v3"),this.nodeType="Reflect",this.scope=e??Ks.CUBE}getUnique(e){return!e.context.viewNormal}getType(){switch(this.scope){case Ks.SPHERE:return"v2"}return this.type}generate(e,t){let r=this.getUnique(e);if(e.isShader("fragment")){let n;switch(this.scope){case Ks.VECTOR:{let i=new Ao(Ao.VIEW),o=e.context.roughness,l=i.build(e,"v3"),c=new _s(_s.VIEW).build(e,"v3"),a=o?o.build(e,"f"):void 0,s=`reflect( -normalize( ${c} ), ${l} )`;a&&(s=`normalize( mix( ${s}, ${l}, ${a} * ${a} ) )`);let u=`inverseTransformDirection( ${s}, viewMatrix )`;r?(e.addNodeCode(`vec3 reflectVec = ${u};`),n="reflectVec"):n=u;break}case Ks.CUBE:{let i=new Ks(Ks.VECTOR).build(e,"v3"),o="vec3( -"+i+".x, "+i+".yz )";r?(e.addNodeCode(`vec3 reflectCubeVec = ${o};`),n="reflectCubeVec"):n=o;break}case Ks.SPHERE:{let i="normalize( ( viewMatrix * vec4( "+new Ks(Ks.VECTOR).build(e,"v3")+", 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) ).xy * 0.5 + 0.5";r?(e.addNodeCode(`vec2 reflectSphereVec = ${i};`),n="reflectSphereVec"):n=i;break}}return e.format(n,this.getType(),t)}else return console.warn("ReflectNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.type,t)}},hm=Ks;hm.CUBE="cube",hm.SPHERE="sphere",hm.VECTOR="vector";var cDe=class extends Er{constructor(e=new cc,t,r){super("v4"),this.nodeType="TextureCube",this.value=e,this.radianceNode=new OP(this.value,t??new hm(hm.VECTOR),r),this.irradianceNode=new OP(this.value,new Ao(Ao.WORLD),new Je(1).setReadonly(!0))}generate(e,t){return e.isShader("fragment")?(e.require("irradiance"),e.context.bias&&e.context.bias.setTexture(this.value),(e.slot==="irradiance"?this.irradianceNode:this.radianceNode).build(e,t)):(console.warn("TextureCubeNode is not compatible with "+e.shader+" shader."),e.format("vec4( 0.0 )",this.getType(e),t))}},uDe=class extends Uo{constructor(e=new q5,t,r){super("v4",{shared:!0}),this.nodeType="CubeTexture",this.value=e,this.uv=t??new hm,this.bias=r}getTexture(e,t){return super.generate(e,t,this.value.uuid,"tc")}generate(e,t){var a;if(t==="samplerCube")return this.getTexture(e,t);let r=this.getTexture(e,t),n=(a=this.uv)==null?void 0:a.build(e,"v3"),i=this.bias?this.bias.build(e,"f"):void 0;i===void 0&&e.context.bias&&(i=e.context.bias.setTexture(this).build(e,"f"));let o;i?o="texCubeBias( "+r+", "+n+", "+i+" )":o="texCube( "+r+", "+n+" )";let l={include:e.isShader("vertex"),ignoreCache:!0},c=this.getType(e);return e.addContext(l),this.colorSpace=this.colorSpace??new ml(new Or("",c)),this.colorSpace.fromDecoding(e.getTextureEncodingFromMap(this.value)),this.colorSpace.input.parse(o),o=this.colorSpace.build(e,c),e.removeContext(),e.format(o,c,t)}},dDe=`
uniform int frameIndex;
uniform vec2 resolution;
uniform mat4 previousModelViewMatrix;
uniform mat4 previousProjectionMatrix;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;
`,hDe=`
layout(location = 1) out vec4 gVelocity;

uniform int frameIndex;
uniform vec2 resolution;

varying vec4 vCurrentPosition;
varying vec4 vPreviousPosition;

const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

vec2 vogelDiskSample(int sampleIndex, int sampleCount, float angle) {
  const float goldenAngle = 2.399963f; // radians
  float r = sqrt(float(sampleIndex) + 0.5f) / sqrt(float(sampleCount));
  float theta = float(sampleIndex) * goldenAngle + angle;
  float sine = sin(theta);
  float cosine = cos(theta);
  return vec2(cosine, sine) * r;
}

// Derived from the interleaved gradient function from Jimenez 2014 http:goo.gl/eomGso
float getNoiseInterleavedGradient(vec2 screenPos) {
    vec3 magic = vec3(0.06711056f, 0.00583715f, 52.9829189f);
    return fract(magic.z * fract(dot(screenPos, magic.xy)));
}

`,pDe=`
// TODO: This could be generated CPU side and passed to the shader every frame
const vec2 haltonSequence[16] = vec2[16](
vec2( 0.000000,-0.333334),
vec2(-0.500000, 0.333334),
vec2( 0.500000,-0.777778),
vec2(-0.750000,-0.111112),
vec2( 0.250000, 0.555556),
vec2(-0.250000,-0.555556),
vec2( 0.750000, 0.111112),
vec2(-0.875000, 0.777778),
vec2(0.125000, -0.925926),
vec2(-0.375000, -0.259260),
vec2(0.625000, 0.407408),
vec2(-0.625000, -0.703704),
vec2(0.375000, -0.037038),
vec2(-0.125000, 0.629630),
vec2(0.875000, -0.481482),
vec2(-0.937500, 0.185186));

// TODO: Pass correct view size
vec2 offset = haltonSequence[frameIndex];
offset.x /= resolution.x;
offset.y /= resolution.y;

vec4 currentPosition = gl_Position;
vec4 currentPositionJittered = currentPosition + (vec4(offset.x, offset.y, 0.0, 0.0) * currentPosition.w);

// We want to calculate the velocity with unjittered positions
// so that things that are not moving get a velocity = 0
vCurrentPosition = currentPosition;
vPreviousPosition = previousProjectionMatrix * previousModelViewMatrix * vec4(transformed, 1.0);
#ifdef OUTLINE_COMPENSATION
vPreviousPosition.xy += OUTLINE_COMPENSATION;
#endif
gl_Position = currentPositionJittered;

`,fDe=`
vec2 oldPos = vPreviousPosition.xy;
    oldPos /= vPreviousPosition.w;
    oldPos.xy = (oldPos.xy+1.)/2.0;

vec2 newPos = vCurrentPosition.xy;
    newPos /= vCurrentPosition.w;
    newPos.xy = (newPos.xy+1.)/2.0;

vec2 velocity = (newPos - oldPos);

// Discard fully transparent pixels 
if (gl_FragColor.a <= 0.0) discard;

gVelocity = vec4(velocity, 0.0, 1.0);
`,KN=["x","y","z","w"],mDe=["float","vec2","vec3","vec4"],gDe={float:"f",vec2:"v2",vec3:"v3",vec4:"v4",mat4:"v4",int:"i",bool:"b","float[]":"f[]","vec4[]":"v4[]"},vDe={t:"sampler2D",tc:"samplerCube",b:"bool",i:"int",f:"float",c:"vec3",v2:"vec2",v3:"vec3",v4:"vec4",m3:"mat3",m4:"mat4","f[]":"float[]","v4[]":"vec4[]"},yDe=class{constructor(){this.includes={consts:{},functions:{},structs:{}},this.cache="",this.slot="",this.shader="",this.context={},this.needsJitter=!0,this.getIncludesCode=function(){function e(t,r){return t.deps.length-r.deps.length}return function(t,r){let n=this.getIncludes(t,r);if(!n)return"";let i="";n=n.sort(e);for(let o=0;o<n.length;o++)n[o].src&&(i+=n[o].src+`
`);return i}}(),this.slots=[],this.caches=[],this.contexts=[],this.keywords={},this.nodeData={},this.fragmentVariables={},this.fragmentParsVariables={},this.vertexParsVariables={},this.requires={uv:[],color:[],transparent:!1,irradiance:!1,position:!1,worldPosition:!1,normal:!1,worldNormal:!1,vWorldViewDir:!1,modelMatrix:!1,viewMatrix:!1,projectionMatrix:!1},this.includes={consts:[],functions:[],structs:[]},this.attributes={},this.prefixCode=["#ifdef TEXTURE_LOD_EXT","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCubeLodEXT(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2DLodEXT(a, b, c)","#else","	#define texCube(a, b) textureCube(a, b)","	#define texCubeBias(a, b, c) textureCube(a, b, c)","	#define tex2D(a, b) texture2D(a, b)","	#define tex2DBias(a, b, c) texture2D(a, b, c)","#endif",`
			// NOTE: Include Spline's blending modes. This could be part of BlendNode
			#define SPE_BLENDING_NORMAL 0
			#define SPE_BLENDING_MULTIPLY 1
			#define SPE_BLENDING_SCREEN 2
			#define SPE_BLENDING_OVERLAY 3

			vec3 spe_normalBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, b, alpha );
			}

			vec3 spe_multiplyBlend( vec3 a, vec3 b, float alpha ) {
				return mix( a, a * b, alpha );
			}

			vec3 spe_screenBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = 1.0 - ( 1.0 - a ) * ( 1.0 - b );
				return mix( a, tmp, alpha );
			}

			vec3 spe_overlayBlend( vec3 a, vec3 b, float alpha ) {
				vec3 tmp = mix( 1. - 2. * (1. - a) * (1. - b), 2. * a * b, step( a, vec3(.5) ) );
				return clamp( mix( a, tmp, alpha ), 0.0, 1.0 );
			}

			vec3 spe_blend( vec3 a, vec3 b, float alpha, int mode ) {
				if ( mode == SPE_BLENDING_NORMAL ) return spe_normalBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_MULTIPLY ) return spe_multiplyBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_SCREEN ) return spe_screenBlend( a, b, alpha );
				else if ( mode == SPE_BLENDING_OVERLAY ) return spe_overlayBlend( a, b, alpha );
				return vec3( 1.0 );
			}
			`,"#include <packing>","#include <common>"].join(`
`),this.parsCode={vertex:["float neighbor_offset = 0.0001;",""].join(`
`),fragment:["float accumAlpha = 0.0;",`void accumulateAlpha(float alpha) {
					accumAlpha += (1.0 - accumAlpha) * alpha;
				}`,""].join(`
`)},this.code={vertex:"",fragment:""},this.nodeCode={vertex:"",fragment:""},this.resultCode={vertex:"",fragment:""},this.finalCode={vertex:"",fragment:""},this.inputs={uniforms:{list:[],vertex:[],fragment:[]},arrayUniforms:{list:[],vertex:[],fragment:[]},vars:{varying:[],vertex:[],fragment:[]}},this.defines={},this.uniforms={},this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.updaters=[],this.nodes=[],this.analyzing=!1}build(e,t){this.addVertexParsCode(dDe),this.addFragmentParsCode(hDe),this.buildShader("vertex",e),this.buildShader("fragment",t);for(let r=0;r<this.requires.uv.length;r++)if(this.requires.uv[r]){let n=r>0?r+1:"";this.addVaryCode("varying vec2 vUv"+n+";"),r>0&&this.addVertexParsCode("attribute vec2 uv"+n+";"),this.addVertexFinalCode("vUv"+n+" = uv"+n+";")}return this.requires.color[0]&&(this.addVaryCode("varying vec4 vColor;"),this.addVertexParsCode("attribute vec4 color;"),this.addVertexFinalCode("vColor = color;")),this.requires.color[1]&&(this.addVaryCode("varying vec4 vColor2;"),this.addVertexParsCode("attribute vec4 color2;"),this.addVertexFinalCode("vColor2 = color2;")),this.requires.position&&(this.addVaryCode("varying vec3 vPosition;"),this.addVertexFinalCode("vPosition = transformed;")),this.requires.worldPosition,this.requires.normal&&(this.addVaryCode("varying vec3 vObjectNormal;"),this.addVertexFinalCode("vObjectNormal = normal;")),this.requires.modelMatrix&&this.addFragmentParsCode("uniform mat4 modelMatrix;"),this.requires.viewMatrix&&this.addFragmentParsCode("uniform mat4 viewMatrix;"),this.requires.projectionMatrix&&this.addFragmentParsCode("uniform mat4 projectionMatrix;"),this.requires.worldNormal&&(this.addVaryCode("varying vec3 vWNormal;"),this.addVertexFinalCode("vWNormal = inverseTransformDirection( transformedNormal, viewMatrix ).xyz;")),this.requires.vWorldViewDir&&(this.addVaryCode("varying vec3 vWorldViewDir;"),this.addVertexFinalCode("vWorldViewDir = isPerspectiveMatrix( projectionMatrix ) ?  ( (modelMatrix * vec4(position, 1.0)).xyz - cameraPosition ) : vec3( -viewMatrix[0][2], -viewMatrix[1][2], -viewMatrix[2][2] );")),this.needsJitter&&(this.addVertexFinalCode(pDe),this.addFragmentFinalCode(fDe)),this}buildShader(e,t){this.resultCode[e]=t.build(this.setShader(e),"v4")}setMaterial(e,t){return this.defines={},this}addFlow(e,t,r){return this.addSlot(e).addCache(t).addContext(r)}removeFlow(){return this.removeSlot().removeCache().removeContext()}addCache(e){return this.cache=e??"",this.caches.push(this.cache),this}removeCache(){return this.caches.pop(),this.cache=this.caches[this.caches.length-1]||"",this}addContext(e){return this.context=Object.assign({},this.context,e),this.context.extra=this.context.extra||{},this.contexts.push(this.context),this}removeContext(){return this.contexts.pop(),this.context=this.contexts[this.contexts.length-1]||{},this}addSlot(e){return this.slot=e||"",this.slots.push(this.slot),this}removeSlot(){return this.slots.pop(),this.slot=this.slots[this.slots.length-1]||"",this}addFragmentVariable(e,t){this.fragmentVariables[e]===void 0&&(this.addFragmentCode(`${t} ${e};`),this.fragmentVariables[e]="")}addFragmentParsVariable(e,t){this.fragmentParsVariables[e]===void 0&&(this.addFragmentParsCode(`${t} ${e};`),this.fragmentParsVariables[e]="")}addVertexParsVariable(e,t){this.vertexParsVariables[e]===void 0&&(this.addVertexParsCode(`${t} ${e};`),this.vertexParsVariables[e]="")}addVertexCode(e){this.addCode(e,"vertex")}addFragmentCode(e){this.addCode(e,"fragment")}addCode(e,t){this.code[t??this.shader]+=e+`
`}addVertexNodeCode(e){this.addNodeCode(e,"vertex")}addFragmentNodeCode(e){this.addNodeCode(e,"fragment")}addNodeCode(e,t){this.nodeCode[t??this.shader]+=e+`
`}clearNodeCode(e){e=e??this.shader;let t=this.nodeCode[e];return this.nodeCode[e]="",t}clearVertexNodeCode(){return this.clearNodeCode("vertex")}clearFragmentNodeCode(){return this.clearNodeCode("fragment")}addVertexFinalCode(e){this.addFinalCode(e,"vertex")}addFragmentFinalCode(e){this.addFinalCode(e,"fragment")}addFinalCode(e,t){this.finalCode[t??this.shader]+=e+`
`}addVertexParsCode(e){this.addParsCode(e,"vertex")}addFragmentParsCode(e){this.addParsCode(e,"fragment")}addParsCode(e,t){this.parsCode[t??this.shader]+=e+`
`}addVaryCode(e){this.addVertexParsCode(e),this.addFragmentParsCode(e)}isCache(e){return this.caches.indexOf(e)!==-1}isSlot(e){return this.slots.indexOf(e)!==-1}define(e,t){this.defines[e]=t===void 0?1:t}require(e){this.requires[e]=!0}isDefined(e){return this.defines[e]!==void 0}getVar(e,t,r,n="varying",i="V",o=""){let l=this.getVars(n),c=l[e];if(!c){let a=l.length;c={name:r||"node"+i+a+(o?"_"+o:""),type:t},l.push(c),l[e]=c}return c}getTempVar(e,t,r,n){return this.getVar(e,t,r,this.shader,"T",n)}getAttribute(e,t){if(!this.attributes[e]){let r=this.getVar(e,t);this.addVertexParsCode("attribute "+t+" "+e+";"),this.addVertexFinalCode(r.name+" = "+e+";"),this.attributes[e]={varying:r,name:e,type:t}}return this.attributes[e]}getCode(e){return[this.prefixCode,this.parsCode[e],this.getVarListCode(this.getVars("varying"),"varying"),this.getVarListCode(this.inputs.uniforms[e],"uniform"),this.getVarListCode(this.inputs.arrayUniforms[e],"uniform"),this.getIncludesCode("consts",e),this.getIncludesCode("structs",e),this.getIncludesCode("functions",e),"void main() {",this.getVarListCode(this.getVars(e)),this.code[e],this.resultCode[e],this.finalCode[e],"}"].join(`
`)}getVarListCode(e,t){t=t??"";let r="";for(let n=0,i=e.length;n<i;++n){let o=e[n],l=o.type,c=o.name,a=o.size,s=this.getFormatByType(l);if(s===void 0)throw new Error("Node pars "+s+" not found.");s.includes("[]")?r+=t+" "+s.substring(0,s.length-2)+" "+c+`[${a}];
`:r+=t+" "+s+" "+c+`;
`}return r}getVars(e){return this.inputs.vars[e??this.shader]}getNodeData(e){let t=e instanceof yd?e.uuid:e;return this.nodeData[t]=this.nodeData[t]||{}}createUniform(e,t,r,n,i,o){if(t.includes("[]")){let l=this.inputs.arrayUniforms,c=l.list.length,a=new YN({type:t,size:r.size,name:n||"nodeUA"+c+(o?"_"+o:""),node:r,needsUpdate:i});return l.list.push(a),l[e].push(a),l[e][a.name]=a,this.uniforms[a.name]=a,a}else{let l=this.inputs.uniforms,c=l.list.length,a=new YN({type:t,name:n||"nodeU"+c+(o?"_"+o:""),node:r,needsUpdate:i});return l.list.push(a),l[e].push(a),l[e][a.name]=a,this.uniforms[a.name]=a,a}}createVertexUniform(e,t,r,n,i){return this.createUniform("vertex",e,t,r,n,i)}createFragmentUniform(e,t,r,n,i){return this.createUniform("fragment",e,t,r,n,i)}include(e,t,r){var o;let n;if(e=typeof e=="string"?So.get(e):e,this.context.include===!1)return e.name;e instanceof Ye?n=this.includes.functions:e instanceof vr?n=this.includes.consts:e instanceof J$&&(n=this.includes.structs);let i=n[this.shader]=n[this.shader]||[];if(e){let l=i[e.name];if(l||(l=i[e.name]={node:e,deps:[]},i.push(l),l.src=e.build(this,"source")),e instanceof Ye&&t&&i[t.name]&&i[t.name].deps.indexOf(e)===-1&&(i[t.name].deps.push(e),(o=e.includes)==null?void 0:o.length)){let c=0;do this.include(e.includes[c++],t);while(c<e.includes.length)}return r&&(l.src=r),e.name}else throw new Error("Include not found.")}colorToVectorProperties(e){return e.replace("r","x").replace("g","y").replace("b","z").replace("a","w")}colorToVector(e){return e.replace(/c/g,"v3")}getIncludes(e,t){return this.includes[e][t||this.shader]}getConstructorFromLength(e){return mDe[e-1]}isTypeMatrix(e){return/^m/.test(e)}getTypeLength(e){return e==="f"?1:parseInt(this.colorToVector(e).substr(1))}getTypeFromLength(e){return e===1?"f":"v"+e}findNode(...e){for(let t=0;t<arguments.length;t++){let r=e[t];if(r!=null&&r.isNode)return r}}resolve(...e){for(let t=0;t<arguments.length;t++){let r=e[t];if(r!==void 0){if(r.isNode)return r;if(r.isTexture)switch(r.mapping){case Uh:case Vh:return new uDe(r);case e1:return new cDe(new cc(r));default:return new cc(r)}else{if(r.isVector2)return new gi(r);if(r.isVector3)return new Ca(r);if(r.isVector4)return new Jl(r)}}}}format(e,t,r){switch(this.colorToVector(r+" <- "+t)){case"f <- v2":return e+".x";case"f <- v3":return e+".x";case"f <- v4":return e+".x";case"f <- i":case"f <- b":return"float( "+e+" )";case"v2 <- f":return"vec2( "+e+" )";case"v2 <- v3":return e+".xy";case"v2 <- v4":return e+".xy";case"v2 <- i":case"v2 <- b":return"vec2( float( "+e+" ) )";case"v3 <- f":return"vec3( "+e+" )";case"v3 <- v2":return"vec3( "+e+", 0.0 )";case"v3 <- v4":return e+".xyz";case"v3 <- i":case"v3 <- b":return"vec2( float( "+e+" ) )";case"v4 <- f":return"vec4( "+e+" )";case"v4 <- v2":return"vec4( "+e+", 0.0, 1.0 )";case"v4 <- v3":return"vec4( "+e+", 1.0 )";case"v4 <- i":case"v4 <- b":return"vec4( float( "+e+" ) )";case"i <- f":case"i <- b":return"int( "+e+" )";case"i <- v2":return"int( "+e+".x )";case"i <- v3":return"int( "+e+".x )";case"i <- v4":return"int( "+e+".x )";case"b <- f":return"( "+e+" != 0.0 )";case"b <- v2":return"( "+e+" != vec2( 0.0 ) )";case"b <- v3":return"( "+e+" != vec3( 0.0 ) )";case"b <- v4":return"( "+e+" != vec4( 0.0 ) )";case"b <- i":return"( "+e+" != 0 )"}return e}getTypeByFormat(e){return gDe[e]||e}getFormatByType(e){return vDe[e]||e}getUUID(e,t){return t=t!==void 0?t:!0,t&&this.cache&&(e=this.cache+"-"+e),e}getElementByIndex(e){return KN[e]}getIndexByElement(e){return KN.indexOf(e)}isShader(e){return this.shader===e}setShader(e){return this.shader=e,this}mergeDefines(e){for(let t in e)this.defines[t]=e[t];return this.defines}mergeUniform(e){for(let t in e)this.uniforms[t]=e[t];return this.uniforms}getTextureEncodingFromMap(e){let t;return e?e.isTexture&&(t=e.encoding):t=El,t===El&&this.context.gamma&&(t=It),t}},fn=class extends Uo{constructor(e=0,t,r,n){super("c"),this.nodeType="Color",this.value=e instanceof Io?e:new Io(e||0,t,r,n)}setRGBA(e){this.value.setRGBA(e.r,e.g,e.b,e.a)}generate(e,t,r,n,i,o){r=e.getUUID(r??this.getUUID()),n=n??this.getType(e);let l=e.getNodeData(r),c=this.getReadonly()&&this.generateReadonly!==void 0;if(this.alpha){let a=this.alpha.build(e,"f");e.addFragmentNodeCode(`accumAlpha += ( 1.0 - accumAlpha ) * ${a};`)}return c?this.generateReadonly(e,t,r,n,i,o):e.isShader("vertex")?(l.vertex||(l.vertex=e.createVertexUniform(n,this,i,o,this.getLabel())),e.format(l.vertex.name,n,t)):(l.fragment||(l.fragment=e.createFragmentUniform(n,this,i,o,this.getLabel())),e.format(l.fragment.name,n,t))}generateReadonly(e,t,r,n,i,o){return e.format("vec3("+this.value.r+", "+this.value.g+", "+this.value.b+")",n,t)}},Mr=class extends Uo{constructor(e){super("i"),this.nodeType="Int",this.value=Math.floor(e??0)}generateReadonly(e,t,r,n,i,o){return e.format(this.value.toString(),n,t)}},Qi=class extends Uo{constructor(t){super("b"),this.nodeType="Bool",this.value=t??!1}generateReadonly(t,r,n,i){return t.format(this.value?"true":"false",i,r)}},Fd=class extends Uo{constructor(e=1,t){super("f[]"),this.nodeType="FloatArray",this.size=e,this.value=Array.isArray(t)?t:typeof t=="number"?new Array(e).fill(t):new Array(e).fill(0)}},qD=class extends Uo{},bDe=class extends qD{constructor(e){super("v3"),this.image=e,this._value=new L}get value(){return this._value.x=this.image.isVideo?this.image.img.videoWidth??0:this.image.img.width,this._value.y=this.image.isVideo?this.image.img.videoHeight??0:this.image.img.height,this._value}},RP=class extends qD{constructor(e,t){super("t"),this.image=e,this.wrap=t}get value(){return this.image.getTexture(this.wrap)}},tX=class extends Uo{constructor(e){super("m3"),this.nodeType="Matrix3",this.value=e??new Sn}generateReadonly(e,t,r,n,i,o){return e.format("mat3("+this.value.elements.join(", ")+")",n,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}},Tl=class extends Uo{constructor(e){super("m4"),this.nodeType="Matrix4",this.value=e??new Re}generateReadonly(e,t,r,n,i,o){return e.format("mat4("+this.value.elements.join(", ")+")",n,t)}get elements(){return this.value.elements}set elements(e){this.value.fromArray(e)}};function QN(e,t,r){e.setUvTransform(r[0],r[1],t[0],t[1],0,0,0)}var xDe=class extends tX{constructor(e,t){super(new Sn),this.repeat=e,this.offset=t,QN(this.value,e,t)}updateMatrix(){QN(this.value,this.repeat,this.offset)}},Ud=class extends Uo{constructor(e=1,t){super("v4[]"),this.nodeType="Vector4Array",this.size=e,this.value=Array.isArray(t)?t:t instanceof Ot?new Array(e).fill(t):new Array(e).fill(new Ot(0))}},ZN=class extends Er{constructor(e,t,r,n){super("v3"),this.nodeType="Blend",this.a=e,this.b=t,this.alpha=r,this.mode=n}generate(e,t){if(e.isShader("fragment")){let r=[];return r.push(this.a.build(e,"c")),r.push(this.b.build(e,"c")),r.push(this.alpha.build(e,"f")),r.push(this.mode.build(e,"i")),e.format("spe_blend("+r.join(",")+")",this.getType(e),t)}else return console.warn("BlendNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},rX=class extends Er{constructor(e,t){super("v3"),this.nodeType="CustomColor",this.color=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let r=e.include(rX.Nodes.customColor);e.addFragmentVariable(this.calpha,"float");let n=[];return n.push(this.color.build(e,"v3")),n.push(this.mask?`luminance(${this.mask.build(e,"v3")})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("CustomColorNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},zP=rX;zP.Nodes=function(){return{customColor:new Ye(`vec3 customColor(vec3 color, float mask, float alpha, out float calpha) {
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color;
			}`)}}();var nX=class extends Er{constructor(e,t){super("v3"),this.nodeType="CustomNormal",this.cnormal=e,this.alpha=t,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){let r=e.include(nX.Nodes.customNormal);e.addFragmentVariable(this.calpha,"float");let n=[];return n.push(this.cnormal.build(e,"v3")),n.push("normal"),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("CustomNormalNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},iX=nX;iX.Nodes=function(){return{customNormal:new Ye(`vec3 customNormal(vec3 cnormal, vec3 norm, float mask, float alpha, out float calpha) {
				vec3 normal = packNormalToRGB( norm ).rgb;
				normal *= step( vec3(0.5), cnormal );

				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * lalpha;

				return normal;
			}`)}}();var Y0=class extends Er{constructor(e,t,r,n,i,o,l,c,a,s,u,d){super("v3"),this.nodeType="CustomTexture",this.texture=e,this.textureSize=t,this.crop=r,this.projection=n,this.axis=i,this.side=o,this.size=l,this.blending=c,this.mat=a,this.isMask=d,this.alpha=s,this.mode=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){e.require("position"),e.require("normal"),e.require("uv"),e.requires.uv=[!0],e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0;let r=`g${this.uuid.toString().replace(/-/g,"")}`,n;switch(this.projection.value){case 3:n=e.include(Y0.Nodes.cylindrical);break;case 2:n=e.include(Y0.Nodes.spherical);break;case 1:let o=["vec3(1.0, 0.0, 0.0)","vec3(0.0, 1.0, 0.0)","vec3(0.0, 0.0, 1.0)"][this.axis.value],l=["zy","xz","xy"][this.axis.value],c=new Ye(`
		vec3 ${r}_planarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 projected = (1. + (position.${l})) / 2.;
				vec2 uvs = ( mat * vec3( (projected * 2. - 1.) / (size * .5), 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				${this.side.value===2?"":`lalpha *= step(0.0, ${this.side.value===1?"-1.0 * ":""}dot(vObjectNormal, ${o}));`}

				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`);n=e.include(c);break;case 4:n=e.include(Y0.Nodes.triplanar);break;default:n=e.include(Y0.Nodes.uv);break}e.addFragmentVariable(this.calpha,"float");let i=[];if(i.push("normal"),i.push(this.texture.generate(e,"t")),i.push(this.textureSize.build(e,"v2")),i.push(this.crop.build(e,"f")),i.push(this.mat.build(e,"mat3")),i.push(this.size.build(e,"v2")),i.push(this.blending.build(e,"f")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),this.projection.value===4){let o=`${r}_writeUvs`,l=o+"0",c=o+"1",a=o+"2",s=`${r}_triplanarWeights`;e.addFragmentVariable(l,"vec2"),e.addFragmentVariable(c,"vec2"),e.addFragmentVariable(a,"vec2"),e.addFragmentVariable(s,"vec3"),i.push(l),i.push(c),i.push(a),i.push(s)}else{let o=`${r}_writeUvs`;e.addFragmentVariable(o,"vec2"),i.push(o)}return e.format(n+"("+i.join(",")+")",this.getType(e),t)}},YD=Y0;YD.Nodes=function(){let e=new Ye(`
vec3 cylindricalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(position);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float scaledHeight = position.y / (size.y * 0.5);
                float v =  (scaledHeight / 2.) + .5;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;

				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),t=new Ye(`
vec3 sphericalTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
                vec3 posN = normalize(vPosition);
                float u = 0.5 + atan(posN.z, posN.x) / (2.*3.1415);
                float v = 0.5 + asin(posN.y) / 3.1415;

                vec2 calculatedUv = vec2(u,v);
				vec2 uvs = ( mat * vec3( calculatedUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

                vec2 df = fwidth(uvs);
               	if(df.x > 0.5) df.x = 0.;
				#ifdef GL_EXT_shader_texture_lod
                vec4 tmp = texture2DLodEXT(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#else
                vec4 tmp = textureLod(tex, uvs, log2(max(df.x, df.y)*min(textureSize.x, textureSize.y)));
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}
`),r=new Ye(`vec3 uvTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUv) {
				vec2 uvs = ( mat * vec3( vUv * 2. - 1., 1. ) / 2. + 0.5 ).xy;
				writeUv = uvs;

				vec4 tmp = texture2D( tex, uvs );

				vec3 col = tmp.rgb;

				float lalpha = alpha * tmp.a;
				if ( crop > 0.5 ) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						lalpha = 0.0;
					}
				}
				
				lalpha *= mask;

				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;
			}`),n=new Ye(`vec3 triplanarTexture(vec3 normal, sampler2D tex, vec2 textureSize, float crop, mat3 mat, vec2 size, float blending, bool isMask, float mask, float alpha, int mode, out float calpha, out vec2 writeUvs0, out vec2 writeUvs1, out vec2 writeUvs2, out vec3 writeWeights) {
				vec3 p = position;
				vec2 uv0 = (1.0 + p.xy) / 2.0;     
				vec2 uv1 = (1.0 + p.zy) / 2.0;		
				vec2 uv2 = (1.0 + p.xz) / 2.0;		
	
				uv0 = (mat * vec3((uv0 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv1 = (mat * vec3((uv1 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;
				uv2 = (mat * vec3((uv2 * 2.0 - 1.0) / (size * 0.5), 1.0) / 2.0 + 0.5).xy;

				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));

				// Write out all sets of UVs that we generated
				writeUvs0 = uv0;
				writeUvs1 = uv1;
				writeUvs2 = uv2;
				writeWeights = weights;

				// Derivatives for LOD
				vec2 df0 = fwidth(uv0);
				vec2 df1 = fwidth(uv1);
				vec2 df2 = fwidth(uv2);
				if (df0.x > 0.5) df0.x = 0.0;
				if (df1.x > 0.5) df1.x = 0.0;
				if (df2.x > 0.5) df2.x = 0.0;

				#ifdef GL_EXT_shader_texture_lod
                	vec4 tmp = 
						texture2DLodEXT(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						texture2DLodEXT(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						texture2DLodEXT(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#else
                	vec4 tmp = 
						textureLod(tex, uv0, log2(max(df0.x, df0.y)*min(textureSize.x, textureSize.y))) * weights.z + 
						textureLod(tex, uv1, log2(max(df1.x, df1.y)*min(textureSize.x, textureSize.y))) * weights.x + 
						textureLod(tex, uv2, log2(max(df2.x, df2.y)*min(textureSize.x, textureSize.y))) * weights.y;
				#endif

				vec3 col = tmp.rgb;
				float lalpha = alpha * tmp.a;

				// Apply cropping across all 3 planes
				if ( crop > 0.5 ) {
					if ( uv0.x < 0.0 || uv0.x > 1.0 || uv0.y < 0.0 || uv0.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv1.x < 0.0 || uv1.x > 1.0 || uv1.y < 0.0 || uv1.y > 1.0 )  {
						lalpha = 0.0;
					}
					if ( uv2.x < 0.0 || uv2.x > 1.0 || uv2.y < 0.0 || uv2.y > 1.0 )  {
						lalpha = 0.0;
					}
				}

				lalpha *= mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return col;//n * 0.5 + 0.5;
			}			
			`);return{cylindrical:e,spherical:t,uv:r,triplanar:n}}();var $0=class extends Er{constructor(e,t,r,n,i,o,l,c,a,s,u,d){super("v3"),this.nodeType="Depth",this.gradientType=e,this.smooth=t,this.near=r,this.far=n,this.isVector=i,this.isWorldSpace=o,this.origin=l,this.direction=c,this.colors=a,this.steps=s,this.isMask=d,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let r=`g${this.uuid.toString().replace(/-/g,"")}`,n=new Ye(`vec3 ${r}_sdepth(float near, float far, vec3 origin, vec3 direction, vec4 colors[${r}_MAX_COLORS], float steps[${r}_MAX_COLORS], bool isMask, float mask, float alpha, out float calpha) {
               vec4 color = colors[0];
               #ifdef ${r}_IS_VECTOR
                   #ifdef ${r}_LINEAR
                       #ifdef ${r}_WORLDSPACE
                       float depth = vectorLinearWorldSpaceDepth(direction, origin, near, far);
                       #else
                       float depth = vectorLinearObjectSpaceDepth(direction, origin, near, far);
                       #endif
                   #else
                       #ifdef ${r}_WORLDSPACE
                           float depth = vectorSphericalWorldSpaceDepth(origin, near, far);
                       #else
                           float depth = vectorSphericalObjectSpaceDepth(origin, near, far);
                       #endif
                   #endif
               #else
                   float dist = length(vWPosition - cameraPosition);
			       float depth = ( dist - near ) / ( far - near );
               #endif


              float p;
              #ifdef ${r}_SMOOTH
				for ( int i = 1; i < ${r}_MAX_COLORS; i++ ) {
						p = clamp( ( depth - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}
              #else
                for ( int i = 1; i < ${r}_MAX_COLORS; i++ ) {
                   p = clamp(( depth - steps[i - 1] ) / ( steps[i] - steps[i - 1] ), 0.0, 1.0);
                   color = mix(color, colors[i], p);
                 }
              #endif

               float lalpha = alpha * color.a * mask;
               calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
			   accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
			   
               return color.rgb;
			}`,[$0.Nodes.vectorLinearWorldSpaceDepth,$0.Nodes.vectorLinearObjectSpaceDepth,$0.Nodes.vectorSphericalObjectSpaceDepth,$0.Nodes.vectorSphericalWorldSpaceDepth]);if(e.isShader("fragment")){e.define(`${r}_MAX_COLORS`,this.colors.value.length),this.smooth.value&&e.define(`${r}_SMOOTH`),this.isVector.value>.5&&e.define(`${r}_IS_VECTOR`),this.gradientType.value===0&&e.define(`${r}_LINEAR`),this.isWorldSpace.value>.5&&e.define(`${r}_WORLDSPACE`),e.require("worldPosition"),e.addFragmentVariable(this.calpha,"float");let i=e.include(n),o=[];return o.push(this.near.build(e,"f")),o.push(this.far.build(e,"f")),o.push(this.origin.build(e,"v3")),o.push(this.direction.build(e,"v3")),o.push(this.colors.build(e,"v4[]")),o.push(this.steps.build(e,"f[]")),o.push(this.isMask.build(e,"b")),o.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),o.push(this.alpha.build(e,"f")),o.push(this.calpha),e.format(i+"("+o.join(",")+")",this.getType(e),t)}else return console.warn("DepthNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},oX=$0;oX.Nodes=function(){let e=new Ye(`float vectorLinearWorldSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(vWPosition.x - origin.x) + n.y*(vWPosition.y - origin.y) + n.z*(vWPosition.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),t=new Ye(`float vectorLinearObjectSpaceDepth(vec3 direction, vec3 origin, float near, float far) {
               vec3 n = normalize(direction);
               float dist = (n.x*(position.x - origin.x) + n.y*(position.y - origin.y) + n.z*(position.z - origin.z));
               return ( dist - near ) / ( far - near );
            }`),r=new Ye(`float vectorSphericalWorldSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(vWPosition - origin);
               return ( dist - near ) / ( far - near );
            }`),n=new Ye(`float vectorSphericalObjectSpaceDepth(vec3 origin, float near, float far) {
               float dist = length(position - origin);
               return ( dist - near ) / ( far - near );
            }`);return{vectorLinearWorldSpaceDepth:e,vectorLinearObjectSpaceDepth:t,vectorSphericalWorldSpaceDepth:r,vectorSphericalObjectSpaceDepth:n}}();var wDe=class extends Er{constructor(e,t,r,n,i,o,l,c){super("v3"),this.nodeType="Fresnel",this.color=e,this.bias=t,this.scale=r,this.intensity=n,this.factor=i,this.isMask=c,this.alpha=o,this.mode=l,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let r=new Ye(`vec3 fresnel(vec3 color, float bias, float scale, float intensity, float factor, bool isMask, float mask, float alpha, int mode, out float calpha) {
					float fresnel = bias + scale * pow( abs( factor + dot( normalize( vWorldViewDir ), normalize( vWNormal ) ) ), intensity );

					float lalpha = clamp(fresnel, 0.0, 1.0) * alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return color;
				}`),n=e.include(r),i=[];return i.push(this.color.build(e,"c")),i.push(this.bias.build(e,"f")),i.push(this.scale.build(e,"f")),i.push(this.intensity.build(e,"f")),i.push(this.factor.build(e,"f")),i.push(this.isMask.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.mode.build(e,"i")),i.push(this.calpha),e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("FresnelNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},aX=class extends Er{constructor(e,t,r,n,i,o,l,c,a){super("v3"),this.nodeType="Gradient",this.gradientType=e,this.smooth=t,this.colors=r,this.steps=n,this.offset=i,this.morph=o,this.angle=l,this.isMask=a,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.define("GRAD_MAX",10),e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include(aX.Nodes.gradient),n=[];return n.push(this.gradientType.build(e,"i")),n.push(this.smooth.build(e,"b")),n.push(this.colors.build(e,"v4[]")),n.push(this.steps.build(e,"f[]")),n.push(this.offset.build(e,"v2")),n.push(this.morph.build(e,"v2")),n.push(this.angle.build(e,"f")),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("GradientNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},sX=aX;sX.Nodes=function(){return{gradient:new Ye(`vec3 gradient(int gradientType, bool smoothed, vec4 colors[GRAD_MAX], float steps[GRAD_MAX], vec2 offset, vec2 morph, float angle, bool isMask, float mask, float alpha, out float calpha) {
				vec4 color = colors[0];
				vec2 m = morph / vUv.xy;
				vec2 rot = vec2( 0.5 + m.x, m.y );
				vec2 dt = vec2(
					cos( angle ) * rot.x - sin( angle ) * rot.y,
					sin( angle ) * rot.x + cos( angle ) * rot.y
				);
				vec2 pt = ( vUv - 0.5 + offset ) / 2.0 + dt / 2.0;
				float t = dot( pt, dt ) / dot( dt, dt );
				if ( gradientType == 1 ) {
					t = distance (
						( vUv + morph ) * 3.0,
						( vUv + offset ) + 1.0
					) + angle;
				} else if ( gradientType == 2 ) {
					float polar = atan(
						vUv.x + morph.x - 0.5 + offset.x,
						vUv.y + morph.y - 0.5 + offset.y
					) * -1.0;
					t = fract( ( angle / PI / -2.0 ) + 0.5 * ( polar / PI ) );
				}

				float p;
				if (smoothed) {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
					}

				} else {
					for ( int i = 1; i < GRAD_MAX; i++ ) {
						p = clamp( ( t - steps[i-1] ) / ( steps[i] - steps[i-1] ), 0.0, 1.0 );
						color = mix(color, colors[i], p);
					}
				}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
				
				return color.xyz;
			}`)}}();var lX=class extends Er{constructor(e,t,r,n){super("v3"),this.nodeType="Matcap",this.texture=e,this.isMask=n,this.alpha=t,this.mode=r,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.addFragmentVariable(this.calpha,"float");let r=e.include(lX.Nodes.matcap);e.require("normal"),e.requires.normal=!0;let n=[];return n.push(this.texture.generate(e,"t")),n.push("normal"),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.mode.build(e,"i")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("MatcapNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},cX=lX;cX.Nodes=function(){return{matcap:new Ye(`vec3 matcap(sampler2D matcapTex, vec3 normal, bool isMask, float mask, float alpha, int mode, out float calpha) {
					vec3 viewDir = normalize( vViewPosition );
					vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
					vec3 y = cross( viewDir, x );
					vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5; // 0.495 to remove artifacts caused by undersized matcap disks
					vec4 matcapColor = texture2D( matcapTex, uv );

					float lalpha = alpha * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));
					
					return matcapColor.rgb;
            	}`)}}();var $D=(e=>(e.SIMPLEX="simplex3d",e.SIMPLEX_FRACTAL="simplex3dFractal",e.ASHIMA="simplexAshima",e.FBM="fbm",e.PERLIN="perlin",e.VORONOI="voronoi",e))($D||{}),wo=function(){let e=new Ye(`vec3 random3(vec3 c) {
			float j = 4096.0*sin(dot(c,vec3(17.0, 59.4, 15.0)));
			vec3 r;
			r.z = fract(512.0*j);
			j *= .125;
			r.x = fract(512.0*j);
			j *= .125;
			r.y = fract(512.0*j);
			return r-0.5;
		}`),t=new Ye(`float simplex3d(vec3 p) {
			 vec3 s = floor(p + dot(p, vec3(F3)));
			 vec3 x = p - s + dot(s, vec3(G3));
			 
			 vec3 e = step(vec3(0.0), x - x.yzx);
			 vec3 i1 = e*(1.0 - e.zxy);
			 vec3 i2 = 1.0 - e.zxy*(1.0 - e);
				
			 vec3 x1 = x - i1 + G3;
			 vec3 x2 = x - i2 + 2.0*G3;
			 vec3 x3 = x - 1.0 + 3.0*G3;
			 
			 vec4 w, d;
			 
			 w.x = dot(x, x);
			 w.y = dot(x1, x1);
			 w.z = dot(x2, x2);
			 w.w = dot(x3, x3);
			 
			 w = max(0.6 - w, 0.0);
			 
			 d.x = dot(random3(s), x);
			 d.y = dot(random3(s + i1), x1);
			 d.z = dot(random3(s + i2), x2);
			 d.w = dot(random3(s + 1.0), x3);
			 
			 w *= w;
			 w *= w;
			 d *= w;
			 
			 return dot(d, vec4(52.0));
		}`,[e]);t.keywords.F3=new vr("float F3 0.3333333"),t.keywords.G3=new vr("float G3 0.1666667");let r=new Ye(`float simplex3dFractal(vec3 m) {
			mat3 rot1 = mat3(-0.37, 0.36, 0.85,-0.14,-0.93, 0.34,0.92, 0.01,0.4);
			mat3 rot2 = mat3(-0.55,-0.39, 0.74, 0.33,-0.91,-0.24,0.77, 0.12,0.63);
			mat3 rot3 = mat3(-0.71, 0.52,-0.47,-0.08,-0.72,-0.68,-0.7,-0.45,0.56);
			return 0.5333333 * simplex3d(m * rot1)
				 + 0.2666667 * simplex3d(2.0 * m * rot2)
				 + 0.1333333 * simplex3d(4.0 * m * rot3)
				 + 0.0666667 * simplex3d(8.0 * m);
		}`,[t]),n=new Ye("vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x, 289.0);}"),i=new Ye("vec4 taylorInvSqrt(vec4 r){return 1.79284291400159 - 0.85373472095314 * r;}"),o=new Ye(`float simplexAshima(vec3 v) {
		  const vec2  C = vec2(1.0/6.0, 1.0/3.0) ;
		  const vec4  D = vec4(0.0, 0.5, 1.0, 2.0);
		  vec3 i  = floor(v + dot(v, C.yyy) );
		  vec3 x0 =   v - i + dot(i, C.xxx) ;
		  vec3 g = step(x0.yzx, x0.xyz);
		  vec3 l = 1.0 - g;
		  vec3 i1 = min( g.xyz, l.zxy );
		  vec3 i2 = max( g.xyz, l.zxy );
		  vec3 x1 = x0 - i1 + 1.0 * C.xxx;
		  vec3 x2 = x0 - i2 + 2.0 * C.xxx;
		  vec3 x3 = x0 - 1. + 3.0 * C.xxx;
		  i = mod(i, 289.0 ); 
		  vec4 p = permute( permute( permute( 
					 i.z + vec4(0.0, i1.z, i2.z, 1.0 ))
				   + i.y + vec4(0.0, i1.y, i2.y, 1.0 )) 
				   + i.x + vec4(0.0, i1.x, i2.x, 1.0 ));
		  float n_ = 1.0/7.0; // N=7
		  vec3  ns = n_ * D.wyz - D.xzx;
		  vec4 j = p - 49.0 * floor(p * ns.z *ns.z);  //  mod(p,N*N)
		  vec4 x_ = floor(j * ns.z);
		  vec4 y_ = floor(j - 7.0 * x_ );    // mod(j,N)
		  vec4 x = x_ *ns.x + ns.yyyy;
		  vec4 y = y_ *ns.x + ns.yyyy;
		  vec4 h = 1.0 - abs(x) - abs(y);
		  vec4 b0 = vec4( x.xy, y.xy );
		  vec4 b1 = vec4( x.zw, y.zw );
		  vec4 s0 = floor(b0)*2.0 + 1.0;
		  vec4 s1 = floor(b1)*2.0 + 1.0;
		  vec4 sh = -step(h, vec4(0.0));
		  vec4 a0 = b0.xzyw + s0.xzyw*sh.xxyy ;
		  vec4 a1 = b1.xzyw + s1.xzyw*sh.zzww ;
		  vec3 p0 = vec3(a0.xy,h.x);
		  vec3 p1 = vec3(a0.zw,h.y);
		  vec3 p2 = vec3(a1.xy,h.z);
		  vec3 p3 = vec3(a1.zw,h.w);
		  vec4 norm = taylorInvSqrt(vec4(dot(p0,p0), dot(p1,p1), dot(p2, p2), dot(p3,p3)));
		  p0 *= norm.x;
		  p1 *= norm.y;
		  p2 *= norm.z;
		  p3 *= norm.w;
		  vec4 m = max(0.6 - vec4(dot(x0,x0), dot(x1,x1), dot(x2,x2), dot(x3,x3)), 0.0);
		  m = m * m;
		  return 42.0 * dot( m*m, vec4( dot(p0,x0), dot(p1,x1), 
										dot(p2,x2), dot(p3,x3) ) );
		}`,[n,i]),l=new Ye("vec4 mod289(vec4 x){return x - floor(x * (1.0 / 289.0)) * 289.0;}"),c=new Ye("vec4 perm(vec4 x){return mod289(((x * 34.0) + 1.0) * x);}",[l]),a=new Ye(`float noise(vec3 p){
			vec3 a = floor(p);
			vec3 d = p - a;
			d = d * d * (3.0 - 2.0 * d);
			vec4 b = a.xxyy + vec4(0.0, 1.0, 0.0, 1.0);
			vec4 k1 = perm(b.xyxy);
			vec4 k2 = perm(k1.xyxy + b.zzww);
			vec4 c = k2 + a.zzzz;
			vec4 k3 = perm(c);
			vec4 k4 = perm(c + 1.0);
			vec4 o1 = fract(k3 * (1.0 / 41.0));
			vec4 o2 = fract(k4 * (1.0 / 41.0));
			vec4 o3 = o2 * d.z + o1 * (1.0 - d.z);
			vec2 o4 = o3.yw * d.x + o3.xz * (1.0 - d.x);
			return o4.y * d.y + o4.x * (1.0 - d.y);
		}`,[c]),s=new Ye(`float fbm(vec3 x) {
			float v = 0.0;
			float a = 0.5;
			vec3 shift = vec3(100);
			for (int i = 0; i < NUM_OCTAVES; ++i) {
				v += a * noise(x);
				x = x * 2.0 + shift;
				a *= 0.5;
			}
			return v;
		}`,[a]);s.keywords.NUM_OCTAVES=new vr("int NUM_OCTAVES 5");let u=new Ye("vec3 fade(vec3 t) {return t*t*t*(t*(t*6.0-15.0)+10.0);}"),d=new Ye(`float perlin(vec3 P){
		  vec3 Pi0 = floor(P);
		  vec3 Pi1 = Pi0 + vec3(1.0);
		  Pi0 = mod(Pi0, 289.0);
		  Pi1 = mod(Pi1, 289.0);
		  vec3 Pf0 = fract(P);
		  vec3 Pf1 = Pf0 - vec3(1.0);
		  vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
		  vec4 iy = vec4(Pi0.yy, Pi1.yy);
		  vec4 iz0 = Pi0.zzzz;
		  vec4 iz1 = Pi1.zzzz;
		  vec4 ixy = permute(permute(ix) + iy);
		  vec4 ixy0 = permute(ixy + iz0);
		  vec4 ixy1 = permute(ixy + iz1);
		  vec4 gx0 = ixy0 / 7.0;
		  vec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;
		  gx0 = fract(gx0);
		  vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
		  vec4 sz0 = step(gz0, vec4(0.0));
		  gx0 -= sz0 * (step(0.0, gx0) - 0.5);
		  gy0 -= sz0 * (step(0.0, gy0) - 0.5);
		  vec4 gx1 = ixy1 / 7.0;
		  vec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;
		  gx1 = fract(gx1);
		  vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
		  vec4 sz1 = step(gz1, vec4(0.0));
		  gx1 -= sz1 * (step(0.0, gx1) - 0.5);
		  gy1 -= sz1 * (step(0.0, gy1) - 0.5);
		  vec3 g000 = vec3(gx0.x,gy0.x,gz0.x);
		  vec3 g100 = vec3(gx0.y,gy0.y,gz0.y);
		  vec3 g010 = vec3(gx0.z,gy0.z,gz0.z);
		  vec3 g110 = vec3(gx0.w,gy0.w,gz0.w);
		  vec3 g001 = vec3(gx1.x,gy1.x,gz1.x);
		  vec3 g101 = vec3(gx1.y,gy1.y,gz1.y);
		  vec3 g011 = vec3(gx1.z,gy1.z,gz1.z);
		  vec3 g111 = vec3(gx1.w,gy1.w,gz1.w);
		  vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
		  g000 *= norm0.x;
		  g010 *= norm0.y;
		  g100 *= norm0.z;
		  g110 *= norm0.w;
		  vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
		  g001 *= norm1.x;
		  g011 *= norm1.y;
		  g101 *= norm1.z;
		  g111 *= norm1.w;
		  float n000 = dot(g000, Pf0);
		  float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
		  float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
		  float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
		  float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
		  float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
		  float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
		  float n111 = dot(g111, Pf1);
		  vec3 fade_xyz = fade(Pf0);
		  vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
		  vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
		  float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x); 
		  return 2.2 * n_xyz;
		}`,[n,i,u]),h=new Ye(`float hashwithoutsine13(vec3 p3)
		{
			p3  = fract(p3 * .1031);
			p3 += dot(p3, p3.yzx + 33.33);
			return fract((p3.x + p3.y) * p3.z);
		}`),p=new Ye(`vec3 hashwithoutsine33(vec3 p3)
		{
			p3 = fract(p3 * vec3(.1031, .1030, .0973));
			p3 += dot(p3, p3.yxz+33.33);
			return fract((p3.xxy + p3.yxx)*p3.zyx);
		}`),m=new Ye(`float metric(in vec3 p)
		{
			// L2 
			return length(p);

			// Chebyshev 
			// vec3 a = abs(p);
			// return max(a.x, max(a.y, a.z));
		}`),f=new Ye(`float smin( float a, float b, float k )
		{
			float h = smoothstep(0.0, 1.0, 0.5 + 0.5 * (b - a) / k);
			float correction = k * h * (1.0 - h);
			return mix(b, a, h) - correction;
		}`),g=new Ye(`float smax( float a, float b, float k )
		{
			float h = smoothstep(1.0, 0.0, 0.5 + 0.5 * (a - b) / k);
			float correction = k * h * (1.0 - h);
			return mix(a, b, h) + correction;
		}`),v=new Ye(`float remap(float value, float input_min, float input_max, float output_min, float output_max) {
			// Compute width of each interval
			float input_width = input_max - input_min;
			float output_width = output_max - output_min;
		
			// Convert input range into a 0-1 range 
			float scaled = (value - input_min) / input_width;
		
			// Convert the 0-1 range into a value in output range
			return output_min + (scaled * output_width);
		}`),x=new Ye(`float voronoi(in vec3 x, in int style, in float smoothness, in float seed, in int quality) 
		{
			// Integer and fractional parts of this point's coordinates
			ivec3 p = ivec3(floor(x));
			vec3 f = fract(x);

			// Different variables that we will use to construct noise:
			//
			// f1: distance to the closest feature point
			// f2: distance to the second closest feature point
			// e: distance to the closest edge (cell boundary)
			//
			// We also compute "smooth" versions of all of the above quantites, essentially
			// replacing "hard" minimums with "smooth" minimums (described by IQ)
			float f1_smooth = 8.0;
			float f1 = 8.0;
			float f2_smooth = 8.0;
			float f2 = 8.0;
			float e_smooth = 8.0;
			float e = 8.0;

			// Variables stored from closest cell
			ivec3 mb;
			vec3 mr; 

			int steps = quality;
			
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				ivec3 b = ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d = length(r);
				
				f1_smooth = smin(d, f1_smooth, smoothness);

				// Store un-smoothed distances too 
				if (d < f1) 
				{
					f2 = f1;
					f1 = d;

					mb = ivec3(x, y, z);
					mr = r;
				} 
				else if (d < f2) 
				{
					f2 = d;
				}
			}	
			
			float id = hashwithoutsine13(vec3(p + mb) + seed);

			// Second pass for edge distance  
			for (int x = -steps; x <= steps; x++) 
			for (int y = -steps; y <= steps; y++)
			for (int z = -steps; z <= steps; z++)
			{
				// Start search at the cell that contains the closest point to "x" (found in 1st pass)
				ivec3 b = mb + ivec3(x, y, z);
				vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
				float d1 = dot(0.5 * (mr + r), (r - mr)); 				// IQ normalizes "r - mr" but that breaks things for the smooth version?
				float d2 = dot(0.5 * (mr + r), normalize(r - mr));

				e_smooth = smin(d1, e_smooth, smoothness);

				e = min(e, d2);

				// Also compute a smooth version of F2 in this pass
				{
					ivec3 b = ivec3(x, y, z);
					if (b != mb) 
					{
						vec3 r = vec3(b) + hashwithoutsine33(vec3(p + b) + seed) - f;
						float d = length(r);

						f2_smooth = smin(d, f2_smooth, smoothness);
					}
				}
			}

			// Different visualization modes 
			if (style == 0) 
			{
				return f1_smooth;
			}
			if (style == 1) 
			{
				return f2_smooth;
			}
			if (style == 2) 
			{
				return f2_smooth - f1_smooth;
				
				// "Pebbles" also cool
				//return step(0.2, f2_smooth - f1_smooth);
			}
			if (style == 3) 
			{
				// This one is really good for rock / stone effects
				float a = f1; 
				float b = f2;
				float k = 3.0;
				float h = max(k - abs(a - b), 0.0) / k;
				float final = min(a, b) - h * h * k * (1.0 / 4.0);
				return final;
			}
			if (style == 4) 
			{
				// Some random adjustments to make this style stand out more 
				return exp(5.0 * e_smooth);
			}
			if (style == 5) 
			{
				return pow(f1_smooth, 3.0);
			}
			if (style == 6) 
			{				
				const float eps = 0.0125;

				// Thicker lines as the user increases the smoothness slider
				float thickness = smoothness * 0.25 + eps;

				// Blurrier lines as the user increases the smoothness slider
				float blur = pow(smoothness, 3.0) * 0.25 + eps;

				return smoothstep(
					thickness - thickness * blur, 
					thickness + thickness * blur, 
					e
				);
			}
			if (style == 7) 
			{
				return hashwithoutsine13(vec3(p + mb) + seed);
			}
		}
	`,[h,p,m,f,g,v]);return{simplex:t,simplexFractal:r,simplexAshima:o,fbm:s,perlin:d,voronoi:x}}(),uX=class extends Er{constructor(e,t,r,n,i,o,l,c,a,s,u,d,h,p,m,f,g,v,x){super("v3"),this.nodeType="Noise",this.scale=e,this.size=t,this.move=r,this.fA=n,this.fB=i,this.distortion=o,this.colorA=l,this.colorB=c,this.colorC=a,this.colorD=s,this.noiseType=d,this.voronoiStyle=p,this.highCut=m,this.lowCut=f,this.smoothness=g,this.seed=v,this.quality=x,this.isMask=h,this.alpha=u,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t,r,n,i){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let o=Object.values($D)[this.noiseType.value],l=o=="voronoi"?`
		float v = ${o}(st + move, voronoiStyle, smoothness, seed, quality);

		// Apply clipping to colors
		v = remap(v, lowCut, highCut, 0.0, 1.0);
		v = smax(v, 0.0, smoothness * 0.25);
		v = smin(v, 1.0, smoothness * 0.25);

		// Note that the voronoi mode only uses colors "A" and "C" from the UI 
		vec4 color = mix(colorA, colorC, v); 
		`:`
		vec3 q = vec3(${o}(st),
					   ${o}(st + vec3(1.0)),
					   ${o}(st + vec3(1.0)));
		vec3 r = vec3(${o}(st + vec3(distortion, 1.0) * q + vec3(fA, 1.0) + move),
					  ${o}(st + vec3(distortion, 1.0) * q + vec3(fB, 1.0) + move), 
					  ${o}(st * q));
		float f = ${o}(st + r);
		vec4 color;
		color = mix(colorA, colorB, clamp((f * f) * 4.0, 0.0, 1.0));
		color = mix(color, colorC, clamp(length(q), 0.0, 1.0));
		color = mix(color, colorD, clamp(length(r.x), 0.0, 1.0));
		`,c=new Ye(`vec3 ${o}customNoise(float scale, vec3 size, float move, vec2 fA, vec2 fB, vec2 distortion, vec4 colorA, vec4 colorB, vec4 colorC, vec4 colorD, int voronoiStyle, float highCut, float lowCut, float smoothness, float seed, int quality, bool isMask, float mask, float alpha, out float calpha) 
			{
                // Prevent scale of zero 
				scale = max(abs(scale), 0.001);

				vec3 st = position / size;
				st /= scale;

				${l}

				float lalpha = alpha * color.a * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return clamp(color, 0.0, 1.0).rgb;
			}`,[wo.simplex,wo.simplexFractal,wo.simplexAshima,wo.fbm,wo.perlin,wo.voronoi]),a=e.include(c),s=[];return s.push(this.scale.build(e,"f")),s.push(this.size.build(e,"v3")),s.push(this.move.build(e,"f")),s.push(this.fA.build(e,"v2")),s.push(this.fB.build(e,"v2")),s.push(this.distortion.build(e,"v2")),s.push(this.colorA.build(e,"v4")),s.push(this.colorB.build(e,"v4")),s.push(this.colorC.build(e,"v4")),s.push(this.colorD.build(e,"v4")),s.push(this.voronoiStyle.build(e,"i")),s.push(this.highCut.build(e,"f")),s.push(this.lowCut.build(e,"f")),s.push(this.smoothness.build(e,"f")),s.push(this.seed.build(e,"f")),s.push(this.quality.build(e,"i")),s.push(this.isMask.build(e,"b")),s.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),s.push(this.alpha.build(e,"f")),s.push(this.calpha),e.format(a+"("+s.join(",")+")",this.getType(e),t)}};uX.numOctaves=5;var dX=class extends Er{constructor(e,t,r,n,i,o,l,c,a,s,u,d,h,p,m,f){super("v3"),this.nodeType="Outline",this.firstTime=!0,this.outlineColor=e,this.contourColor=t,this.outlineWidth=r,this.contourWidth=n,this.contourThreshold=i,this.outlineThreshold=o,this.contourFrequency=l,this.outlineSmoothing=c,this.contourDirection=a,this.positionalLines=s,this.compensation=u,this.resolution=d,this.normalMap=h,this.depthMap=p,this.pixelRatio=m,this.alpha=f,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){let r=`g${this.uuid.toString().replace(/-/g,"")}`;if(e.require("vWorldViewDir"),e.require("worldNormal"),e.extensions.derivatives=!0,this.compensation.value&&e.define("OUTLINE_COMPENSATION",`${r}_offset`),this.firstTime){let n=this.outlineWidth.build(e,"f"),i=this.resolution.build(e,"v2"),o=this.compensation.build(e,"b"),l=this.pixelRatio.build(e,"f");e.addVertexParsVariable("randomColor","attribute vec3"),e.addVertexParsVariable("extrudeNormal","attribute vec3"),e.addVertexParsVariable(n,"uniform float"),e.addVertexParsVariable(i,"uniform vec2"),e.addVertexParsVariable(o,"uniform bool"),e.addVertexParsVariable(l,"uniform float"),e.addVertexParsVariable("vID","flat out float"),e.addFragmentParsVariable("vID","flat in float"),e.addVertexFinalCode(`
                vID = randomColor.r;
                vec2 ${r}_offset = vec2(0.0);
                if (${o}) {
                    vec4 ${r}_clipPosition = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));
                    // NOTE: For certain shapes, like spheres, we get incorrect extrusion when the
                    // normals face the camera directly. So we hackily fix this by offsetting the normal
                    // by a tiny amount.
                    vec3 ${r}_clipNormal = mat3(projectionMatrix) * (mat3(modelViewMatrix) * extrudeNormal) + 0.0000001;
                    ${r}_offset = normalize(${r}_clipNormal.xy) / ${i} * (${n} / 2.0) * ${r}_clipPosition.w * 2.0 * ${l};
                    ${r}_clipPosition.xy += ${r}_offset;
                    // TODO(MAX): To handle multiple outline layers, we only want to extrude
                    // if this offset is the biggest of all the potential offsets
                    gl_Position = ${r}_clipPosition;
                }
            `)}if(e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let n=e.include(dX.Nodes.outline),i=[];return i.push(this.outlineColor.build(e,"c")),i.push(this.contourColor.build(e,"c")),i.push(this.outlineWidth.build(e,"f")),i.push(this.contourWidth.build(e,"f")),i.push(this.contourThreshold.build(e,"f")),i.push(this.outlineThreshold.build(e,"f")),i.push(this.contourFrequency.build(e,"f")),i.push(this.outlineSmoothing.build(e,"f")),i.push(this.contourDirection.build(e,"v3")),i.push(this.positionalLines.build(e,"b")),i.push(this.resolution.build(e,"v2")),i.push(this.normalMap.getTexture(e,"t")),i.push(this.depthMap.getTexture(e,"t")),i.push(this.pixelRatio.build(e,"f")),i.push(this.compensation.build(e,"b")),i.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),i.push(this.alpha.build(e,"f")),i.push(this.calpha),this.firstTime=!this.firstTime,e.format(n+"("+i.join(",")+")",this.getType(e),t)}else return console.warn("OutlineNode is not compatible with "+e.shader+" shader."),""}},hX=dX;hX.Nodes=function(){let e=new Ye(`
float sobelSample(sampler2D t, sampler2D d, vec2 uv, vec2 resolution, float outlineWidth, float pixelRatio)
{
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    vec2 texelSize = (vec2(1.0) / resolution);
    vec2 offsetSize = texelSize * outlineWidth * pixelRatio;

    vec2 uvSamples[9];
    vec4 normalSamples[9];

	uvSamples[0] = uv + vec2( -offsetSize.x, -offsetSize.y) + (vogelDiskSample(0, 9, temporalAngle) * texelSize);
	uvSamples[1] = uv + vec2(0.0, -offsetSize.y) + (vogelDiskSample(1, 9, temporalAngle) * texelSize);
	uvSamples[2] = uv + vec2(  offsetSize.x, -offsetSize.y) + (vogelDiskSample(2, 9, temporalAngle) * texelSize);
	uvSamples[3] = uv + vec2( -offsetSize.x, 0.0) + (vogelDiskSample(3, 9, temporalAngle) * texelSize);
	uvSamples[4] = uv;
	uvSamples[5] = uv + vec2(  offsetSize.x, 0.0) + (vogelDiskSample(5, 9, temporalAngle) * texelSize);
	uvSamples[6] = uv + vec2( -offsetSize.x, offsetSize.y) + (vogelDiskSample(6, 9, temporalAngle) * texelSize);
	uvSamples[7] = uv + vec2(0.0, offsetSize.y) + (vogelDiskSample(7, 9, temporalAngle) * texelSize);
	uvSamples[8] = uv + vec2(  offsetSize.x, offsetSize.y) + (vogelDiskSample(8, 9, temporalAngle) * texelSize);


    normalSamples[0] = texture2D(t, uvSamples[0]);
    normalSamples[1] = texture2D(t, uvSamples[1]);
    normalSamples[2] = texture2D(t, uvSamples[2]);
    normalSamples[3] = texture2D(t, uvSamples[3]);
    normalSamples[4] = texture2D(t, uvSamples[4]);
    normalSamples[5] = texture2D(t, uvSamples[5]);
    normalSamples[6] = texture2D(t, uvSamples[6]);
    normalSamples[7] = texture2D(t, uvSamples[7]);
    normalSamples[8] = texture2D(t, uvSamples[8]);

    float depthBias = 0.0001;
    // TODO(MAX): Can we somehow reduce the number of conditionals here with MATH?!
    if (normalSamples[0].a != vID && normalSamples[0].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[0]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[1].a != vID && normalSamples[1].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[1]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[2].a != vID && normalSamples[2].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[2]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[3].a != vID && normalSamples[3].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[3]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }


    if (normalSamples[4].a != vID && normalSamples[4].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[4]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[5].a != vID && normalSamples[5].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[5]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[6].a != vID && normalSamples[6].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[6]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[7].a != vID && normalSamples[7].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[7]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    if (normalSamples[8].a != vID && normalSamples[8].a != 0.0) {
        float depthAtSample = texture2D(d, uvSamples[8]).r + depthBias;
        if (gl_FragCoord.z > depthAtSample) {
           return 0.0;
        }
    }

    vec3 sobel_edge_h = normalSamples[2].rgb + (2.0*normalSamples[5].rgb) + normalSamples[8].rgb - (normalSamples[0].rgb + (2.0*normalSamples[3].rgb) + normalSamples[6].rgb);
  	vec3 sobel_edge_v = normalSamples[0].rgb + (2.0*normalSamples[1].rgb) + normalSamples[2].rgb - (normalSamples[6].rgb + (2.0*normalSamples[7].rgb) + normalSamples[8].rgb);

    float edgeNormal = sqrt(dot(sobel_edge_h, sobel_edge_h) + dot(sobel_edge_v, sobel_edge_v));
    return edgeNormal;
}
`);return{outline:new Ye(`vec3 outline(vec3 outlineColor, vec3 contourColor, float outlineWidth, float contourWidth, float outlineThreshold, float contourThreshold, float outlineSmoothing, float contourFrequency, vec3 contourDirection, bool positionalLines, vec2 resolution, sampler2D normalMap, sampler2D depthMap, float pixelRatio, bool compensation, float mask, float alpha, out float calpha) {
                vec3 result = outlineColor;
                float resultAlpha = 0.0;

                vec3 N = normalize(vWNormal);
                vec2 nuv = (gl_FragCoord.xy / resolution);
                float sobelSample = compensation ? sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth / 2., pixelRatio) : sobelSample(normalMap, depthMap, nuv, resolution, outlineWidth, pixelRatio);
                resultAlpha = smoothstep(outlineThreshold - outlineSmoothing, outlineThreshold + outlineSmoothing, sobelSample);

                //resultAlpha = 1.0;
                //result = vec3(sobelSample);

                float t = 1.0 - contourThreshold;
                if(positionalLines) {
                    vec3 NDir = position * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float f  = fract(NT * contourFrequency * 0.01);
                    float df = fwidth(NT * contourFrequency);

                    float g = smoothstep(df * (contourWidth * 0.01), df * (contourWidth * 0.01 * 2.0), f);
                    if (g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0;
                    }
                 }
                 else {
                    vec3 NDir = N * contourDirection;
                    float NT = NDir.x + NDir.y + NDir.z;
                    float df = fwidth(NT * contourThreshold);
                    float f = sin(NT * 1.0 * contourFrequency);
                    float g = smoothstep(0.0, df * contourWidth, 1.0 - f);

                    if (df > (t * 0.5) && g < 1.0 && resultAlpha == 0.0) {
                        result = contourColor;
                        resultAlpha = 1.0 - g;
                    }
                 }

                 float lalpha = alpha * resultAlpha * mask;
                 calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
                 accumAlpha += ( 1.0 - accumAlpha ) * lalpha;
				 
                 return result;
             }`,[e])}}();var Xl=class extends Er{constructor(e,t,r,n,i,o,l,c,a,s,u,d,h,p,m,f,g,v){super("v3"),this.nodeType="Pattern",this.style=e,this.projection=t,this.axis=r,this.blending=n,this.offset=i,this.colorA=o,this.colorB=l,this.frequency=c,this.size=a,this.variation=s,this.smoothness=u,this.zigzag=d,this.rotation=h,this.vertical=p,this.horizontal=m,this.sides=f,this.isMask=v,this.alpha=g,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.isShader("fragment")){e.require("position"),e.require("uv"),e.requires.uv=[!0],e.require("normal"),e.requires.normal=!0,e.addFragmentVariable(this.calpha,"float");let r;switch(this.style.value){case 0:r="circle";break;case 1:r="ring";break;case 2:r="polygon";break;case 3:r="xcross";break;case 4:r="diamond";break;case 5:r="checkerboard";break;case 6:r="line";break;case 7:r="wave";break;default:r="circle";break}let n=`g${this.uuid.toString().replace(/-/g,"")}`,i=new Ye(`float hashwithoutsine12(vec2 p)
				{
					vec3 p3 = fract(vec3(p.xyx) * .1031);
					p3 += dot(p3, p3.yzx + 33.33);
					return fract((p3.x + p3.y) * p3.z);
				}`),o=new Ye(`vec2 rotate_uv(in vec2 uv, float a, bool repeat) 
				{
					const float mid = 0.5;
					float radians = a * (PI / 180.0);
					vec2 rotated = vec2(
						cos(radians) * (uv.x - mid) + sin(radians) * (uv.y - mid) + mid,
						cos(radians) * (uv.y - mid) - sin(radians) * (uv.x - mid) + mid
					);
					return repeat ? fract(rotated): rotated;
				}`),l="";if(this.projection.value===4){let u=this.style.value===2?`${r}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(uv0, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,d=this.style.value===2?`${r}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(uv1, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,h=this.style.value===2?`${r}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(uv2, frequency, size, variation, smoothness_remapped, zigzag, rotation)`;l=`
				vec3 p = position;
				float factor = 0.0125;
				vec2 uv0 = fract(p.xy * factor);
				vec2 uv1 = fract(p.zy * factor);
				vec2 uv2 = fract(p.xz * factor);
				
				uv0 = rotate_uv(uv0 + offset, rotation, true);
				uv1 = rotate_uv(uv1 + offset, rotation, true);
				uv2 = rotate_uv(uv2 + offset, rotation, true);
	
				float d0 = ${u};
				float d1 = ${d};
				float d2 = ${h};
				
				// Range from 3 to 128 seems to be good
				float exponent = (1.0 - blending) * 125.0 + 3.0;

				vec3 n = vObjectNormal;
				vec3 weights = abs(normalize(n));
				weights = pow(weights, vec3(exponent));
				weights /= dot(weights, vec3(1.0));
				d0 *= weights.z;
				d1 *= weights.x;
				d2 *= weights.y;
				float draw = d0 + d1 + d2;
	
				vec2 custom_uv = uv0 * weights.z + uv1 * weights.x + uv2 * weights.y;
				`}else{let u=this.style.value===2?`${r}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation, sides)`:`${r}(custom_uv, frequency, size, variation, smoothness_remapped, zigzag, rotation)`,d="";this.axis.value===0?d=`float radius = length(p);
					float theta = atan(p.y, p.z);
					float phi = acos(p.x / radius);`:this.axis.value===1?d=`float radius = length(p);
					float theta = atan(p.x, p.z);
					float phi = acos(p.y / radius);`:(this.axis.value,d=`float radius = length(p);
					float theta = atan(p.y, p.x);
					float phi = acos(p.z / radius);`);let h="";switch(this.projection.value){case 0:h="custom_uv = vUv.st;";break;case 1:break;case 2:h=`
							vec3 p = position;
							${d}
							custom_uv = vec2(theta, phi);
							custom_uv /= PI;
							`;break}l=`
				vec2 custom_uv;
				${h}
	
				custom_uv += offset;
				custom_uv = fract(custom_uv);
				custom_uv = rotate_uv(custom_uv, rotation, true);
	
				float draw = ${u};
				`}let c=new Ye(`vec3 ${n}_pattern(vec3 normal, float blending, int style, vec2 offset, vec4 colorA, vec4 colorB, vec2 frequency, float size, float variation, float smoothness, float zigzag, float rotation, vec2 vertical, vec2 horizontal, int sides, bool isMask, float mask, float alpha, out float calpha) {
					const float TWO_PI = PI * 2.0;
					float smoothness_remapped = pow(smoothness, 5.0);	

					${l}

					// Construct final output color
					vec4 color = mix(colorA, colorB, draw);
					color.a = clamp(color.a, 0.0, 1.0);

					// Apply cuts
					color.a *= 
						step(vertical.x, custom_uv.y) * 
						step(custom_uv.y, vertical.y);
					color.a *= 
						step(horizontal.x, abs(custom_uv.x)) * 
						step(abs(custom_uv.x), horizontal.y);

					// Accumulate alpha 
					float lalpha = alpha * clamp(color.a, 0.0, 1.0) * mask;
					calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
					accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

					return clamp(color, 0.0, 1.0).rgb;
				}`,[o,i,Xl.DrawFunctions.circle,Xl.DrawFunctions.ring,Xl.DrawFunctions.polygon,Xl.DrawFunctions.cross,Xl.DrawFunctions.diamond,Xl.DrawFunctions.checkerboard,Xl.DrawFunctions.line,Xl.DrawFunctions.wave]),a=e.include(c),s=[];return s.push("normal"),s.push(this.blending.build(e,"f")),s.push(this.style.build(e,"i")),s.push(this.offset.build(e,"v2")),s.push(this.colorA.build(e,"v4")),s.push(this.colorB.build(e,"v4")),s.push(this.frequency.build(e,"v2")),s.push(this.size.build(e,"f")),s.push(this.variation.build(e,"f")),s.push(this.smoothness.build(e,"f")),s.push(this.zigzag.build(e,"f")),s.push(this.rotation.build(e,"f")),s.push(this.vertical.build(e,"v2")),s.push(this.horizontal.build(e,"v2")),s.push(this.sides.build(e,"i")),s.push(this.isMask.build(e,"b")),s.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),s.push(this.alpha.build(e,"f")),s.push(this.calpha),e.format(a+"("+s.join(",")+")",this.getType(e),t)}else return console.warn("PatterNode is not compatible with "+e.shader+" shader."),e.format("vec3(0.0)",this.getType(e),t)}},pX=Xl;pX.DrawFunctions=function(){let e=new Ye(`float hashwithoutsine12(vec2 p) {
				vec3 p3 = fract(vec3(p.xyx) * 0.1031);
				p3 += dot(p3, p3.yzx + 33.33);
				return fract((p3.x + p3.y) * p3.z);
			}`),t=new Ye(`vec2 tile_and_center(in vec2 uv, in vec2 frequency, in float variation, in float zigzag, in float rotation) {
                // Create tiles in UV-space
                uv *= frequency;

                // Integer coords
                vec2 i = floor(uv);

                // Offset every other row based on zigzag param, then compute fractional coords
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = fract(uv);

				// Rotate the tile itself:
				// const float mid = 0.5;
				// f = vec2(
				// 	cos(rotation) * (f.x - mid) + sin(rotation) * (f.y - mid) + mid,
				// 	cos(rotation) * (f.y - mid) - sin(rotation) * (f.x - mid) + mid
				// );
				// f = fract(f);

                f = f * 2.0 - 1.0;

				// Recompute integer coords after shifting - then, random value per tile 
				i = floor(uv);
				float rand = (hashwithoutsine12(i) * 5.0 + 1.0);
				float jitter = mix(1.0, rand, variation);
				f *= jitter;

                return f;
            }`,[e]),r=new Ye(`float circle(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(
                    -smoothness, 
                     smoothness, 
                     length(f) - size
                );
            }`,[t]),n=new Ye(`float ring(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);

				float d = length(f);
                const float inner_width = 0.5;

                float outer = smoothstep(-smoothness, smoothness, d - size);
                float inner = smoothstep(-smoothness, smoothness, d - size * inner_width);
				return outer + (1.0 - inner);   
            }`,[t]),i=new Ye(`float sdf_ngon(in vec2 p, in float r, in int n) {
                float an = (PI * 2.0) / float(n);
                float he = r * tan(0.5 * an);
                
                // Rotate to first sector
                p = -p.yx; 
                float bn = an * floor((atan(p.y, p.x) + 0.5 * an) / an);
                vec2  cs = vec2(cos(bn), sin(bn));
                p = mat2(cs.x, -cs.y, cs.y, cs.x)*p;
            
                // Side of polygon
                return length(p - vec2(r, clamp(p.y, -he, he))) * sign(p.x - r);
            }
            
            float polygon(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation, in int sides) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_ngon(f, size, sides));
            }`,[t]),o=new Ye(`float sdf_cross(in vec2 p, in vec2 b, float r ) {
                p = abs(p); 
				p = (p.y > p.x) ? p.yx : p.xy;
                vec2  q = p - b;
                float k = max(q.y, q.x);
                vec2  w = (k > 0.0) ? q : vec2(b.y - p.x, -k);
                return sign(k) * length(max(w, 0.0)) + r;
            }
            
            // Avoid namespace conflicts 
            float xcross(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
                return smoothstep(-smoothness, smoothness, sdf_cross(f, vec2(size, size * 0.25), smoothness));
            }`,[t]),l=new Ye(`float ndot(vec2 a, vec2 b) { 
                return a.x*b.x - a.y*b.y; 
            }
            
            float sdf_diamond(in vec2 p, in vec2 b) {
                p = abs(p);
                float h = clamp(ndot(b - 2.0 * p, b) / dot(b, b), -1.0, 1.0);
                float d = length(p - 0.5 * b * vec2(1.0 - h, 1.0 + h));
                return d * sign(p.x * b.y + p.y * b.x - b.x * b.y);
            }

            float diamond(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, variation, zigzag, rotation);
	            return smoothstep(-smoothness, smoothness, sdf_diamond(f, vec2(size)));
            }`,[t]),c=new Ye(`float checkerboard(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                uv *= frequency;
                vec2 i = floor(uv);

                float offset = mod(i.y, 2.0);

                uv.x += offset + zigzag * offset;
                float x = floor(uv.x);
                
                return mod(x, 2.0);
            }`),a=new Ye(`float line(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                vec2 f = tile_and_center(uv, frequency, 0.0, zigzag, rotation);
				
				// Different approach for variation param here
				float row = floor(uv * frequency).y;
				float rand = hashwithoutsine12(vec2(row));
				float s = mix(size, size * rand, variation);

				return smoothstep(
					s - smoothness, 
					s + smoothness, 
					abs(f.y)
				);
            }`,[t]),s=new Ye(`// Uses bisection 
            float udf_cos(in vec2 p, in float a, in float b, in float c, in float d) {
                // Convert all data to a primitive cosine wave
                p = c * (p - vec2(d, a));
                
                const float TWO_PI = PI * 2.0;

                // Reduce to principal half cycle
                p.x = mod(p.x, TWO_PI); 
                if (p.x > PI) {
                    p.x = TWO_PI - p.x;
                }
            
                // Find zero of derivative (minimize distance)
                float xa = 0.0;
                float xb = TWO_PI;

                // 24 bit precision
                for (int i = 0; i < 24; i++) {
                    float x = 0.5 * (xa + xb);
                    float y = x - p.x + b * c * sin(x) * (p.y - b * c * cos(x));
                    if (y < 0.0) xa = x; 
                    else xb = x;
                }
                float x = 0.5 * (xa + xb);
                
                // Compute distance    
                vec2 q = vec2(x, b * c * cos(x));
                return length(p - q) / c;
            }

            float wave(in vec2 uv, in vec2 frequency, in float size, in float variation, in float smoothness, in float zigzag, in float rotation) {
                float repeat = frequency.x;
                uv *= repeat;
                vec2 i = floor(uv);
                float row_offset = mod(i.y, 2.0);
                uv.x += row_offset * zigzag;
                vec2 f = vec2(uv.x, fract(uv.y));

                // Generalized cosine: y(x) = a + b * cos(cx + d)
                const float amplitude = 0.125;
                float wave_frequency = frequency.y * 0.1;
                float distance_estimate = udf_cos(f, 0.50, amplitude, wave_frequency * (2.0 * PI), 0.0);

				// Different approach for variation param here
				float rand = hashwithoutsine12(vec2(i.y));
				float s = mix(size, size * rand, variation);

                return smoothstep(-smoothness, smoothness, distance_estimate - s * 0.5);
            }`);return{tileAndCenter:t,circle:r,ring:n,polygon:i,cross:o,diamond:l,checkerboard:c,line:a,wave:s}}();var fX=class extends Er{constructor(e,t,r,n,i,o,l,c){super("v3"),this.nodeType="Rainbow",this.filmThickness=e,this.movement=t,this.wavelengths=r,this.noiseStrength=n,this.noiseScale=i,this.offset=o,this.isMask=c,this.alpha=l,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("vWorldViewDir"),e.require("worldNormal"),e.isShader("fragment")){e.require("uv"),e.requires.uv=[!0],e.addFragmentVariable(this.calpha,"float");let r=e.include(fX.Nodes.rainbow),n=[];return n.push(this.filmThickness.build(e,"f")),n.push(this.movement.build(e,"f")),n.push(this.wavelengths.build(e,"v3")),n.push(this.noiseStrength.build(e,"f")),n.push(this.noiseScale.build(e,"f")),n.push(this.offset.build(e,"v3")),n.push(this.isMask.build(e,"b")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("RainbowNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},mX=fX;mX.Nodes=function(){let e=new Ye(`vec3 attenuation(vec3 wavelengths, float filmThickness, float movement, float noiseStrength, float noiseScale, vec3 offset) {
                 vec3 st = position / noiseScale;
				 vec3 q = vec3(simplex3d(st),
							  simplex3d(st + vec3(1.0)),
							  simplex3d(st + vec3(1.0)));

				 vec3 r = vec3(simplex3d(st + vec3(1.4, 1.3, 1.0) * q + vec3(1.7, 9.2, 1.0)),
							  simplex3d(st + vec3(2.0, 1.2, 1.0) * q + vec3(8.3, 2.8, 1.0)),
							  simplex3d(st * q));

                 float noise = simplex3d(st + r);

                 return .5 + .5 * cos((((filmThickness + (noise * noiseStrength)) / (vec3(wavelengths.r * 1.0, wavelengths.g * 0.8, wavelengths.b * 0.6) + 1.0)) * dot(normalize(vWorldViewDir + (offset * -0.001)), normalize(vWNormal))) + movement);
             }`,[wo.simplex]);return{rainbow:new Ye(`vec3 rainbow(float filmThickness, float movement, vec3 wavelengths, float noiseStrength, float noiseScale, vec3 offset, bool isMask, float mask, float alpha, out float calpha) {
				vec3 res = clamp(attenuation(wavelengths, filmThickness, movement, noiseStrength, noiseScale, offset), 0.0, 2.0);

				float rainbowContribution = clamp(res.r + res.g + res.b, 0.0, 1.0);

				float lalpha = alpha * rainbowContribution * mask;
				calpha = mix(lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0), lalpha, float(isMask));
				accumAlpha += (1.0 - accumAlpha) * lalpha * (1.0 - float(isMask));

				return res;
             }`,[e])}}();var gX=class extends Er{constructor(e,t,r,n,i,o,l,c,a,s){super("v3"),this.nodeType="Toon",this.positioning=e,this.colors=t,this.steps=r,this.source=n,this.isWorldSpace=i,this.noiseStrength=o,this.noiseScale=l,this.shadowColor=c,this.offset=a,this.alpha=s,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.require("worldNormal"),e.require("worldPosition"),e.isShader("fragment")){e.define("COLORS_MAX",10),e.addFragmentVariable(this.calpha,"float");let r=e.include(gX.Nodes.toon),n=[];return n.push(this.positioning.build(e,"i")),n.push(this.colors.build(e,"v4[]")),n.push(this.steps.build(e,"f[]")),n.push(this.source.build(e,"v3")),n.push(this.isWorldSpace.build(e,"b")),n.push(this.noiseStrength.build(e,"f")),n.push(this.noiseScale.build(e,"f")),n.push(this.shadowColor.build(e,"v4")),n.push(this.offset.build(e,"v3")),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("ToonNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},vX=gX;vX.Nodes=function(){let e=new Ye(`float rand(float n) {
				return fract(sin(n) * 43758.5453123);
			}`),t=new Ye(`float hash1(float p) { 
				p = fract(p * 0.011); 
				p *= p + 7.5; 
				p *= p + p; 
				return fract(p); 
			}`),r=new Ye(`float valueNoise(vec3 x) {
				const vec3 step = vec3(110, 241, 171);
			
				vec3 i = floor(x);
				vec3 f = fract(x);
			 
				// For performance, compute the base input to a 1D hash from the integer part of the argument and the 
				// incremental change to the 1D based on the 3D -> 1D wrapping
				float n = dot(i, step);
			
				vec3 u = f * f * (3.0 - 2.0 * f);
				return mix(mix(mix( hash1(n + dot(step, vec3(0, 0, 0))), hash1(n + dot(step, vec3(1, 0, 0))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 0))), hash1(n + dot(step, vec3(1, 1, 0))), u.x), u.y),
						   mix(mix( hash1(n + dot(step, vec3(0, 0, 1))), hash1(n + dot(step, vec3(1, 0, 1))), u.x),
							   mix( hash1(n + dot(step, vec3(0, 1, 1))), hash1(n + dot(step, vec3(1, 1, 1))), u.x), u.y), u.z);
			}`,[t]),n=new Ye(`vec3 hash3(vec3 x) {
				x = vec3(dot(x,vec3(127.1, 311.7, 74.7)),
						 dot(x,vec3(269.5, 183.3, 246.1)),
						 dot(x,vec3(113.5, 271.9, 124.6)));
			
				return fract(sin(x)*43758.5453123);
			}`),i=new Ye(`vec3 voronoiNoise(in vec3 x)
			{
				vec3 p = floor(x);
				vec3 f = fract(x);

				float id = 0.0;
				vec2 res = vec2(100.0);

				for(int k=-1; k<=1; k++)
				for(int j=-1; j<=1; j++)
				for(int i=-1; i<=1; i++)
				{
					vec3 b = vec3(float(i), float(j), float(k));

					// Comment out the "+ hash(p + b);" part below to get "square" cells
					vec3 r = vec3(b) - f + hash3(p + b);
					float d = dot(r, r);

					if (d < res.x)
					{
						id = dot(p + b, vec3(1.0, 57.0, 113.0));
						res = vec2(d, res.x);			
					}
					else if (d < res.y)
					{
						res.y = d;
					}
				}

				return vec3(sqrt(res), abs(id));
			}
			`,[n]);return{toon:new Ye(`vec3 toon(int positioning, vec4 colors[COLORS_MAX], float steps[COLORS_MAX], vec3 source, bool isWorldSpace, float noiseStrength, float noiseScale, vec4 shadowColor, vec3 offset, float mask, float alpha, out float calpha) {
				float t = 0.0;
				float shadow = 1.0;

				if (positioning == 0) {

					// Can't do this mode if lighting is "none"
					#if (defined(PHONG) || defined(LAMBERT) || defined(STANDARD))

						// Algorithm from Chapter 10 of Graphics Shaders
						const vec3 weights = vec3(0.2125, 0.7154, 0.0721);
						vec3 lpos;
						vec3 l;
						float dproduct;

						#if (NUM_POINT_LIGHTS > 0)

							#if defined(USE_SHADOWMAP) && (NUM_POINT_LIGHT_SHADOWS > 0)
								PointLightShadow pointLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_POINT_LIGHTS; i++) {
								// Light positions are in view-space for some reason?
								lpos = (inverse(viewMatrix) * vec4(pointLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								
								// TODO: we want to use "intensity" but it isn't available in the shader code
								//dproduct += dot(pointLights[UNROLLED_LOOP_INDEX].color, weights);

								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS)
									pointLightShadow = pointLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getPointShadow( 
											pointShadowMap[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowMapSize, 
											pointLightShadow.shadowBias, 
											pointLightShadow.shadowRadius,
											vPointShadowCoord[UNROLLED_LOOP_INDEX], 
											pointLightShadow.shadowCameraNear, 
											pointLightShadow.shadowCameraFar);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_DIR_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_DIR_LIGHT_SHADOWS > 0)
								DirectionalLightShadow directionalLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_DIR_LIGHTS; i++) {
								// Use the direction vector for directional lights instead
								l = (inverse(viewMatrix) * vec4(directionalLights[UNROLLED_LOOP_INDEX].direction, 0.0)).xyz;
		
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS)
									directionalLightShadow = directionalLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow( 
										UNROLLED_LOOP_INDEX,
										directionalShadowMap[UNROLLED_LOOP_INDEX], 
										directionalLightShadow.shadowMapSize, 
										directionalLightShadow.shadowBias, 
										directionalLightShadow.shadowRadius, 
										vDirectionalShadowCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						#if NUM_SPOT_LIGHTS > 0 
							
							#if defined(USE_SHADOWMAP) && (NUM_SPOT_LIGHT_SHADOWS > 0)
								SpotLightShadow spotLightShadow;
							#endif 

							#pragma unroll_loop_start
							for (int i = 0; i < NUM_SPOT_LIGHTS; i++) {
								lpos = (inverse(viewMatrix) * vec4(spotLights[UNROLLED_LOOP_INDEX].position, 1.0)).xyz;
								l = normalize(lpos - worldPosition);
								
								dproduct = dot(l, normalize(worldNormal)) * 0.5 + 0.5;
								t = max(t, dproduct);

								// Accumulate shadow contribution
								#if defined(USE_SHADOWMAP) && (UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS)
									spotLightShadow = spotLightShadows[UNROLLED_LOOP_INDEX];
									shadow *= getShadow(
										UNROLLED_LOOP_INDEX,
										spotShadowMap[UNROLLED_LOOP_INDEX], 
										spotLightShadow.shadowMapSize, 
										spotLightShadow.shadowBias, 
										spotLightShadow.shadowRadius, 
										vSpotLightCoord[UNROLLED_LOOP_INDEX]);
								#endif
							}
							#pragma unroll_loop_end

						#endif

						t = clamp(t, 0.0, 1.0);
				
					#endif

				} else if (positioning == 1) {
					
					vec3 origin = mix(position, worldPosition, float(isWorldSpace));
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	

				} else {

					vec3 origin = worldPosition;
					vec3 source = cameraPosition - offset;
					vec3 direction = normalize(source - origin);
					t = dot(direction, normalize(worldNormal)) * 0.5 + 0.5;	
					
				}

				if (noiseStrength > 0.0) {
					// Distort with noise
					vec3 st = position / noiseScale;
					
					// Voronoi "smooth" noise
					float noise = 1.0 - voronoiNoise(st).x;

					// Voronoi cellular noise
					//float noise = 1.0 - rand(voronoiNoise(st).z);

					// Position warp noise
					// vec3 offset = vec3(
					// 	simplex3d(st),
					// 	simplex3d(st + vec3(111.1, 143.89, 217.19)),
					// 	simplex3d(st + vec3(171.1, 247.89, 117.23))
					// );
					// st += offset;
					// float noise = valueNoise(st);

					t += noise * noiseStrength;
				}

				t = clamp(t, 0.0, 1.0);

				// Compute ramp color
				float p;
				vec4 color = colors[0];
				for (int i = 1; i < COLORS_MAX; i++) {
					p = clamp((t - steps[i-1]) / (steps[i] - steps[i-1]), 0.0, 1.0);
					color = mix(color, colors[i], smoothstep(0.0, 1.0, p));
				}

				// Incorporate custom shadow color
				if (positioning == 0) {

					vec3 blendedShadow = mix(color.rgb, shadowColor.rgb, shadowColor.a);
					color.rgb = mix(blendedShadow, color.rgb, shadow);
				
				}

				// Accumulate alpha as usual
				float lalpha = alpha * color.a * mask;
				calpha =  lalpha / clamp(lalpha + accumAlpha, 0.00001, 1.0);
				accumAlpha += (1.0 - accumAlpha) * lalpha;

				return color.xyz;

            }`,[wo.simplex,e,r,i])}}();var _De=function(){return{textureBicubic:new Ye(`float w0( float a ) {
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
        }
    
        float w1( float a ) {
            return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
        }
    
        float w2( float a ){
            return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
        }
    
        float w3( float a ) {
            return ( 1.0 / 6.0 ) * ( a * a * a );
        }
    
        // g0 and g1 are the two amplitude functions
        float g0( float a ) {
            return w0( a ) + w1( a );
        }
    
        float g1( float a ) {
            return w2( a ) + w3( a );
        }
    
        // h0 and h1 are the two offset functions
        float h0( float a ) {
            return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
        }
    
        float h1( float a ) {
            return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
        }
    
        vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
            uv = uv * texelSize.zw + 0.5;
    
            vec2 iuv = floor( uv );
            vec2 fuv = fract( uv );
    
            float g0x = g0( fuv.x );
            float g1x = g1( fuv.x );
            float h0x = h0( fuv.x );
            float h1x = h1( fuv.x );
            float h0y = h0( fuv.y );
            float h1y = h1( fuv.y );
    
            vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
            vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
            vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
    
            return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) + 
                   g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
        }

        vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
            vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
            vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
            vec2 fLodSizeInv = 1.0 / fLodSize;
            vec2 cLodSizeInv = 1.0 / cLodSize;
            vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
            vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
            return mix( fSample, cSample, fract( lod ) );
        }`)}}();function SDe(e,t){return e>=t?new re(t/e,1):new re(1,e/t)}var yX=class extends Er{constructor(e,t,r,n,i,o,l,c){super("v3"),this.nodeType="Transmission",this.thickness=e,this.ior=t,this.roughness=r,this.transmissionSamplerSize=n,this.transmissionSamplerMap=i,this.transmissionDepthMap=o,this.aspectRatio=l,this.alpha=c,this.calpha=`g${this.uuid.toString().replace(/-/g,"")}_calpha`}generate(e,t){if(e.extensions.shaderTextureLOD=!0,e.extensions.derivatives=!0,e.isShader("fragment")){e.define("NUM_SAMPLES",6),e.define("BLUR_SLOD",Math.pow(2,ft.transmissionLod.value)),e.require("worldPosition"),e.requires.worldNormal=!0,e.requires.modelMatrix=!0,e.requires.projectionMatrix=!0,e.addFragmentVariable(this.calpha,"float");let r=e.include(yX.Nodes.transmission),n=[];return n.push(this.thickness.build(e,"f")),n.push(this.ior.build(e,"f")),n.push(this.roughness.build(e,"f")),n.push(this.transmissionSamplerSize.build(e,"v2")),n.push(this.transmissionSamplerMap.getTexture(e,"t")),n.push(this.transmissionDepthMap.getTexture(e,"t")),n.push(this.aspectRatio.build(e,"v2")),n.push("normal"),n.push(this.mask?`luminance(${this.mask.flow(e,"v3").result})`:"1.0"),n.push(this.alpha.build(e,"f")),n.push(this.calpha),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("TransmissionNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},bX=yX;bX.Nodes=function(){let e=new Ye(`vec3 blur(sampler2D sp, vec2 U, vec2 scale, float lod, sampler2D dm, vec2 unrefractedU, vec2 aspectRatio) {
                // Slightly modified version of this:
                // https://www.shadertoy.com/view/ltScRG

				// Special case for blur == 0.0
				if (lod == 0.0) {
					#ifdef TEXTURE_LOD_EXT
					return texture2DLodEXT( sp, U, 0.0).rgb;
					#else
					return textureLod( sp, U, 0.0).rgb;
					#endif
				}
				
				vec2 texelSize = vec2(1.0) / resolution;
                vec2 halton = haltonSequence[frameIndex];
                float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
                float temporalAngle  = temporalOffset * PI2;
				vec3 res = vec3(0.0);
                vec2 uv = vec2(0.0);
                vec2 offset = vec2(0.0);
                vec2 vogelSample = vec2(0.0);
                for (int i = 0; i < NUM_SAMPLES; i++) {
                    vogelSample =  vogelDiskSample(i, NUM_SAMPLES, temporalAngle) * texelSize;
                    offset = vogelSample * scale * (lod * 10.0); // TODO: used to be hardcoded to 20
                    uv = U + offset;
                    float opaqueDepth = unpackRGBAToDepth(textureLod(dm, uv, lod));
                    if (opaqueDepth != 0.0 && opaqueDepth < gl_FragCoord.z) {
                        uv = unrefractedU;
                        lod = lod > 4.0 ? lod : lod / 2.0;
                    }
                    res += textureLod(sp, uv, lod).rgb;
                }
                return res / float(NUM_SAMPLES);
            }`),t=new Ye(`vec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {
		        // Direction of refracted light.
		        vec3 refractionVector = refract( -v,  n, 1.0 / ior );
		        
				// Compute rotation-independant scaling of the model matrix.
		        vec3 modelScale;
		        modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		        modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		        modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );

		        // The thickness is specified in local space
		        return normalize( refractionVector ) * thickness * modelScale;
	        }`),r=new Ye(`float applyIorToRoughness( float roughness, float ior ) {
				// Scale roughness with IOR so that an IOR of 1.0 results in no microfacet refraction and
				// an IOR of 1.5 results in the default amount of microfacet refraction.
				return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
			}`),n=new Ye(`vec3 getTransmissionSample( vec2 fragCoord, float roughness, float ior, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 unrefractedCoords, vec2 aspectRatio) {
				// Threejs exports do not pass a depth map to this shader, so we have to fallback to the "Threejs method of blurring" - see
				// also the code in convertTransmission.ts, which runs during export
				#ifdef IS_THREEJS_EXPORT
					float lod = log2(transmissionSamplerSize.x) * applyIorToRoughness(roughness / 5.0, ior);
					return textureBicubic(transmissionSamplerMap, fragCoord.xy, lod).rgb;
				#else
					float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
					float lod = applyIorToRoughness(roughness, ior);
					return blur(transmissionSamplerMap, fragCoord, vec2(lod), min(framebufferLod / 5.5, 8.5), transmissionDepthMap, unrefractedCoords, aspectRatio);
				#endif
			}`,[_De.textureBicubic,r,e]),i=new Ye(`vec3 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;

				// Project refracted vector on the framebuffer, while mapping to normalized device coordinates.
				vec4 ndcPos = projMatrix * viewMatrix *  vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;

				vec4 ndcPosUnrefracted = projMatrix * viewMatrix * vec4(position, 1.0 );
				vec2 unrefractedCoords = ndcPosUnrefracted.xy / ndcPosUnrefracted.w;
				unrefractedCoords += 1.0;
				unrefractedCoords /= 2.0;

				// Sample framebuffer to get pixel the refracted ray hits.
				return getTransmissionSample( refractionCoords, roughness, ior, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, unrefractedCoords, aspectRatio );
    		}`,[n,t]);return{transmission:new Ye(`vec3 transmission(float thickness, float ior, float roughness, vec2 transmissionSamplerSize, sampler2D transmissionSamplerMap, sampler2D transmissionDepthMap, vec2 aspectRatio, vec3 normal, float mask, float alpha, out float calpha) {
                vec3 v = vec3(0.);
                if (isOrthographic) {
                    v = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
                } else {
                    v = normalize(vWPosition - cameraPosition);
                }
                vec3 transmission = getIBLVolumeRefraction(vWNormal, -v, roughness,  vWPosition, modelMatrix, viewMatrix, projectionMatrix, ior, thickness, transmissionSamplerSize, transmissionSamplerMap, transmissionDepthMap, aspectRatio );
                
				float lalpha = alpha * mask;
				calpha =  lalpha / clamp( lalpha + accumAlpha, 0.00001, 1.0 );
				accumAlpha += ( 1.0 - accumAlpha ) * alpha;

				return transmission;
            }`,[i])}}();var LP=(e=>(e.NOISE="noise",e.MAP="map",e))(LP||{}),xX=class extends Er{constructor(e,t,r,n,i,o,l,c,a,s,u){super("v3"),this.displacementTypeIndex=new Mr(0),this.nodeType="VertexDisplacement",this.intensity=e,this.movementOrTexture=t,Object.values(LP)[this.displacementTypeIndex.value]==="map"&&(this.mat=new tX(this.movementOrTexture.value.matrix)),this.cropOrOffset=r,this.scale=s,this.noiseFunctionIndex=u,this.voronoiStyle=n,this.smoothness=i,this.seed=o,this.highCut=l,this.lowCut=c,this.quality=a}generate(e,t){if(e.isShader("vertex")){e.define("USE_LAYER_DISPLACE");let r,n=[];switch(n.push("displaced_position"),n.push("displaced_normal"),Object.values(LP)[this.displacementTypeIndex.value]){case"map":{r=e.include(xX.Nodes.map),n.push(this.movementOrTexture.getTexture(e,"t")),n.push("uv"),n.push(this.cropOrOffset.build(e,"f")),this.mat&&n.push(this.mat.build(e,"mat3"));break}case"noise":{let i=Object.values($D)[this.noiseFunctionIndex.value],o=new Ye(`vec3 orthogonal(vec3 v) {
							return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
						}`),l=i=="voronoi"?`
					float v = ${i}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1), voronoiStyle, smoothness, seed, quality);
					v = remap(v, lowCut, highCut, 0.0, 1.0);
					v = smax(v, 0.0, smoothness * 0.25);
					v = smin(v, 1.0, smoothness * 0.25);

					return p + n * v * intensity;
					`:`
					return p + n * ${i}((p + offset) * scale * 0.001 + neighbour_offset + (movement * 0.1)) * intensity;
					`,c=new Ye(`vec3 distorted(vec3 p, vec3 n, float scale, float intensity, vec3 offset, float neighbour_offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality) {
							${l}
						}`,[wo.simplex,wo.simplexFractal,wo.simplexAshima,wo.fbm,wo.perlin,wo.voronoi]),a=new Ye(`vec3 vertexDisplacementNoise(vec3 position, vec3 normal, float scale, vec3 offset, float movement, int voronoiStyle, float smoothness, float seed, float highCut, float lowCut, int quality, float intensity, out vec3 displaced_normal) {
							vec3 displaced_position = distorted(position, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 tangent1 = orthogonal(normal);
							vec3 tangent2 = normalize(cross(normal, tangent1));

                            // TODO(Max): The distance to the neighbors was originally scaled by 0.1.
                            // This caused some small oval/circular visual artifacts in the lighting.
                            // For now, simply using neighbors further away betters the problem,
                            // but we should figure out the underlying cause when we have some time.
                            // Maybe its related to how we calculate the tangent and bitangent?
							vec3 nearby1 = position + tangent1;
							vec3 nearby2 = position + tangent2;
							vec3 distorted1 = distorted(nearby1, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							vec3 distorted2 = distorted(nearby2, normal, scale, intensity, offset, neighbor_offset, movement, voronoiStyle, smoothness, seed, highCut, lowCut, quality);
							displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
							return displaced_position;
						}`,[c,o]);r=e.include(a),n.push(this.scale.build(e,"f")),n.push(this.cropOrOffset.build(e,"v3")),n.push(this.movementOrTexture.build(e,"f")),n.push(this.voronoiStyle.build(e,"i")),n.push(this.smoothness.build(e,"f")),n.push(this.seed.build(e,"f")),n.push(this.highCut.build(e,"f")),n.push(this.lowCut.build(e,"f")),n.push(this.quality.build(e,"i"));break}}return n.push(this.intensity.build(e,"f")),n.push("displaced_normal"),e.format(r+"("+n.join(",")+")",this.getType(e),t)}else return console.warn("VertexDisplacementNode is not compatible with "+e.shader+" shader."),e.format("vec3( 0.0 )",this.getType(e),t)}},wX=xX;wX.Nodes=function(){let e=new Ye(`vec3 orthogonal(vec3 v) {
				return normalize(abs(v.x) > abs(v.z) ? vec3(-v.y, v.x, 0.0) : vec3(0.0, -v.z, v.y));
			}`),t=new Ye(`float displacementMapTexture(sampler2D tex, float crop, vec2 uv, mat3 mat, vec2 offset) {
				vec2 uvs = (mat * vec3(uv * 2.0 - 1.0, 1.0) / 2.0 + 0.5).xy + offset;
				vec4 tmp = texture2D(tex, uvs);
				vec3 col = tmp.rgb;
				if (crop > 0.5) {
					if ( uvs.x < 0.0 || uvs.x > 1.0 || uvs.y < 0.0 || uvs.y > 1.0 )  {
						return 0.0;
					}
				}
				return col.r;
			}`);return{map:new Ye(`vec3 vertexDisplacementMap(vec3 position, vec3 normal, sampler2D tex, vec2 uv, float crop, mat3 mat, float intensity, out vec3 displaced_normal) {
				vec3 displaced_position = position + normal * displacementMapTexture(tex, crop, uv, mat, vec2(0.0)) * intensity;
				vec3 tangent1 = normalize(orthogonal(normal));
				vec3 tangent2 = normalize(cross(normal, tangent1));
				vec3 nearby1 = position + tangent1 * 0.1;
				vec3 nearby2 = position + tangent2 * 0.1;
				vec3 distorted1 = nearby1 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				vec3 distorted2 = nearby2 + normal * displacementMapTexture(tex, crop, uv, mat, vec2(neighbor_offset)) * intensity;
				displaced_normal = normalize(cross(distorted1 - displaced_position, distorted2 - displaced_position));
				return displaced_position;
			}`,[e,t])}}();var ft={normalRenderTarget:new cc,normalRenderTargetDepth:new cc,transmissionRenderTarget:new cc,aspectRatio:new gi,transmissionSize:new gi(2048,2048),transmissionRenderTargetDepth:new cc,aoRenderTarget:new cc,aoEnabled:new Qi,pixelRatioNode:new Je(1),resolution:new gi,penumbraSize:new Fd(5,.5),frameIndex:new Mr(0),transmissionLod:new Mr(2)};for(let e of Object.values(ft))e.isRenderGlobal=!0;var _X=class extends yd{constructor(){super("basic"),this.nodeType="Basic",this.color=new fn(Ka),this.shadingAlpha=new Je(1),this.shadingBlend=new Mr(0),this.previousModelViewMatrix=new Tl,this.previouseProjectionMatrix=new Tl}get category(){return"phong"}generate(e){let t;if(e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:ft.frameIndex}),e.mergeUniform({resolution:ft.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(gg.merge([We.fog])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","	vNormal = transformedNormal;","#endif"),n.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{this.color===void 0&&(this.color=new fn(Ka)),this.color.analyze(e,{slot:"color"}),this.alpha&&this.alpha.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"});let r=this.color.flow(e,"c",{slot:"color"}),n=this.alpha?this.alpha.flow(e,"f"):void 0,i=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,o=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0;e.requires.transparent=n!==void 0,e.addParsCode(["varying vec3 vWPosition;","#include <fog_pars_fragment>","#include <dithering_pars_fragment>","varying vec3 vViewPosition;","#include <normal_pars_fragment>"].join(`
`));let l=["#include <normal_fragment_begin>",r.code];n&&l.push(n.code,"#ifdef ALPHATEST"," if ( "+n.result+" <= ALPHATEST ) discard;","#endif"),o?l.push(o.code,`vec3 outgoingLight = ${r.result};`,`vec3 finalColor = spe_blend(outgoingLight, ${o.result}, 1.0, SPE_BLENDING_NORMAL);`):l.push(`vec3 finalColor = ${r.result};`);let c="1.0";this.mask&&(this.mask.analyze(e),c=`luminance(${this.mask.flow(e,"v3").result})`),n?l.push(`gl_FragColor = vec4( finalColor, accumAlpha * ${n.result} * ${c} );`):l.push("gl_FragColor = vec4("+r.result+", 1.0 );"),i&&l.push(`gl_FragColor.a *= ${i.result};`),l.push("#include <fog_fragment>","#include <dithering_fragment>"),t=l.join(`
`)}return t}},EDe=class extends yd{constructor(){super("lambert"),this.nodeType="Lambert",this.color=new fn(Ka),this.emissive=new fn(0),this.emissiveIntensity=new Je(1),this.previousModelViewMatrix=new Tl,this.previouseProjectionMatrix=new Tl,this.shadingAlpha=new Je(1),this.shadingBlend=new Mr(0),this.occlusion=new Qi(!0)}get category(){return"lambert"}build(e){let t;if(e.define("LAMBERT"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:ft.frameIndex}),e.mergeUniform({resolution:ft.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(gg.merge([We.fog,We.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <color_pars_vertex>","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>",`
					vec3 diffuse = vec3( 1.0 );
					GeometricContext geometry;
					geometry.position = mvPosition.xyz;
					geometry.normal = normalize( transformedNormal );
					geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );
				`),n.push(`
					GeometricContext backGeometry;
					backGeometry.position = geometry.position;
					backGeometry.normal = -geometry.normal;
					backGeometry.viewDir = geometry.viewDir;
					vLightFront = vec3( 0.0 );
					vIndirectFront = vec3( 0.0 );
					#ifdef DOUBLE_SIDED
						vLightBack = vec3( 0.0 );
						vIndirectBack = vec3( 0.0 );
					#endif
					IncidentLight directLight;
					float dotNL;
					vec3 directLightColor_Diffuse;
					vIndirectFront += getAmbientLightIrradiance( ambientLightColor );
					vIndirectFront += getLightProbeIrradiance( lightProbe, geometry.normal );
					#ifdef DOUBLE_SIDED
						vIndirectBack += getAmbientLightIrradiance( ambientLightColor );
						vIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry.normal );
					#endif
					#if NUM_POINT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
							getPointLightInfo( pointLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_SPOT_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
							getSpotLightInfo( spotLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_DIR_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
							getDirectionalLightInfo( directionalLights[ i ], geometry, directLight );
							dotNL = dot( geometry.normal, directLight.direction );
							directLightColor_Diffuse = directLight.color;
							vLightFront += saturate( dotNL ) * directLightColor_Diffuse;
							#ifdef DOUBLE_SIDED
								vLightBack += saturate( -dotNL ) * directLightColor_Diffuse;
							#endif
						}
						#pragma unroll_loop_end
					#endif
					#if NUM_HEMI_LIGHTS > 0
						#pragma unroll_loop_start
						for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
							vIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
							#ifdef DOUBLE_SIDED
								vIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry.normal );
							#endif
						}
						#pragma unroll_loop_end
					#endif
				`,"	#include <shadowmap_vertex>","	#include <fog_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:ft.penumbraSize}),e.mergeUniform({frameIndex:ft.frameIndex}),e.mergeUniform({aoMap:ft.aoRenderTarget}),e.mergeUniform({aoEnabled:ft.aoEnabled}),this.color===void 0&&(this.color=new fn(Ka)),this.color.analyze(e,{slot:"color"}),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),n=this.emissive.flow(e,"c",{slot:"emissive"}),i=this.emissiveIntensity.flow(e,"f",{slot:"emissive"}),o=this.occlusion.flow(e,"b",{slot:"occlusion"}),l=this.shadingAlpha.flow(e,"f"),c=this.shadingBlend.flow(e,"i"),a=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,s=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=s!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vViewPosition;","varying vec3 vWPosition;","varying vec3 vLightFront;","varying vec3 vIndirectFront;","#ifndef DOUBLE_SIDED","   #define DOUBLE_SIDED","#endif","#include <normal_pars_fragment>","#ifdef DOUBLE_SIDED","	varying vec3 vLightBack;","	varying vec3 vIndirectBack;","#endif","#include <bsdfs>","#include <lights_pars_begin>","#include <fog_pars_fragment>","#include <shadowmap_pars_fragment>","#include <shadowmask_pars_fragment>","#include <clipping_planes_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let d=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx, viewdy));
				bool isFrontFacing = (dot(normal, faceNormal) >= 0.0);
				`,"#include <clipping_planes_fragment>"];d.push(r.code,"vec3 diffuseColor = "+r.result+";","ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );"),s&&d.push(s.code,"#ifdef ALPHATEST","if ( "+s.result+" <= ALPHATEST ) discard;","#endif"),d.push("#ifdef DOUBLE_SIDED","	reflectedLight.indirectDiffuse += ( isFrontFacing ) ? vIndirectFront : vIndirectBack;","#else","	reflectedLight.indirectDiffuse += vIndirectFront;","#endif","#include <lightmap_fragment>","reflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );","#ifdef DOUBLE_SIDED","	reflectedLight.directDiffuse = ( isFrontFacing ) ? vLightFront : vLightBack;","#else","	reflectedLight.directDiffuse = vLightFront;","#endif","reflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();"),n&&d.push(n.code,"reflectedLight.directDiffuse += "+n.result+" * "+i.result+";"),d.push("vec3 ao = aoEnabled && "+o.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = (reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) ;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${l.result} * ${h} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${l.result} * ${h}, ${c.result} );

					outgoingLight *= ao;
				}
				`),a&&d.push(a.code,`outgoingLight = spe_blend(outgoingLight, ${a.result}, 1.0, SPE_BLENDING_NORMAL);`),s?d.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${s.result} );`):d.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&d.push(`gl_FragColor.a *= ${u.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join(`
`)}return t}},tg=function(){let e=new Ye(`vec2 dHdxy(sampler2D bumpMap, vec2 bumpMapUv, float bumpScale) {

            // Gradient of UVs w.r.t. X coordinate (in screen-space)
            vec2 dSTdx = dFdx(bumpMapUv);

            // Gradient of UVs w.r.t. Y coordinate (in screen-space)
            vec2 dSTdy = dFdy(bumpMapUv);
            
            // Forward differencing
            float Hll = bumpScale * luminance(texture(bumpMap, bumpMapUv).rgb);
            float dBx = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdx).rgb) - Hll;
            float dBy = bumpScale * luminance(texture(bumpMap, bumpMapUv + dSTdy).rgb) - Hll;
            
            return vec2( dBx, dBy );
        }`),t=new Ye(`vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
            vec3 vSigmaX = dFdx( surf_pos.xyz );
            vec3 vSigmaY = dFdy( surf_pos.xyz );
            vec3 vN = surf_norm; // normalized
            
            vN = normalize(vN);

            vec3 R1 = cross( vSigmaY, vN );
            vec3 R2 = cross( vN, vSigmaX );

            R1 = normalize(R1);
            R2 = normalize(R2);
    
            float fDet = dot( vSigmaX, R1 ) * faceDirection;
    
            vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
            return normalize( abs( fDet ) * vN - vGrad );
        }`);return{dHdxy:e,perturbNormalArb:t}}(),CDe=class extends yd{constructor(){super("phong"),this.nodeType="Phong",this.color=new fn(Ka),this.specular=new fn(1118481),this.shininess=new Je(30),this.previousModelViewMatrix=new Tl,this.previouseProjectionMatrix=new Tl,this.shadingAlpha=new Je(1),this.shadingBlend=new Mr(0),this.occlusion=new Qi(!0)}get category(){return"phong"}build(e){let t;if(e.define("PHONG"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:ft.frameIndex}),e.mergeUniform({resolution:ft.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(gg.merge([We.fog,We.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <skinning_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#include <skinbase_vertex>
				#include <skinnormal_vertex>
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif


				vec3 displaced_position = position;
				vec3 displaced_normal = objectNormal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","#include <skinning_vertex>","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("	#include <project_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:ft.penumbraSize}),e.mergeUniform({frameIndex:ft.frameIndex}),e.mergeUniform({aoMap:ft.aoRenderTarget}),e.mergeUniform({aoEnabled:ft.aoEnabled}),this.color===void 0&&(this.color=new fn(Ka)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e);let r=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let n=this.color.flow(e,"c",{slot:"color"}),i=this.specular.flow(e,"c"),o=this.shininess.flow(e,"f"),l=this.shadingAlpha.flow(e,"f"),c=this.shadingBlend.flow(e,"i"),a=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,s=this.alpha?this.alpha.flow(e,"f"):void 0,u=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=s!==void 0,e.addParsCode(["varying vec3 vWPosition;","uniform vec3 emissive;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_phong_pars_fragment>","#include <shadowmap_pars_fragment>","#include <dithering_pars_fragment>"].join(`
`));let d=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	BlinnPhongMaterial material;"];if(this.bumpMap){e.include(tg.dHdxy),e.include(tg.perturbNormalArb);let p=this.bumpMap.texture.flow(e,"t"),m=this.bumpMap.flow(e,"v3"),f=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",g="";this.bumpMap.projection.value===4?g=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${p.result}, uv0, ${f});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${p.result}, uv1, ${f});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${p.result}, uv2, ${f});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:g=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${p.result}, bumpMapCachedUv, ${f});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,d.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${m.result};
					${g}
					`)}d.push(n.code,"	vec3 diffuseColor = "+n.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );","	vec3 totalEmissiveRadiance = emissive;",i.code,"	vec3 specular = "+i.result+";",o.code,"	float shininess = max( 0.0001, "+o.result+" );","	float specularStrength = 1.0;"),s&&d.push(s.code,"#ifdef ALPHATEST","if ( "+s.result+" <= ALPHATEST ) discard;","#endif"),d.push("material.diffuseColor = diffuseColor;"),d.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),d.push("vec3 ao = aoEnabled && "+r.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;");let h="1.0";this.mask&&(this.mask.analyze(e),h=`luminance(${this.mask.flow(e,"v3").result})`),d.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${l.result} * ${h} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${l.result} * ${h}, ${c.result} );
					
					outgoingLight *= ao;
				}
				`),a&&d.push(a.code,`outgoingLight = spe_blend(outgoingLight, ${a.result}, 1.0, SPE_BLENDING_NORMAL);`),s?d.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${s.result});`):d.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),u&&d.push(`gl_FragColor.a *= ${u.result};`),d.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=d.join(`
`)}return t}},ADe=class extends yd{constructor(){super("standard"),this.nodeType="Standard",this.color=new fn(Ka),this.roughness=new Je(.3),this.metalness=new Je(0),this.reflectivity=new Je(.5),this.previousModelViewMatrix=new Tl,this.previouseProjectionMatrix=new Tl,this.shadingAlpha=new Je(1),this.shadingBlend=new Mr(0),this.occlusion=new Qi(!0)}get category(){return"physical"}build(e){let t;if(e.define("STANDARD"),e.requires.lights=!0,e.extensions.derivatives=!0,e.extensions.shaderTextureLOD=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:ft.frameIndex}),e.mergeUniform({resolution:ft.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(gg.merge([We.fog,We.lights])),We.LTC_1&&(e.uniforms.ltc_1={value:void 0},e.uniforms.ltc_2={value:void 0}),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#if defined( USE_LAYER_DISPLACE )
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#if !defined( USE_LAYER_DISPLACE )
					#include <begin_vertex>
				#endif /* !USE_LAYER_DISPLACE */
				`];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("#include <project_vertex>","#include <fog_vertex>","#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","#include <worldpos_vertex>","#include <shadowmap_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:ft.penumbraSize}),e.mergeUniform({frameIndex:ft.frameIndex}),e.mergeUniform({aoMap:ft.aoRenderTarget}),e.mergeUniform({aoEnabled:ft.aoEnabled});let r={gamma:!0};this.color===void 0&&(this.color=new fn(Ka)),this.color.analyze(e,{slot:"color",context:r}),this.roughness.analyze(e),this.metalness.analyze(e);let n=this.occlusion.flow(e,"b",{slot:"occlusion"});this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e),this.reflectivity&&this.reflectivity.analyze(e);let i=this.color.flow(e,"c",{slot:"color",context:r}),o=this.roughness.flow(e,"f"),l=this.metalness.flow(e,"f"),c=this.shadingAlpha.flow(e,"f"),a=this.shadingBlend.flow(e,"i"),s=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,u=this.alpha?this.alpha.flow(e,"f"):void 0,d=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0,h=this.reflectivity?this.reflectivity.flow(e,"f"):void 0;e.requires.transparent=u!==void 0,e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","#include <normal_pars_fragment>","#include <dithering_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <lights_physical_pars_fragment>","#include <shadowmap_pars_fragment>"].join(`
`));let p=["#include <clipping_planes_fragment>","	#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	PhysicalMaterial material;","	material.diffuseColor = vec3( 1.0 );"];if(this.bumpMap){e.include(tg.dHdxy),e.include(tg.perturbNormalArb);let f=this.bumpMap.texture.flow(e,"t"),g=this.bumpMap.flow(e,"v3"),v=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",x="";this.bumpMap.projection.value===4?x=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${f.result}, uv0, ${v});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${f.result}, uv1, ${v});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${f.result}, uv2, ${v});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:x=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${f.result}, bumpMapCachedUv, ${v});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,p.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${g.result};
					${x}
					`)}if(p.push(i.code,"	vec3 diffuseColor = "+i.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",l.code,"	float metalnessFactor = "+l.result+";"),this.roughnessMap){let f=this.roughnessMap.texture.flow(e,"t"),g=this.roughnessMap.flow(e,"v3"),v="";this.roughnessMap.projection.value===4?v=`
					float roughnessChange = 1.0;
					{
						vec2 uv0 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						float r0 = luminance(texture(${f.result}, uv0).rgb) * roughnessScale;
						float r1 = luminance(texture(${f.result}, uv1).rgb) * roughnessScale;
						float r2 = luminance(texture(${f.result}, uv2).rgb) * roughnessScale;

						roughnessChange = (r0 * weights.z + r1 * weights.x + r2 * weights.y);
					}
					float roughnessFactor = roughnessChange * ${o.result};
					`:v=`
					vec2 roughnessMapCachedUv = g${this.roughnessMap.uuid.toString().replace(/-/g,"")}_writeUvs;

					vec4 vals = texture(${f.result},  roughnessMapCachedUv);
					float roughnessFactor = luminance(vals.rgb) * ${o.result};
					`,p.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${g.result};

					const float roughnessScale = 1.0;

					${v}
				`)}else p.push(o.code,"	float roughnessFactor = "+o.result+";");u&&p.push(u.code,"#ifdef ALPHATEST","	if ( "+u.result+" <= ALPHATEST ) discard;","#endif"),p.push("vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );"),p.push("material.diffuseColor = diffuseColor * ( 1.0 - metalnessFactor );","material.roughness = max( roughnessFactor, 0.0525 );","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.roughness = clamp( roughnessFactor, 0.04, 1.0 );"),h?p.push(h.code,"material.specularColor = mix( vec3( 0.16 * pow2( "+h.result+" ) ), diffuseColor, metalnessFactor );"):p.push("material.specularColor = mix( vec3( 0.04 ), diffuseColor, metalnessFactor );"),p.push("#include <lights_fragment_begin>"),p.push("#include <lights_fragment_end>"),p.push("vec3 ao = aoEnabled && "+n.result+" ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse)) + reflectedLight.directSpecular + reflectedLight.indirectSpecular;");let m="1.0";this.mask&&(this.mask.analyze(e),m=`luminance(${this.mask.flow(e,"v3").result})`),p.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${c.result} * ${m} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${c.result} * ${m}, ${a.result} );
					
					outgoingLight *= ao;
				}
				`),s&&p.push(s.code,`outgoingLight = spe_blend(outgoingLight, ${s.result}, 1.0, SPE_BLENDING_NORMAL);`),u?p.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${u.result} );`):p.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),d&&p.push(`gl_FragColor.a *= ${d.result};`),p.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=p.join(`
`)}return t}},MDe=class extends yd{constructor(){super("toon"),this.nodeType="Toon",this.color=new fn(Ka),this.specular=new fn(1118481),this.shininess=new Je(30),this.previousModelViewMatrix=new Tl,this.previouseProjectionMatrix=new Tl,this.shadingAlpha=new Je(1),this.shadingBlend=new Mr(0)}get category(){return"toon"}build(e){let t;if(e.define("TOON"),e.requires.lights=!0,e.extensions.derivatives=!0,e.isShader("vertex")){let r=this.position?this.position.analyzeAndFlow(e,"v3",{cache:"position"}):void 0;e.mergeUniform({frameIndex:ft.frameIndex}),e.mergeUniform({resolution:ft.resolution}),e.mergeUniform({previousModelViewMatrix:this.previousModelViewMatrix}),e.mergeUniform({previousProjectionMatrix:this.previouseProjectionMatrix}),e.mergeUniform(gg.merge([We.fog,We.lights])),e.addParsCode(["varying vec3 vViewPosition;","varying vec3 vWPosition;","#include <fog_pars_vertex>","#include <normal_pars_vertex>","#include <shadowmap_pars_vertex>","#include <clipping_planes_pars_vertex>"].join(`
`));let n=["#include <beginnormal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <defaultnormal_vertex>
				#endif

				vec3 displaced_position = position;
				vec3 displaced_normal = normal;

				#ifdef USE_LAYER_DISPLACE
					vec3 transformed;
					vec3 transformedNormal;
				#endif
				`,"#include <normal_vertex>",`
				#ifndef USE_LAYER_DISPLACE
					#include <begin_vertex>
				#endif
				`];r&&n.push(r.code,r.result?"displaced_position = "+r.result+";":""),n.push("transformed = displaced_position;","transformedNormal = normalMatrix * displaced_normal;","#ifndef FLAT_SHADED","    vNormal = transformedNormal;","#endif"),n.push("	#include <project_vertex>","	#include <fog_vertex>","	#include <clipping_planes_vertex>","	vViewPosition = - mvPosition.xyz;","	#include <worldpos_vertex>","	#include <shadowmap_vertex>","	#include <fog_vertex>"),n.push("vWPosition = ( modelMatrix * vec4( transformed, 1.0 ) ).xyz;"),t=n.join(`
`)}else{e.mergeUniform({penumbraSize:ft.penumbraSize}),e.mergeUniform({frameIndex:ft.frameIndex}),e.mergeUniform({aoMap:ft.aoRenderTarget}),e.mergeUniform({aoEnabled:ft.aoEnabled}),this.color===void 0&&(this.color=new fn(Ka)),this.color.analyze(e,{slot:"color"}),this.specular.analyze(e),this.shininess.analyze(e),this.shadingAlpha.analyze(e),this.shadingBlend.analyze(e),this.afterColor&&this.afterColor.analyze(e,{slot:"afterColor"}),this.alpha&&this.alpha.analyze(e);let r=this.color.flow(e,"c",{slot:"color"}),n=this.specular.flow(e,"c"),i=this.shininess.flow(e,"f"),o=this.shadingAlpha.flow(e,"f"),l=this.shadingBlend.flow(e,"i"),c=this.afterColor?this.afterColor.flow(e,"c",{slot:"afterColor"}):void 0,a=this.alpha?this.alpha.flow(e,"f"):void 0,s=this.alphaOverride?this.alphaOverride.flow(e,"f"):void 0;e.requires.transparent=a!==void 0,e.addParsCode(["uniform float penumbraSize[5];","uniform sampler2D aoMap;","uniform bool aoEnabled;","varying vec3 vWPosition;","#include <normal_pars_fragment>","#include <gradientmap_pars_fragment>","#include <fog_pars_fragment>","#include <bsdfs>","#include <lights_pars_begin>","#include <dithering_pars_fragment>",`
					varying vec3 vViewPosition;
					struct ToonMaterial {
						vec3	diffuseColor;
						vec3	specularColor;
						float	specularShininess;
						float	specularStrength;
					};
					void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
			
						reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
						reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
					}
					void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
						reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
					}
					#define RE_Direct				RE_Direct_Toon
					#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon
					#define Material_LightProbeLOD( material )	(0)
					`,"#include <shadowmap_pars_fragment>","#include <bumpmap_pars_fragment>","#include <normalmap_pars_fragment>"].join(`
`));let u=["#include <normal_fragment_begin>",`
				// NOTE: gl_FrontFacing alternative using face normal estimation.
				vec3 viewdx = dFdx(vViewPosition);
				vec3 viewdy = dFdy(vViewPosition);
				vec3 faceNormal = normalize(cross(viewdx,viewdy));
				if (dot(normal, faceNormal) < 0.0) {
					normal *= -1.0;
				}
				`,"	ToonMaterial material;"];if(this.bumpMap){e.include(tg.dHdxy),e.include(tg.perturbNormalArb);let h=this.bumpMap.texture.flow(e,"t"),p=this.bumpMap.flow(e,"v3"),m=this.bumpMapIntensity?this.bumpMapIntensity.flow(e,"f").result:"1.0",f="";this.bumpMap.projection.value===4?f=`
					vec3 bumpNormal = vec3(0.0);
					{
						vec2 uv0 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs0;
						vec2 uv1 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs1;
						vec2 uv2 = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs2;
						vec3 weights = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_triplanarWeights;

						vec2 grad0 = dHdxy(${h.result}, uv0, ${m});
						vec3 n0 = perturbNormalArb(-vViewPosition, normal, grad0, faceDirection);

						vec2 grad1 = dHdxy(${h.result}, uv1, ${m});
						vec3 n1 = perturbNormalArb(-vViewPosition, normal, grad1, faceDirection);

						vec2 grad2 = dHdxy(${h.result}, uv2, ${m});
						vec3 n2 = perturbNormalArb(-vViewPosition, normal, grad2, faceDirection);
						
						bumpNormal = n0 * weights.z + n1 * weights.x + n2 * weights.y;
						bumpNormal = normalize(bumpNormal);
					}

					normal = bumpNormal;
					`:f=`
					vec2 bumpMapCachedUv = g${this.bumpMap.uuid.toString().replace(/-/g,"")}_writeUvs;
					vec2 grad = dHdxy(${h.result}, bumpMapCachedUv, ${m});
					normal = perturbNormalArb( - vViewPosition, normal, grad, faceDirection );
					`,u.push(`// Call the Texture Layer's function once here so that it writes out its procedural UV coordinates
					${p.result};
					${f}
					`)}u.push(r.code,"	vec3 diffuseColor = "+r.result+";","	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );",n.code,"	vec3 specular = "+n.result+";",i.code,"	float shininess = max( 0.0001, "+i.result+" );","	float specularStrength = 1.0;"),a&&u.push(a.code,"#ifdef ALPHATEST","if ( "+a.result+" <= ALPHATEST ) discard;","#endif"),u.push("material.diffuseColor = diffuseColor;"),u.push("material.specularColor = specular;","material.specularShininess = shininess;","material.specularStrength = specularStrength;","#include <lights_fragment_begin>","#include <lights_fragment_end>"),u.push("vec3 ao = aoEnabled ? tex2D(aoMap, gl_FragCoord.xy / resolution).rgb : vec3(1.0);","vec3 outgoingLight = ((reflectedLight.directDiffuse + reflectedLight.indirectDiffuse) * ao) + reflectedLight.directSpecular;");let d="1.0";this.mask&&(this.mask.analyze(e),d=`luminance(${this.mask.flow(e,"v3").result})`),u.push(`
				if (outgoingLight != diffuseColor) {
					float lightAccu = clamp( length( reflectedLight.directSpecular + reflectedLight.indirectSpecular ), 0.0, 1.0 );
					accumAlpha += ( 1.0 - accumAlpha ) * ${o.result} * ${d} * lightAccu;
					outgoingLight = spe_blend( diffuseColor, outgoingLight, ${o.result} * ${d}, ${l.result} );
				}
				`),c&&u.push(c.code,`outgoingLight = spe_blend(outgoingLight, ${c.result}, 1.0, SPE_BLENDING_NORMAL);`),a?u.push(`gl_FragColor = vec4( outgoingLight, accumAlpha * ${a.result} );`):u.push("gl_FragColor = vec4( outgoingLight, 1.0 );"),s&&u.push(`gl_FragColor.a *= ${s.result};`),u.push("#include <encodings_fragment>","#include <fog_fragment>","#include <dithering_fragment>"),t=u.join(`
`)}return t}},TDe=class{constructor(e=1e3*10){this.timeout=e,this.cache=new Map,this.head={data:null,time:0,src:null,next:null,prev:null},this.tail={data:null,time:1/0,src:null,next:null,prev:null},this.hasClean=!1,this.head.next=this.tail,this.tail.prev=this.head}log(...e){}remove(e){let t=this.cache.get(e);t&&(this.dispose(e,t.data),this.cache.delete(e),t.prev.next=t.next,t.next.prev=t.prev)}scheduleCleanup(){this.hasClean||(this.log("scheduled cleanup"),this.hasClean=!0,setTimeout(()=>{this.hasClean=!1,this.log("cleaning");let e=Date.now(),t=this.head.next;for(;t.time<e-this.timeout;)this.dispose(t.src,t.data),this.cache.delete(t.src),t=t.next,t.prev=this.head,this.head.next=t;this.head.next!==this.tail?this.scheduleCleanup():this.log("no more cleanup")},this.timeout+1e3))}has(e){var t;return(t=this.cache.get(e))==null?void 0:t.data}load(e){let t=Date.now(),r=this.cache.get(e);return r===void 0?(r={data:this.create(e),src:e,time:t,next:null,prev:null},this.cache.set(e,r)):(r.time=t,r.prev.next=r.next,r.next.prev=r.prev),r.prev=this.tail.prev,r.next=this.tail,this.tail.prev.next=r,this.tail.prev=r,this.scheduleCleanup(),r.data}},PDe=class extends TDe{create(e){return URL.createObjectURL(new Blob([e]))}dispose(e,t){URL.revokeObjectURL(t)}},LC;function kDe(e){return typeof e=="string"?e:(LC||(LC=new PDe),LC.load(e))}var DDe=class{constructor(e,t){this.data=e,this.cache=t,this.refCount=0}deref(){this.refCount,this.refCount-=1,this.refCount===0&&(this.cache.remove(this),this.dispose())}dispose(){this.refCount}},jDe=class{constructor(){this.cache=new Map}remove(e){this.cache.delete(e.data)}load(e){let t=this.cache.get(e);return t===void 0&&(t=this.create(e),this.cache.set(e,t)),t.refCount+=1,t}},SX=class extends DDe{constructor(e,t){super(e,t.imageHolderCache),this.data=e,this.shared=t,this.loaded=!1,this.isVideo=!1,this.isVideo=e.type==="video",this.updateSrc(e.data)}async updateSrc(e){if(typeof document>"u")return;this.disposeTextures(),this.loaded=!1;let t=()=>{this.loaded=!0;let n=[1e3,1001,1002];for(let i of n){let o=this[i];o&&(o.image=this.img,o.needsUpdate=!0)}this.shared.requestRender()};if(this.isVideo){if(this.img=document.createElement("video"),this.img.preload="auto",this.img.playsInline=!0,this.img.currentTime=.01,typeof e!="string"){var r=new FileReader;r.readAsDataURL(new Blob([e],{type:"video/mp4"}));let n;await new Promise(i=>{r.onloadend=o=>{var l;n=(l=o.target)==null?void 0:l.result,i(null)}}),this.img.src=n}else this.img.src=e;this.img.onloadeddata=()=>{t()}}else this.img=new Image,this.img.src=kDe(e),this.img.onload=t}getTexture(e){let t=this[e];if(t)return t;{let r;return this.isVideo?r=new Pwe(this.img,void 0,e,e):r=new Xn(this.img,void 0,e,e),this.loaded&&(r.needsUpdate=!0),this[e]=r,r}}disposeTextures(){var e,t,r;(e=this[1e3])==null||e.dispose(),this[1e3]=void 0,(t=this[1001])==null||t.dispose(),this[1001]=void 0,(r=this[1002])==null||r.dispose(),this[1002]=void 0}dispose(){super.dispose(),this.disposeTextures()}},ch=class extends SX{};function IDe(e,t){var r=LDe(t);return r.formatToParts?RDe(r,e):zDe(r,e)}var ODe={year:0,month:1,day:2,hour:3,minute:4,second:5};function RDe(e,t){try{for(var r=e.formatToParts(t),n=[],i=0;i<r.length;i++){var o=ODe[r[i].type];o>=0&&(n[o]=parseInt(r[i].value,10))}return n}catch(l){if(l instanceof RangeError)return[NaN];throw l}}function zDe(e,t){var r=e.format(t).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(r);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var NC={};function LDe(e){if(!NC[e]){var t=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),r=t==="06/25/2014, 00:00:00"||t==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";NC[e]=r?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:e,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return NC[e]}function EX(e,t,r,n,i,o,l){var c=new Date(0);return c.setUTCFullYear(e,t,r),c.setUTCHours(n,i,o,l),c}var JN=36e5,NDe=6e4,BC={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function CX(e,t,r){var n,i;if(!e||(n=BC.timezoneZ.exec(e),n))return 0;var o;if(n=BC.timezoneHH.exec(e),n)return o=parseInt(n[1],10),e9(o)?-(o*JN):NaN;if(n=BC.timezoneHHMM.exec(e),n){o=parseInt(n[1],10);var l=parseInt(n[2],10);return e9(o,l)?(i=Math.abs(o)*JN+l*NDe,o>0?-i:i):NaN}if(UDe(e)){t=new Date(t||Date.now());var c=r?t:BDe(t),a=NP(c,e),s=r?a:FDe(t,a,e);return-s}return NaN}function BDe(e){return EX(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds())}function NP(e,t){var r=IDe(e,t),n=EX(r[0],r[1]-1,r[2],r[3]%24,r[4],r[5],0).getTime(),i=e.getTime(),o=i%1e3;return i-=o>=0?o:1e3+o,n-i}function FDe(e,t,r){var n=e.getTime(),i=n-t,o=NP(new Date(i),r);if(t===o)return t;i-=o-t;var l=NP(new Date(i),r);return o===l?o:Math.max(o,l)}function e9(e,t){return-23<=e&&e<=23&&(t==null||0<=t&&t<=59)}var t9={};function UDe(e){if(t9[e])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:e}),t9[e]=!0,!0}catch{return!1}}var VDe=di(h0e(),1),r9=di(p0e(),1),HDe=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,WDe=HDe,FC=36e5,n9=6e4,GDe=2,Zi={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:WDe};function qDe(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(e===null)return new Date(NaN);var r={},n=r.additionalDigits==null?GDe:(0,VDe.default)(r.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]")return new Date(e.getTime());if(typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]")return new Date(e);if(!(typeof e=="string"||Object.prototype.toString.call(e)==="[object String]"))return new Date(NaN);var i=YDe(e),o=$De(i.date,n),l=o.year,c=o.restDateString,a=XDe(c,l);if(isNaN(a))return new Date(NaN);if(a){var s=a.getTime(),u=0,d;if(i.time&&(u=KDe(i.time),isNaN(u)))return new Date(NaN);if(i.timeZone||r.timeZone){if(d=CX(i.timeZone||r.timeZone,new Date(s+u)),isNaN(d))return new Date(NaN)}else d=(0,r9.default)(new Date(s+u)),d=(0,r9.default)(new Date(s+u+d));return new Date(s+u+d)}else return new Date(NaN)}function YDe(e){var t={},r=Zi.dateTimePattern.exec(e),n;if(r?(t.date=r[1],n=r[3]):(r=Zi.datePattern.exec(e),r?(t.date=r[1],n=r[2]):(t.date=null,n=e)),n){var i=Zi.timeZone.exec(n);i?(t.time=n.replace(i[1],""),t.timeZone=i[1].trim()):t.time=n}return t}function $De(e,t){var r=Zi.YYY[t],n=Zi.YYYYY[t],i;if(i=Zi.YYYY.exec(e)||n.exec(e),i){var o=i[1];return{year:parseInt(o,10),restDateString:e.slice(o.length)}}if(i=Zi.YY.exec(e)||r.exec(e),i){var l=i[1];return{year:parseInt(l,10)*100,restDateString:e.slice(l.length)}}return{year:null}}function XDe(e,t){if(t===null)return null;var r,n,i,o;if(e.length===0)return n=new Date(0),n.setUTCFullYear(t),n;if(r=Zi.MM.exec(e),r)return n=new Date(0),i=parseInt(r[1],10)-1,o9(t,i)?(n.setUTCFullYear(t,i),n):new Date(NaN);if(r=Zi.DDD.exec(e),r){n=new Date(0);var l=parseInt(r[1],10);return JDe(t,l)?(n.setUTCFullYear(t,0,l),n):new Date(NaN)}if(r=Zi.MMDD.exec(e),r){n=new Date(0),i=parseInt(r[1],10)-1;var c=parseInt(r[2],10);return o9(t,i,c)?(n.setUTCFullYear(t,i,c),n):new Date(NaN)}if(r=Zi.Www.exec(e),r)return o=parseInt(r[1],10)-1,a9(t,o)?i9(t,o):new Date(NaN);if(r=Zi.WwwD.exec(e),r){o=parseInt(r[1],10)-1;var a=parseInt(r[2],10)-1;return a9(t,o,a)?i9(t,o,a):new Date(NaN)}return null}function KDe(e){var t,r,n;if(t=Zi.HH.exec(e),t)return r=parseFloat(t[1].replace(",",".")),UC(r)?r%24*FC:NaN;if(t=Zi.HHMM.exec(e),t)return r=parseInt(t[1],10),n=parseFloat(t[2].replace(",",".")),UC(r,n)?r%24*FC+n*n9:NaN;if(t=Zi.HHMMSS.exec(e),t){r=parseInt(t[1],10),n=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return UC(r,n,i)?r%24*FC+n*n9+i*1e3:NaN}return null}function i9(e,t,r){t=t||0,r=r||0;var n=new Date(0);n.setUTCFullYear(e,0,4);var i=n.getUTCDay()||7,o=t*7+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}var QDe=[31,28,31,30,31,30,31,31,30,31,30,31],ZDe=[31,29,31,30,31,30,31,31,30,31,30,31];function AX(e){return e%400===0||e%4===0&&e%100!==0}function o9(e,t,r){if(t<0||t>11)return!1;if(r!=null){if(r<1)return!1;var n=AX(e);if(n&&r>ZDe[t]||!n&&r>QDe[t])return!1}return!0}function JDe(e,t){if(t<1)return!1;var r=AX(e);return!(r&&t>366||!r&&t>365)}function a9(e,t,r){return!(t<0||t>52||r!=null&&(r<0||r>6))}function UC(e,t,r){return!(e!=null&&(e<0||e>=25)||t!=null&&(t<0||t>=60)||r!=null&&(r<0||r>=60))}function eje(e,t,r){var n=qDe(e,r),i=CX(t,n,!0),o=new Date(n.getTime()-i),l=new Date(0);return l.setFullYear(o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()),l.setHours(o.getUTCHours(),o.getUTCMinutes(),o.getUTCSeconds(),o.getUTCMilliseconds()),l}function no(e,t){return t.color(e)}function s9(e=new Date,t){let r=t.format,n=e.getSeconds(),i=e;t&&t.timeZone!==null&&(i=eje(new Date,t.timeZone));let o=i.getHours(),l=i.getMinutes(),c;t.format12h24h==="12ampm"&&(c=o>=12?"PM":"AM");let a=o;t.format12h24h!=="24"&&(a=o%12,a===0&&(a=12));let s,u;switch(r){case"HH:mm:ss":s=[a,l,n];break;case"HH:mm":s=[a,l];break;case"HH":s=[a],c=void 0;break;case"mm":s=[l],c=void 0;break;case"ss":s=[n],c=void 0;break;case"year":u=i.getFullYear();break;case"month":u=i.getMonth()+1;break;case"dayOfYear":u=Math.floor((i.getTime()-new Date(i.getFullYear(),0,0).getTime())/864e5);break;case"dayOfMonth":u=i.getDate();break;case"secondOfDay":u=o*60*60+l*60+n;break;default:console.error("Unknown time format",r),u=0;break}return s!==void 0?{textValue:s,suffix:c}:u}function tje(e,t){switch(e.type){case"fresnel":return ije(e,t);case"gradient":return oje(e,t);case"depth":return aje(e,t);case"normal":return sje(e,t);case"noise":return lje(e,t);case"rainbow":return cje(e,t);case"toon":return uje(e,t);case"outline":return dje(e,t);case"transmission":return hje(e,t);case"color":return nje(e,t);case"pattern":return pje(e,t)}}function rje(e){return{type:e.type}}function Rs(e,t){let{alpha:r,mode:n,isMask:i}=e,o=typeof r=="string"?(Number(t.getVariable(r))??100)/100:r;return{...rje(e),alpha:o,mode:n,isMask:i}}function nje(e,t){return{...Rs(e,t),color:no(e.color,t)}}function ije(e,t){let{bias:r,scale:n,intensity:i,factor:o,color:l}=e;return{...Rs(e,t),color:no(l,t),bias:r,scale:n,intensity:i,factor:o}}function oje(e,t){let{gradientType:r,smooth:n,colors:i,steps:o,angle:l,offset:c,morph:a}=e;return{...Rs(e,t),gradientType:r,smooth:n,colors:i.map(s=>new Ot(s[0],s[1],s[2],s[3])),num:i.length,steps:o,offset:new re(...c),morph:new re(...a),angle:l}}function aje(e,t){let{gradientType:r,near:n,far:i,isVector:o,isWorldSpace:l,origin:c,direction:a,colors:s,steps:u,smooth:d}=e;return{...Rs(e,t),gradientType:r,near:n,far:i,isVector:o,isWorldSpace:l,origin:new L(...c),direction:a?new L(...a):new L(1,0,0),colors:s.map(h=>h!==void 0?new Ot(h[0],h[1],h[2],h[3]):new Ot(0,0,0,0)),steps:u.slice(0,s.length),smooth:d}}function sje(e,t){let{cnormal:r}=e;return{...Rs(e,t),cnormal:new L(r[0],r[1],r[2])}}function lje(e,t){return{...Rs(e,t),scale:e.scale,move:e.move,fA:new re(...e.fA),fB:new re(...e.fB),size:new L(...e.size),distortion:new re(...e.distortion),colorA:no(e.colorA,t),colorB:no(e.colorB,t),colorC:no(e.colorC,t),colorD:no(e.colorD,t),noiseType:e.noiseType,voronoiStyle:e.voronoiStyle,highCut:e.highCut,lowCut:e.lowCut,smoothness:e.smoothness,seed:e.seed,quality:e.quality}}function cje(e,t){return{...Rs(e,t),filmThickness:e.filmThickness,movement:e.movement,wavelengths:new L(...e.wavelengths),noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,offset:new L(...e.offset)}}function uje(e,t){return{...Rs(e,t),positioning:e.positioning,colors:e.colors.map(r=>new Ot(r[0],r[1],r[2],r[3])),num:e.colors.length,steps:e.steps,source:new L(...e.source),isWorldSpace:e.isWorldSpace,noiseStrength:e.noiseStrength,noiseScale:e.noiseScale,shadowColor:no(e.shadowColor,t),offset:new L(...e.offset)}}function dje(e,t){return{...Rs(e,t),outlineColor:no(e.outlineColor,t),contourColor:no(e.contourColor,t),outlineWidth:e.outlineWidth,contourWidth:e.contourWidth,outlineThreshold:e.outlineThreshold,contourThreshold:e.contourThreshold,outlineSmoothing:e.outlineSmoothing,contourFrequency:e.contourFrequency,contourDirection:new L(...e.contourDirection),positionalLines:e.positionalLines,compensation:e.compensation}}function hje(e,t){return{...Rs(e,t),thickness:e.thickness,ior:e.ior,roughness:e.roughness}}function pje(e,t){return{...Rs(e,t),style:e.style,projection:e.projection,axis:e.axis,blending:e.blending,offset:new re(...e.offset),colorA:no(e.colorA,t),colorB:no(e.colorB,t),frequency:new re(...e.frequency),size:e.size,variation:e.variation,smoothness:e.smoothness,zigzag:e.zigzag,rotation:e.rotation,vertical:new re(...e.vertical),horizontal:new re(...e.horizontal),sides:e.sides}}var L_=class extends Io{},MX={noise:["noiseType"],texture:["projection","axis","side"],video:["projection","axis","side"],displace:["noiseType"],light:["roughnessMap","bumpMap"],depth:["smooth","isWorldSpace","gradientType","isVector"],pattern:["style","projection","axis"]},TX={depth:["colors"]};function fje(e,t,r){var o,l;if(t==="isMask")return!0;let n=MX[e.type],i=TX[e.type];if(i!==void 0){let c=e.color;if(i.includes(t)){let a=(l=(o=c[t])==null?void 0:o.value)==null?void 0:l.length;if(a!==void 0&&a!==r.length)return!0}}return n!==void 0?n.includes(t):!1}function PX(e,t,r){let n=r.uniforms[`f${r.id}_texture`];if(!n)return!1;let i=!1,o=e;if("image"in o){let l=o.image,c=t.image(l),a=n;a.image instanceof ch||a.image.deref(),a.image=c}if("video"in o){let l=o.video,c=t.video(l),a=n;a.image instanceof ch||a.image.deref(),a.image=c}if("wrapping"in o){let l=n;l.wrap=o.wrapping}if("repeat"in o||"offset"in o){let l="mat",c=r.uniforms[`f${r.id}_${l}`];"repeat"in o&&(c.repeat=o.repeat),"offset"in o&&(c.offset=o.offset),c.updateMatrix()}return i}function mje(e,t,r,n){let i=!1;for(let[o,l]of Object.entries(e)){if(o==="bumpMap"||o==="roughnessMap"){i=!0;continue}if(!o||l===void 0)continue;if(DX(o,r,n,t)){o==="visible"&&r.type==="light"&&(i=!0);continue}r.visible=n.visible;let c=r.uniforms[`f${r.id}_${o}`];if(c&&!(c instanceof qD))switch(i=i||fje(r,o,l),c.constructor){case fn:if(typeof l=="string"){let a=t.getColor(l);a&&(c.value=a);break}else{let a=l;c.value instanceof L_?c.value=new Io(a.r,a.g,a.b,a.a):c.setRGBA(a);break}case Jl:if(typeof l=="string"){let a=t.getColor(l);a&&(c.value=a);break}else{let a=l;c.value instanceof L_?c.value=new Io(a.r,a.g,a.b,a.a):c.value.setRGBA(a.r,a.g,a.b,a.a);break}case gi:{let a=l;c.value.setX(a[0]),c.value.setY(a[1]);break}case Ca:{let a=l;c.value.setX(a[0]),c.value.setY(a[1]),c.value.setZ(a[2]);break}case cc:{PX(l,t,r);break}case Ud:{c.value=l.map(a=>new Ot(...a));break}default:{c.value=l;break}}}return i}var Yh=(e,t,r)=>Math.max(0,Math.min(1,Number(t.getVariable(typeof e=="number"?e*100:e,r)??100)/100))??1,Mh=class{constructor(e,t,r,n,i){this.id=e,this.uuid=t,this.data=r,this.uniforms={};for(let o in n)this.uniforms[`f${this.id}_${o}`]=n[o];for(let o in r)DX(o,this,r,i)}get type(){return this.data.type}static create(e,t,r,n){if(r.type==="light")return ec.createLigherLayer(e,t,r,n);if(r.type==="texture"||r.type==="video"){let i=r.type==="texture"?n.image(r.texture.image):n.video(r.texture.video),o=new RP(i,r.texture.wrapping),l=new bDe(i),c=new xDe(r.texture.repeat,r.texture.offset),a=new Je(r.crop?1:0),s=new Mr(r.projection??0),u=new Mr(["x","y","z"].indexOf(r.axis)??0),d=new Mr(r.side??0),h=new gi(r.size?new re(r.size[0],r.size[1]):new re(100,100)),p=new Je(r.blending??0),m=new Je(Yh(r.alpha,n)),f=new Mr(r.mode??0),g=new Qi(r.isMask??!1),v=new YD(o,l,a,s,u,d,h,p,c,m,f,g),x=new Or(v.calpha,"f");return new un(e,t,r,{texture:o,textureSize:l,crop:a,projection:s,axis:u,side:d,size:h,blending:p,mat:c,alpha:m,mode:f,isMask:g},v,f,x,g,n)}else if(r.type==="matcap"){let i=n.image(r.texture.image),o=new RP(i,r.texture.wrapping),l=new Je(Yh(r.alpha,n)),c=new Mr(r.mode??0),a=new Qi(r.isMask??!1),s=new cX(o,l,c,a),u=new Or(s.calpha,"f");return new un(e,t,r,{texture:o,alpha:l,mode:c,isMask:a},s,c,u,a,n)}else if(r.type==="displace")if(r.displacementType==="noise"){let i=new Ca(new L(...r.offset)),o=new Je(r.scale??10),l=new Je(r.intensity??8),c=new Je(r.movement??1),a=new Mr(r.noiseType??0),s=new Mr(r.voronoiStyle??0),u=new Je(r.smoothness??.5),d=new Je(r.seed??0),h=new Je(r.highCut??1),p=new Je(r.lowCut??0),m=new Mr(r.quality??1),f=new wX(l,c,i,s,u,d,h,p,m,o,a);return new kX(e,t,r,{offset:i,scale:o,intensity:l,movement:c,noiseType:a,voronoiStyle:s,smoothness:u,seed:d,highCut:h,lowCut:p,quality:m},f,n)}else throw new Error;else return yje(e,t,r,n)}updateByOp(e,t,r){let n=e;if(n.path[0]===void 0){if(n.type===0)return"type"in n.props||"category"in n.props||"visible"in n.props?(r.scene.markNeedsUpdateRendererDirty(),!0):mje(n.props,r.shared,this,t)}else if(n.path[0]==="texture")return"texture"in t||"video"in t?PX(n.props,r.shared,this):!0;return!1}dispose(){if(gje(this)){let e=this.uniforms[`f${this.id}_texture`];if(!e)return!1;let t=e;t.image instanceof ch||t.image.deref()}}hasValueByKey(e){return this.uniforms[e]!==void 0}hasValue(e){return this.hasValueByKey(`f${this.id}_${e}`)}setValue(e,t){let r=`f${this.id}_${e}`;this.hasValueByKey(r)&&t!==void 0&&(this.uniforms[r].value=t)}getNode(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t]}getValue(e){let t=`f${this.id}_${e}`;if(this.hasValueByKey(t))return this.uniforms[t].value}getName(e){let t=/f\d+_(.*)/.exec(e);if(t&&t.length>1)return t[1];console.log(`Layer.getName: error ${e}`)}getNames(){let e=[];for(let t in this.uniforms){let r=this.getName(t);r&&e.push(r)}return e}},un=class extends Mh{constructor(e,t,r,n,i,o,l,c,a){super(e,t,r,n,a),this.params=n,this.color=i,this.mode=o,this.alpha=l,this.isMask=c}},kX=class extends Mh{constructor(e,t,r,n,i,o){super(e,t,r,n,o),this.position=i}},ec=class extends Mh{constructor(e,t,r,n,i,o){super(e,t,r,i,o),this.node=n}static createLigherLayer(e,t,r,n){let i,o=new Je(Yh(r.alpha,n)),l=new Mr(r.mode),c=new Je(r.bumpMapIntensity),a=new Je(Yh(r.alphaOverride,n)),s;if(!r.visible)i=new _X,s={};else if(r.category==="lambert"){i=new EDe;let u=new fn(n.color(r.emissive)??0),d=new Qi(r.occlusion??!0);s={emissive:u,occlusion:d},i.emissive=u,i.occlusion=d}else if(r.category==="toon"){i=new MDe;let u=new Je(r.shininess??30),d=new fn(n.color(r.specular)??1118481);s={shininess:u,specular:d},i.shininess=u,i.specular=d}else if(r.category==="physical"){i=new ADe;let u=new Je(r.roughness??.3),d=new Je(r.metalness??0),h=new Je(r.reflectivity??.5),p=new Qi(r.occlusion??!0);s={roughness:u,metalness:d,reflectivity:h,occlusion:p},i.roughness=u,i.metalness=d,i.reflectivity=h,i.occlusion=p}else{i=new CDe;let u=new Je(r.shininess??30),d=new fn(r.specular!==void 0?n.color(r.specular)??1118481:1118481),h=new Qi(r.occlusion??!0);s={shininess:u,specular:d,occlusion:h},i.shininess=u,i.specular=d,i.occlusion=h}return i.alpha=new Je(1),i.shadingAlpha=o,i.shadingBlend=l,i.bumpMapIntensity=c,i.alphaOverride=a,s.alpha=i.shadingAlpha,s.mode=i.shadingBlend,s.bumpMapIntensity=i.bumpMapIntensity,s.alphaOverride=i.alphaOverride,new ec(e,t,r,i,s,n)}get category(){return this.node.category}};function gje(e){let t=e instanceof Mh?e.type:e;return t==="texture"||t==="video"||t==="displace_map"||t==="matcap"}function ya(e){return{alpha:new Je(e.alpha??1),mode:new Mr(e.mode??0),isMask:new Qi(e.isMask??!1)}}function vje(e,t,r,n,i){switch(e.type){case"color":{let o=new fn(n.color??Ka),l=ya(n),c=new zP(o,l.alpha),a=new Or(c.calpha,"f");return new un(t,r,e,{color:o,...l},c,l.mode,a,l.isMask,i)}case"fresnel":{let o=new fn(n.color??16777215),l=new Je(n.bias??.1),c=new Je(n.scale??1),a=new Je(n.intensity??2),s=new Je(n.factor??1),u=ya(n),d=new wDe(o,l,c,a,s,u.alpha,u.mode,u.isMask),h=new Or(d.calpha,"f");return new un(t,r,e,{color:o,bias:l,scale:c,intensity:a,factor:s,...u},d,u.mode,h,u.isMask,i)}case"rainbow":{let o=new Je(n.filmThickness??30),l=new Je(n.movement??0),c=new Ca(n.wavelengths??new L(0,0,0)),a=new Je(n.noiseStrength??0),s=new Je(n.noiseScale??1),u=new Ca(n.offset??new L(0,0,0)),d=ya(n),h=new mX(o,l,c,a,s,u,d.alpha,d.isMask),p=new Or(h.calpha,"f");return new un(t,r,e,{filmThickness:o,movement:l,wavelengths:c,noiseStrength:a,noiseScale:s,offset:u,...d},h,d.mode,p,d.isMask,i)}case"transmission":{let o=new Je(n.thickness??10),l=new Je(n.ior??1.5),c=new Je(n.roughness??.5),a=ft.transmissionSize,s=ft.transmissionRenderTarget,u=ft.transmissionRenderTargetDepth,d=window.innerWidth,h=window.innerHeight,p=d>=h?new gi(h/d,1):new gi(1,d/h),m=ya(n),f=new bX(o,l,c,a,s,u,p,m.alpha),g=new Or(f.calpha,"f");return new un(t,r,e,{thickness:o,ior:l,roughness:c,aspectRatio:p,...m},f,m.mode,g,m.isMask,i)}case"toon":{let o=new Mr(n.positioning??0),l;n.colors?l=new Ud(n.colors.length,n.colors):(l=new Ud(10,new Ot(0,0,0,1)),l.value[1]=new Ot(1,1,1,1));let c;n.steps?c=new Fd(n.steps.length,n.steps):(c=new Fd(10,1),c.value[0]=0);let a=new Ca(n.source??new L(0,0,0)),s=new Qi(n.isWorldSpace??!0),u=new Je(n.noiseStrength??0),d=new Je(n.noiseScale??1),h=new Jl(n.shadowColor),p=new Ca(n.offset??new L(0,0,0)),m=ya(n),f=new vX(o,l,c,a,s,u,d,h,p,m.alpha),g=new Or(f.calpha,"f");return new un(t,r,e,{positioning:o,colors:l,steps:c,source:a,isWorldSpace:s,noiseStrength:u,noiseScale:d,shadowColor:h,offset:p,...m},f,m.mode,g,m.isMask,i)}case"outline":{let o=new fn(n.outlineColor??16777215),l=new fn(n.contourColor??16777215),c=new Je(n.outlineWidth??.1),a=new Je(n.contourWidth??.1),s=new Je(n.outlineThreshold??.1),u=new Je(n.contourThreshold??.1),d=new Je(n.outlineSmoothing??.1),h=new Je(n.contourFrequency??.1),p=new Ca(n.contourDirection??new L(0,1,0)),m=new Qi(n.positionalLines??!1),f=new Qi(n.compensation??!0),g=ft.normalRenderTarget,v=ft.normalRenderTargetDepth,x=ft.pixelRatioNode,y=ft.resolution,b=ya(n),w=new hX(o,l,c,a,s,u,d,h,p,m,f,y,g,v,x,b.alpha),_=new Or(w.calpha,"f");return new un(t,r,e,{outlineColor:o,contourColor:l,outlineWidth:c,contourWidth:a,outlineThreshold:s,contourThreshold:u,outlineSmoothing:d,contourFrequency:h,contourDirection:p,positionalLines:m,compensation:f,...b},w,b.mode,_,b.isMask,i)}case"depth":{let o=new Mr(n.gradientType??0),l=new Qi(n.smooth??!1),c=new Je(n.near??50),a=new Je(n.far??200),s=new Je(n.isVector??1),u=new Je(n.isWorldSpace??0),d=new Ca(n.origin??new L),h=new Ca(n.direction??new L),p;n.colors?p=new Ud(n.colors.length,n.colors):(p=new Ud(2,new Ot(0,0,0,1)),p.value[1]=new Ot(1,1,1,1));let m;n.steps?m=new Fd(n.steps.length,n.steps):(m=new Fd(2,1),m.value[0]=0);let f=ya(n),g=new oX(o,l,c,a,s,u,d,h,p,m,f.alpha,f.isMask),v=new Or(g.calpha,"f");return new un(t,r,e,{gradientType:o,smooth:l,near:c,far:a,isVector:s,isWorldSpace:u,origin:d,direction:h,colors:p,steps:m,...f},g,f.mode,v,f.isMask,i)}case"noise":{let o=new Je(n.scale??1),l=new Ca(n.size??new L(100,100,100)),c=new Je(n.move??1),a=new gi(n.fA??new re(1.7,9.2)),s=new gi(n.fB??new re(8.3,2.8)),u=new gi(n.distortion??new re(1,1)),d=new Jl(n.colorA),h=new Jl(n.colorB),p=new Jl(n.colorC),m=new Jl(n.colorD),f=new Mr(n.noiseType??0),g=new Mr(n.voronoiStyle??0),v=new Je(n.highCut??1),x=new Je(n.lowCut??0),y=new Je(n.smoothness??.5),b=new Je(n.seed??.5),w=new Mr(n.quality??1),_=ya(n),S=new uX(o,l,c,a,s,u,d,h,p,m,_.alpha,f,_.isMask,g,v,x,y,b,w),E=new Or(S.calpha,"f");return new un(t,r,e,{scale:o,size:l,move:c,fA:a,fB:s,distortion:u,colorA:d,colorB:h,colorC:p,colorD:m,noiseType:f,..._,voronoiStyle:g,highCut:v,lowCut:x,smoothness:y,seed:b,quality:w},S,_.mode,E,_.isMask,i)}case"normal":{let o=new Ca(n.cnormal??new L(1,1,1)),l=ya(n),c=new iX(o,l.alpha),a=new Or(c.calpha,"f");return new un(t,r,e,{cnormal:o,...l},c,l.mode,a,l.isMask,i)}case"gradient":{let o=new Mr(n.gradientType??0),l=new Qi(n.smooth??!1),c;n.colors?c=new Ud(n.colors.length,n.colors):(c=new Ud(10,new Ot(0,0,0,1)),c.value[1]=new Ot(1,1,1,1));let a;n.steps?a=new Fd(n.steps.length,n.steps):(a=new Fd(10,1),a.value[0]=0);let s=new gi(n.offset??new re(0,0)),u=new gi(n.morph??new re(0,0)),d=new Je(n.angle??0),h=ya(n),p=new sX(o,l,c,a,s,u,d,h.alpha,h.isMask),m=new Or(p.calpha,"f");return new un(t,r,e,{gradientType:o,smooth:l,colors:c,steps:a,offset:s,morph:u,angle:d,...h},p,h.mode,m,h.isMask,i)}case"pattern":{let o=new Mr(n.style??0),l=new Mr(n.projection??0),c=new Mr(["x","y","z"].indexOf(n.axis)??0),a=new Je(n.blending??0),s=new gi(n.offset??new re(0,0)),u=new Jl(n.colorA),d=new Jl(n.colorB),h=new gi(n.frequency??new re(10,10)),p=new Je(n.size??.5),m=new Je(n.variation??0),f=new Je(n.smoothness??.5),g=new Je(n.zigzag??0),v=new Je(n.rotation??0),x=new gi(n.vertical??new re(0,1)),y=new gi(n.horizontal??new re(0,1)),b=new Mr(n.sides??6),w=ya(n),_=new pX(o,l,c,a,s,u,d,h,p,m,f,g,v,x,y,b,w.alpha,w.isMask),S=new Or(_.calpha,"f");return new un(t,r,e,{style:o,projection:l,axis:c,blending:a,offset:s,colorA:u,colorB:d,frequency:h,size:p,variation:m,smoothness:f,zigzag:g,rotation:v,vertical:x,horizontal:y,sides:b,...w},_,w.mode,S,w.isMask,i)}default:{let o=new fn(1,0,0,1),l=ya(n),c=new zP(o,l.alpha),a=new Or(c.calpha,"f");return new un(t,r,e,{color:o,...l},c,l.mode,a,l.isMask,i)}}}function yje(e,t,r,n){let i=tje(r,n);return vje(r,e,t,i,n)}function DX(e,t,r,n){if(r.type==="displace"&&(e==="intensity"||e==="visible")){let i=t.uniforms[`f${t.id}_intensity`];return i?(i.value=r.intensity*(r.visible?1:0),i):void 0}if(r.type!=="displace"&&(e==="alpha"||e==="visible")){let i=t.uniforms[`f${t.id}_alpha`];if(!i)return;if(i.value=Yh(r.alpha,n)*(r.visible?1:0),r.type==="outline"&&e==="visible"){let o=t.uniforms[`f${t.id}_compensation`];o&&(o.value=r.compensation&&r.visible)}return i}}function Uf(e,t){let r=0,n=e.layers.find(i=>i.data.type==="light");if(n){let i=n.data,o=Number(t.getVariable(i.alphaOverride));if((typeof i.alphaOverride=="string"?o/100:i.alphaOverride)<1)return!0}for(let i of e.layers){if(i.data.type!=="displace"&&i.data.isMask)return!0;if(i.data.type!=="displace"&&"alpha"in i.data&&i.data.type!=="light"&&i.data.type!=="fresnel"&&i.data.type!=="texture"&&i.data.type!=="matcap"&&i.data.type!=="rainbow"&&i.data.type!=="outline"&&i.data.type!=="pattern"){let o=i.data.visible?i.data.alpha:0;if(typeof o=="string"&&(o=Math.max(0,Math.min(1,Number(t.getVariable(o)??100)/100))),o===1&&i.data.type==="depth"||i.data.type==="gradient"){for(let l of i.data.colors)if(l[3]<1){o=l[3];break}}else if(o===1&&i.data.type==="noise"){let l=t.color(i.data.colorA).a,c=t.color(i.data.colorB).a,a=t.color(i.data.colorC).a,s=t.color(i.data.colorD).a,u=Math.min(l,Math.min(c,Math.min(a,s)));u<1&&(o=u)}r+=(1-r)*o}}return r<1}var sd=class extends Tr{constructor(){super(void 0),this.flatShading=!1,this.needsJitter=!0,this.cacheKey="",this.fog=!0,this.dithering=!0,this.vertexColors=!0,this.transparent=!0}customProgramCacheKey(){return this.cacheKey}},bje=class extends sd{constructor(e,t,r,n){super(),this.flatShading=e,this.side=t,this.wireframe=r,this.root=n}updateAfterBuild(){let e=this.root;this.lights=e.lights,this.vertexShader=e.vertexShader,this.fragmentShader=e.fragmentShader,this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.transparent=e.transparent,this.cacheKey=e.customProgramCacheKey()+"flat"+this.flatShading+this.side}onBeforeCompile(e,t){this.root.onBeforeCompile(e)}get data(){return this.root.data}get category(){return this.root.category}get hasAO(){return this.root.hasAO}getFlavor(e,t,r){return this.root.getFlavor(e,t,r)}get layers(){return this.root.layers}get fragment(){return this.root.fragment}getLayersOfType(e){return this.root.getLayersOfType(e)}getLayerByUuid(e){return this.root.getLayerByUuid(e)}updateByOp(e,t,r){this.root.updateByOp(e,t,r)}nodeMaterialDispose(){this.root.nodeMaterialDispose()}},XD=class extends sd{constructor(e,t,r=!0){super(),this.data=e,this.allowVariableSaves=r,this.layerIdGen=0,this.flavors=[],this.masks={},this.type="NodeMaterial",this.updaters=[],this.reset0(e,t)}get nodeMaterial(){return this}getFlavor(e,t,r){let n=r?6:(e?3:0)+t;if(n===0)return this;this.flavors===void 0&&(this.flavors=[]),n-=1;let i=this.flavors[n];return i===void 0&&(i=new bje(e,t,r,this),this.flavors[n]=i,i.flatShading=e,i.side=t,i.updateAfterBuild()),i}get fragment(){return this.lightLayer.node}get category(){return this.lightLayer.category}get hasAO(){var e;return((e=this.lightLayer.getNode("occlusion"))==null?void 0:e.value)??!1}reset(e,t){this.data!==e&&this.reset0(e,t)}reset0(e,t){this.data=e;let r=e.layers??Oi.defaultTwoLayerData("phong").layers;try{this.layers=r.map(n=>Mh.create(this.layerIdGen++,n.id,n.data,t.shared))}catch{this.layers=[]}this.layers.reverse(),this.name=e.name??"Untitled Material",this.onUpdate(t.shared),this.transparent=Uf(e,t.shared),this.saveVariableLocations(t)}onVariableUpdate(e,t,r){if(e[0]==="alphaOverride")this.transparent=Uf(this.data,r.shared),this.lightLayer.setValue("alphaOverride",Math.max(0,Math.min(Number(t)/100,1)));else if(e[0]==="layer"){let n=e[1],i=e[2];if(n&&i){let o=this.layers.find(l=>l.uuid===n);o!=null&&o.hasValue(i)&&(i==="alpha"?(this.transparent=Uf(this.data,r.shared),o.setValue(i,Math.max(0,Math.min(Number(t)/100,1)))):o.setValue(i,t))}}}saveVariableLocations(e){if(!this.allowVariableSaves)return;let t=this.data.layers.find(r=>r.data.type==="light");t&&e.shared.getVariable(t.data.alphaOverride,["material",this.uuid,"alphaOverride"]),this.data.layers.forEach(r=>{"alpha"in r.data&&typeof r.data.alpha=="string"&&e.shared.getVariable(r.data.alpha,["material",this.uuid,"layer",r.id,"alpha"])})}getLayersOfType(e){return this.layers.filter(t=>t.type===e)}getLayerByUuid(e){return this.layers.find(t=>t.uuid===e)}onUpdate(e){this.cacheKey=this.computeCacheKey(),this.lightLayer=this.layers.find(t=>t instanceof ec),this.lightLayer===void 0&&(this.lightLayer=new ec(0,"",{...xo.defaultData("light","phong"),visible:!1},new _X,{},e)),this.dispose();for(let t of this.flavors)t&&t.dispose();this.applyTextureMaps(),this.applyMasks(),this.blendColors(),this.blendAfterColors(),this.blendPositions()}applyTextureMaps(){let e=this.layers.find(i=>i instanceof ec);if(!e)return;let t=e.data,r=t.bumpMap,n=t.roughnessMap;e.node.bumpMap=void 0,e.node.roughnessMap=void 0;for(let i=0;i<this.layers.length;++i){let o=this.layers[i];o instanceof un&&o.color instanceof YD&&(o.uuid===r&&(e.node.bumpMap=o.color),o.uuid===n&&(e.node.roughnessMap=o.color))}}updateByOp(e,t,r){if(t!==void 0?this.data=t:t=this.data,this.transparent=Uf(t,r.shared),e.path[0]==="layers"){this.data=t;let n=r.shared,i=e.path[1];if(i===void 0){if(this.layers.reverse(),e.type===4){let o=Mh.create(this.layerIdGen++,e.id,e.data,r.shared);this.layers.splice(e.localIndex,0,o),r.scene.markNeedsUpdateRendererDirty()}else if(e.type===5)this.layers.splice(e.localIndex,1)[0].dispose(),r.scene.markNeedsUpdateRendererDirty();else if(e.type===6){let o=this.layers.findIndex(c=>c.uuid===e.id),l=this.layers[o];this.layers.splice(o,1),this.layers.splice(e.localIndex,0,l),r.scene.markNeedsUpdateRendererDirty()}this.layers.reverse(),this.onUpdate(r.shared)}else{e.type===0&&e.props.occlusion!==void 0&&r.scene.markNeedsUpdateRendererDirty();let o=this.layers.find(l=>l.uuid===i);if(o){let l=t.layers.data(i),c;if(e.type===0&&("alpha"in e.props||"alphaOverride"in e.props)&&("alpha"in e.props?c={...e.props,alpha:Yh(e.props.alpha,n,["material",this.uuid,"layer",i,"alpha"])}:c={...e.props,alphaOverride:Yh(e.props.alphaOverride,n,["material",this.uuid,"alphaOverride"])}),o.updateByOp({...e,...c?{props:c}:{},path:e.path.slice(2)},l,r)){let a=Mh.create(this.layerIdGen++,i,l,n);this.layers.splice(this.layers.findIndex(s=>s.uuid===i),1,a),this.onUpdate(r.shared)}}}}else this.reset(t,r)}applyMasks(){for(let e=0;e<this.layers.length;++e){let t=this.layers[e];t instanceof un?t.color.mask=void 0:t instanceof ec&&(t.node.mask=void 0)}for(let e=0;e<this.layers.length;++e){let t=this.layers[e];if(t instanceof un&&t.isMask.value&&t.data.visible&&e>0){let r=e-1,n=this.layers[r];n instanceof ec?n.node.mask=new vo(t.color,t.alpha,vo.MUL):n instanceof un&&(n.isMask.value||(n.color.mask=new vo(t.color,t.alpha,vo.MUL)))}}}blendColors(){let e=this.layers.findIndex(r=>r instanceof un),t=this.layers.findIndex(r=>r instanceof ec);if(e!==-1&&e<t){let r=this.layers[e].color;for(let n=e+1;n<t;++n){let i=this.layers[n];if(i instanceof un){if(i.isMask.value)continue;r=new ZN(r,i.color,i.alpha,i.mode)}}this.fragment.color=r}else this.fragment.color=void 0}blendAfterColors(){let e=new Or("outgoingLight","f"),t=this.layers.findIndex(r=>r instanceof ec);if(this.layers.length>t+1){for(let r=t+1;r<this.layers.length;++r){let n=this.layers[r];if(n instanceof un){if(n.isMask.value)continue;e=new ZN(e,n.color,n.alpha,n.mode)}}this.fragment.afterColor=e}else this.fragment.afterColor=void 0}blendPositions(){let e=this.layers.filter(t=>t instanceof kX);if(e.length>0){let t=e[0].position;for(let r=1;r<e.length;++r)e[r]&&(t=new vo(t,e[r].position,vo.ADD),t=new vo(t,new Je(.5).setReadonly(!0),vo.MUL));this.fragment.position=t}else this.fragment.position=void 0}getDefines(){return this.defines}getUniforms(){return this.uniforms}getVertexShader(){return this.vertexShader}getFragmentShader(){return this.fragmentShader}onBeforeCompile(e){this.build(),e.defines=this.defines,e.uniforms=this.uniforms,e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader,e.extensionDerivatives=this.extensions.derivatives===!0,e.extensionFragDepth=this.extensions.fragDepth===!0,e.extensionDrawBuffers=this.extensions.drawBuffers===!0,e.extensionShaderTextureLOD=this.extensions.shaderTextureLOD===!0}clampUniformsForPreview(e,t){let r=(n,i,o)=>Math.min(Math.max(n,i),o);for(let n of this.layers)if(n.type==="displace"){let i=r(n.uniforms[`f${n.id}_intensity`].value,e,t);n.uniforms[`f${n.id}_intensity`].value=i}}computeCacheKey(){let e="[";for(let{data:t}of this.data.layers)if(t.type==="light")e+=`"${t.visible?t.category.toUpperCase():"Basic"}"`;else{let r=(MX[t.type]??[]).map(c=>t[c]),n=(TX[t.type]??[]).map(c=>{var a;return((a=t[c])==null?void 0:a.length)??0}),i=[...r,...n],o="isMask"in t&&t.isMask,l=`"${t.type}-${t.visible}-${o}"`;i.length?e+=`[${l}, "${i.join('","')}"],`:e+=l}return e=e.slice(0,-1)+"]",e}updateFrame(e){for(let t=0;t<this.updaters.length;++t)e.updateNode(this.updaters[t])}build(){let e=new yDe;e.needsJitter=this.needsJitter,this.lights=this.lightLayer.data.visible,e.build(this.fragment,this.fragment),this.vertexShader=e.getCode("vertex"),this.fragmentShader=e.getCode("fragment"),this.defines=e.defines,this.uniforms=e.uniforms,this.extensions=e.extensions,this.updaters=e.updaters;for(let t of this.flavors)t&&t.updateAfterBuild();return this}nodeMaterialDispose(){this.layers.forEach(e=>e.dispose()),super.dispose();for(let e of this.flavors)e&&e.dispose()}assetsLoaded(){for(let e of this.layers)if(e instanceof un){let t=e.params.texture;if(t instanceof RP&&!t.image.loaded)return!1}return!0}getHash(){let e="{";return e+='"fragment":'+this.fragment.getHash(),e+="}",e}};Object.defineProperties(sd.prototype,{properties:{get:function(){return this.fragment.properties}}});var BP=class extends XD{constructor(e,t,r){super(e,t,!1),this.uuid=r,this.allowVariableSaves=!0,this.saveVariableLocations(t)}},xje=di(f0e()),l9=new Map;function wje(e){if(typeof e=="string")return e;let t=l9.get(e);return t||(t={url:URL.createObjectURL(new Blob([e]))},l9.set(e,t)),t.url}var X0=class{constructor({src:e,volume:t,delay:r,loop:n}){this._volume=1,this.delay=0,this._loop=1,this.loopsRemaining=0,this._status="stopped",this.onEnd=()=>{this.loopsRemaining===1/0?this.replay():this.loopsRemaining>1?(this.replay(),this.loopsRemaining--):(this._status="stopped",this.loopsRemaining=this._loop)};let i;typeof e=="string"?i={src:e}:i={src:wje(e),format:"wav"},this.sound=new xje.Howl(i),this.sound.on("end",this.onEnd),this.src=e,t!==void 0&&(this.volume=t),r!==void 0&&(this.delay=r),n!==void 0&&(this.loop=n)}get status(){return this._status}get volume(){return this._volume}set volume(e){this._volume=e,this.sound.volume(e)}get loop(){return this._loop}set loop(e){this._loop=e,this.loopsRemaining=e}replay(){this.clearDelay(),this.delayTimerId=window.setTimeout(()=>{this.sound.play(),this.clearDelay()},this.delay)}fade(e,t=1e3){e?(this.sound.volume(this._volume),this.clearFade(),this.fadeTimerId=window.setTimeout(()=>{this.sound.fade(this._volume,0,t),this.clearFade()},e)):this.sound.fade(this._volume,0,t)}on(e,t,r){this.sound.on(e,t,r)}off(e,t,r){this.sound.off(e,t,r)}play(){this._status==="playing"||this.sound.playing()||(this._status==="paused"?(this.sound.seek()===0?this.replay():this.sound.play(),this._status="playing"):this._status==="stopped"&&(this.replay(),this._status="playing"))}pause(){this._status==="playing"&&(this.sound.pause(),this.clearFade(),this.clearDelay(),this._status="paused")}stop(){this.sound.stop(),this.loopsRemaining=this._loop,this.clearFade(),this.clearDelay(),this._status="stopped"}clearFade(){this.fadeTimerId&&(clearTimeout(this.fadeTimerId),delete this.fadeTimerId)}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}dispose(e=!1){this.off(),this.stop(),this.clearFade(),this.clearDelay()}},_je=class{constructor(){this.type="ShapePath",this.color=new ht,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new n_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){var r;return(r=this.currentPath)==null||r.lineTo(e,t),this}quadraticCurveTo(e,t,r,n){var i;return(i=this.currentPath)==null||i.quadraticCurveTo(e,t,r,n),this}bezierCurveTo(e,t,r,n,i,o){var l;return(l=this.currentPath)==null||l.bezierCurveTo(e,t,r,n,i,o),this}splineThru(e){var t;return(t=this.currentPath)==null||t.splineThru(e),this}toShapes(){let e={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},t={loc:e.ORIGIN,t:0};function r(p,m,f,g){let v=p.x,x=m.x,y=f.x,b=g.x,w=p.y,_=m.y,S=f.y,E=g.y,A=(b-y)*(w-S)-(E-S)*(v-y),C=(x-v)*(w-S)-(_-w)*(v-y),M=(E-S)*(x-v)-(b-y)*(_-w),T=A/M,k=C/M;if(M===0&&A!==0||T<=0||T>=1||k<0||k>1)return null;if(A===0&&M===0){for(let P=0;P<2;P++)if(n(P===0?f:g,p,m),t.loc===e.ORIGIN){let D=P===0?f:g;return{x:D.x,y:D.y,t:t.t}}else if(t.loc===e.BETWEEN){let D=+(v+t.t*(x-v)).toPrecision(10),I=+(w+t.t*(_-w)).toPrecision(10);return{x:D,y:I,t:t.t}}return null}else{for(let I=0;I<2;I++)if(n(I===0?f:g,p,m),t.loc===e.ORIGIN){let O=I===0?f:g;return{x:O.x,y:O.y,t:t.t}}let P=+(v+T*(x-v)).toPrecision(10),D=+(w+T*(_-w)).toPrecision(10);return{x:P,y:D,t:T}}}function n(p,m,f){let g=f.x-m.x,v=f.y-m.y,x=p.x-m.x,y=p.y-m.y,b=g*y-x*v;if(p.x===m.x&&p.y===m.y){t.loc=e.ORIGIN,t.t=0;return}if(p.x===f.x&&p.y===f.y){t.loc=e.DESTINATION,t.t=1;return}if(b<-Number.EPSILON){t.loc=e.LEFT;return}if(b>Number.EPSILON){t.loc=e.RIGHT;return}if(g*x<0||v*y<0){t.loc=e.BEHIND;return}if(Math.sqrt(g*g+v*v)<Math.sqrt(x*x+y*y)){t.loc=e.BEYOND;return}let w;g!==0?w=x/g:w=y/v,t.loc=e.BETWEEN,t.t=w}function i(p,m){let f=[],g=[];for(let v=1;v<p.length;v++){let x=p[v-1],y=p[v];for(let b=1;b<m.length;b++){let w=m[b-1],_=m[b],S=r(x,y,w,_);S!==null&&f.find(E=>E.t<=S.t+Number.EPSILON&&E.t>=S.t-Number.EPSILON)===void 0&&(f.push(S),g.push(new re(S.x,S.y)))}}return g}function o(p,m,f){let g=new re;m.getCenter(g);let v=[];return f.forEach(x=>{x.boundingBox.containsPoint(g)&&i(p,x.points).forEach(y=>{v.push({identifier:x.identifier,isCW:x.isCW,point:y})})}),v.sort((x,y)=>x.point.x-y.point.x),v}function l(p,m,f,g,v){(v==null||v==="")&&(v="nonzero");let x=new re;p.boundingBox.getCenter(x);let y=[new re(f,x.y),new re(g,x.y)],b=o(y,p.boundingBox,m);b.sort((C,M)=>C.point.x-M.point.x);let w=[],_=[];b.forEach(C=>{C.identifier===p.identifier?w.push(C):_.push(C)});let S=w[0].point.x,E=[],A=0;for(;A<_.length&&_[A].point.x<S;)E.length>0&&E[E.length-1]===_[A].identifier?E.pop():E.push(_[A].identifier),A++;if(E.push(p.identifier),v==="evenodd"){let C=E.length%2===0,M=E[E.length-2];return{identifier:p.identifier,isHole:C,for:M}}else if(v==="nonzero"){let C=!0,M=null,T=null;for(let k=0;k<E.length;k++){let P=E[k];m[P]&&(C?(T=m[P].isCW,C=!1,M=P):T!==m[P].isCW&&(T=m[P].isCW,C=!0))}return{identifier:p.identifier,isHole:C,for:M}}else console.warn('fill-rule: "'+v+'" is currently not implemented.')}let c=0,a=999999999,s=-999999999,u=[];this.subPaths.forEach(p=>{let m=p.getPoints(),f=-999999999,g=999999999,v=-999999999,x=999999999;for(let y=0;y<m.length;y++){let b=m[y];b.y>f&&(f=b.y),b.y<g&&(g=b.y),b.x>v&&(v=b.x),b.x<x&&(x=b.x)}s<=v&&(s=v+1),a>=x&&(a=x-1),m.length&&u.push({curves:p.curves,points:m,isCW:Bq.isClockWise(m),identifier:c++,boundingBox:new Kq(new re(x,g),new re(v,f))})});let d=u.map(p=>{var m;return l(p,u,a,s,(m=this.userData)==null?void 0:m.style.fillRule)}),h=[];return u.forEach(p=>{let m=d[p.identifier];if(m&&!m.isHole){let f=new i_;f.curves=p.curves,d.filter(g=>(g==null?void 0:g.isHole)&&g.for===p.identifier).forEach(g=>{if(g){let v=u[g.identifier],x=new n_;x.curves=v.curves,f.holes.push(x)}}),h.push(f)}}),h}},jX,c9=new Promise(e=>{jX=e}),u9=!1,$b;function Sje(){if(u9)return;if($b)return $b;async function e(){let t=await Qy(()=>import("./opentype-D6jUvuOk.js"),[]);jX(t),u9=!0}return $b=e(),$b}var Eje=class{async load(e,t,r=()=>{}){let{load:n}=await c9;n(e,(i,o)=>{i||!o?r(i??"Something went wrong"):t(o)})}async parse(e){let{parse:t,Bidi:r}=await c9;try{let n=t(e),i=new r,o=l=>n.charToGlyphIndex(l.char);return i.registerModifier("glyphIndex",null,o),i.applyFeatures(n,n.defaultRenderOptions.features),{font:n,bidi:i}}catch(n){console.error(n)}}};async function Cje(e){return await(await fetch(e)).arrayBuffer()}var Aje=new Eje;async function d9(e){let t,r,n=!1;if(e.url?(t=await Cje(e.url),r=e.url,n=e.url.startsWith("/")):e.data&&(t=e.data.buffer.slice(e.data.byteOffset,e.data.byteOffset+e.data.byteLength)),t){let i=await Aje.parse(t);if(i)return{font:i.font,url:r,intercepted:n,arr:t,bidi:i.bidi}}}function Mje(e,t){return t.state.glyphIndex===e||t.state.fina===e||t.state.medi===e||t.state.init===e}var Tje=class{constructor(e){this._arrayBuffer=new ArrayBuffer(1),this._isLoaded=!1,this._intercepted=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=d9(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}update(e){this._isLoaded=!1,this._isUserFont=e.isUserFont??!1,this._loadingPromise=d9(e).then(t=>{t&&(this._arrayBuffer=t.arr,this._url=t.url,this.font=t.font,this._intercepted=t.intercepted,this._isLoaded=!0,this._bidi=t.bidi)})}get url(){return this._url}get intercepted(){return this._intercepted}get isLoaded(){return this._isLoaded}get loadingPromise(){return this._loadingPromise}reverseLigaturesTable(e,t,r){if(!this._bidi)return[];let n=this._bidi;n.getTextGlyphs(t);let i=n.tokenizer.tokens,o=[],l=0,c=r.length===i.length;for(let a=0;a<r.length;a++){let s=r[a].index,u=String.fromCharCode(r[a].unicode),d=i[l];if(Mje(s,d)||c)o.push({char:u,index:s,replacements:[d.state.glyphIndex],replacementChars:[d.char]}),l++;else{let h=d.char,p="",m=[d.state.glyphIndex],f=[],g=!1;for(;!g;)l++,p=t.charAt(l),h+=p,m.push(e.charToGlyphIndex(p)),f=e.stringToGlyphs(h),f.length===1&&f[0].index===s&&(g=!0),l>t.length&&(g=!0);o.push({char:u,index:s,replacements:m,replacementChars:Array.from(h)}),l++}}return o}generateShapes(e,t){if(!this._isLoaded)return;let r=this.font,n=t.fontSize/this.unitsPerEm,i=t.fontSize*t.lineHeight,o=e.map(v=>this.getTextWidth(v,t)),l=t.width,c=this.getCharWidth(`
`,t),a=t.horizontalAlign===1?c:0,s=this.computeSpaceWidthForLine(e,0,t),u=this.getLineInitialOffsetX(o[0],l,t.horizontalAlign,e[0],c),d=this.getLineInitialOffsetY(i,e.length,t.height,n,t.verticalAlign),h=[],p=e.map(v=>[]),m=e.map(v=>[]),f;for(let v=0;v<e.length;v++){let x=e[v],y={features:{liga:!0}},b=[];try{b=r.stringToGlyphs(x,y)}catch(_){console.warn(_)}u=this.getLineInitialOffsetX(o[v],l,t.horizontalAlign,x,c);let w=[];try{w=this.reverseLigaturesTable(r,x,b)}catch(_){console.warn(_)}s=this.computeSpaceWidthForLine(e,v,t);for(let _=0;_<b.length;_++){let S=b[_],E=S.index===0?`
`:S.unicode?String.fromCharCode(S.unicode):void 0,A=w[_],C=0,M=0;_===0&&t.horizontalAlign===2&&S.leftSideBearing!==void 0&&(M=-S.leftSideBearing*n),f&&(C=r.getKerningValue(S,f)*n),u+=M+C;let T=0;if(E===`
`)T=a;else if(E===" ")T=s;else{let k=this.createPath(S,n,u,d,t);k&&(T=k.offsetX-(C+M),h.push(k.path))}if(A.replacements.length===1)m[v].push([u,d]),p[v].push(T);else{let k=A.replacements.map(O=>(r.glyphs.get(O).advanceWidth??0)*n),P=k.reduce((O,j)=>O+=j,0),D=k.map(O=>O/P),I=u;for(let O=0;O<D.length;O++){let j=T*D[O];m[v].push([I,d]),p[v].push(j),I+=j}}u+=T,f=S}d-=i}let g=[];for(let v=0,x=h.length;v<x;v++)g.push(...h[v].toShapes());return{shapes:g,charWidths:p,lineWidths:o,charCoords:m}}get isUserFont(){return this._isUserFont}get arrayBuffer(){return this._arrayBuffer}get ascender(){var e;return((e=this.font)==null?void 0:e.ascender)??0}get descender(){var e;return((e=this.font)==null?void 0:e.descender)??0}get familyName(){var e;return((e=this.font)==null?void 0:e.names.fontFamily)??""}get subfamilyName(){var e;return((e=this.font)==null?void 0:e.names.fontSubfamily)??""}get unitsPerEm(){var e;return((e=this.font)==null?void 0:e.unitsPerEm)??1}getLineInitialOffsetX(e,t,r,n,i){return(r===3||r===2)&&n.indexOf(`
`)>=0&&(e-=i),r===3?t*.5-e*.5:r===2?t-e:0}getLineInitialOffsetY(e,t,r,n,i){let o=t*e,l=Math.abs(this.ascender-this.descender)*n,c=e-l,a=-this.ascender*n-c/2;return i===3?-(r-o-a):i===2?-(r*.5-o*.5-a):a}createPath(e,t,r,n,i){var a;let o=e.getPath(r,-n,i.fontSize,{kerning:!1,letterSpacing:i.letterSpacing});if(!o){console.error('THREE.Font: character "'+e+'" does not exists in font family '+this.familyName+".");return}let l=new _je,c=(e.advanceWidth??1)*t;if(e)for(let s of o.commands){let u=(a=l.currentPath)==null?void 0:a.currentPoint;if(!(u&&s.type!=="Z"&&u.x===s.x&&-u.y===s.y))switch(s.type){case"M":l.moveTo(s.x,-s.y);break;case"L":l.lineTo(s.x,-s.y);break;case"Q":l.quadraticCurveTo(s.x1,-s.y1,s.x,-s.y);break;case"C":l.bezierCurveTo(s.x1,-s.y1,s.x2,-s.y2,s.x,-s.y);break}}return l.subPaths.forEach(s=>{let u=Pje(s.curves);u!==void 0&&s.currentPoint.distanceTo(u)>0&&s.lineTo(u.x,u.y)}),{offsetX:c+i.fontSize*i.letterSpacing,path:l}}getCharWidth(e,t){var r;return((r=this.font)==null?void 0:r.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing}))??0}getTextWidth(e,t){var r;return((r=this.font)==null?void 0:r.getAdvanceWidth(e,t.fontSize,{kerning:!0,letterSpacing:t.letterSpacing}))??0}computeSpaceWidthForLine(e,t,r){let n=this.getCharWidth(" ",r),i=e[t];if(i){let o=this.countSpaces(i.trimEnd());if(r.horizontalAlign===4&&t<e.length-1&&o){let l=r.width,c=this.getTextWidth(i,r);return(l-(c-o*n))/o}}return n}countSpaces(e){return(e.match(/ /g)||[]).length}};function Pje(e){if(e.length){let t=e[0];if(t instanceof Ms)return t.v1;if(t instanceof xs||t instanceof od)return t.v0}}var kje=class{constructor(){this.objects=new Map,this.unreachable=new Set}getCached(e){return this.objects.get(e)}get size(){return this.objects.size}get(e,t,r){let n=this.objects.get(e);return n===void 0?(n=this.createObject(e,t,r),this.objects.set(e,n)):n.isShared=!0,n}forceDelete(e){let t=this.objects.get(e);t&&(this.disposeObject(t),this.objects.delete(e))}mutateIfUnique(e,t){let r=this.objects.get(e);if(r&&r.isShared!==!0)return this.objects.delete(e),this.objects.set(t,r),r}startGc(){this.unreachable=new Set(this.objects.keys())}markAsReachable(e,t){let r=this.objects.get(e);t===r&&this.unreachable.delete(e)}endGc(){this.unreachable.forEach(e=>{this.disposeObject(this.objects.get(e)),this.objects.delete(e)}),this.unreachable.clear()}dispose(){this.objects.forEach(e=>{this.disposeObject(e)}),this.objects.clear()}},h9=class extends kje{constructor(e){super(),this.flatShading=e}disposeObject(e){e.dispose()}createObject(e,t,r){let n=z_(e,t,this.flatShading,r);return n.computeBoundingSphere(),n}},Dje={markNeedsUpdateRendererDirty:()=>{}},jje=class extends jDe{constructor(e){super(),this.shared=e}create(e){return new SX(e,this.shared)}},KD=class{constructor(e,t={}){if(this.data=e,this.geometryCache=new h9(!0),this.geometryCache2=new h9(!1),this.imageHolderCache=new jje(this),this.thisContext={scene:Dje,shared:this},this.deletedMaterial=new BP(Oi.defaultTwoLayerData("phong"),this.thisContext,""),this.deletedImage=new ch(P_.emptyImage,this),this.deletedVideo=new ch(__.defaultVideo,this),this.materials={},this.images={},this.videos={},this.colors={},this.audios={},this.fonts={},this.variables={},this.mouseProperty=null,this.raycastProperty=null,this.requestRender=()=>{this._requestRender&&this._requestRender()},t.images)for(let[r,n]of Object.entries(t.images))this.addImage(r,n);if(t.videos)for(let[r,n]of Object.entries(t.videos))this.addVideo(r,n);if(t.audios)for(let[r,n]of Object.entries(t.audios))this.addAudio(r,n);this.reset(e)}setRequestRender(e){this._requestRender=e}setEntityOpContext(e){this.entityOpContext=e}reset(e,t=!1){this.resetLib(e.lib);for(let{id:r,data:n}of e.variables)this.addVariableHolder(r,n),t&&this.updateVariableHolder(r,n);for(let[r,n]of Object.entries(e.images))this.addImage(r,n);for(let[r,n]of Object.entries(e.videos))this.addVideo(r,n);for(let[r,n]of Object.entries(e.colors))this.addColor(r,n);for(let[r,n]of Object.entries(e.materials))this.addMaterial(r,n);for(let[r,n]of Object.entries(e.audios))this.addAudio(r,n);for(let[r,n]of Object.entries(e.fonts))this.addFont(r,n)}addMaterial(e,t){if(this.materials[e]){let r=this.materials[e];r.reset(t,this.thisContext),r.dispose()}else{let r=new BP(t,this.thisContext,e);this.materials[e]=r}}deleteMaterial(e){this.materials[e]&&(this.materials[e].nodeMaterialDispose(),delete this.materials[e])}getMaterial(e){return this.materials[e]}getMaterialOrDeletedPlaceholder(e){return this.materials[e]??this.deletedMaterial}material(e){return typeof e=="string"?this.getMaterialOrDeletedPlaceholder(e):e==null?(console.error("material is undefined or null"),this.deletedMaterial):new XD(e,this.thisContext)}getMaterials(){return this.materials}addImage(e,t){return this.images[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),this.images[e].updateSrc(t.data),!0):(this.images[e]=new ch(t,this),!1)}deleteImage(e){let t=this.images[e];t&&(t.dispose(),delete this.images[e])}getDefaultImage(){return this.images.image_0}getImage(e){return this.images[e]??this.deletedImage}image(e){return typeof e=="string"?this.getImage(e):this.imageHolderCache.load(e)}addVideo(e,t){return this.videos[e]?(this.videos[e].updateSrc(t.data),!0):(this.videos[e]=new ch(t,this),!1)}deleteVideo(e){let t=this.videos[e];t&&(t.dispose(),delete this.videos[e])}getVideo(e){return this.videos[e]??this.deletedVideo}video(e){return typeof e=="string"?this.getVideo(e):this.imageHolderCache.load(e)}addColor(e,t){return this.colors[e]?(this.onColorOrImageUpdate&&this.onColorOrImageUpdate(),"a"in t?this.colors[e].setRGBA(t.r,t.g,t.b,t.a):this.colors[e].setRGBA(t.r,t.g,t.b,1),!0):("a"in t?this.colors[e]=new L_(t.r,t.g,t.b,t.a):this.colors[e]=new L_(t.r,t.g,t.b,1),!1)}updateColor(e,t){if(this.colors[e]){this.onColorOrImageUpdate&&this.onColorOrImageUpdate();let r=this.colors[e];return this.colors[e].r=t.r??r.r,this.colors[e].g=t.g??r.g,this.colors[e].b=t.b??r.b,this.colors[e].a=t.a??r.a,!0}return!1}deleteColor(e){this.colors[e]&&delete this.colors[e]}getColor(e){return this.colors[e]}color(e){let t;if(typeof e=="string"){let r=this.getColor(e);r?t=r:(console.warn("Tried to create color layer params with a color key that does not exist in the assets manager"),t=new Io(0,0,0,0))}else return"a"in e?new Io(e.r,e.g,e.b,e.a):new Io(e.r,e.g,e.b,1);return t}addAudio(e,t){this.audios[e]=t}getAudio(e){let t=this.audios[e];if(t instanceof X0)return t;{let r=new X0({src:t.data});return this.audios[e]=r,r}}deleteAudio(e){let t=this.audios[e];t&&(t instanceof X0&&t.dispose(),delete this.audios[e])}addFont(e,t){this.fonts[e]=new Tje(t),this.fonts[e].loadingPromise.then(()=>this.requestRender())}getFont(e){return this.fonts[e]}deleteFont(e){this.fonts[e]&&delete this.fonts[e]}dispose(){Object.keys(this.materials).forEach(e=>this.deleteMaterial(e)),this._requestRender=void 0,Object.values(this.audios).forEach(e=>{e instanceof X0&&e.dispose()}),this.audios={},this.geometryCache.dispose(),this.geometryCache2.dispose()}addVariableHolder(e,t){return this.variables[e]===void 0?(this.variables[e]={value:t.value,locations:[]},"dynamicVariableType"in t&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0),!0):(this.variables[e].value=t.value,!1)}resetDynamicVariablePlayState(){for(let e in this.variables)this.variables[e].dynamicVariablePlayState!==void 0&&(this.variables[e].dynamicVariablePlayState="Playing",this.variables[e].dynamicVariableToggleIsForward=void 0)}updateVariableHolder(e,t){this.updateVariable(e,t.value)}updateVariable(e,t){if(this.variables[e]===void 0)return!1;this.variables[e].value=t;let r=t;for(;typeof r=="string";)r=this.variables[r].value;let n=this.entityOpContext.scene;for(let i=this.variables[e].locations.length-1;i>=0;i--){let o=this.variables[e].locations[i];if(o[0]==="material"){let l=o[1],c=r,a={scene:n,shared:this},s=o.slice(2);n.traverseMaterial(d=>{let h=d.root??d;h.uuid===l&&h.onVariableUpdate(s,c,a)});let u=this.materials[l];u&&u.onVariableUpdate(s,c,a)}else{let l=n.find(o[0]);if(l===void 0){this.variables[e].locations.splice(i,1);continue}if(o[1]!=="geometry"){for(let c=1;c<o.length-1;c++)l=l[o[c]];o[1]==="rotation"?l[o[o.length-1]]=r*at.DEG2RAD:l[o[o.length-1]]=r}if(l=n.find(o[0]),Jt.is(l)){if(o[1]==="position"||o[1]==="rotation"||o[1]==="scale")l.onVariableUpdate();else if(o[1]==="geometry"){let c=l;l.component&&(c=l.component);let a=c.dataPatched;c.chooseGeoemtryCache(this).forceDelete(a.geometry),c.createGeometryDelayed(this.entityOpContext),c.onVariableUpdate(!0),c.instances.forEach(s=>{let u=s.dataPatched;s.chooseGeoemtryCache(this).forceDelete(u.geometry),s.createGeometryDelayed(this.entityOpContext),s.onVariableUpdate(!0)})}}}}return!0}deleteVariable(e){this.variables[e]&&delete this.variables[e]}getVariable(e,t){var r,n,i;if(Array.isArray(e)){if(e[0]==="mouse")return((r=this.mouseProperty)==null?void 0:r[e[1]])??0;if(e[0]==="raycast")return((n=this.raycastProperty)==null?void 0:n[e[1]])??0;let o=this.entityOpContext.scene.find(e[0]);if(e[1]==="width"||e[1]==="height"||e[1]==="depth")return o.geometry.userData.parameters[e[1]];for(let l=1;l<e.length;l++)o=o[e[l]];return e[1]==="rotation"&&(o*=at.RAD2DEG),o}for(let o in this.variables){if(t===void 0)break;let l=this.variables[o],c=(i=l.locations)==null?void 0:i.findIndex(a=>Ki.equal(a,t));c!==void 0&&c!==-1&&l.locations.splice(c,1)}if(typeof e=="string"){let o=e,l=e;do{if(l=o,this.variables[o]===void 0)break;o=this.variables[o].value}while(typeof o=="string");return t&&this.variables[l]!==void 0&&this.variables[l].locations.push(t),o}else return e}getVariables(){return this.variables}getDynamicVariablePlayState(e){var t;return(t=this.variables[e])==null?void 0:t.dynamicVariablePlayState}setDynamicVariablePlayState(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariablePlayState=t)}getDynamicVariableToggleIsForward(e){var t;return(t=this.variables[e])==null?void 0:t.dynamicVariableToggleIsForward}setDynamicVariableToggleIsForward(e,t){this.variables[e]!==void 0&&(this.variables[e].dynamicVariableToggleIsForward=t)}resetLib(e){for(let[t,r]of Object.entries(e.images))this.addImage(t,r.asset);for(let[t,r]of Object.entries(e.audios))this.addAudio(t,r.asset);for(let[t,r]of Object.entries(e.colors))this.addColor(t,r.asset);for(let[t,r]of Object.entries(e.fonts))this.addFont(t,r.asset);for(let[t,r]of Object.entries(e.materials))this.addMaterial(t,r.asset);for(let[t,r]of Object.entries(e.videos))this.addVideo(t,r.asset);for(let[t,r]of Object.entries(e.variables))this.addVariableHolder(t,r.asset)}updateLibByOp(e,t){e.path[0]==="images"?e.path.length===1&&e.type===1?this.addImage(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteImage(e.id):e.path[0]==="videos"?e.path.length===1&&e.type===1?this.addVideo(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVideo(e.id):e.path[0]==="audios"?e.path.length===1&&e.type===1?this.addAudio(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteAudio(e.id):e.path[0]==="colors"?e.path.length===1&&e.type===1?this.addColor(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteColor(e.id):e.path[0]==="materials"?e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteMaterial(e.id):e.path[0]==="fonts"?e.path.length===1&&e.type===1?this.addFont(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteFont(e.id):e.path[0]==="variables"?e.path.length===1&&e.type===1?this.addVariableHolder(e.id,e.data.asset):e.path.length===1&&e.type===2&&this.deleteVariable(e.id):e.path[0]==="components"&&t.updateByLibOp(e,this)}updateByOp(e,t,r){this.data=t,e.path[0]==="images"?e.path.length===2&&e.type===0?e.props.data&&this.getImage(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addImage(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteImage(e.id):e.path[0]==="videos"?e.path.length===2&&e.type===0?e.props.data&&this.getVideo(e.path[1]).updateSrc(e.props.data):e.path.length===1&&e.type===1?this.addVideo(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteVideo(e.id):e.path[0]==="audios"?e.path.length===2&&e.type===0?e.props.data&&this.addAudio(e.path[1],t.audios[e.path[1]]):e.path.length===1&&e.type===1?this.addAudio(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteAudio(e.id):e.path[0]==="colors"?e.path.length===2&&e.type===0?this.updateColor(e.path[1],e.props):e.path.length===1&&e.type===1?this.addColor(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteColor(e.id):e.path[0]==="materials"?e.path.length===1&&e.type===1?this.addMaterial(e.id,e.data):e.path.length===1&&e.type===2?this.deleteMaterial(e.id):e.path.length>1&&this.getMaterial(e.path[1]).updateByOp(Di.drop(e,2),t.materials[e.path[1]],{shared:this,scene:r}):e.path[0]==="fonts"?e.path.length===2&&e.type===0?this.updateFont(e.path[1],e,r):e.path.length===1&&e.type===1?this.addFont(e.id,e.data):e.path.length===1&&e.type===2&&this.deleteFont(e.id):e.path[0]==="variables"?e.path.length===2&&e.type===0&&"value"in e.props?this.updateVariable(e.path[1],e.props.value):e.path.length===1&&e.type===4?this.addVariableHolder(e.id,e.data):e.path.length===1&&e.type===5&&this.deleteVariable(e.id):e.path[0]==="lib"&&this.updateLibByOp(Di.drop(e,1),r)}updateFont(e,t,r){if(t.props.url){let n=this.getFont(e),i={...this.data.fonts[e],url:t.props.url};n.update(i),n.loadingPromise.then(()=>this.requestRender()),r.updateFont(e,this)}}};new KD(vs.emptyData());var kg=class extends Fo{updateByPatchedOp(e,t,r){if(super.updateByPatchedOp(e,t,r),kPe(e.path,["materials"])!==null&&e.type===0&&Array.isArray(this.material))for(let[n,i]of Object.entries(e.props)){let o=r.shared.material(i);this.material[Number(n)]=o}else if(Ba(e.path,["material"])&&this.material instanceof sd)"material"in t&&typeof t.material!="string"&&this.material.updateByOp(Di.drop(e,1),t.material,r);else if(Ba(e.path,["materials","*"])&&Array.isArray(this.material)){let n=e.path[1];if("materials"in t&&n<this.material.length){let i=t.materials[n];typeof i!="string"&&this.material[n].updateByOp(Di.drop(e,2),i,r)}}}get needsAO(){return this.material!==void 0?(Array.isArray(this.material)?this.material[0]:this.material).hasAO:!1}updateState(e,t){var n,i;super.updateState(e,t),e.castShadow!==void 0&&(this.castShadow=e.castShadow),e.receiveShadow!==void 0&&(this.receiveShadow=e.receiveShadow);let r=this.dataPatched;if(((n=e.geometry)==null?void 0:n.type)!=="NonParametricGeometry"&&"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=t.shared.material(e.material).getFlavor(r.flatShading,r.side,r.wireframe),t.scene.markNeedsUpdateRendererDirty()),((i=e.geometry)==null?void 0:i.type)==="NonParametricGeometry"&&("materials"in e&&e.materials!==void 0?(this.disposeMaterial(),this.material=e.materials.map(o=>t.shared.material(o).getFlavor(r.flatShading,r.side,r.wireframe)),t.scene.markNeedsUpdateRendererDirty()):"material"in e&&e.material!==void 0&&(this.disposeMaterial(),this.material=[t.shared.material(e.material).getFlavor(r.flatShading,r.side,r.wireframe)],t.scene.markNeedsUpdateRendererDirty())),e.flatShading!==void 0||e.wireframe!==void 0||e.side!==void 0)if(Array.isArray(this.material))for(let o=0;o<this.material.length;o++)this.material[o]=this.material[o].getFlavor(r.flatShading,r.side,r.wireframe);else this.material=this.material.getFlavor(r.flatShading,r.side,r.wireframe)}disposeMaterial(){this.material&&IY(this.material).forEach(e=>{e instanceof sd&&(e instanceof BP||e.nodeMaterialDispose())})}dispose(){this.disposeMaterial(),super.dispose()}},p9=new L,f9=new Ot,m9=new Ot,Ije=new L,g9=new Re,io=class extends kg{constructor(e,t,r){super(e,t),this.data=t,this.isSkinnedMesh=!1,this.localGeometry=void 0,t.bindMode&&t.bindMatrix&&(this.bindMode=t.bindMode,this.bindMatrix=new Re().fromArray(t.bindMatrix),this.bindMatrixInverse=new Re)}chooseGeoemtryCache(e){return e.geometryCache}markGeometryAsReachable(e){this.geometryCreateDeleyed instanceof lt&&this.chooseGeoemtryCache(e).markAsReachable(this.dataPatched.geometry,this.geometryCreateDeleyed)}get geometry(){if(this.localGeometry!==void 0)return this.localGeometry;if(this.geometryCreateDeleyed instanceof KD){let e=this.geometryCreateDeleyed,t=this.chooseGeoemtryCache(e);this.geometryCreateDeleyed=t.get(this.dataPatched.geometry,e,this)}return this.geometryCreateDeleyed}set geometry(e){this.localGeometry=e}get is2DAndNoDepth(){let e=this.dataPatched.geometry;return C_.is2DParametricMesh(e.type)&&e.depth===0}get is2DType(){return C_.is2DParametricMesh(this.geometry.userData.type)}get isNonParametric(){return this.geometry.userData.type==="NonParametricGeometry"}updateByPatchedOp(e,t,r){super.updateByPatchedOp(e,t,r),Ba(e.path,["geometry"])&&this.updateByPatchedOpGeometry(Di.drop(e,1),t.geometry,r)}removeInteractionGeometry(){var e;(e=this.localGeometry)==null||e.dispose(),this.localGeometry=void 0}updateGeometryInteractions(e,t){var n;this.invalidateDownstreamBooleanData();let r=this.data.geometry.type;if(r==="NonParametricGeometry"||r==="SubdivGeometry"){let i=e;if(this.localGeometry===void 0){let s={...this.data.geometry,...i};this.localGeometry=z_(s,t,this.data.flatShading,this)}let o,l,c;i.scaleBaked?[o,l,c]=i.scaleBaked:{width:o,height:l,depth:c}=i;let a=this.localGeometry.userData;a.sxPrev!==void 0&&IP(this.localGeometry.attributes,o/a.sxPrev,l/a.syPrev,c/a.szPrev),a.sxPrev=o,a.syPrev=l,a.szPrev=c}else{let i={...this.data.geometry,...e};(n=this.localGeometry)==null||n.dispose(),this.localGeometry=z_(i,t,this.data.flatShading,this)}}refreshAttachedCloners(e){for(let t of this.attachedSurfaceCloners)e.scene.addPendingUpdateCloner(t.object)}refreshAttachedPaths(e){for(let t of this.attachedPaths)e.scene.addPendingCommand(()=>t.updateShape())}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.refreshAttachedCloners(e),this.refreshAttachedPaths(e)}updateByPatchedOpGeometry(e,t,r){var i;let n=!1;e.type===0&&e.path.length===0&&Object.keys(e.props).includes("scaleBaked")&&this.geometryCreateDeleyed instanceof Xi&&this.chooseGeoemtryCache(r.shared).mutateIfUnique(this.geometryCreateDeleyed.data,t)===this.geometryCreateDeleyed&&(n=!0,this.geometryCreateDeleyed.mutateDirectlyScaleBaked(t,e.props.scaleBaked),this.refreshAttachedCloners(r),this.refreshAttachedPaths(r)),n||((i=r.scene)==null||i.markGeometryCacheDirty(),this.createGeometryDelayed(r)),this.resetBBoxNeedsUpdate(),this.invalidateDownstreamBooleanData()}updateGeometryOnStateUpdate(e,t){this.createGeometryDelayed(t)}updateState(e,t){e.geometry!==void 0&&this.updateGeometryOnStateUpdate(e.geometry,t),super.updateState(e,t)}updateGeometryGroupsIfNeeded(){var e;Array.isArray(this.material)&&this.geometry.groups.length===0&&this.geometry.addGroup(0,Math.max(((e=this.geometry.getIndex())==null?void 0:e.count)??0,this.geometry.getAttribute("position").count),0)}updateEntityBoxSize(e,t){let r=this.geometry.userData.parameters;this.is2DType?e.set(0,0,r.depth*.5):this.isNonParametric?(e.setScalar(0),this.geometry.boundingSphere&&e.copy(this.geometry.boundingSphere.center),t.set(r.width,r.height,r.depth??0).multiplyScalar(.5)):e.setScalar(0),t.set(r.width,r.height,r.depth??0).multiplyScalar(.5)}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"&&this.bindMatrixInverse.copy(this.bindMatrix).invert()}bind(e,t){this.skeleton=e,this.isSkinnedMesh=!0,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(e){let t=new Ot,r=this.geometry.attributes.skinWeight;for(let n=0,i=r.count;n<i;n++){t.fromBufferAttribute(r,n);let o=1/t.manhattanLength();o!==1/0?t.multiplyScalar(o):t.set(1,0,0,0),r.setXYZW(n,t.x,t.y,t.z,t.w)}}boneTransform(e,t){let r=this.skeleton;if(r===void 0)return;let n=this.geometry;f9.fromBufferAttribute(n.attributes.skinIndex,e),m9.fromBufferAttribute(n.attributes.skinWeight,e),p9.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let i=0;i<4;i++){let o=m9.getComponent(i);if(o!==0){let l=f9.getComponent(i);g9.multiplyMatrices(r.bones[l].matrixWorld,r.boneInverses[l]),t.addScaledVector(Ije.copy(p9).applyMatrix4(g9),o)}}return t.applyMatrix4(this.bindMatrixInverse)}};function Oje(e){var l,c;if(e.geometry.attributes.extrudeNormal||!e.geometry.attributes.position||!e.geometry.attributes.normal)return;let t=new Map,r=e.geometry.attributes,n=r.position.array,i=r.normal.array,o=new Float32Array(n.length);for(let a=0;a<n.length;a+=3){let s=`${n[a]}_${n[a+1]}_${n[a+2]}`,u=new L(i[a],i[a+1],i[a+2]);t.has(s)?(l=t.get(s))==null||l.normals.push(u):t.set(s,{normals:[u],result:new L})}t.forEach((a,s)=>{for(let u of a.normals)a.result.add(u);a.result.divideScalar(a.normals.length)});for(let a=0;a<n.length;a+=3){let s=`${n[a]}_${n[a+1]}_${n[a+2]}`,u=(c=t.get(s))==null?void 0:c.result;u&&(o[a]=u.x,o[a+1]=u.y,o[a+2]=u.z)}e.geometry.setAttribute("extrudeNormal",new Ze(o,3))}function Rje(e){if(e.geometry.attributes.extrudeNormals||!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,r=new Float32Array(t.length),n=new L;for(let i=0;i<t.length;i+=3)n.set(t[i],t[i+1],t[i+2]).normalize(),r[i]=n.x,r[i+1]=n.y,r[i+2]=n.z;e.geometry.setAttribute("extrudeNormal",new Ze(r,3))}function QD(e){if(Array.isArray(e.material)){for(let t of e.material)if(t.getLayersOfType("outline").length===0)return}else if(!(e.material instanceof sd)||e.material.getLayersOfType("outline").length===0)return;e instanceof io&&e.is2DAndNoDepth?Rje(e):Oje(e)}function ZD(e){if(!e.geometry.attributes.position)return;let t=e.geometry.attributes.position.array,r=new Float32Array(t.length),n=parseInt(e.uuid.replace(/\D/g,"")),i=[at.seededRandom(n),at.seededRandom(n+1e4),at.seededRandom(n+2e4)];for(let o=0;o<t.length;o++)r[o]=i[o%3];e.geometry.setAttribute("randomColor",new St(r,3))}HD.then(e=>{});var Hs=new Cn,x0=new L;function zje(e){let t=!1;return e.scene.objects.traverse((r,n)=>{n.type==="Mesh"&&n.geometry.type==="SubdivGeometry"&&(t=!0)}),t}var Ay=class extends io{constructor(e,t,r){super(e,t,r),this.data=t,this.hiddenMatrixOld=new Re,this.smoothShading=!0,this.skipReactionUpdate=!1}chooseGeoemtryCache(e){return this.dataPatched.flatShading?e.geometryCache:e.geometryCache2}get subdivPointerNew(){return this.localGeometry!==void 0?this.subdivPointer:this.geometry.ensureSubdivPointer()}get originalGeometryNew(){return this.localGeometry!==void 0?this.originalGeometry:this.geometry.originalGeometry}get phongAngle(){return this.data.geometry.phongAngle??45}updateEntityBoxSize(e,t){let r=this.geometry.userData.parameters;e.copy(this.originalGeometryNew.boundingSphere.center),t.set(r.width,r.height,r.depth??0).multiplyScalar(.5)}createGeometryByControls(e){var o,l,c;if(this.skipReactionUpdate===!0)return;let t=(o=this.localGeometry)==null?void 0:o.uuid,{originalGeometry:r,subdividedGeometry:n,subdivPointer:i}=Xi.build(e,this.subdivPointer,this.smoothShading,this.hasNonUniformScale?this.shearScale:void 0);this.subdivPointer=i,r!==void 0&&((l=this.originalGeometry)==null||l.dispose(),this.originalGeometry=r),n!==void 0&&((c=this.subdividedGeometry)==null||c.dispose(),this.subdividedGeometry=n??void 0),this.localGeometry=this.subdividedGeometry??this.originalGeometry,QD(this),ZD(this),this.calcBoundingBox(),t&&(this.localGeometry.uuid=t)}updateState(e,t){if(super.updateState(e,t),e.flatShading!==void 0){let r=this.material;this.material=r.getFlavor(!1,r.side,r.wireframe),this.smoothShading=!e.flatShading,this.createGeometryDelayed(t)}}updateMesh(e=!1){Xi.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1,this.originalGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0),this.subdividedGeometry&&Xi.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1,this.subdividedGeometry,e&&this.hasNonUniformScale?this.shearScaleInv:void 0)}updateTopology(){this.originalGeometry.dispose(),this.originalGeometry=Xi.buildLevel(this.subdivPointer,!0,this.smoothShading?this.phongAngle:-1),this.subdividedGeometry&&(this.subdividedGeometry.dispose(),this.subdividedGeometry=Xi.buildLevel(this.subdivPointer,!1,this.smoothShading?this.phongAngle:-1)),this.localGeometry=this.subdividedGeometry??this.originalGeometry}raycast(e,t){let r=this.localGeometry;this.localGeometry=this.originalGeometryNew,Fo.prototype.raycast.call(this,e,t),this.localGeometry=r}activateSVDCompensation(){!this.hasNonUniformScale||(this.matrix.copy(this.matrixWorldRigid),this.hiddenMatrixOld.copy(this.hiddenMatrix),this.hiddenMatrix.copy(this.parent.matrixWorld).invert())}deactivateSVDCompensation(){!this.hasNonUniformScale||(this.updateMatrix(),this.hasNonUniformScale=void 0,this.hiddenMatrix.copy(this.hiddenMatrixOld))}calcBoundingBox(){let e=this.originalGeometry;e.boundingSphere===null&&(e.boundingSphere=new Bo,this.subdividedGeometry&&(this.subdividedGeometry.boundingSphere=e.boundingSphere));let t=e.attributes.position,r=e.boundingSphere.center;Hs.setFromBufferAttribute(t),Hs.getCenter(r),e.boundingSphere.radius=r.distanceTo(Hs.max),isNaN(e.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this),Hs.getSize(x0),this.hasNonUniformScale&&x0.divide(this.scale);let n={width:x0.x,height:x0.y,depth:x0.z};return this.geometry.userData.parameters=n,n}updateBoundingSphere(e){let t=this.originalGeometry;Hs.min.set(e[0],e[2],e[4]),Hs.max.set(e[1],e[3],e[5]),this.hasNonUniformScale&&(Hs.min.applyMatrix4(this.shearScaleInv),Hs.max.applyMatrix4(this.shearScaleInv)),t.boundingSphere===null&&(t.boundingSphere=new Bo);let r=t.boundingSphere.center;Hs.getCenter(r),t.boundingSphere.radius=r.distanceTo(Hs.max)}freeSubdivPointer(){var e,t;this.subdivPointer&&(Xi.freeSubdivPointer(this.subdivPointer),this.subdivPointer=0),this.localGeometry=void 0,(e=this.originalGeometry)==null||e.dispose(),(t=this.subdividedGeometry)==null||t.dispose()}dispose(){super.dispose(),this.freeSubdivPointer()}updateByPatchedOpGeometry(e,t,r){super.updateByPatchedOpGeometry(e,t,r),this.localGeometry&&this.createGeometryByControls(t)}},v9=-1,Lje=1,Nje={x:[1,0,0],"-x":[-1,0,0],y:[0,1,0],"-y":[0,-1,0],z:[0,0,1],"-z":[0,0,-1]},Bje={polygon_center:0,edge:1,vertex:2},Xb=(e,t)=>(r,n)=>!t||r===0||e===0?0:e*n/100,jt=(e,t)=>{let r=Math.abs(t),n=r*-1;return(e-v9)*(r-n)/(Lje-v9)+n};function Fje(e){let t=[],r={};for(var n=0,i=e.length;n<i;n++){var o=JSON.stringify(e[n].pos.map(l=>Math.round(l*1e4)/1e4));r[o]||(t.push(e[n]),r[o]=!0)}return t}var Uje=new L,Kb=new L,Vje=new L,Hje=new L;function pm(e,t){let r=Vje.fromArray(e),n=Hje.fromArray(t);Kb.copy(n).sub(r);let i=Kb.length();return Kb.normalize().multiplyScalar(i*.5),Uje.copy(r).add(Kb).toArray()}var La=new ki,Qb=new L,N_=new L,$d=new L;function Wje(e){let t=[];for(let r=0;r<=e.index.count;r++)if(Qb.fromArray(e.index.array,r*3),La.setFromAttributeAndIndices(e.attributes.position,Qb.x,Qb.y,Qb.z),La.getNormal(N_),La.getMidpoint($d),!(isNaN($d.x)||isNaN($d.y)||isNaN($d.z))){let{a:n,b:i,c:o}=La,l=n.toArray(),c=i.toArray(),a=o.toArray(),s=n.distanceTo(i),u=i.distanceTo(o),d=o.distanceTo(n),h=pm(l,c),p=pm(c,a),m=pm(a,l),f=[s,u,d],g=Math.max(...f),v=f.filter(b=>Math.round(b)===Math.round(g)).length>1,x=[],y=La.getMidpoint($d).toArray();g===s&&!v&&(x=[p,m,m],y=h),g===u&&!v&&(x=[h,m,m],y=p),g===d&&!v&&(x=[h,p,p],y=m),v&&(x=[h,p,m]),t.push({vertices:[l,c,a],faceCenters:x,midpoint:y,norm:La.getNormal(N_).toArray()})}return t}function Gje(e){let t=[],{position:r}=e.attributes;for(let n=0;n<r.count;n++){La.setFromAttributeAndIndices(r,n*3,n*3+1,n*3+2),La.getNormal(N_),La.getMidpoint($d);let i=La.a.toArray(),o=La.b.toArray(),l=La.c.toArray();t.push({vertices:[i,o,l],faceCenters:[pm(i,o),pm(o,l),pm(l,i)],midpoint:$d.toArray(),norm:N_.toArray()})}return t}var qje=4,Yje=.5,VC=e=>.5*(1-Math.cos(e*Math.PI)),$je=class{constructor(){this.perlin=new Array(4096)}noise(e,t=0,r=0){if(this.perlin==null){this.perlin=new Array(4096);for(let g=0;g<4096;g++)this.perlin[g]=Math.random()}e<0&&(e=-e),t<0&&(t=-t),r<0&&(r=-r);let n=Math.floor(e),i=Math.floor(t),o=Math.floor(r),l=e-n,c=t-i,a=r-o,s,u,d=0,h=.5,p,m,f;for(let g=0;g<qje;g++){let v=n+(i<<4)+(o<<8);s=VC(l),u=VC(c),p=this.perlin[v&4095],p+=s*(this.perlin[v+1&4095]-p),m=this.perlin[v+16&4095],m+=s*(this.perlin[v+16+1&4095]-m),p+=u*(m-p),v+=256,m=this.perlin[v&4095],m+=s*(this.perlin[v+1&4095]-m),f=this.perlin[v+16&4095],f+=s*(this.perlin[v+16+1&4095]-f),m+=u*(f-m),p+=VC(a)*(m-p),d+=p*h,h*=Yje,n<<=1,l*=2,i<<=1,c*=2,o<<=1,a*=2,l>=1&&(n++,l--),c>=1&&(i++,c--),a>=1&&(o++,a--)}return d}noiseSeed(e){let t=(()=>{let r,n;return{setSeed(i){n=r=(i??Math.random()*4294967296)>>>0},getSeed(){return r},rand(){return n=(1664525*n+1013904223)%4294967296,n/4294967296}}})();t.setSeed(e),this.perlin=new Array(4096);for(let r=0;r<4096;r++)this.perlin[r]=t.rand()}},Xje=$je,y9=new L,b9=new Re,x9=new mg;function w9(e){let t=!1;return e.scene.objects.traverse((r,n)=>{n.type==="Mesh"&&n.geometry.type==="TextGeometry"&&(t=!0)}),t}var IX=class extends io{constructor(e,t,r){super(e,t,r),this.data=t}get textGeometry(){return this.geometry}get charWidths(){return this.textGeometry.charWidths}get charCoords(){return this.textGeometry.charCoords}get wrappedText(){return this.textGeometry.wrappedText}get font(){return this.textGeometry.font}get initialOffsetY(){var t;let e=this.dataPatched;return((t=this.font)==null?void 0:t.getLineInitialOffsetY(this.lineHeight,this.wrappedText.length,e.geometry.height,this.fontScale,e.geometry.verticalAlign))??0}get fontScale(){let e=this.dataPatched;return this.font?e.geometry.fontSize/this.font.unitsPerEm:1}get AD(){return Math.abs(this.ascender-this.descender)}get ascender(){var e;return(((e=this.font)==null?void 0:e.ascender)??1)*this.fontScale}get descender(){var e;return(((e=this.font)==null?void 0:e.descender)??1)*this.fontScale}get lineHeight(){let e=this.dataPatched;return e.geometry.fontSize*e.geometry.lineHeight}raycast(e,t){let{matrixWorld:r}=this;if(!(isNaN(e.ray.origin.x)||this.scale.x===0||this.scale.y===0||this.scale.z===0)&&(b9.copy(r).invert(),x9.copy(e.ray).applyMatrix4(b9),x9.intersectBox(this.singleBBox,y9))){let n=y9.applyMatrix4(r),i=e.ray.origin.distanceTo(n);t.push({distance:i,point:n.clone(),object:this})}}},Vi=1e-4,Ws,OX,RX,zX,_9=new L,S9=new L;HD.then(e=>{Ws=e,OX=[Ws.get_face_center,Ws.get_edge_midpoint,Ws.get_vertex_position],RX=[Ws.get_face_normal,Ws.get_edge_normal,Ws.get_vertex_normal],zX=[Ws.face_count,Ws.edge_count,Ws.vertex_count]});var Kje=new Re,Qje=new Re,tu=new L,Pd=new L,w0=new L,HC=new L,Zje=new L,Jje=new L,Ul=new Xje,Ss=class extends RD(wr){constructor(e,t){super(),this.parameters=t,this.objectForSample=void 0,this._pendingMediaLoad=!1,this.object=e}resetOnMove(){this.removeFromParent(),this.parent=null}expandClones(e){if(this.parent===null)this.updateState(this.parameters,e);else for(let t of this.children)t instanceof ji&&t.expand()}invalidateTransform(e){this.matrixWorldNeedsUpdate=!0,this.traverse(t=>{t instanceof ji&&t.object===e&&(t.matrixWorldNeedsUpdate=!0)})}onObjUpdateMatrix(){this.parameters.type!=="toObject"&&(this.matrixWorldNeedsUpdate=!0)}update(){switch(this._updateCount(),this.parameters.type){case"radial":this._updateRadial(this.parameters);break;case"linear":this._updateLinear(this.parameters);break;case"grid":this._updateGrid(this.parameters);break;case"toObject":this._updateToObject(this.parameters)}for(let e of this.children)e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD())}_updateCount(e){let t;if(e!==void 0?t=e:t=this.parameters.type==="grid"?Math.round(this.parameters.grid.count[0])*Math.round(this.parameters.grid.count[1])*Math.round(this.parameters.grid.count[2]):this.parameters.count,this.parameters.type==="toObject"&&!this.parameters.toObject.object&&(t=0),this.parameters.type==="toObject"&&this.objectForSample){for(let n=0,i=this.children.length;n<i;++n)this.remove(this.children[0]);let r=this.children;if(r.length===t)return;if(r.length<t)for(let n=0,i=t-r.length;n<i;++n){let o=new ji(this.object);o.expand(),this.add(o)}else for(let n=0,i=r.length-t;n<i;++n)this.remove(r[n])}else{if(this.children.length===t)return;if(this.children.length<t)for(let r=0,n=t-this.children.length;r<n;++r){let i=new ji(this.object);i.expand(),this.add(i)}else for(let r=0,n=this.children.length-t;r<n;++r)this.remove(this.children[0])}}_updateRadial(e){let t=e.radial,r=t.start*at.DEG2RAD,n=t.end*at.DEG2RAD,i=r-n,o=new oi(t.rotation[0],t.rotation[1],t.rotation[2]),l;switch(t.axis){case"z":l=new L(0,0,1);break;case"y":l=new L(0,1,0);break;default:case"x":l=new L(1,0,0);break}let c=e.randomnessObject??Du.defaultData([1,1,1]).randomnessObject,a=c.noiseType==="perlin";Ul.noiseSeed(c.seed);let s=wC((0,m0.default)(c.seed)),u=Xb(c.strength,this.parameters.randomness);for(let[d,h]of this.children.entries()){let p=d*(c.freqScale/10)+c.movement,m=a?Ul.noise(p):s(p,p),f=d+1;h.scale.x=t.scale[0]+u(f,jt(m,c.scale[0]))||Vi,h.scale.y=t.scale[1]+u(f,jt(m,c.scale[1]))||Vi,h.scale.z=t.scale[2]+u(f,jt(m,c.scale[2]))||Vi,h.position.setScalar(0);let g=i/e.count*d-r;switch(t.axis){case"x":h.rotation.set(0,g,0);break;case"y":h.rotation.set(0,0,g);break;case"z":h.rotation.set(g,0,0);break}h.translateOnAxis(l,t.radius),h.position.x+=t.position[0]+u(f,jt(m,c.position[0])),h.position.y+=t.position[1]+u(f,jt(m,c.position[1])),h.position.z+=t.position[2]+u(f,jt(m,c.position[2]));let v=u(f,jt(m,c.rotation[0])),x=u(f,jt(m,c.rotation[1])),y=u(f,jt(m,c.rotation[2]));t.alignment===!0?(h.rotation.x+=o.x+v,h.rotation.y+=o.y+x,h.rotation.z+=o.z+y):h.rotation.set(o.x+v,o.y+x,o.z+y)}}_updateLinear(e){if(e.type!=="linear")throw new Error;let t=e.linear,r=new oi(t.rotation[0],t.rotation[1],t.rotation[2]),n=e.randomnessObject??Du.defaultData([1,1,1]).randomnessObject,i=n.noiseType==="perlin";Ul.noiseSeed(n.seed);let o=wC((0,m0.default)(n.seed)),l=Xb(n.strength,this.parameters.randomness);for(let[c,a]of this.children.entries()){let s=c*(n.freqScale/10)+n.movement,u=i?Ul.noise(s):o(s,s),d=c+1,h=l(d,jt(u,n.rotation[0])),p=l(d,jt(u,n.rotation[1])),m=l(d,jt(u,n.rotation[2]));a.scale.x=1+(t.scale[0]-1)*c+l(d,jt(u,n.scale[0]))||Vi,a.scale.y=1+(t.scale[1]-1)*c+l(d,jt(u,n.scale[1]))||Vi,a.scale.z=1+(t.scale[2]-1)*c+l(d,jt(u,n.scale[2]))||Vi,a.rotation.x=r.x*c+h,a.rotation.y=r.y*c+p,a.rotation.z=r.z*c+m,a.position.x=t.position[0]*c+l(d,jt(u,n.position[0])),a.position.y=t.position[1]*c+l(d,jt(u,n.position[1])),a.position.z=t.position[2]*c+l(d,jt(u,n.position[2]))}}_updateGrid(e){let t=0,r=e.grid,n=e.randomnessObject??Du.defaultData([1,1,1]).randomnessObject,i=Xb(n.strength,this.parameters.randomness),o=n.noiseType==="perlin";Ul.noiseSeed(n.seed);let l=ake((0,m0.default)(n.seed));if(r.useCenter===!0){let c={x:r.count[0]%2===0?2:1,y:r.count[1]%2===0?2:1,z:r.count[2]%2===0?2:1},a=new L(r.size[0]*(r.count[0]-c.x)*.5,r.size[1]*(r.count[1]-c.y)*.5,r.size[2]*(r.count[2]-c.z)*.5);for(let s=0;s<r.count[0];s++)for(let u=0;u<r.count[1];u++)for(let d=0;d<r.count[2];d++){let h=[(s+1)*(n.freqScale/10)+n.movement,(u+1)*(n.freqScale/10)+n.movement,(d+1)*(n.freqScale/10)+n.movement],p=o?Ul.noise(...h):l(...h),m=this.children[t++];m.scale.x=1+i(t,jt(p,n.scale[0]))||Vi,m.scale.y=1+i(t,jt(p,n.scale[1]))||Vi,m.scale.z=1+i(t,jt(p,n.scale[2]))||Vi;let f=i(t,jt(p,n.rotation[0])),g=i(t,jt(p,n.rotation[1])),v=i(t,jt(p,n.rotation[2]));m.rotation.set(f,g,v),m.position.x=r.size[0]*s-a.x+i(t,jt(p,n.position[0])),m.position.y=r.size[1]*u-a.y+i(t,jt(p,n.position[1])),m.position.z=r.size[2]*d-a.z+i(t,jt(p,n.position[2]))}}else for(let c=0;c<r.count[0];c++)for(let a=0;a<r.count[1];a++)for(let s=0;s<r.count[2];s++){let u=[(c+1)*(n.freqScale/10)+n.movement,(a+1)*(n.freqScale/10)+n.movement,(s+1)*(n.freqScale/10)+n.movement],d=o?Ul.noise(...u):l(...u),h=this.children[t++];h.scale.x=1+i(t,jt(d,n.scale[0]))||Vi,h.scale.y=1+i(t,jt(d,n.scale[1]))||Vi,h.scale.z=1+i(t,jt(d,n.scale[2]))||Vi;let p=i(t,jt(d,n.rotation[0])),m=i(t,jt(d,n.rotation[1])),f=i(t,jt(d,n.rotation[2]));h.rotation.set(p,m,f),h.position.x=r.size[0]*c+i(t,jt(d,n.position[0])),h.position.y=-r.size[1]*a+i(t,jt(d,n.position[1])),h.position.z=-r.size[2]*s+i(t,jt(d,n.position[2]))}}_updateToObject(e){var f;if(e.type!=="toObject")throw new Error;let{toObject:t}=e,r=new oi(t.rotation[0],t.rotation[1],t.rotation[2]),n=e.randomnessObject??Du.defaultData([1,1,1]).randomnessObject,i=n.noiseType==="perlin";Ul.noiseSeed(n.seed);let o=wC((0,m0.default)(n.seed)),l=Xb(n.strength,this.parameters.randomness);if(!t.object){for(let[,g]of this.children.entries())g.position.set(0,0,0),g.scale.setScalar(1),g.rotation.set(0,0,0);this.objectForSample=void 0;return}if(!this.objectForSample)return;if(this.objectForSample instanceof IX)if(!((f=this.objectForSample.font)!=null&&f.isLoaded)||this.objectForSample.geometry.attributes.position===void 0){this._pendingMediaLoad=!0;return}else this._pendingMediaLoad=!1;if(this.objectForSample.geometry===void 0&&this.objectForSample.isAncestorOf(this.object.uuid)){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) seem to be a child/descendant of the object it's being cloned to. Please re-parent it so that they are siblings instead.`);return}let c=this.getSubdivData(),a=[],s=g=>{let v=g.length,x=g.map(w=>w[0]).reduce((w,_)=>w+_,0),y=g.map(w=>w[1]).reduce((w,_)=>w+_,0),b=g.map(w=>w[2]).reduce((w,_)=>w+_,0);return[x/v,y/v,b/v]},u=g=>Math.round(g*1e6)/1e6;c.forEach(g=>{let v=c.filter(x=>u(g.pos[0])===u(x.pos[0])&&u(g.pos[1])===u(x.pos[1])&&u(g.pos[2])===u(x.pos[2]));v.length>1?a.push({pos:g.pos,norm:s(v.map(x=>x.norm))}):a.push(g)});let d=Fje(a);if(d.length>0){let g=Math.round(d.length*t.count/100);this._updateCount(g)}else{let g=this.objectForSample.geometry.getAttribute("position");if(!g||isNaN(g.count)||g.count===0){console.warn(`Oh no! The object "${this.object.name}" (${this.object.uuid}) cannot be cloned on the surface of "${this.objectForSample.name}" (${this.objectForSample.uuid}) because the latter does not have a valid geometry.`);return}}this.objectForSample.updateMatrixWorld();let h=new ske(this.objectForSample).build(),p=Nje[t.axis],m=this.children;h.setRandomGenerator((0,m0.default)(this.object.uuid+t.seed));for(let[g,v]of m.entries()){let x=g*(n.freqScale/10)+n.movement,y=i?Ul.noise(x):o(x,x),b=g+1,w=l(b,jt(y,n.rotation[0])),_=l(b,jt(y,n.rotation[1])),S=l(b,jt(y,n.rotation[2]));t.spreadType==="random"?h.sample(w0,HC):(d.length&&(w0.fromArray(d[g].pos),HC.fromArray(d[g].norm)),this.objectForSample instanceof Ay&&w0.applyMatrix4(Kje.copy(this.objectForSample.matrixWorld).invert())),w0.applyMatrix4(this.object.hiddenMatrix.clone().invert()),v.position.copy(w0),tu.fromArray(p);let E=t.align==="normal"?HC:this.object.getWorldDirection(Jje),A=Pd.fromArray(t.position);Pd.x+=Pd.x+l(b,jt(y,n.position[0])),Pd.y+=Pd.y+l(b,jt(y,n.position[1])),Pd.z+=Pd.z+l(b,jt(y,n.position[2]));let C=Math.acos(E.dot(tu)),M=Zje.crossVectors(tu,E).normalize(),T=Qje.makeRotationAxis(M,C),k=E.clone().cross(this.object.up).normalize(),P=k.clone().cross(E).normalize(),D=new Re().makeBasis(k,E,P),I=new L(tu.y,tu.z,tu.x).normalize(),O=I.clone().cross(tu).normalize(),j=new Re().makeBasis(I,tu,O).invert(),N=new Re().multiplyMatrices(D,j);v.rotation.setFromRotationMatrix(N),A.applyMatrix4(T),v.position.add(A),v.rotation.x=v.rotation.x+r.x+w,v.rotation.y=v.rotation.y+r.y+_,v.rotation.z=v.rotation.z+r.z+S,v.scale.setScalar(1),v.scale.x=v.scale.x+t.scale[0]+l(b,jt(y,n.scale[0]))||Vi,v.scale.y=v.scale.y+t.scale[1]+l(b,jt(y,n.scale[1]))||Vi,v.scale.z=v.scale.z+t.scale[2]+l(b,jt(y,n.scale[2]))||Vi,v.scale.multiply(this.object.scale),v.hiddenMatrix=this.object.hiddenMatrix}}getSubdivData(){if(!this.objectForSample)return[];let e=this.parameters.toObject.spreadType;if(e==="random")return[];if(this.objectForSample instanceof Ay){let t=this.objectForSample,r=Bje[e],n=zX[r],i=OX[r],o=RX[r],l=[],c=n(t.subdivPointerNew);for(let a=0;a<=c-1;a++){let s=i(t.subdivPointerNew,a),u=o(t.subdivPointerNew,a);_9.fromArray(s).applyMatrix4(t.matrixWorld),S9.fromArray(u),l.push({pos:_9.toArray(),norm:S9.toArray()})}return l}else return(this.objectForSample.geometry.index?Wje(this.objectForSample.geometry):Gje(this.objectForSample.geometry)).map((t,r)=>e==="polygon_center"?{pos:t.midpoint,norm:t.norm}:e==="vertex"?[{pos:t.vertices[0],norm:t.norm},{pos:t.vertices[1],norm:t.norm},{pos:t.vertices[2],norm:t.norm}]:e==="edge"?[{pos:t.faceCenters[0],norm:t.norm},{pos:t.faceCenters[1],norm:t.norm},{pos:t.faceCenters[2],norm:t.norm}]:[]).flat()}updateState(e,t){var r;if(this.parameters=LS(e),this.parameters.type!=="toObject")(this.parent===null||this.parent!==this.object)&&(this.removeFromParent(),(r=this.object.parent)==null||r.add(this),this.matrix=this.object.matrix,this.hiddenMatrix=this.object.hiddenMatrix,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1);else if(this.parent===null||this.parent.uuid!==this.parameters.toObject.object){this.removeFromParent();let n=t.find(this.parameters.toObject.object);n instanceof Fo?this.objectForSample=n:this.objectForSample=void 0,this.matrix=new Re,this.hiddenMatrix=new Re,this.matrixWorldNeedsUpdate=!0,this.matrixAutoUpdate=!1,n&&n.add(this)}this.update()}get pendingMediaLoad(){return this._pendingMediaLoad}},l1=e=>{var t;return t=class extends e{},t.geometryHelper=new Cl(30,30,30),t},Zb=new mg,WC=new Bo,E9=new Re,c1=(e,t,r,n,i=!1)=>{let o=t,l=e.matrixWorld;if(o.boundingSphere===null&&o.computeBoundingSphere(),WC.copy(o.boundingSphere),WC.applyMatrix4(l),r.ray.intersectsSphere(WC)===!1||(E9.copy(l).invert(),Zb.copy(r.ray).applyMatrix4(E9),o.boundingBox!==null&&Zb.intersectsBox(o.boundingBox)===!1))return;let c,a,s,u,d=o.index,h=o.attributes.position,p=o.drawRange,m,f;if(i===!1){let v=Math.max(0,p.start),x=Math.min(d.count,p.start+p.count);for(m=v,f=x;m<f;m+=3)if(a=d.getX(m),s=d.getX(m+1),u=d.getX(m+2),c=g(e,r,Zb,h,a,s,u),c){c.faceIndex=Math.floor(m/3),n.push(c);return}}else{let v=o.attributes.position,x=new L,y=new L,b=new L,w=new L,_=2,S=1/((e.scale.x+e.scale.y+e.scale.z)/3),E=S*S,A=Math.max(0,p.start),C=Math.min(v.count,p.start+p.count);for(let M=A,T=C-1;M<T;M+=_){if(x.fromBufferAttribute(v,M),y.fromBufferAttribute(v,M+1),Zb.distanceSqToSegment(x,y,w,b)>E)continue;w.applyMatrix4(e.matrixWorld);let k=r.ray.origin.distanceTo(w);k<r.near||k>r.far||n.push({distance:k,point:b.clone().applyMatrix4(e.matrixWorld),object:e})}}function g(v,x,y,b,w,_,S){let E=new L,A=new L,C=new L,M=new L,T=new L;if(E.fromBufferAttribute(b,w),A.fromBufferAttribute(b,_),C.fromBufferAttribute(b,S),y.intersectTriangle(E,A,C,!1,M)===null)return null;T.copy(M),T.applyMatrix4(v.matrixWorld);let k=x.ray.origin.distanceTo(T);return k<x.near||k>x.far?null:{faceIndex:1,distance:k,point:T.clone(),object:v}}},Jb=new L,ba=new vg,eIe=class extends n1{constructor(e){let t=new lt,r=new vd({color:16777215,vertexColors:!0,toneMapped:!1}),n=[],i=[],o={},l=new ht(15711266),c=new ht(15711266),a=new ht(2857471);s("n1","n2",l),s("n2","n4",l),s("n4","n3",l),s("n3","n1",l),s("f1","f2",l),s("f2","f4",l),s("f4","f3",l),s("f3","f1",l),s("n1","f1",l),s("n2","f2",l),s("n3","f3",l),s("n4","f4",l),s("p","n1",c),s("p","n2",c),s("p","n3",c),s("p","n4",c),s("u1","u2",a),s("u2","u3",a),s("u3","u1",a);function s(d,h,p){u(d,p),u(h,p)}function u(d,h){n.push(0,0,0),i.push(h.r,h.g,h.b),o[d]===void 0&&(o[d]=[]),o[d].push(n.length/3-1)}t.setAttribute("position",new Ze(n,3)),t.setAttribute("color",new Ze(i,3)),super(t,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}update(){let e=this.geometry,t=this.pointMap;ba.projectionMatrixInverse.elements=[.5112609807824982,-0,-0,-0,-0,.41421356237309503,-0,-0,-0,-0,-0,-.099999,-0,-0,-1.0000000000000002,.100001];let r=1,n=1,i=.8;as("n1",t,e,ba,-r,-n,i),as("n2",t,e,ba,r,-n,i),as("n3",t,e,ba,-r,n,i),as("n4",t,e,ba,r,n,i);let o=i;as("f1",t,e,ba,-r,-n,o),as("f2",t,e,ba,r,-n,o),as("f3",t,e,ba,-r,n,o),as("f4",t,e,ba,r,n,o);let l=o,c=.5;as("u1",t,e,ba,r*.7*c,n*1.1,l),as("u2",t,e,ba,-r*.7*c,n*1.1,l),as("u3",t,e,ba,0,n*(1.1+.9*c),l),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}};function as(e,t,r,n,i,o,l){Jb.set(i,o,l).unproject(n);let c=t[e];if(c!==void 0){let a=r.getAttribute("position");for(let s=0,u=c.length;s<u;s++)a.setXYZ(c[s],Jb.x,Jb.y,Jb.z)}}var tIe=class extends l1(eIe){constructor(e){super(e),this.object=e,this.object=e,this.name=`CombinedCameraHelper: ${e.uuid}`}updateMatrixWorld(e){super.updateMatrixWorld(e),this.updateTarget()}updateTarget(){let e=this.object.getTarget();this.updateWorldMatrix(!0,!1),this.worldToLocal(e)}raycast(e,t){c1(this.object,this.geometry,e,t,!0)}},FP;(e=>e.is=t=>"objectHelper"in t)(FP||(FP={}));var u1=(e,t)=>class extends zD(e){constructor(){super(...arguments),this.objectHelper=new t(this),this.gizmos={}}get geometryHelper(){return t.geometryHelper}raycast(r,n){this.objectHelper.raycast(r,n)}showGizmos(){for(let r in this.gizmos){let n=this.gizmos[r];n instanceof l_&&(n.visible=!0)}}updateEntityBoxSize(r,n){this.objectHelper.visible&&this.geometryHelper instanceof Cl?(r.setScalar(0),n.set(this.geometryHelper.parameters.width,this.geometryHelper.parameters.height,this.geometryHelper.parameters.height).multiplyScalar(.5)):super.updateEntityBoxSize(r,n)}hideGizmos(){for(let r in this.gizmos){let n=this.gizmos[r];n instanceof l_&&(n.visible=!1)}}},ex=790,Gp=new L,GC=new L,qC=new Ct,YC=new L,_0=new L,$C=new L,Ri=class extends u1(vg,tIe){constructor(e="",t={...xy.defaultData,name:""}){super(),this._cameraType="OrthographicCamera",this.targetOffset=$m.DefaultTargetOffset,this.isUpVectorFlipped=!1,this.angleOffsetFromUp=0,this.wasMovedByUser=!1,this.wasMovedBySwitchCameraAction=!1,this.super_Entity(e,t),this.previousProjectionMatrix=new Re,this.matrixAutoUpdate=!0,this.width=window.innerWidth,this.height=window.innerHeight;let r=this.width,n=this.height;this.orthoCamera=new $5(r*-.5,r*.5,n*.5,n*-.5,-5e4,1e4),this.perspCamera=new Pi(45,r/n,50,1e4),this.left=this.orthoCamera.left,this.right=this.orthoCamera.right,this.top=this.orthoCamera.top,this.bottom=this.orthoCamera.bottom,this.far=this.orthoCamera.far,this.view=this.orthoCamera.view,this.aspect=this.perspCamera.aspect,this.focus=this.perspCamera.focus,this.filmGauge=this.perspCamera.filmGauge,this.filmOffset=this.perspCamera.filmOffset,this.objectHelper.update()}get isPerspectiveCamera(){return this.cameraType==="PerspectiveCamera"}get isOrthographicCamera(){return!this.isPerspectiveCamera}get cameraType(){return this._cameraType}set fov(e){this.perspCamera.fov=e}get fov(){return this.perspCamera.fov}setNear(e,t){e==="PerspectiveCamera"?this.perspCamera.near=t:this.orthoCamera.near=t}setZoom(e,t){t>=0&&(e==="PerspectiveCamera"?this.perspCamera.zoom=t:this.orthoCamera.zoom=t)}set cameraType(e){e==="PerspectiveCamera"?this.toPerspective():e==="OrthographicCamera"&&this.toOrthographic()}get near(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.near:this.orthoCamera.near}set near(e){this._cameraType==="PerspectiveCamera"?this.perspCamera.near=e:this.orthoCamera.near=e}get zoom(){return this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom:this.orthoCamera.zoom}set zoom(e){e>=0&&(this._cameraType==="PerspectiveCamera"?this.perspCamera.zoom=e:this.orthoCamera.zoom=e)}lookAt(e,t,r){typeof e=="number"&&(e=new L(e,t,r)),super.lookAt(e),this.getWorldPosition(Gp),this.targetOffset=Gp.distanceTo(e)}getTarget(e=new L){return this.getWorldDirection(GC),this.getWorldPosition(Gp),GC.multiplyScalar(this.targetOffset),e.copy(Gp).add(GC),e}getDistanceToTarget(){let e=this.getTarget();return this.getWorldPosition(Gp),Gp.distanceTo(e)}updateUp(){this.getWorldQuaternion(qC),YC.set(0,0,1).applyQuaternion(qC),_0.copy(wr.DEFAULT_UP),this.isUpVectorFlipped&&_0.negate(),_0.applyQuaternion(qC),$C.copy(wr.DEFAULT_UP).projectOnPlane(YC),this.angleOffsetFromUp=$C.angleTo(_0),this.angleOffsetFromUp*=$C.cross(_0).dot(YC)>=0?1:-1}updateTransformState(e,t){let r=super.updateTransformState(e,t);return e.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateUp(),r}getViewFrontToObject(e){let t=e.getWorldPosition(new L),r=e.getWorldDirection(new L).multiplyScalar(this.targetOffset);return{position:t.clone().add(r),target:t}}getViewToTarget(e){let t=this.getWorldDirection(new L).multiplyScalar(this.targetOffset);return{position:e.clone().sub(t),target:e}}getViewToObject(e){let t=new L;return e.getWorldPosition(t),this.getViewToTarget(t)}setViewplaneSize(e,t,r=!1){if(this.aspect=e/t,r){let n=e>t?this.aspect:1,i=e>t?1:this.aspect;this.left=-ex*.5*n,this.right=ex*.5*n,this.top=ex*.5*(1/i),this.bottom=-ex*.5*(1/i)}else this.left=-e*.5,this.right=e*.5,this.top=t*.5,this.bottom=-t*.5;this.updateProjectionMatrix()}copyViewPlaneSize(e){this.aspect=e.aspect,this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.updateProjectionMatrix()}toOrthographic(){this.orthoCamera.left=this.left,this.orthoCamera.right=this.right,this.orthoCamera.top=this.top,this.orthoCamera.bottom=this.bottom,this.orthoCamera.view=this.view,this.orthoCamera.far=this.far,this.orthoCamera.updateProjectionMatrix(),this.projectionMatrix=this.orthoCamera.projectionMatrix,this.projectionMatrixInverse=this.orthoCamera.projectionMatrixInverse,this._cameraType="OrthographicCamera",this.objectHelper&&this.objectHelper.update()}toPerspective(){this.perspCamera.aspect=this.aspect,this.perspCamera.fov=this.fov,this.perspCamera.view=this.view,this.perspCamera.far=this.far,this.perspCamera.updateProjectionMatrix(),this.projectionMatrix=this.perspCamera.projectionMatrix,this.projectionMatrixInverse=this.perspCamera.projectionMatrixInverse,this._cameraType="PerspectiveCamera",this.objectHelper&&this.objectHelper.update()}setFocalLength(e){this.perspCamera.setFocalLength(e),this.toPerspective()}getFocalLength(){return this.perspCamera.getFocalLength()}getEffectiveFOV(){return this.perspCamera.getEffectiveFOV()}getFilmWidth(){return this.perspCamera.getFilmWidth()}getFilmHeight(){return this.perspCamera.getFilmHeight()}setViewOffset(e,t,r,n,i,o){this._cameraType==="PerspectiveCamera"?this.perspCamera.setViewOffset(e,t,r,n,i,o):this.orthoCamera.setViewOffset(e,t,r,n,i,o)}clearViewOffset(){this._cameraType==="PerspectiveCamera"?(this.perspCamera.clearViewOffset(),this.toPerspective()):(this.orthoCamera.clearViewOffset(),this.toOrthographic())}copyHistory(){this.previousProjectionMatrix&&this.previousProjectionMatrix.copy(this.projectionMatrix)}updateProjectionMatrix(){this._cameraType==="PerspectiveCamera"?this.toPerspective():this._cameraType==="OrthographicCamera"&&this.toOrthographic()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}copy(e,t){return super.copy(e,t),this.parent=e.parent,this.orthoCamera.copy(e.orthoCamera),this.perspCamera.copy(e.perspCamera),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.far=e.far,this.view=e.view===null?null:Object.assign({},e.view),this._cameraType=e._cameraType,this.aspect=e.aspect,this.fov=e.fov,this.focus=e.focus,this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this.targetOffset=e.targetOffset,this.updateProjectionMatrix(),this}toCameraState(e=[]){let t={type:this.cameraType,far:this.far,orthographic:{near:this.orthoCamera.near,zoom:this.orthoCamera.zoom},perspective:{near:this.perspCamera.near,fov:this.perspCamera.fov,zoom:this.perspCamera.zoom},up:this.up.toArray(),targetOffset:this.targetOffset,isUpVectorFlipped:this.isUpVectorFlipped};return HT(t,e)}updateCameraSubtype(e,t){let r=e==="perspective"?"PerspectiveCamera":"OrthographicCamera";t.zoom!==void 0&&this.setZoom(r,t.zoom),t.near!==void 0&&this.setNear(r,t.near),t.fov!==void 0&&r==="PerspectiveCamera"&&(this.fov=t.fov)}updateState(e,t){this.updateCameraState(e,t)}updateCameraState(e,t){this.updateState_Entity(e,t),e.far!==void 0&&(this.far=e.far),e.orthographic!==void 0&&this.updateCameraSubtype("orthographic",e.orthographic),e.perspective!==void 0&&this.updateCameraSubtype("perspective",e.perspective),e.type!==void 0&&(this.cameraType=e.type),e.up!==void 0&&this.up.fromArray(e.up),e.targetOffset!==void 0&&(this.targetOffset=e.targetOffset),e.isUpVectorFlipped!==void 0&&(this.isUpVectorFlipped=e.isUpVectorFlipped),this.updateProjectionMatrix()}updateByPatchedOp(e,t,r){super.updateByPatchedOp(e,t,r),e.path.length===1&&e.type===0&&this.updateCameraSubtype(e.path[0],e.props)}toState(e){return{...super.toState(e),...this.toCameraState(e),type:this.cameraType}}},qp=new Re,rIe=new Re,tx=new Re,C9=new L,A9=new L;function M9(e){let t=!1;return e.scene.objects.traverse((r,n)=>{var i;((i=n.geometry)==null?void 0:i.type)==="BooleanGeometry"&&(t=!0)}),t}var $h=class extends kg{constructor(e,t,r){super(e,t),this.data=t,this.meshSetAddresses=[],this.needsTransformForDownstream=!1,this.geometry=new lt,this.onAfterRender=(n,i,o,l,c,a)=>{super.onAfterRender(n,i,o,l,c,a),this.recomputeBoolean()},this.geometry.userData.parameters={width:0,height:0,depth:0}}get booleanOp(){return this.data.geometry.operation}get phongAngle(){return this.data.geometry.phongAngle??45}get isLOD(){return this.recomputeBoolean(),!1}updateByPatchedOp(e,t,r){super.updateByPatchedOp(e,t,r),e.path.length===1&&e.path[0]==="geometry"&&e.type===0&&e.props.operation!==void 0&&(this.freeBooleanPointer(),this.resetBBoxNeedsUpdate())}freeBooleanPointer(){super.freeBooleanPointer(),this.geometry.dispose()}recomputeBoolean(e,t=!0){var n;if(this.booleanMeshSetAddress!==-1&&!e)return;for(let i=0;i<this.children.length;i++){let o=this.children[i];o instanceof $h&&o.dataPatched.visible===!0&&o.recomputeBoolean(e===!0,t)}this.meshSetAddresses=[];for(let i=0;i<this.children.length;i++){let o=this.children[i];if(o instanceof Fo&&o.dataPatched.visible===!0&&((n=o.geometry.attributes.position)==null?void 0:n.count)>0&&o.geometry.drawRange.count>0&&o.booleanMeshSetAddress!==0){qp.multiplyMatrices(o.hiddenMatrix,o.matrix);try{if(o.booleanMeshSetAddress===-1){if((o.geometry.index??o.geometry.getAttribute("position")).count/3<15e5&&(o.booleanMeshSetAddress=Zl.getMeshSet(o.geometry,e===!0,t)),o.booleanMeshSetAddress===-1)return;Zl.transformMeshSet(o.booleanMeshSetAddress,qp),o.booleanMatrixInvOld.copy(qp).invert(),o.booleanWasTransformed=!1}else o instanceof $h&&o.needsTransformForDownstream===!0?(Zl.transformMeshSet(o.booleanMeshSetAddress,qp),o.needsTransformForDownstream=!1):o.booleanWasTransformed===!0&&(Zl.transformMeshSet(o.booleanMeshSetAddress,rIe.multiplyMatrices(qp,o.booleanMatrixInvOld)),o.booleanMatrixInvOld.copy(qp).invert(),o.booleanWasTransformed=!1)}catch(l){console.error(l),o.booleanMeshSetAddress=0,o.geometry.userData.booleanOperationDidFail=!0;continue}Zl.hasOpenEdges(o.booleanMeshSetAddress)===!1||i===this.children.length-1&&this.booleanOp===2?(this.meshSetAddresses.push(o.booleanMeshSetAddress),o.geometry.userData.booleanOperationDidFail=!1):o.geometry.userData.booleanOperationDidFail="openEdges"}}if(this.meshSetAddresses.length===0){this.geometry.setAttribute("position",new Ze([],0)),this.geometry.setDrawRange(0,0);return}if(e===!0)return Zl.calcBooleanTopological(this.meshSetAddresses,this.booleanOp);let r=this.geometry;r.dispose(),this.geometry=new lt,this.geometry.userData=r.userData,this.geometry.boundingSphere=r.boundingSphere;try{this.booleanMeshSetAddress=Zl.calcBoolean(this.meshSetAddresses,this.booleanOp,this.geometry,this.phongAngle)}catch(i){this.booleanMeshSetAddress=0,this.geometry.userData.booleanOperationDidFail=!0,console.error(i)}this.booleanMatrixInvOld.copy(this.matrix).invert(),this.needsTransformForDownstream=!0,QD(this),ZD(this)}dispose(){super.dispose(),this.geometry.dispose()}get recursiveBBox(){var t;let e=super.recursiveBBox;return((t=this.geometry.boundingSphere)==null?void 0:t.radius)===-1&&(e.getCenter(this.geometry.boundingSphere.center),tx.copy(this.matrixWorld).invert(),this.geometry.boundingSphere.center.applyMatrix4(tx),C9.copy(e.max).applyMatrix4(tx),A9.copy(e.min).applyMatrix4(tx),this.geometry.boundingSphere.radius=C9.distanceTo(A9)/2),e}},UP;(e=>{function t(r){return Jt.is(r)&&r instanceof o1}e.is=t})(UP||(UP={}));var JD=(e,t)=>class extends u1(e,t){updateState_Light(r,n){this.updateState_Entity(r,n),r.color!==void 0&&(this.color=n.shared.color(r.color)),r.intensity!==void 0&&(this.intensity=r.intensity),r.depth!==void 0&&(this.shadow.camera.far=r.depth,this.shadow.needsUpdate=!0),r.shadows!==void 0&&(this.castShadow=r.shadows)}},bs=e=>e instanceof Fo,yc=e=>e!==null&&e instanceof $h,nIe=e=>e instanceof Ri,iIe=e=>UP.is(e),VP=e=>FP.is(e),qS=class extends l1(z_e){constructor(e,t=15){super(t),this.object=e,this.object.updateMatrixWorld(),this.name=`EmptyObjectHelper: ${e.uuid}`,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.object.isBone&&(this.visible=!1)}raycast(e,t){c1(this.object,qS.geometryHelper,e,t)}update(){}},fm=class extends u1(Lf,qS){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update()}updateState(e,t){this.updateState_Entity(e,t),"buffer"in e&&Object.keys(e).length===1&&t.scene.reloadSplats()}},LX={RED:0,GREEN:1,BLUE:2,ALPHA:3},d1="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",oIe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D cocBuffer;uniform vec2 texelSize;uniform float scale;
#if PASS == 1
uniform vec4 kernel64[32];
#else
uniform vec4 kernel16[8];
#endif
varying vec2 vUv;void main(){
#ifdef FOREGROUND
vec2 CoCNearFar=texture2D(cocBuffer,vUv).rg;float CoC=CoCNearFar.r*scale;
#else
float CoC=texture2D(cocBuffer,vUv).g*scale;
#endif
if(CoC==0.0){gl_FragColor=texture2D(inputBuffer,vUv);}else{
#ifdef FOREGROUND
vec2 step=texelSize*max(CoC,CoCNearFar.g*scale);
#else
vec2 step=texelSize*CoC;
#endif
#if PASS == 1
vec4 acc=vec4(0.0);for(int i=0;i<32;++i){vec4 kernel=kernel64[i];vec2 uv=step*kernel.xy+vUv;acc+=texture2D(inputBuffer,uv);uv=step*kernel.zw+vUv;acc+=texture2D(inputBuffer,uv);}gl_FragColor=acc/64.0;
#else
vec4 maxValue=texture2D(inputBuffer,vUv);for(int i=0;i<8;++i){vec4 kernel=kernel16[i];vec2 uv=step*kernel.xy+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);uv=step*kernel.zw+vUv;maxValue=max(texture2D(inputBuffer,uv),maxValue);}gl_FragColor=maxValue;
#endif
}}`,rx=class extends Tr{constructor(e=!1,t=!1){super({name:"BokehMaterial",defines:{PASS:e?"2":"1"},uniforms:{kernel64:new Oe(null),kernel16:new Oe(null),inputBuffer:new Oe(null),cocBuffer:new Oe(null),texelSize:new Oe(new re),scale:new Oe(1)},blending:Bn,depthWrite:!1,depthTest:!1,fragmentShader:oIe,vertexShader:d1}),this.toneMapped=!1,t&&(this.defines.FOREGROUND="1"),this.generateKernel()}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set cocBuffer(e){this.uniforms.cocBuffer.value=e}setCoCBuffer(e){this.uniforms.cocBuffer.value=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(e){return this.uniforms.scale.value=e}setScale(e){this.uniforms.scale.value=e}generateKernel(){let e=2.39996323,t=new Float32Array(128),r=new Float32Array(32),n=0,i=0;for(let c=0;c<80;++c){let a=c*e,s=Math.sqrt(c)/Math.sqrt(80),u=s*Math.cos(a),d=s*Math.sin(a);c%5===0?(r[i++]=u,r[i++]=d):(t[n++]=u,t[n++]=d)}let o=[],l=[];for(let c=0;c<128;)o.push(new Ot(t[c++],t[c++],t[c++],t[c++]));for(let c=0;c<32;)l.push(new Ot(r[c++],r[c++],r[c++],r[c++]));this.uniforms.kernel64.value=o,this.uniforms.kernel16.value=l}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t)}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}};function T9(e,t,r){return e*(t-r)-t}function HP(e,t,r){return Math.min(Math.max((e+t)/(t-r),0),1)}var aIe=`#include <common>
#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float focusDistance;uniform float focusRange;uniform float cameraNear;uniform float cameraFar;varying vec2 vUv;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}void main(){float depth=readDepth(vUv);
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(depth,cameraNear,cameraFar);float linearDepth=viewZToOrthographicDepth(viewZ,cameraNear,cameraFar);
#else
float linearDepth=depth;
#endif
float signedDistance=linearDepth-focusDistance;float magnitude=smoothstep(0.0,focusRange,abs(signedDistance));gl_FragColor.rg=magnitude*vec2(step(signedDistance,0.0),step(0.0,signedDistance));}`,sIe=class extends Tr{constructor(e){super({name:"CircleOfConfusionMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Oe(null),focusDistance:new Oe(0),focusRange:new Oe(0),cameraNear:new Oe(.3),cameraFar:new Oe(1e3)},blending:Bn,depthWrite:!1,depthTest:!1,fragmentShader:aIe,vertexShader:d1}),this.toneMapped=!1,this.uniforms.focalLength=this.uniforms.focusRange,this.adoptCameraSettings(e)}get near(){return this.uniforms.cameraNear.value}get far(){return this.uniforms.cameraFar.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Wc){this.depthBuffer=e,this.depthPacking=t}get focusDistance(){return this.uniforms.focusDistance.value}set focusDistance(e){this.uniforms.focusDistance.value=e}get worldFocusDistance(){return-T9(this.focusDistance,this.near,this.far)}set worldFocusDistance(e){this.focusDistance=HP(-e,this.near,this.far)}getFocusDistance(e){this.uniforms.focusDistance.value=e}setFocusDistance(e){this.uniforms.focusDistance.value=e}get focalLength(){return this.focusRange}set focalLength(e){this.focusRange=e}get focusRange(){return this.uniforms.focusRange.value}set focusRange(e){this.uniforms.focusRange.value=e}get worldFocusRange(){return-T9(this.focusRange,this.near,this.far)}set worldFocusRange(e){this.focusRange=HP(-e,this.near,this.far)}getFocalLength(e){return this.focusRange}setFocalLength(e){this.focusRange=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Pi?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},lIe=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
#include <dithering_fragment>
}`,cIe="uniform vec2 texelSize;uniform vec2 halfTexelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize*vec2(kernel)+halfTexelSize)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",P9=class extends Tr{constructor(e=new re){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Oe(null),texelSize:new Oe(new re),halfTexelSize:new Oe(new re),kernel:new Oe(0),scale:new Oe(1)},blending:Bn,depthWrite:!1,depthTest:!1,fragmentShader:lIe,vertexShader:cIe}),this.toneMapped=!1,this.setTexelSize(e.x,e.y)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.inputBuffer=e}get scale(){return this.uniforms.scale.value}set scale(e){this.uniforms.scale.value=e}getScale(){return this.uniforms.scale.value}setScale(e){this.uniforms.scale.value=e}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(e){this.uniforms.kernel.value=e}setKernel(e){this.kernel=e}setTexelSize(e,t){this.uniforms.texelSize.value.set(e,t),this.uniforms.halfTexelSize.value.set(e,t).multiplyScalar(.5)}setSize(e,t){let r=this.uniforms;r.texelSize.value.set(1/e,1/t),r.halfTexelSize.value.copy(r.texelSize.value).multiplyScalar(.5)}},uIe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
}`,dIe=class extends Tr{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Oe(null),opacity:new Oe(1)},blending:Bn,depthWrite:!1,depthTest:!1,fragmentShader:uIe,vertexShader:d1}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}getOpacity(e){return this.uniforms.opacity.value}setOpacity(e){this.uniforms.opacity.value=e}},hIe=`varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
#if EDGE_DETECTION_MODE == 1
#include <common>
#endif
#if EDGE_DETECTION_MODE == 0 || PREDICATION_MODE == 1
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}vec3 gatherNeighbors(){float p=readDepth(vUv);float pLeft=readDepth(vUv0);float pTop=readDepth(vUv1);return vec3(p,pLeft,pTop);}
#elif PREDICATION_MODE == 2
uniform sampler2D predicationBuffer;vec3 gatherNeighbors(){float p=texture2D(predicationBuffer,vUv).r;float pLeft=texture2D(predicationBuffer,vUv0).r;float pTop=texture2D(predicationBuffer,vUv1).r;return vec3(p,pLeft,pTop);}
#endif
#if PREDICATION_MODE != 0
vec2 calculatePredicatedThreshold(){vec3 neighbours=gatherNeighbors();vec2 delta=abs(neighbours.xx-neighbours.yz);vec2 edges=step(PREDICATION_THRESHOLD,delta);return PREDICATION_SCALE*EDGE_THRESHOLD*(1.0-PREDICATION_STRENGTH*edges);}
#endif
#if EDGE_DETECTION_MODE != 0
uniform sampler2D inputBuffer;
#endif
void main(){
#if EDGE_DETECTION_MODE == 0
const vec2 threshold=vec2(DEPTH_THRESHOLD);
#elif PREDICATION_MODE != 0
vec2 threshold=calculatePredicatedThreshold();
#else
const vec2 threshold=vec2(EDGE_THRESHOLD);
#endif
#if EDGE_DETECTION_MODE == 0
vec3 neighbors=gatherNeighbors();vec2 delta=abs(neighbors.xx-vec2(neighbors.y,neighbors.z));vec2 edges=step(threshold,delta);if(dot(edges,vec2(1.0))==0.0){discard;}gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 1
float l=luminance(texture2D(inputBuffer,vUv).rgb);float lLeft=luminance(texture2D(inputBuffer,vUv0).rgb);float lTop=luminance(texture2D(inputBuffer,vUv1).rgb);vec4 delta;delta.xy=abs(l-vec2(lLeft,lTop));vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}float lRight=luminance(texture2D(inputBuffer,vUv2).rgb);float lBottom=luminance(texture2D(inputBuffer,vUv3).rgb);delta.zw=abs(l-vec2(lRight,lBottom));vec2 maxDelta=max(delta.xy,delta.zw);float lLeftLeft=luminance(texture2D(inputBuffer,vUv4).rgb);float lTopTop=luminance(texture2D(inputBuffer,vUv5).rgb);delta.zw=abs(vec2(lLeft,lTop)-vec2(lLeftLeft,lTopTop));maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges.xy*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#elif EDGE_DETECTION_MODE == 2
vec4 delta;vec3 c=texture2D(inputBuffer,vUv).rgb;vec3 cLeft=texture2D(inputBuffer,vUv0).rgb;vec3 t=abs(c-cLeft);delta.x=max(max(t.r,t.g),t.b);vec3 cTop=texture2D(inputBuffer,vUv1).rgb;t=abs(c-cTop);delta.y=max(max(t.r,t.g),t.b);vec2 edges=step(threshold,delta.xy);if(dot(edges,vec2(1.0))==0.0){discard;}vec3 cRight=texture2D(inputBuffer,vUv2).rgb;t=abs(c-cRight);delta.z=max(max(t.r,t.g),t.b);vec3 cBottom=texture2D(inputBuffer,vUv3).rgb;t=abs(c-cBottom);delta.w=max(max(t.r,t.g),t.b);vec2 maxDelta=max(delta.xy,delta.zw);vec3 cLeftLeft=texture2D(inputBuffer,vUv4).rgb;t=abs(c-cLeftLeft);delta.z=max(max(t.r,t.g),t.b);vec3 cTopTop=texture2D(inputBuffer,vUv5).rgb;t=abs(c-cTopTop);delta.w=max(max(t.r,t.g),t.b);maxDelta=max(maxDelta.xy,delta.zw);float finalDelta=max(maxDelta.x,maxDelta.y);edges*=step(finalDelta,LOCAL_CONTRAST_ADAPTATION_FACTOR*delta.xy);gl_FragColor=vec4(edges,0.0,1.0);
#endif
}`,pIe=`uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;
#if EDGE_DETECTION_MODE != 0
varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;
#endif
void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,0.0);vUv1=vUv+texelSize*vec2(0.0,-1.0);
#if EDGE_DETECTION_MODE != 0
vUv2=vUv+texelSize*vec2(1.0,0.0);vUv3=vUv+texelSize*vec2(0.0,1.0);vUv4=vUv+texelSize*vec2(-2.0,0.0);vUv5=vUv+texelSize*vec2(0.0,-2.0);
#endif
gl_Position=vec4(position.xy,1.0,1.0);}`,YS={DEPTH:0,LUMA:1,COLOR:2},fIe={DISABLED:0,DEPTH:1,CUSTOM:2},mIe=class extends Tr{constructor(e=new re,t=YS.COLOR){super({name:"EdgeDetectionMaterial",defines:{THREE_REVISION:fg.replace(/\D+/g,""),LOCAL_CONTRAST_ADAPTATION_FACTOR:"2.0",EDGE_THRESHOLD:"0.1",DEPTH_THRESHOLD:"0.01",PREDICATION_MODE:"0",PREDICATION_THRESHOLD:"0.01",PREDICATION_SCALE:"2.0",PREDICATION_STRENGTH:"1.0",DEPTH_PACKING:"0"},uniforms:{inputBuffer:new Oe(null),depthBuffer:new Oe(null),predicationBuffer:new Oe(null),texelSize:new Oe(e)},blending:Bn,depthWrite:!1,depthTest:!1,fragmentShader:hIe,vertexShader:pIe}),this.toneMapped=!1,this.edgeDetectionMode=t}set depthBuffer(e){this.uniforms.depthBuffer.value=e}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Wc){this.depthBuffer=e,this.depthPacking=t}get edgeDetectionMode(){return Number(this.defines.EDGE_DETECTION_MODE)}set edgeDetectionMode(e){this.defines.EDGE_DETECTION_MODE=e.toFixed(0),this.needsUpdate=!0}getEdgeDetectionMode(){return this.edgeDetectionMode}setEdgeDetectionMode(e){this.edgeDetectionMode=e}get localContrastAdaptationFactor(){return Number(this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR)}set localContrastAdaptationFactor(e){this.defines.LOCAL_CONTRAST_ADAPTATION_FACTOR=e.toFixed("6"),this.needsUpdate=!0}getLocalContrastAdaptationFactor(){return this.localContrastAdaptationFactor}setLocalContrastAdaptationFactor(e){this.localContrastAdaptationFactor=e}get edgeDetectionThreshold(){return Number(this.defines.EDGE_THRESHOLD)}set edgeDetectionThreshold(e){this.defines.EDGE_THRESHOLD=e.toFixed("6"),this.defines.DEPTH_THRESHOLD=(e*.1).toFixed("6"),this.needsUpdate=!0}getEdgeDetectionThreshold(){return this.edgeDetectionThreshold}setEdgeDetectionThreshold(e){this.edgeDetectionThreshold=e}get predicationMode(){return Number(this.defines.PREDICATION_MODE)}set predicationMode(e){this.defines.PREDICATION_MODE=e.toFixed(0),this.needsUpdate=!0}getPredicationMode(){return this.predicationMode}setPredicationMode(e){this.predicationMode=e}set predicationBuffer(e){this.uniforms.predicationBuffer.value=e}setPredicationBuffer(e){this.uniforms.predicationBuffer.value=e}get predicationThreshold(){return Number(this.defines.PREDICATION_THRESHOLD)}set predicationThreshold(e){this.defines.PREDICATION_THRESHOLD=e.toFixed("6"),this.needsUpdate=!0}getPredicationThreshold(){return this.predicationThreshold}setPredicationThreshold(e){this.predicationThreshold=e}get predicationScale(){return Number(this.defines.PREDICATION_SCALE)}set predicationScale(e){this.defines.PREDICATION_SCALE=e.toFixed("6"),this.needsUpdate=!0}getPredicationScale(){return this.predicationScale}setPredicationScale(e){this.predicationScale=e}get predicationStrength(){return Number(this.defines.PREDICATION_STRENGTH)}set predicationStrength(e){this.defines.PREDICATION_STRENGTH=e.toFixed("6"),this.needsUpdate=!0}getPredicationStrength(){return this.predicationStrength}setPredicationStrength(e){this.predicationStrength=e}setSize(e,t){this.uniforms.texelSize.value.set(1/e,1/t)}},gIe=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,vIe="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",ss={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},WP=class extends Tr{constructor(e,t,r,n,i=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:fg.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Oe(null),depthBuffer:new Oe(null),resolution:new Oe(new re),texelSize:new Oe(new re),cameraNear:new Oe(.3),cameraFar:new Oe(1e3),aspect:new Oe(1),time:new Oe(0)},blending:Bn,depthWrite:!1,depthTest:!1,dithering:i}),this.toneMapped=!1,e&&this.setShaderParts(e),t&&this.setDefines(t),r&&this.setUniforms(r),this.adoptCameraSettings(n)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(e){this.uniforms.depthBuffer.value=e}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(e){this.defines.DEPTH_PACKING=e.toFixed(0),this.needsUpdate=!0}setDepthBuffer(e,t=Wc){this.depthBuffer=e,this.depthPacking=t}setShaderParts(e){return this.fragmentShader=gIe.replace(ss.FRAGMENT_HEAD,e.get(ss.FRAGMENT_HEAD)).replace(ss.FRAGMENT_MAIN_UV,e.get(ss.FRAGMENT_MAIN_UV)).replace(ss.FRAGMENT_MAIN_IMAGE,e.get(ss.FRAGMENT_MAIN_IMAGE)),this.vertexShader=vIe.replace(ss.VERTEX_HEAD,e.get(ss.VERTEX_HEAD)).replace(ss.VERTEX_MAIN_SUPPORT,e.get(ss.VERTEX_MAIN_SUPPORT)),this.needsUpdate=!0,this}setDefines(e){for(let t of e.entries())this.defines[t[0]]=t[1];return this.needsUpdate=!0,this}setUniforms(e){for(let t of e.entries())this.uniforms[t[0]]=t[1];return this}setExtensions(e){this.extensions={};for(let t of e)this.extensions[t]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(e){this.encodeOutput!==e&&(e?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(e){return this.encodeOutput}setOutputEncodingEnabled(e){this.encodeOutput=e}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}setDeltaTime(e){this.uniforms.time.value+=e}adoptCameraSettings(e){e&&(this.uniforms.cameraNear.value=e.near,this.uniforms.cameraFar.value=e.far,e instanceof Pi?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(e,t){let r=this.uniforms;r.resolution.value.set(e,t),r.texelSize.value.set(1/e,1/t),r.aspect.value=e/t}static get Section(){return ss}},yIe=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,bIe=class extends Tr{constructor(e=!1,t=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:fg.replace(/\D+/g,"")},uniforms:{inputBuffer:new Oe(null),threshold:new Oe(0),smoothing:new Oe(1),range:new Oe(null)},blending:Bn,depthWrite:!1,depthTest:!1,fragmentShader:yIe,vertexShader:d1}),this.toneMapped=!1,this.colorOutput=e,this.luminanceRange=t}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get threshold(){return this.uniforms.threshold.value}set threshold(e){this.smoothing>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=e}getThreshold(){return this.threshold}setThreshold(e){this.threshold=e}get smoothing(){return this.uniforms.smoothing.value}set smoothing(e){this.threshold>0||e>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=e}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(e){this.smoothing=e}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(e){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(e){e?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(e){return this.colorOutput}setColorOutputEnabled(e){this.colorOutput=e}get useRange(){return this.luminanceRange!==null}set useRange(e){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(e){e!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=e,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(e){this.luminanceRange=e}},xIe=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef MASK_PRECISION_HIGH
uniform mediump sampler2D maskTexture;
#else
uniform lowp sampler2D maskTexture;
#endif
#if MASK_FUNCTION != 0
uniform float strength;
#endif
varying vec2 vUv;void main(){
#if COLOR_CHANNEL == 0
float mask=texture2D(maskTexture,vUv).r;
#elif COLOR_CHANNEL == 1
float mask=texture2D(maskTexture,vUv).g;
#elif COLOR_CHANNEL == 2
float mask=texture2D(maskTexture,vUv).b;
#else
float mask=texture2D(maskTexture,vUv).a;
#endif
#if MASK_FUNCTION == 0
#ifdef INVERTED
mask=step(mask,0.0);
#else
mask=1.0-step(mask,0.0);
#endif
#else
mask=clamp(mask*strength,0.0,1.0);
#ifdef INVERTED
mask=1.0-mask;
#endif
#endif
#if MASK_FUNCTION == 2
gl_FragColor=vec4(mask*texture2D(inputBuffer,vUv).rgb,mask);
#else
gl_FragColor=mask*texture2D(inputBuffer,vUv);
#endif
}`,NX={DISCARD:0,MULTIPLY:1,MULTIPLY_RGB_SET_ALPHA:2},wIe=class extends Tr{constructor(e=null){super({name:"MaskMaterial",uniforms:{maskTexture:new Oe(e),inputBuffer:new Oe(null),strength:new Oe(1)},blending:Bn,depthWrite:!1,depthTest:!1,fragmentShader:xIe,vertexShader:d1}),this.toneMapped=!1,this.setColorChannel(LX.RED),this.setMaskFunction(NX.DISCARD)}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}set maskTexture(e){this.uniforms.maskTexture.value=e,delete this.defines.MASK_PRECISION_HIGH,e.type!==Li&&(this.defines.MASK_PRECISION_HIGH="1"),this.needsUpdate=!0}setMaskTexture(e){this.maskTexture=e}set colorChannel(e){this.defines.COLOR_CHANNEL=e.toFixed(0),this.needsUpdate=!0}setColorChannel(e){this.colorChannel=e}set maskFunction(e){this.defines.MASK_FUNCTION=e.toFixed(0),this.needsUpdate=!0}setMaskFunction(e){this.maskFunction=e}get inverted(){return this.defines.INVERTED!==void 0}set inverted(e){this.inverted&&!e?delete this.defines.INVERTED:e&&(this.defines.INVERTED="1"),this.needsUpdate=!0}isInverted(){return this.inverted}setInverted(e){this.inverted=e}get strength(){return this.uniforms.strength.value}set strength(e){this.uniforms.strength.value=e}getStrength(){return this.strength}setStrength(e){this.strength=e}},_Ie=`#define sampleLevelZeroOffset(t, coord, offset) texture2D(t, coord + offset * texelSize)
#if __VERSION__ < 300
#define round(v) floor(v + 0.5)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform lowp sampler2D areaTexture;uniform lowp sampler2D searchTexture;uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}vec2 decodeDiagBilinearAccess(in vec2 e){e.r=e.r*abs(5.0*e.r-5.0*0.75);return round(e);}vec4 decodeDiagBilinearAccess(in vec4 e){e.rb=e.rb*abs(5.0*e.rb-5.0*0.75);return round(e);}vec2 searchDiag1(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 searchDiag2(const in vec2 texCoord,const in vec2 dir,out vec2 e){vec4 coord=vec4(texCoord,-1.0,1.0);coord.x+=0.25*texelSize.x;vec3 t=vec3(texelSize,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(coord.z<float(MAX_SEARCH_STEPS_DIAG_INT-1)&&coord.w>0.9)){break;}coord.xyz=t*vec3(dir,1.0)+coord.xyz;e=texture2D(inputBuffer,coord.xy).rg;e=decodeDiagBilinearAccess(e);coord.w=dot(e,vec2(0.5));}return coord.zw;}vec2 areaDiag(const in vec2 dist,const in vec2 e,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE_DIAG,AREATEX_MAX_DISTANCE_DIAG)*e+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.x+=0.5;texCoord.y+=AREATEX_SUBTEX_SIZE*offset;return texture2D(areaTexture,texCoord).rg;}vec2 calculateDiagWeights(const in vec2 texCoord,const in vec2 e,const in vec4 subsampleIndices){vec2 weights=vec2(0.0);vec4 d;vec2 end;if(e.r>0.0){d.xz=searchDiag1(texCoord,vec2(-1.0,1.0),end);d.x+=float(end.y>0.9);}else{d.xz=vec2(0.0);}d.yw=searchDiag1(texCoord,vec2(1.0,-1.0),end);if(d.x+d.y>2.0){vec4 coords=vec4(-d.x+0.25,d.x,d.y,-d.y-0.25)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.xy=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).rg;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).rg;c.yxwz=decodeDiagBilinearAccess(c.xyzw);vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.z);}d.xz=searchDiag2(texCoord,vec2(-1.0,-1.0),end);if(sampleLevelZeroOffset(inputBuffer,texCoord,vec2(1,0)).r>0.0){d.yw=searchDiag2(texCoord,vec2(1.0),end);d.y+=float(end.y>0.9);}else{d.yw=vec2(0.0);}if(d.x+d.y>2.0){vec4 coords=vec4(-d.x,-d.x,d.y,d.y)*texelSize.xyxy+texCoord.xyxy;vec4 c;c.x=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(-1,0)).g;c.y=sampleLevelZeroOffset(inputBuffer,coords.xy,vec2(0,-1)).r;c.zw=sampleLevelZeroOffset(inputBuffer,coords.zw,vec2(1,0)).gr;vec2 cc=vec2(2.0)*c.xz+c.yw;movec(bvec2(step(0.9,d.zw)),cc,vec2(0.0));weights+=areaDiag(d.xy,cc,subsampleIndices.w).gr;}return weights;}float searchLength(const in vec2 e,const in float offset){vec2 scale=SEARCHTEX_SIZE*vec2(0.5,-1.0);vec2 bias=SEARCHTEX_SIZE*vec2(offset,1.0);scale+=vec2(-1.0,1.0);bias+=vec2(0.5,-0.5);scale*=1.0/SEARCHTEX_PACKED_SIZE;bias*=1.0/SEARCHTEX_PACKED_SIZE;return texture2D(searchTexture,scale*e+bias).r;}float searchXLeft(in vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x>end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(-2.0,0.0)*texelSize+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.0)+3.25;return texelSize.x*offset+texCoord.x;}float searchXRight(vec2 texCoord,const in float end){vec2 e=vec2(0.0,1.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.x<end&&e.g>0.8281&&e.r==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(2.0,0.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e,0.5)+3.25;return-texelSize.x*offset+texCoord.x;}float searchYUp(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;++i){if(!(texCoord.y>end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=-vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.0)+3.25;return texelSize.y*offset+texCoord.y;}float searchYDown(vec2 texCoord,const in float end){vec2 e=vec2(1.0,0.0);for(int i=0;i<MAX_SEARCH_STEPS_INT;i++){if(!(texCoord.y<end&&e.r>0.8281&&e.g==0.0)){break;}e=texture2D(inputBuffer,texCoord).rg;texCoord=vec2(0.0,2.0)*texelSize.xy+texCoord;}float offset=-(255.0/127.0)*searchLength(e.gr,0.5)+3.25;return-texelSize.y*offset+texCoord.y;}vec2 area(const in vec2 dist,const in float e1,const in float e2,const in float offset){vec2 texCoord=vec2(AREATEX_MAX_DISTANCE)*round(4.0*vec2(e1,e2))+dist;texCoord=AREATEX_PIXEL_SIZE*texCoord+0.5*AREATEX_PIXEL_SIZE;texCoord.y=AREATEX_SUBTEX_SIZE*offset+texCoord.y;return texture2D(areaTexture,texCoord).rg;}void detectHorizontalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,1)).r;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).r;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(0,-2)).r;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,-2)).r;weights*=clamp(factor,0.0,1.0);
#endif
}void detectVerticalCornerPattern(inout vec2 weights,const in vec4 texCoord,const in vec2 d){
#if !defined(DISABLE_CORNER_DETECTION)
vec2 leftRight=step(d.xy,d.yx);vec2 rounding=(1.0-CORNER_ROUNDING_NORM)*leftRight;rounding/=leftRight.x+leftRight.y;vec2 factor=vec2(1.0);factor.x-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(1,0)).g;factor.x-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(1,1)).g;factor.y-=rounding.x*sampleLevelZeroOffset(inputBuffer,texCoord.xy,vec2(-2,0)).g;factor.y-=rounding.y*sampleLevelZeroOffset(inputBuffer,texCoord.zw,vec2(-2,1)).g;weights*=clamp(factor,0.0,1.0);
#endif
}void main(){vec4 weights=vec4(0.0);vec4 subsampleIndices=vec4(0.0);vec2 e=texture2D(inputBuffer,vUv).rg;if(e.g>0.0){
#if !defined(DISABLE_DIAG_DETECTION)
weights.rg=calculateDiagWeights(vUv,e,subsampleIndices);if(weights.r==-weights.g){
#endif
vec2 d;vec3 coords;coords.x=searchXLeft(vOffset[0].xy,vOffset[2].x);coords.y=vOffset[1].y;d.x=coords.x;float e1=texture2D(inputBuffer,coords.xy).r;coords.z=searchXRight(vOffset[0].zw,vOffset[2].y);d.y=coords.z;d=round(resolution.xx*d+-vPixCoord.xx);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.zy,vec2(1,0)).r;weights.rg=area(sqrtD,e1,e2,subsampleIndices.y);coords.y=vUv.y;detectHorizontalCornerPattern(weights.rg,coords.xyzy,d);
#if !defined(DISABLE_DIAG_DETECTION)
}else{e.r=0.0;}
#endif
}if(e.r>0.0){vec2 d;vec3 coords;coords.y=searchYUp(vOffset[1].xy,vOffset[2].z);coords.x=vOffset[0].x;d.x=coords.y;float e1=texture2D(inputBuffer,coords.xy).g;coords.z=searchYDown(vOffset[1].zw,vOffset[2].w);d.y=coords.z;d=round(resolution.yy*d-vPixCoord.yy);vec2 sqrtD=sqrt(abs(d));float e2=sampleLevelZeroOffset(inputBuffer,coords.xz,vec2(0,1)).g;weights.ba=area(sqrtD,e1,e2,subsampleIndices.x);coords.x=vUv.x;detectVerticalCornerPattern(weights.ba,coords.xyxz,d);}gl_FragColor=weights;}`,SIe="uniform vec2 texelSize;uniform vec2 resolution;varying vec2 vUv;varying vec4 vOffset[3];varying vec2 vPixCoord;void main(){vUv=position.xy*0.5+0.5;vPixCoord=vUv*resolution;vOffset[0]=vUv.xyxy+texelSize.xyxy*vec4(-0.25,-0.125,1.25,-0.125);vOffset[1]=vUv.xyxy+texelSize.xyxy*vec4(-0.125,-0.25,-0.125,1.25);vOffset[2]=vec4(vOffset[0].xz,vOffset[1].yw)+vec4(-2.0,2.0,-2.0,2.0)*texelSize.xxyy*MAX_SEARCH_STEPS_FLOAT;gl_Position=vec4(position.xy,1.0,1.0);}",EIe=class extends Tr{constructor(e=new re,t=new re){super({name:"SMAAWeightsMaterial",defines:{MAX_SEARCH_STEPS_INT:"16",MAX_SEARCH_STEPS_FLOAT:"16.0",MAX_SEARCH_STEPS_DIAG_INT:"8",MAX_SEARCH_STEPS_DIAG_FLOAT:"8.0",CORNER_ROUNDING:"25",CORNER_ROUNDING_NORM:"0.25",AREATEX_MAX_DISTANCE:"16.0",AREATEX_MAX_DISTANCE_DIAG:"20.0",AREATEX_PIXEL_SIZE:"(1.0 / vec2(160.0, 560.0))",AREATEX_SUBTEX_SIZE:"(1.0 / 7.0)",SEARCHTEX_SIZE:"vec2(66.0, 33.0)",SEARCHTEX_PACKED_SIZE:"vec2(64.0, 16.0)"},uniforms:{inputBuffer:new Oe(null),searchTexture:new Oe(null),areaTexture:new Oe(null),resolution:new Oe(t),texelSize:new Oe(e)},blending:Bn,depthWrite:!1,depthTest:!1,fragmentShader:_Ie,vertexShader:SIe}),this.toneMapped=!1}set inputBuffer(e){this.uniforms.inputBuffer.value=e}setInputBuffer(e){this.uniforms.inputBuffer.value=e}get searchTexture(){return this.uniforms.searchTexture.value}set searchTexture(e){this.uniforms.searchTexture.value=e}get areaTexture(){return this.uniforms.areaTexture.value}set areaTexture(e){this.uniforms.areaTexture.value=e}setLookupTextures(e,t){this.searchTexture=e,this.areaTexture=t}get orthogonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_INT)}set orthogonalSearchSteps(e){let t=Math.min(Math.max(e,0),112);this.defines.MAX_SEARCH_STEPS_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setOrthogonalSearchSteps(e){this.orthogonalSearchSteps=e}get diagonalSearchSteps(){return Number(this.defines.MAX_SEARCH_STEPS_DIAG_INT)}set diagonalSearchSteps(e){let t=Math.min(Math.max(e,0),20);this.defines.MAX_SEARCH_STEPS_DIAG_INT=t.toFixed("0"),this.defines.MAX_SEARCH_STEPS_DIAG_FLOAT=t.toFixed("1"),this.needsUpdate=!0}setDiagonalSearchSteps(e){this.diagonalSearchSteps=e}get diagonalDetection(){return this.defines.DISABLE_DIAG_DETECTION===void 0}set diagonalDetection(e){e?delete this.defines.DISABLE_DIAG_DETECTION:this.defines.DISABLE_DIAG_DETECTION="1",this.needsUpdate=!0}isDiagonalDetectionEnabled(){return this.diagonalDetection}setDiagonalDetectionEnabled(e){this.diagonalDetection=e}get cornerRounding(){return Number(this.defines.CORNER_ROUNDING)}set cornerRounding(e){let t=Math.min(Math.max(e,0),100);this.defines.CORNER_ROUNDING=t.toFixed("4"),this.defines.CORNER_ROUNDING_NORM=(t/100).toFixed("4"),this.needsUpdate=!0}setCornerRounding(e){this.cornerRounding=e}get cornerDetection(){return this.defines.DISABLE_CORNER_DETECTION===void 0}set cornerDetection(e){e?delete this.defines.DISABLE_CORNER_DETECTION:this.defines.DISABLE_CORNER_DETECTION="1",this.needsUpdate=!0}isCornerRoundingEnabled(){return this.cornerDetection}setCornerRoundingEnabled(e){this.cornerDetection=e}setSize(e,t){let r=this.uniforms;r.texelSize.value.set(1/e,1/t),r.resolution.value.set(e,t)}},CIe=new vg,ru=null;function AIe(){if(ru===null){let e=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),t=new Float32Array([0,0,2,0,0,2]);ru=new lt,ru.setAttribute!==void 0?(ru.setAttribute("position",new St(e,3)),ru.setAttribute("uv",new St(t,2))):(ru.addAttribute("position",new St(e,3)),ru.addAttribute("uv",new St(t,2)))}return ru}var ho=class{constructor(e="Pass",t=new $u,r=CIe){this.name=e,this.renderer=null,this.scene=t,this.camera=r,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(e){if(this.rtt===e){let t=this.getFullscreenMaterial();t!==null&&(t.needsUpdate=!0),this.rtt=!e}}setRenderer(e){this.renderer=e}isEnabled(){return this.enabled}setEnabled(e){this.enabled=e}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(e){let t=this.screen;t!==null?t.material=e:(t=new ro(AIe(),e),t.frustumCulled=!1,this.scene===null&&(this.scene=new $u),this.scene.add(t),this.screen=t)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(e){this.fullscreenMaterial=e}getDepthTexture(){return null}setDepthTexture(e,t=Wc){}render(e,t,r,n,i){throw new Error("Render method not implemented!")}setSize(e,t){}initialize(e,t,r){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t.dispose=="function"){if(t instanceof $u||t===this.renderer)continue;this[e].dispose()}}}},GP=class extends ho{constructor(e,t=!0){super("CopyPass"),this.fullscreenMaterial=new dIe,this.needsSwap=!1,this.renderTarget=e,e===void 0&&(this.renderTarget=new br(1,1,{minFilter:Wt,magFilter:Wt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=t}get resize(){return this.autoResize}set resize(e){this.autoResize=e}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(e){this.autoResize=e}render(e,t,r,n,i){this.fullscreenMaterial.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){this.autoResize&&this.renderTarget.setSize(e,t)}initialize(e,t,r){r!==void 0&&(this.renderTarget.texture.type=r,r!==Li?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":e.outputEncoding===It&&(this.renderTarget.texture.encoding=It))}},MIe=class extends ho{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(e,t,r,n,i){let o=e.state.buffers.stencil;o.setLocked(!1),o.setTest(!1)}},XC=new ht,ej=class extends ho{constructor(e=!0,t=!0,r=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=e,this.depth=t,this.stencil=r,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(e,t,r){this.color=e,this.depth=t,this.stencil=r}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(e){this.overrideClearColor=e}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(e){this.overrideClearAlpha=e}render(e,t,r,n,i){let o=this.overrideClearColor,l=this.overrideClearAlpha,c=e.getClearAlpha(),a=o!==null,s=l>=0;a?(XC.copy(e.getClearColor(XC)),e.setClearColor(o,s?l:c)):s&&e.setClearAlpha(l),e.setRenderTarget(this.renderToScreen?null:t),e.clear(this.color,this.depth,this.stencil),a?e.setClearColor(XC,c):s&&e.setClearAlpha(c)}},nu=-1,Mo=class extends wi{constructor(e,t=nu,r=nu,n=1){super(),this.resizable=e,this.base=new re(1,1),this.preferred=new re(t,r),this.target=this.preferred,this.s=n}get width(){let{base:e,preferred:t,scale:r}=this,n;return t.width!==nu?n=t.width:t.height!==nu?n=Math.round(t.height*(e.width/Math.max(e.height,1))):n=Math.round(e.width*r),n}set width(e){this.preferredWidth=e}get height(){let{base:e,preferred:t,scale:r}=this,n;return t.height!==nu?n=t.height:t.width!==nu?n=Math.round(t.width/Math.max(e.width/Math.max(e.height,1),1)):n=Math.round(e.height*r),n}set height(e){this.preferredHeight=e}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(e){this.s!==e&&(this.s=e,this.preferred.setScalar(nu),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getScale(){return this.scale}setScale(e){this.scale=e}get baseWidth(){return this.base.width}set baseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseWidth(){return this.base.width}setBaseWidth(e){this.base.width!==e&&(this.base.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get baseHeight(){return this.base.height}set baseHeight(e){this.base.height!==e&&(this.base.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(e){this.baseHeight=e}setBaseSize(e,t){(this.base.width!==e||this.base.height!==t)&&(this.base.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}get preferredWidth(){return this.preferred.width}set preferredWidth(e){this.preferred.width!==e&&(this.preferred.width=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(e){this.preferredWidth=e}get preferredHeight(){return this.preferred.height}set preferredHeight(e){this.preferred.height!==e&&(this.preferred.height=e,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(e){this.preferredHeight=e}setPreferredSize(e,t){(this.preferred.width!==e||this.preferred.height!==t)&&(this.preferred.set(e,t),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height))}copy(e){this.base.set(e.getBaseWidth(),e.getBaseHeight()),this.preferred.set(e.getPreferredWidth(),e.getPreferredHeight()),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.base.width,this.base.height)}static get AUTO_SIZE(){return nu}},KC=!1,k9=class{constructor(e=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(e),this.meshCount=0,this.replaceMaterial=t=>{if(t.isMesh){let r;if(t.material.flatShading)switch(t.material.side){case Co:r=this.materialsFlatShadedDoubleSide;break;case ai:r=this.materialsFlatShadedBackSide;break;default:r=this.materialsFlatShaded;break}else switch(t.material.side){case Co:r=this.materialsDoubleSide;break;case ai:r=this.materialsBackSide;break;default:r=this.materials;break}this.originalMaterials.set(t,t.material),t.isSkinnedMesh?t.material=r[2]:t.isInstancedMesh?t.material=r[1]:t.material=r[0],++this.meshCount}}}setMaterial(e){if(this.disposeMaterials(),this.material=e,e!==null){let t=this.materials=[e.clone(),e.clone(),e.clone()];for(let r of t)r.uniforms=Object.assign({},e.uniforms),r.side=ks;t[2].skinning=!0,this.materialsBackSide=t.map(r=>{let n=r.clone();return n.uniforms=Object.assign({},e.uniforms),n.side=ai,n}),this.materialsDoubleSide=t.map(r=>{let n=r.clone();return n.uniforms=Object.assign({},e.uniforms),n.side=Co,n}),this.materialsFlatShaded=t.map(r=>{let n=r.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n}),this.materialsFlatShadedBackSide=t.map(r=>{let n=r.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=ai,n}),this.materialsFlatShadedDoubleSide=t.map(r=>{let n=r.clone();return n.uniforms=Object.assign({},e.uniforms),n.flatShading=!0,n.side=Co,n})}}render(e,t,r){let n=e.shadowMap.enabled;if(e.shadowMap.enabled=!1,KC){let i=this.originalMaterials;this.meshCount=0,t.traverse(this.replaceMaterial),e.render(t,r);for(let o of i)o[0].material=o[1];this.meshCount!==i.size&&i.clear()}else{let i=t.overrideMaterial;t.overrideMaterial=this.material,e.render(t,r),t.overrideMaterial=i}e.shadowMap.enabled=n}disposeMaterials(){if(this.material!==null){let e=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(let t of e)t.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return KC}static set workaroundEnabled(e){KC=e}},TIe=class extends ho{constructor(e,t,r=null){super("RenderPass",e,t),this.needsSwap=!1,this.clearPass=new ej,this.overrideMaterialManager=r===null?null:new k9(r),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}get renderToScreen(){return super.renderToScreen}set renderToScreen(e){super.renderToScreen=e,this.clearPass.renderToScreen=e}get overrideMaterial(){let e=this.overrideMaterialManager;return e!==null?e.material:null}set overrideMaterial(e){let t=this.overrideMaterialManager;e!==null?t!==null?t.setMaterial(e):this.overrideMaterialManager=new k9(e):t!==null&&(t.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(e){this.overrideMaterial=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getSelection(){return this.selection}setSelection(e){this.selection=e}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(e){this.ignoreBackground=e}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(e){this.skipShadowMapUpdate=e}getClearPass(){return this.clearPass}render(e,t,r,n,i){let o=this.scene,l=this.camera,c=this.selection,a=l.layers.mask,s=o.background,u=e.shadowMap.autoUpdate,d=this.renderToScreen?null:t;c!==null&&l.layers.set(c.getLayer()),this.skipShadowMapUpdate&&(e.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(o.background=null),this.clearPass.enabled&&this.clearPass.render(e,t),e.setRenderTarget(d),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(e,o,l):e.render(o,l),l.layers.mask=a,o.background=s,e.shadowMap.autoUpdate=u}},D9=class extends ho{constructor(e,t,{resolutionScale:r=1,width:n=Mo.AUTO_SIZE,height:i=Mo.AUTO_SIZE,renderTarget:o}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new TIe(e,t,new Aq({depthPacking:hq}));let l=this.renderPass;l.skipShadowMapUpdate=!0,l.ignoreBackground=!0;let c=l.getClearPass();c.overrideClearColor=new ht(16777215),c.overrideClearAlpha=1,this.renderTarget=o,this.renderTarget===void 0&&(this.renderTarget=new br(1,1,{minFilter:kr,magFilter:kr,stencilBuffer:!1}),this.renderTarget.texture.name="DepthPass.Target");let a=this.resolution=new Mo(this,n,i,r);a.addEventListener("change",s=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,n,i){let o=this.renderToScreen?null:this.renderTarget;this.renderPass.render(e,o)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}},nr={SKIP:0,ADD:1,ALPHA:2,AVERAGE:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,EXCLUSION:8,LIGHTEN:9,MULTIPLY:10,DIVIDE:11,NEGATION:12,NORMAL:13,OVERLAY:14,REFLECT:15,SCREEN:16,SOFT_LIGHT:17,SUBTRACT:18},PIe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x+y,1.0)*opacity+x*(1.0-opacity);}",kIe="vec3 blend(const in vec3 x,const in vec3 y,const in float opacity){return y*opacity+x*(1.0-opacity);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){float a=min(y.a,opacity);return vec4(blend(x.rgb,y.rgb,a),max(x.a,a));}",DIe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y)*0.5*opacity+x*(1.0-opacity);}",jIe="float blend(const in float x,const in float y){return(y==0.0)?y:max(1.0-(1.0-x)/y,0.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",IIe="float blend(const in float x,const in float y){return(y==1.0)?y:min(x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",OIe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return min(x,y)*opacity+x*(1.0-opacity);}",RIe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return abs(x-y)*opacity+x*(1.0-opacity);}",zIe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(x+y-2.0*x*y)*opacity+x*(1.0-opacity);}",LIe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x,y)*opacity+x*(1.0-opacity);}",NIe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return x*y*opacity+x*(1.0-opacity);}",BIe="float blend(const in float x,const in float y){return(y>0.0)?min(x/y,1.0):1.0;}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",FIe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-abs(1.0-x-y))*opacity+x*(1.0-opacity);}",UIe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y*opacity+x*(1.0-opacity);}",VIe="float blend(const in float x,const in float y){return(x<0.5)?(2.0*x*y):(1.0-2.0*(1.0-x)*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",HIe="float blend(const in float x,const in float y){return(y==1.0)?y:min(x*x/(1.0-y),1.0);}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",WIe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return(1.0-(1.0-x)*(1.0-y))*opacity+x*(1.0-opacity);}",GIe="float blend(const in float x,const in float y){return(y<0.5)?(2.0*x*y+x*x*(1.0-2.0*y)):(sqrt(x)*(2.0*y-1.0)+2.0*x*(1.0-y));}vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=vec4(blend(x.r,y.r),blend(x.g,y.g),blend(x.b,y.b),blend(x.a,y.a));return z*opacity+x*(1.0-opacity);}",qIe="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return max(x+y-1.0,0.0)*opacity+x*(1.0-opacity);}",YIe=new Map([[nr.SKIP,null],[nr.ADD,PIe],[nr.ALPHA,kIe],[nr.AVERAGE,DIe],[nr.COLOR_BURN,jIe],[nr.COLOR_DODGE,IIe],[nr.DARKEN,OIe],[nr.DIFFERENCE,RIe],[nr.EXCLUSION,zIe],[nr.LIGHTEN,LIe],[nr.MULTIPLY,NIe],[nr.DIVIDE,BIe],[nr.NEGATION,FIe],[nr.NORMAL,UIe],[nr.OVERLAY,VIe],[nr.REFLECT,HIe],[nr.SCREEN,WIe],[nr.SOFT_LIGHT,GIe],[nr.SUBTRACT,qIe]]),$Ie=class extends wi{constructor(e,t=1){super(),this.f=e,this.opacity=new Oe(t)}getOpacity(){return this.opacity.value}setOpacity(e){this.opacity.value=e}get blendFunction(){return this.f}set blendFunction(e){this.f=e,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(e){this.blendFunction=e}getShaderCode(){return YIe.get(this.blendFunction)}},_l={NONE:0,DEPTH:1,CONVOLUTION:2},jl=class extends wi{constructor(e,t,{attributes:r=_l.NONE,blendFunction:n=nr.SCREEN,defines:i=new Map,uniforms:o=new Map,extensions:l=null,vertexShader:c=null}={}){super(),this.name=e,this.renderer=null,this.attributes=r,this.fragmentShader=t,this.vertexShader=c,this.defines=i,this.uniforms=o,this.extensions=l,this.blendMode=new $Ie(n),this.blendMode.addEventListener("change",a=>this.setChanged())}getName(){return this.name}setRenderer(e){this.renderer=e}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(e){this.attributes=e,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(e){this.fragmentShader=e,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(e){this.vertexShader=e,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(e,t=Wc){}update(e,t,r){}setSize(e,t){}initialize(e,t,r){}dispose(){for(let e of Object.keys(this)){let t=this[e];if(t!==null&&typeof t.dispose=="function"){if(t instanceof $u||t===this.renderer)continue;this[e].dispose()}}}};function j9(e,t,r){for(let n of t){let i="$1"+e+n.charAt(0).toUpperCase()+n.slice(1),o=new RegExp("([^\\.])(\\b"+n+"\\b)","g");for(let l of r.entries())l[1]!==null&&r.set(l[0],l[1].replace(o,i))}}function XIe(e,t,r,n,i,o,l){let c=new Map([["fragment",t.getFragmentShader()],["vertex",t.getVertexShader()]]),a=c.get("fragment")!==void 0&&/mainImage/.test(c.get("fragment")),s=c.get("fragment")!==void 0&&/mainUv/.test(c.get("fragment")),u=[],d=[],h=!1,p=!1;if(c.get("fragment")===void 0)console.error("Missing fragment shader",t);else if(s&&l&_l.CONVOLUTION)console.error("Effects that transform UV coordinates are incompatible with convolution effects",t);else if(!a&&!s)console.error("The fragment shader contains neither a mainImage nor a mainUv function",t);else{let m=/(?:\w+\s+(\w+)\([\w\s,]*\)\s*{[^}]+})/g,f=WP.Section;if(s){let v=`	${e}MainUv(UV);
`;r.set(f.FRAGMENT_MAIN_UV,r.get(f.FRAGMENT_MAIN_UV)+v),h=!0}if(c.get("vertex")!==null&&/mainSupport/.test(c.get("vertex"))){let v=`	${e}MainSupport(`;v+=/mainSupport *\([\w\s]*?uv\s*?\)/.test(c.get("vertex"))?`vUv);
`:`);
`,r.set(f.VERTEX_MAIN_SUPPORT,r.get(f.VERTEX_MAIN_SUPPORT)+v),u=u.concat([...c.get("vertex").matchAll(/(?:varying\s+\w+\s+(\w*))/g)].map(x=>x[1])),d=d.concat(u).concat([...c.get("vertex").matchAll(m)].map(x=>x[1]))}d=d.concat([...c.get("fragment").matchAll(m)].map(v=>v[1])),d=d.concat([...t.defines.keys()].map(v=>v.replace(/\([\w\s,]*\)/g,""))),d=d.concat([...t.uniforms.keys()]),t.uniforms.forEach((v,x)=>o.set(e+x.charAt(0).toUpperCase()+x.slice(1),v)),t.defines.forEach((v,x)=>i.set(e+x.charAt(0).toUpperCase()+x.slice(1),v)),j9(e,d,i),j9(e,d,c);let g=t.blendMode;if(n.set(g.blendFunction,g),a){let v=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/,x=`${e}MainImage(color0, UV, `;l&_l.DEPTH&&v.test(c.get("fragment"))&&(x+="depth, ",p=!0),x+=`color1);
	`;let y=e+"BlendOpacity";o.set(y,g.opacity),x+=`color0 = blend${g.blendFunction}(color0, color1, ${y});

	`,r.set(f.FRAGMENT_MAIN_IMAGE,r.get(f.FRAGMENT_MAIN_IMAGE)+x),x=`uniform float ${y};

`,r.set(f.FRAGMENT_HEAD,r.get(f.FRAGMENT_HEAD)+x)}r.set(f.FRAGMENT_HEAD,r.get(f.FRAGMENT_HEAD)+c.get("fragment")+`
`),c.get("vertex")!==null&&r.set(f.VERTEX_HEAD,r.get(f.VERTEX_HEAD)+c.get("vertex")+`
`)}return{varyings:u,transformedUv:h,readDepth:p}}var B_=class extends ho{constructor(e,...t){super("EffectPass"),this.fullscreenMaterial=new WP(null,null,null,e),this.effects=t.sort((r,n)=>n.attributes-r.attributes),this.skipRendering=!1,this.uniformCount=0,this.varyingCount=0,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(e){this.fullscreenMaterial.encodeOutput=e}get dithering(){return this.fullscreenMaterial.dithering}set dithering(e){let t=this.fullscreenMaterial;t.dithering=e,t.needsUpdate=!0}verifyResources(){let e=this.renderer.capabilities,t=Math.min(e.maxFragmentUniforms,e.maxVertexUniforms);this.uniformCount>t&&console.warn("The current rendering context doesn't support more than "+t+" uniforms, but "+this.uniformCount+" were defined"),t=e.maxVaryings,this.varyingCount>t&&console.warn("The current rendering context doesn't support more than "+t+" varyings, but "+this.varyingCount+" were defined")}updateMaterial(){let e=WP.Section,t=new Map([[e.FRAGMENT_HEAD,""],[e.FRAGMENT_MAIN_UV,""],[e.FRAGMENT_MAIN_IMAGE,""],[e.VERTEX_HEAD,""],[e.VERTEX_MAIN_SUPPORT,""]]),r=new Map,n=new Map,i=new Map,o=new Set,l=0,c=0,a=0,s=!1,u=!1;for(let h of this.effects)if(h.blendMode.blendFunction===nr.SKIP)a|=h.getAttributes()&_l.DEPTH;else if(a&h.getAttributes()&_l.CONVOLUTION)console.error("Convolution effects cannot be merged",h);else{a|=h.getAttributes();let p="e"+l++,m=XIe(p,h,t,r,n,i,a);if(c+=m.varyings.length,s=s||m.transformedUv,u=u||m.readDepth,h.extensions!==null)for(let f of h.extensions)o.add(f)}let d=/\bblend\b/g;for(let h of r.values()){let p=h.getShaderCode().replace(d,`blend${h.blendFunction}`);t.set(e.FRAGMENT_HEAD,t.get(e.FRAGMENT_HEAD)+p+`
`)}a&_l.DEPTH?(u&&t.set(e.FRAGMENT_MAIN_IMAGE,`float depth = readDepth(UV);

	`+t.get(e.FRAGMENT_MAIN_IMAGE)),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,s?(t.set(e.FRAGMENT_MAIN_UV,`vec2 transformedUv = vUv;
`+t.get(e.FRAGMENT_MAIN_UV)),n.set("UV","transformedUv")):n.set("UV","vUv"),t.forEach((h,p,m)=>m.set(p,h.trim().replace(/^#/,`
#`))),this.uniformCount=i.size,this.varyingCount=c,this.skipRendering=l===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderParts(t).setExtensions(o).setUniforms(i).setDefines(n)}recompile(){this.updateMaterial(),this.verifyResources()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(e,t=Wc){this.fullscreenMaterial.depthBuffer=e,this.fullscreenMaterial.depthPacking=t;for(let r of this.effects)r.setDepthTexture(e,t)}render(e,t,r,n,i){for(let o of this.effects)o.update(e,t,n);if(!this.skipRendering||this.renderToScreen){let o=this.fullscreenMaterial;o.inputBuffer=t.texture,o.time+=n,e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}}setSize(e,t){this.fullscreenMaterial.setSize(e,t);for(let r of this.effects)r.setSize(e,t)}initialize(e,t,r){this.renderer=e;for(let n of this.effects)n.initialize(e,t,r),n.addEventListener("change",i=>this.handleEvent(i));this.updateMaterial(),this.verifyResources(),r!==void 0&&r!==Li&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(let e of this.effects)e.dispose()}handleEvent(e){switch(e.type){case"change":this.recompile();break}}},KIe=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],BX=class extends ho{constructor({resolutionScale:e=.5,width:t=Mo.AUTO_SIZE,height:r=Mo.AUTO_SIZE,kernelSize:n=tj.LARGE}={}){super("KawaseBlurPass"),this.renderTargetA=new br(1,1,{minFilter:Wt,magFilter:Wt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";let i=this.resolution=new Mo(this,t,r,e);i.addEventListener("change",o=>this.setSize(i.baseWidth,i.baseHeight)),this.blurMaterial=new P9,this.ditheredBlurMaterial=new P9,this.ditheredBlurMaterial.uniforms.scale=this.blurMaterial.uniforms.scale,this.ditheredBlurMaterial.dithering=!0,this.dithering=!1,this.kernelSize=n}getResolution(){return this.resolution}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get scale(){return this.blurMaterial.scale}set scale(e){this.blurMaterial.scale=e}getScale(){return this.blurMaterial.scale}setScale(e){this.blurMaterial.scale=e}getKernelSize(){return this.kernelSize}setKernelSize(e){this.kernelSize=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}render(e,t,r,n,i){let o=this.scene,l=this.camera,c=this.renderTargetA,a=this.renderTargetB,s=KIe[this.kernelSize],u=this.blurMaterial,d=t,h,p;for(this.fullscreenMaterial=u,h=0,p=s.length-1;h<p;++h){let m=h&1?a:c;u.kernel=s[h],u.inputBuffer=d.texture,e.setRenderTarget(m),e.render(o,l),d=m}this.dithering&&(u=this.ditheredBlurMaterial,this.fullscreenMaterial=u),u.kernel=s[h],u.inputBuffer=d.texture,e.setRenderTarget(this.renderToScreen?null:r),e.render(o,l)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t);let n=r.width,i=r.height;this.renderTargetA.setSize(n,i),this.renderTargetB.setSize(n,i),this.blurMaterial.setSize(n,i),this.ditheredBlurMaterial.setSize(n,i)}initialize(e,t,r){r!==void 0&&(this.renderTargetA.texture.type=r,this.renderTargetB.texture.type=r,r!==Li?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.ditheredBlurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):e.outputEncoding===It&&(this.renderTargetA.texture.encoding=It,this.renderTargetB.texture.encoding=It))}static get AUTO_SIZE(){return Mo.AUTO_SIZE}},QIe=class extends ho{constructor({width:e=Mo.AUTO_SIZE,height:t=Mo.AUTO_SIZE,renderTarget:r,luminanceRange:n,colorOutput:i}={}){super("LuminancePass"),this.fullscreenMaterial=new bIe(i,n),this.needsSwap=!1,this.renderTarget=r,this.renderTarget===void 0&&(this.renderTarget=new br(1,1,{minFilter:Wt,magFilter:Wt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target",this.renderTarget.texture.generateMipmaps=!1);let o=this.resolution=new Mo(this,e,t);o.addEventListener("change",l=>this.setSize(o.baseWidth,o.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(e,t,r,n,i){let o=this.fullscreenMaterial;o.inputBuffer=t.texture,e.setRenderTarget(this.renderToScreen?null:this.renderTarget),e.render(this.scene,this.camera)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height)}initialize(e,t,r){r!==void 0&&r!==Li&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},ZIe=class extends ho{constructor(e,t){super("MaskPass",e,t),this.needsSwap=!1,this.clearPass=new ej(!1,!1,!0),this.inverse=!1}get inverted(){return this.inverse}set inverted(e){this.inverse=e}get clear(){return this.clearPass.enabled}set clear(e){this.clearPass.enabled=e}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(e){this.inverted=e}render(e,t,r,n,i){let o=e.getContext(),l=e.state.buffers,c=this.scene,a=this.camera,s=this.clearPass,u=this.inverted?0:1,d=1-u;l.color.setMask(!1),l.depth.setMask(!1),l.color.setLocked(!0),l.depth.setLocked(!0),l.stencil.setTest(!0),l.stencil.setOp(o.REPLACE,o.REPLACE,o.REPLACE),l.stencil.setFunc(o.ALWAYS,u,4294967295),l.stencil.setClear(d),l.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?s.render(e,null):(s.render(e,t),s.render(e,r))),this.renderToScreen?(e.setRenderTarget(null),e.render(c,a)):(e.setRenderTarget(t),e.render(c,a),e.setRenderTarget(r),e.render(c,a)),l.color.setLocked(!1),l.depth.setLocked(!1),l.stencil.setLocked(!1),l.stencil.setFunc(o.EQUAL,1,4294967295),l.stencil.setOp(o.KEEP,o.KEEP,o.KEEP),l.stencil.setLocked(!0)}},sl=class extends ho{constructor(e,t="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=e,this.inputBufferUniform=null,this.setInput(t)}setInput(e){if(this.inputBufferUniform=null,this.fullscreenMaterial!==null){let t=this.fullscreenMaterial.uniforms;t!==void 0&&t[e]!==void 0&&(this.inputBufferUniform=t[e])}}render(e,t,r,n,i){this.inputBufferUniform!==null&&t!==null&&(this.inputBufferUniform.value=t.texture),e.setRenderTarget(this.renderToScreen?null:r),e.render(this.scene,this.camera)}initialize(e,t,r){r!==void 0&&r!==Li&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},QC=1/1e3,JIe=1e3,e6e=class{constructor(){this.previousTime=0,this.currentTime=0,this.delta=0,this.fixedDelta=1e3/60,this.elapsed=0,this.timescale=1,this.fixedDeltaEnabled=!1,this.autoReset=!1}setFixedDeltaEnabled(e){return this.fixedDeltaEnabled=e,this}isAutoResetEnabled(e){return this.autoReset}setAutoResetEnabled(e){return typeof document<"u"&&document.hidden!==void 0&&(e?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this.autoReset=e),this}getDelta(){return this.delta*QC}getFixedDelta(){return this.fixedDelta*QC}setFixedDelta(e){return this.fixedDelta=e*JIe,this}getElapsed(){return this.elapsed*QC}getTimescale(){return this.timescale}setTimescale(e){return this.timescale=e,this}update(e){return this.fixedDeltaEnabled?this.delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=e!==void 0?e:performance.now(),this.delta=this.currentTime-this.previousTime),this.delta*=this.timescale,this.elapsed+=this.delta,this}reset(){return this.delta=0,this.elapsed=0,this.currentTime=performance.now(),this}handleEvent(e){document.hidden||(this.currentTime=performance.now())}dispose(){this.setAutoResetEnabled(!1)}},tj={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},t6e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=clamp(texture2D(map,uv)*intensity,0.0,1.0);}`,r6e=class extends jl{constructor({blendFunction:e=nr.SCREEN,luminanceThreshold:t=.9,luminanceSmoothing:r=.025,resolutionScale:n=.5,intensity:i=1,width:o=Mo.AUTO_SIZE,height:l=Mo.AUTO_SIZE,kernelSize:c=tj.LARGE}={}){super("BloomEffect",t6e,{blendFunction:e,uniforms:new Map([["map",new Oe(null)],["intensity",new Oe(i)]])}),this.renderTarget=new br(1,1,{minFilter:Wt,magFilter:Wt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.renderTarget.texture.generateMipmaps=!1,this.uniforms.get("map").value=this.renderTarget.texture,this.luminancePass=new QIe({renderTarget:this.renderTarget,colorOutput:!0}),this.luminanceMaterial.threshold=t,this.luminanceMaterial.smoothingFactor=r,this.blurPass=new BX({resolutionScale:n,width:o,height:l,kernelSize:c});let a=this.blurPass.getResolution();a.addEventListener("change",s=>this.setSize(a.baseWidth,a.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(e){this.resolution.preferredWidth=e}get height(){return this.resolution.height}set height(e){this.resolution.preferredHeight=e}get dithering(){return this.blurPass.dithering}set dithering(e){this.blurPass.dithering=e}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(e){this.blurPass.kernelSize=e}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(e){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(e){this.uniforms.get("intensity").value=e}getIntensity(){return this.intensity}setIntensity(e){this.intensity=e}getResolutionScale(){return this.resolution.scale}setResolutionScale(e){this.resolution.scale=e}update(e,t,r){let n=this.renderTarget;this.luminancePass.enabled?(this.luminancePass.render(e,t,n),this.blurPass.render(e,n,n)):this.blurPass.render(e,t,n)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t),this.renderTarget.setSize(r.width,r.height),this.luminancePass.resolution.copy(r)}initialize(e,t,r){this.blurPass.initialize(e,t,r),r!==void 0&&(this.renderTarget.texture.type=r,e.outputEncoding===It&&(this.renderTarget.texture.encoding=It))}},n6e="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(min(color+vec3(0.5),1.0),inputColor.a);}",i6e=class extends jl{constructor({blendFunction:e=nr.NORMAL,brightness:t=0,contrast:r=0}={}){super("BrightnessContrastEffect",n6e,{blendFunction:e,uniforms:new Map([["brightness",new Oe(t)],["contrast",new Oe(r)]])})}get brightness(){return this.uniforms.get("brightness").value}set brightness(e){this.uniforms.get("brightness").value=e}getBrightness(e){return this.brightness}setBrightness(e){this.brightness=e}get contrast(){return this.uniforms.get("contrast").value}set contrast(e){this.uniforms.get("contrast").value=e}getContrast(e){return this.contrast}setContrast(e){this.contrast=e}},o6e="void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(vec3(average(inputColor.rgb)),inputColor.a);}",a6e=class extends jl{constructor(e=nr.NORMAL){super("ColorAverageEffect",o6e,{blendFunction:e})}},s6e="varying vec2 vUvR;varying vec2 vUvB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 ra=texture2D(inputBuffer,vUvR).ra;vec2 ba=texture2D(inputBuffer,vUvB).ba;outputColor=vec4(ra.x,inputColor.g,ba.x,max(max(ra.y,ba.y),inputColor.a));}",l6e="uniform vec2 offset;varying vec2 vUvR;varying vec2 vUvB;void mainSupport(const in vec2 uv){vec2 shift=offset*vec2(1.0,aspect);vUvR=uv+shift;vUvB=uv-shift;}",c6e=class extends jl{constructor({blendFunction:e=nr.NORMAL,offset:t=new re(.001,5e-4)}={}){super("ChromaticAberrationEffect",s6e,{vertexShader:l6e,blendFunction:e,attributes:_l.CONVOLUTION,uniforms:new Map([["offset",new Oe(t)]])})}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}},u6e=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D nearColorBuffer;uniform mediump sampler2D farColorBuffer;
#else
uniform lowp sampler2D nearColorBuffer;uniform lowp sampler2D farColorBuffer;
#endif
uniform lowp sampler2D nearCoCBuffer;uniform float scale;void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){vec4 colorNear=texture2D(nearColorBuffer,uv);vec4 colorFar=texture2D(farColorBuffer,uv);float CoCNear=texture2D(nearCoCBuffer,uv).r;CoCNear=min(CoCNear*scale,1.0);vec4 result=inputColor*(1.0-colorFar.a)+colorFar;result=mix(result,colorNear,CoCNear);outputColor=result;}`,d6e=class extends jl{constructor(e,{blendFunction:t=nr.NORMAL,worldFocusDistance:r,worldFocusRange:n,focusDistance:i=0,focalLength:o=.1,focusRange:l=o,bokehScale:c=1,width:a=Mo.AUTO_SIZE,height:s=Mo.AUTO_SIZE}={}){super("DepthOfFieldEffect",u6e,{blendFunction:t,attributes:_l.DEPTH,uniforms:new Map([["nearColorBuffer",new Oe(null)],["farColorBuffer",new Oe(null)],["nearCoCBuffer",new Oe(null)],["scale",new Oe(1)]])}),this.camera=e,this.renderTarget=new br(1,1,{minFilter:Wt,magFilter:Wt,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="DoF.Intermediate",this.renderTarget.texture.generateMipmaps=!1,this.renderTargetMasked=this.renderTarget.clone(),this.renderTargetMasked.texture.name="DoF.Masked.Far",this.renderTargetNear=this.renderTarget.clone(),this.renderTargetNear.texture.name="DoF.Bokeh.Near",this.uniforms.get("nearColorBuffer").value=this.renderTargetNear.texture,this.renderTargetFar=this.renderTarget.clone(),this.renderTargetFar.texture.name="DoF.Bokeh.Far",this.uniforms.get("farColorBuffer").value=this.renderTargetFar.texture,this.renderTargetCoC=this.renderTarget.clone(),this.renderTargetCoC.texture.name="DoF.CoC",this.renderTargetCoCBlurred=this.renderTargetCoC.clone(),this.renderTargetCoCBlurred.texture.name="DoF.CoC.Blurred",this.uniforms.get("nearCoCBuffer").value=this.renderTargetCoCBlurred.texture,this.cocPass=new sl(new sIe(e));let u=this.cocMaterial;u.focusDistance=i,u.focusRange=l,r!==void 0&&(u.worldFocusDistance=r),n!==void 0&&(u.worldFocusRange=n),this.blurPass=new BX({kernelSize:tj.MEDIUM,width:a,height:s});let d=this.blurPass.getResolution();d.addEventListener("change",p=>this.setSize(d.getBaseWidth(),d.getBaseHeight())),this.maskPass=new sl(new wIe(this.renderTargetCoC.texture));let h=this.maskPass.fullscreenMaterial;h.maskFunction=NX.MULTIPLY,h.colorChannel=LX.GREEN,this.bokehNearBasePass=new sl(new rx(!1,!0)),this.bokehNearBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehNearFillPass=new sl(new rx(!0,!0)),this.bokehNearFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoCBlurred.texture,this.bokehFarBasePass=new sl(new rx(!1,!1)),this.bokehFarBasePass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.bokehFarFillPass=new sl(new rx(!0,!1)),this.bokehFarFillPass.fullscreenMaterial.cocBuffer=this.renderTargetCoC.texture,this.target=null,this.bokehScale=c}get cocTexture(){return this.renderTargetCoC.texture}get cocMaterial(){return this.cocPass.fullscreenMaterial}get circleOfConfusionMaterial(){return this.cocMaterial}getCircleOfConfusionMaterial(){return this.circleOfConfusionMaterial}getBlurPass(){return this.blurPass}get resolution(){return this.blurPass.getResolution()}getResolution(){return this.blurPass.getResolution()}get bokehScale(){return this.uniforms.get("scale").value}set bokehScale(e){let t=[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];for(let r of t)r.fullscreenMaterial.setScale(e);this.maskPass.fullscreenMaterial.setStrength(e),this.uniforms.get("scale").value=e}getBokehScale(){return this.bokehScale}setBokehScale(e){this.bokehScale=e}getTarget(){return this.target}setTarget(e){this.target=e}calculateFocusDistance(e){let t=this.camera,r=t.position.distanceTo(e);return HP(-r,t.near,t.far)}setDepthTexture(e,t=Wc){this.circleOfConfusionMaterial.depthBuffer=e,this.circleOfConfusionMaterial.depthPacking=t}update(e,t,r){let n=this.renderTarget,i=this.renderTargetCoC,o=this.renderTargetCoCBlurred,l=this.renderTargetMasked;if(this.target!==null){let c=this.calculateFocusDistance(this.target);this.circleOfConfusionMaterial.focusDistance=c}this.cocPass.render(e,null,i),this.blurPass.render(e,i,o),this.maskPass.render(e,t,l),this.bokehFarBasePass.render(e,l,n),this.bokehFarFillPass.render(e,n,this.renderTargetFar),this.bokehNearBasePass.render(e,t,n),this.bokehNearFillPass.render(e,n,this.renderTargetNear)}setSize(e,t){let r=this.resolution;r.setBaseSize(e,t);let n=r.width,i=r.height,o=[this.cocPass,this.blurPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass];o.push(this.renderTargetCoC,this.renderTargetMasked),o.forEach(l=>l.setSize(e,t)),o=[this.renderTarget,this.renderTargetNear,this.renderTargetFar,this.renderTargetCoCBlurred],o.forEach(l=>l.setSize(n,i)),[this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(l=>l.fullscreenMaterial.setSize(n,i))}initialize(e,t,r){[this.cocPass,this.maskPass,this.bokehNearBasePass,this.bokehNearFillPass,this.bokehFarBasePass,this.bokehFarFillPass].forEach(n=>n.initialize(e,t,r)),this.blurPass.initialize(e,t,Li),r!==void 0&&(this.renderTarget.texture.type=r,this.renderTargetNear.texture.type=r,this.renderTargetFar.texture.type=r,this.renderTargetMasked.texture.type=r,e.outputEncoding===It&&(this.renderTarget.texture.encoding=It,this.renderTargetNear.texture.encoding=It,this.renderTargetFar.texture.encoding=It,this.renderTargetMasked.texture.encoding=It))}};new L;new Re;var h6e="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",p6e=class extends jl{constructor({blendFunction:e=nr.NORMAL,hue:t=0,saturation:r=0}={}){super("HueSaturationEffect",h6e,{blendFunction:e,uniforms:new Map([["hue",new Oe(new L)],["saturation",new Oe(r)]])}),this.hue=t}get saturation(){return this.uniforms.get("saturation").value}set saturation(e){this.uniforms.get("saturation").value=e}getSaturation(){return this.saturation}setSaturation(e){this.saturation=e}get hue(){let e=this.uniforms.get("hue").value;return Math.acos((e.x*3-1)/2)}set hue(e){let t=Math.sin(e),r=Math.cos(e);this.uniforms.get("hue").value.set((2*r+1)/3,(-Math.sqrt(3)*t-r+1)/3,(Math.sqrt(3)*t-r+1)/3)}getHue(){return this.hue}setHue(e){this.hue=e}};new ht;var f6e=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,m6e=class extends jl{constructor({blendFunction:e=nr.SCREEN,premultiply:t=!1}={}){super("NoiseEffect",f6e,{blendFunction:e}),this.premultiply=t}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(e){this.premultiply!==e&&(e?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(e){this.premultiply=e}},g6e="uniform bool active;uniform vec2 d;void mainUv(inout vec2 uv){if(active){uv=vec2(d.x*(floor(uv.x/d.x)+0.5),d.y*(floor(uv.y/d.y)+0.5));}}",v6e=class extends jl{constructor(e=30){super("PixelationEffect",g6e,{uniforms:new Map([["active",new Oe(!1)],["d",new Oe(new re)]])}),this.resolution=new re,this.d=0,this.granularity=e}get granularity(){return this.d}set granularity(e){let t=Math.floor(e);t%2>0&&(t+=1),this.d=t,this.uniforms.get("active").value=t>0,this.setSize(this.resolution.width,this.resolution.height)}getGranularity(){return this.granularity}setGranularity(e){this.granularity=e}setSize(e,t){this.resolution.set(e,t),this.uniforms.get("d").value.setScalar(this.d).divide(this.resolution)}};new L;new L;var I9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAAQCAYAAACm53kpAAAAeElEQVRYR+2XSwqAMAxEJ168ePEqwRSKhIIiuHjJqiU0gWE+1CQdApcVAMUAuARaMGCX1MIL/Ow13++9lW2s3mW9MWvsnWc/2fvGygwPAN4E8QzAA4CXAB6AHjG4JTHYI1ey3pcx6FHnEfhLDOIBKAmUBK6/ANUDTlROXAHd9EC1AAAAAElFTkSuQmCC",O9="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKAAAAIwCAYAAAABNmBHAAAgAElEQVR4Xuy9CbhlV1ktOvbpq09DkiIkUBI6kxASIH0DlAQiIK1wRfSJTx+i4JX7vKIigs8HXpXvqVcvrcC9agQ7IDTSSWgqCQQliDRBJKkkhDSkqVPNqVOnP+8b//rH3P+eZ+199tlznVTlvVrft7+1T7OaueZY42/m37QALKNk2wHg1pITlB17mC+Pp11W3X/LHyT32vhg48/5SOv+PnwpsHA70JoGlueB1iKApeqzvOzn44GatTB76Xzhd7suBR7+WWADgDEAwwCG/L54b/poDLrHuvvm70Z2Avhsc+PVcxscBU8F8C8ADg5+ipIjD/PlGwfgju8B924E5seARUfLsiNmqQW0IjL8+7L2NYD/7COBzfcCm+aB8SVgdAkYIRCXKyDax4EdAanL5PuNPllNvXDlAHwFgP8AcC2AhRIoDXbsYb48dl5WkVFTE3LGDcC9m4CZCWBuFFgeAZaGAYJQQCRqDHT+McJrVb8zwATUXH02MHYfMHEIGFsAxgjApQqACYQORjtd/B7Axt/z79sC0+cMPgjjlwPwVwHcA+DfAHzTxcVgWBroqMN8+cYBeM71wH0TwKExYHYUWCIAHYRLTlkCYgcIBcAgU/n3qy8GRu4HRgnAOWBkERhddPAJhGJDBxkvw7cqimr+zFM/ZLnZF64cgL8BYD+AWwB8x/dlWuWagHiYL984AJ/0RWBy1AE4AizyM1yxYAcTigW55xMbAkxEiwEdkJ/ZCQxPAiOHgBECcKEC4TBZcKkSv+mTieNcNPNC26mLNsj45QD8LQDTAO4GcJt/7iw2bfoG4WG+vAGwm9ExiEg69zpg/wgwPQLMjgALzn4E4aIzoJjQ9g4024uygkj+pyuAoX0VAIfngOH5NgCHMhAm8Sv2y3XDZeBhNIp8OzJE8OsBzAKYBHAXgDt8/4O+MVT0j4f58o0D8Pxrgf3DwMwIMEPQEYRkNwfgsuuDZLskip0No0gWMD/9HGDoADAkAC4Aw/wsAgZAgs2Z0ABI0GU6IVmKv+f28KDnHxkA/G0A8y6G73N9kOCjXnh/Ebb6OvgwX75xAF5wLTA1VIHPADgMLDj4yIA5AAm6aCUnv4oz46eeDwxNAUMzwJAz4BABSNDFTwSfg7DDKHE23MG5PqIY8A1u/dINs9dBdy8AgnGPM2NfUBrsnw7z5RsH4IXXAAcJviFgluAbygBINnSLWOAjGxJ4pgOKDV0v/OSLKp8iGXBovhLBBOCQM2ACoTOhnYrAdItYbCij5JFzRyIAqRccAnDAQUjg6UNQ7hsMXP0cRQAexss3DsCLCECCLwCQzMcPwUi2MwAScAKbfnY/YRLFQ8DHX+IAJAMSfDkAF13kLvleIjhjQQHxUVS3jjgGpKeeNzYVQEjgUS8k+PghONdhIwAP4+XXBYCHKIJbwJyDTgaIAdCBJx3Q2M8tYAHP9m4df/ylQOsQ0JqtRLCx30K1wtLBggScQOgsKBGcWHAJeOwRC0BSM1mQIKRbhh+Bj98JQP6t4U0APEyXXxcAEnxkQAFwoVUxID9kvQg+c1C7vidRbIDkc24B//hTQGumDcCWA5DgMxASdNIFBUI5pCML8v8API5zfEQx4BudgqiczviSnJhQwCP4BMCGl+wO8+U7AJi/W4O4YS6+pmK/2ciADsAOBhTIIiAJnPB7AvNjP+0AnANaYkAHX2JBAc+tYaJXOqBZv24Vc386XW5dtkHGW+4HFAJonpOe+YYQZAShgKjv3PNvPQaxVoI8zJdfFwASfPzMUwS3Kt1v0UFIlos6oDFdAGFcliMAP/ryAEAGNwQRnDOgLbdlIEwrIs6AZ/QgkMMHQF6ZAKQcJAsSYPwIeAIk9wJgoPK1gi7+PwF4GC/fOAAvIQPSs0URTPBJ/Pp3GSEGRHfBCIQ0xowBtUbcAj7ys5X4Jfu1HIAGQrIgQRXEsAFQIORDFhiDY/rMHmrU4QUgR08AkgUjCAW6CD6CkwBsAIQC4GG6fPMA3OXiNzCg2I9gNCMksmAAoemDzoimFwL48M85AKkiuQVMAAp8CYRRDAt8GQiJ67N6GJODAXAHlsGguscA2AJg1IPGYmxOpBxFWkRN9LsATgIwXnNs/v/5z/9XCf8BO3YAtxbc/46/KDt+5+ea1Yku2VUxHz/z0v24FwMGK1gWsK2OUUxHHdCBeRUB6OxHABr4ZICIBd0QWSF+XRdMTAjgCdTrG9cBNwE4F8CpDkICyYLGsuhFt6zs+gISwUen8zEAjgMw4cfx2H6O/90yAFo84Cbg4ID3/9TfLTt+5+ebnRABkODjx0SwPi5ec/FrYpmqSAxM8Dn60CsqAFI6GfhqAMiDE/gokmvEr0C4PgDkBQm40wE8zMFEUDKEVoxIMLl/KS73mE7H9d+vcKHQQcjwW0Yu9nP8m8sAmOIBuWY6wP2/4s0ezjjg8TuvaR6ABJ70vxUApGrm7EbGE+i472BAB+WHfqHS/eoAaEwY2E9+wLSXTqhI7CXgnB6LCoOJ4BiST+hTnG0HcCwAglCx3ARoZEVFXnBPp/O/A/hXACc7CPs9/i1lAOyIB+RDX+P9/+pbQjjjAMfv/PL6AFDs1wFAgs/9fgKfgdE/ZEpuiQlbwAde6QAMBgiRmsSwA9BY0JfjovGRDBMH4TlcXGhcBOc6HkF0gjPhZgchxTLZMAci/04W/B6Ab3t09EPXcPyflgFwRTwgJ2MN9/8bf5qFM67x+B/aW4XQz42FeL0YrRyikztUFw0704mf9kXgxhOAqc3AAsPyRxxQCs/PdXOFY0W1KHy3QIUGtx+6vdnx1vsB+dsTncm2AogglFgVEAlUWrOMB2RyEmMCGQ/Y7/HvKns6tfGAnJQ+r/9b76oJZ1zD8WdyQjYBh8aBhVEHjELouQ8ukQ7VRSCJAALwkr+sALhnGzDD3JAJYJHg9uhoi4bx8ytkWUtvHT/7+Zc4dw1uZ3612fH2dkQf7yxIEEockwkJQn4IQoq8unhAhmPRKKFx0uv4K8ueTs94wD7u//VX9ghn7OP4c+4G7h8HpseB+dF2AKlFLwuAIZ8jD6NPrOhAffmfA9/ZBuzZCkyRWSeqBCWyoYGQ5yQrBpDbum/ME1HoPo0XEkSD2zlfbna8q6+EUJcTCxKEtHL5EQjP6BEPyIgYAZBvYt3xHyx7OqvGA65y/7/9wVXCGVc5/sl7qxD66dEqiYgRzAqhN1A4CBNAAlDyAFI+iZ9/N3DLJuC+jcDUBmCWyUnOrmTYCMIOkNclLg0B8/RsNLg9+UvNjnd1APLmmQpFHyEBROuWACQT8nN+H/GAvY7/VNnT6SsesMf13/CpahGnZzhjj+PPmwX2MYdDIfQexWyBAwEUOQDrRDN/98p3A7dvAO6fAA5sqHJDBEAyoUVGkwEd6HR12XU4kwzfl6fCXTZzjy57vvnR513X7Hj7AyDvggAUi9EyFgiZqNxPQF6345nOWbD1HQ/Y5fpvuLa/2+82/vNHgAPDFQDnhoF5j2C2qBWCI8bw1eRw5CL5l94L3DEOTI4DB8Y9OWmsEu/zBJ3rgsaybqBob/7A4C7jtWcooRrczr+u2fH2D0AOQgAUCxKEP7aGgLy64+m6KdjWFA9Yc/03/Osa4glrjr+AupqHz1sEs0cxG0BC9HIePLoit9eNkVf9L+DuUWByDJgaq4ybGYLPAWgiXmLedUE7dwC7saL7CqfPKXi4NYdaykCD410bAHlDEsNiwZ9wAPYbkJcfz6T2gm3N8YDZ9d/wHxUA+739fPwXPrSKYGb+BuP3jAFDElFH9HIWwbzCIGkBr/or4J4RYO8oMOW6ZVcAuvi1Cgoha04BCwT5gfMKHm7NoRde2+x41w5A3hQZkADk5+cGiAeMx3+/7AENFA8Yrv/G71cAXFM4Yzj+otOAaQLQA0gZxaIIZtMDFTigKJV8H9Iq6aZ59ZXAvSPAvpEKgBTtBODcSCWCZeRYtpzrmLyeGNCAyFl1v+Hei8qeb370Rdc2O97BAMi7EgB/2QG41nhAHU9LuWAbOB7Qr//GPRUA13r7Gv9FZwIMoVcEswEwfDoimEP0shKKtIphaZQAXv1+YM+wA3DEdcvRKkGJADQQEsQuhi1Tjt95vBsh5nx2IO59SsHDrTmUOStNjndwAAqEry0IyCMICkOyiuIBNwBvPFQQT7gBuPjc9oRYAIHyOEL4vIFEYVNaOou5vCGE/tV/A0wOVcnpzI47NOri3QFIBpSeaSDUdYLOSWvYImSGgftpJDa4MWJbAGxivGUA5MAOc0Be6eVLj7/4Mk+hzCOYPYpZDBiNkLh+G/M3yFyv/ltgL3W3YQfgcFUhgRY2PwY+Z7/EhAR1SFyXCOb57r28QfQBsJQBMn5D4y0HYLPje9Cd7RIC0PM3EiMofF4gVCBp1P840ix/gyz56r+vAMjk9Gl375iB4+CzveuZdLkkEPJ8ZEfX/6R73vOjzT5Si9hucLxHAVg4PwJgRwh9CKOXK8YA4ZEqKZXSQWh5P+5AftXfA/uGKvYjCKn72cctbFrZNECka5L5CPwIPtMH3TVz17MLB5gdLgA2Nd6jACycHwLQxFEUSR5ASvARDB0h9AQb9bXIgCGk6lUfAPYTgEPAITKgg1BObk58srTJgG58WMkWMaAbQQT1nc8rHGANAJsc71EAFs4PAagQestgC1lsBJ4BMCSOK6dDUcwqqaFiQr/0QeAAAdjy+jBiQQeeMSBZT3nCPUDIa9z+/MIB1gCwyfEeBWDh/BCAeQSzgkjFfGLBBD5nxQ4DxN0wv3hVxX5TBGDwL5obxvVA5YqYL5BeMLd66YYxJpRB0gK+96LCAdYAsMnxHgVg4fwIgMrhUPKQ2C+Bz0PmBTqBMQehAbDlIjj4F80KJguSVZ0FuXpjoCOgXawLjALhbT9eOMAuAGxqvEcBWDg/l1IE05Ed0ygZnyHdz0VwCqEPIfNyx0QQvvLDFQCp+8nfZk5und8tXwIgWcHSNX0N2CJmnAl3v6RwgNnhl17T7HiPArBwfghAS7mV/hey2JS9FvM3BLpUUi1YwDRMXvkRYJoAlAh2l0dcZ04s6JUTDIjyBcrl4yDc/dLCAdYAsMnxHgVg4fxwKVwJgGEJNmWtxpQMpX9on2eRhVA+O56AjMfnP+e3Xvf3NwG4xIPTleiY55bpGh6UbafNU0l0z0p+5Jh5HqYJ6b51nP6XP8cx12XNHQVgIQB/bFPVg2OC7Q+WgVFWng/FvtWLI06uWh5oguKEcXVS/9sEAF//VGD7t4ETDgJbF4CNi8CGZWBs2fPL/H6Vwp2KEtVk4fJ+v/EIYPN9wKa5qu+IncfPwXHVZe/aOL3EbwS7xv8A1rQvnO0j8PArTgTGZ4BxFv9mIxhOCGsv+0OPYDRghcLfkWkEuq0+G00x4OtfDGz+d2DbHmDLjL8si8AYP/7CGIAiEEMTG92zXqSbH+d9R2aA0XnvO+JjthiIrOVDHHPOkBrzUQAWAPsZp3oPDpa/Xag6EVkLBK+5rAnJC3/nYk/APD704WiEAV8OTHwX2LQH2DgFbJgFNrBhjd8r79deGoEwsllgNBOzy8CdjweG9wBj08AIAci2D6HafmyAk4/Z7SJ72hGYRwFYAMDLTwOGp4FRFgD3HhzqRGQiyeurqOdG6r0Rm8IEZjzRlkiqCWoEgK8Axm4BJu4HJhyAbFhDxmbDGnZO4j0SgLGDkpibgEq66TJw/1nA0F5gdLpq+zDqFfd5LMeWqu5HNST0uJOIllg+qgMWgI+HPv0xwLA3gWHpW2sC441gCECbmKziaGrnUdMO4aHeh6MxAP4SMHI7ML4HGD8AjHvHJGNAgpDgY/ck3stipRemvVhc+uASMPUEYGh/9dIRgGx8Y+MNbR/00uVtH0wEx94j/v0oAxaA8Ed+GBieAYZZg5kADC0QWGOFzGJlcGPzl1BxNLXD8sk4xftwNAbA/wwM3wGMUmxOOQBnHXzetIYvibonmSiuYTNjriVg7glAiwBk0fNZH6+PmX9P6kfNmCXGpftJ7TgKwBIAnln14BAAYxMYm5C6RjCyCoOyr0qkD/c+HI0B8DXA8N3AyCQwesD1VQKH7EcASm1Q+y4CkN9pUKiVF5nLvy+fBbTUd8QBaH1HvNBROiZvfsNnrF4kcvPwpdsBLBeU18Nf7AB23Dp4ecHC8oBgUlJJecLS+7+WOpE3gbE+HKw+yoevCYkMGKqPJrdEKARutaFYRs1fiEZ0wP8CDN8LDO8FRqYq3W10pgKgfYLaYCzootgA6KXaTA90y374TKB1sBozy77xHFZ536utRgAmEaw6g5kUSFZwSXnA330qsOlfgHMPDlZesLA8IOjoLypPWHj/11EnCiVwkz7kAExtsGraYUWdSDX5TmsagL8KDBGA7Bd30JsW0oWivnEOQNP7yGTSBR101AlZSUtGyfgZDkCWY1HnJdcBVe6325hTvelg2CQjZNDygG/2An0j1wKnL6y9vGBheUC8prQ8YeH9X39OVQSc7Mc6fCaKvAeHdCIVf4yMYCynTpX+nb97NJmlSQb8r8DQHm9YOFUZTKOzoXGhs6AxF0HIexcLBvWBuiHN8s2ne98R3qc6L4Vyb2oBVjfm9MIFHbjDCh6kPOBbQoG+oW8CO5bWVl6wsDwgfr20PGHh/X/1iaEIuDcCTIW/1Q4rFv8OnYiW3c+W2iKwUjKbyjQNwL1uuR6sAEgDgq1brXOmV81PxhNB6DUDBSYzQJwFtz623XcktX1Q1VWKaTF/zZhVazBVYA1tX5MazsGvobwe/jQr0Ne6BTh5uf/ygoXlAfG60vKEhff/rSe1i4DnTWDUACY1guFTDqLYdCBvf6DJYSMYATBfOx1kLfj1v1axH10nQ3Sd0GUkBnTfpemtBJgseIKQAHLQcVxa2TnuMW0Aqui5es8xBIegVdVVE8VhzHnLh65WMB9An+X18K6aAn2tO4ETl6vqbKuVFywsDwhevqg8YeH93/Rk70JE90nowxZbIJjvS3WYNSGUwGHJTpPxwwcbBuBrgRYBeKACn7VtpdUu/c0NJxO9BIxcKu4TTODzbkonPLoaL0vyUQRb2y8HsL1ckfWzMeuFi40Qezqi+yiPhyt7FOjr6/gCFwgP7Xb5vssTFt7/nQRg6MGRWmDRoeyTlpgw68GRTwgZgo1gGmXAX6/8dtaylSKY/koyID9BhzML3q1gAos2AcOrZYSoq/pJp1VtODRm9Z3LS/7WjVkvXOzEtOpKyGrlAT+4SoG+VY8vBGCvy/dVnrDw/vee65NBJiAjBIVcAJQjOm+DkCZEeiGAMw6sAwDZsJrAdhFM9rPGhd4904Co5oVuCZPV6kD40Ec6+9W8dBTBsfdc3nkpvnB82fp2RPcs79dHgb51LA9ofsDV6vut5/3PnxcAmLVBiDqgevDaJLkYrpuQxzcNwN8AWgIgRbB8loEBzXDwl4cGiDGft58SCOWGedgjvOJ+bPvgRkiuA+ZjzhnQQOiFNVbloa7l/fos0LdO5QENgEXlCfs8Qbf7HyMA3QVjYihYhLENgjX9y/qwxQmRU/asfd0ZcLU2CHVGyusJQLKfVi98CS12T5f7iECkHpsMkAhCF8+nshWH2I/jXsOYO144GV/9ApAIrS3vt4YCfetQHtAA2G+/4PW4/2PPbzMgmUMi2NoeSCRxIt2/FvuxWURIWCXg357gfTjEDNIHnTRXRCpH5ugKwGl3HpMBXQc0v6WLYVm/5limj04rG762K2uYY9jBkr9+rI03NL5ZbczS/dJ+LQyoga4o77fGAn0NlwdMAOy3vl/T938KAcj121z8Bn+Y9eWQJRz8Y6kNagDh2ey5EvxjxQD8TWdAuneCCO4An1vw5vdzQMmdktwq7pLZQR+dM34+ZumAxvY1Y04uqOAJ6FsExzeto7zfAAX6GiwPaLWR1lrfr8n7f/Rl3QGzmsis+/uO71V9OFgP2gpPhgr7TGRqRUT6dyvr4aIs/pm/2zVUNbBSv6G8e5pEv0Cvec7Po7+bTtjlBRlkvAMBkDeQyvsNWKCvofKACYBrre/X1P0/oWEAnnFD1YdjhtXxR73mX10FfCHHE9pVWcGAI/S0gKsfA2y+twrFZw6Hxf/F0Pk8Ri/kpGSnMuDx5T0iACgQHioo0NdAecBUHW6QdsV2/cL7v/Cyqr5gnc42CCOcfX1VIZ/V8We9IDmTzVXwPDJiXuKXPxtDBma8+lzP4WAgKkPxCUAPE4v5GzEuMX0PYJPLhB6FJsc7MAMmkVxaYC/K9gG+F1++8AQ7Gwbgk78I7GFpXgIwFiRXOwaJZPUbiR0yCUDRk+cHf+YpwMj9HgfI8ClGPyvsSiH0WSKRuYlitLb/zHM/JOSs5C/YIC9cMQDZr/dwxgOW9gtGYUBi0wA8l304vDQvAchilFbpIBQhZ7Ejq6ZQ0/Yhil8y4j89Axie9DAsD6FX9HOK3QtROTFkviN83kG4felIY8DCeLrSeMDSfsEovAECUFsTjHD+tcB+tkFgcXKvBRir7qtFl9owmO4Xy/1G3bAFfPrZHorFNWBFwHjQAFctIghj2kBarw06If/+MM9ZqTN6DgsDojCerjQesLRfMApvoGkAWh8Ob/tgAPSKWCp8ngNQtadjmTdltvNvn3peFYhgQQgh+iUmEaUAUoXM1yRLmWuFLaE9Z+XIAWBhPF1pPGBpv2AU3kDTALzwmqo6qtVh9kJErAudABia38TC5wJgS2xIhAwBn3yhByL4EhzXfRXxYsDTJ4IvrNN2JFMxZcBzVo4cABbG05XGA5b2C0bhDTQNQLZBYH1AVsQSAAU+imI1obHyblnjG/kJk3U8BHz8xVUQAhnQIl5CyNgKAGp5LKSSCoAySh5Jj79vTagcxUaIBeRNe79g9gq+DXig4wGzy+PONfT7RWFA4noAkGXZVAhcBckJQgNgrLiaNb3paIDo1vHHX+oA9LQBi4DxJcOUPJUnTgU2NJUyROs8irGARxQAC+PpCtsFd40H/AEf0gMQkLgeACT41PiGoLOKqyrJq3K/Ya9mNyr5FusN/uPLPIeDa8Bc+w3rtyl4VFHaMZc3i9RWBM9jjzgAFsbTFbYLRmm/YBTeQNMAtD4cBKDXBTQGdAB2MGBo8SCLmEuS1AFVAJ3A/NhPt0PoCcA8bSDG76XI7aySg6JYuGfKwJHFgH0E5B3ueMCe/Y4L+xVHAOZ+9EHcEgQgwbeiEYx6jwTdz4qfu7EhEJqxGqruf/RnHIAEnxgwBM0aC8aUAYWNBRCmoIll4HTqO122QcZbrgMWxtMVtgvuOx6wa7/jwhtoGoDWh4MBJ16WN4lfr8AqI0TVV1O1fa9BbQzovkAy4Ed+NgCQUSxZCFWvCOaOFREXyUwZOPIA2GdA3uGOB6wPaOz+QPv5S+MA3OXiN9aclghW+d3IgupBF2pPqxcxGenDPxfSRh2ASiKKiVP2PaZScvAKoA0VDc6cOlIB2GdA3uGOB1zR77iwX/F6AFB9ONSOQW0frA50sILVcckWJyIDSgwPAVcJgFbYuZ3FJvAlEHbJ3IsgJLGedeBIA+AAAXmHOx6wo99xYb/i9QKg2iAIfDJEJHqj4SExbEty0gkdhB/6P9oZbBZIGiKYVb9GKaN50lRHBLOvhDxh/5EKwDUG5B3ueMB2QGM/grb7/6wHAPNGMAY+GSGUjC52VX2f2CD4+HO0gqkZfegXKgBaHkcWtS0AWii9xG1ImrLlN5XR8L8fmQD05BVrmEENmpYSP9QX+KHiqj2/82+HqqDWwnbBRfGATdzAegGwru2DpRq7Mzq2fpAf0Nq0Rl2wBXzglZ4yUAPAmDSVWDBPHQjLcgTqOZ6zUvdKHh4ruDCerox/Dnu7YqwXAC1NI/QcEQuK6WK/kdgCTGC0PYAP/KIDMBgglq+hIkrOfsaCviLSofcJgJ5AdM7kkSaCj/HqQKVIGvD4swF8bcBjmzjsaQ2H5D/6acBd9wALB4DFWWB5AVherMp4GKIYEOp7+26UF0aSfT/xYuDG7wDjrIpAERytXf2vajj7ueryQXSFl10K/ON3gIWDwCLvjfGB8Z54O+Ee4ve6513uB2R1yzsqC+twbC8HcNVhfAeaBuDP/TvwtS3A/ePAIfYFVlPq2HHTuyulZCTlhbjhETF5yxTQGgPGhoHhIWC4VSXGD3n0tLkMHXHxu+YyB+MlPwDuZs5K6FlsbCzdVO9DuKfkHM8AEkP7B8fOkwDcD+B7np42+JkGOvKdAL4E4K8P0zvQdET0b14D3DgB3D0B7B8HZka9WzrD88N6sFm+YcUjrn7E1ZDvMtF9DBgeAYaHgSGB0PNHCD4BLwLRsByAyX/ij0/dDUxuqlIG5hix7eFhvLcOVUAtyPSydAFmOQNe6EYGV/9ZESiKgIEgtbaD/gHALQC4ovY5r5KwtjOU/XfTAHzzLuCmIeDuMWDvKHBwpMoN0WQzNtAaYSs0K4ZlOSAjGG9kPjCBRwZ0ABKEBJexYAZEAU3A7Oi1BeDym4EDnjQ1TwCGWMW8MXcKks0YOyZNlQOQjcgYIUHllEzYQ0ktm+r6oz8G4F4AXwXwRd8/kO9A0wB8y65KmPxgGJgcqYJTKYpTv2CCzyddQJRDOjKivn+Deh8BF8BnwBtaCUA+YYEyAU8h+c6Az9gNHHRmrgOgmDA3jHQ+iWupCeUAvNSrA9HNwqx+muk9nJVNg/CTfrmbAPwbgK8D+PcHkIibjob5o13A3XypWsAkG1cPA9PDFQDZM1id0i1KxsWfOrKnAFXlifCFFMMRcASigOcs2MGAIfE9iWXplS6On7UbmPaUUTXQrgsVMzcRj5Folg2V5ayUA5BWYKwOxKUafnosWjcJwk+7W5F2EKvlE3xcXaNYfiCYsGkA/smuqug6hcleAnAImPbO6YwRpMgjCAVAm/yQmKTv5hNsAf/i7SyNBSl2a8Qv/4/M1yF+BZSYlNQCnnVrpbC+mToAACAASURBVJcaI7sOSEY2NpaDXLqpR+vE/OVksDgImgGgghHoYJbTWc7oJtFWc65/cg2AYvh2ALsB3AzgVv95nS/f4QdsIkT9T3cBrGtITWZfC5hqtQHInsEGQn3UDDvEDEY/ICf7SxMOrAg8T+c00JGkvHGd2DABUYZIAONzCUDppCFhSukCBsLQrFtZe/IixYQpSyEoJoqnuPWrVRAubQh83HNlZB23z7j1ywmj6CIIqUPxw2Xeu9bx2jx10wz4Z7sqTYZaDD8EIDuoE3hMVEphWg66JIp90k0sBxBcy+iPIIaT1RtEsHS/yIAqw+VSNPWQfe5tlVEk8auXgVa5BUsEJuT5uoliAbE5AGotmIAjCPnR9xDG3TQernYAUupTdBGEFMf83OkApHG+XlvTAPwfuyrgSZOhas3u6cwTsUBVn2gTwyFMi8wjHZAA1M9fYGHDULJD1m8Cpa8fRxDad+l+Ykf/3XNvd11U+qiL39SxXevSsshdDFvgbI1O2AwAtRZMZzTBRuDFjxe1Xg8QEIB8yyj5yYIUxfQIkfkIRnmHCM712JoG4FsdgHHp3ACoMH2G6jM4lWzoQarSvwQ6MSB/vporVaFkh+mCLlpVR8Z+dqDZLoDOpHSiQeAFDkBjPrlgCHgCUaFifg67H/9uYjn4Ai1vpTERTAASBaoQJBAKeNqHlL6mwPDZYAOROag/EYRkPX34MwHIvzW9rQcA+TLpI22G7EcQKlJGsYIJhC6ClUMiXfBTbFUQAej6nPS/OuAl9pOOqIc2BLzg++3VmWgIEUz82cRuCAtLIHQQm0gO52uOAb22sC3JEWgRfPpZf2sQBQIgLydPEIFGwPEj8MlF2bSbsulghLftqsCXq9HGgHysznrGgi5qzTUTFH8FLhAUn3hIJwCN0HLncw37qaF2zoYvuKNivmQIuUNc7GvWt6sHNs26twA6vhyq8NEMAHlyntFrDCcQehyaPTl+FwAbXDcmAKMRThakEk8Q8kPg8SPL0qzLBl+A9QCgR6uZGs3vfHz8TtBZvkgGQrEPBVAUg2Sij50QAOjiVKI3saADJRm7dSLYWfSFDkCem/dhZeMy9pPY5QvSDYQyUJoDIK8qMezh3wY6fSL49PcGgCAA8pScJLIgAUYQEmz8RPA17StvGoBv39W24eREiBoNQSgWNI1HBkdgxJSw1AI+dFIbgOYmkjimQ1r6XXC3rAbCHycAgytohf8vsB/r2KRaRq7zpZ+D37HMX0s3DDcCUGLYaw53MJ4YUODzusqlGCQAOQCejuxA8UULUkxIwAmMAp8Wa3qkN/R9W+sBwOhIEPjk5SLr8HeKFbTQfb77csPIMHGl/4MPbReslPhNe4+MiTpi9AFGV4nI7MfvagNQLh/pfrYnDAS8aJQ42A2w4em2cAyWQUuJVQTGWLs1uL7DG9J1RjhA+jvYk4t3KXeMqijpzrud4At9z3XtP16yGfjKZmCGooYh1tZzvv8xXPFl4PoJYC97k9FlwZWD+Azi/deMZWeP13eQCGEyoERudChIjbb3mJYwH7V0QIKuCwj/gfMj0asn2I0FXRSHXfL/iRkNgLyeVj8ccMY//J1fyxzTAXT2+xoQViKYD/1hDqLxPiYxTgSvQrphphG97tz4Slqafnj7uk1kIQDZrvWTw8B3jwEW+RLxPgSiCERdPwPR7+wCPg/gulFgfruDkOMQkFc5x84e708JAMmCuRNBXi4TIg5CGRzGiBGE/D4E/C2r2vcAYJoify62i0aJSMhB+2IHoNwu0fkcjQ85pu3ack5nIBREqneYFyWLkAXIJHESe00Cyx5QyeL6F/tyEcDcrOW2n7fX8df0mME+/vQ/PQjhoy3gzo3AISYf80MQaQx1peH9wb7v2mrtmCBkIMMejp3jIJD1MsaxaMZ8v5N/67INAsB3BAYU4JL4DSo1J15AFPAEwuQHZJzkKfUAtOHLJSOQRWndBYQvCQA01cfnNopfsaCJaD2baBn79QjSTiOEP1EcawIpkq2kegBTNgHWEpOKF8Uwq2NRFPM4AqCf46/rA2U9/uVDvurB01zvAJpiiwOl3fEeciCGF+Ij11f+QkbSfMPfIzqw57mEFZ9Dl3Ps5HXWAYByHJAJKV7N+s0cCQQhwSlfm4lGZ0KB8C/rABgZUS6ZHITBSEhCowUYAAksF7cStWREyxRwtuPpOlgw+5s9sq6OaIJIIlUgEhA1edoTgHxa9HVw5jibZNF+j/9yGQA/7pbujZ4bwv2+cWB6tFo0NzYnkxFA+cvEAo43VBoEo2e+48EMXEOmD9F6xhCE8RwZEJ80VblKvDlmzwicfqy93/o+8K8TwB2jVSgW138FrJQTXBNlnJgmrjZwanow9CBP/rL9wF0jwAGWDtFyoN9PHutnIHT05mPXz93dMGQAPniJsjiBXiTbxDZFMF9NLUPQxKR5qezz1Y6/YZDH0D6GkdAkYJIvRalAdHAMmPZoYhb6NhDWvEyf/ma737CXN7R1ZC7hUbPgcFgqt/ZZjADnM1xqEVhYBpb4CUk5UsL7jQvj///5buDrLeCOEeD+YQchYwG9VIfyg1NaZszFiCH6DkRGLze5/dgk8IMWcMCjdCiCzR8od1B8OTwvJM8JEShFut1fzMhi+eRJr6LI7hYP2M/xVLwKNoZjUTwRMAQQmYyhWGQxsSADOflZ4kukj7PhZ75bETjBpkAGahMkcrGgwhsXeCyBHBj1wmOBQwvAwqKzoFeRV8ZaerjKYAuirmPY/o9X7q5Cyr7fAvYMAftCPGAEoYlBiVtFwLjtp2U4irj7yOANbi+crHyrfCbTquJV44O0F1FrwQGIMZFqdQDyP/gGSZ8TC0ZRRsOlVzzgasd/u+zpMByLehAfCgMQCDyGZJHFCCgLZ2f8mgI5qauEcVx9e5vACTgCTwEMWr5TdIpWKJb5MvrnoocDswvAPAG4VLGg6UKeqmi4iuDz4er30oX0FP7u5moMvIf7W8B+jwlUNAzFnlZCIhvGFRCeWzrgXSSIBreXTFZSgVLHAp4UHOFuociEEsn2PJwl/XEk0dzfSojeerFg1IOo5BKAveIBex1P67lgUzgWQaJwLAKRH04i14ItgDKEtGsRnWx49b2Vkk9wUefTGrKCF7R0JxZMqxN8cmPAxWcAcxGABKEAKPA5u9lEaAbCmKMI+sDN1X3z+ro24wEZFc0VEE64ABgT180PF9ZdBcDb6JpqcPtPk+1ACbmKjJnllwyuILunEAWjZHkBsrsRUnfD0qEiC5IJfyisgMhzWhcP2O14Ro4WbASgAMQJ48SJwchmBCDFa8qpyBbSP7OvU4PQ0p2W7+LSnSJUFOrI4V7w5IoBTQQTfJ6oTSYk2mQcpGRyH2syGjIF6EM3V/fM++C1CfwUExhCsmzCaQT43lZC3e1hBpEHh36XEqrB7Scmq5dV0XZxmV8WuDFzAF9iwhow9seAGoBcGtKjqAc+1l9rLb/1igesO55ysmCrC8ei6IxRMAKTWNBi6Xw98xNTFUi0jEcmpYgRAPhddpVi9OIEPP5cYD4CcLkCooHPwaW9kV+iwWrQHT8uA1fd3F7DFvgUHUP2k8jTiogAqLoxFpDgbMj9jXSuN7i9dLIdaxzBp5XVBMIMgFEnFAPKT9qPd6A9BIGI7MfPmf4U+40HzI8nWgq2PBxL4FEkjKJixGRRFyQQPzzd1iAUzCAQas1YOmAEoFjwkecDC/PAwhKw6CxIkCXwOdVJLxTobMjBdyIgfvimNvNJ7Evf4jWtdnRYD1YNGVuG93VWuWs4Jf+mlZCCZxwP/cnJ6mXVKk2+tK8lQQVHRTGc64SDAZB3Ey3JcxyACkToJx4wHl+YwqloGDICmYmTFgMQFBET8yyYzyAG/AfWX8mCGQg0BTRoHwt9KVaPE/HQ890AIfgWK+CRAaMRYnVdxHbhdY8Wslw1V93UDsmPIj9GxgiAioRRMIJNvoti+SW/Ikd0gwAU8+XxJcbGITJPDvI6XdCFREFSknTB83xka40H1PGF9dnycCxFwygkK0bASJQSVAbAYeD98xUAe5U3jKIwBosSgNsuABYogl3/IwgFPrOIg1Xc4ZrpAsSrvruykl2ucykapkMMh4CExD5DwJfWAYAxwk4MKPAJgOIjGSEGwuCakRhemw6Yv0UUwRf7L00L9pnsNx6Qx4feY4O8pDEcixOjsoTKKpMYjSFYYjOC8Eq3Wnnr0YYS+0Tmi2HysrPGLqwASNYzBnT2Mz2QD91laxLB0gs12GAh81cf/o/OcHyJ+qj0S/zxnhUZbSyYWaL8+Rq2S29wowiWkJPan4MvgrDDGAlRe7KIywDIgR3meEDWg9HbJgApNTkXo8o0i7oVgxnEgFr8F7jEdnU5GvqfJQKQKyEOPlsNIQvyvupAGHS/Okv4qv9oh+PHxMLk8ggBCRxvAmEN+AiEzz2iQfQBeNmkh4K52hJBKOaNe/FSLobLRXCz43rQnu2yi9oMSMDxs2jo8303ERz1wsCGZECF4kd3DwEYYwJjhoNlQrgIjlYodbBPrwMAZfEmyzcIv27gs6XDzC/IR1DOgA9a6DRz4wZAsZ+LYXvQYsHoD4ziOFklna6YD3+nnU6dZ7bGDAcBUImIAmEUw/zbJ1i/scGNDJiLXmle3RhQ+l/aq57gUQCWzwwBKPeLsZ/LFrGg/ShRXAe64Ajkv30kALAjF8R11Dy3K7KRwJcsUTaqWScARou3w/INVnCH+A36n8RvM3nB5XP4oD6DATBYwGb5ajlOLOh6X8JaBKRG77+7ygGYp1bn+V25/01AzBnwQ1ypanD7KWfA1QDYC3zJIj7KgOUzc9nFbetX/r+O5biwNhyX5uSEDr5o0xsJwLp8/m4A7GaJUv/j3/5+HQFYJ3oFPPkho/hNeqBcMkcB2BAA6XrxmMBkfFAci/m0JpwzXw0TXvXtzrz+PKc/Ml/ugzM9MDqCAbz/keVjjGcQA/YLvjoguo1mRslRI6RwfsiA5nqhL5D6nscF8gfTdfxpS+/hLzvWfzMQCoB1Fq/8b3VWaPIDZqsRV64DALsZHVHs1gEvsqFAeBSApQC8pHK90Oql4UEAyvCwNeGcBXNLOPMLftgZsI75ouUr9ousp2TEyIJ/sU4AzC1e+WIFshyAHPZREVwItrrD3wGAhibTYBhxVpe/xePyrNBuWaoNp3DgFwC81O+RAepK/a5Lfe51jxr7JwA83nPXYgq1asl0yX5N48+f4VEGLATlK1vAo5YB1gBSRmsM+NFE57lcfPD5pPFWCJImtyvGgGfOAacBYO59zFglgHgPefZsXV6/gPXBYeC0RVgyJNOGYuJjPka9eHWgjL9bWzhWk0/n/wPn+k8bgFNmgYcsVflZnBRmIShtJM/m7JGibGBoOIIez9wKPP4AcNpylfbNlGfdI+9NjBjz8JVzppckZuJ+dBw4aQ44drk6j1LIY9JkPD7P4s2lwVEGLHwJnncscNIh4Nh5YMsSsHm5ndOu1BGFThJ8/K6JrZtoslST2+XHA6ftB05ZAE5crgAups5TfaL6EF+UyIif3gAcOwtsXep82eIYY9JkXpMgMp/AeZQBC2b8OduBYw8C2+aALQvARgJwGZhY7swEzbNa88IRvAVO1qkF91J36DNOBE7eD2yfB45fqphLnevzdGeBKBfL8UX5/CZgyyyweRHYsFwxYHzRNK6oetSBMDLjUQAWTPqPngpsnQK2zgKbCMAlYMMSME4ALrcnR6JYQIwsoUnjpDRstOLy7cBJB4CHUGwuAtuW2nUDVH1EFUhycSwWjGD64mZg0xywcaECoI0z5P3X5P6nWlHdgHgUgAUAfOYOYMtBYNMssHEe2LgITBCADkIzSJZXpCOnIg25uPrhgnupO/TyhwLHHwSOmwW2LVSik2pCrDsQskzNIBGIpBdGI+VfNgMb5oENCxX4yPRjPj4xaJ0+WGeEHRXBDUz2Mx4FbDoIbJypADixUAFwzAFI8KUJChMV2SUaAGc1cE/xFJef3FYRti64nkqWDrqqEhbrsm5zvZCdPCd8nHzJOLZuABRz9hTHZwPL7LnLnoNMIY2VyaKcjtZLHOAbNgNPngKe4BacfGF1pnydD+hphQ/8XV5UiEueLGnDN1tWXj/3/4cTwAUzwGPcRcFJiDpPt3FLmf5vjwE2HAQ2zPrEzDv7OQg5OSM+ScYQy5Xbo8465u/ZfLTJ7fKHAdumKxVh8wKwealSE6inEoSy2MWCdbUHIghv3AqMzwHji9VLZuDzD8cXxxWZs5c7apmW0fMBnIHKn5X7d6I5npvRz94O7LgXuGIReJSb+Xl1tzqflybwRwqf9i97BQRWomWJQ7oZVFtJoqDX/b/oGODsvcBTATB9gsfGqmzdjtVz+G+PAyamgYmZCoDjFE2anCVg1CeJwOMnTRB/DmUINVkkgia3y08BtkwDW+YqAFJFMD1VAAw6XG61R31O9/fdrcDYPDDmY0zjc1UjivBuAMx1QdMB+WAYXU8dhEU16dOSkppbcHFSrng8MHwnsGMPcN5ypURHp2xMIa7zDz2z8Gn/kVe0YomO0wEwBYKujL7v/zHA6C3AxfOVh58g5AsZxx4fZM7sf3h6BcDxWWeGBZ+cMEFiwGEHHRnDzun7ONHs/djkRgBunql0VDOSHIDU3cxSD4aEajhFXS4H4S1bgVGN0V8we7E0Fh9jVDG6Obr1LJMRwn+kOCaTEYT0dsfqZHXl/p7PrLi9wIY7gO0H2yAgCAWCWCowKrYE8nMLn/a7PQn9X7zIJPPkCcK+758y7x7guNsB6l98gZjLLYet3Ay5n0sv4R+fCYxPA2MOwLEAQLIDPyP8uBg2cRYmzFweAYilKkn+OC8/Fdh0CNhEA4nGA40kd6FES13WLO8v1qHKAfh9B+DoYjU2Ak/js/8NAIwg7OUb7LCC+WAfB4CpBJoIiTRNRmS1l13kqWh3Adv2A8cdqqp1MB+aIOSxWv6pq5D2kkIAvt8rF7BLJksN/jMqfa7v+7/Ak4B3A6ceqpasKMq5akAmlLWY37t8ZW97PDB2qALg2BxgAFwANEGcnI5JcrDZRPlkaXL4u1KJUAfAjbTQ59x6dSvdLPXAgGYshZWR6JIRaXB/NwFI8C1WwLMXzMeSwLfcXuKrA2G+wrLCDcN/IIg4ERRn0qvyySAQX6mG1XuA4fuAbTOVwktRRr2MLCoQyvEZ/UY/WwjAj3jtFJZkU79g1ghkgEBf98+0Umb/3A2M3lkBl/fOcdMok2EjkZyv8773LAfgHDDKjwNwxEUw9yailpwdxBAEYhBbAuGzG3aKkQEJwAkCkOCjlb7Y6SYyf2UwlAS+vKYnAXjfNmDEX7DEfA5CjUcsnzvbu1nDtUMmCDkRZEEyGdlAk6G6lQTSa6m0MP6HuY73AxNTlcJLZ6WOJYC5/CNxLpHMgdKIKNl69Qvu6/75AjHOiTU87gKOOViJb748BKCWrnK/maTA+58AjM0Ao7PA6Lx/xBAupoYDC9okBRAmPdBZ47lNA/DhwMRsxX7mPgl+SrmK5EaRNRslXFQ9CKB9DkADn79cZtkHFkysJ103eBbqlh97DpmTQTYgk9VNxu+xYbXKU3lhFoJPOgdFGY+lPkgQxokkgF9Xgj4AvfoFs84eX4Ke9x9fIC+tRfDxvvniif358sSir2LCj5wNjBKAc8CIi2AxxLCzIAGY9L7AhGIKgpATw4l8wToB0JjPrfTkp+SLQbHrOqm5jNyajS6VCMIpApDAWwQ4LrGgXqzIfnq5cv0vN0ZXHTInME5GBNLb1DGdOYQsI7AfGKFjlgqve8wJwG4T+fuFAFytXzCLb+VgWnH/fIGYfc46Hs7iHC8ZkPcdXx4VfVXJw8+cA4wIgM6AHSLKWZCTESfLfg7WsIyRF3ckiRQ+HACXkwHptyP4KHrpJvKVGnOhRF9eBF9wE0mUEogz2wC+WGI/vVxiQQIxAs9+rmHA6E1YFYB8DJwQMZl0OrLZ++i7sfT8zroYHLS9df4RACWKxSZvLXzG/fQLZqk2gqn2/vUCUQ9UZaM9wDaPeSPrC4A5C1KV+NITKwCS/SiCR/jRBDlLmP7nHynsxno1IPwJSyRpbiMADXzuPDYfZfBTEoAmcuVQdiaW0zwXwQsCYDYmMaDA1wG8TBSvaoR0G77EcGSET6hjOvVApfRPAUN0zjr45JzVcSqiTxD+VeGzXku/4Nr7JwDJOkxFIwt6j6+RqUrlkO4bXzp1gCAAv04AzgLDDsBhKugLFUvQUhTwCEKbnKCw14HwJ9cDgGQ9WegRgDI8XEcVEDvAl7lVlglAgi+I4CR+Zf1mLGgMmDFhBGFfDCicRJFERviSABjLS7FC0MFKMU+07wOPE0kGvaoQgGvtF9z1/iODkwn3VWoEXxres5ib9xx1wZufBAwLgAQexbAD0JiQwJOuJBA68/H3Zhk6+3CifqqwWNMKN8wjKgbk6gWJgC+FMaBb5vJVmsUbV2vCqo3cRWZcCIACoax53+ulkqNd7iqOcU1WcC9cxEm5kQBUdZ+sTnSL/jEtTWngi21jhJNJBivZBukXvOL+yYBkcOqxKjJ4AGgxzMrBVwdAMmHrZOAYF2l6y/mwV6xD17zmWo6MbRyeWtOHwxJ91IIhr6rqZS70DPPLXDVUrfBwzHKr1EUp6/h0T/6L/GcCqslt4IhoTcwdAqDSs7I60WQH6R329pHuFyuXDJmEjuOSbdB+wSvuP5bGUjmsA5XoUvcvBXKKAQnApUdXwah0b8jXR2YzJTsC0ZHB33FL+2yiX3h/1YeD1fFZGT81g/H6yqkVa9YEpqMhTADle8erHA6t7Mh6j4ZBXdBGjFyO4CSIm9wGBiBvgqxwIAJQlXIyEJLyI/i0SkAG/FbhaEr6BXfcv+5dLKhCg4z1C1HEBJ8+BODQGZXfk/quAZC6ketAZEQCTWAU8PIJt0fgwHzZvVWNaKqi7JLOmtDWFy42g1FxH/XfqGkII0C+a0tnDkfsGxQjn3VPsk7tXmuy+Xp0JhtoJosAaFcUAJUYKiYJxcqHqKAH9rPlG2cMrmCUbMX9guMLpGTcCMKDlZGhMK8IPnPIn1X5PA2AwegwEEYmDGBMjOI5whGQP3NPBT7VJlRNaKvF4t2IWHbDErtDlSk1p4lJ7/zd246tglGZryIfrFhQ7pU8WCAX0ZENG+57U14Z4YrCeLrSxXdev6TfLwrbxT7znMrfKQXfHLQCnyvmRIv0Q3430ezMmL98P393G3wqz6am1NYzzoGn+svqRmTAU2citctqAX/2EI8F9ACEmLHXLZGoFxtSl2xyK2bAYwrj6Xr12+1noL/jUTCD9vvFrn6u0v1/nvGkaoVBAQi0eummMAuXQHMWJAA7gCixG8U0gFfcXdlBKk4Z6zELgAJfZEKrxpC1xOIl/+Sk7jkcdYlSco90y9+gK6vJrRiADD0piad7RuFo3udNCgft94vCdrGXn+tujgV3QAcHLcFnroelivHkchEL8ue0uQ74S3eubAITS3IQhKkMRjBMokgWG3L//2z3VSnP4VDgQWxUEEUxAZFHL0eR3HDfm3IRbDHkBfF0zy4EIKNhSvr9goGEBdvTz/MIYQLQdVsTwRTFDj5jQmdArRDYJQNDSs961R3tPhx5NXoVgoxleHnarjohgLec3D2HI492yQNvIwvqO9fJm9zKGbAwnu6FhaP5pFuMg/b7tTbpBdvTz68cz/zI8azVj8iAHTqgmFHXDUB89R2dtaC7tUGw4kDOgFb0R2wYRDGZ8g9O8aU4XwPOczhiwGlMjqqLWiFYGu570wADFsbTvaxg8nkow7E8nM/atfKzln6/1mS4YHv6BQ4+Z0BbqHcd0NwwYbVD3+1yWhXJxPBrbq8AqE/XApSqAxiBV2MZ/54DMOZwKE00rnDUWcR5KiV/brjtSAMALIyn+/mCyeehjIYp6fdrvVELth8RAClyHXxmhPi6r1m8FM0ucgk8+y4RHC1kAK/5XgW+2hZYofafWcPq1B5AqDqEYsQ3nepR2gqhV2yiol1COkD0C+aOaoGx4aL7DQCwMJ7uVwomn4fm7VrX2u/XAlELth+5sHPtN+l/Ap6sX2dCsZ/phZkIJgv9l++1wbcq+2WFv2NXIjNKAPzuw7MUAV8DTuynFIEsQy83RgTAhiv+NgBABaQOGE/3mwWTLwAqHnaQfr9GnwUbARgDNBUlkpzQboyYCyYDYdILdf0l4NduW9kGoa4geNdazLElKoA3Prx7DofiETtC6XvE7hGEzJlpcis3Qgrj6d5UOJoYDcMglrX2+y0NPtl5UZUjkfx/Hqbecoe0OZzdF1gHQrln9Bhee4s3f3Zxm4MvAk9VSFdUIw0i+Q2PaBtISiBSSFgCYMjMW00MP7pwvvLDmwFgQTzdHxcOSGvBg/b7ZRZByWYAlOERluKM3Ra9CKWc0q73dTBhMFT4ZwIw9l5Lrpes+HjeBiGCUOKXeuBvPcKTiEIOR0f+RhDBMYi0Lhea4GTaa5NbOQAVDzhgPB1La5RssV3rIP1+7yy5OAADoAchEHBkFbKfGRpiweAPtMs5IFNokyOGk/7rAYC9OhBFwNXVY1at5tftCBHaWVS2AJdEcEinrDNC+Lumiyc1B8AB4+muLARAXTDCWvr93lR4/Z0Xt6ODFQkj8WtumEwHTKDLQejAfN3uds/dfjoQdatGLxb8jQBAYz6/boxiFgAVudzNIc2/s3xLk1szAORoB4yn+2DhaATAGJCtbpkCYq9+v4V+aBgAQ4i66XtaC85YkDog/zdZvzUgfN1N7a633Xqv6fe9msDIHfNaB6Ay2JRE1AHAEDIfI5nzZCLeN4Nbm9yaA+CA8XSsul6yqV0rJ2WQfr+splCyCYBR/HJyKX4phs0PKBZ0lqOYTpvniAiUAmAd+HKjo1cvDjHgr+3wPJQsVCymUZrPMuRsRBDG4AQCsunyJtFGHwAAIABJREFUcc0BUJlxQoH62q8ST8cggpKNAFRGwCD9fkuvbwAkyGgJE3C+Nz1P1q9/T3F1EZBxvZh50s6AEYC5yyUHXt5/Q8zI5/KrAmAIkkipkyGPYwXz1aRT8v5ZO6jJrRyAvKOvNXlLazsXs9bo/ztc29Pohgotp5J49Rcj/pzfIwGS//3OM4CNd1dpntQpFUmjEH4LYIgnyn/OLjL8FeDGhwJbNgFjI8DIEDA8BAy1PFK7FSKf43cNKrvHx+8C/vmxwMgmYHgEaA35J0StpvvzL/nP8RbLAfhyT207TChgDRiu/ZL9DsfWNABvYzbhCDBKoBAk/pEobGWTqp819hzQ1/0k0PoaMDEJbJjxVZFgDad0SaUO5LksWVj+XScDmw5UEUDJ6U4d0nVbC91S3ovfVHp5al64cgC+k7mZAP768KCA0WD3A/ieLz090CDceVmlAuhBljLgrfcAw6PAyDAwPFwBkCAbItM4a/FiNtERjBl76W9ffD2AbwJDdwFj+6syImRXrd5Y2FjIYcnzWPLEqnsfC0zsr6qBMQmfIDR/pyJ6xMhKyMrSDiKD2xja6TADTt0/AGAs1KcAUCFrOLF6tbtiRVFavT/wuMCa7MfVTlH098YBeBcwNAIMEYAUlS4uBULOmK3LCnwOPANlEIOSoF9+C4DvVoWXhvdWZVOYqWgi3vOXDUQhgieB0EElViMYJ08HxqeqnG8D4IIDkAzo51DKQQJvBKUmKACzbM4+5hUivwrgiwC4LzvjmgCh6nBcgiMTcv9Abo0D8E6g5eCjfpUA6AxoQIzgi8ALmWwC4z//DxcPPwBak8DQFDB8yJPpPZHeGCyC0KN5DFCByfh9/+OAsekKgEzCTwD047X0SCPM1IYQjCv2E/MJoGVwUUQoPboq0MdqkWVn7RtDDMahB4g+P6qhXFpjVtkDtRGA2nKjos7IyOyHFUbIrXe0FXsTuzIYfNb4O2M3ATGIYQOmPn6hG6gi3eUkQQAeAIYOAUOzALMVh2pAlESqGFBAXAYOMQVjxll03iO/yYKRAT0FQXkwZkjp1pz51LO2XAT3KtD3AIAwj4Wg05kfiuUHYlsXAJLVnP0INLM0OYFx78AzcRySeTsw2AJueI+Dj2Fne4EWKz5MA0MzDkCCkAByUWqsJzarEanzj2zXwjEGFHuGY+pYsMojzZL1G9EBexXou339IRBrC3lJGmNDuSHX+w7WC4Cm6wWxm8DngLTImgC8pBcGBuTXf/1fXnyTugnFwxTQOgi0CECyIFlsvvJfEnh0mhsYI/s5uxFYi1xZof7oOqSAawwYjRGBzYGXbtWXaCIrlvHUagX6SP/ruMVYCEbEqECXAMjfree2HgA0ESur1/0vtnNwGSsG0RsZME20/+/XWH6Mugk/yngPAGy5GDYALjiIHIgRUIrsZjM7Ax+BSx1S4pfffQVIep8dL7dMDsTGjJB+CvQxTHmdtrw4l0CovFruC2NOe975egDQsCXRK/eK634JhBK90q2C7I1i+Gt0jxF40k1cPJAB7UP2m3MGJAAFQrGei9iUTH9yBUDTHfU3B5+BOIKQ43BWtNtPcWIOzEZE8FoK9K0DCGNxLi3FqaKA9gTgeoFwPQAoI0OulWT11oEwiFz7cwbErzNxWtEYBB+VY76Vh4DWrH8IOoGQ7Ocg1CqMRLPltmxvs1/SHaP4dcAJePYyyUCRIzrTB8tE8FoL9DUMwl61kQQ87Rmy2PS2rgB0a1ci18RudEJH57OsY02y/+83/sZdBKr4FXQTApBvprGgQCg9UEAM+h9F6ugJDkC3gJPBEvRGrYoYCBX9IxEcS5K4i6cZAHIw8oXQ4mLBb35YH5d7OekadtTV1UZSjaEIPH4nQzYNwgjAHNwDuWGYpZc7lzPfX1cQur5oBorfzDf+zi0yVTuSkuxBI2Q+PhQDIUEnMLo1TBCZLufGw/ixbQa0KB8CTODjPohdY78IQmfDjmW7Yo/doAX6GqIiAtDHaYswSmeMubV81kp11L6hy2PdAcgblfslOKC1IiKRmyRxZgV/8++DS8BFrxXi5Hd/U6MeSKdqEsEKhpBRsgRMbAtuG4KU/+9ry5brzP/lPVMv1EPOQegharrVcgZUhVHFxNPcp9VFtlOWkL437C0WABWypFRGsV0sb5Hn2zYBwvUGoKl10v1knDgo0y7XA8Pfv0UACnjaK33Co9gJQAOe64FkNvtZAHQdjz9v2Nz2GSa3jYej2W3KGuZ9ixGdIVSoKT13B2s5AHkGheST6qn0erHv5AIgAAU+LVfw/wq3CEAV7clBKDDGZG9/5oVXx/oyYARczcqH5GyH8eFplTawFvAtrtXLGpNrQDGbejupB3omlIHQGc/ErzOcGSRs8zrhAbbuL1Tco/JfbLlNwHOmi2kIcs3owbdwNpYtynDQhsFcgvuG9/YapGFvYX22zZcAU0/GwA2LJ/4AmGF9mwEbBu98Y3cMF+uAGQCj2HVp3BbPuo3IlqxAy5wHAq4OfARmEBXGfNIBa0BIsG0ecwC67merHgRpZLwocrWaovuTxew/V0txJQ2DWeae3WAGbdhb2DB4+wRw7w5g8Qpv88liyGtoWHzMi4C9fAEHbBi8kwUKu2xNAdBxaGBLbJdZux1LwAGECYAEm6wyfpelJrEgFnRDxESwgyUxIUsVMwjVy5AYO0bG89Auu1/5BF38KqjBHlUAYXsteNCGwTeWNuwtk4JMkrlzGNizA1hm69g1Nix+zDOBW0aBeRZZGqBh8M4emfWNADDT+zqMjQyESdQFHfDbZECCLRgdHeCTe8CBaKJY1rDnBRCIAuGW4TYAZeFG8ZuMkGiQ1IEwGCJtHZBmy1obBsvVMnDD3jIAerti3LEBOMjGcOpa3WfD4ic9t6oveDtLfw7QMHjnH6wPAybW6yaG4+8D4HIQfvtDIVtLejpBFsVvUI7NIBHw3DUjRzL3rDVtsYPOkAScuX3coNDynT2VYJCkn+PjqvUD8hVbS8NgjphGxcANe8sAGNoVY/824BCBtIaGxRe8pLKZdpMkTvXiJ2toGHzSNHDPScAyq3er4qPyGaNc7JCRXWLT2TjwGmCOeQashq6+qSpZmp8vojQpheF58ncdZVjLnjWPHr4VWKTKxrHGUqq97qXu3jp0wPy+eEC/DYNZsZAO6IEb9pY9lNCuGPcNV830ZmkM9dmw+OKfbdcXvJMPdY0Ng0/7GnDXKcDMccBS7MwdKz8KCAKQIgY0MWGCtr4TOHAasMwOkTqf6unyuLykfd254nkb7qsw/iVg7jhgmSX31Vpd9yRHeLx+zRhjEGRbB6wDYT8NdymyubzDzCCGfpMJWfSRYfr9HP/aMgBm7YoxNQHMbQHm+ID6aFh8yS93tAvGQb7da2gYfPoXgbtPAqaPA+a3AEubgGU1RM6B060fgkRoCzj+TcD+04CFE4BldZdRc4/YxlxgjJMewSiwN1zWfsOngdljq3EmY08vm5i/7j5yIMqpvupKyGoNg9lngYosl9wY/0dZdrMzYl8Ne8sAWNOu2MA3zw/F2CoNiy99XbvftrcLriz6PhsGn3U9cM9xMODObQYWCMANwPJ49UliuW6SaqqBn/gGYP8pwPyJwNIxwDK76ahDeN6uXYCuYyABkEza4LbpY5WEWdSLxjF26/dQB0SJ6r4ByAN6NQxmkWcqrnQ00x1DEDJFjR8CcNWGvWVPp6ZdMQ6OVOCb3wAscPJ6NCy+7PerkP5Q3tBY1PrT9tEw+JwbgPu2AlNbgVkCcCOwtAFYcgAuiwWlM/XqDjMEbP9t4MB2YO54YJFMo/5gHIcALV1TRZ17FXOhPtvgtvkqf9H4kvHDlyKK4l6VzvVSBF22uwjOb7pbw+CfcwBSkyeFEHAUx/yw9JTyEbo27C17Ol3aFWNuAlgIn9QxO2tYfNlbK6MvaxeMRYquvL9rTcPgJ30TuH8LcHAzMOugX3QALo21WXBZLEHwRF1OgHS2eOgbgIPHA7PHAezNu7QFWFZ7JnXJ5rnqxHEulvlzwyVNN3+wern5Yovl7SXLGwvn4riLWO4fgMRJXcPd/+pmOymELEhRzBxJAo9gVL4kwVnbsLccgHEpWi3epocCAMeBRU5eTcPiy/6qtl0wpvhA+2gYfO7NwOQm4OBGYGaDs+5ExYDGgqP+ccAkINaVpB8GTv4d4OBxwNw2YGFrxYCmV0YxLNYheCXau7EhV3ga3Lb8g4+R45uoGLADgHWqhsBXA8K1AZADyRvuvtkBSArh+i9DsQhCOtf0UUgW/7aiYW/Z0+nRrhizoxXwFhyAi5y4rGHxU66qAFhT3rDSIVdpGHzencDejcDBDcDsBDBP1uX1CMJRwFiQIBzxieL3KIY1YW5MPOxNwLRb8gs0aghAss1GZ1O+SFHsdRPt0i/PLHu++dFb/x4mXfhcbWxhfCtYMFr/uWvKxfDaAcg7ipPCvFOVpuo3HrCjYW/ZA+rRrti6TS6MVQ+L4NPH2nx698GnXF0BsKa8Iab4dFZpGHz+JLBvApieqAA4J8CPOQuOBBAOV0CUYbIskRkAecrvAdNbXc/aDCxSpyT4CEIyTgRgneiLIp3nP6fs+a4A4N8B8/48CUC+ZGJA29fpuLmxJW+5h5kNFg2jiWHSi0r0Uv4pCoZsxw8DUfnhd4Vk0XGdGvaWPaBV2hVjdjgA0BlpkQ/K9bmn/HOVqtClvKEBqlfD4AtmgP3jDsBxB6DA7tdbcvYzJvQJkii2n4NOeMpbgJktbYPGACiF3wFoEx1ZMNe/4jnPLXu+KwD4t/5SO/iMBcXuesHylyACMBPDgzGg7opM8mEHIGdwrfGA1rC37AH10a64Yr4APvvOSdwEPOVbKxu+K2pdKRTmdI3dqkPPVgbSTBGAY8AsATjWniBdx0QxJylOFCcr6HBiw1P/CDgU3EgEIMW52M8YkLolQRddIN1AyKWiBretf9MJQN6HsaCPxe4rvgDdHOcOxDIAcmDFDXvLnk4f7Yqt63gEIB/Yoj+4p9xaAbBHeUPM8qF2aRh84QQwNQYcGgdmx4C50WqCFngNsgSvQ+Dxu4MuiawhwIAXVk1O+e/A7CZgThY1dcno1nHL2oDIyZULpBsAFTBZ9pjT0QQgn2V6ufRicS8QRgbs5ZYpEsENDejBfpoLrwAOjgIzZMBRZ0AHoUC+SOA56xJwNlEyTFw5FxBPeWvlzpnbANCdQ1eSGTRybMuydgMggVBsKmtYoC6Mt8znZxsZMLzAxoAOvsh+ydDqtXx4FIDl8L/omQ7A0QqA82S/ERdTI22mNfaTuBIIxR4BhKe+y61punQC+MytI/Zz/c9EuvyBeetLAfGZ5WOMZ9j2/gqABB1fMLsHAVBqhfTcyH5d9MByEdzs+B50Z7voGZX+NzNSsd8cwUcG5ASRKYbdHRNYwhhDIHRgGmO0gFP+HJh15jOXjnyKblVT5Cbfoq+yJOszF8P8+VnNPlICkMAzds/YLxlYznrJwIpO6egTPMqA5ZNDAB6iCCYAyYBcBqTRQ0e4630SxZyQJQIvMJ8mSeLrYe+p/GzGfnTpEIBy6US/out+K1wg+brs88rHmDOgAVCMnrEfxxMte1Mt6j7u9zzKgIXzczEBOJIB0BnCJoqgIfDEhM58SWzJEPGJe9hfVH42un/Mfxl9bgSiBySIBWnAJBDGEDAB8QWFA8wO3/a+wH4+rg4RLPYLul8tCI8CsJmJMQAOuwFC9qMI9g9Z0CxhZz65K0wfFBPqu7PEyVdWAOTHVlTcpxhXHZLz1w0ZA6EDLhkCskRf0sw4dRYC0PQ/vVSRAYPo7QCdj7GqVOSMeBSAzUzMxZcDMwLgcKX/zbv45SQlHXDIgagJc+bjZBqAWhUoH/Y+B2D0J7rFa6LYDRmzomsAaOeKqxEvbWacHQB08JkRIteSXiSBLYJOLB+X4xrzAzY7vgfd2S4RAKkDDgPzNEAIxMASSWF38WsgkuXLyXTRSRCe/DduSZMBMwe6ObTd8JBj24Aot07uDObPP9XsIzUGFPs5+JJ/M6oT4buxHv9X7BeY8KgOWDg/Z58GTC9Xq5FxTXOw9c3Cm6k5fPcjgbHbgAlvVG2tH1T3Oavoq6BlniZ+12n5u/2sDbOvasqoFg8x2Lnbcd1GdhSAhXN+7qMrAC4sA8sORJ6yHwD28z+Ft4fdv8UyqUDrDmCEBcpZ39kLS6aq9l4D2rLb/KYsFTPWdfbvh86vQu2s1K/K+zIjTsXIVQ9a59Egs4Y6sZfIA/EcSp/jEXv8BWcAhxaA+SVgSQAkGAMICcwVlNLlqTc9Gbv/HAA7MrL4+f1VlXwrUq7SvCoyGcrrWpGhuur2fNGYwM8YT67hT3s1LaZvqn5MLM0bzmHMmIFSgdFNj/mIBct63NhFZwEzDsBFgpDPeanNgATfCtGsX9TIKwNrg9tuVkhlng7TI/YArX1VkXKrEe1l2SynN1RCsFJsqnQv3UIMxhwIRjU5AGN9QUteVz3BUAvahuNgjC3HxLAND7nBp/cgONXF5wCz8xUDGgCjKPbvevlzcKUHH2ag6cnYzepYBB9Zi2FxDJdjoXJv1WDFiLJ6MKqKZUzoQFTfj2HmwTKcTpVWvcxHKm6kKgoORAEvVclPD6NdzLXpMT8IYNPcLV7yJGB2AVhYrAC4SNA5AxKM9ryDPE5fs6eeVKWGZ2M3S3MQfEyJUKV8L1ZpJXpVJ9pLilmlAxWkVJHKwIhjjD9TtVXVm1HdOy/pJiaMFRWM+bo0rWl4yM1N7oPhTJecC8wRgAttBjQWdBBGESwgSiV0Pb9DRgu0TY19N+M1mRKh8niqFx3rRDsLqjgl9yaGXT80vcL1wnE252PAZCzAHQCoiqoW3yYWFIt664fUpKaREr1NPakH6XkuOQ+YDwy4FMSwgU8GSRSz0UJx3Vx/5vFNbrs/EiLRY+v4ACITww6iJEodQKwBIyBRv9vwhKzUW6z66TUGEwhDS3ezqusAyNxnJn8xa1KRPSFts9YfFB/QDZcAm78CnDBT5U8rCqjfc3yh8Gn/hGd/MsKf1+QzYJ4891Jye13iy1cAE9cDJ+6FpYrEkidxDN3OtXR+FwBGMezoMmxJLOumAuD4J4rxJrfdH/XCoLGFVKiUbw+LAPQqWWaMMLrd6/+JycSIm85w9lOpt1j1MwAwFTiqAWEUxeYH5ENn/jInUVHeMXQ/f/jRePvCa4DhTwLHfBc4frGqqaNJzLPw6iZxV+HTplFGvZrXZT45N39+HW3TujlZv8D6fp8HRq8Dts9XIOR5YtakgBgdrrrt5Qsq8Ssd0BhQ4HMwmVitAWHAY/LbLDQNQDaTVJ8Q6W4qVB51OOqDZDPVB3TLOBepW5jmqaLbec3jGgBGMSxvvemDYkQ9GoKF1ShUCSKCqBeQrvmfVZPC1keBjXcCmw911tTJ8q5XgOLaQgA+x/OdWA2EGZ98gbjleTHdQHQN+2iwls3nK3/Zhj3VeQhovYzdxmArSwQgDRA3QiSCJUrTnjfl4KozRCSCCeYmt90EoJJbVCk/1+FiCwFZxLk4dRfLFia6x8LbYkD9v9cXtLG6+O4AYQRfrgPygVIcqyhTXcWFOJH8fh3rz7EKwnUArq8mcGwK2MCC1i7WY7Zenh56feHT/jE3yliE4TZncd636gPFCKWavGhcRx2J+cvs9MlSw0Ty3cCm+c7n0G0MExdW4BMIbTXE9UCynvyCCX+Ovm4gbByA/xisVgJPpXrzLj4EoRJjJIZrWHArS9iprK+KcefgiyB0XVKGjOmCmW9xhRVMUSyRFnNeFGEdI2q+/HFXclkp9WsAbgTG9wGj08CI64WxRk/OTDcUAvBHXSLQxcVCDMQSWbzv+1e7WVbz+k5w2tJtsbcCYV6WJY7hmAsDA7r1Sz3OgOgoM+KTOJbcjSI5yGIaNE1uuwlAAU/MF+tF5/0sIghVLdVdM2S0bSzHx2Mi+FTxXf8X925NC4BycK8QwfmgVX1LlcFiykEMcL2BndJJ7aQfijKfxLGDwAhByM7aC5U4qwPzNwufNnNuOH4VZaCPlPo2AahqFqoPVFc14ga2m+WEEL0cAz9kdPrOmMu8r1o/rTsXz7f9oswFs+jO6LAqkvC3Ggg5Fg6mwW03CUI6X12h8lyfcz3QHqr3DIl64DbqaQKc9mI87QXACD6vpJqY0EVxz2CEyCI5eMSGX2e7VtI5J4yTRyZhscrvt1nQuivOAaNLlYESwcySgiVbr37Bfd0/u31yEgg2FVaiPCeVOguqAfGov0iR0R9JABJ0bnwk9nMxw+fOh55EbgRhzozrBUA1polN9CLwok5HEEUQBjFMQB7D+j656PW+IrJ8O/bBCo4sGFdGejqiyYCx3mKe9/JtTiBvmI5OFiTisg9LtJFF7gZGDrUbHKs79+hyu5hSaUvh1foFr3r/6vZJCiXgCDwVVFJ7MVmRLsrGltuFCc68yFdACMDAflwR4QM3HPoKgIExt4gz42SuaQb8hBOE2oZmlu+KFlKR3QSssMJxDPWbbjpfLoJrxG8CYT8MKGZSVTCxYFTIb84nkCxCIPLDiby30gXFghaF4c2ReR466Uu2fvoFr3r/fKAEFxvpqMcd9yonIrkuK5LLV7MVCM+/uDJCyIC2J8a0z1iwqyESgMl15Sa33QKgmtPEBnp11mwuXgO70Ud4DHWzfgDYC3zBEOk7HlA6XKyHQzb8HgGoCSQLqsxorIy1Bxie7Wx0rFaf+wr9Xv32C+56/7HbJ5VHtRYT+GJrsehHcya57PyKAQk6+vBkBZPpjPEExlwU59awg3C24W6KBsC6tqHR+MidyVG3i3rdAnAsH2T093XT+zLr197MTA80h3SfsZP2UqpCrPQ46oF317VrpeiKXTJ9MhMLkgGdCacKG/mupV9w1/vnwyGgCDCKWzJe3lqsyzLWZWe6/kc/oKzgKH4jC7oolhdC4jiuzM0WPo+cPQ2AsX1obFCTO5Jzn566PwbReiwnfTWjI4KvDoh1juh+aT+WKSYD3i8Aql2rJk+VsVQly5kkddv2FvHT61icqO7Fr71/IkLNXOi0FQjV0046oBy6wZ922Q95ICqDEaL4XWw3COcf9Mw73DFB9AqE6wZAAS8XuzGQIDKf+oVkqxt00ttAc+YT0PJ9qRFSB8xoye5Xu1ZVeCSgCLbYLVNswoncHxoeLwCzBGjBNki/4BX3z9lXgUCyIIGmhova83cRgO5Te9yLgP3MfmsBS8xs8/U67ePQOqy9umBUruDchqo8sHSd3PMfT5ifo+ack8eFHI6QEcnT5GvdOnVdXof+ptJ+BVPWceiaRHA8Us/nkACo8mzqlqmWrbFDppT5A5UIZm7CPA2Vgm3QfsEd909kKIqB1qJAKCBG8ZstZz3xHOAAiwmpDIdng1maZQAkZzsHZ537YfQrwNyxoQ+HakrnS0h1mUA1C96TdJTmORyhC3oeqdwROi+GDhkFI6bYNrcNDEDeAkXwQizPRpmnIs3OdqZPSaRFUcbchHlgie6agq2kX7Dd/+d8lUJVXuUzk8ERmS+2vfd4uvN2VOV5rSwb0y3JhgIh9wJeN3YMQCIgR78Q+nDEVYBYZUrUpbXFnM7COSdf7N4IPvtDnT2BY/h8Chh10MXQeYGS+7GGjaQiABpuNIFiECnzdWJMIUHcazLptC7YivsF8/7FgLFMqpiQL5TuNbKfA/DC46rqqAbAwIKWK+timRUBEiNGsOQsyQm+Gpjd4n046hbT84KPuYjOmHHyp92gcgDS2OoIuVIeh/xyUkaVwyEWdLrewHE3uBUDcKIwnq40HpDXL+n3CzbaKdguel5VnFJl2awaghLQBTzteZ0cjLq2A2n0M6EPh2pC57Wg41poLzZsAZNso0Hw6eVR/J8bF9YjWGmVCpGKwQLBRCcrbiSxNLgVAxCF8XSl8YDHHFPW7xeFBRwv/rGqOKUBkODzqgdWPYAM53vTASMQu4Bx9J+69OHIF+N71F1O1gUB+AsBfFqKC+4Wi4BWX+CYgOTAU36wdMVNVKka3MoBWBhPxyiuko3xkSX9fvGMkqsDlzzHC1N6SQ4DoINOe7KelWWTheziObeKCdARApD1AdVnRH048gKUAmAEYi6Oh4DJV4VoGDWqjq4XLbO5o1jBoimEPhPJmwu9FvnTLgdgYTwd2wyXbMyRKen3i2eXXB245FlVYUpVxUpGiLtmGBlrTEhVUwV8dEkVKAq3MHJ1uzRbRx+OOgDWFX6MsXJU/36lJoEoA2AKvw8+uwTEDIBbStdOs8ddDsDCeDom7ZdszBIs6fcL9ror2C75US9IxJJsEsHdGFBil4yYuUwknofJgF4XcEUfjrz+X7fKo4EJJ//PkMORO6FrVjQMeL5kJhZMMXzLwNZCt1nzDFgYT8cQwpLt4hDON0i/X7ys5OrAJVe0S/ISgFY7j9ZvnQ7I3+lyqpYaL98CWp/N+nDkZdhi6bW8An1kP3fRTLKVWlwF6RZCH2L4zDDR0k1IqeTNb2OQSYNbOQMWxtMxeqtkY6I+ny9VEz6btfb7xc+XXB249AoXv85+tIBVgJJ6n4lf6oV+mfjdDJNMH0wAVFX90GMk1f5TxlS3Fggh92DyN0IORy5665KIfCktsl+K3VsGtpVOWOMiuDCerlSnjQ2rB+n3C+pIBdulz8wqonrNPLKgwKaC5B3s53qhXVq6oDNg6sOhqvqhEr3V2VNLBjmnSSNdrOLJ1zkAu6VPRjFcFz4fXDJ8i45hG94Gt3IGjOFYA8TTlQZ/qGH1oP1+8ZtlT1MAtHK8mQg25zOZUSCLIliWcbw8wfW5Ln04ssqnHX04euiCk6/3de66MPpuAQVZAEFkw2MKFw6a1wEL4+lSBvmAOMhD8vkOkFX77feLNw14YT/ssmc4A6oOdHBEkwXlgjH2k4Nal6wB4fIuX9LzZjAmorNeHMo5Tc0OewHwDTUh9HXxfGJsYkAbAAAgAElEQVS/uvCpoAcew6zBBrdyBlQwwoDxdLZWXLDFkHyF8xGE/fb7xR8XXByAAVC1oB18HQYIT+8uGfP75SCUs1o64he8v4j6cIQ+IqkPhxrBCHjdjBH6AblQkAeY1ondukSiELmsUPpjbyp7XuvDgAXxdNZVvWCLIfmKg6Bbhrjup98v3lVwcQLw8gqA5v9zC9jErutltg8gMxDWWMBaMVkmANWFyEV6R0uH2I1IzW7ypbkQOTP5f2ch9KsFkwp0kQlDAOmxzHpscGuGAQvi6VD4RgmAg/b7xZVlT5MATNXwqQc6KGwf2U2uGV2uzg3D4ua7fDnPwZcKgIdq9GaIBPZb0YdD7hgyIFWMXiH0eQ5vXS5HcMkc++9lz2t9GLAgns7KxxZsCkgdtN8vWD+vYDMAUpcja7lOR9eLVcIP4tcuob/3AOHCdW02VTX62ApB4Mv1v24gnPy9HiH03fJ366KYHYTHsgBBg1s5AxbG0+HLZaOp65i+ln6/YM5EwdYBwGj1cmUkE7+8THLNdAHhwrUOXtcrO/pwhF4cct2oN68BMDCfmsJM/n6PEPoYPp8bH3kCkbtjji2tJJA962YAWBBPZ0WBCrbYsFoOf9pDAiENk179fkuvf9nTXewKcBSjsn7ldonWbgQpx+26otaLIwAlfi2QQSJY3Yjy5i9dmsFM/oEDMM/Z7Uf0RiYUA7J+ToNbOQC3e0WBBm9qLad6HICG1ZK1XB5PoxnuOOIcxSXe/Of8xHV/P+FpwN47gKUpYHmuSve0pKZgCKSq5wqniWE1WZz/xouBm74KTMwBI17lVBXwtWSs+8/vL45Ff3vhpcAnvwos8d48DZX3M2hx9XIAnu0IIO0chu35AOgLL0yuG/jOmwbg028G/mNz1YWdETbm4I5BrFlov+EtD2wIo7l+Atg8D2xY7iw3V5diEqO54mnj6XdMAYcU+6gon7A3NSO2qFjlyZYDkAX6uD5Iam44YaUfVNDNxaJcLIPXcGGpfi6PnZdVD1wPspQBX/wl4OaNwN6Jqg+xwrxslcVFuYJblehkcYYZGPS3L20BxueBcS8nwg5H5kZkx6TQSbXFZcCQKadx5Cz5mPurAFxrRaa17pAR2PFC+ElSHKQ/0QjQcgCyGyM9v3SnsDBRJgL6msWCf6IfWeUJac8UFlpY8500DcCfvgb43hiwZwyYVhd2D/VSrKGAmIDnBkiafEcN9cprHgKMzgNjS1V7rRjRlceyrqif6KAkMgXIM+6tAnDl+zSL36O9+U8p9jGHQo285/2XA/AnXeNnKAorDXH/AILwbSvLEz6Ql2+cAf/3XcCdw8DkKHBwpOpFbE2wadzIdyh3jjNQirYWEwYq+/zJwMh8pf+xKNSwM6DZMmzNRRbM2K+2Ii6TlFrAWfd5V3i/F7IgT2LBF5LbIdkqxLPWvtzlAGQ3RpU3Y7AiixMxLOUB2t7pKQ8M0qCTnp8HkojJgNqaMEJesQv4AR3Iw8DB4QqAs+6SWRiqgJgY0HVDAdBA4Ba4xN7ndlSFAAjAYX4IPO5dBDMAdS2i+Jx7XTf1eEdTDfgAQnR34p/wQkRmjNAoByDT/ugFphXAmjAEn8qaPQAgZCs0lSckCNmVigEbFMsPBBE3DcBX7gLuawH7hoAD7EM8DMw48AhATrjtQwiXoqkTEwWd7LOneXNCbz6Tiq/TInb2M8ZzIFrTQbGiy92oGz7pXl/7jvdAJnb2470IbB3T77Sai+hyAP5voTqW6sKwFAc/TAdc5+3dvcsTrvPVYSK4SQb8xV3+6IaAqSHg0FDVh3iOIFTIFxtit9orL5Z/LD1Q4s+B8OnHVuXwhhdd5DoLGsgCCJ04q66X/Ju/vSaeAxDPvbdtmdtKDV90gVEPIl/xySkviOhmAEjrlzSkwj40SlQZYZ39I+8JBMx8mZryhOsKwqYB+KpdVSDFvhYwPVR9BD7uyX4SwRS59nNI+bRck/DzJ05v12M0nY8fAk8iWL5BB5qASPGRCi8EVjzv3mqpkC9ACrrwhKukB67GhpqRRowQMqCiYbj8oOoHeUWpdYIBAUj8c8WjrjyhNIJ1unzjDPjqXdUjJAAP8TMEzLYq9uOHICQALe/EwWe+QgddAqCzzD8+vgIgg0qp+5nYjaDzCgjmnCYone0klqP4JSgvvK+6LoFPoFMlkPGh+0rPWta4RHTNJJQz4M8EAGoNTPVU8opS64CC9zoAWTFChcq7lCdch6s3L4J/2QFIEBKA1P9mHIBmhPh3Ai354RyAAmWsR/PRs6vOR8Z8FMPS97yxtIlYgVB/I7jC0rIKSfLXF1EEB+BFFjQ3jCLA49OWsRTTEPzvzQEwry7VrZ5KwzAQAPssT9jw1dcHgCrORQCS/bgn+1HsCYQSveaHkzvGv1scgU/6R55Y1YIxhvOm1EZekQWl8wVDxJgwc88QiJc6AKX/meHDawX9z16M/Em7bO8Q08GBP/jEkAEVjMBoAFWXUjRA3KtNwOBXW3EkAZhrALktpC6lKtTV4OU7RHB+3kHWgv/zrnYZl2kCkF4uF8MGQGc+MqEYUCA0n1tkwxbw4ScHAHr71Q7W4++c8czwcBAmHVB/c7Bcek9b3FuwbdD/kjGWgzJjQ3thGmVA3jhfOyU+RxB6FamOFp8NrhsTgLy8Cpzm5QlVptAU+6CiNgXCaIQ0BcDYV8b0P4pi30vfIxD5+w72C9aliegW8MHzqrmh/meuFhYi0pKbs6D9fsh/n1XFMrYMbPgUByCZz6J+uEknDA9AornWFRb01WZEsACoHhOqyC7wdetT0QAK2KqOb5MCUvPyhLE0oQxzqaYNXL5xBvyVXe12vByLADjXAvgxBvSPGFGMIjCmJbEW8HfntxtQmxT0cmxp9UPAdKAZ1upA6EB7qgDo6oCUxXRtPVSpAwJpnUhuxAqWCCYK1MBExZljY5S8SYr+pxAFAuBayhNG26jw8usCQLX0SAAkwwcAEngyQizaXoziIli+Oe7/9kJvNk1LmBMe9ECO3XRB7aPeF0EYHNVPdT8gj016YBcWtBfBVYJuz7mF7VgGY/pO8f5WdQ1/7U67nIKNS7j0wIbDPFZsyNHHY7od/xdlEHj8CcC3TgCWHgGAPSxiSdt4312u/8SPAl8/Dlh4pDeZW2PD4J1c9+uyDaIDkgEJQKnTfG/N8nUAmu5HUnMW5ARbPfEuIHy/ACjRK7FL5pOR4RaxgTHofKl8r/S1ZWBnAGDKefbn3AFIPRPXB7sFiVQimKVgGdl5ooNwLQ1/1U+DQGSXQ9r5Evy1q9rZbP1lGQDZsPpzI8APHgXgod7qUx11YtBbFzC+/C+BL7SAWwhgdoLkONSLqy5oLogYft3ZI1F7EAC+phsAnekokhP4HIzml/PvthQWmPB9LJ7jxkcSr14jWj4/0wFlgJD5eoDw6fe4DzAYPHokWhHJZ3TFSkn4h7YOSOBwEtiMTv1aY0uktFYTmI2/43EMQmCuAJmUE0gmVD8EFdPpdnxhVhqzDr8F4NMtYM9Jfg98EVTeNu9Q2OFZBX7vr9vtgm/lcezczZ61ZNN8DCvilYCdPXqNDQpAlfGTKm0M6AA0PTAyoMSx64cRfPQHXsniOTI+fEWDFGp+Qb9BeySRBV2kpl0QxxGAlHDmkI56X6z+EP7UDYSdRgh/IouwIZ36lHabBE0GJ0r10Rgb/xA/tt/j/6aMAf+7R4CxzuBXWRGULwBfIrY6UNfpvLae7n0I+LO/reoLMqiVMbW38oUhkNkQIzZO7tIweGePcmWlAFTjAYHPVGwXxWoLYblEDkLuTT8MDPhXLJ4jALpaJB+ggU6xfgJknT7IKXIQXh4Y0FZCog+wxiUTwSkXUbSMV1rB/A31OXWuFpPUda/mRHKi1e6U+hA7Zq7l+A+UAfDtHg/LrptkQpZ727cRWOL9542Pa3rOvuOqagUltgtmJM08j4/PILbIDKz6w5PAHsbraTnMGdZWIwIzxIfeK0rn578J3LAVuH8CODRahV/FFQ/1IumIvXP1QudNfyNT8oVqcHviPcBd48A0g2RDuoDqHdb2SalZAdG9dnfDkAE0gXnH5ijWCDbKCq5/MRiV0QD8HgHQ63jG0hdsLGxA3x9Bw1Asli7hO3BwApgng/Gjvq01IHrXJ7q3Cz7E++YziF2rs1ZLZ+8H9jJsSoECWXj6igmR87aLgfbGq4GvbgLu2gjsHwdmCEIPSI1h+SkCRjpfUC3iNWcpoRrcnrYbuGsUOMBo7QBCxSTG/igxVcBIVGPWM1h1JYQPnyKNExGZMDIJ9b66eEBGxPDY1Y5nv+GCjfGAxD+DDpiawphABWZPjwNzNLAEIH4XCH0M7/5c93bBfI8Yk2cgVAdvdT10ifDkBWC/r9lGH51NhIsnsWHOfPmEUKT94WeAG8eAO8aAfWPAwVEHISNQlKQUglJjJExqC+H6Nq93kOpUg9szbwLuHa66QzFWkaFieXxi6hgVHOMCYGRuJ+5V4jYJIDKI9KlsAvFDq8QDrnb8NWVPh9EwdFkQ79TlSMIsN0Mi5s9MoOGno4U6f3YAvefL7Y7rvdoFLxOANSA8f7xSgWmd0kCQbmZ6mTLEnJ0UqWLhUkxlrBn6n3wWuGkYuGukCsufGq2iojnRFpafsU7MDxErJuZhYCsJosHtWTcBe1oeq+hxigJgXBrMmTBPnJKLrr+VED54ibHYvZos8sO+DNcrHrDX8YVVyglAKud0LtMjFPtNMz6QLDY7VomLJd671AEH4Xu+3g7nWq28ISvX58/hguOBg8vtFQvV/hEzxfqOevuTfpjri8vAWz8L3NYCfjBc6ZYHmBcitnFd06pxyb8W4gPlgonBqffTtdTg9pybqiVNBssyUsdUD7eGO9amnf3sXtxQipl7Wg/sD4A8AwHIyZMYky50Tp/xgN2OL8y051qw2hXzwRCEdT2nmck1RxHG+w5jeO9NFQBpR6ldMIMXlFWgVndqF2dVFsJzuOgRwMElB6DcI6rznemD0RnbwQiSRS3g7Z+tVIl7PC9kahiYZm6IizuLigliT/VoUog+p8P9l3wJ7qGEanB77k3VczroUToWLCsABud4ypaLCUoxf9i/9w9ADiICULrQRWuIB6w7nuZrwaZwLBGwClSqSyz3AhHbaRGEFGOmC44D72UVgjW2C2Z4lIF4ArjodODQcqUGqAxfcpG4mJVuVqcL5tbs2z/veV0tYK/nhTAqesYNHdO5PCJZos+WuzxHJIViuXFyJxupNLg976ZK2lizUKodilGUgzyGhokF8yw5Mf+qRkjdjfuDtwkkm7DTkNaBaQ2ox1q3eMD8+B6O3H6em8Kx1Ccx9ptWl9iYIUAAWrI3I3nHgPdOtsO5eOuxXXBdj0V1vOL/so3Cxef60tlSpYwveKf0pAu6ohfdJ8k4CUqgvr5jV6VGTBKALeCAh+VbZLTnh5gu6D44A6H8cVlkNK95O1WkBrfn31R5HSy+JCwPplAxRegE/2T+AloGncNmbQyogUQx/KwB4gHj8YWNTwRAOW0FIIIndoqNkTAxz/bd09XDGLBdMM6/pLKi5whAX60gCK2ujxzEAqGL2pQ1Jis5AJEAFHvTujYAKjRf+SEugm1d2COQLU/DAwQ44caEw8AtZzSIPgAvuKkdrWMM6M7xCMBoiBn4YpCE2NCfxWAA5MEuwvCCEICwlnhAHV+YORfDsWJGgPpMKwg1b9QpFnzHbD2BK2JGul9s8KkYW17vLALQRTCBpzXZpS4gtCXXMAkduuAy8E7PijPWprXJ5CR38ygw1fJDohh2BlRAgq2OeN7uTWc1D0AFNtmL54ESBsCaJcLkDajxj5ZXRiCIGA0waDwgjy8sk5+HY+X9ppUbJSCp6TnFCMXwny1WAFQ8rUAc2wUrRL6mXTAefWnFfnz3FpbagQKLAqAzoZjAKkkpXkNO5GCEvOMLFXOnnC4xIKOjnQGNdWSM+GqHQGd7JSsxUf+JzQLwhTdV4je1nQvr1MkPGtlf9yP2Dy+gAqZ6rQytfvdHSDxgLwBF8AmAYjHWluEDiKGMiqOVvtejXTBOuRSYJwDJAARgZAGWL9Nk+IM3SzgTydE4eec1nZHbtDaNAf1Dpd/SMx2END6kD0oXtFhBXmcY+OY6AFChnKnzl7NfdMR3qCAae2B+VVMYXASvDs3/X/zHJZcB84vuiqABEo0QPnhnwqQLyRURmZBPytnwHde0M1vN2lR6picoKULaxHDIEdHkW2iWg4/7b5zb7DSQAVd0/griV2JYojfpwRGEYsGBrOBmx/OgP5sAKANkcbFzNWTRnX/GSGImMYH/LYlk+gGvdT+bW+SWH+Ig1GqL5QeTtR2EYj5LVHfjw/ZDwL8yJ6TB7UU3VVoTjTYxYDK+Ivv7dzNAZIxpZSiU8jjKgIWTcykZkBawDBBnQdMr5QeTKI5iWCB09AmEb7+ucnOQ/aTPWn6wuzyS4u+R0Ob6CUGqJpIDA97AdqINbgRgBJ69CG4Jp6q/ckjXqB/RKla4WpkO2ODgHoynigA0JiLwaNiEt95YQKJ4FRC+7brKzRH9jZbN6iJYuSHm9I5iOAOhHNJfZkh+gxsBKPbLu3+JgaWDdojhMO5kkDWSlNTg4B6MpyIAjf3IggJgMD4MCARjFMU9QCgAykhSKnUCYHB9JB0wy5aTRUxmup4h+Q1uAmDs+hpXgFLnB6ULONOn5xACNJqxghsc3IPxVBGAiQG9aLeilWUJW1FvVXEN0TKp1C6At19TMSCBpz1dHtT/JH7N9yaxp6QkF73KBxYIr10nAMproB44qQGTj6sjUrtOFPtLeFQHLES9AdDFrq1E6M13MaxVCTNAXNFThIylLcor40zxtgDAPKuVwDMrOKw+SBTbtR2MND7sZwC7Qvm4wqHa4T/uIrhb+7n0EgbQdTijoyg+agWXT8llDsAFWr/B8qP1K7bT0pvtVwHhW6+t2C/m8svvZlawi2CKe37nhFtapkDnILRqBQA+v04AjMyn79EIkXO/DnzyCBwVweX4wxs9B4rRZgyPVFqykgDd+5JSpBU5r0vHyHz+jsc3ub0KABsZMCyQgeExKyFPVIz3lmcM6OfPAGCADYPE67Jfs6h7G0o+xvi7oyK4cLZfOgpsXwC2Lq9MwuuVERonKn4nSJrcXnQKcM7dwMMXgYcsVxkSebJgzOWPqdB1ad2f3gpsnwK2LXWeR9m3danUIV1lBSCPArBwtp+7DThuBti6UDWDmWA/DvXk8LRptfPtNUlihYZTOPCi04GH3wFsnwGOW6iAs5n3GeJJ+KLoE+9VDClQ8R6vOQHYegDYwuY3S6H/iJ8jb11ck0q9Qhoc9QMWgPBZJwFbpoFN88DGRWBiqQIgWyJY3lPozaGJ1KTEPh36zpTkJrcXPRE44S7g+Cng2DlgyyKwaclfFoIwvCwx9Zn3Q1DmIPx/2/sSaMuusszvjfXq1ZRUElJkKsBEGQyYhJCBSkUqAW1tsBdpuxEVaBzowXZqe1g90G2LotjQdmMjKqtBxQERdAWUAkUlZNBGkQRNyIAEMAkxpFKpqjfUG3t9//m/c/+737njPq9uVeqcte66b7jnnn32/s6///3v//++Tz0dmD0KzC4DM6vAFpd/0L3Gh6yTDgnvLwKzAWDGiH/ThcC2OWDrErB1pRgQisIQhAa+AED+HEEY6uNLyrRnZLSl6tSbrgLOeBQ44yiw8ziwfaV4UGbdegmA5QMTLFlqsfn7XecDW+eAmePAltXiXnkuZSBkRcm4UGXtU2uo3xsAZgz6y54JzMwDWzkgBOAqMMVBCSAUObh8QuN/CiTgcWAuyWhL1amvvBbY+VgxbW477paa7gIBqCnUrbUBiQuhAKDUot13IbBlDtiyBEyvtO5VDxvvVfxW/JkWNFrCeK8NAGsY7BsvKQC4hQCkJNaKy2LRIsg6SJ3IQSe1onKKC2CsOYMeN+0Dtj0ObDsGbFsEZmWp5S74g2Ir2uA22BScAJGA+dJFwPQ8ML0ETAUAkgDTPq9zdK/+sMWpPF19NxYwA4g3PtsHxAE4SQC6FdSgmGWRRIJLZJll8EGKjHiX1jwaN10HzD4BbD0GzC4WrsKMW2pNobZoCu6CLCDfCTqzgg6sr+wFphaAKQfgZHKvpRSYg7HN5XCL2AbAZwPrZGaj6ippXhgn0kqmU1woxnHedg5AATuWHig2FE1uVRwoxoX+Wcbg89S3AqCKPONcCi8oPtVP+9++G3j+oSK2xRBFDElUxbTS+3nvc4FpDsjxllXQoJg8FgdCQoGJJTTicLcQ6vPL6wbg9cDM4cJv27oAzFA5ky9/UOSvmg8oP86n0dICBn25JwjARWDSAUgBHN6vfdbv10AbARh8X91vDM2ss+NvAECKPVLCsHoyUgRqrlbnRwB933OBc+4DXrIC0IEmiLnE75di8HsyAcjzWUVGUi6uICMpVwwJVMXdeOk3XAxc+Hng+vV2esAYw+sWoP31r3eLcLwQBeQUrEHh4Jo2h4vDmJPuAyMLGAeEn7uqbgB+I7DlSWBGCwe31Gb9aL20kGDb/EGRxY6WTz8f2wtM8l4pgL1SgM8esHCvsuylME4nn9cfQLtldg6TZ0kUKorAfij23vAPCmqp3fcCl60XFINid1PlZrf41/dnApB6wSQjutUfIDJR8CGIQOwWEH7DywpKrWc8CFzqRLHkVYrB2jS2FQH5vkuBycXCAlIUUAAkCM2iRBA6+ARCe7DjYmQduLYTleiQ/XTTS4DpI+6nLhZW2nzVCEBaMLd+soIGqjD1ampdugiYWCpeBKA9bBJC9ActAk8LES26SqsftInLZ44dQif4Igdhym5WLrPDyuYH/7HTCNwDnPko8LXrBccjQaioe6BiKad3+QY/MGTH6rS3OBvCnQDuAIyqhiDkQ9RX+29yE3on8IwjxQPI8zkTiApGU3oVkD/4fGDieAuAdMw5MFQjEgg1DYsUku+a3uI0TGBfV7PotwHwaOEmbHEATvuDIutni6UAQoFRIFRYhfe/dhEw7tbe9Of0Si1g8HkrwRcevDajz07gIJ7n05rYyWIpb4ya/7vv8PRdFpj/LXDmkQLAnA4jCCOlTBRN/rFMAJKgkkVHpGUjySSBSFeg7/azqk8EgbSEq8UDRACLKDXSyaQ7Br//DcA4LSCtwnKhTEkQcmAIQhtM+Uaajl0uS9NatITXWzpzfcdNB4DpY+6nBgDaCtanYLN6fCj4u1ay0QIqtML/EYC61wSA9tAJeP6eWsAoDysFpg1eB0HIQRCIIkVeCqQf/05P3WCB+UPA+CPAzvmCaFWDKEuYcl1yMN+Y2dckqGTeHPEvvWDSNhOAfbefX0A6rS8CUw8X9066bFIfdqMHJID++DJgLACQumyc3gyAEYRRKFCLD1eu5ODLF6QvXedx0w3A1BwwxdAJLTXjd8seQnGrZ9bPFxLyA7WIKON63tYtCQBN/sv9QPm6BkLp0vl9t/m6ietR6fbyBA4gnXtORwRRpNnTtPpW6gWLH83lKqcOFTEnDiKtoHwy8RNFhrefyeztbnrBfbWfgttsP+kIyO32ELD1cHHvInrlvWs6TsnB7qAUlg/suFtAWkE55zYQ0QpqcALoNCXTEt7A3KoaDwGQfqoAOEUBa7fUbKctltwCajVbxvSiyvoasM0BaBKwwdKb9fN7NfcqBWGiSWykWXER0umeacUEonQgCKRfIgDFjya5yq8Wfsfs8dYgiuMxgpAg/vnMzu6mF0z6Zj5APdvPQec0TEosnvQosGOhaLuIYvnwEYSithE52F1XFAA0p5yigD4otCqygFKnpHUpLYP0OcKURYv6Mj4MNR433QhM0gL6QongawOg+6rl9CswKoSkEIxPyTsuAPigCYBmAXVfYcVf+n0SRYw6dP1YwNgHsgSajiJP429RrpWOM6cxDiJB6NINM4w7LbUGMQUwB/M9mZ3dSy+YVG0EoBiDBST5ddZ+PkCsAiIlQZDa3LVatJ0WXG2PbL98AB+4omB3oP/HgTUhmGgBfRqWf2TTrUSjExDSP/qWzQDgfAFAWyzR8rkFtDAKX75jo6nUguZxZ8NByHbvvqBQ36T1swcsBaBAGGRg40Ir+rt9WUDhQ5ZAU7Es2e9LLzglqHRxNkbeuW+oQRRls5jaMjnK0a9ecNf2R4LAwO829kQB3LTtEYQPUwzQAWgW0AGo8AQH0ljp/V17pm0KRcEifGuNOnocO1rACQbKPXhs8TtNwVr5uh+n6Zf3wDgu29g2FdMtOc8B6PdpFj08ZFrplw+ZA5FTvAQQ0/BT36FPDkRqBT9Jag7xYlQItY0f88j78sZzCcKPZlrAQfSCK9uvB4h577SCotUiEJ8opq8IQFl/PUBPEoBLxbRE62LSqG4dFB8r5bHcOtiOQSqT5T7RKzYDgJx+BUCCTxZQCwhaQc9oKcEnEBKknj5FsJ1LAPo9xoWWPWDy+6IIoqbeaO0VA+zHB0zxIQDKkn1GgtXiRxMIAx0Vn0Db+lkuFjLRCt5WEwD71Qvu2H5OfekD5FaciQay/GIbFgBXriwAyGmJADR1ck3DwTE3TQ4B0LetzBJErTYAr2BBSI3HTS8tLKBZPo/fWQDZp197Z3scjGb5BDp/L3+njMweB6B83Gj9wj3atOsPWin9WgXCFlVO/3ctf4iD8XkBkH5USlAZlNPZAQqARr5vxu1yjmH0givbX0UQKI63o0Wun/xHuR8E4VnPK5JQLd4VNttTBvK2uoiKOUf/f+GjwMNBh0NMV6J0c0NpcRv7mrYv3kh8/uHxYp+bVpwLp3R7sts2YzouSq3KGa+q7+x7Co4nazAerRKsVlV1QitF59dyyFZaYY0HMu9mWL3gtvZXMbymBIFMZ1ov2h0B+LTLisxgW+Eq5uU92iZ72ud9vvR+4JFp4NjkRh2ONi0OB1/UBCkvEYRhfuNs4OmhhiPKnFQlx6aAjMnSXJUAACAASURBVPjmz1w41nnwO4cCIBvBwZgTAOUHRq3gyDExD4zRGVYEnpm5LqmQc0M5esFt7acFl0SlHiBxuTkYxxdaihUC4QVXFu5FCUD5QtJl85sjGA0ziQxqeu/fem+hw0F2fLLQGxFlYMRvo7v1WmIVtpt1DFkXvOR7LwJ2HSkyoZmEypoVVe8p7b6qEMnidGG/Vl/L2aPOIwuA1pAIQE3DAmFa4j9f7CPaFpCHKujr5xzZesGdHqAqKz5X+FLRAl58le+jui+kTBALMcgZ73CDBkpN2/7+bfcWOhwUyCEAjQTcAVhKdjkPc2RajewKyu/n1//qJcA2uhBMRGXQOcn9U6JIOjXHQqSYOsVoQp1HNgAvz8yny80H5PVz9H6RqVd849WtXQ/zA0Ow2ayGLJ474L0G79vvbulwkJi8BGCg4S01SKqofoNvSIC+5zkhFUupV8rUTpJN06KpaBkFQm5M1HlkA3AyM5/u9Zl38zrk6f0iU6/4hmscgK5ISUtCTowyDqb7UxwsqFJW3fo/vbuIBJEZ1YRgyHwQKNi0KEl1OKTCZJdxtPDn//v8ooaDaVgqFyiTD2IKfcjZS4Fo+7g+HXOPv84jG4DIzKfLzQf8KVfI/FNKrQ6h94tfz+vOA9cGAAbrpylY2SDlVTTt+uCnV3/V3a7DQQAysJAwobZJgUXi78Qayhd812WeiOAZzEyUiAkHMeu5BF5FwZQAWLPwknkLQy9CrPMy8+lIHZFzvN3T+YbV+8X7c64OHHix74V6zIxB+RJ0wQ+UU992tYoFy3fcXcTDxQkoPsCUhFIczKVCegSg5B8A/PILN9ZwxBSxtiKiUAOi7JW0dLTustF8AGbm0/1o3vjjnSGdj+lYlGwdRO8XN+c1wABIoHk6k61yuSCJITq3jDY9Vx0BqK++uwAfX6JkI/hME0SC1EGguiQ+isqcQRLrF6/0jO2w+6FMnZhyZYsQ1W50qOHgPX1NXndtODsfgMwHzMin+0+ZN0S9YOllMzWfLwKQSS396P3iY3kNOLDPM1y065H4gOW3p4uTDkB8zWdb7FgbdDhEgJkCUDRvogTmd/vPv3BVAUBuvylNzAAYi4hisVQnEHoIqWblrxqm4Mx8ujfljT+YjsWBYgIOc0oJPsq1slCpH71fKybJOEoAuuVTRSCnYlmU6P/Z4iSJEcbLv+Yu9/1EAh7JKEXDKxq4ChUiKymRbwjgHdcUWTARgLYXHSr2LOU+BV7MVwzxwOfkOWybYAGZD5iRT0edjpxD6VhcOQ6j94tP51wdOHBdMeXa9OqWRcmWXA1XLUIUH6zyCwlAs3z+YBkfs1u+VIejJEF3ckrjI9T0y/aMA2+/tgAg08VURKT8vbKMUgAMIGzzAcOi5HknHQAz8+l+MW/829KxhtH7tTz+jIMAJPCYMULAWd6fvi+EY9ouoZBM/Kx/4LUBgFLgNC5o16FrE8JJVJgkiFhaQQBv3+dVbMrWVsC8UxFRkjjaVsW2DtRdOJ/vAyohVYK7A+bTvTdj8HlqTMcaRu/XxHkzjgNkIOWuDr8jnYYDKDutgpUhra0uAlAyCCUAK8BXcjBXgLCk/h0D/hcByDxFAdAzoFUqUBYRJTUcMWdPP7ONL6i5bLQeALJRQ+bT/W7G4AuAOXq/lsGdcRgAY+glLkYclJVTsa6ptCX3uQjAKINQstFrAZKIwWxQIhIJuovB/Nx+r2LzFCwlj8Y0evl/MYk0kieVtcvrwGUnHQCVjjVkPl3mItQsIPuElx9G79dOzDgMgGkAWlNyBJn8xKprBRC+zgEo4LWRgcdVcOCjjlNvmx84DrzNAahaFZWLygKWxUNibIhTcPD9BMLLa65bzreAMSGVoXvJ/Cgh1WUfO+XTZS5CDYDs9GH1fnOrIDcAkABTTDCCLYK0Cwi/586WcKJUiEpC8CCBYDsiiSplqUIUmOjf+o2tIiKVUJbgU5uSWl4DWwX4+PcXnrQATBNS+8yny1yEopdcay+930y5YhgAg+9n2OoUeI5TdQer+32fdhmGoOBZanBo+g1yEKU4dYgFSvqB//vZBIBt9RshkTbW8ZZZ2hUgvDL3iU3uux4LSBM0ZD7dPRnTH08VAIfV+2XAOucQAMuVcKfFSD/+IAABsEoGwYAoHZIKEEYxRIHwLS8pUuhjFVs6/ZZhIVWyxVKBBIRXnbQATBNS+8ynI4tBzkEACv+chlUVIKE/5cRGsWmlKfIzudc3APLQSlg3E2OCyVRc1kpU3DgBmKoQsWtlBcswjPu+nfTYtBL+GQdgOf16GCZW6pXlBCqWSgqJypoOAFfXXDifbwFJLvi5HAjlnUsiIe6AjOp4iQNQHRlT2PlgJCUbbc2s+v/hFwFb/q7gm6HlYpBbmTV2sscQyy/qFBj2v0/cAdz/HGD7NDA1AUyOOU+1CwWOewNjKj6/O03F1/WuugW4/XJgfBoYmwDGdH7IxB5kLPIB+I8AfNwZgga5ck2fJbEm8V9zNWPfrasbgMuPAcuseJ8Exsb9FdBhA+7gaQNKB6TfcgCYug+YJT+g89aoBDMmIMScP12uTKj13uDv8zsKig/uJ1uQOsnojm3qB5P5ACRBH3OhPuzzRN9DV88HqQLEWPJnvTy5nm/t/1s4BcuSpRZtGAu4fi+wtBVYEyccrYwn6hF8/FkJp9bKxAKVFsn/d8urgbHPA9NPOEOWl4+2cfoFHhfVrJTZPKHSj5daOtup6JyCpPx8rHWRVQ7WOlrYCMx8AHIzlxkALPD9c0VB+x/A3E/+E2fUYHXdF7KTGwdvTd0AHP9r4PgWYG0KWBdfsBdsMPfPrKKsoL9XAVLAvO2fFylCE4cKliyrDVZNcGS1CqEYhWFiAZV+XntaURdTLmpCEbpchTYLqi6NrkMCzLzt5Xc4HwyJmmkJ+Z73jQOh4NWeDUZiK1K08f0EXt7CMHVawIk7gaVpYJUA9LI1Ao8bzKX1cytoFtFfpdCIWz7rgzHgth8u0oPGDwETc8CEMySUzFaikgtlpW1Ta8JqNba7lVljSRgW+Q6ZP/57WQvj6fydBjXfAjKbgEvMLwWCvhNoipgNpnQshlS4IGFWzIk6ylWwAz93ETLxGWB5ClidLABoIOS7pmGfG+33YAG5mND0G8F4678vkiPJczNOAC4UyQm2N8w94kirFlfIAl7i402d6dbPWWAtrsjOFiuCvAJZOQE0pHTFsckHYDeCvhNgipQNxoAz8/8IPr5nbvH2jd+6AThJAE4AqwTdZKEBLDoDgU4+YVkPHIBoPwareOt/BkDexsMFAFnbzNJYm0IDnVwbt4uyur1kwL7Tp+iZM/08WT9Rc7DHUmuYTr/x+6o4ovvu9fjBbgR9JyA+omwwxvZI5ULg6ZW7y9FPf9QNwKm/CgCcKABovh8ByVy/UCtJq2f+X1yYJPGU27lIZLbuEWDsWBHesZeDz4iURLUWa1TE47LqK12fZmd3OXidFctqm92KatVs1jAEsNv6sdymaa2g8+xUL4I+Pn2beCgbLGWHI/h8G3oTr45iK86POlbBU9yKI/AcfLR+ouQwH9BfmmbLlTHboOnZ/T9+5vaf8FUaAThXsFOQ45mUcgZCWTAxe0UQ+urYMO1/37GtxQmoLCBtRSp30LrDp2SFdzYMgk/R+VNwvwR9mwQDsaspGSfJgYDYNTbp8psCQFJxEIBkQjDrxt8dXCUIY+COH5MVFPi8SOn2n/QYLZ9Gp0cxANIP5IvAkzVzxivRydnKNzBa8fddM84b6AFyAriMF2pajk9kYIeoClXmA3AQgr5NQEHMBqMVFMNaIOayNRL/vhlH3RZwmhbQQUcAasrVVGz4EtjCu/3dfb/ID3PbT7uKAZ/MhcIC0vqRTo4W0IBIEAmEtFwCYqjW03bcmdwBYeoWgetUbrR8snrloiR2drpACf+rD4D9EvTVjIJu7HBV+781X752Czj9lwUZkTEgcPoNPp5Nv4oBRhCG6dd+1DkMz1JIhR1BAHJ7zwqO3fIRRM5tmDK5CoQKsSgOeBYBKFZULTqcB9r6Ni5KYmd3WKDUA0BlhNLM8EbT1QBXBU72aI5ZjUcVOxz7WLkQ8d37vsart/uA6RcPsxNSAtAXHDYNC1AEpf9s01kKwuBwGU7HgVt/1jtD1e60fgQigSe/j5bQp+KYpGB+H62jT7P8/ZypBIC8Dhcx8eY9wF015abhmnoAyJ5WSrKeNgKO9SHxnT/LSasJBim5lRjWBEIVeROInKL1qunybRawLgASdEy74qjaNNzJCgqEEYzBGvK0297mAFSHEIB6ebKDgc8J1ksmV8t29f1en6L5v6cxIK5iK6Xne/5jCTiFcTqVn/r/tWDPWwXnEPTVgIKUHU7ljASawKefIwDpMdRxRB+wFgD+RREDJABpwSzz2c0LfxczVjkVKwaYgtBBezu3SvX08d39P5uO3QKahXMQciourZRAGKZWar/YZ1xXRPe8wQr2AUK7TvbOVTZBXx4MBECRnConUBSFEXT6mf/TK+/qmzAF/0UBOPqBZYF52HrTFCw2LH5G8UCzJEko5nZqmRnPh/uCXmpnVpDTsIPPwKApOaSA2QLDLSHf97iPx0tpISLfz7bl4iFfsUsnj+HZWEeOYDCDnDmCvZkEgedcCjxGseIhBYt3vx049HwMLRh8gA9gh2MoH9ABqKJzxf0McO7XlSAU4HzhYYFq+5D7hwBu/98OQLlIBCKnW39SlXNY+nqeiq2dkQg+gnGPb9/ZpT0lq6MV5D96gLCwgDmCwbdnCvZmCgY/dxy47xxg5SWuUjigYPHFbwA+fyGwfr2rXrMvPB+vp3L3GHCgi9JOHQCkRVPppeUBigXLFymyejYTB4YsgfA20ofRAlYB0FfAlvQqP0/TsX5PLOB5DNu471cmIwiBaRww/F01J+mz2pqChxUMZvpJlmBv3iTocsW4dzewfhkGFix+2febXDAeJO/YEILBB7pU1g8LQFo98QASVGYNQ6DZfEG3fnEqrgLhbf/HV15anbkFNCvohWSl9XPQ2XTM/2s3I4DwPIZwBEDfgitH0Ek6N6x+u/iD7T4g/YdBBYPpWHEaHlqwNw+AQa4Yj54JrJO+aQDB4pt+oCAyYvOPEIQDCgYfeF/9U3AbAMX7ItAlVtAspKZdz5SOlvA2pstxjES3wJ+92NgAGK2gwi78QoVfEhBeQACqNNP1RdoA18kKdgDhxkUI/zKIYDCnqyzB3jwAJnLFOEIW7QEEi1/1Y21ywVglCAcQDD5/Efj7M4CVrZ5AKlkhxeQUaxBI4nvFzxf8IfCVC4HV7cC6ZEX5nen3VX1vAGLZq8ysrvHY+QBwbGfI2E6JpLvdX+ksthpUvQrmX/sVDGZVUJZgb17vJHLFeGQcmCdVb5+Cxd/5xjZ6QzzMLOQBBIOfTV2Ps4HFHQ7CLQUQmUrV0rgKJMsCjsxGAqTn/hzw0EXA4tnAyg5gbTYBorKkUyLnkB9YVhTxu+kT13iccwtwdBewPAus+b2ar9xJAafqfgMQO4dh+J9+BHe5gqZZZzYok1JJUcpaR6bp93P+W/N6p0KuGIemgEWKgPQhWPxdP7NBLhiHKYHUp2DwpZ8rLOD8tmJQVplOLxAqmbRKC6EDYC7/CeCRPcCx3cDSrsISrs04CPm9ArZk55UvKAspYLqPaPdR4/H0g8DRHcDyVr/X6VabLHk2PhjpPVZY7d5xwF6CwS9y/4LbbVyQsEKIufGiKe0p2JvXOx3kinF0GjhOQY+oNRtljji9TQPf/fOV9IZY4Gq4D8Hgy/4W+Oo2YG5bUUy04vUcLCqSJVRWszJbNgxSmMau+q/Ao2cBR88EjtOqbgNWWaTkIFz3YiWrF4nAjtN0nBZrJnU+/8PA3CxwfMYB6LUra3oglL0tps6wlVha5rLiqd9AdDfB4Je6U0s/0BXTDYh80Sr2FOzNA2AXuWIszABL1JaKWq1R+nwGeM17OsoFY5XTVw/B4Cv+Djg0C8xvLYqJCECzgsxmZlq9T8e0XGUyaUizavPtxoFr/zvw2BnA0Z3A8e2FVV3x6c4sqwObckeyhiXAowUSADhD1XhceDMwx37lvU4XxVN2n3rJIocygkr/Vbs7fe+EdBLcfaXXQ3IPWIrpBB6XlnwpR76jYG9e7/SQKzarxM7qJFj8mg8UarMV9IZ4gvNDD8HgKx8HDs8A8zMFAFnPYQPDl0Co2g4fpDZLqKCxT0/7fhJ4fCdwbFvhRiwRgJruCOwUgCpeCvUjZmEFxhfk9W969kW/B8xvKQqnVgg+B6CB0MsI7P70AHgmd2n1NQ0rv7FvALIlVYK73MnQCDLThSGZoDpuP7uCeuX5n8zroB5yxThGnQ0CgyBMxY63Aq/5aBHG6EBviDlOLV0Eg1+0AByZLgbl+HRxnZXJoqqttA4ODovlJZVuSjTQFtq+NwNPbHMAzramdVpVs6wEoPtdNg37wJfvsYiJP9NFqvHY+7vAwjSwxAeNxVO8T6aNVRRRlT6hHrJ0Ovaw0WDJCKng7g86APvNB9wg2JvXO33IFWOBgn8EIf2nRLD4tbe1+AU7yAWbZeskGHwVdd2mgAUCcNKnJgLQrZ/V9/Jnn5JUYmnAE3hCmv3+t8AWQfSzyPK/POOgJgDdsgqA5nfJAvLdLV+bz0kK4RqPZ3wQWJxyAPqDVhZQyQr7gyaXI9axWCFVAGLvRUhV46PgLnUWBs0HbBPszeudPuWKsTRZAJDTo8l8ui/42juL5veQC7ZpsEow+OrZQlqVVuH4FLA8WVyDAOTAmHUQCAWQkOlsQAwDt/9/AE8SgPQpNa07+AhAA6HLXbb5Xr4IaAMfv/eGvP5NzyYA7UGjBWTWjh40v9fSyscHLtaxhJWxFVsNNAXH1khw983+DYPmA5aCvXkdNIBccemfceooAfhAAcA+6A2xLuAGucxrzgKOMexDfV9OwbS2BB/BEoqLSrBoYGgJ3E8qLcIEsP/ngCPuUy7S13L3wb6PU56/m/Xj4Ps0TKCXQA6AXuNeZY3HMz5QANAeND1kwcKXlj6wOZQ+b7R+Pi0PD0DeFAfk590CKg8qncfoFzIRVWVqfFfBhgn25vXOAHLFWCDbvPstBsJZ4LUPt+jdesgFg+qVptWq11bg2gtgfuLiRAAgQeg+oEmsOujsXb5SsAoCIN/3vx04OlNM6Yv0tdx1MKvK7/TFjVmeCD4HQQQhf159eV7/pmc/kwCcKABoeYvR0oept7SEoZQ0Tr1lPuPQFlAtO0nyAcWhpzw/FSjFzGjLx+RGvxzoSeC1hwsA9klvaFN5FAy+9mJgnhaQ0qqagglADo4c9AhCDpJPl5ZommQ8738HcGw6AJBW1VecZv0cePwOY0/wl1lAD/WUCx0mMlDLr8bjmb+Dwp3x4nkDYbD0thIO5aNtfmDi/xGEeRawxhs7Vb/q2huABQJwAlhyy2cC0xoggjAAUCWWAkksOiIY978TmOOqeqqwqAx3WGhHK06n7TDwOcAV/iipPAKjwgrZm2o8nkUA0gKmAHTrp+o9MTrEYvq44o9pZIOtgmu8mafCV72YAKT/RwAy5OPOuVlAAk9Oule6xQRTWUKlWtkU/IvAHAHti5oIwDK841ZPFtCmdr0U8PaC9hVultd4CIC8P2Ztt/m5/qC11TJXlJDGGpfGAmYODgFoCxACkLpuWh3KCgqE8gNVZK4KtxgjJAB/2X1Krao1rfN7CWZf3LSBT4uAEIyWBVpipL7GgwA0AW25GbGENBTRx3rm1M2w39mmrFVwjTd1Kn+VAZALEE5LtIDyMWUBvbLNLGHgd5H/V07BDp7r3uU+Jadgn3ptxekA5MBri0/Wp4wzBjDbCnkMWMqVpE8GJwLQqvfc0pqbkVj5aNk7gbCxgJno30cAjntowtXNaZ1suvSKNhsYTcVKmw9F5xGE+94dfEoP+JYhD/8OC8eIPUsUHokVVKB78XszbzAF4Pvd//PCKVGIpOAr78mn4DZOm8YC1jco+w6EFTDDPJqeCEBZBa5GffVbhmQ8DtZW5TYOvPhXip0GTuu22lTMLSw+aAVl9QhEWjurI/aQiLJkTMLsX9R3r/ymZ73fp1+37OU9hunXSkdl7T3QrhKCtlCM59k2i5CMMSIAGdqxEIwrmptzTsCEut5yilKoJLAcxCq3fe8tLCDBFwO+tKjyuxSCMdYEXoeDrHcHvu0tTwLzmwHA4N/Gh6zNCqqeOSxC2lb8tQSiMwbuqXIqAcjFh2JjBKGJyShQG6ygVbfJegULWBYcMR3rvb6oCRaQwFPgl1M5rR7/JtBZOIZWx/0+s4QeY5z/1/X2tFnAxPpFELaVkdLN8MWGVr4pCBsfMHN8bmTKfCjZ0Ncp456/x58zLzfw6Qf3ABd8pUgEYmqk5bGyek06IQl1bkXScnlN/u8L24Gdx1qVq91KQvrpgwaAAw9p+wnXPw1YjyWMGtDo2ASOFGMU7SIEUzdYD34vMPmXwLbHgdkFYAtlGiim6DpxJtvq9LtlVr/aWKEB8pUXAOOPAFPzwBTZ9r04vdQ9Ts4pAZ3cd+yHxgfMAOH+vcA69/9Uxijmz/AerYpdar1lNSMYzV+vWY/34I8DY58Gph8Bpo8A04vAFEFIknIHohGVR62QhFRSYjQE6qFri2z3iaPAhHNNlxKwArI0Q1IAxwfReacbC5gBPp66/5ICgLKCtqnsrKKlrFZUFPKOr7osMTtdsxzqQRZ93Q1MPARMPllohUxRqkEK6gShOP0S+dY2hlRv99y+ovRi7IiTnTvLqmg6xDPYpqAUgRgsoR7MxgJmgHD/c4E1FXu7FRRbvEgd7evXWlbPpp9EgUjiJpwe6zwOMlvpAWCMVusJYPIYMOlSDZRpoGiNxKzbdIQlXONMWJbGtw4svdgz3El47nzTRvPrrKptAJT6ZrzfintvAJgx4vsvdQvIXK5VYF3sUZxmJUvgA1FOvwF8spKyBtM1y6EepI4LqVMedbEaTp0EIKdPKh5FqYYqSxgo2jgFr13j6XXHnOiSZOeBVSvyC8qC2r05FVvVw9cAMAOA178AWPMp2LJaaekiCPXExwHw660n1oB/niGQazwOkkSepbJ/72I1x4CJ+cJ6lYI1riccrVicUuVSmIW82pkwnHHVOKbFsOozQGkFkwewnBES37ABYMaAX39ZAUCCb82nIlo+40p2gNnvsoKunxH1xGwA/LOzdQOQJPIuHzV2GBg7Cow7AI0l33XfjOsv6oVodes6ISbBsAZMX+kJxU56KY7pkmFVhOciuvTzSt05v0+ryuT/9gDrZNe4wPMsI7VJP3GcP7gUOOdvgL1rRYJ0ZI5IV3hV4/wrGYPPU3/AiRhYusy2K7mU999P+z90ObD7LuBZK0Xdkeq9NSX2+o4HLwfWlopFCC0fgciBMtAFC8CGrYXVoVjnU2G7rTXrzh4kfRzLY1kyGwBoeiGcPiXb5eAzdXWnazPCSScb4j3xfmav8Cx2p50lAMW0VXINitCogl2r9H2dcctWwQxQsn6ZTBbMNtcgdKIbiZj51VcBk38CXPxoQcfCUg8pjcYgZScw/momACnXyr4leBhs5QaBTHpf7X8dMPYJYO8XgAv9e8QJlAZZq8D4xSuANYKPJQn0AR2AHKy1MACKe9nfFI6IEqduEWoHIJ9wlsVKLekoMCa9EAegSTYQeM4TXco2SEMkAHEbBZoj4bbYtdyCVrFqGXgTSxgXYTZeHLi9AMjEQRCVUXP/n4KUaaT8vVTi+Rtg7GPAuYcAWlMCgUVkQfJ2Q12yBvPXMwHImhDWwf81imsTiLSEvHZkr+jY/p9CQRD4p8DOBwteItai05qn31FFdfLlFxYWgCDUIkRkj/TxbCEi/89jfPZ3X2VqYSJQbmUNQY3HQT7hbv2sLoerVwKQHNEEoCsm8R4MhPRjXUGzVEIKIoY7yaEYuY4dgGb5RXruoSgtSCLLarkICQ9f6QNykGjFdjsIBaI4kGlt8W+Rg5g0HJ8qAp47nihAzFpuWtPIMBZJlASILvR6fQ0DCVbJCkJOJCqnk4pGpb99tZ8MopyiKDX7WWDiwYKXiEQOehCrgKh+eJQ+EQHo1Lby/zRlyf8TIbf9XS5ftIb8I92YugH4ay2pLusorl7dAoonWtMwQSTdOFuQSLTGHyIC8kxSIQuA4hwU2WUAoO4/grBcDbsfWElSzg+JCoYDoEGM1ixSkHzgF/wG7y8sIa3J7JPAGWuFJSQIaU01iJHUiYP4e33BrPOHmG/JMaOfTZVYRhwGav87vWKPJ9/rSH4IOGO5sITqg/ggxXs4TOaBAECbeoOsgfl+DrQShFqcEIhyyt0MbMusEkx76iAZXKM8BvXiZAGlF+KaIbaadYpem4aDgpJZQz6YJABV5VcHAJZ0v4FxX6KG5UpYs0KnqjhRuagEVgPglYAl9ciHf8mdUrJh0Qx9vkDBzBywfbkYQIGwahA/kglATsHsDzKA0BATiPyZ4NEDwIeoa/uFYKKXL2f24nQoIgd9R3yQCMTFqwIAfdBWI7+yB5ZLECYLETd85YJl+2YAUNosLIel/xYlu4Jsl6bhNhD6it4WJCvA2Zc4Gxo73RcgJeOqFmGR6rcChLYACyGojmEYdj59KnZ+tIQRhH9IvWA2hiREjDeRI9Cly7fMF3EtWRFawhQIf5IJwE56wdTIYdt7tp9ys1K8JnoJvod9Wn682PNkP4hUy1ndWgstAtBDMLYN5/6PAc5DGNoF4SrZfN+4+IhT8jqwg2Cp8ThIJ5vfSWBXAVCrWN9SMxDK+skaOvhoAc8me654pmUB3f0wyt+E8FyRAGmPlOEoiSD2qgvmAKoOm52fAuiTDHSyIRxx+lI0QxxADubfF5vffMmSajrWlP7nmZ3dSy+4r/ZzAUEHnQ8R70HsXlK+PgJsW68G4XYGZj0EY2EYATCAT6tAhmE0DXcC4faapcwMgAIfLb0kuzT9Qmw5uwAAIABJREFUSi+EfeALkSrpBovbrQDnkm8wAo8/E3i+CCsZ98NCpAp8cUekZyBavI4ET/TnaAk/RQCyAXy6uNSPA0i+wMeB6ePA5HFgZq2wpNGK3FUDAHmv3fSCe7afX8CB4UNEEOolVi/3obastNwJ9cO5BOBKEQMsAcifHWzRAigWWAlCn5K2bQYAOe1KMjTIR2kRUhKVS7IrLia0v+3xwHMZMCbYNP0KfG79zAqK5DxOvyEuWu6VD5KSHy2YAEQAfpaRdl5UkuUctIpBnCIIl4psD03FtIIP1ADAlBuJM47EqqUX3LX9kSBQcuuyftK78xUkHyQ+RLqHZ3Fv1KcgLj5kAQ1s0Qo6IA1nHhNLQzA8ZxvBXuNx8DcS5UYpNnoYxsCnUIqvZo0F3wPTMa7Hv53HOJVbS/l+5bumX7d+5WLE44hxIRJB2NMCqj9ixwuE90svWCaIA6bAp959EKeWChAyA0PTOV2unGMQveCO7bfqHbcS4rJR7Ewqnw5AWhLuImg2uFQAXAVs8RGmntW4+g2hB3P79L/EJ9zGvqrxOPibiVihAOgrWQOf/EBfBcsPNBBqW9Hv6zzGqFzmoXz3B9AePgXiq6bgiv4YOB9QHS8AfpkAFMMjrWAcQA0iO9XJiQyAnos2vV7ESHOOQfWCO7Zf7F40mZFQScRKAYBaSU6vAVcTgN7xXHiUFpDTMK2dFh56912BTiDcvpkATIXzCL4g3WXTZ4jpGfjoF/oihL+fx+0yWUABLwIwtYKKIabgCzHQvi2ggBKn0McEQDaKT5cGkIOo6SuyYzEfjQB0EM5nZgAPoxe8of3sgSqCQM3jkdFLvpRvR13+7UVRuhUFSavNO6otwp88ZZ3+t4M6HLtch6OT9AG/q9cmtf//gV1JDYcnQ2zY6/YakfSrU+Pg1M45NqPt3IEtoM7WFHokyrWKkooglCMWLYjiUXMtK3g8Uzd1WL3gDe3vRRCoUEYCwGtYFxxqgA2E/jI20F5hhmQod98BHNnlxOTig1aGiDanO21yV4DygWuB8YeB6fnC9WEtiKVVKeE0ZGiXWczeJoWMIig5a9V5DA1ANoKDeDylZ9NSXxyAsiKawrQqmCv2HVf5e8aRoxfc1n7xs+khItAUvojvyWryxVcWJZksVSyZoQRA3dcAoHzax4Gj2wtu6FVKM7gMgti02jbV476oUJJs1j/AbA1mQ3Pm8eTRsoZDtR+xZKCiEKmMXTIeXHPGdhYArX8FwG4DGMEnAHIK4yvT58nWC2b73cexaZgWWaEKgU1gjNbPP7PvOYGsUSBkv3hBtmRWNzxjTk9RWktvxp6POj0vARjY9sWkFel8RWxegjIF4RjwAOnZWMPBTGjqvHmszxJOBUD3xyznL2bqROvoP3N3q84jG4C7M/PpcvMBef0cvV9k6hXv+2Yno5QfGArRbaCC0mWv2YtF3ecerNDhkNZIIsXQRv5dlTtGADJSz2gEE1EJQM//026HdIEZLC8B6A0tk0g1Ja8DuzJdphS82QBEZj5dbj7gxZN5er/IZI+67pscgE7QaDOUMyC0Wb8+gXjuR4F5J6YsaXnFhBoAGEVvUhb60jISgCQnoh/OLBgvIrL8v7DdFkEYM5dtNg97tvz5zJqzdfIBmJlPl5sP+DJP5xtW7xffnzeh7H+Z+3+RpkyWT1YxuURJYVtx6T0fCTocouQV85VkHRIGegEuEv/YKpkA/JceVmL8kv6t5/9pu62tfiPWcFQVEa0DZ9WcLJEPwMx8uvfnjT9IgZyj94t/ldeA/S9tMaGa9SNdmsIxbvVscVJ1GScoMt4UPwhAsmMZ0aXzQBsvdGRBjQz0FUpEJRAJQOq4KAnBdz+sfiPJ3bOYn8fsykyVWMfiN3BOzckS+QDMzKe7OW/88aqQzsfE5kH1fvGjeQ0wADodmVGwOeiMsUqHrGOnS4UFy9P/wAEojkEnI+IqOIJQNLgpCXhcmLAtD/D+kgQE235L93tj+YBqgTX9BiCeW/NedT4AmQ+YkU/3sbzxBymQuZhm8g1T+QbV+wWFdjKO/Te2mEFNlCb6gPF708VJ1TXHgKd91GnZpDfi1k/gM2vqU3DUnCuBmNQe3P9vw6pe229KOvB0K1k+ZS+rnrfM2AlA3JMZtah/EZKZT3drxuDz1O/yxAwu9JgJxr3lQfR+8aa8Buy/wdWQZAVl+ZzCrG3q9c/YrkmHy3IRYryAAqAkEBIlopJxNNUbER+fA/H+/+AAdP9PmS9dazicJybm7mlB8nR2dI1HvgVkOlZGPt2nM29GCamcGZjAwlQ+vvrV+8X/zGsAAUiLVPp/wd+zaTMFWw+/kAA0GQQnpCw5mDsAMIrcRB5mC/+MAffTwgfwKY2KfmCZ6ZIkUShrxXxBX4yYaV8Hzmcn13jUA8CMfDqWYeQcSkhVOl8U6uxH7xekrsg49h8oiCENgC5TUG5vKxxT8f2aRtOtcAKQ1s8soPuOVUIwpchNlEEIOyNSIrrvv3hwnckWIZPZsnbcDyzTpvg3lU8mpZQqozyfK74aj3wAKh1LgrsD5tMxiz/nkGD1sHq/YNFOxkEAcuW7oqmXlisuQOT7VV2jwi/kTgj1RkoZhBje8Z83SCAEEJZW0C3gff8tADCt4VASaWIBK0HI9q8BF5yUAMzIp8tNx5Jg9bB6v/jdDPSRns0BWIZeUitIo9IhHmhXTvzCPQddccnZ76U1V/IvC4SBCFyg26DFNg7c++Mhhb6qiCikT7WVUmr6lYn2nRKyrdZ51GMBlZIc07GUBdMjny6XCiUmpA6j94vMZbgBMFo552pu27PXAqXTyAUQcitOQjAm9xX0N9pIwIPmSCmH5QuPqER0L4kDYgp9zOUL6fYxkbZcFceyAreAF3GlV+NRDwAz8uksnT3jiILVSmpWNlhMze+k94vMZfgGAPJeHDjpCrgM01Tdry9OzvmYAzAqLVWIwEShwzbRwwSEn+MqP6bQK5tZlWyhjCCCsC19Xv7gOnBRbgp7cu/5AOyVjqVMmA75dJZ9nHF0yohWNlhMxKnS+0XmMtwAmFq4imnYbrEqNJPc+9kfd62RKh0On8qV9hXZ9askEPgAfI56ziocUgVbzGT28lEtRMoKtg7lBHtznfZNA+CQ+XQWM8k4uglWK/NLYKzS+8U9GReXD0g/Tyvh4Ne17Yb4Zbr6g6y7/aNWcoPpjKRTsJIags5IJwkEAv6en05S6GUBfRWsUExZyVZVQCQwrgN7Wfdd41GPBczIp8ODeXfTSbBa6YYxlY8/p3q/udc3C+jTbtvqt2oadnB2m4oNgMn0W0p+hYWHWbwg9yU/0Kb9EIy+5y2hiCit4UgKyTeAkN8Valk4Le/ldlONRz4AWWBRM6fdIPfHstw/G+SE5rMnVQ/kA5AkLHS0ak7V7reXfhgACaBqDtD3e/nmc5k9kA/A80JReq+U38zGVp3ObJo/BvAOD3dtwiWar9zEHsgHIGlFubqSx7+Jja36anLLcDvvgwA+NDpDfILv+qlzuXwAXuSjrkKemlO2e3U1uWUYnL8dwB/5e2apca9LNv+vsQfyAUheX4VguB+mzIsaG9ntqxhF4Xbe3QD+n7/uHLAW9wQ1tblMRQ/UA0CaHC7plXEh+q4T0OWcfhleYTSHBK0EH/mi+fcRuKQn4I6fWpeoB4AevCz3HOOm9yb3F5mBlZBNclYCj1aRfyfrbgPCTR6AzK+vD4CyglX7jpmN7HY66d1E0ctdIrEEE4wEIMlam+Pk7YF6AMj7EwAVbU82vTerCwhAXopJN9zVI+AYrOeULLZgErY2x8nZA/kAJGWr0naUWdFpy2cT+oCWjpdjLFxE5UzYIBBpEUX5nLnlvAktb76SPVAfAOUHpiAMm96bsVtCAMaKALICMyxDq6cXfycA+b/mOLl6oF4AiqBRIEzBp7/X2Af0+fi1XIioMIlAI+AIPIGPmeROWV3j1Zuvyu2B+gHoFfZiDS2lC0LiY52WUADkQoTTMH1BFSYRdHoRfKSu5v9qrizMHYPT+vx6ARhSuDcAzzmDo5ZGHT1PAKYMwQxME2jiSo/gEwBrrq+u41ZOy++oD4BaCcsXTPiSI3ey8s4KGoG8QwCMFM+0ggQhLR0BF19SXuD/ayakz7uR0/TsMcxg3SjfqWNA0hsrga/ojaq/8WPcC+YIk4Ke4CMSuB2XVht1Oj8zIfXlU8BtU8DhmYRXWdfrdF1fgr3+S8At48CD04DVjXQSDO70PTUnaJ5uOCwsIIFHSSFy1pKPWCDsZxCpw8UVgKSPxLXM937OzxxAljzcPAbcswU4Qh4V3UN8mKoeKm/bu78IfKJQa8VD48CylHQiL3O3/qg5Rf30BKACMtJXjXKQcfBSK8Dfqc3KVCwuN2VFGRnm/yKZtq4Re5ifyQQgM2A+BeB3GHaZBo5MAIue0l7Kt3cC4xhw+5eL7TuCkJk1jBtyerbUfYG5ExjZ/pqrxE5fAOrOq5SmowVIrRp1IyT2R6+fg0bgVYG4CsyZe2UsaiOGKXr4Sfp9k8CxCYAFSKyvXeY1o1BxQux91yMtfsHPutgnnyUuUvhc0ZsgUXib+nVkq6+ZKaABIHsgVZnuwD9sVo66rrR4ImdhLGSQ8zPL/JgBQxeU1ouWkO9PTgDzbgmXxrzMkatl3keivfG5x4r4IRcz5BfkO5vEZ0kgpIfBZ8yKjlL17syy0tMNcOn9dl4Fy6dLFabj1Mpvow9Ify+I4Nlo9Xt+ZqU9VdJpqZh4QDDyxUyYOYJwHDg+DhgI/WUVZl7aSEt93+GO9Ia2iuZKOfA7lhp9JpvAVy61w2mOwO5hmCgMHC1H9O24gu6UD9jP+ZmbtLRaSsei9SL4XDPbAEh/kGQ/pSUcc0lbApFWb67lQUhpVnLBsoKqqZclFMmUtrxPcwxl3X7vOCAtYLSCcugFQmqhdssH7HU+RznjiOlYXA8wqkOfkItTAom+oKygca4ES8jY+N3z7fSG4hfUtp3ihUHruVSsFy1iRvNP+1N7A5BdJACmVpAgZPhGOyCigEjlPLudn7kvFtOxuB4g6OjD8UWLRkCZFRwrLCEXJQQhp2K+37lQeBCRX1A7KPQto1prFEmSYn2mB9EAsO+kYfk8KQhZF8yjVz5gp/MztyOUjiW9bCUhEBhKRCCgSis45uQ/PhX/xfFWMgOnWu2gxB0TF/o0kEZ/kCDM1Ts+3RHYnwVUL6XhDFrAswfIB6w6P1MrTulY0sum1VICglKwCEACqvQFCUK3gHcsFQCM/ILayqP1k9JshVqrncMalOYYvgcGAyCvIwuod8YBJQmZpmGJeyRwkGw4n8jJOJQNw3idLFhMRNB0SgASTJyKoy/4ieXCeFfJBUeV2SoAclFyR0bbm1OHTUiN0/DTAwD7zQeM52dqj8VsGEkVE2jKetG7AEhQ0frJAv6RC0trC1skl+IWlNinGLbSaZg7Mc0xfA8MbgF1LQV1z08A2G8+oM7PVF9Ms2GUE0gQyp+Lwu2yagLgR9ZaYpkSypQ6a6Q2DCqzpkvietXIFdoZfuieGmcOD0DeP0HEbBhNwYPmA/L8zJQsATAKnguEqS+XTqkE4YfWWwCUFZTksYAYwZfIBeN9Tw0cjOwu8gDIZqsoSSvhEeQDiiGYFoyWiSDRypWgi69UP5sc5fIcquSCNeXqe2X9ZAHfM7Khe2pcOB+AT41+aO5iRD3QAHBEHd9ctuiBBoANEkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cvAFgg4GR9kADwJF2f3PxBoANBkbaAw0AR9r9zcUbADYYGGkPNAAcafc3F28A2GBgpD3QAHCk3d9cfOxqYJ2au9RdPtdp/khoEOlglDYT39V1PzQFXLsMXAlgt9PCxJKPbufyf8/KHIPfBPAZABf79Xc5XQ0ZQ1Q7360NbxoHrlsDvs5ZRsgo0une06by6X1mZvtP99PNAp4F4LsBXA5gjw8EGTeqaGF4QhzQF80CX7cAvGIdeDYAfhdZ2sTKUcVrpE7nd31N5gj8e2dIo2osk7NZpMdK0Z19tv+bJ4F9K8D1ACj8yfNSikHeg+5Z969m57Y/8/ZP+dPLKZhP/rcA+AYAF7g1oRUhEMUzFMt6eSJfX78b2DkPfM0i8GIAX+uWlAMppreUUErn8p2gzTl+2flg/sDbTkvIOik+CP20//mzwAXzwDcCuNTPJeFXpEpM6QEjIHm/zTF8D7T5gATYNQCe69aAloRTGulfBESBSYNyxR5g/Bhw7hKwZwl4vk9LnM5JmsBzUyDGAX3B8G23Mz/g9BuUa/0IiutfMkj7zwKmngAuXSvOpUvAWYBtF4BTnspIj/O8zPaf7qdvWITw6eZA0JLQEhKEGgxZhUj/dz3NzSKwbR44exnYvVKcy+mM5Km0JhxInUtrGkmzCPicg3W5LMGkQiZZTm9xS9Z3+4m2o8C5c4X15pTKW2Lb+fCx7WLtjYxzqiql29Icw/dA5SqYf6RTTilg+lYCIXmICKQ4IK9wxfSJY8AZK8CuFWDnanEua9ZTAMsaCog3Dt92O/MvnRGBtGwkqKRmMEkqCaa+2k+0LQDTh4rP88UHj74kF1WaATo9QHQ7mmP4HugYhtEKj4PB6ZQ+FS0hQahpldPya1kXTOqNY8DscgG+HavAttUCvBxInitrkgL4lcO33c7spBdM3kAuSnq2nx9gQfAh4JyVwvrxwel2z3p4aMlzH6DM2z/lT+8aB+Q/OT4EEqckWQSBkGD6EQKQnDCLwBSnYgcf32fXioGUFawC4esyu7CXXnDP9tOCsyD4KLB1rmgvX7zfbu2WG/Jtme0/3U/vKxBNAMoi0KcjkATCN3HOEr3UAjDrwOP71rXixYEkeKMFlSX8ocwR6KUXTJ7AaNE2tF8WfA4Ye7Kw1mwvX/yZn+eKnvcrfzC6IK/ObP/pfnpfAGQnySoISBqUXyAASS1AK0JfagWYcRDOrAF66TxZQU7jBOEbM0egH71gcgXSFZAV54NQtj9YcNIpbONCyh8Ygi8CVospApDuB63g92W2/3Q/vW8AsqM4gLIKBBIH8bcJwMCNMX68BTqBb8s6sGWtsIA6jwDk662ZI9CvXjA5A6NVa2t/IAicnC/aGV+8T74IQPm/AmGuBc+8/VP+9IEAyLslAKMV/LgAyIUInfnjwPQqMOOgI/DstQ5Mr7UAqMF8V2YXDqoXXNl+EQQ6N9v29aKdesUpWJZbAPyPme0/3U8fGIDssDid/pUASCvCaXgJmFguAEfgEXT27gDkuwaUg/nbmSMwjF7whvbLhSDL5TwwvdRqo9oqHzACkCB8U2b7T/fThwIgO01T1IMCoAZxGRhbKoAXQUcQTjkI+a4B5e5FzjGsXvCG9gdqrLGFYrpVG/UuHzBOw2/LaXxzbh43DKeoJwlAHqLndSs4udoCoIBHQE45EPk3DuitmYOQoxdctp8+rFwIWsGFYiFFoLGNchcEQC6e+OJC5J2Z7T/dTx/aApYdJ37AyJK/DIwvFxYvWr0IwEn/H1Opco5sveDUhSAAF4HJpQJkWixp6k2n4IYfMGf0amDHev2I8+l4/UbvNw8Eozw72wJePOJ8und7EkKj9ztKGA1/7WwATo44n45pWI3e7/AAGPWZ2QBkYHCU+XTMfGGQmYIxjd7vqOE0+PXzATjifDrKtTZ6v4MP/MlyRj4AR5xPF+VaqZLJF1UzKdPV6P2eLDDr3I58AI44n07ZMARbo/d78gMubWE+AEecT8e9YOn2Uheu0fs9tUCYD8AR59MpG6bR+z21gKfW1gNAz4geRT5dTEZo9H5PPRDmAzBmRM8BJzqfLiYjSKKr0fs9dYBYDwBHmE9XtRfMsIz04aQZ1+j9npygrA+Akqs8wfl0BCCTWRq935MTYL1aVQ8Ao1zlAnAi8+kEQGZTNXq/vYb75Pt/fQAcUT5dBGCj93vyAaxXi+oDoFLyT3A+3Rcavd9eY3xS/z8fgCQX/LPR3SOzkon55jg1eyAfgD8M4NcAPD6aDmBtB1e4NMDNcer1QD4AbwbwxwDe4UvRE9wHZG1gNSXDLlwLNcep1QP5APxzzwj9IIAPnXhT5ORc5EYCA9HNcWr1QD4AmRH6FQBMTSZZH98ZmD5Bh5g1FopiNns1x6nTA/kAvAfAEwDudnI+EvQxPfkEzYfaCXRSBluQMB7YHKdGD+QDsBNBH/9+AkAobqTADGK7Inw1x8nfA/kA7EXQt8kgrGAGMfBxZ5Cv5ji5eyAfgL0I+r68uR0QmUFoBQU8vfNvzXHy9kA9AORoMw7CdGQCjoUZDwL4kv/+8OZ1gJhBIjGDgMh3vTavBc035/RAPgD7JegjODfhiMwgoqeJwNPPTaB6Ezq/hq+sB4AcXeXEP+ZhGVo9vRimIQD5v5oPAZCupgDI9wg8/qz/1Xz55usyeyAfgMMQ9GU2Op4eAchpOIJQQEz/VuPlm6/K7IH6AMjgGzdl6QtyX5jWjpQFevF3lq3xf6yhrOlIAUgQCojR8gmE+l9Nl2++JrMH6gEgR5UA5KYsc+AZmCbQCDi+IvgEQMob1XBEAHIajgBMLV+0kCdws6aGu3zqfkV9AGTwjftg3JRVVRAtHQEXX/wbAcoXP5d5CID8GoJKvqDAloKOoIz/y7x8c3pmD4zhaqwjRzCYyQg5gr2ZgsFTLweWr8XQgsXjbwLWrnNtMlKgNoLBmZAa7PTCAuYIBlMvlWQswwr2UlUw45jdDSx8HbD+Ctd+HVCwePKbgJV9aASDM8Yg59TWFDysYPBtmYK91IbNOHaPA/M7gUXKXA4hWDz79cA8+W0aweCMURj+1HYfcBjBYO54MMY3tGDv8I3nmWSHOzYOLJ0LLPGXAQWLz3oB8MQUsEa16kYwOG8whjh74yJkUMFgbsNlCfYO0epwissVY34bsHw2sEIRkAEEi/dcU0SP5qhF1ggG5w3GEGdXr4L5134Fg4kAjuDQgr1DtDqcUmZETwArZwAru4BVqsv0KVh8/o3F4v0QXZBGMDhvMIY4u3MYhv95Zh+Cu1xBcxuOU/HfeDIq5cv7FuwdotXhlCBXjOXZAnyrO4BV6in0IVh8wStLuWCsUAyvEQzOG5ABz+4eB+R/ewnu/kOP/3G/l4kJTERlljQtIot2e53/IwO2OPl4FLtcnCqAp9cahT56CBZf+LpSLhhz1N5qBIPzBmTAs/sLRHcTDKbiNHdBGGymOC/3hglEvgjAnoK9A7Y4+XgiV4zVWYDAs/etxaubYPFFP1QkLtCIP8neaASD8wZkwLP7AyC/tJNg8L/xLNBu+YBdBXsHbHEFAINcMVamgdWZAoRrfPdXm8KitLdmgYveWAq+2y7iMqfuRjA4b1AGOLt/APJLqwSD3+y5T1yI0AoSbAxMMzGV1o8/My2ro2DvAK2t+GgiV4zj4+3AIwDXtwBrVJeuECze+9aW4Dut4PxkIhYsdetGMDhvoDqcPRgA+SWp4O4veQ5Uv/mAGwR78+6rQq4Yq9PAOi2fA4/vBkKudKVU7VZw77uKvWFuZbtcMNb5v0YwOG9g+jx7cADyi6Pg7gccgIxlcA5TKhaD01yYKBmVFpBZMfx/m2Bvny3t8LGqoqTliZbVI+gMgHwnMAnCIFi897cLAAZ6QyzFzzSCwXkD1OPs4QDIL5XgLmk5JHk/SD5gKdibd38VcsVYGmuBTaAzEHLHgyCcaokB7/1IkUET5IKxwF5pBIPzBqbPs4cHIC/AaeqvPL9pmHxAE+zts6VdLCD/lcgVY3UyWD0Bj1ZwqgCggXA7sPfWAoAJvaEtZBrB4Lyx6efsPADyCtmCvf00s/NnOsgVY3m8BTRZPZuGBUACdArY+5lWDqGmYbIrLHEx0ggG5w1OH2fnA7CPizQfaXqgUw80AGywMdIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0BxoAjrT7m4s3AGwwMNIeaAA40u5vLt4AsMHASHugAeBIu7+5eAPABgMj7YEGgCPt/ubiDQAbDIy0B8ZYNMbkX+ZekpuIiOQrPar+xs889HJg6jZg5jAwvVZ8B+ll9PlO5/Fc/o+ECjnHfi8zYfkvM5ulmp4qJXVqx5deD4zfAkw/CGxdAZgoHfuh131QkaI5hu8Bs4Ds8B0AWLnIRGCBsFfn87JffDMwdjOw5R5g8giwZa34jnQQUwDo99wBfJ4TM7COiNdlaj2rA/jeV/vfDeATAP4UGH8I2Lrc6gc+SHqY4oMZ74VSKM0xfA+UUzB/oBUUCKMl6zSQ/PsXqZD5KQC/A0w/DEwcAcYXgYnVwppwADuBkefnCim90FmBWXwnK87Uen53BI8sbuwqaz9p5UgnQhBS+ZN1zE8Ak0utviCwq8DI8/nx5hi+Bzb4gJzKZE1SEFZZgS9/2pWR/gTAJ4HJQ8DEMWB8ARhfBsaWCwDquwQKvvNgHXvOcYVbPFJPkw+dDxC/W1Y4tWDpw/Rlgo4lo1T4/KxTihDNpJwj3/UiMLXemprjffC7eWpzDN8DlYsQDiKtVxzEqoHkyX9HRizW+nIgaQnvAiaeBCbmC0s4tgSMu2rMePAR9X252jXklaTFU108K0MHav/nvJ6ZxVVk9OI7GR2IZoGQNc/HgbHgIwqILIVujuF7oOMqWFawCoRxkfEIB5CWgkREBCNf9wMTc8A4QciBWyoGz16rwNgaML5eWKpctYZL3N+TWLX0gvtuP0HHk2n16JDyxXmVhfU0qywbJbr5GSuXKxA/sV5Y9UYWdnjwyS3qKKgarWA69Wg6fjQOIK0HadnIjPVFB+AiME4AuiUkCFnESyCSkmAuU7Cjm15wX+2X2ifBRn9A8mKcW2UFjULVQcgVDl80u40SYh763FfvquhLCxitoBYUsoJfjXKttByMq9CKcHn4sPuCbgXNJwyWkECcz5Q376UX3LNncZyQAAADEklEQVT9fFgIJs6lBBwtn3Tt6FpIz4RWnuQxPh2XIGzm4CwQ9hWIFgBTK0gQHiIAJddKq0ELQh+KL1qUR4MvSEsoENIKrgALHNiMox+94K7tl9qnnMio8MSf6SNwGpYVjCDk/Ju7isq496fCqX0BkDeqlWwKwic1gAQSpzGREnFgREz01eALLvvq2Kfi45m6cf3qBXdsfxRbJMho8dimqOhEK8cXQRr9QVpvPoDNMXQP9A3ACELFxPh+jACkP0fLIKFCCRRqKuPUdqjlC9o07JZwKVNHeBC94DQcZO0XAAkmgotAk9QYrR9f/BvByYfMSATDVMzwTXMM3QMDAVAgVHCZ7/MaQK4QZUHiNCbBQlqUw74YCb7gcmYkelC9YFlwvVv7RRAorTuBkECU9asCID9/x9B935zYzyKkqpfiNHxcA0gLQgvBAaPVkCqm3h2AtC5m/RyEqzw/4xhGL3hD++MmslgqCbgUfLKAcRrmTlBzDN0DA1tAXUlWcDm1IOIIJAjlT/Fd05lbFQFwjdtgGcewesFt7Rc/Gx8iWjUCjGCT1YvWT1MwgUqrf3NG45tTbcu0aximWx9xENcEQHGbcYAEwtSXSqY0gnCdgeuMI0cvuGx/FUGgFhwEYrR80QckWN+X0fjm1DwAWv8RgJFilJZBznz0pQg+AZAAlVWh1GvGka0XzB0cCQi30aSGVa9AF62fLOB7MhrfnJoPwPER59Px+o3e76mL5Kwp2G57xPl0kxc3er+nLvyKtLmhfUC78RHn081ONnq/pzcAR5xPR9mRRu/31IVgvgUccT4dNaobvd/TGYAjzqejumqj93s6A3DE+XRUg2VSCjdaGr3fUw+I+VPwiPPpqJjO8J1Nw43e7ymHwHoAKMFd7QErAeEE5NNJMb3R+z3lsGcNzgfgiPPpomJ6o/d76oGwPgCOKJ8uKqY3er+nKwBHmE+noqRG7/fUA199U/AI8+kEwEbv93QHoEhZTnA+nYqSGr3fBoAtaiqBUImdm5hPJwA2er+nKwBHnE+X1gUzSbnR+z11wPj/AeCpPDD3t7rvAAAAAElFTkSuQmCC",y6e="uniform sampler2D weightMap;varying vec2 vOffset0;varying vec2 vOffset1;void movec(const in bvec2 c,inout vec2 variable,const in vec2 value){if(c.x){variable.x=value.x;}if(c.y){variable.y=value.y;}}void movec(const in bvec4 c,inout vec4 variable,const in vec4 value){movec(c.xy,variable.xy,value.xy);movec(c.zw,variable.zw,value.zw);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec4 a;a.x=texture2D(weightMap,vOffset0).a;a.y=texture2D(weightMap,vOffset1).g;a.wz=texture2D(weightMap,uv).rb;vec4 color=inputColor;if(dot(a,vec4(1.0))>=1e-5){bool h=max(a.x,a.z)>max(a.y,a.w);vec4 blendingOffset=vec4(0.0,a.y,0.0,a.w);vec2 blendingWeight=a.yw;movec(bvec4(h),blendingOffset,vec4(a.x,0.0,a.z,0.0));movec(bvec2(h),blendingWeight,a.xz);blendingWeight/=dot(blendingWeight,vec2(1.0));vec4 blendingCoord=blendingOffset*vec4(texelSize,-texelSize)+uv.xyxy;color=blendingWeight.x*texture2D(inputBuffer,blendingCoord.xy);color+=blendingWeight.y*texture2D(inputBuffer,blendingCoord.zw);}outputColor=color;}",b6e="varying vec2 vOffset0;varying vec2 vOffset1;void mainSupport(const in vec2 uv){vOffset0=uv+texelSize*vec2(1.0,0.0);vOffset1=uv+texelSize*vec2(0.0,1.0);}",Xd={LOW:0,MEDIUM:1,HIGH:2,ULTRA:3},FX=class extends jl{constructor({preset:e=Xd.MEDIUM,edgeDetectionMode:t=YS.COLOR,predicationMode:r=fIe.DISABLED}={}){super("SMAAEffect",y6e,{vertexShader:b6e,blendFunction:nr.NORMAL,attributes:_l.CONVOLUTION|_l.DEPTH,uniforms:new Map([["weightMap",new Oe(null)]])});let n,i;arguments.length>1&&(n=arguments[0],i=arguments[1],arguments.length>2&&(e=arguments[2]),arguments.length>3&&(t=arguments[3])),this.renderTargetEdges=new br(1,1,{minFilter:Wt,stencilBuffer:!1,depthBuffer:!1}),this.renderTargetEdges.texture.name="SMAA.Edges",this.renderTargetWeights=this.renderTargetEdges.clone(),this.renderTargetWeights.texture.name="SMAA.Weights",this.uniforms.get("weightMap").value=this.renderTargetWeights.texture,this.clearPass=new ej(!0,!1,!1),this.clearPass.overrideClearColor=new ht(0),this.clearPass.overrideClearAlpha=1,this.edgeDetectionPass=new sl(new mIe),this.edgeDetectionMaterial.edgeDetectionMode=t,this.edgeDetectionMaterial.predicationMode=r,this.weightsPass=new sl(new EIe);let o=new qq;o.onLoad=()=>{let l=new Xn(n);l.name="SMAA.Search",l.magFilter=kr,l.minFilter=kr,l.generateMipmaps=!1,l.needsUpdate=!0,l.flipY=!0,this.weightsMaterial.searchTexture=l;let c=new Xn(i);c.name="SMAA.Area",c.magFilter=Wt,c.minFilter=Wt,c.generateMipmaps=!1,c.needsUpdate=!0,c.flipY=!1,this.weightsMaterial.areaTexture=c,this.dispatchEvent({type:"load"})},o.itemStart("search"),o.itemStart("area"),n!==void 0&&i!==void 0?(o.itemEnd("search"),o.itemEnd("area")):typeof Image<"u"&&(n=new Image,i=new Image,n.addEventListener("load",()=>o.itemEnd("search")),i.addEventListener("load",()=>o.itemEnd("area")),n.src=I9,i.src=O9),this.applyPreset(e)}get edgesTexture(){return this.renderTargetEdges.texture}getEdgesTexture(){return this.edgesTexture}get weightsTexture(){return this.renderTargetWeights.texture}getWeightsTexture(){return this.weightsTexture}get edgeDetectionMaterial(){return this.edgeDetectionPass.fullscreenMaterial}get colorEdgesMaterial(){return this.edgeDetectionMaterial}getEdgeDetectionMaterial(){return this.edgeDetectionMaterial}get weightsMaterial(){return this.weightsPass.fullscreenMaterial}getWeightsMaterial(){return this.weightsMaterial}setEdgeDetectionThreshold(e){this.edgeDetectionMaterial.edgeDetectionThreshold=e}setOrthogonalSearchSteps(e){this.weightsMaterial.orthogonalSearchSteps=e}applyPreset(e){let t=this.edgeDetectionMaterial,r=this.weightsMaterial;switch(e){case Xd.LOW:t.edgeDetectionThreshold=.15,r.orthogonalSearchSteps=4,r.diagonalDetection=!1,r.cornerDetection=!1;break;case Xd.MEDIUM:t.edgeDetectionThreshold=.1,r.orthogonalSearchSteps=8,r.diagonalDetection=!1,r.cornerDetection=!1;break;case Xd.HIGH:t.edgeDetectionThreshold=.1,r.orthogonalSearchSteps=16,r.diagonalSearchSteps=8,r.cornerRounding=25,r.diagonalDetection=!0,r.cornerDetection=!0;break;case Xd.ULTRA:t.edgeDetectionThreshold=.05,r.orthogonalSearchSteps=32,r.diagonalSearchSteps=16,r.cornerRounding=25,r.diagonalDetection=!0,r.cornerDetection=!0;break}}setDepthTexture(e,t=Wc){this.edgeDetectionMaterial.depthBuffer=e,this.edgeDetectionMaterial.depthPacking=t}update(e,t,r){this.clearPass.render(e,this.renderTargetEdges),this.edgeDetectionPass.render(e,t,this.renderTargetEdges),this.weightsPass.render(e,this.renderTargetEdges,this.renderTargetWeights)}setSize(e,t){this.edgeDetectionMaterial.setSize(e,t),this.weightsMaterial.setSize(e,t),this.renderTargetEdges.setSize(e,t),this.renderTargetWeights.setSize(e,t)}dispose(){let{searchTexture:e,areaTexture:t}=this.weightsMaterial;e!==null&&t!==null&&(e.dispose(),t.dispose()),super.dispose()}static get searchImageDataURL(){return I9}static get areaImageDataURL(){return O9}},x6e=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,nx={DEFAULT:0,ESKIL:1},w6e=class extends jl{constructor({blendFunction:e=nr.NORMAL,technique:t=nx.DEFAULT,eskil:r=!1,offset:n=.5,darkness:i=.5}={}){super("VignetteEffect",x6e,{blendFunction:e,defines:new Map([["VIGNETTE_TECHNIQUE",t.toFixed(0)]]),uniforms:new Map([["offset",new Oe(n)],["darkness",new Oe(i)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(e){this.technique!==e&&(this.defines.set("VIGNETTE_TECHNIQUE",e.toFixed(0)),this.setChanged())}get eskil(){return this.technique===nx.ESKIL}set eskil(e){this.technique=e?nx.ESKIL:nx.DEFAULT}getTechnique(){return this.technique}setTechnique(e){this.technique=e}get offset(){return this.uniforms.get("offset").value}set offset(e){this.uniforms.get("offset").value=e}getOffset(){return this.offset}setOffset(e){this.offset=e}get darkness(){return this.uniforms.get("darkness").value}set darkness(e){this.uniforms.get("darkness").value=e}getDarkness(){return this.darkness}setDarkness(e){this.darkness=e}},Gc=class{constructor(t,r){this.enabled=!1,this.effect=new t(r),Object.defineProperty(this,"opacity",{enumerable:!0,set(n){this.effect.blendMode.opacity.value=n},get(){return this.effect.blendMode.opacity.value}}),Object.defineProperty(this,"blendFunction",{enumerable:!0,set(n){this.effect.blendMode.setBlendFunction(Number(n))},get(){return this.effect.blendMode.blendFunction}}),this.blendFunction=nr.NORMAL}},_6e=class extends Gc{constructor(){super(r6e),this.blendFunction=nr.SCREEN}set intensity(e){this.effect.intensity=e}get intensity(){return this.effect.intensity}set luminanceThreshold(e){this.effect.luminanceMaterial.threshold=e}get luminanceThreshold(){return this.effect.luminanceMaterial.threshold}set luminanceSmoothing(e){this.effect.luminanceMaterial.smoothing=e}get luminanceSmoothing(){return this.effect.luminanceMaterial.smoothing}set blurScale(e){this.effect.blurPass.scale=e}get blurScale(){return this.effect.blurPass.scale}set kernelSize(e){this.effect.blurPass.kernelSize=e}get kernelSize(){return this.effect.blurPass.kernelSize}},S6e=class extends Gc{constructor(){super(i6e)}set contrast(e){this.effect.uniforms.get("contrast").value=e}get contrast(){return this.effect.uniforms.get("contrast").value}set brightness(e){this.effect.uniforms.get("brightness").value=e}get brightness(){return this.effect.uniforms.get("brightness").value}},E6e=class extends Gc{constructor(){super(c6e),this.effect.offset=new re(.01,.01)}set offset(e){this.effect.offset.set(e[0]/1e3,e[1]/1e3)}get offset(){return[this.effect.offset.x*1e3,this.effect.offset.y*1e3]}},C6e=class extends Gc{constructor(){super(a6e)}},A6e=class extends Gc{constructor(){super(p6e),this._hue=0}set hue(e){this._hue=e,this.effect.setHue(e)}get hue(){return this._hue}set saturation(e){this.effect.uniforms.get("saturation").value=e}get saturation(){return this.effect.uniforms.get("saturation").value}},M6e=class extends Gc{constructor(){super(m6e),this.blendFunction=nr.OVERLAY}},T6e=class extends Gc{constructor(){super(w6e)}get eskil(){return this.effect.eskil}set eskil(e){this.effect.eskil=e}get darkness(){return this.effect.uniforms.get("darkness").value}set darkness(e){this.effect.uniforms.get("darkness").value=e}get offset(){return this.effect.uniforms.get("offset").value}set offset(e){this.effect.uniforms.get("offset").value=e}},P6e=class extends Gc{constructor(e){super(d6e,e)}set focalLength(e){this.effect.circleOfConfusionMaterial.uniforms.focalLength.value=e}get focalLength(){return this.effect.circleOfConfusionMaterial.uniforms.focalLength.value}set focusDistance(e){this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value=e}get focusDistance(){return this.effect.circleOfConfusionMaterial.uniforms.focusDistance.value}get bokehScale(){return this.effect.bokehScale}set bokehScale(e){this.effect.bokehScale=e}},k6e=class extends Gc{constructor(){super(v6e)}get granularity(){return this.effect.getGranularity()}set granularity(e){this.effect.setGranularity(e)}},D6e=`#define GLSLIFY 1
varying vec2 vUv;varying vec2 vTexCoords[9];uniform vec2 resolution;void main(){vUv=position.xy*0.5+0.5;vec2 texelSize=vec2(1.0)/resolution;vTexCoords[0]=vUv+vec2(-texelSize.x,-texelSize.y);vTexCoords[1]=vUv+vec2(0.0,-texelSize.y);vTexCoords[2]=vUv+vec2(texelSize.x,-texelSize.y);vTexCoords[3]=vUv+vec2(-texelSize.x,0.0);vTexCoords[4]=vUv+vec2(0.0,0.0);vTexCoords[5]=vUv+vec2(texelSize.x,0.0);vTexCoords[6]=vUv+vec2(-texelSize.x,texelSize.y);vTexCoords[7]=vUv+vec2(0.0,texelSize.y);vTexCoords[8]=vUv+vec2(texelSize.x,texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}`,j6e=`#define GLSLIFY 1
#include <common>
varying vec2 vUv;varying vec2 vTexCoords[9];uniform sampler2D inputBuffer;uniform sampler2D historyBuffer;uniform sampler2D velocityBuffer;uniform sampler2D depthBuffer;uniform vec2 resolution;
#define USE_YCOCG
#define USE_CATMULL_ROM
const float feedback_min=0.5;const float feedback_max=0.95;vec3 RGB_YCoCg(vec3 c){return vec3(c.x/4.0+c.y/2.0+c.z/4.0,c.x/2.0-c.z/2.0,-c.x/4.0+c.y/2.0-c.z/4.0);}vec3 YCoCg_RGB(vec3 c){return clamp(vec3(c.x+c.y-c.z,c.x+c.z,c.x-c.y-c.z),vec3(0.0),vec3(1.0));}vec4 sample_color(sampler2D tex,vec2 uv){
#ifdef USE_YCOCG
vec4 c=texture(tex,uv);return vec4(RGB_YCoCg(c.rgb),c.a);
#else
return texture(tex,uv);
#endif
}vec4 sample_catmull_rom(sampler2D tex,vec2 uv,vec2 texSize){vec2 samplePos=uv*texSize;vec2 texPos1=floor(samplePos-0.5)+0.5;vec2 f=samplePos-texPos1;vec2 w0=f*(-0.5+f*(1.0-0.5*f));vec2 w1=1.0+f*f*(-2.5+1.5*f);vec2 w2=f*(0.5+f*(2.0-1.5*f));vec2 w3=f*f*(-0.5+0.5*f);vec2 w12=w1+w2;vec2 offset12=w2/(w1+w2);vec2 texPos0=texPos1-1.0;vec2 texPos3=texPos1+2.0;vec2 texPos12=texPos1+offset12;texPos0/=texSize;texPos3/=texSize;texPos12/=texSize;vec4 result=vec4(0.0);result+=texture2D(tex,vec2(texPos12.x,texPos0.y))*w12.x*w0.y;result+=texture2D(tex,vec2(texPos0.x,texPos12.y))*w0.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos12.y))*w12.x*w12.y;result+=texture2D(tex,vec2(texPos3.x,texPos12.y))*w3.x*w12.y;result+=texture2D(tex,vec2(texPos12.x,texPos3.y))*w12.x*w3.y;return result;}vec3 choose_motion_vector(){
#ifdef CHOOSE_LONGEST_MOTION_VECTOR
float longest=-1.0;vec3 v_choose=vec3(-1.0);for(int i=0;i<9;i++){vec3 v=texture2D(velocityBuffer,vTexCoords[i]).rgb;float l=length(v.xy);if(l>longest){longest=l;v_choose=v;}}return v_choose;
#else
float closest_depth=1000.0;vec2 closest_uv_offset=vec2(0.0);for(int i=0;i<9;i++){float neighbor_depth=texture2D(depthBuffer,vTexCoords[i]).r;if(neighbor_depth<closest_depth){closest_uv_offset=vTexCoords[i];closest_depth=neighbor_depth;}}return texture2D(velocityBuffer,closest_uv_offset).rgb;
#endif
}vec4 clipAabb(vec3 aabb_min,vec3 aabb_max,vec4 avg,vec4 input_texel){const float FLT_EPS=0.00000001;vec3 p_clip=0.5*(aabb_max+aabb_min);vec3 e_clip=0.5*(aabb_max-aabb_min)+FLT_EPS;vec4 v_clip=input_texel-vec4(p_clip,avg.w);vec3 v_unit=v_clip.xyz/e_clip;vec3 a_unit=abs(v_unit);float ma_unit=max(a_unit.x,max(a_unit.y,a_unit.z));if(ma_unit>1.0){return vec4(p_clip,avg.w)+v_clip/ma_unit;}else{return input_texel;}}vec3 clip_aabb_variance(in vec3 cOld,in vec3 cNew,in vec3 centre,in vec3 halfSize){if(all(lessThanEqual(abs(cOld-centre),halfSize))){return cOld;}vec3 dir=(cNew-cOld);vec3 near=centre-sign(dir)*halfSize;vec3 tAll=(near-cOld)/dir;float t=0.0001;for(int i=0;i<3;i++){if(tAll[i]>=0.0&&tAll[i]<t){t=tAll[i];}}if(t>=0.0001){return cOld;}return cOld+dir*t;}void main(){vec3 v=choose_motion_vector();vec2 velocity=v.rg;vec2 previousPixelPos=vUv-velocity;vec4 currentColor=sample_color(inputBuffer,vUv);
#ifdef USE_CATMULL_ROM
vec4 previousColor=sample_catmull_rom(historyBuffer,previousPixelPos,resolution);
#else
vec4 previousColor=sample_color(historyBuffer,previousPixelPos);
#endif
#ifdef USE_YCOCG
previousColor=vec4(RGB_YCoCg(previousColor.rgb),previousColor.a);
#endif
vec4 ctl=sample_color(inputBuffer,vTexCoords[0]);vec4 ctc=sample_color(inputBuffer,vTexCoords[1]);vec4 ctr=sample_color(inputBuffer,vTexCoords[2]);vec4 cml=sample_color(inputBuffer,vTexCoords[3]);vec4 cmc=sample_color(inputBuffer,vTexCoords[4]);vec4 cmr=sample_color(inputBuffer,vTexCoords[5]);vec4 cbl=sample_color(inputBuffer,vTexCoords[6]);vec4 cbc=sample_color(inputBuffer,vTexCoords[7]);vec4 cbr=sample_color(inputBuffer,vTexCoords[8]);vec4 cmin=min(ctl,min(ctc,min(ctr,min(cml,min(cmc,min(cmr,min(cbl,min(cbc,cbr))))))));vec4 cmax=max(ctl,max(ctc,max(ctr,max(cml,max(cmc,max(cmr,max(cbl,max(cbc,cbr))))))));vec4 cavg=(ctl+ctc+ctr+cml+cmc+cmr+cbl+cbc+cbr)/9.0;vec4 cmin5=min(ctc,min(cml,min(cmc,min(cmr,cbc))));vec4 cmax5=max(ctc,max(cml,max(cmc,max(cmr,cbc))));vec4 cavg5=(ctc+cml+cmc+cmr+cbc)/5.0;cmin=0.5*(cmin+cmin5);cmax=0.5*(cmax+cmax5);cavg=0.5*(cavg+cavg5);
#ifdef USE_YCOCG
vec2 chroma_extent=vec2(0.25*0.5*(cmax.r-cmin.r));vec2 chroma_center=currentColor.gb;cmin.yz=chroma_center-chroma_extent;cmax.yz=chroma_center+chroma_extent;cavg.yz=chroma_center;
#endif
vec4 previousColorClipped=clamp(previousColor,cmin,cmax);
#ifdef LUMINANCE_DIFFERENCES
#ifdef USE_YCOCG
float lum0=currentColor.r;float lum1=previousColorClipped.r;
#else
float lum0=luminance(currentColor.rgb);float lum1=luminance(previousColorClipped.rgb);
#endif
float unbiased_diff=abs(lum0-lum1)/max(lum0,max(lum1,0.2));float unbiased_weight=1.0-unbiased_diff;float unbiased_weight_sqr=unbiased_weight*unbiased_weight;float k_feedback=mix(feedback_min,feedback_max,unbiased_weight_sqr);vec4 result=mix(currentColor,previousColorClipped,vec4(k_feedback));
#else
const float alpha=0.1;vec4 result=mix(currentColor,previousColorClipped,1.0-alpha);
#endif
#ifdef USE_YCOCG
gl_FragColor=vec4(YCoCg_RGB(result.rgb).rgb,result.a);
#else
gl_FragColor=result;
#endif
}`,I6e=`#define GLSLIFY 1
varying vec2 vUv;void main(){gl_Position=vec4(position.xy,1.0,1.0);vUv=position.xy*0.5+0.5;}`,O6e=`#define GLSLIFY 1
layout(location=1)out vec4 gVelocity;varying vec2 vUv;uniform sampler2D inputBuffer;void main(){gl_FragColor=texture2D(inputBuffer,vUv);gVelocity=vec4(0.0);}`,qP=class extends Tr{constructor(){super({name:"PassthroughMaterial",uniforms:{inputBuffer:new Oe(null)},blending:Bn,depthWrite:!1,depthTest:!1,vertexShader:I6e,fragmentShader:O6e})}set inputBuffer(e){this.uniforms.inputBuffer.value=e}},R6e=class extends ho{constructor(){super("TAAResolvePass"),this.MRTCompatible=!0,this.needsSwap=!1,this.passThroughMaterial=new qP,this.resolutionVector=new re,this.resolveMaterial=new Tr({name:"TAAResolveMaterial",uniforms:{inputBuffer:new Oe(null),historyBuffer:new Oe(null),velocityBuffer:new Oe(null),depthBuffer:new Oe(null),resolution:new Oe(new re)},blending:Bn,depthWrite:!1,depthTest:!1,vertexShader:D6e,fragmentShader:j6e}),this.historyRenderTarget=new br(1024,1024,{minFilter:Wt,stencilBuffer:!1,depthBuffer:!1}),this.historyRenderTarget.texture.name="TAA.History",this.resultRenderTarget=new br(1024,1024,{minFilter:Wt,stencilBuffer:!1,depthBuffer:!1}),this.resultRenderTarget.texture.name="TAA.Output"}setSize(e,t){this.historyRenderTarget.setSize(e,t),this.resultRenderTarget.setSize(e,t)}render(e,t){this.fullscreenMaterial=this.resolveMaterial,this.resolveMaterial.uniforms.inputBuffer.value=t.texture[0],this.resolveMaterial.uniforms.velocityBuffer.value=t.texture[1],this.resolveMaterial.uniforms.depthBuffer.value=t.depthTexture,this.resolveMaterial.uniforms.historyBuffer.value=this.historyRenderTarget.texture,this.resolveMaterial.uniforms.resolution.value.set(t.width,t.height),e.setRenderTarget(this.resultRenderTarget),e.render(this.scene,this.camera),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(this.historyRenderTarget),e.render(this.scene,this.camera);let r=this.renderToScreen?null:t;this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=this.resultRenderTarget.texture,e.setRenderTarget(r),e.render(this.scene,this.camera)}dispose(){this.resultRenderTarget.dispose(),this.historyRenderTarget.dispose(),this.resolveMaterial.dispose(),this.passThroughMaterial.dispose()}},z6e=class extends ho{constructor(e,t,r){super("TransmissionPass",void 0,t),this.MRTCompatible=!0,this.depthPass=new D9(e,t,{renderTarget:r.transmissionDepthTarget}),this.passThroughMaterial=new qP,this.splineScene=e,this.needsSwap=!1}updatePasses(e){this.passThroughMaterial=new qP,this.depthPass=new D9(this.splineScene,this.camera,{renderTarget:e.transmissionDepthTarget})}setCamera(e){this.camera=e}setScene(e){this.splineScene=e}render(e,t,r){let n=this.camera.layers.mask,i=e;i.setRenderTarget(i.transmissionRenderTarget),this.fullscreenMaterial=this.passThroughMaterial,this.passThroughMaterial.inputBuffer=t.texture[0],i.clear(),i.render(this.scene,this.camera),this.camera.layers.disable(3),this.depthPass.render(e,t,r),i.shadowMap.needsUpdate=!1,i.shadowMap.autoUpdate=!1;let o=this.renderToScreen?null:t;this.camera.layers.set(3),e.setRenderTarget(o),e.render(this.splineScene,this.camera),this.camera.layers.mask=n}},R9=new $u,L6e=new Tr({transparent:!0,vertexShader:`
        void main() {
            gl_Position = vec4(0.0);
        }
    `,fragmentShader:`
        layout(location = 1) out vec4 gVelocity;

        void main() {
            gl_FragColor = vec4(0.0);
			gVelocity = vec4(0.0);
        }
    `}),YP=class extends ho{constructor(e,t,r){super("OpaquePass",t??R9,r),this.MRTCompatible=!0,this.hasTransmissionPass=!1,this.clear=!0,this.clearColorOnly=!1,this.clearDepth=!1,this.needsSwap=!1,this.originalMaterials=new Map,this.MRTCompatible=e}set splatViewer(e){this._splatViewer=e}get splatViewer(){return this._splatViewer}setCamera(e){this.camera=e}setScene(e){this.scene=e??R9}getScene(){return this.scene}render(e,t){var n;this.camera.layers.enable(3),this.hasTransmissionPass&&(this.originalMaterials.clear(),this.scene.traverse(i=>{i.layers.isEnabled(3)&&i instanceof Fo&&(this.originalMaterials.set(i.id,i.material),i.material=L6e)}),e.shadowMap.needsUpdate=!0,e.shadowMap.autoUpdate=!0),this.camera.layers.enable(8);let r=this.renderToScreen?null:t;if(e.setRenderTarget(r),this.clearColorOnly&&e.clear(!0,!1,!0),this.clear&&e.clear(),((n=this._splatViewer)==null?void 0:n.splatRenderingInitialized)===!0){let i=e.autoClear;e.autoClear=!1,e.render(this.scene,this.camera),this._splatViewer.update(),e.render(this._splatViewer.splatMesh,this.camera),e.autoClear=i}else e.render(this.scene,this.camera);this.clearDepth&&e.clear(!1,!0,!1),this.hasTransmissionPass&&this.originalMaterials.forEach((i,o)=>{let l=this.scene.getObjectById(o);l&&(l.material=i)})}},N6e=class{constructor(e,{depthBuffer:t=!0,stencilBuffer:r=!1,multisampling:n=0,frameBufferType:i=0}={}){this.renderer=e,this.helperStartIndex=0,this.copyPass=new GP,this.depthTexture=null,this.timer=new e6e,this._width=1,this._height=1,this.passes=[],this.helperPasses=[],this.autoRenderToScreen=!0,this.inputBuffer=this.createBuffer(t,r,i,n,!0,"input buffer mrt"),this.inputBufferSingle=this.createBuffer(t,r,i,n,!1," input buffer single"),this.inputBufferSingle.texture.dispose(),this.inputBufferSingle.depthTexture.dispose(),this.inputBufferSingle.texture=this.inputBuffer.texture[0],this.inputBufferSingle.depthTexture=this.inputBuffer.depthTexture,this.outputBuffer=this.inputBuffer.clone(),this.outputBuffer.name="output buffer mrt",this.outputBufferSingle=this.createBuffer(t,r,i,n,!1,"output buffer single"),this.outputBufferSingle.texture.dispose(),this.outputBufferSingle.depthTexture.dispose(),this.outputBufferSingle.texture=this.outputBuffer.texture[0],this.outputBufferSingle.depthTexture=this.outputBuffer.depthTexture,this.setRenderer(e)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(e){let t=this.inputBuffer,r=this.multisampling;r>0&&e>0?(this.inputBuffer.samples=e,this.outputBuffer.samples=e,this.inputBuffer.dispose(),this.outputBuffer.dispose()):r!==e&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("creating new input buffer"),this.inputBuffer=this.createBuffer(t.depthBuffer,t.stencilBuffer,t.texture.type,e,!0,"new input buffer"),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(e){var t;if(this.renderer=e,e!==null){let r=e.getSize(new re),n=((t=e.getContext().getContextAttributes())==null?void 0:t.alpha)??!1,i=this.inputBuffer.texture[0].type;i===Li&&e.outputEncoding===It&&(this.inputBuffer.texture[0].encoding=It,this.outputBuffer.texture[0].encoding=It,this.inputBuffer.dispose(),this.outputBuffer.dispose(),console.log("doing some kinda dispose??")),e.autoClear=!1,this.setSize(r.width,r.height,!1);for(let o of this.passes)o.initialize(e,n,i)}}replaceRenderer(e,t=!0){let r=this.renderer,n=r.domElement.parentNode;return this.setRenderer(e),t&&n!==null&&(n.removeChild(r.domElement),n.appendChild(e.domElement)),r}createDepthTexture(){let e=this.depthTexture=new Hm(this._width,this._height);return this.inputBuffer.depthTexture=e,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(e.format=Wh,e.type=wh):e.type=gc,e}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(let e of this.passes)e.setDepthTexture(null)}}createBuffer(e,t,r,n,i,o){let l=this.renderer,c=l===null?new re:l.getDrawingBufferSize(new re),a={minFilter:Wt,magFilter:Wt,wrapS:_n,wrapT:_n,stencilBuffer:t,depthBuffer:e},s;return n>0?(s=new br(c.width,c.height,a),s.samples=n):(i?(s=new jve(c.width,c.height,2,a),s.texture[1].type=Hh):s=new br(c.width,c.height,a),s.depthTexture=new Hm(2048,2048),s.depthTexture.type=to),r===Li&&l!==null&&l.outputEncoding===It&&(Array.isArray(s.texture)?s.texture.forEach(u=>u.encoding=It):s.texture.encoding=It),Array.isArray(s.texture)?s.texture.forEach((u,d)=>{u.name=`EffectComposer.Buffer ${i} ${d}`,u.generateMipmaps=!1}):(s.texture.name=`EffectComposer.Buffer ${i}`,s.texture.generateMipmaps=!1),s.name=o,s}addPass(e,t){var c;let r=this.passes,n=this.renderer,i=n.getDrawingBufferSize(new re),o=((c=n.getContext().getContextAttributes())==null?void 0:c.alpha)??!1,l;if(e.MRTCompatible&&(l=this.inputBuffer.texture[0].type),e.MRTCompatible||(l=this.inputBuffer.texture.type),e.setRenderer(n),e.setSize(i.width,i.height),e.initialize(n,o,l),this.autoRenderToScreen&&(r.length>0&&(r[r.length-1].renderToScreen=!1),e.renderToScreen&&(this.autoRenderToScreen=!1)),t!==void 0?r.splice(t,0,e):r.push(e),this.autoRenderToScreen&&(r[r.length-1].renderToScreen=!0),e.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){let a=this.createDepthTexture();for(e of r)e.setDepthTexture(a)}else e.setDepthTexture(this.depthTexture)}setHelperStartIndex(e){this.helperStartIndex=e}removePass(e){let t=this.passes,r=t.indexOf(e);if(r!==-1&&t.splice(r,1).length>0){if(this.depthTexture!==null){let n=(i,o)=>i||o.needsDepthTexture;t.reduce(n,!1)||(e.getDepthTexture()===this.depthTexture&&e.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&r===t.length&&(e.renderToScreen=!1,t.length>0&&(t[t.length-1].renderToScreen=!0))}}removeAllPasses(){let e=this.passes;this.deleteDepthTexture(),e.length>0&&(this.autoRenderToScreen&&(e[e.length-1].renderToScreen=!1),this.passes=[])}render(e){let t=this.renderer,r=this.copyPass,n=this.inputBuffer,i=this.outputBuffer,o=this.inputBufferSingle,l=this.outputBufferSingle,c=!1,a,s,u,d;e===void 0&&(e=this.timer.update().getDelta());for(let h of this.passes)h.enabled&&(h.MRTCompatible?h.render(t,n,i,e,c):h.render(t,o,l,e,c),h.needsSwap&&(c&&(r.renderToScreen=h.renderToScreen,a=t.getContext(),s=t.state.buffers.stencil,s.setFunc(a.NOTEQUAL,1,4294967295),r.render(t,n,i,e,c),s.setFunc(a.EQUAL,1,4294967295)),u=n,d=o,n=i,o=l,i=u,l=d),h instanceof ZIe?c=!0:h instanceof MIe&&(c=!1))}setSize(e,t,r){let n=this.renderer;if(this._width=e,this._height=t,e===void 0||t===void 0){let o=n.getSize(new re);e=o.width,t=o.height}n.setSize(e,t,r);let i=n.getDrawingBufferSize(new re);this.inputBuffer.setSize(i.width,i.height),this.outputBuffer.setSize(i.width,i.height),this.inputBufferSingle.setSize(i.width,i.height),this.outputBufferSingle.setSize(i.width,i.height);for(let o of this.passes)o.setSize(i.width,i.height)}reset(){let e=this.timer.isAutoResetEnabled();this.dispose(),this.autoRenderToScreen=!0,this.timer.setAutoResetEnabled(e)}dispose(){for(let e of this.passes)e.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.inputBufferSingle!==null&&this.inputBufferSingle.dispose(),this.outputBufferSingle!==null&&this.outputBufferSingle.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},B6e=new Tr({name:"CombineMaterial",uniforms:{inputBufferA:new Oe(null),inputBufferB:new Oe(null)},blending:Bn,depthWrite:!1,depthTest:!1,vertexShader:`
varying vec2 vUv;
void main() {
    gl_Position = vec4(position.xy, 1.0, 1.0);
    vUv = position.xy * 0.5 + 0.5;
}
`,fragmentShader:`
    varying vec2 vUv;
    uniform sampler2D inputBufferA;
    uniform sampler2D inputBufferB;

    // TODO: Why do we need these when postpro of framemode is enabled???
    layout(location = 1) out vec4 gVelocity;

    void main() {
	vec4 resA = texture2D(inputBufferA, vUv);
	vec4 resB = texture2D(inputBufferB, vUv);
    float a = resA.a + resB.a * ( 1.0 - resA.a );

	vec4 res;
	res.rgb =  resA.rgb + (resB.rgb * (1.0 - resA.a));
	res.a = resA.a + resB.a * (1.0 - resA.a);
	gl_FragColor = res;
    gVelocity = vec4(0.0);
    }
`}),F6e=class extends ho{constructor(e){super("HelperPass",void 0,e),this.MRTCompatible=!1,this.fullscreenMaterial=B6e,this.helperPass=new YP(!1,void 0,this.camera),this.helperPass.hasTransmissionPass=!1,this.helperPass.clear=!1,this.helperPass.renderToScreen=!1,this.helperPassOnTop=new YP(!1,void 0,this.camera),this.helperPassOnTop.hasTransmissionPass=!1,this.helperPassOnTop.clear=!1,this.helperPassOnTop.renderToScreen=!1;let t=new FX({preset:Xd.LOW,edgeDetectionMode:YS.COLOR});this.effectPass=new B_(this.camera,t),this.rt=new br(10,10,{minFilter:Wt,magFilter:Wt,wrapS:_n,wrapT:_n,depthBuffer:!0})}setSize(e,t){this.rt.setSize(e,t),this.effectPass.setSize(e,t)}set sceneHelpers(e){this.helperPass.setScene(e)}get sceneHelpers(){return this.helperPass.getScene()}set sceneHelpersOnTop(e){this.helperPassOnTop.setScene(e)}get sceneHelpersOnTop(){return this.helperPassOnTop.getScene()}setCamera(e){this.helperPass.setCamera(e),this.helperPassOnTop.setCamera(e)}initialize(e,t,r){super.initialize(e,t,r),this.effectPass.initialize(e,t,r)}dispose(){super.dispose(),this.rt.dispose(),this.effectPass.dispose()}render(e,t,r){this.rt.depthTexture=t.depthTexture;let n=e.getClearAlpha();e.setClearAlpha(0),this.helperPass.clearDepth=!0,this.helperPass.clearColorOnly=!0,this.helperPass.render(e,this.rt),this.helperPassOnTop.render(e,this.rt),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.rt,r),this.fullscreenMaterial.uniforms.inputBufferA.value=r.texture,this.fullscreenMaterial.uniforms.inputBufferB.value=t.texture,e.setClearAlpha(n),e.setRenderTarget(null),e.clear(),e.render(this.scene,this.camera)}},U6e=`#define GLSLIFY 1
#include <skinning_pars_vertex>
out vec3 n;void main(){
#include <beginnormal_vertex>
#include <skinbase_vertex>
#include <skinnormal_vertex>
#include <defaultnormal_vertex>
#include <begin_vertex>
#include <skinning_vertex>
vec4 view_space=viewMatrix*modelMatrix*vec4(transformed,1.0);gl_Position=projectionMatrix*view_space;n=normalize(transformedNormal);}`,V6e=`#define GLSLIFY 1
in vec3 n;void main(){gl_FragColor=vec4(n,1.0);}`,H6e=`#define GLSLIFY 1
out vec2 v_uv;void main(){v_uv=uv;gl_Position=vec4(position.xy,1.0,1.0);}`,W6e=`#define GLSLIFY 1
in vec2 v_uv;const float pi=3.14159265;const float num_steps=4.0;const float num_directions=4.0;uniform float near;uniform float far;uniform float fov;uniform vec4 proj_info;uniform bool is_ortho;uniform vec2 resolution;uniform float radius_of_influence;uniform float radius_in_screen_space;uniform float exponent;uniform vec3 ao_color;uniform float bias;uniform sampler2D texture_depth;uniform sampler2D texture_normals;uniform sampler2D texture_blue_noise;uniform sampler2D texture_blue_noise_in_disk;uniform sampler2D texture_color_pass;uniform int frame_index;uniform bool fog_enabled;uniform float fog_near;uniform float fog_far;vec3 uv_to_view_space(vec2 uv,float eye_z){return vec3((uv*proj_info.xy+proj_info.zw)*(is_ortho ? 1.0 : eye_z),eye_z);}float linearize_depth(float depth_sampled){float z=is_ortho ? depth_sampled : depth_sampled*2.0-1.0;return mix((2.0*near*far)/(far+near-z*(far-near)),near+z*(far-near),float(is_ortho));}vec3 get_view_position(vec2 uv_coords){float linear_depth=linearize_depth(texture(texture_depth,uv_coords).x);return uv_to_view_space(uv_coords,linear_depth);}vec3 min_difference(vec3 p,vec3 right,vec3 left){vec3 v1=right-p;vec3 v2=p-left;return(dot(v1,v1)<dot(v2,v2))? v1 : v2;}vec3 rebuild_normal(in vec2 uv,in vec3 p){vec2 one_over_resolution=1.0/resolution;vec3 r=get_view_position(uv+vec2(one_over_resolution.x,0));vec3 l=get_view_position(uv+vec2(-one_over_resolution.x,0));vec3 t=get_view_position(uv+vec2(0,one_over_resolution.y));vec3 b=get_view_position(uv+vec2(0,-one_over_resolution.y));return normalize(cross(min_difference(p,r,l),min_difference(p,t,b)));}float falloff(float distance_squared){float neg_inv_r2=-1.0/(radius_of_influence*radius_of_influence);return distance_squared*neg_inv_r2+1.0;}float ao_contribution(vec3 P,vec3 N,vec3 S){vec3 to_sample=S-P;float norm_squared=dot(to_sample,to_sample);float norm=sqrt(norm_squared);float cos_theta=dot(N,to_sample)/norm;return clamp(cos_theta-bias,0.0,1.0)*clamp(falloff(norm_squared),0.0,1.0);}float compute_ambient_occlusion(vec2 uv,float radius_in_screen_space,vec3 pc,vec3 view_space_n){vec2 one_over_resolution=1.0/resolution;ivec2 noise_uv=ivec2(int(mod(gl_FragCoord.x,128.0)),int(mod(gl_FragCoord.y,128.0)));float noise=texelFetch(texture_blue_noise,noise_uv,0).r;noise=fract(noise+0.61803398875*float(frame_index));float theta=noise*2.0*3.1415;float ct=cos(theta);float st=sin(theta);float step_size=radius_in_screen_space/(num_steps+1.0);const float angle_step=2.0*pi/num_directions;float contribution=0.0;for(int i=0;i<int(num_directions);++i){float current_pixel=step_size+1.0;for(int j=0;j<int(num_steps);++j){int index=i*int(num_steps)+j;vec2 blue_noise_sample=texelFetch(texture_blue_noise_in_disk,ivec2(index,0),0).rg;vec2 disk_point;disk_point.x=blue_noise_sample.x*ct-blue_noise_sample.y*st;disk_point.y=blue_noise_sample.x*st+blue_noise_sample.y*ct;vec2 sample_direction=disk_point;vec2 snapped_uv=round(current_pixel*sample_direction)*one_over_resolution+uv;vec3 ps=get_view_position(snapped_uv);current_pixel+=step_size;contribution+=ao_contribution(pc,view_space_n,ps);}}float mult=1.0/(1.0-bias);contribution*=mult/(num_directions*num_steps);return clamp(1.0-contribution*2.0,0.0,1.0);}
#define USE_GBUFFER_NORMALS
void main(){vec3 view_space_p=get_view_position(v_uv);
#ifdef USE_GBUFFER_NORMALS
vec3 view_space_n=texture(texture_normals,v_uv).rgb;view_space_n.z*=-1.0;
#else
vec3 view_space_n=-rebuild_normal(v_uv,view_space_p);
#endif
float radius_ss=radius_in_screen_space/(is_ortho ? 1.0 : view_space_p.z);float ao=compute_ambient_occlusion(v_uv,radius_ss,view_space_p,view_space_n);float final=pow(ao,exponent);if(view_space_p.z>=far){final=1.0;}vec3 color=mix(ao_color,vec3(1.0),final);if(fog_enabled){float fog_factor=smoothstep(fog_near,fog_far,view_space_p.z);color=mix(color,vec3(1.0),fog_factor);}gl_FragColor=vec4(color,1.0);}`,G6e=`#define GLSLIFY 1
out vec2 v_uv;void main(){gl_Position=vec4(position.xy,1.0,1.0);v_uv=uv;}`,q6e=`#define GLSLIFY 1
in vec2 v_uv;uniform sampler2D texture_ao_lrez;uniform sampler2D texture_depth_lrez;uniform sampler2D texture_depth_hrez;uniform float near;uniform float far;float linearize_depth(float depth_sampled){float z=depth_sampled*2.0-1.0;return(2.0*near*far)/(far+near-z*(far-near));}vec2 nearest_depth_filter(in vec2 uv){vec2 resolution=vec2(textureSize(texture_depth_lrez,0));vec2 texel_size=1.0/resolution;vec2 offset=uv-0.5*texel_size;float d_hrez=texture(texture_depth_hrez,uv).r;float a=abs(d_hrez-texture(texture_depth_lrez,offset).r);float b=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,0.0)).r);float c=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(0.0,texel_size.y)).r);float d=abs(d_hrez-texture(texture_depth_lrez,offset+vec2(texel_size.x,texel_size.y)).r);float min_diff=min(a,min(b,min(c,d)));if(min_diff==a)return offset;if(min_diff==b)return offset+vec2(texel_size.x,0.0);if(min_diff==c)return offset+vec2(0.0,texel_size.y);if(min_diff==d)return offset+vec2(texel_size.x,texel_size.y);}void main(){
#ifdef DEBUG
float d_lrez=texture(texture_depth_lrez,v_uv).r;float d_hrez=texture(texture_depth_hrez,v_uv).r;float output_d=mix(linearize_depth(d_lrez)/far,linearize_depth(d_hrez)/far,step(0.5,v_uv.x));gl_FragColor=vec4(vec3(output_d),1.0);
#else
vec2 filtered_uv=nearest_depth_filter(v_uv);vec4 ao=texture(texture_ao_lrez,filtered_uv);gl_FragColor=vec4(ao.rgb,1.0);gl_FragColor=ao;
#endif
}`,S0=[[.478712,.875764],[-.337956,-.793959],[-.955259,-.028164],[.864527,.325689],[.209342,-.395657],[-.106779,.672585],[.156213,.235113],[-.413644,-.082856],[-.415667,.323909],[.141896,-.93998],[.954932,-.182516],[-.766184,.410799],[-.434912,-.458845],[.415242,-.078724],[.728335,-.491777],[-.058086,-.066401],[.20299,.686837],[-.808362,-.556402],[.507386,-.640839],[-.723494,-.22924],[.48974,.317826],[-.622663,.765301],[-.01064,.929347],[.663146,.647618],[-.096674,-.413835],[.525945,-.321063],[-.122533,.366019],[.195235,-.687983],[-.563203,.098748],[.418563,.561335],[-.378595,.800367],[.826922,.001024],[-.085372,-.766651],[-.92192,.183673],[-.590008,-.721799],[.167751,-.164393],[.032961,-.56253],[.6329,-.107059],[-.46408,.569669],[-.173676,-.958758],[-.242648,-.234303],[-.275362,.157163],[.382295,-.795131],[.562955,.115562],[.190586,.470121],[.770764,-.297576],[.237281,.93105],[-.666642,-.455871],[-.905649,-.298379],[.33952,.157829],[.701438,-.7041],[-.062758,.160346],[-.220674,.957141],[.642692,.432706],[-.77339,-.015272],[-.671467,.24688],[.158051,.062859],[.806009,.527232],[-.05762,-.247071],[.333436,-.51671],[-.550658,-.315773],[-.652078,.589846],[.008818,.530556],[-.210004,.519896]],Y6e=new Tr({vertexShader:U6e,fragmentShader:V6e}),ix=new Tr({vertexShader:G6e,fragmentShader:q6e,uniforms:{texture_ao_lrez:new Oe(null),texture_depth_lrez:new Oe(null),texture_depth_hrez:new Oe(null),near:new Oe(null),far:new Oe(null)}}),$6e=class extends ho{constructor(e,t){super("AmbientOcclusionPass",void 0,t),this.fogEnabled=!1,this.fogNear=1,this.fogFar=1e3,this.frameIndex=0,this._runHalfRes=!0,this._width=1,this._height=1;let r=1024,n=1024;this.gBuffer=new br(r,n,{type:to,depthTexture:new Hm(r,n),minFilter:Wt,magFilter:Wt}),this.depthBufferHighRes=new br(r,n,{depthTexture:new Hm(r,n)}),this.aoBuffer=new br(r,n,{minFilter:Wt,magFilter:Wt}),this.splineScene=e,this.splineCamera=t;let i=new Float32Array(S0.length*2);for(let l=0;l<S0.length;l++){let c=l*2;i[c+0]=S0[l][0],i[c+1]=S0[l][1]}this.blueNoiseInDiskTexture=new Tu(i,S0.length,1,Xw,to),this.blueNoiseInDiskTexture.wrapS=mc,this.blueNoiseInDiskTexture.wrapT=mc,this.blueNoiseInDiskTexture.needsUpdate=!0,this.hbaoMaterial=new Tr({vertexShader:H6e,fragmentShader:W6e,uniforms:{near:new Oe(null),far:new Oe(null),fov:new Oe(null),proj_info:new Oe(new Ot),is_ortho:new Oe(!1),resolution:new Oe(new re),radius_of_influence:new Oe(8),radius_in_screen_space:new Oe(1),exponent:new Oe(1),ao_color:new Oe(new L),bias:new Oe(.5),texture_depth:new Oe(null),texture_normals:new Oe(null),texture_blue_noise:new Oe(null),texture_blue_noise_in_disk:new Oe(this.blueNoiseInDiskTexture),frame_index:new Oe(0),fog_enabled:new Oe(!1),fog_near:new Oe(1),fog_far:new Oe(1e3)}}),this.radius=128,this.aoColor={r:0,g:0,b:0},this.bias=.5,this.hbaoMaterial.uniforms.texture_depth.value=this.gBuffer.depthTexture,this.hbaoMaterial.uniforms.texture_normals.value=this.gBuffer.texture,this.needsSwap=!0,this.aaBuffer=new br(r,n,{minFilter:Wt,magFilter:Wt,wrapS:_n,wrapT:_n,depthBuffer:!1,type:to});let o=new FX({preset:Xd.ULTRA,edgeDetectionMode:YS.COLOR});this.effectPass=new B_(this.camera,o)}initialize(e,t,r){super.initialize(e,t,r),this.effectPass.initialize(e,t,r)}setBlueNoiseTexture(e){this.hbaoMaterial.uniforms.texture_blue_noise.value=e}setSize(e,t){this._width=e,this._height=t,this.depthBufferHighRes.setSize(e,t);let r=this._runHalfRes?.5:1,n=e*r,i=t*r;this.gBuffer.setSize(n,i),this.aoBuffer.setSize(n,i),this.hbaoMaterial.uniforms.resolution.value.set(n,i),this.aaBuffer.setSize(n,i),this.effectPass.setSize(n,i)}get runHalfRes(){return this._runHalfRes}set runHalfRes(e){this._runHalfRes=e,this.setSize(this._width,this._height)}setCamera(e){this.splineCamera=e}setScene(e){this.splineScene=e}render(e,t,r){this.splineScene.overrideMaterial=Y6e;let n=this.splineCamera.layers.mask;if(this.splineCamera.layers.set(5),e.setRenderTarget(this.gBuffer),e.clear(),e.render(this.splineScene,this.splineCamera),e.setRenderTarget(this.depthBufferHighRes),e.clear(),e.render(this.splineScene,this.splineCamera),this.splineScene.overrideMaterial=null,this.splineCamera.layers.mask=n,this.hbaoMaterial.uniforms.radius_of_influence.value=this.radius,this.hbaoMaterial.uniforms.ao_color.value.set(this.aoColor.r,this.aoColor.g,this.aoColor.b),this.hbaoMaterial.uniforms.bias.value=this.bias,this.hbaoMaterial.uniforms.fog_enabled.value=this.fogEnabled,this.hbaoMaterial.uniforms.fog_near.value=this.fogNear,this.hbaoMaterial.uniforms.fog_far.value=this.fogFar,this.hbaoMaterial.uniforms.frame_index.value=this.frameIndex,this.frameIndex++,this.splineCamera.isPerspectiveCamera){this.hbaoMaterial.uniforms.near.value=this.splineCamera.perspCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.perspCamera.far;let i=this.splineCamera.perspCamera.projectionMatrix.elements,o=2/i[0],l=2/i[5],c=-(1-i[8])/i[0],a=-(1+i[9])/i[5];this.hbaoMaterial.uniforms.proj_info.value.set(o,l,c,a);let s=this.splineCamera.perspCamera.fov*(Math.PI/180),u=this.hbaoMaterial.uniforms.resolution.value.y/(Math.tan(s*.5)*2),d=this.hbaoMaterial.uniforms.radius_of_influence.value*.5*u;this.hbaoMaterial.uniforms.radius_in_screen_space.value=d,this.hbaoMaterial.uniforms.is_ortho.value=!1}else{this.hbaoMaterial.uniforms.near.value=this.splineCamera.orthoCamera.near,this.hbaoMaterial.uniforms.far.value=this.splineCamera.orthoCamera.far;let i=this.splineCamera.orthoCamera.projectionMatrix.elements,o=2/i[0],l=2/i[5],c=-(1+i[12])/i[0],a=-(1-i[13])/i[5];this.hbaoMaterial.uniforms.proj_info.value.set(o,l,c,a);let s=.5*(this.hbaoMaterial.uniforms.resolution.value.y/l),u=this.hbaoMaterial.uniforms.radius_of_influence.value*s;this.hbaoMaterial.uniforms.radius_in_screen_space.value=u,this.hbaoMaterial.uniforms.is_ortho.value=!0}this.runHalfRes?(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aoBuffer),e.clear(),e.render(this.scene,this.camera),this.fullscreenMaterial=ix,ix.uniforms.texture_ao_lrez.value=this.aoBuffer.texture,ix.uniforms.texture_depth_lrez.value=this.gBuffer.depthTexture,ix.uniforms.texture_depth_hrez.value=this.depthBufferHighRes.depthTexture,e.setRenderTarget(e.aoRenderTarget),e.clear(),e.render(this.scene,this.camera)):(this.fullscreenMaterial=this.hbaoMaterial,e.setRenderTarget(this.aaBuffer),e.clear(),e.render(this.scene,this.camera),this.effectPass.renderToScreen=!1,this.effectPass.render(e,this.aaBuffer,e.aoRenderTarget))}dispose(){this.gBuffer.dispose(),this.depthBufferHighRes.dispose(),this.aoBuffer.dispose()}},X6e=`
varying vec2 vUv;
void main() {
    vUv = uv;
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,K6e=`
uniform sampler2D tInput;
uniform sampler2D tMap;
uniform vec2 resolution;
varying vec2 vUv;

uniform vec2 uResolution;
uniform vec2 uCoords;

// Draws a rectangle at center <st> with size <size>
float rectangle(vec2 st, vec2 size) {
    size = vec2(0.5) - size * 0.5;
    vec2 uv = vec2(step(size.x, st.x), step(size.y, st.y));
    uv *= vec2(step(size.x, 1.0 - st.x), step(size.y, 1.0 - st.y));

    return uv.x * uv.y;
}

uniform vec2 uSize;
uniform float uScale;
uniform float uDPR;
uniform float uCurrent;
uniform vec3 uSceneColor;

void main() {
    vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
    screenUv *= 1.0 / uDPR;

    vec2 center = vec2(0.5, -0.5);
    vec2 outsideUv = screenUv;
    outsideUv += center;
    outsideUv -= uCoords.xy / uResolution.xy;
    outsideUv = (outsideUv - 0.5) + 0.5;
    outsideUv -= center;
    vec2 s = (uSize / uResolution) * uScale;
    float isOutside = 1.0 - rectangle(outsideUv, s);
    
    vec2 mid = vec2(0.5);
    vec2 insideUv = (screenUv - mid + s * mid) / s;
    vec4 background = texture2D(tInput, screenUv);
    vec4 image = texture2D(tMap, insideUv);
    gl_FragColor = mix(image, background, isOutside);
}
`,Q6e=class extends sl{constructor(){super(new Tr({vertexShader:X6e,fragmentShader:K6e,uniforms:{tInput:new Oe(null),tMap:new Oe(null),uResolution:new Oe(new re),uSize:new Oe(new re),uCoords:new Oe(new re),uScale:new Oe(1),uSceneColor:new Oe(new ht(16711680)),uDPR:new Oe(1),uCurrent:new Oe(0)}}),"tInput"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.tMap.value}set texture(e){this.uniforms.tMap.value=e}},Z6e=`
void main() {
    gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,J6e=`
uniform sampler2D toScene;
uniform sampler2D fromScene;
uniform vec2 resolution;

uniform vec2 uResolution;
uniform float uDPR;

uniform float mixRatio;
uniform sampler2D tMixTexture;
uniform int useTexture;
uniform float threshold;

void main() {
	vec2 screenUv = gl_FragCoord.xy / uResolution.xy;
	screenUv *= 1.0 / uDPR;

	vec4 texel1 = texture2D( fromScene, screenUv );
	vec4 texel2 = texture2D( toScene, screenUv );

	if (useTexture==1) {
		
		vec4 transitionTexel = texture2D( tMixTexture, screenUv );
		float r = mixRatio * (1.0 + threshold * 2.0) - threshold;
		float mixf=clamp((transitionTexel.r - r)*(1.0/threshold), 0.0, 1.0);
		
		gl_FragColor = mix( texel1, texel2, mixf );
	} else {
		
		gl_FragColor = mix( texel1, texel2, mixRatio );
		
	}
}
`,eOe=[],tOe=class extends sl{constructor(){super(new Tr({vertexShader:Z6e,fragmentShader:J6e,uniforms:{toScene:new Oe(null),fromScene:new Oe(null),uResolution:new Oe(new re),uDPR:new Oe(1),mixRatio:new Oe(0),threshold:new Oe(.1),useTexture:new Oe(0),tMixTexture:{value:eOe[0]}}}),"toScene"),this.needsSwap=!0}get uniforms(){return this.fullscreenMaterial.uniforms}get texture(){return this.uniforms.fromScene.value}set texture(e){this.uniforms.fromScene.value=e}};function z9(e,t){return t&&t.enabled&&e.push(t.effect),e}var rOe=e=>Object.values(nr).includes(e)?e:nr.NORMAL,nOe=class extends wi{constructor(e){super(),this.postprocessingState=A_.defaultData,this._scene=new $u,this._camera=new Ri,this.effects=new Map,this.blueNoiseTexture=new Tu,this._renderToScreen=!0,this.clock=new b_e,this.renderer=e,this.debug=!1,this.effects.set("bloom",new _6e),this.effects.set("chromaticAberration",new E6e),this.effects.set("vignette",new T6e),this.effects.set("noise",new M6e),this.effects.set("colorAverage",new C6e),this.effects.set("hueSaturation",new A6e),this.effects.set("brightnessContrast",new S6e),this.effects.set("depthOfField",new P6e),this.effects.set("pixelation",new k6e),this.effectComposer=new N6e(this.renderer),this.effectComposer.autoRenderToScreen=!1,this.opaquePass=new YP(!0,this.scene,this.camera),this.opaquePass.clear=!0,this.transmissionPass=new z6e(this.scene,this.camera,this.renderer),this.aoPass=new $6e(this.scene,this.camera),this.taaPass=new R6e,this.taaPass.renderToScreen=!1,this.helperPass=new F6e(this.camera),this.helperPass.renderToScreen=!1,this.overlayPass=new Q6e,this.overlayPass.enabled=!1,this.sceneTransitionPass=new tOe,this.sceneTransitionPass.enabled=!1,this._initCopyPass(),this._initPasses()}set overlayTexture(e){e!==void 0?(this.overlayPass.texture=e,this.overlayPass.enabled=!0):this.overlayPass.enabled=!1}get overlayTexture(){return this.overlayPass.texture}set sceneHelpers(e){this.helperPass.sceneHelpers=e}get sceneHelpers(){return this.helperPass.sceneHelpers}set sceneHelpersOnTop(e){this.helperPass.sceneHelpersOnTop=e}get sceneHelpersOnTop(){return this.helperPass.sceneHelpersOnTop}get scene(){return this._scene}set scene(e){this._scene=e,this.opaquePass.setScene(e),this.transmissionPass.setScene(e),this.aoPass.setScene(e)}get camera(){return this._camera}set camera(e){this._camera=e,this.opaquePass.setCamera(e),this.transmissionPass.setCamera(e),this.aoPass.setCamera(e),this.helperPass.setCamera(e)}updateRenderToScreen(){let e=!1;for(let t=this.effectComposer.passes.length-1;t>=0;t--){let r=this.effectComposer.passes[t];if(r.enabled===!0&&!e&&this._renderToScreen){r.renderToScreen=!0,e=!0;continue}r.renderToScreen=!1}}disableHelpers(){this.helperPass.enabled=!1,this.updateRenderToScreen()}enableHelpers(){this.helperPass.enabled=!0,this.updateRenderToScreen()}updateBlueNoiseTexture(e){this.blueNoiseTexture=new Tu(e,128,128),this.blueNoiseTexture.wrapS=mc,this.blueNoiseTexture.wrapT=mc,this.blueNoiseTexture.minFilter=kr,this.blueNoiseTexture.magFilter=kr,this.blueNoiseTexture.needsUpdate=!0}setAmbientOcclusionParams(e,t,r,n,i,o,l,c){this.aoPass.enabled=e,this.aoPass.radius=t,this.aoPass.bias=r,this.aoPass.aoColor=n,this.aoPass.fogEnabled=i,this.aoPass.fogNear=o,this.aoPass.fogFar=l,this.aoPass.runHalfRes!==!c&&(this.aoPass.runHalfRes=!c)}setTransmissionPassEnabled(e){this.transmissionPass.enabled=e,this.opaquePass.hasTransmissionPass=e}_initPasses(){var e,t;if((e=this.uvEffectPass)==null||e.dispose(),(t=this.effectPass)==null||t.dispose(),this.effectComposer.removeAllPasses(),this.transmissionPass.updatePasses(this.renderer),this.effectComposer.addPass(this.aoPass),this.effectComposer.addPass(this.opaquePass),this.effectComposer.addPass(this.transmissionPass),this.effectComposer.addPass(this.taaPass),this.postprocessingState.enabled){let r=[this.effects.get("pixelation")].reduce(z9,[]);r.length>0&&(this.uvEffectPass=new B_(this.camera,...r),this.uvEffectPass.renderToScreen=!1,this.effectComposer.addPass(this.uvEffectPass));let n=[this.effects.get("chromaticAberration"),this.effects.get("bloom"),this.effects.get("colorAverage"),this.effects.get("hueSaturation"),this.effects.get("brightnessContrast"),this.effects.get("vignette"),this.effects.get("noise")].reduce(z9,[]);n.length>0&&(this.effectPass=new B_(this.camera,...n),this.effectPass.renderToScreen=!1,this.effectComposer.addPass(this.effectPass))}this.effectComposer.addPass(this.overlayPass),this.effectComposer.addPass(this.sceneTransitionPass),this.effectComposer.addPass(this.helperPass)}_initCopyPass(){if(this._savePass)return;let e=new re;this.renderer.getDrawingBufferSize(e),this._rt=new br(e.x,e.y,{depthBuffer:!1,stencilBuffer:!1,wrapS:mc,wrapT:mc}),this._rt.samples=0,this._savePass=new GP(this._rt,!1),this._savePass.renderToScreen=!1}setCopyPass(e){this._rt=e,this._savePass=new GP(this._rt,!1),this.renderToScreen=!1}get renderToScreen(){return this._renderToScreen}set renderToScreen(e){if(this._renderToScreen===e)return;let t=this.effectComposer;!t||(e===!0?t.removePass(this._savePass):t.addPass(this._savePass),this._renderToScreen=e,this.updateRenderToScreen())}set sceneTransitionFromTexture(e){e!==this.sceneTransitionPass.texture&&(e!==null?this.sceneTransitionPass.enabled=!0:(this.sceneTransitionPass.enabled=!1,this.updateRenderToScreen()),this.sceneTransitionPass.texture=e)}get texture(){return this._rt&&this._rt.texture}get renderTarget(){return this._rt}updatePostprocessing(e){let{enabled:t,...r}=e,n=!1;t!==this.postprocessingState.enabled&&(n=!0);for(let i of Object.entries(r)){let o=i[1],l=this.effects.get(i[0]);if(l){l.enabled!==o.enabled&&(n=!0),l.enabled=o.enabled;for(let[c,a]of Object.entries(o))c==="blendFunction"?l.blendFunction=rOe(a):l[c]=a}}this.postprocessingState=e,n&&this._initPasses()}render(){this.effectComposer.render(this.clock.getDelta())}setScissor(e,t,r,n){e instanceof Ot?(this.effectComposer.inputBuffer.scissor.set(e.x,e.y,e.z,e.w),this.effectComposer.outputBuffer.scissor.set(e.x,e.y,e.z,e.w)):(this.effectComposer.inputBuffer.scissor.set(e,t,r,n),this.effectComposer.outputBuffer.scissor.set(e,t,r,n));let i=this.renderer.getPixelRatio();this.effectComposer.inputBuffer.scissor.multiplyScalar(i),this.effectComposer.outputBuffer.scissor.multiplyScalar(i),this.renderer.setScissor(e,t,r,n)}setScissorTest(e){this.effectComposer.inputBuffer.scissorTest=e,this.effectComposer.outputBuffer.scissorTest=e,this.renderer.setScissorTest(e)}setViewport(e,t,r,n){e instanceof Ot?(this.effectComposer.inputBuffer.viewport.copy(e),this.effectComposer.outputBuffer.viewport.copy(e)):(this.effectComposer.inputBuffer.viewport.set(e,t,r,n),this.effectComposer.outputBuffer.viewport.set(e,t,r,n))}resize(e,t,r){if(this.effectComposer.setSize(e,t,r),this._rt){let n=this.renderer.getPixelRatio();this._rt.setSize(e*n,t*n)}}dispose(){var e,t;(e=this.uvEffectPass)==null||e.dispose(),(t=this.effectPass)==null||t.dispose(),this.effectComposer.dispose()}},iOe=e=>`

// PCSS implementation based on:
// https://www.gamedev.net/articles/programming/graphics/contact-hardening-soft-shadows-made-fast-r4906/
// NOTE: This number affects how big the shadow blur can
// possibly get. Bigger number == bigger blur, but less precise results

const float  gPenumbraFilterSize = 80.0;
const int   gPenumbraSamples = ${e};
const int gShadowSamples = ${e};
const float gShadowSamplesRpc = 1.0f / float(gShadowSamples);

#ifdef USE_SHADOWMAP
    #if NUM_DIR_LIGHT_SHADOWS > 0

        uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
        varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];

        struct DirectionalLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];

    #endif

    #if NUM_SPOT_LIGHT_SHADOWS > 0

        uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
        varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_SHADOWS ];

        struct SpotLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
        };

        uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];

    #endif

    #if NUM_POINT_LIGHT_SHADOWS > 0

        uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
        varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];

        struct PointLightShadow {
            float shadowBias;
            float shadowNormalBias;
            float shadowRadius;
            vec2 shadowMapSize;
            float shadowCameraNear;
            float shadowCameraFar;
        };

        uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];

    #endif

    /*
    #if NUM_RECT_AREA_LIGHTS > 0

        // TODO (abelnation): create uniforms for area light shadows

    #endif
    */

float computePenumbra(int index, sampler2D shadowMap, float temporalAngle, float texelSize, vec2 uv, float compare, float texelScalar, float shadowRadius)
{
    float penumbra = 1.0;
    float blockerDepthAvg = 0.0;
    float blockerCount = 0.0;

    #pragma unroll_loop_start
    for(int i = 0; i < gPenumbraSamples; i ++)
    {
        vec2 offset = (vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize) * texelScalar;
        float depth = unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) );

        if(depth < compare + 0.0001)
        {
            blockerDepthAvg += depth;
            blockerCount++;
        }
    }
    #pragma unroll_loop_end

    if (blockerCount > 0.0)
    {
        blockerDepthAvg /= blockerCount;

        // Compute penumbra
        penumbra = (compare - blockerDepthAvg) / (blockerDepthAvg);
        penumbra *= penumbra;
        penumbra *= 200.0 * penumbraSize[min(index, 5 - 1)]; // Magic number that affects how quickly the penumbra grows

        return clamp(penumbra, 0.00, 1.0);
    }
    return 0.0;
}

float vogelShadow(int index, sampler2D shadowMap, vec2 uv, float texelSize, float compare, float shadowRadius)
{
    float shadow         = 0.0f;

    // NOTE: When using TAA, we should use screen space interleaved gradient noise
    vec2 halton = haltonSequence[frameIndex];
    float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
    float temporalAngle  = temporalOffset * PI2;

    float texelScalar = (gPenumbraFilterSize) / (texelSize * 1024.);
    float penumbra = computePenumbra(index, shadowMap, temporalAngle, texelSize, uv, compare, texelScalar, shadowRadius);
    if (penumbra == -1.0) {
        return 1.0;
    }

    #pragma unroll_loop_start
    for (int i = 0; i < gShadowSamples; i++)
    {
        vec2 vogelSample =  vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;
        // Overall blurring offset
        vec2 offset = vogelSample * (shadowRadius * 2.);

        // Penumbra offset
        offset += vogelSample * (penumbra * texelScalar);

        shadow += step( compare, unpackRGBAToDepth( texture2D( shadowMap, uv + offset ) ) );
    }
    #pragma unroll_loop_end

    return shadow * gShadowSamplesRpc;
}


    float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {

        return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );

    }

    vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {

        return unpackRGBATo2Half( texture2D( shadow, uv ) );

    }

    float VSMShadow (sampler2D shadow, vec2 uv, float compare ){

        float occlusion = 1.0;

        vec2 distribution = texture2DDistribution( shadow, uv );

        float hard_shadow = step( compare , distribution.x ); // Hard Shadow

        if (hard_shadow != 1.0 ) {

            float distance = compare - distribution.x ;
            float variance = max( 0.00000, distribution.y * distribution.y );
            float softness_probability = variance / (variance + distance * distance ); // Chebeyshevs inequality
            softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 ); // 0.3 reduces light bleed
            occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );

        }
        return occlusion;

    }

    float getShadow( int i, sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {

        float shadow = 1.0;

        shadowCoord.xyz /= shadowCoord.w;
        shadowCoord.z += shadowBias;

        // if ( something && something ) breaks ATI OpenGL shader compiler
        // if ( all( something, something ) ) using this instead

        bvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );
        bool inFrustum = all( inFrustumVec );

        bvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );

        bool frustumTest = all( frustumTestVec );

        if ( frustumTest ) {

        #if defined( SHADOWMAP_TYPE_PCF )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            return vogelShadow(i, shadowMap, shadowCoord.xy, texelSize.x, shadowCoord.z, shadowRadius );

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )

            vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
            float dx = texelSize.x;
            float dy = texelSize.y;

            vec2 uv = shadowCoord.xy;
            vec2 f = fract( uv * shadowMapSize + 0.5 );
            uv -= f * texelSize;

            shadow = (
                texture2DCompare( shadowMap, uv, shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
                texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
                     f.x ) +
                mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
                     texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
                     f.y ) +
                mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
                          f.x ),
                     mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
                          texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
                          f.x ),
                     f.y )
            ) * ( 1.0 / 9.0 );

        #elif defined( SHADOWMAP_TYPE_VSM )

            shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );

        #else // no percentage-closer filtering:

            shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );

        #endif

        }

        return shadow;

    }

    // cubeToUV() maps a 3D direction vector suitable for cube texture mapping to a 2D
    // vector suitable for 2D texture mapping. This code uses the following layout for the
    // 2D texture:
    //
    // xzXZ
    //  y Y
    //
    // Y - Positive y direction
    // y - Negative y direction
    // X - Positive x direction
    // x - Negative x direction
    // Z - Positive z direction
    // z - Negative z direction
    //
    // Source and test bed:
    // https://gist.github.com/tschw/da10c43c467ce8afd0c4

    vec2 cubeToUV( vec3 v, float texelSizeY ) {

        // Number of texels to avoid at the edge of each square

        vec3 absV = abs( v );

        // Intersect unit cube

        float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
        absV *= scaleToCube;

        // Apply scale to avoid seams

        // two texels less per square (one texel will do for NEAREST)
        v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );

        // Unwrap

        // space: -1 ... 1 range for each square
        //
        // #X##         dim    := ( 4 , 2 )
        //  # #         center := ( 1 , 1 )

        vec2 planar = v.xy;

        float almostATexel = 1.5 * texelSizeY;
        float almostOne = 1.0 - almostATexel;

        if ( absV.z >= almostOne ) {

            if ( v.z > 0.0 )
                planar.x = 4.0 - v.x;

        } else if ( absV.x >= almostOne ) {

            float signX = sign( v.x );
            planar.x = v.z * signX + 2.0 * signX;

        } else if ( absV.y >= almostOne ) {

            float signY = sign( v.y );
            planar.x = v.x + 2.0 * signY + 2.0;
            planar.y = v.z * signY - 2.0;

        }

        // Transform to UV space

        // scale := 0.5 / dim
        // translate := ( center + 0.5 ) / dim
        return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );

    }

    float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {

        float shadow = 1.0;
        vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );

        // for point lights, the uniform @vShadowCoord is re-purposed to hold
        // the vector from the light to the world-space position of the fragment.
        vec3 lightToPosition = shadowCoord.xyz;

        // dp = normalized distance from light to fragment position
        float compare = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear ); // need to clamp?
        compare += shadowBias;

        // bd3D = base direction 3D
        vec3 bd3D = normalize( lightToPosition );

        vec2 halton = haltonSequence[frameIndex];
        float temporalOffset = getNoiseInterleavedGradient(gl_FragCoord.xy + halton);
        float temporalAngle  = temporalOffset * PI2;

        #if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_VSM )
            for (int i = 0; i < gShadowSamples; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                // NOTE: Removed for now
                // Penumbra offset
                //offset += vec3(vogelSample.x, vogelSample.y, vogelSample.y)  * (penumbra * gPenumbraFilterSize);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * gShadowSamplesRpc;

        #elif defined( SHADOWMAP_TYPE_PCF_SOFT )
            for (int i = 0; i < 16; i++) {
                vec2 vogelSample = vogelDiskSample(i, gShadowSamples, temporalAngle) * texelSize;

                // Overall blurring offset
                vec3 offset = vec3(vogelSample.x, vogelSample.y, -vogelSample.x) * (shadowRadius + 5.);

                shadow += texture2DCompare( shadowMap, cubeToUV( bd3D + offset, texelSize.y ), compare );

            }
            return shadow * (1.0 / 16.0);
        #else // no percentage-closer filtering

            return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), compare );

        #endif

    }

#endif
`,oOe=Lt.lights_fragment_begin,aOe=Lt.shadowmask_pars_fragment,L9=null,sOe=e=>{switch(e){case"low":return 8;case"medium":return 16;case"high":return 32;default:return 16}},lOe=(e="medium")=>{if(L9===e)return!1;L9=e;let t=sOe(e);Lt.shadowmap_pars_fragment=iOe(t);let r=oOe.slice();r=r.replace("getShadow( spotShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX + 3, spotShadowMap[ i ]"),r=r.replace("getShadow( directionalShadowMap[ i ]","getShadow( UNROLLED_LOOP_INDEX, directionalShadowMap[ i ]"),Lt.lights_fragment_begin=r;let n=aOe.slice();return n=n.replaceAll("getShadow(","getShadow( UNROLLED_LOOP_INDEX, "),Lt.shadowmask_pars_fragment=n,!0},cOe=`
attribute vec3 randomColor;
varying vec3 vNormal;
flat out vec3 vColor;

void main()
{
vNormal = normal;
vColor = randomColor;
gl_Position = projectionMatrix * (modelViewMatrix * vec4(position, 1.0));
}
`,uOe=`
uniform float depthContrast;
varying vec3 vNormal;
flat in vec3 vColor;
void main()
{
vec3 normal = (normalize(vNormal)).rgb;

float contrastDepth = (gl_FragCoord.z - 0.5) * depthContrast + 0.5;

vec3 resultColor = mix(mix(vColor, normal, 0.2), vec3(contrastDepth), 0.4);
gl_FragColor = vec4(resultColor, vColor.r);
}
`,ZC=new Tr({vertexShader:cOe,fragmentShader:uOe,uniforms:{depthContrast:{value:1}}}),N9=new Xn,dOe=class extends Mq{constructor(e){super(e),this._pixelRatio=this.getPixelRatio(),this.viewportWidth=1,this.viewportHeight=1,this.resolution=new re,this.pipeline=new nOe(this),this.dummyCamera=new Ri,this.sceneTransitionDuration=0,this.sceneTransitionTimeRemaining=-1,this.isXRCopyPassSet=!1,this.clear=(i=!0,o=!0,l=!0)=>{let c=this.getContext(),a=0;i&&(a|=c.COLOR_BUFFER_BIT),o&&(a|=c.DEPTH_BUFFER_BIT),l&&(a|=c.STENCIL_BUFFER_BIT),c.clear(a),c.clearBufferfv(c.COLOR,1,[0,0,0,1])},this.autoClear=!1;let t=this.setPixelRatio.bind(this),r=this.setSize.bind(this);this.shadowMap.enabled=!0,this.shadowMap.type=U5,this.dummyCamera.matrixAutoUpdate=!1;let n=this.getContext();if(n&&"drawingBufferColorSpace"in n)try{n.drawingBufferColorSpace="display-p3"}catch(i){console.warn(i)}this.setPixelRatio=i=>{this._pixelRatio!==i&&(this._pixelRatio=i,t(i))},this.setSize=(i,o,l=!0)=>{var c,a;(this.viewportWidth!==i||this.viewportHeight!==o)&&(this.viewportWidth=i,this.viewportHeight=o,r(i,o,l),(c=this.normalRenderTarget)==null||c.setSize(i*this._pixelRatio,o*this._pixelRatio),this._resizeTransmission(i,o),(a=this.transmissionDepthTarget)==null||a.setSize(i*this._pixelRatio/2,o*this._pixelRatio/2),this.pipeline.resize(i,o,l))},this._superDispose=this.dispose,this.dispose=this._currentDispose}createAORenderTarget(){this.aoRenderTarget===void 0&&(this.aoRenderTarget=new br(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:Wt,magFilter:Wt,wrapS:_n,wrapT:_n,depthBuffer:!1}))}_resizeTransmission(e,t){var r,n;(r=this.transmissionRenderTarget)==null||r.setSize(e*this._pixelRatio/(this.hdTransmission?1:2),t*this._pixelRatio/(this.hdTransmission?1:2)),(n=this.aoRenderTarget)==null||n.setSize(e*this._pixelRatio/1,t*this._pixelRatio/1)}get hdTransmission(){return ft.transmissionLod.value===1}set hdTransmission(e){ft.transmissionLod.value=e===!0?1:2,this._resizeTransmission(this.viewportWidth,this.viewportHeight)}createTransmissionRenderTarget(){this.transmissionRenderTarget===void 0&&(this.transmissionRenderTarget=new br(this.viewportWidth*this._pixelRatio/(this.hdTransmission?1:2),this.viewportHeight*this._pixelRatio/(this.hdTransmission?1:2),{generateMipmaps:!0,minFilter:Um,magFilter:Wt,wrapS:_n,wrapT:_n,depthBuffer:!1}),this.transmissionDepthTarget=new br(this.viewportWidth*this._pixelRatio/2,this.viewportHeight*this._pixelRatio/2,{minFilter:kr,magFilter:kr,depthBuffer:!1}))}createNormalRenderTarget(){this.normalRenderTarget===void 0&&(this.normalRenderTarget=new br(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio,{generateMipmaps:!1,minFilter:kr,magFilter:kr,type:to,depthTexture:new Hm(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio)}))}renderNormal(e,t,r){this.normalRenderTarget&&(this.setClearColor(0),r.layers.enable(8),r.layers.disable(0),r.layers.disable(3),t.traverseEntity(n=>{n.layers.isEnabled(8)&&(n.copyPreviousMatrix=!1)}),this.setRenderTarget(this.normalRenderTarget),this.clear(),r instanceof Ri?ZC.uniforms.depthContrast.value=(r.far-r.near)/1e4:ZC.uniforms.depthContrast.value=1,t.overrideMaterial=ZC,this.render(t,r),this.setClearColor(t.bgColor,t.bgColor.a),this.setRenderTarget(null),t.overrideMaterial=e.wireframeState?ZP:null,r.layers.enable(0),r.layers.enable(3),t.traverseEntity(n=>{n.layers.isEnabled(8)&&(n.copyPreviousMatrix=!0)}))}renderSplineSceneWithDummyCamera(e,t,r=1){this.dummyCamera.updateCameraState(t.dataPatched),this.dummyCamera.matrix.copy(t.matrixWorld);let n=t.height,i=t.width,o=this.viewportWidth/this.viewportHeight;i<n?i=n*o:n=i/o,this.dummyCamera.setViewplaneSize(i,n);for(let l=0;l<r;l++)this.renderSplineScene(e,this.dummyCamera)}renderSplineScene(e,t,{sceneHelpers:r=void 0,sceneHelpersOnTop:n=void 0,overrideTransmission:i=void 0,overrideNormal:o=void 0}={}){let l=e instanceof oj?e.activePage:e,c=l.visible;l.visible=!0;let a=l.scene;this.xr.enabled&&(this.isXRCopyPassSet===!1&&this.getRenderTarget()!==null&&(this.pipeline.setCopyPass(this.getRenderTarget()),this.isXRCopyPassSet=!0),this.xr.updateCamera(t)),this.setClearColor(l.bgColor,l.bgColor.a),l.penumbraSizeArray.forEach((h,p)=>{ft.penumbraSize.value[p]=h}),ft.pixelRatioNode.value=this.getPixelRatio(),this.resolution.x!==0&&this.resolution.y!==0?ft.resolution.value.set(this.resolution.x,this.resolution.y):ft.resolution.value.set(this.viewportWidth*this._pixelRatio,this.viewportHeight*this._pixelRatio),o!==void 0?(ft.normalRenderTarget.value=o,ft.normalRenderTargetDepth.value=N9):a.needsNormal()&&(this.createNormalRenderTarget(),ft.normalRenderTarget.value=this.normalRenderTarget.texture,ft.normalRenderTargetDepth.value=this.normalRenderTarget.depthTexture,this.renderNormal(a,l,t));let s=l.data.ao,u=s.occlusion;u&&(this.createAORenderTarget(),ft.aoRenderTarget.value=this.aoRenderTarget.texture),ft.aoEnabled.value=u,this.pipeline.setAmbientOcclusionParams(s.occlusion,s.radius,s.bias,l.aoColor,l.fog!==null,l.backupFog.near,l.backupFog.far,s.aoFullRes),this.pipeline.aoPass.setBlueNoiseTexture(this.pipeline.blueNoiseTexture);let d=!1;if(i!==void 0)ft.transmissionRenderTarget.value=i,ft.transmissionRenderTargetDepth.value=N9,this.pipeline.setTransmissionPassEnabled(!1);else{let h=a.needsTransmission();h&&(this.transmissionRenderTarget===void 0&&(d=!0),this.createTransmissionRenderTarget(),ft.transmissionRenderTarget.value=this.transmissionRenderTarget.texture,ft.aspectRatio.value=SDe(this.viewportWidth,this.viewportHeight),ft.transmissionRenderTargetDepth.value=this.transmissionDepthTarget.texture),this.pipeline.setTransmissionPassEnabled(h)}t.layers.enable(3),t.layers.enable(8),this.pipeline.sceneHelpers=r,this.pipeline.sceneHelpersOnTop=n,this.pipeline.scene=l,this.pipeline.camera=t,d&&this.pipeline.transmissionPass.updatePasses(this),this.pipeline.postprocessingState!==l.postprocessing&&(this.pipeline.updatePostprocessing(l.postprocessing),!r&&!n&&this.pipeline.disableHelpers()),this.clearAlphaOverride!==void 0&&this.setClearAlpha(this.clearAlphaOverride),l.overrideMaterial=a.wireframeState?ZP:null,this.pipeline.render(),ft.frameIndex.value=(ft.frameIndex.value+1)%16,t instanceof Ri&&t.copyHistory(),l.visible=c}renderFromSceneForSceneTransitionPass(e,t,r){this.pipeline.renderToScreen=!1,this.pipeline.renderTarget,this.renderSplineScene(e,t),this.pipeline.sceneTransitionFromTexture=this.pipeline.renderTarget.texture,this.sceneTransitionDuration=r,this.sceneTransitionTimeRemaining=r,this.pipeline.renderToScreen=!0;let n=this.pipeline.sceneTransitionPass.uniforms;n.uDPR.value=window.devicePixelRatio,n.uResolution.value.set(this.domElement.width,this.domElement.height).divideScalar(window.devicePixelRatio)}_currentDispose(){var e,t,r,n,i,o;this._superDispose(),this.pipeline.dispose(),(e=this.aoRenderTarget)==null||e.dispose(),(t=this.transmissionRenderTarget)==null||t.dispose(),(r=this.transmissionDepthTarget)==null||r.dispose(),(n=this.normalRenderTarget)==null||n.dispose(),(o=(i=this.normalRenderTarget)==null?void 0:i.depthTexture)==null||o.dispose()}},UX=class extends l1(R_e){constructor(e,t=15,r=10066329){super(e,t,r),this.object=e,this.added=!1,this.name=`DirectionalLightHelper: ${e.uuid}`}raycast(e,t){c1(this.object,UX.geometryHelper,e,t)}},VX=class extends l1(O_e){constructor(e,t=15,r=6710886){super(e,t,r),this.object=e,this.name=`PointLightHelper: ${e.uuid}`}raycast(e,t){c1(this.object,VX.geometryHelper,e,t)}},$P=class extends l1(I_e){constructor(e,t=6710886){super(e,t),this.object=e,this.name=`SpotLightHelper: ${e.uuid}`}raycast(e,t){c1(this.object,$P.geometryHelper,e,t)}update(){if(this.object!==void 0){let e=$P._vector,t=this.object.distance?this.object.distance:1e3,r=t*Math.tan(this.object.angle);this.cone.scale.set(r,r,t),e.setFromMatrixPosition(this.object.target.matrixWorld),this.cone.lookAt(e);let n=this.color!==void 0?this.color:this.light.color;if(this.cone.material instanceof Array)for(let i=0,o=this.cone.material.length;i<o;i++)this.cone.material[i].color.set(n);else this.cone.material.color.set(n)}}},HX=$P;HX._vector=new L;function hOe(e,t){e.shadow.camera.right=t/2,e.shadow.camera.left=-t/2,e.shadow.camera.top=t/2,e.shadow.camera.bottom=-t/2,e.shadow.needsUpdate=!0}var WX=class extends JD(y_e,UX){constructor(e,t,r){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=2048,this.shadow.mapSize.height=2048,this.shadow.normalBias=1,this.layers.enable(3);let n=this.shadow.camera;n.top=1250,n.bottom=-1250,n.right=1250,n.left=-1250,n.near=-1e4,n.far=2500;let i=new s_(this.shadow.camera);i.visible=!1,this.gizmos.shadowmap=i}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof s_&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t);let r=e.depth!==void 0&&e.depth!==this.shadow.camera.far||e.size!==void 0&&e.size/2!==this.shadow.camera.right;e.size!==void 0&&hOe(this,e.size),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null)),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),r&&this.update()}},B9=new L,F9=new L,U9=new Ct,GX=class extends JD(f_e,HX){constructor(e,t,r){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let n=this.shadow.camera;n.fov=at.RAD2DEG*2*this.angle,n.aspect=1,n.near=100,n.far=2500;let i=new s_(this.shadow.camera);i.visible=!1,this.gizmos.shadowmap=i,this.update()}update(){this.shadow.camera.updateProjectionMatrix();for(let e in this.gizmos){let t=this.gizmos[e];t instanceof s_&&t.update()}}updateMatrixWorld(e){super.updateMatrixWorld(e),F9.setFromMatrixPosition(this.matrixWorld),U9.setFromRotationMatrix(this.matrixWorld),B9.copy(this.up).applyQuaternion(U9).negate().multiplyScalar(this.distance),this.target.position.copy(F9).add(B9),this.target.updateMatrixWorld(),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.angle!==void 0&&(this.angle=e.angle),e.penumbra!==void 0&&(this.penumbra=e.penumbra),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.penumbraSize!==void 0&&t.scene.markPenumbraSizeDirty(),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},Ju=class extends zD($u){constructor(e,t){super(),this.data=t,this.bgColor=new Io(1,1,1,1),this.fog=null,this.backupFog=new Tq(16777215,.1,2e3),this.fogUseBGColor=!1,this.isActive=!1,this.aoColor=new ht,this.penumbraSizeArrayCache=null,this.super_Entity(e,t),this.personalCamera=new Ri(Mg,{...xy.defaultData,...t.camera,name:"Personal Camera"}),this.personalCamera.objectHelper.visible=!1,this.add(this.personalCamera),this.activeCamera=this.personalCamera,this.ambientLight=new h_e(13882323,8553090,.75),this.ambientLight.name="Default Ambient Light",this.ambientLight.layers.enable(3),this.ambientLight.removeFromParent(),this.add(this.ambientLight)}get scene(){return this.parent}get postprocessing(){return this.data.postprocessing}updateVisible(){}setBackgroundColor(e){this.bgColor=e,this.fogUseBGColor===!0&&(this.backupFog.color=e)}updateAmbientLight(e,t){e.color!==void 0&&(this.ambientLight.color=no(e.color,t)),e.intensity!==void 0&&(this.ambientLight.intensity=e.intensity),e.enabled!==void 0&&(e.enabled?this.add(this.ambientLight):this.remove(this.ambientLight))}onDeactive(){this.isActive=!1}onActive(e){this.isActive=!0,e.fog=this.fog,this.traverseEntity(t=>{t instanceof $h&&t.recomputeBoolean()}),this.updateShadow(this.data.shadow)}forceMaterialsUpdate(){this.traverseEntity(e=>{if(e instanceof kg)if(Array.isArray(e.material))for(let t of e.material)t.needsUpdate=!0;else e.material.needsUpdate=!0,e.material.dispose()})}updateShadow(e){e.softShadowQuality!==void 0&&this.isActive&&lOe(e.softShadowQuality)&&this.forceMaterialsUpdate()}updateFog(e,t){if(e.enabled?this.fog=this.backupFog:this.fog=null,this.isActive){let r=this.scene;r.fog=this.fog}this.fogUseBGColor=e.useBackgroundColor,e.useBackgroundColor?this.backupFog.color.set(this.bgColor):this.backupFog.color=no(e.color,t),this.backupFog.near=e.near,this.backupFog.far=e.far}updateAo(e,t){e.aoColor!==void 0&&(this.aoColor=no(e.aoColor,t))}updateByOp(e,t,r,n){super.updateByOp(e,t,r,n);let i=t;Ba(e.path,["fog"])?this.updateFog(i.fog,r.shared):Ba(e.path,["ao"])?this.updateAo(i.ao,r.shared):Ba(e.path,["ambient"])?this.updateAmbientLight(i.ambient,r.shared):Ba(e.path,["shadow"])&&this.updateShadow(i.shadow)}updateState(e,t){this.updateState_Entity(e,t),e.backgroundColor!==void 0&&this.setBackgroundColor(no(e.backgroundColor,t.shared)),e.fog!==void 0&&this.updateFog(e.fog,t.shared),e.ambient!==void 0&&this.updateAmbientLight(e.ambient,t.shared),e.ao!==void 0&&this.updateAo(e.ao,t.shared),e.shadow!==void 0&&this.updateShadow(e.shadow)}raycast(e,t){super.raycast(e,t)}switchActiveCamera(e){e&&e.isDescendantOf(this)&&(this.activeCamera!==this.personalCamera&&(this.activeCamera.objectHelper.visible=!0),this.activeCamera=e,e.objectHelper.visible=!1)}get playCamera(){var e;return((e=this.scene)==null?void 0:e.find(this.data.publish.playCamera))??this.personalCamera}switchToPlayCamera(){this.switchActiveCamera(this.playCamera)}get penumbraSizeArray(){return this.penumbraSizeArrayCache===null&&this.updatePenumbraSizeArray(),this.penumbraSizeArrayCache}updatePenumbraSizeArray(){this.penumbraSizeArrayCache=new Array(5).fill(.5);let e=0,t=0;this.traverseEntity(r=>{if(!r.visible)return!0;r instanceof WX&&r.visible&&e<3&&(this.penumbraSizeArrayCache[e]=r.data.penumbraSize,e+=1),r instanceof GX&&r.visible&&e<2&&(this.penumbraSizeArrayCache[3+t]=r.data.penumbraSize,t+=1)})}raycastWithClones(e){let t=[],r=n=>{for(let i of n.children){let o=i.cloner;Jt.is(i)&&(i.visible||o!=null&&o.object.data.visible)&&((bs(i)||VP(i)&&this.scene.enableHelpers&&i.objectHelper.visible)&&(e.intersectObject(i,!1,t),XP(i,e,t,!0)),r(i))}};return r(this),t}},pOe=class extends JD(g_e,VX){constructor(e,t,r){super(),this.super_Entity(e,t),this.castShadow=!0,this.shadow.mapSize.width=1024,this.shadow.mapSize.height=1024,this.shadow.normalBias=1,this.layers.enable(3);let n=this.shadow.camera;n.fov=90,n.aspect=1,n.near=100,n.far=2500;let i=new L(-n.far+this.position.x,-n.far+this.position.y,-n.far+this.position.z),o=new L(n.far+this.position.x,n.far+this.position.y,n.far+this.position.z),l=new Cn(i,o),c=new l_(l,new ht(16755200));c.visible=!1,this.gizmos.shadowmap=c,this.update()}update(){if(this.shadow&&(this.shadow.camera.updateProjectionMatrix(),this.gizmos))for(let e in this.gizmos){let t=this.gizmos[e];if(t instanceof l_){let r=this.shadow.camera,n=new L(-r.far+this.position.x,-r.far+this.position.y,-r.far+this.position.z),i=new L(r.far+this.position.x,r.far+this.position.y,r.far+this.position.z);t.box.set(n,i),t.updateMatrixWorld(!0)}}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.objectHelper&&this.objectHelper.update()}updateState(e,t){this.updateState_Light(e,t),e.distance!==void 0&&(this.distance=e.distance),e.decay!==void 0&&(this.decay=e.decay),e.shadowRadius!==void 0&&(this.shadow.radius=e.shadowRadius),e.shadowResolution!==void 0&&(this.shadow.mapSize.set(e.shadowResolution,e.shadowResolution),this.shadow.map&&(this.shadow.map.dispose(),this.shadow.map=null))}},fOe=class extends io{get forceComputeSize(){return!0}get shape(){return this.geometry.userData.shape}updateEntityBoxSize(e,t){let r=this.geometry.getAttribute("position");r!==void 0?WD(r,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:r.count,e,t):super.updateEntityBoxSize(e,t)}},rj=class extends io{constructor(e,t,r){super(e,t,r),this._shapeId=null,this._context=r}updateState(e,t){super.updateState(e,t),this.updateShape()}updateShape(){var n;let e={...this.data.geometry.extrusion.shape};for(let i in e)typeof e[i]=="string"&&(e[i]=this._context.shared.getVariable(e[i],[this.uuid,"geometry","extrusion","shape",i]));let t;if(e.type==="Custom"){let i=e.shapeId;if(i!==this._shapeId&&this.detachShape(),i){this._shapeId=i;let o=this._context.scene.find(i);o!=null&&o.data&&(o.attachedPaths.add(this),t=(n=o.geometry.userData)==null?void 0:n.shape),t||this._context.scene.addPendingCommand(()=>this.updateShape())}}else{let i;switch(e.type){case"Rectangle":i=U$;break;case"Ellipse":i=VD;break;case"Polygon":i=F$;break;case"Star":i=V$;break;default:throw new Error(`Unknown shape type: ${e.type}`)}t=i.create({parameters:e}).userData.shape}let r=this.geometry;t&&r.inputs&&(r.inputs.shapeData=t,r.build(),this.attachedSurfaceCloners.forEach(i=>i.update()))}detachShape(){var e;this._shapeId!==null&&((e=this._context.scene.find(this._shapeId))==null||e.attachedPaths.delete(this))}createGeometryDelayed(e){this.geometryCreateDeleyed=e.shared,this.updateShape(),this.refreshAttachedPaths(e)}updateTransformState(e,t){return super.updateTransformState(e,t)}updateGeometryInteractions(e,t){super.updateGeometryInteractions(e,t),this.updateShape()}updateEntityBoxSize(e,t){let r=this.geometry.getAttribute("position");r!==void 0?WD(r,this.geometry.drawRange.start,this.geometry.drawRange.count<1/0?this.geometry.drawRange.count:r.count,e,t):super.updateEntityBoxSize(e,t)}},mm=class extends u1(Lf,qS){constructor(e,t,r){super(),t.type==="Instance"&&typeof e=="string"&&(t=this.transformAssignData(t,r)),this.super_Entity(e,t),this.objectHelper.update()}get isComponentRoot(){return this.data.type==="Component"&&typeof this.identity=="string"}get isInstanceRoot(){return this.data.type==="Instance"&&typeof this.identity=="string"}transformAssignData(e,t){let r=j_.getComponentData({scene:t.scene.data,shared:t.shared.data},e.component);if(r){let n,i;for(let o of ju.rootOverrideProps)e[o]===void 0?(n===void 0&&(n={...e}),n[o]=r.data[o]):(i===void 0&&(i={}),i[o]=e[o],n===void 0&&(n={...e}),n[o]=Xu.apply(r.data[o],e[o]));return this.overrideData=i,n}else return{...ao.defaultData,...e,...Cc(ao.defaultData,ju.rootOverrideProps)}}updateByOp(e,t,r,n){let i;if(this.isInstanceRoot&&!n){if(t=this.transformAssignData(t,r),e.type===0&&e.path.length===0&&this.component)for(let o of ju.rootOverrideProps)o in e.props&&e.props[o]===void 0&&(i===void 0&&(i={...e,props:{...e.props}}),i.props[o]=this.component.data[o]);else if(e.type===0&&e.path.length>0&&ju.rootOverrideProps.includes(e.path[0])){let o=e.path[0];i===void 0&&(i={...e,path:[],props:{[o]:t[o]}})}}super.updateByOp(i??e,t,r,n)}updateState(e,t){this.updateState_Entity(e,t)}expandInstanceChildren(e){let t=this.data;if(this.component===void 0){let r=e.scene.find(t.component)??null,n=!1;if(r!==this.oldComponent){if(this.oldComponent){let i=0;for(let o of this.children)if(Jt.is(o))e.scene.disposeAndUnregisterEntityRecursivelyIfNotReregistered(o),nj(o),i+=1;else break;this.children.splice(0,i)}n=!0}if(r){let i={};qX(e,[this.uuid],t.overrides,this,r,r,0,n,i);for(let o of this.children)if(Jt.is(o)){let l=o.data;l.type==="Empty"&&l.animations&&o.traverseEntity(c=>{if(c instanceof io&&c.isSkinnedMesh){let a=c.dataPatched;if(a.bones&&a.boneInverses){let s=a.bones.map(h=>e.scene.find(i[h])),u=a.boneInverses.map(h=>new Re().fromArray(h)),d=new K5(s,u);c.bind(d,c.bindMatrix)}}else c.matrixAutoUpdate=!0})}}this.oldComponent=this.component}}};function nj(e){if(e.component){let t=e.component.instances.indexOf(e);t>=0&&e.component.instances.splice(t,1);for(let r of e.children)Jt.is(r)&&nj(r)}}function V9(e,t,r,n){return e.component===t&&jY(e.identity,n)?e.overrideData===r?2:1:0}function qX(e,t,r,n,i,o,l,c,a){if(l>50)return!1;if(n.component!==i){if(n.component){let u=n.component.instances.indexOf(n);u>=0&&n.component.instances.splice(u,1)}i.instances.push(n),n.component=i}i instanceof mm&&i.isInstanceRoot&&i.expandInstanceChildren(e);let s=0;for(let u of i.children)if(Jt.is(u)){let d=[...t,...typeof u.identity=="string"?[u.identity]:u.identity],h=M_.resolve(r,d,1);h!=null&&!(h instanceof Kn)&&(Object.setPrototypeOf(h,Kn.prototype),console.error("wrong prototype"));let p=null,m;if(!c){let f=n.children[s];if(p=Jt.is(f)?f:null,p!==null){let g=V9(p,u,h,d);m=g>=1?p.stateSelection:void 0,g!==2&&(p=null)}if(p===null&&(p=e.scene.findInstance(d)??null,p!==null)){let g=V9(p,u,h,d);if(m=g>=1?p.stateSelection:void 0,g!==2)p=null;else{let v=p.parent.children.indexOf(p);p.parent.children.splice(v,1),n.children.splice(s,0,p),p.parent===n?v<=s&&console.error("not possible"):(p.parent=n,p.matrixWorldNeedsUpdate=!0,p.resetBBoxNeedsUpdate(),p.updateVisible(),e.pendingDeletes.delete(p))}}}if(p===null){let f=h?Xu.apply(u.data,h):u.data;qh.is(f.type)&&(f={...f,type:"Empty"}),p=Iu.createEntity(d,f,e),p.overrideData=h,n.add(p),n.children.splice(n.children.length-1,1),n.children.splice(s,0,p),p.updateState(p.data,e),m&&p.changeSelectedState(m,e),e.scene.registerInstanceAndSetUuid(p)}if(p.isBone){let f=p.identity[p.identity.length-1];a[f]=p.uuid}s+=1,qX(e,t,r,p,u,o,l+1,c,a)}if(!c){let u=s;for(;;){let d=n.children[s];if(Jt.is(d))e.pendingDeletes.add(d);else break;s+=1}n.children.splice(u,s-u)}return!0}var mOe=class extends u1(Pq,qS){constructor(e,t){super(),this.super_Entity(e,t),this.objectHelper.update(),this.matrixAutoUpdate=!0}updateState(e,t){this.updateState_Entity(e,t)}};function gOe(e,t,r){let n;return t.geometry.type==="TextGeometry"?new IX(e,t,r):(t.geometry.type==="SubdivGeometry"?n=new Ay(e,t,r):t.geometry.type==="PathGeometry"?n=new rj(e,t,r):t.geometry.type==="VectorGeometry"?n=new fOe(e,t,r):t.geometry.type==="BooleanGeometry"?n=new $h(e,t,r):n=new io(e,t,r),n)}function ij(e,t,r){return t.type==="Mesh"?gOe(e,t,r):t.type==="Empty"?new fm(e,t):t.type==="Splat"?new fm(e,t):t.type==="Bone"?new mOe(e,t):t.type==="Page"?new Ju(e,t):t.type==="PointLight"?new pOe(e,t,r):t.type==="SpotLight"?new GX(e,t,r):t.type==="DirectionalLight"?new WX(e,t,r):t.type==="Component"||t.type==="Instance"?new mm(e,t,r):qh.is(t.type)?new Ri(e,t):(console.error(t),new fm(e,t))}Iu.createEntity=ij;function vOe(e,t,r){let n=ij(e.identity,t,r),i=e.children,o=e.attachedPaths,l=e.parent,c=e.component,a=e.instances,s=e.overrideData,u=e.uuid,d=e.stateSelection;e.dispose();for(let h of Object.keys(e))delete e[h];Object.setPrototypeOf(e,Object.getPrototypeOf(n));for(let h of Object.keys(n))e[h]=n[h];e.children=[...e.children,...i],e.attachedPaths=o,e.parent=l,e.component=c,e.instances=a,e.uuid=u,e.overrideData=s,e.updateState(e.data,r),d&&e.changeSelectedState(d,r),e.resetBBoxNeedsUpdate()}Iu.changeEntityProptotype=vOe;Iu.Cloner=Ss;function yOe(e,t,r,n){e.updateByOp(t,r,n,!1)}function H9(e,t){let r=!1,n=t.getLayersOfType("transmission"),i=t.getLayersOfType("outline");return i.length>0&&(e.layers.set(8),n.length>0&&e.layers.enable(3),r=!0,ZD(e),QD(e)),n.length===0&&i.length===0&&e.layers.set(0),e instanceof kg&&e.needsAO&&e.layers.enable(5),r}function W9(e,t){if(!t.layers)return!1;let r=!1,n=t.getLayersOfType("transmission").filter(o=>o.data.visible),i=t.getLayersOfType("outline").filter(o=>o.data.visible);return n.length>0&&(e.layers.set(3),i.length>0&&e.layers.enable(8),r=!0),n.length===0&&i.length===0&&e.layers.set(0),e.needsAO&&e.layers.enable(5),r}function bOe(e){let t=!1;return e.traverseEntity(r=>{if(r instanceof kg)if(Array.isArray(r.material))for(let n=0;n<r.material.length;n++)H9(r,r.material[n])&&(t=!0);else H9(r,r.material)&&(t=!0)}),t}function xOe(e){let t=!1;return e.traverseEntity(r=>{if(r instanceof kg)if(Array.isArray(r.material))for(let n=0;n<r.material.length;n++)W9(r,r.material[n])&&(t=!0);else W9(r,r.material)&&(t=!0)}),t}var wOe=new Xq,_Oe=new Re,SOe=new mg;function XP(e,t,r,n=!1){let i=e.cloner;if(i)for(let o of i.children){let l=_Oe.copy(o.matrixWorld).invert(),c=SOe.copy(t.ray).applyMatrix4(l),a=e.matrixWorld;c.applyMatrix4(a);let s=wOe;s.set(c.origin,c.direction),s.near=t.near,s.far=t.far;let u=s.intersectObject(e,!1);u.length>0&&r.push({...u[0],object:n?o:e})}}var EOe=class{constructor(){this._constraints=new Map}setConstraint(e,t){t===null?this._constraints.delete(e):this._constraints.set(e,t)}removeDependencies(e){this._constraints.delete(e)}applyConstraints(e){let t=new Set;this._constraints.forEach((r,n)=>{let i=[n,r],o=r;for(;this._constraints.has(o);)o=this._constraints.get(o),t.has(o)||i.push(o);for(let l=i.length-2;l>=0;l--)if(!t.has(i[l])){let c=e.find(i[l]);c?c.applyPathSnapping(e):console.warn(`missing entity ${i[l]}`),t.add(i[l])}})}findDependency(e,t){let r=e;for(;this._constraints.has(r);)if(r=this._constraints.get(r),r===t)return!0;return!1}},Gs=di(Zy()),Vl=di(Jy()),bn=di(Zy()),Vt=di(Jy()),F_=class{constructor(e,t,r){this._dataNormalized=e,this._minD=t,this._maxD=r}static createFromUnnormalized(e){let t=Vt.sup(e),r=Vt.inf(e),n=(0,bn.default)(new Float32Array(e.size),e.shape),i=t-r;return i<1e-4?Vt.assigns(n,0):(Vt.subs(n,e,r),Vt.divs(n,n,i)),new F_(n,r,t)}get data(){return this._dataNormalized}get minD(){return this._minD}get maxD(){return this._maxD}denormalize(){let e=(0,bn.default)(new Float32Array(this._dataNormalized.size),this._dataNormalized.shape);return Vt.muls(e,this._dataNormalized,this._maxD-this._minD),Vt.adds(e,e,this._minD),e}},Xr=class{constructor(e,t){this._quantized=e,this._method=t}get quantized(){return this._quantized}static maxIntBits(e){return 2**e-1}static fromNormalized(e,t){let r=e.data,n;if(t==="norm8x"){let i=Xr.maxIntBits(8),o=(0,bn.default)(new Float32Array(r.size),r.shape);Vt.muls(o,r,i),Vt.roundeq(o),n=(0,bn.default)(new Uint8Array(o.data),r.shape)}else if(t==="norm565"){let i=(0,bn.default)(new Float32Array(r.size),r.shape);Vt.assign(i,r),Vt.mulseq(i.pick(null,0),Xr.maxIntBits(5)),Vt.mulseq(i.pick(null,1),Xr.maxIntBits(6)),Vt.mulseq(i.pick(null,2),Xr.maxIntBits(5)),Vt.roundeq(i);let o=(0,bn.default)(new Uint16Array(i.data),r.shape),l=(0,bn.default)(new Uint16Array(r.shape[0]),[r.shape[0]]),c=(0,bn.default)(new Uint16Array(r.shape[0]),[r.shape[0]]);Vt.lshifts(l,o.pick(null,0),11),Vt.lshifts(c,o.pick(null,1),5),Vt.boreq(l,c),Vt.boreq(l,o.pick(null,2)),n=l}else{let i=(0,bn.default)(new Float32Array(r.size),r.shape);Vt.assign(i,r),Vt.mulseq(i.pick(null,0),Xr.maxIntBits(11)),Vt.mulseq(i.pick(null,1),Xr.maxIntBits(10)),Vt.mulseq(i.pick(null,2),Xr.maxIntBits(11)),Vt.roundeq(i);let o=(0,bn.default)(new Uint32Array(i.data),r.shape),l=(0,bn.default)(new Uint32Array(r.shape[0]),[r.shape[0]]),c=(0,bn.default)(new Uint32Array(r.shape[0]),[r.shape[0]]);Vt.lshifts(l,o.pick(null,0),21),Vt.lshifts(c,o.pick(null,1),11),Vt.boreq(l,c),Vt.boreq(l,o.pick(null,2)),n=l}return new Xr(n,t)}dequantize(e,t){let r=this._method,n,i=this._quantized;if(r==="norm8x"){let o=Xr.maxIntBits(8);n=(0,bn.default)(new Float32Array(i.size),i.shape),Vt.muls(n,i,1/o)}else if(r==="norm565"){let o=(0,bn.default)(new Uint8Array(i.shape[0]),[i.shape[0]]),l=(0,bn.default)(new Uint8Array(i.shape[0]),[i.shape[0]]),c=(0,bn.default)(new Uint8Array(i.shape[0]),[i.shape[0]]);Vt.rrshifts(o,i,11),Vt.rrshifts(l,i,5),Vt.bandseq(l,Xr.maxIntBits(6)),Vt.bands(c,i,Xr.maxIntBits(5)),n=(0,bn.default)(new Float32Array(i.shape[0]*3),[i.shape[0],3]),Vt.muls(n.pick(null,0),o,1/Xr.maxIntBits(5)),Vt.muls(n.pick(null,1),l,1/Xr.maxIntBits(6)),Vt.muls(n.pick(null,2),c,1/Xr.maxIntBits(5))}else{let o=(0,bn.default)(new Uint16Array(i.shape[0]),[i.shape[0]]),l=(0,bn.default)(new Uint16Array(i.shape[0]),[i.shape[0]]),c=(0,bn.default)(new Uint16Array(i.shape[0]),[i.shape[0]]);Vt.rrshifts(o,i,21),Vt.rrshifts(l,i,11),Vt.bandseq(l,Xr.maxIntBits(10)),Vt.bands(c,i,Xr.maxIntBits(11)),n=(0,bn.default)(new Float32Array(i.shape[0]*3),[i.shape[0],3]),Vt.muls(n.pick(null,0),o,1/Xr.maxIntBits(11)),Vt.muls(n.pick(null,1),l,1/Xr.maxIntBits(10)),Vt.muls(n.pick(null,2),c,1/Xr.maxIntBits(11))}return new F_(n,e,t)}},cn=class{constructor(e,t,r,n,i,o=!1){this._quantized=e,this._minMaxMatrix=t,this._chunkSize=r,this._quantizationMethod=n,this._variableChunkSize=i,this._isDynamicChunks=o}get length(){return this._quantized.shape[0]}get nchunks(){return this._minMaxMatrix.shape[0]}get quantized(){return this._quantized}get method(){return this._quantizationMethod}get minmaxMatrix(){return this._minMaxMatrix}_createPrunedMinMax(e){let t=e.length,r=this.minmaxMatrix.shape[0]-t,n=(0,Gs.default)(new Float32Array(r*2),[r,2]),i=0,o=r,l=0,c=this.minmaxMatrix.shape[0];for(let a=0;a<e.length;a++)c=e[a],o=c-l+i,o>i&&Vl.assign(n.hi(o,2).lo(i,0),this.minmaxMatrix.hi(c,2).lo(l,0)),i=o,l=c+1;return i<r&&Vl.assign(n.lo(i,0),this.minmaxMatrix.lo(l,0)),n}_createPrunedQuantized(e){let t=e.length,r=this.quantized.shape[0]-t,n=this._quantizationMethod,i,o;if(n==="norm8x"){o=this._quantized.shape[1];let u=o?r*o:r;i=(0,Gs.default)(new Uint8Array(u),o?[r,o]:[r,1])}else n==="norm565"?i=(0,Gs.default)(new Uint16Array(r),[r]):i=(0,Gs.default)(new Uint32Array(r),[r]);let l=0,c=r,a=0,s=i.shape[0];for(let u=0;u<e.length;u++)s=e[u],c=s-a+l,c>l&&(o?Vl.assign(i.hi(c,o).lo(l,0),this._quantized.hi(s,o).lo(a,0)):Vl.assign(i.hi(c).lo(l),this._quantized.hi(s).lo(a))),l=c,a=s+1;return l<r&&(o?Vl.assign(i.lo(l,0),this._quantized.lo(a,0)):Vl.assign(i.lo(l),this._quantized.lo(a))),i}pruneFeature(e,t,r){let n=this._createPrunedQuantized(e),i=this._createPrunedMinMax(t);return new cn(n,i,this._chunkSize,this._quantizationMethod,r,!0)}static getRequiredNChunks(e,t){return Math.floor(e/t)}static fromArray(e,t,r){let n=e.shape[0],i=Math.floor(n/r),o=(0,Gs.default)(new Float32Array(i*2),[i,2],[2,1]),l;t==="norm8x"?l=(0,Gs.default)(new Uint8Array(e.size),e.shape):t==="norm565"?l=(0,Gs.default)(new Uint16Array(e.shape[0]),[e.shape[0]]):l=(0,Gs.default)(new Uint32Array(e.shape[0]),[e.shape[0]]);for(let c=0;c<i;c++){let a=c*r,s=c+1<i?(c+1)*r:n,u;e.shape.length>1?u=F_.createFromUnnormalized(e.hi(s,e.shape[1]).lo(a,0)):u=F_.createFromUnnormalized(e.hi(s).lo(a)),o.set(c,0,u.minD),o.set(c,1,u.maxD),l.shape.length>1?Vl.assign(l.hi(s,l.shape[1]).lo(a,0),Xr.fromNormalized(u,t).quantized):Vl.assign(l.hi(s).lo(a),Xr.fromNormalized(u,t).quantized)}return new cn(l,o,r,t)}denormDequant(){let e=this._minMaxMatrix.shape[0],t=this._quantized,r=t.shape[0],n=this._quantizationMethod,i=this._chunkSize,o;if(this._isDynamicChunks){if(!this._variableChunkSize)throw new Error("variable chunk must exists if chunkSize isDynamic");o=this._variableChunkSize}let l;n==="norm8x"?l=(0,Gs.default)(new Float32Array(t.size),t.shape):l=(0,Gs.default)(new Float32Array(r*3),[r,3]);let c=0,a=i;for(let s=0;s<e;s++){let[u,d]=[this._minMaxMatrix.get(s,0),this._minMaxMatrix.get(s,1)];this._isDynamicChunks&&(a=o[s]);let h=s+1<e?c+a:r,p;t.shape.length>1?p=new Xr(t.hi(h,t.shape[1]).lo(c,0),n):p=new Xr(t.hi(h).lo(c),n),Vl.assign(l.hi(h,l.shape[1]).lo(c,0),p.dequantize(u,d).denormalize()),c=h}return l}static async fetchArrayBuffer(e){return await(await fetch(e,{mode:"cors"})).arrayBuffer()}},iu=di(Zy()),tr=di(Jy()),COe="http://127.0.0.1:8000",gm=di(Zy()),On=di(Jy()),G9=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9];function q9(e){return e<1e5?e<100?e<10?0:1:e<1e4?e<1e3?2:3:4:e<1e7?e<1e6?5:6:e<1e9?e<1e8?7:8:9}function Y9(e,t){if(e===t)return 0;if(~~e===e&&~~t===t){if(e===0||t===0)return e<t?-1:1;if(e<0||t<0){if(t>=0)return-1;if(e>=0)return 1;e=-e,t=-t}let i=q9(e),o=q9(t),l=0;return i<o?(e*=G9[o-i-1],t/=10,l=-1):i>o&&(t*=G9[i-o-1],e/=10,l=1),e===t?l:e<t?-1:1}let r=String(e),n=String(t);return r===n?0:r<n?-1:1}function AOe(e){let t=0;for(;e>=32;)t|=e&1,e>>=1;return e+t}function $9(e,t,r,n){let i=t+1;if(i===r)return 1;if(n(e[i++],e[t])<0){for(;i<r&&n(e[i],e[i-1])<0;)i++;MOe(e,t,i)}else for(;i<r&&n(e[i],e[i-1])>=0;)i++;return i-t}function MOe(e,t,r){for(r--;t<r;){let n=e[t];e[t++]=e[r],e[r--]=n}}function X9(e,t,r,n,i){for(n===t&&n++;n<r;n++){let o=e[n],l=t,c=n;for(;l<c;){let s=l+c>>>1;i(o,e[s])<0?c=s:l=s+1}let a=n-l;switch(a){case 3:e[l+3]=e[l+2];case 2:e[l+2]=e[l+1];case 1:e[l+1]=e[l];break;default:for(;a>0;)e[l+a]=e[l+a-1],a--}e[l]=o}}function JC(e,t,r,n,i,o){let l=0,c=0,a=1;if(o(e,t[r+i])>0){for(c=n-i;a<c&&o(e,t[r+i+a])>0;)l=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c),l+=i,a+=i}else{for(c=i+1;a<c&&o(e,t[r+i-a])<=0;)l=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c);let s=l;l=i-a,a=i-s}for(l++;l<a;){let s=l+(a-l>>>1);o(e,t[r+s])>0?l=s+1:a=s}return a}function eA(e,t,r,n,i,o){let l=0,c=0,a=1;if(o(e,t[r+i])<0){for(c=i+1;a<c&&o(e,t[r+i-a])<0;)l=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c);let s=l;l=i-a,a=i-s}else{for(c=n-i;a<c&&o(e,t[r+i+a])>=0;)l=a,a=(a<<1)+1,a<=0&&(a=c);a>c&&(a=c),l+=i,a+=i}for(l++;l<a;){let s=l+(a-l>>>1);o(e,t[r+s])<0?a=s:l=s+1}return a}var TOe=class{constructor(e,t){Yi(this,"array",null),Yi(this,"compare",null),Yi(this,"minGallop",7),Yi(this,"length",0),Yi(this,"tmpStorageLength",256),Yi(this,"stackLength",0),Yi(this,"runStart",null),Yi(this,"runLength",null),Yi(this,"stackSize",0),this.array=e,this.compare=t,this.length=e.length,this.length<2*256&&(this.tmpStorageLength=this.length>>>1),this.tmp=new Array(this.tmpStorageLength),this.stackLength=this.length<120?5:this.length<1542?10:this.length<119151?19:40,this.runStart=new Array(this.stackLength),this.runLength=new Array(this.stackLength)}pushRun(e,t){this.runStart[this.stackSize]=e,this.runLength[this.stackSize]=t,this.stackSize+=1}mergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;if(e>=1&&this.runLength[e-1]<=this.runLength[e]+this.runLength[e+1]||e>=2&&this.runLength[e-2]<=this.runLength[e]+this.runLength[e-1])this.runLength[e-1]<this.runLength[e+1]&&e--;else if(this.runLength[e]>this.runLength[e+1])break;this.mergeAt(e)}}forceMergeRuns(){for(;this.stackSize>1;){let e=this.stackSize-2;e>0&&this.runLength[e-1]<this.runLength[e+1]&&e--,this.mergeAt(e)}}mergeAt(e){let t=this.compare,r=this.array,n=this.runStart[e],i=this.runLength[e],o=this.runStart[e+1],l=this.runLength[e+1];this.runLength[e]=i+l,e===this.stackSize-3&&(this.runStart[e+1]=this.runStart[e+2],this.runLength[e+1]=this.runLength[e+2]),this.stackSize--;let c=eA(r[o],r,n,i,0,t);n+=c,i-=c,i!==0&&(l=JC(r[n+i-1],r,o,l,l-1,t),l!==0&&(i<=l?this.mergeLow(n,i,o,l):this.mergeHigh(n,i,o,l)))}mergeLow(e,t,r,n){let i=this.compare,o=this.array,l=this.tmp,c=0;for(c=0;c<t;c++)l[c]=o[e+c];let a=0,s=r,u=e;if(o[u++]=o[s++],--n===0){for(c=0;c<t;c++)o[u+c]=l[a+c];return}if(t===1){for(c=0;c<n;c++)o[u+c]=o[s+c];o[u+n]=l[a];return}let d=this.minGallop;for(;;){let h=0,p=0,m=!1;do if(i(o[s],l[a])<0){if(o[u++]=o[s++],p++,h=0,--n===0){m=!0;break}}else if(o[u++]=l[a++],h++,p=0,--t===1){m=!0;break}while((h|p)<d);if(m)break;do{if(h=eA(o[s],l,a,t,0,i),h!==0){for(c=0;c<h;c++)o[u+c]=l[a+c];if(u+=h,a+=h,t-=h,t<=1){m=!0;break}}if(o[u++]=o[s++],--n===0){m=!0;break}if(p=JC(l[a],o,s,n,0,i),p!==0){for(c=0;c<p;c++)o[u+c]=o[s+c];if(u+=p,s+=p,n-=p,n===0){m=!0;break}}if(o[u++]=l[a++],--t===1){m=!0;break}d--}while(h>=7||p>=7);if(m)break;d<0&&(d=0),d+=2}if(this.minGallop=d,d<1&&(this.minGallop=1),t===1){for(c=0;c<n;c++)o[u+c]=o[s+c];o[u+n]=l[a]}else{if(t===0)throw new Error("mergeLow preconditions were not respected");for(c=0;c<t;c++)o[u+c]=l[a+c]}}mergeHigh(e,t,r,n){let i=this.compare,o=this.array,l=this.tmp,c=0;for(c=0;c<n;c++)l[c]=o[r+c];let a=e+t-1,s=n-1,u=r+n-1,d=0,h=0;if(o[u--]=o[a--],--t===0){for(d=u-(n-1),c=0;c<n;c++)o[d+c]=l[c];return}if(n===1){for(u-=t,a-=t,h=u+1,d=a+1,c=t-1;c>=0;c--)o[h+c]=o[d+c];o[u]=l[s];return}let p=this.minGallop;for(;;){let m=0,f=0,g=!1;do if(i(l[s],o[a])<0){if(o[u--]=o[a--],m++,f=0,--t===0){g=!0;break}}else if(o[u--]=l[s--],f++,m=0,--n===1){g=!0;break}while((m|f)<p);if(g)break;do{if(m=t-eA(l[s],o,e,t,t-1,i),m!==0){for(u-=m,a-=m,t-=m,h=u+1,d=a+1,c=m-1;c>=0;c--)o[h+c]=o[d+c];if(t===0){g=!0;break}}if(o[u--]=l[s--],--n===1){g=!0;break}if(f=n-JC(o[a],l,0,n,n-1,i),f!==0){for(u-=f,s-=f,n-=f,h=u+1,d=s+1,c=0;c<f;c++)o[h+c]=l[d+c];if(n<=1){g=!0;break}}if(o[u--]=o[a--],--t===0){g=!0;break}p--}while(m>=7||f>=7);if(g)break;p<0&&(p=0),p+=2}if(this.minGallop=p,p<1&&(this.minGallop=1),n===1){for(u-=t,a-=t,h=u+1,d=a+1,c=t-1;c>=0;c--)o[h+c]=o[d+c];o[u]=l[s]}else{if(n===0)throw new Error("mergeHigh preconditions were not respected");for(d=u-(n-1),c=0;c<n;c++)o[d+c]=l[c]}}};function POe(e,t,r,n){if(!Array.isArray(e))throw new TypeError("Can only sort arrays");t?typeof t!="function"&&(n=r,r=t,t=Y9):t=Y9,r||(r=0),n||(n=e.length);let i=n-r;if(i<2)return;let o=0;if(i<32){o=$9(e,r,n,t),X9(e,r,n,r+o,t);return}let l=new TOe(e,t),c=AOe(i);do{if(o=$9(e,r,n,t),o<c){let a=i;a>c&&(a=c),X9(e,r,r+a,r+o,t),o=a}l.pushRun(r,o),l.mergeRuns(),i-=o,r+=o}while(i!==0);l.forceMergeRuns()}function tA(e){let t=(0,gm.default)(new Int32Array(e.shape[0]),[e.shape[0]]),r=(0,gm.default)(new Int32Array(e.shape[0]),[e.shape[0]]);return On.bands(t,e,1023),On.lshifts(r,t,16),On.bxoreq(t,r),On.bandseq(t,4278190335),On.lshifts(r,t,8),On.bxoreq(t,r),On.bandseq(t,50393103),On.lshifts(r,t,4),On.bxoreq(t,r),On.bandseq(t,51130563),On.lshifts(r,t,2),On.bxoreq(t,r),On.bandseq(t,153391689),t}function kOe(e){let t=tA(e.pick(null,0)),r=tA(e.pick(null,1));On.lshiftseq(r,1);let n=tA(e.pick(null,2));return On.lshiftseq(n,2),On.boreq(t,r),On.boreq(t,n),t}function Yp(e,t){if(e.shape[0]!==t.shape[0])throw new Error("wrong length");let r=(0,gm.default)(new Float32Array(e.size),e.shape,e.stride,e.offset);for(let n=0;n<t.shape[0];n++){let i=t.get(n);if(e.shape.length>1)for(let o=0;o<e.shape[1];o++)r.set(n,o,e.get(i,o));else r.set(n,e.get(i))}return r}function DOe(e){let t=On.sup(e),r=On.inf(e),n=1e3/Math.min(1e3,t-r),i=(0,gm.default)(new Float32Array(e.data),e.shape);On.mulseq(i,n);let o=(0,gm.default)(new Int32Array(i.data),e.shape),l=kOe(o),c=Array.from(l.data).map((s,u)=>[s,u]);POe(c,(s,u)=>s[0]-u[0]);let a=c.map(([s,u])=>u);return(0,gm.default)(Uint32Array.from(a))}var Vd=class{constructor(e,t,r,n,i,o,l,c,a,s){this.propertyDescs=e,this.format=t,this.nsplats=r,this.xyz=n,this.colors=i,this.harmonics=o,this.opacity=l,this.scaling=c,this.rotation=a,this.maxSHDegree=s}getPlyBinary(){let e=Vd._generateHeaderString(this.propertyDescs,this.format,this.nsplats),t=new TextEncoder().encode(e),r=Object.keys(this.propertyDescs).length,n=(0,iu.default)(new Float32Array(this.nsplats*r),[this.nsplats,r]);if(tr.assign(n.pick(null,this.propertyDescs.x.index),this.xyz.pick(null,0)),tr.assign(n.pick(null,this.propertyDescs.y.index),this.xyz.pick(null,1)),tr.assign(n.pick(null,this.propertyDescs.z.index),this.xyz.pick(null,2)),tr.assign(n.pick(null,this.propertyDescs.f_dc_0.index),this.colors.pick(null,0)),tr.assign(n.pick(null,this.propertyDescs.f_dc_1.index),this.colors.pick(null,1)),tr.assign(n.pick(null,this.propertyDescs.f_dc_2.index),this.colors.pick(null,2)),tr.assign(n.pick(null,this.propertyDescs.opacity.index),this.opacity.pick(null,0)),tr.assign(n.pick(null,this.propertyDescs.scale_0.index),this.scaling.pick(null,0)),tr.assign(n.pick(null,this.propertyDescs.scale_1.index),this.scaling.pick(null,1)),tr.assign(n.pick(null,this.propertyDescs.scale_2.index),this.scaling.pick(null,2)),tr.assign(n.pick(null,this.propertyDescs.rot_0.index),this.rotation.pick(null,0)),tr.assign(n.pick(null,this.propertyDescs.rot_1.index),this.rotation.pick(null,1)),tr.assign(n.pick(null,this.propertyDescs.rot_2.index),this.rotation.pick(null,2)),tr.assign(n.pick(null,this.propertyDescs.rot_3.index),this.rotation.pick(null,3)),this.harmonics&&this.harmonics.length>0)for(let l=0;l<this.harmonics.length;l++){let c=l*3;tr.assign(n.pick(null,this.propertyDescs[`f_rest_${c}`].index),this.harmonics[l].pick(null,0)),tr.assign(n.pick(null,this.propertyDescs[`f_rest_${c+1}`].index),this.harmonics[l].pick(null,1)),tr.assign(n.pick(null,this.propertyDescs[`f_rest_${c+2}`].index),this.harmonics[l].pick(null,2))}let i=new Uint8Array(n.data.buffer),o=new Uint8Array(i.length+t.length);return o.set(t),o.set(i,t.length),o.buffer}save(e,t){let r=this.getPlyBinary(),n=new Blob([r],{type:"application/octet-stream"}),i=new File([n],e),o=new FormData;o.append("file",i),o.append("filename",e),o.append("basedir",t),fetch(`${COe}/push_file`,{method:"POST",body:o})}static async loadFile(e){return await(await fetch(e)).arrayBuffer()}mortonPositionSplatsSort(){let e=DOe(this.xyz),t=Yp(this.xyz,e),r=Yp(this.colors,e),n=Yp(this.opacity,e),i=Yp(this.scaling,e),o=Yp(this.rotation,e),l=[];for(let c=0;c<this.harmonics.length;c++)l.push(Yp(this.harmonics[c],e));return new Vd(this.propertyDescs,this.format,this.nsplats,t,r,l,n,i,o,this.maxSHDegree)}static _generateHeaderString(e,t,r){let n=`ply
format ${t.format} ${t.version}
element vertex ${r}`,i=Object.keys(e).length,o=Array(i);for(let l in e){let c=e[l];o[c.index]={name:l,dtype:c.dtype}}for(let l=0;l<o.length;l++)n=`${n}
property ${o[l].dtype} ${o[l].name}`;return`${n}
end_header
`}static fromArrayBuffer(e,t=3){let{splatCount:r,vertexData:n,propertiesDesc:i,format:o}=Vd.decodeHeader(e),l=n.buffer.slice(n.byteOffset),c=Object.keys(i).length,a=(0,iu.default)(new Float32Array(l),[r,c]),s=0,u={},d={double:8,int:4,uint:4,float:4,short:2,ushort:2,uchar:1};for(let y in i)if(i.hasOwnProperty(y)){let b=i[y].dtype;u[y]=s,s+=d[b]}let h=(0,iu.default)(new Float32Array(r*3),[r,3]);tr.assign(h.pick(null,0),a.pick(null,u.x/4)),tr.assign(h.pick(null,1),a.pick(null,u.y/4)),tr.assign(h.pick(null,2),a.pick(null,u.z/4));let p=(0,iu.default)(new Float32Array(r*3),[r,3]);tr.assign(p.pick(null,0),a.pick(null,u.scale_0/4)),tr.assign(p.pick(null,1),a.pick(null,u.scale_1/4)),tr.assign(p.pick(null,2),a.pick(null,u.scale_2/4));let m=(0,iu.default)(new Float32Array(r*3),[r,3]);tr.assign(m.pick(null,0),a.pick(null,u.f_dc_0/4)),tr.assign(m.pick(null,1),a.pick(null,u.f_dc_1/4)),tr.assign(m.pick(null,2),a.pick(null,u.f_dc_2/4));let f=(0,iu.default)(new Float32Array(r*4),[r,4]);tr.assign(f.pick(null,0),a.pick(null,u.rot_1/4)),tr.assign(f.pick(null,1),a.pick(null,u.rot_2/4)),tr.assign(f.pick(null,2),a.pick(null,u.rot_3/4)),tr.assign(f.pick(null,3),a.pick(null,u.rot_0/4));for(let y=0;y<r;y++){let b=f.pick(y,null),w=Math.sqrt(b.get(0)**2+b.get(1)**2+b.get(2)**2+b.get(3)**2);tr.divseq(b,w)}let g=(0,iu.default)(new Float32Array(r*1),[r,1]);tr.assign(g.pick(null,0),a.pick(null,u.opacity/4));let v=(Math.min(Math.max(t,0),3)+1)**2-1,x=[];for(let y=0;y<v;y++){let b=(0,iu.default)(new Float32Array(r*3),[r,3]),w=y*3;tr.assign(b.pick(null,0),a.pick(null,u[`f_rest_${w}`]/4)),tr.assign(b.pick(null,1),a.pick(null,u[`f_rest_${w+1}`]/4)),tr.assign(b.pick(null,2),a.pick(null,u[`f_rest_${w+2}`]/4)),x.push(b)}return new Vd(i,o,r,h,m,x,g,p,f,t)}static async fromPLYFile(e,t=3){let r=await Vd.loadFile(e);return Vd.fromArrayBuffer(r,t)}static decodeHeader(e){let t=new TextDecoder,r=0,n="",i=100;for(;;){if(r+i>=e.byteLength)throw new Error("End of file reached while searching for end of header");let h=new Uint8Array(e,r,i);n+=t.decode(h),r+=i;let p=r-i*2,m=new Uint8Array(e,Math.max(0,p),p>0?i*2:i);if(t.decode(m).includes("end_header"))break}let o=n.split(`
`),l=0,c={},a=0,s;for(let h=0;h<o.length;h++){let p=o[h].trim();if(p.startsWith("element vertex")){let m=p.match(/\d+/);m&&(l=parseInt(m[0]))}else if(p.startsWith("property")){let m=p.match(/(\w+)\s+(\w+)\s+(\w+)/);if(m){let f=m[2],g=m[3];c[g]={dtype:f,index:a},a++}}else if(p.startsWith("format")){let m=p.match(/(\w+)\s+(\w+)\s+(\d+\.?\d*)/);m&&(s={format:m[2],version:m[3]})}else if(p==="end_header")break}let u=n.indexOf("end_header")+10+1,d=new DataView(e,u);return{splatCount:l,vertexData:d,headerOffset:r,propertiesDesc:c,format:s}}},KP=class{constructor(e,t,r,n,i,o,l,c){this.config=e,this.xyz=t,this.scaling=r,this.color=n,this.opacity=i,this.harmonics=l,this.quaternion=o,this.variableChunkSize=c}get isDynamicChunks(){return this.variableChunkSize&&this.variableChunkSize.length>0}get nchunks(){return this.xyz.nchunks}get nsplats(){return this.xyz.length}get chunkSize(){return this.config.chunkSize}static compressFromGaussianData(e,t){let r=cn.fromArray(e.xyz,t.xyz,t.chunkSize),n=cn.fromArray(e.scaling,t.scaling,t.chunkSize),i=cn.fromArray(e.colors,t.color,t.chunkSize),o=cn.fromArray(e.opacity,t.opacity,t.chunkSize),l=cn.fromArray(e.rotation,t.quaternion,t.chunkSize),c=e.harmonics,a=[];if(t.harmonics)for(let s=0;s<c.length;s++){let u=cn.fromArray(c[s],t.harmonics,t.chunkSize);a.push(u)}return new KP(t,r,n,i,o,l,a)}_countIndexesInChunks(e){let t=[],r=this.nchunks,n=this.chunkSize,i=this.nsplats,o=cn.getRequiredNChunks(i,n);if(r===o)for(let l=0;l<e.length;l++){let c=e[l],a=Math.floor(c/this.chunkSize);a in t?t[a].push(c):t[a]=[c]}else{let l=this.variableChunkSize,c={},a=0;for(let s=0;s<r;s++)c[s]=a,a+=l[s];for(let s=0;s<e.length;s++){let u=e[s],d=Math.min(Math.floor(u/n),r-1);for(;u>=c[d]+l[d];)d++;d in t?t[d].push(u):t[d]=[u]}}return t}pruneSplats(e){let t=this._countIndexesInChunks(e),r,n=[];return t.length>0&&(r=this.variableChunkSize?[...this.variableChunkSize]:Array(this.nchunks).fill(this.chunkSize),t.forEach((i,o)=>{r[o]-=i.length,r[o]<=0&&n.push(o)}),r=r.filter(i=>i>0)),new KP(this.config,this.xyz.pruneFeature(e,n,r),this.scaling.pruneFeature(e,n,r),this.color.pruneFeature(e,n,r),this.opacity.pruneFeature(e,n,r),this.quaternion.pruneFeature(e,n,r),this.harmonics?this.harmonics.map(i=>i.pruneFeature(e,n,this.variableChunkSize)):void 0,r)}static async loadConfig(e){return await(await fetch(e,{method:"GET",mode:"cors",headers:{Accept:"application/json"}})).json()}toGaussians(){var i;let e={format:"binary_little_endian",version:"1.0"},t={},r=0;if(t.x={dtype:"float",index:r},r++,t.y={dtype:"float",index:r},r++,t.z={dtype:"float",index:r},r++,t.f_dc_0={dtype:"float",index:r},r++,t.f_dc_1={dtype:"float",index:r},r++,t.f_dc_2={dtype:"float",index:r},r++,this.harmonics&&this.harmonics.length>0)for(let o=0;o<this.harmonics.length;o++)t[`f_rest_${o}`]={dtype:"float",index:r},r++,t[`f_rest_${o+1}`]={dtype:"float",index:r},r++,t[`f_rest_${o+2}`]={dtype:"float",index:r},r++;t.opacity={dtype:"float",index:r},r++,t.scale_0={dtype:"float",index:r},r++,t.scale_1={dtype:"float",index:r},r++,t.scale_2={dtype:"float",index:r},r++,t.rot_0={dtype:"float",index:r},r++,t.rot_1={dtype:"float",index:r},r++,t.rot_2={dtype:"float",index:r},r++,t.rot_3={dtype:"float",index:r},r++;let n=(i=this.harmonics)==null?void 0:i.map(o=>o.denormDequant());return new Vd(t,e,this.xyz.length,this.xyz.denormDequant(),this.color.denormDequant(),n||[],this.opacity.denormDequant(),this.scaling.denormDequant(),this.quaternion.denormDequant(),3)}},$p=di(Zy()),xa=di(Jy()),K9={xyz:3,color:3,opacity:1,scaling:3,quaternion:4,harmonics:3},QP=class{constructor(e){this._buffer=e}get buffer(){return this._buffer}get decoded(){return this._decoded||(this._decoded=this.decodeBuffer()),this._decoded}get colorsA(){let e=.28209479177387814,t=this.decoded.color.denormDequant(),r=this.decoded.opacity.denormDequant(),n=(0,$p.default)(new Float32Array(t.shape[0]*4),[t.shape[0],4]);return xa.mulseq(t,e),xa.addseq(t,.5),xa.mulseq(t,255),xa.maxseq(t,0),xa.minseq(t,255),xa.negeq(r),xa.expeq(r),xa.addseq(r,1),xa.recipeq(r),xa.mulseq(r,255),xa.assign(n.hi(t.shape[0],3).lo(0,0),t),xa.assign(n.hi(t.shape[0],4).lo(0,3),r),(0,$p.default)(new Uint8Array(n.data),[t.shape[0],4]).data}get nsplats(){return this.decoded.nsplats}getSplatCount(){return this.decoded.nsplats}get precomputedCovarianceBufferData(){return this._precomputedCovarianceBufferData}decodeBuffer(){let{splatCount:e,chunkCount:t,chunkSize:r,typeChunks:n,vertexData:i,propertiesDesc:o}=this.decodeHeader(),l={xyz:o.xyz.compressionMethod,color:o.color.compressionMethod,opacity:o.opacity.compressionMethod,scaling:o.scaling.compressionMethod,quaternion:o.quaternion.compressionMethod,chunkSize:r};o.harmonics_0&&(l.harmonics=o.harmonics_0.compressionMethod);let c=i.byteOffset,a=Array(Object.keys(o).length);for(let g in o)a[o[g].index]={name:g,method:o[g].compressionMethod};let s=t*2*4,u=c,d=n==="dynamic"?t*2:0,h,p=!1;if(d>0){let g=new Uint16Array(i.buffer.slice(u,u+d));u+=d,h=Array.from(g),p=!0}let m={};for(let g of a){let v=0,x=!0;if(g.method==="norm8x")v=e*1*K9[g.name];else if(g.method==="norm11")v=e*4;else if(g.method==="norm565")v=e*2;else throw x=!1,new Error(`Not Implemented format: ${g.method}`);let y;if(x){let _=i.buffer.slice(u,u+s);y=(0,$p.default)(new Float32Array(_),[t,2]),u+=s}else throw new Error("loading chunk byt hasnot minmax!");let b=i.buffer.slice(u,u+v);u+=v;let w;if(g.method==="norm8x")w=(0,$p.default)(new Uint8Array(b),[e,K9[g.name]]);else if(g.method==="norm11")w=(0,$p.default)(new Uint32Array(b));else if(g.method==="norm565")w=(0,$p.default)(new Uint16Array(b));else throw new Error(`Not Implemented format: ${g.method}`);m[g.name]=new cn(w,y,r,g.method,h,p)}let f=[];for(let g=0;g<15;g++){let v=m[`harmonics_${g}`];v&&(f.push(v),delete m[`harmonics_${g}`])}return f.length>0&&(m.harmonics=f),new KP(l,m.xyz,m.scaling,m.color,m.opacity,m.quaternion,m.harmonics,h)}buildPreComputedBuffers(){let e=this.decoded,t=e.nsplats,r=new ArrayBuffer(24*t),n=new Float32Array(r),i=e.scaling.denormDequant(),o=e.quaternion.denormDequant(),l=new Ct,c=new Sn,a=new Sn,s=new Sn,u=new Re;for(let d=0;d<t;d++){u.makeScale(Math.exp(i.get(d,0)),Math.exp(i.get(d,1)),Math.exp(i.get(d,2))),a.setFromMatrix4(u),l.set(o.get(d,0),o.get(d,1),o.get(d,2),o.get(d,3)),u.makeRotationFromQuaternion(l),c.setFromMatrix4(u),s.copy(c).multiply(a);let h=s.elements;n[6*d]=h[0]*h[0]+h[3]*h[3]+h[6]*h[6],n[6*d+1]=h[0]*h[1]+h[3]*h[4]+h[6]*h[7],n[6*d+2]=h[0]*h[2]+h[3]*h[5]+h[6]*h[8],n[6*d+3]=h[1]*h[1]+h[4]*h[4]+h[7]*h[7],n[6*d+4]=h[1]*h[2]+h[4]*h[5]+h[7]*h[8],n[6*d+5]=h[2]*h[2]+h[5]*h[5]+h[8]*h[8]}this._precomputedCovarianceBufferData=r}decodeHeader(){let e=this._buffer,t=new TextDecoder,r=0,n="",i=100;for(;;){if(r+i>=e.byteLength)throw new Error("End of file reached while searching for end of header");let m=new Uint8Array(e,r,i);n+=t.decode(m),r+=i;let f=r-i*2,g=new Uint8Array(e,Math.max(0,f),f>=0?i*2:i);if(t.decode(g).includes("end_header"))break}let o=n.split(`
`),l=0,c=0,a=0,s=0,u="",d={};for(let m=0;m<o.length;m++){let f=o[m].trim();if(f.startsWith("element vertex")){let g=f.match(/\d+/);g&&(l=parseInt(g[0]))}else if(f.startsWith("property")){let g=f.match(/(\w+)\s+(\w+)\s+(\w+)/);if(g){let v=g[2],x=g[3];d[v]={compressionMethod:x,index:s},s++}}else if(f.startsWith("element chunks")){let g=f.match(/\d+/);g&&(c=parseInt(g[0]))}else if(f.startsWith("element chunkSize")){let g=f.match(/\d+/);g&&(a=parseInt(g[0]))}else if(f.startsWith("element typeChunks")){let g=f.match(/(\w+)\s+(\w+)\s+(\w+)/);g&&(u=g[3])}else if(f==="end_header")break}let h=n.indexOf("end_header")+10+1,p=new DataView(e,h);return{splatCount:l,chunkCount:c,chunkSize:a,typeChunks:u,vertexData:p,propertiesDesc:d}}pruneSplats(e){let t=this.decodeBuffer().pruneSplats(e);return QP.fromCompressedGaussianSplats(t)}static fromCompressedGaussianSplats(e){let t=e.xyz.length,r=e.xyz.nchunks,n=`gspline
element vertex ${t}
element chunks ${r}
element chunkSize ${e.chunkSize}
element typeChunks ${e.isDynamicChunks?"dynamic":"static"}
property xyz ${e.xyz.method}
property color ${e.color.method}
property opacity ${e.opacity.method}
property scaling ${e.scaling.method}
property quaternion ${e.quaternion.method}`;if(e.harmonics&&e.harmonics.length>0)for(let S=0;S<e.harmonics.length;S++)n=`${n}
property harmonics_${S} ${e.harmonics[S].method}`;n=`${n}
end_header
`;let i=new TextEncoder().encode(n),o=r*2*4,l=e.xyz.quantized.data.buffer.byteLength,c=e.xyz instanceof cn?o:0,a=e.color.quantized.data.buffer.byteLength,s=e.color instanceof cn?o:0,u=e.opacity.quantized.data.buffer.byteLength,d=e.opacity instanceof cn?o:0,h=e.scaling.quantized.data.buffer.byteLength,p=e.scaling instanceof cn?o:0,m=e.quaternion.quantized.data.buffer.byteLength,f=e.quaternion instanceof cn?o:0,g=e.variableChunkSize?Uint16Array.from(e.variableChunkSize):void 0,v=g?g.byteLength:0,x=i.byteLength+v+l+c+a+s+u+d+h+p+m+f,y=0,b=0;if(e.harmonics&&e.harmonics.length>0)for(let S=0;S<e.harmonics.length;S++)y+=e.harmonics[S].quantized.data.buffer.byteLength,b+=e.harmonics[S]instanceof cn?o:0;y=0,b=0,x+=y+b;let w=new Uint8Array(x),_=0;if(w.set(i,_),_+=i.byteLength,v>0&&(w.set(new Uint8Array(g.buffer),_),_+=v),e.xyz instanceof cn&&(w.set(new Uint8Array(e.xyz.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(e.xyz.quantized.data.buffer),_),_+=l,e.color instanceof cn&&(w.set(new Uint8Array(e.color.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(e.color.quantized.data.buffer),_),_+=a,e.opacity instanceof cn&&(w.set(new Uint8Array(e.opacity.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(e.opacity.quantized.data.buffer),_),_+=u,e.scaling instanceof cn&&(w.set(new Uint8Array(e.scaling.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(e.scaling.quantized.data.buffer),_),_+=h,e.quaternion instanceof cn&&(w.set(new Uint8Array(e.quaternion.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(e.quaternion.quantized.data.buffer),_),_+=m,y>0&&e.harmonics&&e.harmonics.length>0)for(let S=0;S<e.harmonics.length;S++){let E=e.harmonics[S];E instanceof cn&&(w.set(new Uint8Array(E.minmaxMatrix.data.buffer),_),_+=o),w.set(new Uint8Array(E.quantized.data.buffer),_),_+=E.quantized.data.byteLength}return new QP(w.buffer)}},jOe="AGFzbQEAAAAADwhkeWxpbmsuMAEEAAAAAAETA2AAAGAIf39/f39/f38AYAABfwISAQNlbnYGbWVtb3J5AgMAgIAEAwQDAAECBzkDEV9fd2FzbV9jYWxsX2N0b3JzAAALc29ydEluZGV4ZXMAARNlbXNjcmlwdGVuX3Rsc19pbml0AAIK3gMDAwABC9IDAwF/BnwBfgJAIAdFDQAgAysDUCEMIAMrAzAhDSADKwMQIQ5BACEDRP///////+9/IQtEAAAAAAAAEAAhCgNAIAIgA0ECdGoCfyAOIAEgA0EMbGoiCCoCALuiIA0gCCoCBLuioCAMIAgqAgi7oqBEAAAAAAAAsECiIgmZRAAAAAAAAOBBYwRAIAmqDAELQYCAgIB4CzYCACAJIAsgCSALYxshCyAJIAogCSAKZBshCiADQQFqIgMgB0cNAAsgB0UNACAGuCAKIAuhoyEJQQAhAwNAAn8gCSACIANBAnRqIgEoAgC3IAuhoiIKmUQAAAAAAADgQWMEQCAKqgwBC0GAgICAeAshCCABIAg2AgAgBCAIQQJ0aiIBIAEoAgBBAWo2AgAgA0EBaiIDIAdHDQALCyAGQQJPBEAgBCgCACEIQQEhAwNAIAQgA0ECdGoiASABKAIAIAhqIgg2AgAgA0EBaiIDIAZHDQALCyAHQQFrIgGtIQ8DQCAEIAIgD6dBAnQiA2ooAgBBAnRqIgcgBygCAEEBayIHNgIAIAUgASAHa0ECdGogACADaigCADYCACAPUCEDIA9CAX0hDyADRQ0ACyAGBEAgBEEAIAZBAnT8CwALCwQAQQAL",Ru=class{};Yi(Ru,"DepthMapRange",65536),Yi(Ru,"MemoryPageSize",65536),Yi(Ru,"BytesPerFloat",4),Yi(Ru,"BytesPerInt",4);function IOe(e){let t,r,n,i,o,l,c,a,s,u,d,h,p,m,f,g;function v(M){let T=new Float64Array(u,l,16);for(let P=0;P<16;P++)T[P]=M[P];let k;if(n>1){t.exports.sortIndexes(i,o,s,l,c,a,h.DepthMapRange,n);let P=new Uint32Array(n);k=P.buffer,P.set(new Uint32Array(u,a,n))}else if(n===1){let P=new Uint32Array(n);P[0]=new Uint32Array(u,i,r)[0],k=P.buffer}else k=new ArrayBuffer(0);e.postMessage({sortDone:!0,indexesBuffer:k},[k])}function x(M,T,k){let P=new Float32Array(u,o,r*3);n=0;let D=new Uint32Array(u,i,r);for(let I=0;I<k.length-1;I++){let O=T[I],j=M[I].elements,N=O.filter(F=>F.enabled&&F.mode==="Include").map(F=>F.type==="Box"?_(F):A(F)),R=O.filter(F=>F.enabled&&F.mode==="Exclude").map(F=>F.type==="Box"?_(F):A(F));for(let F=k[I];F<k[I+1];F++){let U=p[F*3],B=p[F*3+1],H=p[F*3+2];if((N.length===0||b(U,B,H,N))&&(R.length===0||!b(U,B,H,R))){let X=1/(j[3]*U+j[7]*B+j[11]*H+j[15]);P[n*3]=(j[0]*U+j[4]*B+j[8]*H+j[12])*X,P[n*3+1]=(j[1]*U+j[5]*B+j[9]*H+j[13])*X,P[n*3+2]=(j[2]*U+j[6]*B+j[10]*H+j[14])*X,D[n]=F,n++}}}}function y(M,T){let k=[],P=T.filter(O=>O.enabled&&O.mode==="Include").map(O=>O.type==="Box"?_(O):A(O)),D=T.filter(O=>O.enabled&&O.mode==="Exclude").map(O=>O.type==="Box"?_(O):A(O)),I=M.length;for(let O=0;O<I;O+=3){let j=M[O],N=M[O+1],R=M[O+2];(P.length===0||b(j,N,R,P))&&(D.length===0||!b(j,N,R,D))||k.push(O/3)}return console.log(k),k}function b(M,T,k,P,D){return P[D==="Intersect"?"every":"some"](I=>{let O=w(M,T,k,I.invRotationMatrix,I.cropCenter);return Array.isArray(I)?E(O.x,O.y,O.z,I):C(O.x,O.y,O.z,I)})}function w(M,T,k,P,D){let I=M-D[0],O=T-D[1],j=k-D[2],N=1/(P[3]*I+P[7]*O+P[11]*j+P[15]);return{x:(P[0]*I+P[4]*O+P[8]*j+P[12])*N+D[0],y:(P[1]*I+P[5]*O+P[9]*j+P[13])*N+D[1],z:(P[2]*I+P[6]*O+P[10]*j+P[14])*N+D[2]}}function _(M){let T=M.cropSize[0]/2,k=M.cropSize[1]/2,P=M.cropSize[2]/2,D=[M.cropCenter[0]-T,M.cropCenter[1]-k,M.cropCenter[2]-P,M.cropCenter[0]+T,M.cropCenter[1]+k,M.cropCenter[2]+P],I=S(M.cropRotation);return Object.assign(D,{invRotationMatrix:I,cropCenter:M.cropCenter})}function S(M){let T=[],k=M[0]*Math.PI/180,P=M[1]*Math.PI/180,D=M[2]*Math.PI/180,I=Math.cos(k),O=Math.sin(k),j=Math.cos(P),N=Math.sin(P),R=Math.cos(D),F=Math.sin(D),U=I*R,B=I*F,H=O*R,X=O*F;return T[0]=j*R,T[1]=-j*F,T[2]=N,T[4]=B+H*N,T[5]=U-X*N,T[6]=-O*j,T[8]=X-U*N,T[9]=H+B*N,T[10]=I*j,T[12]=0,T[13]=0,T[14]=0,T[3]=0,T[7]=0,T[11]=0,T[15]=1,T}function E(M,T,k,P){return M>=P[0]&&M<=P[3]&&T>=P[1]&&T<=P[4]&&k>=P[2]&&k<=P[5]}function A(M){let T=2/M.cropSize[0],k=2/M.cropSize[1],P=2/M.cropSize[2],D=S(M.cropRotation);return{invRadiusX:T,invRadiusY:k,invRadiusZ:P,cropCenter:M.cropCenter,invRotationMatrix:D}}function C(M,T,k,P){let D=(M-P.cropCenter[0])*P.invRadiusX,I=(T-P.cropCenter[1])*P.invRadiusY,O=(k-P.cropCenter[2])*P.invRadiusZ;return D*D+I*I+O*O<=1}e.onmessage=M=>{if(M.data.getCroppedIndexes){let T=new Uint32Array(y(new Float32Array(M.data.positions),M.data.crops)).buffer;e.postMessage({outOfBoundsIndexes:T},[T])}else if(M.data.positions)d=M.data.positions,p=new Float32Array(d),f=M.data.meshMatrixWorlds,g=M.data.cropsArray,m=M.data.meshIndexIntervals,x(f,g,m),e.postMessage({sortSetupComplete:!0});else if(M.data.sort||M.data.newMatrixWorlds||M.data.newCropsArray)(M.data.newMatrixWorlds||M.data.newCropsArray)&&(g=M.data.newCropsArray||g,f=M.data.newMatrixWorlds||f,x(f,g,m)),v(M.data.sort.view,M.data.sort.cameraPosition);else if(M.data.init){h=M.data.init.Constants,r=M.data.init.splatCount;let T=h.BytesPerInt,k=h.BytesPerFloat*3,P=new Uint8Array(M.data.init.sorterWasmBytes),D=T+k,I=r*D,O=r*h.BytesPerInt*2+h.DepthMapRange*h.BytesPerInt*2,j=h.MemoryPageSize*32,N=I+O+j,R=Math.floor(N/h.MemoryPageSize)+1,F={module:{},env:{memory:new WebAssembly.Memory({initial:R*2,maximum:R*3,shared:!0})}};WebAssembly.compile(P).then(U=>WebAssembly.instantiate(U,F)).then(U=>{t=U,i=0,o=r*T,l=o+r*k,s=l+16*h.BytesPerFloat*2,c=s+r*h.BytesPerInt,a=c+h.DepthMapRange*h.BytesPerInt,u=F.env.memory.buffer,e.postMessage({sortSetupPhase1Complete:!0})})}}}function OOe(e){let t=new Worker(URL.createObjectURL(new Blob(["(",IOe.toString(),")(self)"],{type:"application/javascript"}))),r=atob(jOe),n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return t.postMessage({init:{sorterWasmBytes:n.buffer,splatCount:e,Constants:{BytesPerFloat:Ru.BytesPerFloat,BytesPerInt:Ru.BytesPerInt,DepthMapRange:Ru.DepthMapRange,MemoryPageSize:Ru.MemoryPageSize}}}),t}var rA=function(){let e=new Float32Array(1),t=new Int32Array(e.buffer);return function(r){return e[0]=r,t[0]}}(),ROe=function(e,t,r,n){return e+(t<<8)+(r<<16)+(n<<24)},ox=new re,Xx=class extends ro{constructor(e,t,r,n,i=!1,o=1,l,c){super(r,n),this.splatCount=t,this.meshIndexIntervals=l,this.meshMatrixWorlds=c,this.splatBuffers=e,this.geometry=r,this.material=n,this.splatDataTextures=null,this.halfPrecisionCovariancesOnGPU=i,this.devicePixelRatio=o,this.resetLocalSplatDataAndTexturesFromSplatBuffer()}static buildMesh(e,t,r=!1,n=1,i,o){let l=Xx.buildGeomtery(t),c=Xx.buildMaterial(i);return new Xx(e,t,l,c,r,n,i,o)}static buildMaterial(e){let t=`
            precision highp float;
            #include <common>

            attribute uint splatIndex;

            uniform highp sampler2D covariancesTexture;
            uniform highp usampler2D centersColorsTexture;
            uniform vec2 focal;
            uniform vec2 viewport;
            uniform vec2 basisViewport;
            uniform vec2 covariancesTextureSize;
            uniform vec2 centersColorsTextureSize;
						uniform highp sampler2D meshMatrixWorldsTexture;
						uniform uint meshIndexIntervals[257];
						uniform float orthoZoom;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;

            const vec4 encodeNorm4 = vec4(1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0, 1.0 / 255.0);
            const uvec4 mask4 = uvec4(uint(0x000000FF), uint(0x0000FF00), uint(0x00FF0000), uint(0xFF000000));
            const uvec4 shift4 = uvec4(0, 8, 16, 24);
            vec4 uintToRGBAVec (uint u) {
               uvec4 urgba = mask4 & u;
               urgba = urgba >> shift4;
               vec4 rgba = vec4(urgba) * encodeNorm4;
               return rgba;
            }

            vec2 getDataUV(in int stride, in int offset, in vec2 dimensions) {
                vec2 samplerUV = vec2(0.0, 0.0);
                float d = float(splatIndex * uint(stride) + uint(offset)) / dimensions.x;
                samplerUV.y = float(floor(d)) / dimensions.y;
                samplerUV.x = fract(d);
                return samplerUV;
            }

            void main () {
                uvec4 sampledCenterColor = texture(centersColorsTexture, getDataUV(1, 0, centersColorsTextureSize));
                vec3 splatCenter = uintBitsToFloat(uvec3(sampledCenterColor.gba));
                vColor = uintToRGBAVec(sampledCenterColor.r);

                vPosition = position.xy * 2.0;

								uint meshIndex;
								for (int i = 1; i < 257; i++) {
									if (splatIndex < meshIndexIntervals[i]) {
										meshIndex = uint(i - 1);
										break;
									}
								}

								float strideMulmeshIndex = float(4u*meshIndex);
								float meshMatrixWorldsTextureLength = float(256*4);

								mat4 modelMat = mat4(
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+0.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+1.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+2.0)/meshMatrixWorldsTextureLength, 0)),
									texture(meshMatrixWorldsTexture, vec2((strideMulmeshIndex+3.0)/meshMatrixWorldsTextureLength, 0))
								);
								mat4 modelViewMat = viewMatrix * modelMat;
								vec4 viewCenter = modelViewMat * vec4(splatCenter, 1.0); 
                vec4 clipCenter = projectionMatrix * viewCenter;

                vec2 sampledCovarianceA = texture(covariancesTexture, getDataUV(3, 0, covariancesTextureSize)).rg;
                vec2 sampledCovarianceB = texture(covariancesTexture, getDataUV(3, 1, covariancesTextureSize)).rg;
                vec2 sampledCovarianceC = texture(covariancesTexture, getDataUV(3, 2, covariancesTextureSize)).rg;

                vec3 cov3D_M11_M12_M13 = vec3(sampledCovarianceA.rg, sampledCovarianceB.r);
                vec3 cov3D_M22_M23_M33 = vec3(sampledCovarianceB.g, sampledCovarianceC.rg);

                // Compute the 2D covariance matrix from the upper-right portion of the 3D covariance matrix
                mat3 Vrk = mat3(
                    cov3D_M11_M12_M13.x, cov3D_M11_M12_M13.y, cov3D_M11_M12_M13.z,
                    cov3D_M11_M12_M13.y, cov3D_M22_M23_M33.x, cov3D_M22_M23_M33.y,
                    cov3D_M11_M12_M13.z, cov3D_M22_M23_M33.y, cov3D_M22_M23_M33.z
                );
                float s = 1.0 / (viewCenter.z * viewCenter.z);

                mat3 W = transpose(mat3(modelViewMat));
                mat3 T = orthoZoom > 0.0 ? W : W * mat3(
									focal.x / viewCenter.z, 0., -(focal.x * viewCenter.x) * s,
									0., focal.y / viewCenter.z, -(focal.y * viewCenter.y) * s,
									0., 0., 0.
								);
                mat3 cov2Dm = transpose(T) * Vrk * T;
                cov2Dm[0][0] += 0.3;
                cov2Dm[1][1] += 0.3;

                // We are interested in the upper-left 2x2 portion of the projected 3D covariance matrix because
                // we only care about the X and Y values. We want the X-diagonal, cov2Dm[0][0],
                // the Y-diagonal, cov2Dm[1][1], and the correlation between the two cov2Dm[0][1]. We don't
                // need cov2Dm[1][0] because it is a symetric matrix.
                vec3 cov2Dv = vec3(cov2Dm[0][0], cov2Dm[0][1], cov2Dm[1][1]);

                vec3 ndcCenter = clipCenter.xyz / clipCenter.w;

                // We now need to solve for the eigen-values and eigen vectors of the 2D covariance matrix
                // so that we can determine the 2D basis for the splat. This is done using the method described
                // here: https://people.math.harvard.edu/~knill/teaching/math21b2004/exhibits/2dmatrices/index.html
                //
                // This is a different approach than in the original work at INRIA. In that work they compute the
                // max extents of the 2D covariance matrix in screen space to form an axis aligned bounding rectangle
                // which forms the geometry that is actually rasterized. They then use the inverse 2D covariance
                // matrix (called 'conic') to determine fragment opacity.
                float a = cov2Dv.x;
                float d = cov2Dv.z;
                float b = cov2Dv.y;
                float D = a * d - b * b;
                float trace = a + d;
                float traceOver2 = 0.5 * trace;
                float term2 = sqrt(trace * trace / 4.0 - D);
                float eigenValue1 = traceOver2 + term2;
								float eigenValue2 = max(traceOver2 - term2, 0.00); // prevent negative eigen value

                const float maxSplatSize = 1024.0;
                vec2 eigenVector1 = normalize(vec2(b, eigenValue1 - a));
                // since the eigen vectors are orthogonal, we derive the second one from the first
                vec2 eigenVector2 = vec2(eigenVector1.y, -eigenVector1.x);
                vec2 basisVector1 = eigenVector1 * min(sqrt(2.0 * eigenValue1), maxSplatSize);
                vec2 basisVector2 = eigenVector2 * min(sqrt(2.0 * eigenValue2), maxSplatSize);

                vec2 ndcOffset = vec2(vPosition.x * basisVector1 + vPosition.y * basisVector2) * basisViewport;

								if (orthoZoom > 0.0) {
									ndcOffset *= orthoZoom;
								}

                gl_Position = vec4(ndcCenter.xy + ndcOffset, ndcCenter.z, 1.0);
            }`,r=`
            precision highp float;
            #include <common>

            uniform vec3 debugColor;

            varying vec4 vColor;
            varying vec2 vUv;

            varying vec2 vPosition;
						layout(location = 1) out vec4 gVelocity; 

            void main () {
                // compute the negative squared distance from the center of the splat to the
                // current fragment in the splat's local space.
                float A = -dot(vPosition, vPosition);
                if (A < -4.0) discard;
                vec3 color = vColor.rgb;
                A = exp(A) * vColor.a;
                gl_FragColor = vec4(color.rgb, A);
								gVelocity = vec4(0.0); // so it is ignored by TAA
            }`,n={covariancesTexture:{type:"t",value:null},centersColorsTexture:{type:"t",value:null},meshIndexIntervals:{value:e},meshMatrixWorldsTexture:{type:"t",value:null},focal:{type:"v2",value:new re},viewport:{type:"v2",value:new re},basisViewport:{type:"v2",value:new re},debugColor:{type:"v3",value:new ht},covariancesTextureSize:{type:"v2",value:new re(1024,1024)},centersColorsTextureSize:{type:"v2",value:new re(1024,1024)},orthoZoom:{type:"f",value:-1}};return new Tr({uniforms:n,vertexShader:t,fragmentShader:r,transparent:!0,alphaTest:1,blending:xh,depthTest:!0,depthWrite:!1,side:Co})}static buildGeomtery(e){let t=new lt;t.setIndex([0,1,2,0,2,3]);let r=new Float32Array(4*3),n=new St(r,3);t.setAttribute("position",n),n.setXYZ(0,-1,-1,0),n.setXYZ(1,-1,1,0),n.setXYZ(2,1,1,0),n.setXYZ(3,1,-1,0),n.needsUpdate=!0;let i=new Yq().copy(t),o=new Uint32Array(e),l=new kq(o,1,!1);return l.setUsage(mve),i.setAttribute("splatIndex",l),i.instanceCount=e,i}resetLocalSplatDataAndTexturesFromSplatBuffer(){this.updateLocalSplatDataFromSplatBuffer(),this.allocateAndStoreLocalSplatDataInTextures()}updateLocalSplatDataFromSplatBuffer(){this.splatBuffers.forEach(n=>n.buildPreComputedBuffers()),this.covariances=new Float32Array(this.splatCount*6),this.colors=new Uint8Array(this.splatCount*4),this.centers=new Float32Array(this.splatCount*3);let e=0,t=0,r=0;for(let n of this.splatBuffers){let i=n.nsplats;this.colors.subarray(e,e+i*4).set(n.colorsA),e+=i*4,this.centers.subarray(t,t+i*3).set(n.decoded.xyz.denormDequant().data),t+=i*3,this.covariances.subarray(r,r+i*6).set(new Float32Array(n.precomputedCovarianceBufferData)),r+=i*6}}allocateAndStoreLocalSplatDataInTextures(){let e=this.splatCount,t=new re(4096,1024);for(;t.x*t.y*2<e*6;)t.y*=2;let r=new re(4096,1024);for(;r.x*r.y*4<e*4;)r.y*=2;let n,i;if(this.halfPrecisionCovariancesOnGPU){i=new Uint16Array(t.x*t.y*2);for(let u=0;u<this.covariances.length;u++)i[u]=F_e.toHalfFloat(this.covariances[u]);n=new Tu(i,t.x,t.y,Xw,Hh)}else i=new Float32Array(t.x*t.y*2),i.set(this.covariances),n=new Tu(i,t.x,t.y,Xw,to);n.needsUpdate=!0,this.material.uniforms.covariancesTexture.value=n,this.material.uniforms.covariancesTextureSize.value.copy(t);let o=new Uint32Array(r.x*r.y*4);for(let u=0;u<e;u++){let d=u*4,h=u*3,p=u*4;o[p]=ROe(this.colors[d],this.colors[d+1],this.colors[d+2],this.colors[d+3]),o[p+1]=rA(this.centers[h]),o[p+2]=rA(this.centers[h+1]),o[p+3]=rA(this.centers[h+2])}let l=new Tu(o,r.x,r.y,cq,gc);l.internalFormat="RGBA32UI",l.needsUpdate=!0,this.material.uniforms.centersColorsTexture.value=l,this.material.uniforms.centersColorsTextureSize.value.copy(r);let c=256*4,a=new Float32Array(256*16);for(let u=0;u<this.meshMatrixWorlds.length;u++)a.set(this.meshMatrixWorlds[u].elements,u*16);let s=new Tu(a,c,1,Jo,to);s.needsUpdate=!0,this.material.uniforms.meshMatrixWorldsTexture.value=s,this.material.uniformsNeedUpdate=!0,this.splatDataTextures={covariances:{data:i,texture:n,size:t},centerColors:{data:o,texture:l,size:r},meshMatrixWorlds:{data:a,texture:s}}}updateIndexes(e){let t=this.geometry;t.attributes.splatIndex.set(e),t.attributes.splatIndex.needsUpdate=!0,t.instanceCount=e.length}updateUniforms(e,t,r,n){this.splatCount>0&&(ox.set(e.x*this.devicePixelRatio,e.y*this.devicePixelRatio),this.material.uniforms.viewport.value.copy(ox),this.material.uniforms.basisViewport.value.set(2/ox.x,2/ox.y),this.material.uniforms.focal.value.set(t,r),this.material.uniforms.orthoZoom.value=n,this.material.uniformsNeedUpdate=!0)}getSplatDataTextures(){return this.splatDataTextures}getSplatCount(){return this.splatCount}getCenters(){return this.centers}getColors(){return this.colors}getCovariances(){return this.covariances}dispose(){this.geometry.dispose(),this.material.dispose(),this.splatDataTextures&&(this.splatDataTextures.covariances.texture.dispose(),this.splatDataTextures.centerColors.texture.dispose(),this.splatDataTextures.meshMatrixWorlds.texture.dispose())}},zOe=class{constructor(e={}){Yi(this,"updateSplatMeshUniforms",function(){let t=new re;return function(){this.splatMesh!==null&&this.splatMesh.getSplatCount()>0&&(this.renderer.getSize(t),this.cameraFocalLengthX=this.camera.projectionMatrix.elements[0]*this.devicePixelRatio*t.x*.45,this.cameraFocalLengthY=this.camera.projectionMatrix.elements[5]*this.devicePixelRatio*t.y*.45,this.splatMesh.updateUniforms(t,this.cameraFocalLengthX,this.cameraFocalLengthY,this.camera.isPerspectiveCamera?-1:this.camera.zoom*this.devicePixelRatio))}}()),Yi(this,"updateView",function(){let t=new Re,r=[],n=new L(0,0,-1),i=new L(0,0,-1),o=new L,l=new L;return function(c=!1){let a=this.updateMatrixWorldsInWorkerIfNeeded(),s=this.cropsChanged();if(!c){i.set(0,0,-1).applyQuaternion(this.camera.quaternion);let d=!1,h=!1;if(i.dot(n)<=.95&&(d=!0),l.copy(this.camera.position).sub(o).length()>=1&&(h=!0),!d&&!h&&!a&&!s)return}o.copy(this.camera.position),n.copy(i),t.copy(this.camera.matrixWorld).invert(),t.premultiply(this.camera.perspCamera.projectionMatrix),r[0]=this.camera.position.x,r[1]=this.camera.position.y,r[2]=this.camera.position.z;let u={sort:{view:t.elements,cameraPosition:r,splatRenderCount:this.splatRenderCount,splatSortCount:this.splatRenderCount},...a?{newMatrixWorlds:this.meshMatrixWorlds}:{},...s?{newCropsArray:this.cropsArray}:{}};this.sortRunning?this.queuedMessage=u:(this.queuedMessage=null,this.sortRunning=!0,this.sortWorker.postMessage(u))}}()),this.scene=e.scene,this.currentPage=null,this.renderer=e.renderer,this.devicePixelRatio=window.devicePixelRatio,this.sortWorker=null,this.splatRenderCount=0,this.splatSortCount=0,this.splatMesh=null,this.sortRunning=!1,this.splatRenderingInitialized=!1,this.meshMatrixWorlds=null,this.meshMatrixWorldsOld=null,this.cropsArray=null,this.splatEntries=null,this.queuedMessage=null}get camera(){return this.scene.activeCamera}reloadSplats(){this.splatRenderingInitialized=!1;let e=this.loadSplat();this.renderer.pipeline.opaquePass.splatViewer=e?this:null}loadSplat(e={}){this.activePage=this.scene.activePage,e.position&&(e.position=new L().fromArray(e.position)),e.orientation&&(e.orientation=new Ct().fromArray(e.orientation)),e.halfPrecisionCovariances=!!e.halfPrecisionCovariances;let t=[];if(this.splatEntries=t,this.activePage.traverseEntity(o=>{if(o.data.type==="Splat"){let l=o.visible;o.traverseAncestors(c=>{l&&(l=c.visible)}),l&&t.push(o)}}),this.splatMesh&&this.splatMesh.dispose(),t.length===0)return this.splatMesh=null,!1;this.meshMatrixWorlds=t.map(o=>o.matrixWorld),this.meshMatrixWorldsOld=t.map(o=>o.matrixWorld.clone()),this.cropsArray=t.map(o=>o.data.crops.map(l=>l.data));let r=t.map(o=>new QP(new Uint8Array(o.data.buffer).buffer)),n=0,i=[0];for(let o of r)n+=o.getSplatCount(),i.push(n);return this.setupSplatMesh(r,n,e.position,e.orientation,e.halfPrecisionCovariances,this.devicePixelRatio,i,this.meshMatrixWorlds),this.setupSortWorker(n),!0}updateMatrixWorldsInWorkerIfNeeded(){let e=this.splatDataTextures.meshMatrixWorlds.data;for(let t=0;t<this.meshMatrixWorlds.length;t++)e.set(this.meshMatrixWorlds[t].elements,t*16);return this.splatDataTextures.meshMatrixWorlds.texture.needsUpdate=!0,this.meshMatrixWorlds.every((t,r)=>t.equals(this.meshMatrixWorldsOld[r]))?!1:(this.meshMatrixWorldsOld=this.meshMatrixWorlds.map(t=>t.clone()),!0)}cropsChanged(){let e=!1;return this.splatEntries.forEach((t,r)=>{var n;t.data.crops.forEach((i,o)=>{this.cropsArray[r][o]===void 0?(e=!0,this.cropsArray[r][o]=i.data):Object.entries(i.data).forEach(([l,c])=>{var a;Array.isArray(c)&&c.some((s,u)=>s!==this.cropsArray[r][o][l][u])?(e=!0,this.cropsArray[r][o][l]=c):c!==((a=this.cropsArray[r][o])==null?void 0:a[l])&&(e=!0,this.cropsArray[r][o][l]=c)})}),t.data.crops.length!==((n=this.cropsArray[r])==null?void 0:n.length)&&(this.cropsArray[r].length=t.data.crops.length,e=!0)}),e}setupSplatMesh(e,t,r=new L,n=new Ct,i=!1,o=1,l,c){this.splatMesh=Xx.buildMesh(e,t,i,o,l,c),this.splatMesh.position.copy(r),this.splatMesh.quaternion.copy(n),this.splatMesh.frustumCulled=!1,this.splatMesh.renderOrder=10,this.updateSplatMeshUniforms(),this.splatRenderCount=t}setupSortWorker(e){this.sortWorker=OOe(e),this.sortWorker.onmessage=t=>{var r;t.data.sortDone?(this.sortRunning=!1,(r=this.splatMesh)==null||r.updateIndexes(new Uint32Array(t.data.indexesBuffer)),this.lastSortTime=t.data.sortTime,this.queuedMessage&&(this.sortWorker.postMessage(this.queuedMessage),this.queuedMessage=null)):t.data.sortCanceled?this.sortRunning=!1:t.data.sortSetupPhase1Complete?this.sortWorker.postMessage({positions:this.splatMesh.getCenters().buffer,meshMatrixWorlds:this.splatMesh.meshMatrixWorlds,meshIndexIntervals:this.splatMesh.meshIndexIntervals,cropsArray:this.cropsArray}):t.data.sortSetupComplete&&(this.splatDataTextures=this.splatMesh.getSplatDataTextures(),this.updateView(!0,!0),this.splatRenderingInitialized=!0)}}update(){this.splatRenderingInitialized!==!1&&(this.updateSplatMeshUniforms(),this.updateView())}getSplatMesh(){return this.splatMesh}},ZP=new r1;ZP.wireframe=!0;var Q9=new L,oj=class extends $u{constructor(e,t){super(),this.data=e,this.enableHelpers=!1,this.wireframeState=!1,this.needsTransmissionDirty=!0,this.needsNormalDirty=!0,this._needsTransmission=!1,this._needsNormal=!1,this.geometryCacheChanged=!1,this.splatViewer=null,this.entityByUuid={},this.entityIdentityToEntity={},this.toExpandCloner=new Set,this.toUpdateCloner=new Set,this.pendingCommands=[],this.pathConstraints=new EOe,this.errorPage=new Ju("fdasfa",{...Zm.defaultData,name:""}),this.invisibleObjects=new fm("jflkdsafjasdifjaslk",{...vP.defaultData,visible:!1,name:"buildin invisible"}),this.needsRecomputeInstances=!1,this.init(e,t),this.matrixAutoUpdate=!1}markGeometryCacheDirty(){this.geometryCacheChanged=!0}markNeedsUpdateRendererDirty(){this.needsTransmissionDirty=!0,this.needsNormalDirty=!0}needsTransmission(){return this.needsTransmissionDirty&&(this._needsTransmission=xOe(this),this.needsTransmissionDirty=!1),this._needsTransmission}needsNormal(){return this.needsNormalDirty&&(this._needsNormal=bOe(this),this.needsNormalDirty=!1),this._needsNormal}registerInstanceAndSetUuid(e){let t=e.identity.join("-"),r=this.entityIdentityToEntity[t];r&&(e.uuid=r.uuid),this.entityIdentityToEntity[t]=e,this.entityByUuid[e.uuid]=e}markPenumbraSizeDirty(){for(let e of this.children)e instanceof Ju&&(e.penumbraSizeArrayCache=null)}findInstance(e){return this.entityIdentityToEntity[e.join("-")]}get bgColor(){return this.activePage.bgColor}get postprocessing(){return this.activePage.data.postprocessing}getWithSortKey(e){let t=this.find(e);if(t===void 0)return;let r=[],n=t;for(;n!==this;){let i=n;n=n.parent;let o=n.children.indexOf(i);r.splice(0,0,o)}return{entity:t,sortKey:r}}getAllSorted(e){let t=[];for(let r of e){let n=this.getWithSortKey(r.id);n!==void 0&&t.push(n)}return t.sort((r,n)=>dPe(r.sortKey,n.sortKey)),t.map(r=>r.entity)}nonExistOrDescendantOf(e,t){let r=this.find(e);if(r===void 0)return!0;for(;r;){if(r.uuid===t)return!0;r=r.parent}return!1}find(e){if(this.activePage&&this.activePage.personalCamera.parent){if(e==="f23858d0-4a3b-4bd8-8173-66ed0af7f6fb-personalCamera")return this.activePage.personalCamera;if(e===Mg)return this.activePage.personalCamera}if(e===""||e===void 0)return;let t=this.entityByUuid[e];return t===void 0?this.getObjectByProperty("uuid",e):t}debugEnsureEntity(e){let t=this.find(e);if(t){if(Array.isArray(t.identity)&&this.findInstance(t.identity)===void 0){console.error("not found instance");debugger}}else{console.error("not found");debugger}}addPendingExpandCloner(e){this.toExpandCloner.add(e)}addPendingUpdateCloner(e){this.toUpdateCloner.add(e)}markToExpandCloner(e){this.toExpandCloner.add(e),e.traverseEntityAncestors(t=>{this.toExpandCloner.add(t)})}doPendingExpandCloner(){this.toExpandCloner.forEach(e=>{e.expandCloner(this)}),this.toExpandCloner.clear()}doPendingUpdateCloner(){this.toUpdateCloner.forEach(e=>{var t;(t=e.cloner)==null||t.update()}),this.toUpdateCloner.clear()}doPendingUpdates(){this.doPendingExpandCloner(),this.doPendingUpdateCloner(),this.applyPendingCommands()}addPendingCommand(e){this.pendingCommands.push(e)}applyPendingCommands(){this.pendingCommands.forEach(e=>e()),this.pendingCommands.length=0}updateByLibOp(e,t){e.path.length===1&&e.path[0]==="components"&&e.type===1&&this.createChildrenObjects([{...e.data.asset,id:e.id}],this.invisibleObjects,t)}updateTreeByOp(e,t){var r;if(e.path.length===0&&e.type===7){let n=e.parent===null?this:this.find(e.parent);if(n===void 0)throw new Error("unexpected");let i=this.createObject(e.id,e.data,e.children,n,e.localIndex,t);i.updateVisible(),i.resetBBoxNeedsUpdate(),bs(i)&&yc(i.parent)&&(i.invalidateUpstreamBooleanData(),i.parent.invalidateDownstreamBooleanData().recomputeBoolean()),this.markNeedsRecomputeInstancesForAncessors(n),this.markNeedsRecomputeInstancesForChildren(i),this.markToExpandCloner(i),this.markPenumbraSizeDirty(),i.updatePathSnapping()}else if(e.path.length===0&&e.type===8){let n=this.find(e.id);if(n===void 0)throw new Error("unexpected");this.markToExpandCloner(n),n.resetBBoxNeedsUpdate(),this.unregisterObject(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),this.markNeedsRecomputeInstancesForChildren(n),this.markPenumbraSizeDirty(),n.parent.remove(n),yc(n.parent)&&(n.parent.invalidateUpstreamBooleanData(),n.parent.invalidateDownstreamBooleanData().recomputeBoolean()),bs(n)&&(n.freeBooleanPointer(),i instanceof $h&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n instanceof rj&&n.detachShape(),this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(n),this.pathConstraints.removeDependencies(n.uuid),n.updatePathSnapping()}else if(e.path.length===0&&e.type===9){let n=this.find(e.id);if(n===void 0)throw new Error("unexpected");this.markNeedsRecomputeInstancesForChildren(n);let i=n.parent;this.markNeedsRecomputeInstancesForAncessors(i),(r=n.cloner)==null||r.resetOnMove(),this.markToExpandCloner(n);let o=e.parent===null?this:this.find(e.parent);if(o===void 0)throw new Error("unexpected");o.add(n),this.markNeedsRecomputeInstancesForAncessors(o),this.markToExpandCloner(n),n.invalidateClonerTransform(n),n.updateVisible(),n.resetBBoxNeedsUpdate(),this.markPenumbraSizeDirty();let l=e.localIndex;o.children.splice(l,0,o.children.pop()),bs(n)&&(n.invalidateUpstreamBooleanData(),yc(n.parent)?n.parent.invalidateDownstreamBooleanData().recomputeBoolean():i instanceof $h&&i.invalidateDownstreamBooleanData().recomputeBoolean()),n.updatePathSnapping()}this.markNeedsUpdateRendererDirty(),this.markGeometryCacheDirty()}get playPage(){return this.find(this.data.publish.playPage)??this.errorPage}updatePage(e){var t;this.activePage&&this.activePage.onDeactive(),this.activePage=this.errorPage;for(let r of this.children)r instanceof Ju&&(r.visible=r.uuid===e,r.visible&&(this.activePage=r,this.activePage.onActive(this)));this.activePage!==((t=this.splatViewer)==null?void 0:t.activePage)&&this.reloadSplats()}updateEntityByOp(e,t,r,n){if(t.type===0){if(("overrides"in t.props||"component"in t.props)&&this.markNeedsRecomputeInstances(),"visible"in t.props&&this.markPenumbraSizeDirty(),t.path.includes("overrides")&&"states"in t.props){let{rest:o}=t.props;t={...t,props:o},this.markNeedsRecomputeInstances()}t.path[0]==="pathSnapping"&&t.props.pathId!==void 0&&this.pathConstraints.setConstraint(e,t.props.pathId)}let i=this.find(e);if(i)try{yOe(i,t,r,{scene:this,shared:n}),i instanceof io&&i.updateGeometryGroupsIfNeeded()}catch(o){console.error(o)}}get activeCamera(){return this.activePage.activeCamera}switchActiveCamera(e){this.activePage.switchActiveCamera(e)}isInvisibleObjects(e){return e===this.invisibleObjects||e.hasAnccestor(this.invisibleObjects)}init(e,t){let r=Object.entries(t.data.lib.components).map((n,i)=>({data:n[1].asset.data,children:n[1].asset.children,id:n[0],fi:i}));this.invisibleObjects.updateState(this.invisibleObjects.data,{scene:this,shared:t}),this.add(this.invisibleObjects),this.createChildrenObjects(r,this.invisibleObjects,t),this.createChildrenObjects(e.objects,this,t),this.updatePage(e.publish.playPage),this.activePage.switchToPlayCamera(),this.expandInstances(t,!0),this.traverseEntity(n=>{n instanceof Ri&&n.updateUp()}),this.doPendingExpandCloner(),this.applyPendingCommands()}markNeedsRecomputeInstances(){this.needsRecomputeInstances=!0}markNeedsRecomputeInstancesForChildren(e){e.traverseEntity(t=>{(t.data.type==="Component"||t.data.type==="Instance")&&this.markNeedsRecomputeInstances()})}markNeedsRecomputeInstancesForAncessors(e){Jt.is(e)&&(e.data.type==="Component"&&this.markNeedsRecomputeInstances(),e.traverseAncestors(t=>{Jt.is(t)&&t.data.type==="Component"&&this.markNeedsRecomputeInstances()}))}relativeizeInner(e,t,r,n,i,o,l){if(e){let c=n.find(e);c&&c!==n&&i.forInstancesRec(a=>{a.data=by(a.data,s=>{let u=s.events.data(l.id),d=a.goUp(o);if(d){let h=[...IY(d.identity),e].join("-"),p=this.entityIdentityToEntity[h];if(p){let m=p.uuid,f=Ki.zoom(u,t);f[r]=m}else console.warn("cannot find instance")}}).data})}}rewriteActions(e,t,r,n,i,o){e.forEach(l=>{l.data.type==="Transition"?this.relativeizeInner(l.data.object,[...t,l.id],"object",r,n,i,o):l.data.type==="Animation"&&this.relativeizeInner(l.data.object,[...t,l.id],"object",r,n,i,o)})}rewriteEventsBeforeGoToPlayMode(){this.traverseEntity(e=>{if(e instanceof mm&&typeof e.identity=="string"&&e.data.type==="Component")return e.traverseEntity((t,r)=>{t.data.events.forEach(n=>{if(n.data.type==="GameControl"){let i=!1;if(t.forInstancesRec(o=>{o.data=by(o.data,l=>{o.isInstanceRoot||(l.events.delete(n.id),i=!0)}).data}),i===!1)for(let o of k_.list)this.rewriteActions(n.data.gameActions[o],["gameActions",o],e,t,r,n)}else n.data.type==="Conditional"?(n.data.condition.type==="Distance"?(this.relativeizeInner(n.data.condition.fromObject,["condition"],"fromObject",e,t,r,n),this.relativeizeInner(n.data.condition.toObject,["condition"],"toObject",e,t,r,n)):n.data.condition.type==="State"?this.relativeizeInner(n.data.condition.object,["condition"],"object",e,t,r,n):n.data.condition.type==="Comparison"&&(n.data.condition.lOperand.type==="Property"&&this.relativeizeInner(n.data.condition.lOperand.value[0],["condition","lOperand","value"],0,e,t,r,n),n.data.condition.rOperand.type==="Property"&&this.relativeizeInner(n.data.condition.rOperand.value[0],["condition","rOperand","value"],0,e,t,r,n)),this.rewriteActions(n.data.inActions,["inActions"],e,t,r,n),this.rewriteActions(n.data.outActions,["outActions"],e,t,r,n)):"actions"in n.data&&this.rewriteActions(n.data.actions,["actions"],e,t,r,n)})}),!0})}expandInstances(e,t,r){let n=new Set;this.traverseEntity(i=>{if(i instanceof mm&&i.isInstanceRoot)return i.expandInstanceChildren({scene:this,shared:e,pendingDeletes:n}),t||i.resetBBoxNeedsUpdate(),r&&i.traverseEntity(o=>{r.addClip(o)}),!0});for(let i of n)this.disposeAndUnregisterEntityRecursivelyIfNotReregistered(i),nj(i)}recomputeInstances(e,t){this.needsRecomputeInstances&&(this.needsRecomputeInstances=!1,this.traverseEntity(r=>{r instanceof mm&&r.isInstanceRoot&&(r.component=void 0)}),this.expandInstances(e,!1,t))}disposeAndUnregisterEntityRecursivelyIfNotReregistered(e){e.traverseEntity(t=>{let r=typeof t.identity=="string"?t.identity:t.identity.join("-");this.entityIdentityToEntity[r]===t&&(delete this.entityByUuid[t.uuid],delete this.entityIdentityToEntity[r]),t.dispose()})}clearScene(){for(let e of this.children)Jt.is(e)&&e.disposeRecursively();this.children.length=0}resetAfterClear(e,t){this.init(e,t)}raycast(e){return this.raycast1(e,!1)}raycast1(e,t){let r=[],n=i=>{for(let o of i.children){let l=o.cloner;if(Jt.is(o)&&!o.raycastLock&&(o.visible||l!=null&&l.object.data.visible))if(t===!0&&o.isInstanceRoot){let c=[];if(e.intersectObject(o,!0,c),c.length){let a=c[0];a.object=o,a.point.applyMatrix4(a.object.matrixWorld);let s=o.matrixWorld.clone().invert();a.point.applyMatrix4(s),r.push(a)}}else(bs(o)||VP(o)&&this.enableHelpers&&o.objectHelper.visible)&&(e.intersectObject(o,!1,r),XP(o,e,r)),n(o)}};return n(this),r}raycastWithClones(e){let t=[],r=n=>{for(let i of n.children){let o=i.cloner;Jt.is(i)&&(i.visible||o!=null&&o.object.data.visible)&&((bs(i)||VP(i)&&this.enableHelpers&&i.objectHelper.visible)&&(e.intersectObject(i,!1,t),XP(i,e,t,!0)),r(i))}};return r(this),t}forEachEntity(e){for(let t of this.children)Jt.is(t)&&e(t)}traverseConcreteEntity(e){for(let t of this.children)Jt.is(t)&&t.isConcreteEntity&&t.traverseEntity(e)}traverseEntity(e){for(let t of this.children)Jt.is(t)&&t.traverseEntity(e)}updateFont(e,t){this.traverseEntity(r=>{if(r instanceof io&&r.data.type==="Mesh"&&r.data.geometry.type==="TextGeometry"&&r.data.geometry.font===e){let n=r.geometry,i=r.data.geometry;n.updateFont(e,t).then(()=>{n.update(i);let o=r.invalidateDownstreamBooleanData();yc(o)&&o.recomputeBoolean()})}})}traverseObject(e){for(let t of this.children)Cy.is(t)&&t.traverseObject(e)}traverseVisibleEntity(e){for(let t of this.children)Jt.is(t)&&t.visible&&t.traverseVisibleEntity(e)}dispose(){this.clearScene()}createChildrenObjects(e,t,r){let n=0;for(let i of e)this.createObject(i.id,i.data,i.children,t,n,r),n+=1}registerObjectCreatedInLegacy(e){this.entityByUuid[e.uuid]=e}unregisterObject(e){delete this.entityByUuid[e.uuid];for(let t of e.children)this.unregisterObject(t)}createObject(e,t,r,n,i,o){var a;let l={scene:this,shared:o},c=ij(e,t,l);return c&&(this.entityByUuid[e]=c,n.add(c),n.children.splice(i,0,n.children.pop()),r.length>0&&(c.isInstanceRoot?console.error("instance should not have children!"):this.createChildrenObjects(r,c,o)),c.updateState(t,l),c instanceof io&&c.updateGeometryGroupsIfNeeded(),c.updateVisible(),c.cloner&&this.toExpandCloner.add(c),(a=t.pathSnapping)!=null&&a.pathId&&this.pathConstraints.setConstraint(e,t.pathSnapping.pathId)),t.type==="Empty"&&t.animations&&c.traverseEntity(s=>{let u=s.dataPatched;if(s instanceof io&&u.bones&&u.boneInverses){let d=u.bones.map(m=>this.find(m)),h=u.boneInverses.map(m=>new Re().fromArray(m)),p=new K5(d,h);s.bind(p,s.bindMatrix)}else s.matrixAutoUpdate=!0}),c}getCenter(e){let t=[];for(let n=0,i=e.length;n<i;++n){let{id:o,recursive:l}=e[n],c=this.find(o),a=l?c.recursiveBBox:c.singleBBox;t.push(...a.vertices)}let r=new Cn;return r.setFromPoints(t),r.getCenter(Q9),Q9}copyMatrixWorld(e,t){if(e===null){t.identity();return}let r=this.find(e);r?t.copy(r.matrixWorld):t.identity()}copyParentMatrixWorld(e,t){var n;if(e===null){t.identity();return}let r=(n=this.find(e))==null?void 0:n.parent;r?t.copy(r.matrixWorld):t.identity()}traverseMaterial(e){this.traverseEntity(t=>{if(t instanceof Fo)if(Array.isArray(t.material))for(let r=0;r<t.material.length;r++)t.material[r]instanceof sd&&e(t.material[r]);else t.material instanceof sd&&e(t.material)})}updateViewPlaneSize(e,t,r=!1){this.traverseConcreteEntity(n=>{n instanceof Ri&&n.setViewplaneSize(e,t,r)})}initializeSplatViewer(e){this.splatViewer=new zOe({scene:this,renderer:e}),this.reloadSplats()}reloadSplats(){var e;(e=this.splatViewer)==null||e.reloadSplats()}},Kx=(e,t)=>{let r=t.x-e.x,n=t.y-e.y;return Math.sqrt(r*r+n*n)},LOe=(e,t)=>{let r=t.x-e.x,n=t.y-e.y;return BOe(Math.atan2(n,r))},NOe=(e,t,r)=>{let n={x:0,y:0};return r=JP(r),n.x=e.x-t*Math.cos(r),n.y=e.y-t*Math.sin(r),n},JP=e=>e*(Math.PI/180),BOe=e=>e*(180/Math.PI),FOe=e=>isNaN(e.buttons)?e.pressure!==0:e.buttons!==0,nA=new Map,Z9=e=>{nA.has(e)&&clearTimeout(nA.get(e)),nA.set(e,setTimeout(e,100))},U_=(e,t,r)=>{let n=t.split(/[ ,]+/g),i;for(let o=0;o<n.length;o+=1)i=n[o],e.addEventListener?e.addEventListener(i,r,!1):e.attachEvent&&e.attachEvent(i,r)},J9=(e,t,r)=>{let n=t.split(/[ ,]+/g),i;for(let o=0;o<n.length;o+=1)i=n[o],e.removeEventListener?e.removeEventListener(i,r):e.detachEvent&&e.detachEvent(i,r)},YX=e=>(e.preventDefault(),e.type.match(/^touch/)?e.changedTouches:e),eB=()=>{if(typeof window>"u")return;let e=window.pageXOffset!==void 0?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft,t=window.pageYOffset!==void 0?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:e,y:t}},e4=(e,t)=>{t.top||t.right||t.bottom||t.left?(e.style.top=t.top,e.style.right=t.right,e.style.bottom=t.bottom,e.style.left=t.left):(e.style.left=t.x+"px",e.style.top=t.y+"px")},aj=(e,t,r)=>{let n=$X(e);for(let i in n)if(n.hasOwnProperty(i))if(typeof t=="string")n[i]=t+" "+r;else{let o="";for(let l=0,c=t.length;l<c;l+=1)o+=t[l]+" "+r+", ";n[i]=o.slice(0,-2)}return n},UOe=(e,t)=>{let r=$X(e);for(let n in r)r.hasOwnProperty(n)&&(r[n]=t);return r},$X=e=>{let t={};return t[e]="",["webkit","Moz","o"].forEach(function(r){t[r+e.charAt(0).toUpperCase()+e.slice(1)]=""}),t},iA=(e,t)=>{for(let r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return e},VOe=(e,t)=>{let r={};for(let n in e)e.hasOwnProperty(n)&&t.hasOwnProperty(n)?r[n]=t[n]:e.hasOwnProperty(n)&&(r[n]=e[n]);return r},t4=(e,t)=>{if(e.length)for(let r=0,n=e.length;r<n;r+=1)t(e[r]);else t(e)},HOe=(e,t,r)=>({x:Math.min(Math.max(e.x,t.x-r),t.x+r),y:Math.min(Math.max(e.y,t.y-r),t.y+r)});typeof window<"u"&&(XX="ontouchstart"in window,KX=!!window.PointerEvent,QX=!!window.MSPointerEvent);var XX,KX,QX,E0={touch:{start:"touchstart",move:"touchmove",end:"touchend, touchcancel"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup, pointercancel"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},Vf,My={};KX?Vf=E0.pointer:QX?Vf=E0.MSPointer:XX?(Vf=E0.touch,My=E0.mouse):Vf=E0.mouse;function up(){}up.prototype.on=function(e,t){var r=this,n=e.split(/[ ,]+/g),i;r._handlers_=r._handlers_||{};for(var o=0;o<n.length;o+=1)i=n[o],r._handlers_[i]=r._handlers_[i]||[],r._handlers_[i].push(t);return r};up.prototype.off=function(e,t){var r=this;return r._handlers_=r._handlers_||{},e===void 0?r._handlers_={}:t===void 0?r._handlers_[e]=null:r._handlers_[e]&&r._handlers_[e].indexOf(t)>=0&&r._handlers_[e].splice(r._handlers_[e].indexOf(t),1),r};up.prototype.trigger=function(e,t){var r=this,n=e.split(/[ ,]+/g),i;r._handlers_=r._handlers_||{};for(var o=0;o<n.length;o+=1)i=n[o],r._handlers_[i]&&r._handlers_[i].length&&r._handlers_[i].forEach(function(l){l.call(r,{type:i,target:r},t)})};up.prototype.config=function(e){var t=this;t.options=t.defaults||{},e&&(t.options=VOe(t.options,e))};up.prototype.bindEvt=function(e,t){var r=this;return r._domHandlers_=r._domHandlers_||{},r._domHandlers_[t]=function(){typeof r["on"+t]=="function"?r["on"+t].apply(r,arguments):console.warn('[WARNING] : Missing "on'+t+'" handler.')},U_(e,Vf[t],r._domHandlers_[t]),My[t]&&U_(e,My[t],r._domHandlers_[t]),r};up.prototype.unbindEvt=function(e,t){var r=this;return r._domHandlers_=r._domHandlers_||{},J9(e,Vf[t],r._domHandlers_[t]),My[t]&&J9(e,My[t],r._domHandlers_[t]),delete r._domHandlers_[t],this};var sj=up;function Jn(e,t){return this.identifier=t.identifier,this.position=t.position,this.frontPosition=t.frontPosition,this.collection=e,this.defaults={size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,mode:"dynamic",zone:document.body,lockX:!1,lockY:!1,shape:"circle"},this.config(t),this.options.mode==="dynamic"&&(this.options.restOpacity=0),this.id=Jn.id,Jn.id+=1,this.buildEl().stylize(),this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),setPosition:this.setPosition.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options},this.instance}Jn.prototype=new sj;Jn.constructor=Jn;Jn.id=0;Jn.prototype.buildEl=function(e){return this.ui={},this.options.dataOnly?this:(this.ui.el=document.createElement("div"),this.ui.back=document.createElement("div"),this.ui.front=document.createElement("div"),this.ui.el.className="nipple collection_"+this.collection.id,this.ui.back.className="back",this.ui.front.className="front",this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id),this.ui.el.appendChild(this.ui.back),this.ui.el.appendChild(this.ui.front),this)};Jn.prototype.stylize=function(){if(this.options.dataOnly)return this;var e=this.options.fadeTime+"ms",t=UOe("borderRadius","50%"),r=aj("transition","opacity",e),n={};return n.el={position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999},n.back={position:"absolute",display:"block",width:this.options.size+"px",height:this.options.size+"px",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:"rgba(255, 255, 255, .4)",border:"solid 2px rgba(0, 0, 0, .1)"},n.front={width:this.options.size/2+"px",height:this.options.size/2+"px",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:"rgba(255, 255, 255, .8)",border:"solid 2px rgba(0, 0, 0, .1)"},iA(n.el,r),this.options.shape==="circle"&&iA(n.back,t),iA(n.front,t),this.applyStyles(n),this};Jn.prototype.applyStyles=function(e){for(var t in this.ui)if(this.ui.hasOwnProperty(t))for(var r in e[t])this.ui[t].style[r]=e[t][r];return this};Jn.prototype.addToDom=function(){return this.options.dataOnly||document.body.contains(this.ui.el)?this:(this.options.zone.appendChild(this.ui.el),this)};Jn.prototype.removeFromDom=function(){return this.options.dataOnly||!document.body.contains(this.ui.el)?this:(this.options.zone.removeChild(this.ui.el),this)};Jn.prototype.destroy=function(){clearTimeout(this.removeTimeout),clearTimeout(this.showTimeout),clearTimeout(this.restTimeout),this.trigger("destroyed",this.instance),this.removeFromDom(),this.off()};Jn.prototype.show=function(e){var t=this;return t.options.dataOnly||(clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.addToDom(),t.restCallback(),setTimeout(function(){t.ui.el.style.opacity=1},0),t.showTimeout=setTimeout(function(){t.trigger("shown",t.instance),typeof e=="function"&&e.call(this)},t.options.fadeTime)),t};Jn.prototype.hide=function(e){var t=this;if(t.options.dataOnly)return t;if(t.ui.el.style.opacity=t.options.restOpacity,clearTimeout(t.removeTimeout),clearTimeout(t.showTimeout),clearTimeout(t.restTimeout),t.removeTimeout=setTimeout(function(){var r=t.options.mode==="dynamic"?"none":"block";t.ui.el.style.display=r,typeof e=="function"&&e.call(t),t.trigger("hidden",t.instance)},t.options.fadeTime),t.options.restJoystick){let r=t.options.restJoystick,n={};n.x=r===!0||r.x!==!1?0:t.instance.frontPosition.x,n.y=r===!0||r.y!==!1?0:t.instance.frontPosition.y,t.setPosition(e,n)}return t};Jn.prototype.setPosition=function(e,t){var r=this;r.frontPosition={x:t.x,y:t.y};var n=r.options.fadeTime+"ms",i={};i.front=aj("transition",["top","left"],n);var o={front:{}};o.front={left:r.frontPosition.x+"px",top:r.frontPosition.y+"px"},r.applyStyles(i),r.applyStyles(o),r.restTimeout=setTimeout(function(){typeof e=="function"&&e.call(r),r.restCallback()},r.options.fadeTime)};Jn.prototype.restCallback=function(){var e=this,t={};t.front=aj("transition","none",""),e.applyStyles(t),e.trigger("rested",e.instance)};Jn.prototype.resetDirection=function(){this.direction={x:!1,y:!1,angle:!1}};Jn.prototype.computeDirection=function(e){var t=e.angle.radian,r=Math.PI/4,n=Math.PI/2,i,o,l;if(t>r&&t<r*3&&!e.lockX?i="up":t>-r&&t<=r&&!e.lockY?i="left":t>-r*3&&t<=-r&&!e.lockX?i="down":e.lockY||(i="right"),e.lockY||(t>-n&&t<n?o="left":o="right"),e.lockX||(t>0?l="up":l="down"),e.force>this.options.threshold){var c={},a;for(a in this.direction)this.direction.hasOwnProperty(a)&&(c[a]=this.direction[a]);var s={};this.direction={x:o,y:l,angle:i},e.direction=this.direction;for(a in c)c[a]===this.direction[a]&&(s[a]=!0);if(s.x&&s.y&&s.angle)return e;(!s.x||!s.y)&&this.trigger("plain",e),s.x||this.trigger("plain:"+o,e),s.y||this.trigger("plain:"+l,e),s.angle||this.trigger("dir dir:"+i,e)}else this.resetDirection();return e};var WOe=Jn;function An(e,t){var r=this;r.nipples=[],r.idles=[],r.actives=[],r.ids=[],r.pressureIntervals={},r.manager=e,r.id=An.id,An.id+=1,r.defaults={zone:document.body,multitouch:!1,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:.1,color:"white",fadeTime:250,dataOnly:!1,restJoystick:!0,restOpacity:1,lockX:!1,lockY:!1,shape:"circle",dynamicPage:!1,follow:!1},r.config(t),(r.options.mode==="static"||r.options.mode==="semi")&&(r.options.multitouch=!1),r.options.multitouch||(r.options.maxNumberOfNipples=1);let n=getComputedStyle(r.options.zone.parentElement);return n&&n.display==="flex"&&(r.parentIsFlex=!0),r.updateBox(),r.prepareNipples(),r.bindings(),r.begin(),r.nipples}An.prototype=new sj;An.constructor=An;An.id=0;An.prototype.prepareNipples=function(){var e=this,t=e.nipples;t.on=e.on.bind(e),t.off=e.off.bind(e),t.options=e.options,t.destroy=e.destroy.bind(e),t.ids=e.ids,t.id=e.id,t.processOnMove=e.processOnMove.bind(e),t.processOnEnd=e.processOnEnd.bind(e),t.get=function(r){if(r===void 0)return t[0];for(var n=0,i=t.length;n<i;n+=1)if(t[n].identifier===r)return t[n];return!1}};An.prototype.bindings=function(){var e=this;e.bindEvt(e.options.zone,"start"),e.options.zone.style.touchAction="none",e.options.zone.style.msTouchAction="none"};An.prototype.begin=function(){var e=this,t=e.options;if(t.mode==="static"){var r=e.createNipple(t.position,e.manager.getIdentifier());r.add(),e.idles.push(r)}};An.prototype.createNipple=function(e,t){var r=this,n=r.manager.scroll,i={},o=r.options,l={x:r.parentIsFlex?n.x:n.x+r.box.left,y:r.parentIsFlex?n.y:n.y+r.box.top};if(e.x&&e.y)i={x:e.x-l.x,y:e.y-l.y};else if(e.top||e.right||e.bottom||e.left){var c=document.createElement("DIV");c.style.display="hidden",c.style.top=e.top,c.style.right=e.right,c.style.bottom=e.bottom,c.style.left=e.left,c.style.position="absolute",o.zone.appendChild(c);var a=c.getBoundingClientRect();o.zone.removeChild(c),i=e,e={x:a.left+n.x,y:a.top+n.y}}var s=new WOe(r,{color:o.color,size:o.size,threshold:o.threshold,fadeTime:o.fadeTime,dataOnly:o.dataOnly,restJoystick:o.restJoystick,restOpacity:o.restOpacity,mode:o.mode,identifier:t,position:e,zone:o.zone,frontPosition:{x:0,y:0},shape:o.shape});return o.dataOnly||(e4(s.ui.el,i),e4(s.ui.front,s.frontPosition)),r.nipples.push(s),r.trigger("added "+s.identifier+":added",s),r.manager.trigger("added "+s.identifier+":added",s),r.bindNipple(s),s};An.prototype.updateBox=function(){var e=this;e.box=e.options.zone.getBoundingClientRect()};An.prototype.bindNipple=function(e){var t=this,r,n=function(i,o){r=i.type+" "+o.id+":"+i.type,t.trigger(r,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",n),e.on("dir:up dir:right dir:down dir:left",n),e.on("plain:up plain:right plain:down plain:left",n)};An.prototype.pressureFn=function(e,t,r){var n=this,i=0;clearInterval(n.pressureIntervals[r]),n.pressureIntervals[r]=setInterval((function(){var o=e.force||e.pressure||e.webkitForce||0;o!==i&&(t.trigger("pressure",o),n.trigger("pressure "+t.identifier+":pressure",o),i=o)}).bind(n),100)};An.prototype.onstart=function(e){var t=this,r=t.options,n=e;e=YX(e),t.updateBox();var i=function(o){t.actives.length<r.maxNumberOfNipples?t.processOnStart(o):n.type.match(/^touch/)&&(Object.keys(t.manager.ids).forEach(function(l){if(Object.values(n.touches).findIndex(function(a){return a.identifier===l})<0){var c=[e[0]];c.identifier=l,t.processOnEnd(c)}}),t.actives.length<r.maxNumberOfNipples&&t.processOnStart(o))};return t4(e,i),t.manager.bindDocument(),!1};An.prototype.processOnStart=function(e){var t=this,r=t.options,n,i=t.manager.getIdentifier(e),o=e.force||e.pressure||e.webkitForce||0,l={x:e.pageX,y:e.pageY},c=t.getOrCreate(i,l);c.identifier!==i&&t.manager.removeIdentifier(c.identifier),c.identifier=i;var a=function(u){u.trigger("start",u),t.trigger("start "+u.id+":start",u),u.show(),o>0&&t.pressureFn(e,u,u.identifier),t.processOnMove(e)};if((n=t.idles.indexOf(c))>=0&&t.idles.splice(n,1),t.actives.push(c),t.ids.push(c.identifier),r.mode!=="semi")a(c);else{var s=Kx(l,c.position);if(s<=r.catchDistance)a(c);else{c.destroy(),t.processOnStart(e);return}}return c};An.prototype.getOrCreate=function(e,t){var r=this,n=r.options,i;return/(semi|static)/.test(n.mode)?(i=r.idles[0],i?(r.idles.splice(0,1),i):n.mode==="semi"?r.createNipple(t,e):(console.warn("Coudln't find the needed nipple."),!1)):(i=r.createNipple(t,e),i)};An.prototype.processOnMove=function(e){var t=this,r=t.options,n=t.manager.getIdentifier(e),i=t.nipples.get(n),o=t.manager.scroll;if(!FOe(e)){this.processOnEnd(e);return}if(!i){console.error("Found zombie joystick with ID "+n),t.manager.removeIdentifier(n);return}if(r.dynamicPage){var l=i.el.getBoundingClientRect();i.position={x:o.x+l.left,y:o.y+l.top}}i.identifier=n;var c=i.options.size/2,a={x:e.pageX,y:e.pageY};r.lockX&&(a.y=i.position.y),r.lockY&&(a.x=i.position.x);var s=Kx(a,i.position),u=LOe(a,i.position),d=JP(u),h=s/c,p={distance:s,position:a},m,f;if(i.options.shape==="circle"?(m=Math.min(s,c),f=NOe(i.position,m,u)):(f=HOe(a,i.position,c),m=Kx(f,i.position)),r.follow){if(s>c){let y=a.x-f.x,b=a.y-f.y;i.position.x+=y,i.position.y+=b,i.el.style.top=i.position.y-(t.box.top+o.y)+"px",i.el.style.left=i.position.x-(t.box.left+o.x)+"px",s=Kx(a,i.position)}}else a=f,s=m;var g=a.x-i.position.x,v=a.y-i.position.y;i.frontPosition={x:g,y:v},r.dataOnly||e4(i.ui.front,i.frontPosition);var x={identifier:i.identifier,position:a,force:h,pressure:e.force||e.pressure||e.webkitForce||0,distance:s,angle:{radian:d,degree:u},vector:{x:g/c,y:-v/c},raw:p,instance:i,lockX:r.lockX,lockY:r.lockY};x=i.computeDirection(x),x.angle={radian:JP(180-u),degree:180-u},i.trigger("move",x),t.trigger("move "+i.id+":move",x)};An.prototype.processOnEnd=function(e){var t=this,r=t.options,n=t.manager.getIdentifier(e),i=t.nipples.get(n),o=t.manager.removeIdentifier(i.identifier);!i||(r.dataOnly||i.hide(function(){r.mode==="dynamic"&&(i.trigger("removed",i),t.trigger("removed "+i.id+":removed",i),t.manager.trigger("removed "+i.id+":removed",i),i.destroy())}),clearInterval(t.pressureIntervals[i.identifier]),i.resetDirection(),i.trigger("end",i),t.trigger("end "+i.id+":end",i),t.ids.indexOf(i.identifier)>=0&&t.ids.splice(t.ids.indexOf(i.identifier),1),t.actives.indexOf(i)>=0&&t.actives.splice(t.actives.indexOf(i),1),/(semi|static)/.test(r.mode)?t.idles.push(i):t.nipples.indexOf(i)>=0&&t.nipples.splice(t.nipples.indexOf(i),1),t.manager.unbindDocument(),/(semi|static)/.test(r.mode)&&(t.manager.ids[o.id]=o.identifier))};An.prototype.onDestroyed=function(e,t){var r=this;r.nipples.indexOf(t)>=0&&r.nipples.splice(r.nipples.indexOf(t),1),r.actives.indexOf(t)>=0&&r.actives.splice(r.actives.indexOf(t),1),r.idles.indexOf(t)>=0&&r.idles.splice(r.idles.indexOf(t),1),r.ids.indexOf(t.identifier)>=0&&r.ids.splice(r.ids.indexOf(t.identifier),1),r.manager.removeIdentifier(t.identifier),r.manager.unbindDocument()};An.prototype.destroy=function(){var e=this;e.unbindEvt(e.options.zone,"start"),e.nipples.forEach(function(r){r.destroy()});for(var t in e.pressureIntervals)e.pressureIntervals.hasOwnProperty(t)&&clearInterval(e.pressureIntervals[t]);e.trigger("destroyed",e.nipples),e.manager.unbindDocument(),e.off()};var GOe=An;function ci(e){var t=this;t.ids={},t.index=0,t.collections=[],t.scroll=eB(),t.config(e),t.prepareCollections();var r=function(){var i;t.collections.forEach(function(o){o.forEach(function(l){i=l.el.getBoundingClientRect(),l.position={x:t.scroll.x+i.left,y:t.scroll.y+i.top}})})};if(typeof window>"u")return t.collections;U_(window,"resize",function(){Z9(r)});var n=function(){t.scroll=eB()};return U_(window,"scroll",function(){Z9(n)}),t.collections}ci.prototype=new sj;ci.constructor=ci;ci.prototype.prepareCollections=function(){var e=this;e.collections.create=e.create.bind(e),e.collections.on=e.on.bind(e),e.collections.off=e.off.bind(e),e.collections.destroy=e.destroy.bind(e),e.collections.get=function(t){var r;return e.collections.every(function(n){return r=n.get(t),!r}),r}};ci.prototype.create=function(e){return this.createCollection(e)};ci.prototype.createCollection=function(e){var t=this,r=new GOe(t,e);return t.bindCollection(r),t.collections.push(r),r};ci.prototype.bindCollection=function(e){var t=this,r,n=function(i,o){r=i.type+" "+o.id+":"+i.type,t.trigger(r,o)};e.on("destroyed",t.onDestroyed.bind(t)),e.on("shown hidden rested dir plain",n),e.on("dir:up dir:right dir:down dir:left",n),e.on("plain:up plain:right plain:down plain:left",n)};ci.prototype.bindDocument=function(){var e=this;e.binded||(e.bindEvt(document,"move").bindEvt(document,"end"),e.binded=!0)};ci.prototype.unbindDocument=function(e){var t=this;(!Object.keys(t.ids).length||e===!0)&&(t.unbindEvt(document,"move").unbindEvt(document,"end"),t.binded=!1)};ci.prototype.getIdentifier=function(e){var t;return e?(t=e.identifier===void 0?e.pointerId:e.identifier,t===void 0&&(t=this.latest||0)):t=this.index,this.ids[t]===void 0&&(this.ids[t]=this.index,this.index+=1),this.latest=t,this.ids[t]};ci.prototype.removeIdentifier=function(e){var t={};for(var r in this.ids)if(this.ids[r]===e){t.id=r,t.identifier=this.ids[r],delete this.ids[r];break}return t};ci.prototype.onmove=function(e){var t=this;return t.onAny("move",e),!1};ci.prototype.onend=function(e){var t=this;return t.onAny("end",e),!1};ci.prototype.oncancel=function(e){var t=this;return t.onAny("end",e),!1};ci.prototype.onAny=function(e,t){var r=this,n,i="processOn"+e.charAt(0).toUpperCase()+e.slice(1);t=YX(t);var o=function(c,a,s){s.ids.indexOf(a)>=0&&(s[i](c),c._found_=!0)},l=function(c){n=r.getIdentifier(c),t4(r.collections,o.bind(null,c,n)),c._found_||r.removeIdentifier(n)};return t4(t,l),!1};ci.prototype.destroy=function(){var e=this;e.unbindDocument(!0),e.ids={},e.index=0,e.collections.forEach(function(t){t.destroy()}),e.off()};ci.prototype.onDestroyed=function(e,t){var r=this;if(r.collections.indexOf(t)<0)return!1;r.collections.splice(r.collections.indexOf(t),1)};var qOe=ci,tB=new qOe,YOe={create:function(e){return tB.create(e)},factory:tB},ZX=new Map,Ev=new Map,uh=class{constructor(e,t,r,n){this.data=t;let{audio:i,volume:o,delay:l,loop:c}=t;if(!i)throw new Error("Missing property");let a=typeof i=="string"?n.getAudio(i).src:i.data;this.audioPlayer=new X0({src:a,volume:o,delay:l,loop:c}),Ev.has(r.uuid)?Ev.get(r.uuid).push(this):Ev.set(r.uuid,[this]),ZX.set(e,this)}playByToggle(){this.data.toggle==="stop"?this.audioPlayer.status==="playing"?this.audioPlayer.stop():(this.audioPlayer.stop(),this.audioPlayer.play()):this.data.toggle==="pause"?this.audioPlayer.status==="playing"?this.audioPlayer.pause():this.audioPlayer.play():(this.audioPlayer.stop(),this.audioPlayer.play())}dispose(){this.audioPlayer.stop()}},r4=class{constructor(e){this.data=e}dispatch(){this.data.playAudio?this.pauseAudio(this.data.playAudio):this.data.object?this.pauseAllAudiosFromObject(this.data.object):this.pauseAllAudios()}pauseAudio(e){let t=ZX.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.audioPlayer[this.data.interaction](),this.disposeDelay()},this.data.delay)):t.audioPlayer[this.data.interaction]())}pauseAllAudiosFromObject(e){let t=Ev.get(e);!(t!=null&&t.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(r=>r.audioPlayer[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(r=>r.audioPlayer[this.data.interaction]()))}pauseAllAudios(){let e=[...Ev.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(r=>{r.audioPlayer[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(r=>{r.audioPlayer[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},JX=class{constructor(e,t,r,n,i){if(this.data=t,this.shared=n,this.condition=i,t.interaction==="play")this.interaction=new uh(e,t,r,n);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new r4(t);else throw new Error("Missing property")}dispatchBasic(){if(Un(this.shared,this.condition)===!1)return!1;this.interaction instanceof uh?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(Un(this.shared,this.condition)===!1)return!1;this.interaction instanceof uh?this.interaction.audioPlayer.play():this.interaction.dispatch()}dispatchGameControl(e){if(Un(this.shared,this.condition)===!1)return!1;this.interaction instanceof uh&&(e==="start"?this.interaction.audioPlayer.play():this.interaction.audioPlayer.stop())}dispose(){this.interaction.dispose()}},$Oe="text/plain",XOe="us-ascii",rB=(e,t)=>t.some(r=>r instanceof RegExp?r.test(e):r===e),KOe=(e,{stripHash:t})=>{let r=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(e);if(!r)throw new Error(`Invalid URL: ${e}`);let{type:n,data:i,hash:o}=r.groups,l=n.split(";");o=t?"":o;let c=!1;l[l.length-1]==="base64"&&(l.pop(),c=!0);let a=(l.shift()||"").toLowerCase(),s=[...l.map(u=>{let[d,h=""]=u.split("=").map(p=>p.trim());return d==="charset"&&(h=h.toLowerCase(),h===XOe)?"":`${d}${h?`=${h}`:""}`}).filter(Boolean)];return c&&s.push("base64"),(s.length>0||a&&a!==$Oe)&&s.unshift(a),`data:${s.join(";")},${c?i.trim():i}${o?`#${o}`:""}`};function QOe(e,t){if(t={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...t},e=e.trim(),/^data:/i.test(e))return KOe(e,t);if(/^view-source:/i.test(e))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let r=e.startsWith("//");!r&&/^\.*\//.test(e)||(e=e.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,t.defaultProtocol));let n=new URL(e);if(t.forceHttp&&t.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(t.forceHttp&&n.protocol==="https:"&&(n.protocol="http:"),t.forceHttps&&n.protocol==="http:"&&(n.protocol="https:"),t.stripAuthentication&&(n.username="",n.password=""),t.stripHash?n.hash="":t.stripTextFragment&&(n.hash=n.hash.replace(/#?:~:text.*?$/i,"")),n.pathname){let o=/\b[a-z][a-z\d+\-.]{1,50}:\/\//g,l=0,c="";for(;;){let s=o.exec(n.pathname);if(!s)break;let u=s[0],d=s.index,h=n.pathname.slice(l,d);c+=h.replace(/\/{2,}/g,"/"),c+=u,l=d+u.length}let a=n.pathname.slice(l,n.pathname.length);c+=a.replace(/\/{2,}/g,"/"),n.pathname=c}if(n.pathname)try{n.pathname=decodeURI(n.pathname)}catch{}if(t.removeDirectoryIndex===!0&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let o=n.pathname.split("/"),l=o[o.length-1];rB(l,t.removeDirectoryIndex)&&(o=o.slice(0,-1),n.pathname=o.slice(1).join("/")+"/")}if(n.hostname&&(n.hostname=n.hostname.replace(/\.$/,""),t.stripWWW&&/^www\.(?!www\.)[a-z\-\d]{1,63}\.[a-z.\-\d]{2,63}$/.test(n.hostname)&&(n.hostname=n.hostname.replace(/^www\./,""))),Array.isArray(t.removeQueryParameters))for(let o of[...n.searchParams.keys()])rB(o,t.removeQueryParameters)&&n.searchParams.delete(o);if(t.removeQueryParameters===!0&&(n.search=""),t.sortQueryParameters){n.searchParams.sort();try{n.search=decodeURIComponent(n.search)}catch{}}t.removeTrailingSlash&&(n.pathname=n.pathname.replace(/\/$/,""));let i=e;return e=n.toString(),!t.removeSingleSlash&&n.pathname==="/"&&!i.endsWith("/")&&n.hash===""&&(e=e.replace(/\/$/,"")),(t.removeTrailingSlash||n.pathname==="/")&&n.hash===""&&t.removeSingleSlash&&(e=e.replace(/\/$/,"")),r&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),t.stripProtocol&&(e=e.replace(/^(?:https?:)?\/\//,"")),e}var ZOe=class{constructor({url:e,context:t},r,n,i){if(this.controlsManager=r,this.shared=n,this.condition=i,!e)throw new Error("Missing property");this.url=e.startsWith("mailto:")?e:QOe(e,{removeTrailingSlash:!1,removeSingleSlash:!1}),this.context=t??"tab"}dispatch(){var e;if(Un(this.shared,this.condition)===!1)return!1;SD?window.location.assign(this.url):(this.context==="tab"?window.open(this.url,"_blank"):this.context==="window"?window.open(this.url,"_blank",`width=${window.innerWidth}, height=${window.innerHeight}`):window.open(this.url,"_parent"),(e=this.controlsManager.orbitControls)==null||e.onPointerUp(xt[0]),hPe())}},eK=class{constructor(e,t,r,n,i){this.data=e,this.page=t,this.controlsManager=r,this.shared=n,this.condition=i,this.timeoutIdQueue=[],this.dispatchInner=()=>{this.objects.forEach(this.destroyCallback)},this.destroyCallback=o=>{var s,u;this.timeoutIdQueue.shift();let l=this.page.scene.find(o);if(l===void 0)return;let c=this.controlsManager.sharedGameControlGlobals.rapierWorld,a=c?(s=l.dataPatched.physics)==null?void 0:s.fusedBody:!0;if(l.cloner){for(let d of l.cloner.children)a?(d.playModeVisible=!1,d.rigidBody&&((u=l.dataPatched.physics)==null?void 0:u.rigidBody)==="positioned"&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(d.rigidBody.collider(0).handle),c.removeRigidBody(d.rigidBody),d.rigidBody=void 0),d.bvhGeometry&&(d.bvhGeometry=void 0)):this.clone===void 0||this.clone===d?(d.playModeVisible=!1,d.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(d.rigidBody.collider(0).handle),c.removeRigidBody(d.rigidBody),d.rigidBody=void 0)):d.playModeVisible===void 0&&(d.playModeVisible=!0);(a||this.clone===void 0||this.clone===!1)&&(l.visible=!1,l.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(l.rigidBody.collider(0).handle),c.removeRigidBody(l.rigidBody),l.rigidBody=void 0),l.bvhGeometry&&(l.bvhGeometry=void 0))}else l.rigidBody&&(this.controlsManager.sharedGameControlGlobals.colliderToEntity.delete(l.rigidBody.collider(0).handle),c.removeRigidBody(l.rigidBody),l.rigidBody=void 0),l.bvhGeometry&&(l.bvhGeometry=void 0),l.visible=!1;c===void 0?this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(d=>d.bvhGeometry!==void 0):this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim=this.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.filter(d=>d.rigidBody!==void 0),l.destroyedInAction=!0,this.controlsManager.requestRender()},this.objects=[...e.objects]}dispatch(e){if(Un(this.shared,this.condition)===!1)return!1;this.clone=e,this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()}dispatchFromStart(){if(Un(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))}dispose(){this.timeoutIdQueue.forEach(e=>window.clearTimeout(e))}},tK=class{constructor(e,t,r,n,i){this.data=e,this.page=t,this.shared=r,this.eventManager=n,this.condition=i,this.shared=r}dispatch(){if(Un(this.shared,this.condition)===!1)return!1;clearTimeout(this.timeoutId),delete this.timeoutId,this.timeoutId=window.setTimeout(()=>{var e;this.shared.reset(this.shared.data,!0),vj(this.page,this.shared,!0),this.eventManager.reset(),(e=this.eventManager.controlsManager.gameControl)==null||e.reset(!0),this.page.switchToPlayCamera(),this.eventManager.controlsManager.requestRender(),delete this.timeoutId},(this.data.delay??0)*1e3)}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},rK={update:null,begin:null,loopBegin:null,changeBegin:null,change:null,changeComplete:null,timelineChangeComplete:null,loopComplete:null,complete:null,loop:1,direction:"normal",autoplay:!0,timelineOffset:0,rewind:!0},lj={duration:1e3,delay:0,endDelay:0,startOnceDelay:0,pingPongDelayCorrection:0,pingPongEndDelayCorrection:0,easing:"easeOutElastic(1, .5)",round:0},JOe=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skew","skewX","skewY","perspective","matrix","matrix3d"],V_={CSS:{},springs:{}};function Es(e,t,r){return Math.min(Math.max(e,t),r)}function Cv(e,t){return e.indexOf(t)>-1}function oA(e,t){return e.apply(null,t)}var _t={arr:function(e){return Array.isArray(e)},obj:function(e){return Cv(Object.prototype.toString.call(e),"Object")},pth:function(e){return _t.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},inp:function(e){return e instanceof HTMLInputElement},dom:function(e){return!("isNode"in e)&&(e.nodeType||_t.svg(e))},str:function(e){return typeof e=="string"},fnc:function(e){return typeof e=="function"},und:function(e){return typeof e>"u"},hex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return/^rgb/.test(e)},hsl:function(e){return/^hsl/.test(e)},col:function(e){return _t.hex(e)||_t.rgb(e)||_t.hsl(e)},key:function(e){return!rK.hasOwnProperty(e)&&!lj.hasOwnProperty(e)&&e!=="targets"&&e!=="keyframes"}};function nK(e){var t=/\(([^)]+)\)/.exec(e);return t?t[1].split(",").map(function(r){return parseFloat(r)}):[]}function iK(e,t){var r=nK(e),n=Es(_t.und(r[0])?1:r[0],.1,100),i=Es(_t.und(r[1])?100:r[1],.1,100),o=Es(_t.und(r[2])?10:r[2],.1,100),l=Es(_t.und(r[3])?0:r[3],.1,100),c=Math.sqrt(i/n),a=o/(2*Math.sqrt(i*n)),s=a<1?c*Math.sqrt(1-a*a):0,u=1,d=a<1?(a*c+-l)/s:-l+c;function h(m){var f=t?t*m/1e3:m;return a<1?f=Math.exp(-f*a*c)*(u*Math.cos(s*f)+d*Math.sin(s*f)):f=(u+d*f)*Math.exp(-f*c),m===0||m===1?m:1-f}function p(){var m=V_.springs[e];if(m)return m;for(var f=1/6,g=0,v=0;;)if(g+=f,h(g)===1){if(v++,v>=16)break}else v=0;var x=g*f*1e3;return V_.springs[e]=x,x}return t?h:p}function eRe(e){return e===void 0&&(e=10),function(t){return Math.ceil(Es(t,1e-6,1)*e)*(1/e)}}var tRe=function(){var e=11,t=1/(e-1);function r(u,d){return 1-3*d+3*u}function n(u,d){return 3*d-6*u}function i(u){return 3*u}function o(u,d,h){return((r(d,h)*u+n(d,h))*u+i(d))*u}function l(u,d,h){return 3*r(d,h)*u*u+2*n(d,h)*u+i(d)}function c(u,d,h,p,m){var f,g,v=0;do g=d+(h-d)/2,f=o(g,p,m)-u,f>0?h=g:d=g;while(Math.abs(f)>1e-7&&++v<10);return g}function a(u,d,h,p){for(var m=0;m<4;++m){var f=l(d,h,p);if(f===0)return d;var g=o(d,h,p)-u;d-=g/f}return d}function s(u,d,h,p){if(!(0<=u&&u<=1&&0<=h&&h<=1))return;var m=new Float32Array(e);if(u!==d||h!==p)for(var f=0;f<e;++f)m[f]=o(f*t,u,h);function g(v){for(var x=0,y=1,b=e-1;y!==b&&m[y]<=v;++y)x+=t;--y;var w=(v-m[y])/(m[y+1]-m[y]),_=x+w*t,S=l(_,u,h);return S>=.001?a(v,_,u,h):S===0?_:c(v,x,x+t,u,h)}return function(v){return u===d&&h===p||v===0||v===1?v:o(g(v),d,p)}}return s}(),oK=function(){var e={linear:function(){return function(n){return n}}},t={Sine:function(){return function(n){return 1-Math.cos(n*Math.PI/2)}},Circ:function(){return function(n){return 1-Math.sqrt(1-n*n)}},Back:function(){return function(n){return n*n*(3*n-2)}},Bounce:function(){return function(n){for(var i,o=4;n<((i=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((i*3-2)/22-n,2)}},Elastic:function(n,i){n===void 0&&(n=1),i===void 0&&(i=.5);var o=Es(n,1,10),l=Es(i,.1,2);return function(c){return c===0||c===1?c:-o*Math.pow(2,10*(c-1))*Math.sin((c-1-l/(Math.PI*2)*Math.asin(1/o))*(Math.PI*2)/l)}}},r=["Quad","Cubic","Quart","Quint","Expo"];return r.forEach(function(n,i){t[n]=function(){return function(o){return Math.pow(o,i+2)}}}),Object.keys(t).forEach(function(n){var i=t[n];e["easeIn"+n]=i,e["easeOut"+n]=function(o,l){return function(c){return 1-i(o,l)(1-c)}},e["easeInOut"+n]=function(o,l){return function(c){return c<.5?i(o,l)(c*2)/2:1-i(o,l)(c*-2+2)/2}}}),e}();function cj(e,t){if(_t.fnc(e))return e;var r=e.split("(")[0],n=oK[r],i=nK(e);switch(r){case"spring":return iK(e,t);case"cubicBezier":return oA(tRe,i);case"steps":return oA(eRe,i);default:return oA(n,i)}}function aK(e){try{var t=document.querySelectorAll(e);return t}catch{return}}function $S(e,t){for(var r=e.length,n=arguments.length>=2?arguments[1]:void 0,i=[],o=0;o<r;o++)if(o in e){var l=e[o];t.call(n,l,o,e)&&i.push(l)}return i}function XS(e){return e.reduce(function(t,r){return t.concat(_t.arr(r)?XS(r):r)},[])}function nB(e){return _t.arr(e)?e:(_t.str(e)&&(e=aK(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function uj(e,t){return e.some(function(r){return r===t})}function dj(e){var t={};for(var r in e)t[r]=e[r];return t}function n4(e,t){var r=dj(e);for(var n in e)r[n]=t.hasOwnProperty(n)?t[n]:e[n];return r}function KS(e,t){var r=dj(e);for(var n in t)r[n]=_t.und(e[n])?t[n]:e[n];return r}function rRe(e){var t=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(e);return t?"rgba("+t[1]+",1)":e}function nRe(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=e.replace(t,function(c,a,s,u){return a+a+s+s+u+u}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r),i=parseInt(n[1],16),o=parseInt(n[2],16),l=parseInt(n[3],16);return"rgba("+i+","+o+","+l+",1)"}function iRe(e){var t=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e),r=parseInt(t[1],10)/360,n=parseInt(t[2],10)/100,i=parseInt(t[3],10)/100,o=t[4]||1;function l(h,p,m){return m<0&&(m+=1),m>1&&(m-=1),m<1/6?h+(p-h)*6*m:m<1/2?p:m<2/3?h+(p-h)*(2/3-m)*6:h}var c,a,s;if(n==0)c=a=s=i;else{var u=i<.5?i*(1+n):i+n-i*n,d=2*i-u;c=l(d,u,r+1/3),a=l(d,u,r),s=l(d,u,r-1/3)}return"rgba("+c*255+","+a*255+","+s*255+","+o+")"}function oRe(e){if(_t.rgb(e))return rRe(e);if(_t.hex(e))return nRe(e);if(_t.hsl(e))return iRe(e)}function Mc(e){var t=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e);if(t)return t[1]}function aRe(e){if(Cv(e,"translate")||e==="perspective")return"px";if(Cv(e,"rotate")||Cv(e,"skew"))return"deg"}function i4(e,t){return _t.fnc(e)?e(t.target,t.id,t.total):e}function gl(e,t){return e.getAttribute(t)}function hj(e,t,r){var n=Mc(t);if(uj([r,"deg","rad","turn"],n))return t;var i=V_.CSS[t+r];if(!_t.und(i))return i;var o=100,l=document.createElement(e.tagName),c=e.parentNode&&e.parentNode!==document?e.parentNode:document.body;c.appendChild(l),l.style.position="absolute",l.style.width=o+r;var a=o/l.offsetWidth;c.removeChild(l);var s=a*parseFloat(t);return V_.CSS[t+r]=s,s}function sK(e,t,r){if(t in e.style){var n=t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),i=e.style[t]||getComputedStyle(e).getPropertyValue(n)||"0";return r?hj(e,i,r):i}}function pj(e,t){if(_t.dom(e)&&!_t.inp(e)&&(gl(e,t)||_t.svg(e)&&e[t]))return"attribute";if(_t.dom(e)&&uj(JOe,t))return"transform";if(_t.dom(e)&&t!=="transform"&&sK(e,t))return"css";if(e[t]!=null)return"object"}function lK(e){if(_t.dom(e)){for(var t=e.style.transform||"",r=/(\w+)\(([^)]*)\)/g,n=new Map,i;i=r.exec(t);)n.set(i[1],i[2]);return n}}function sRe(e,t,r,n){var i=Cv(t,"scale")?1:0+aRe(t),o=lK(e).get(t)||i;return r&&(r.transforms.list.set(t,o),r.transforms.last=t),n?hj(e,o,n):o}function fj(e,t,r,n){switch(pj(e,t)){case"transform":return sRe(e,t,n,r);case"css":return sK(e,t,r);case"attribute":return gl(e,t);default:return e[t]||0}}function mj(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var n=Mc(e)||0,i=parseFloat(t),o=parseFloat(e.replace(r[0],""));switch(r[0][0]){case"+":return i+o+n;case"-":return i-o+n;case"*":return i*o+n}}function cK(e,t){if(_t.col(e))return oRe(e);if(/\s/g.test(e))return e;var r=Mc(e),n=r?e.substr(0,e.length-r.length):e;return t?n+t:n}function gj(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function lRe(e){return Math.PI*2*gl(e,"r")}function cRe(e){return gl(e,"width")*2+gl(e,"height")*2}function uRe(e){return gj({x:gl(e,"x1"),y:gl(e,"y1")},{x:gl(e,"x2"),y:gl(e,"y2")})}function uK(e){for(var t=e.points,r=0,n,i=0;i<t.numberOfItems;i++){var o=t.getItem(i);i>0&&(r+=gj(n,o)),n=o}return r}function dRe(e){var t=e.points;return uK(e)+gj(t.getItem(t.numberOfItems-1),t.getItem(0))}function dK(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return lRe(e);case"rect":return cRe(e);case"line":return uRe(e);case"polyline":return uK(e);case"polygon":return dRe(e)}}function hRe(e){var t=dK(e);return e.setAttribute("stroke-dasharray",t),t}function pRe(e){for(var t=e.parentNode;_t.svg(t)&&_t.svg(t.parentNode);)t=t.parentNode;return t}function hK(e,t){var r=t||{},n=r.el||pRe(e),i=n.getBoundingClientRect(),o=gl(n,"viewBox"),l=i.width,c=i.height,a=r.viewBox||(o?o.split(" "):[0,0,l,c]);return{el:n,viewBox:a,x:a[0]/1,y:a[1]/1,w:l/a[2],h:c/a[3]}}function fRe(e,t){var r=_t.str(e)?aK(e)[0]:e,n=t||100;return function(i){return{property:i,el:r,svg:hK(r),totalLength:dK(r)*(n/100)}}}function mRe(e,t){function r(c){c===void 0&&(c=0);var a=t+c>=1?t+c:0;return e.el.getPointAtLength(a)}var n=hK(e.el,e.svg),i=r(),o=r(-1),l=r(1);switch(e.property){case"x":return(i.x-n.x)*n.w;case"y":return(i.y-n.y)*n.h;case"angle":return Math.atan2(l.y-o.y,l.x-o.x)*180/Math.PI}}function iB(e,t){var r=/[+-]?\d*\.?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/g,n=cK(_t.pth(e)?e.totalLength:e,t)+"";return{original:n,numbers:n.match(r)?n.match(r).map(Number):[0],strings:_t.str(e)||t?n.split(r):[]}}function pK(e){var t=e?XS(_t.arr(e)?e.map(nB):nB(e)):[];return $S(t,function(r,n,i){return i.indexOf(r)===n})}function fK(e){var t=pK(e);return t.map(function(r,n){return{target:r,id:n,total:t.length,transforms:{list:lK(r)}}})}function gRe(e,t){var r=dj(t);if(/^spring/.test(r.easing)&&(r.duration=iK(r.easing)),_t.arr(e)){var n=e.length,i=n===2&&!_t.obj(e[0]);i?e={value:e}:_t.fnc(t.duration)||(r.duration=t.duration/n)}var o=_t.arr(e)?e:[e];return o.map(function(l,c){var a=_t.obj(l)&&!_t.pth(l)?l:{value:l};return _t.und(a.delay)&&(a.delay=c?0:t.delay),_t.und(a.endDelay)&&(a.endDelay=c===o.length-1?t.endDelay:0),a}).map(function(l){return KS(l,r)})}function vRe(e){for(var t=$S(XS(e.map(function(o){return Object.keys(o)})),function(o){return _t.key(o)}).reduce(function(o,l){return o.indexOf(l)<0&&o.push(l),o},[]),r={},n=function(o){var l=t[o];r[l]=e.map(function(c){var a={};for(var s in c)_t.key(s)?s==l&&(a.value=c[s]):a[s]=c[s];return a})},i=0;i<t.length;i++)n(i);return r}function yRe(e,t){var r=[],n=t.keyframes;n&&(t=KS(vRe(n),t));for(var i in t)_t.key(i)&&r.push({name:i,tweens:gRe(t[i],e)});return r}function bRe(e,t){var r={};for(var n in e){var i=i4(e[n],t);_t.arr(i)&&(i=i.map(function(o){return i4(o,t)}),i.length===1&&(i=i[0])),r[n]=i}return r.duration=parseFloat(r.duration),r.delay=parseFloat(r.delay),r}function xRe(e,t){var r;return e.tweens.map(function(n){var i=bRe(n,t),o=i.value,l=_t.arr(o)?o[1]:o,c=Mc(l),a=fj(t.target,e.name,c,t),s=r?r.to.original:a,u=_t.arr(o)?o[0]:s,d=Mc(u)||Mc(a),h=c||d;return _t.und(l)&&(l=s),i.from=iB(u,h),i.to=iB(mj(l,u),h),i.start=r?r.end:0,i.end=i.start+i.delay+i.duration+i.endDelay,i.easing=cj(i.easing,i.duration),i.isPath=_t.pth(o),i.isColor=_t.col(i.from.original),i.isColor&&(i.round=1),r=i,i})}var mK={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,n,i){if(n.list.set(t,r),t===n.last||i){var o="";n.list.forEach(function(l,c){o+=c+"("+l+") "}),e.style.transform=o}}};function gK(e,t){var r=fK(e);r.forEach(function(n){for(var i in t){var o=i4(t[i],n),l=n.target,c=Mc(o),a=fj(l,i,c,n),s=c||Mc(a),u=mj(cK(o,s),a),d=pj(l,i);mK[d](l,i,u,n.transforms,!0)}})}function wRe(e,t){var r=pj(e.target,t.name);if(r){var n=xRe(t,e),i=n[n.length-1];return{type:r,property:t.name,animatable:e,tweens:n,duration:i.end,delay:n[0].delay,endDelay:i.endDelay}}}function _Re(e,t){return $S(XS(e.map(function(r){return t.map(function(n){return wRe(r,n)})})),function(r){return!_t.und(r)})}function vK(e,t){var r=e.length,n=function(o){return o.timelineOffset?o.timelineOffset:0},i={};return i.duration=r?Math.max.apply(Math,e.map(function(o){let l=o.startOnceDelay??0,c=o.pingPongDelayCorrection??0,a=o.pingPongEndDelayCorrection??0;return n(o)+l+c+a+o.duration*(o.loop??1)})):t.duration,i.delay=r?Math.min.apply(Math,e.map(function(o){let l=o.startOnceDelay??0,c=o.pingPongDelayCorrection??0;return n(o)+l+c+o.delay})):t.delay,i.endDelay=r?i.duration-Math.max.apply(Math,e.map(function(o){let l=o.startOnceDelay??0,c=o.pingPongDelayCorrection??0,a=o.pingPongEndDelayCorrection??0;return n(o)+l+c+o.duration*(o.loop??1)-o.endDelay-a})):t.endDelay,i}var oB=0;function SRe(e){var t=n4(rK,e),r=n4(lj,e),n=yRe(r,e),i=fK(e.targets),o=_Re(i,n),l=vK(o,r),c=oB;return oB++,KS(t,{id:c,children:[],animatables:i,animations:o,duration:l.duration,delay:l.delay,endDelay:l.endDelay,startOnceDelay:r.startOnceDelay,pingPongDelayCorrection:r.pingPongDelayCorrection,pingPongEndDelayCorrection:r.pingPongEndDelayCorrection})}var Wa=[],aB=[],Qx,ERe=function(){function e(){Qx=requestAnimationFrame(t)}function t(r){var n=Wa.length;if(n){for(var i=0;i<n;){var o=Wa[i];o.paused?(Wa.splice(i,1),n-=1):(o.tick(r),i++)}e()}else Qx=cancelAnimationFrame(Qx)}return e}();function CRe(e){document.hidden?(Wa.forEach(function(t){return t.pause(e.timeStamp)}),aB=Wa.slice(0),En.running=Wa=[]):aB.forEach(function(t){return t.play(e.timeStamp)})}typeof document<"u"&&document.addEventListener("visibilitychange",CRe);function En(e){e===void 0&&(e={});var t=0,r=0,n=0,i,o,l=0,c=null;function a(_){var S=window.Promise&&new Promise(function(E){return c=E});return _.finished=S,S}var s=SRe(e);a(s);function u(){var _=s.direction;_!=="alternate"&&(s.direction=_!=="normal"?"normal":"reverse"),s.reversed=!s.reversed,o.forEach(function(S){(S.loop===1||S.loop%2===0)&&(S.reversed=s.reversed)})}function d(){s.direction="normal",s.reversed=!1,o.forEach(function(_){return _.reversed=!1})}function h(_){return s.reversed?s.duration-_:_}function p(){t=0,r=h(s.currentTime)*(1/En.speed)}function m(_,S,E=!1){S&&(s.reversed?S.seek(S.duration*S.loop-(_-S.timelineOffset-S.pingPongDelayCorrection),E):S.seek(_-S.timelineOffset-S.startOnceDelay-S.pingPongDelayCorrection,E))}function f(_,S=!1){if(s.reversed)for(var E=l;E--;)m(_,o[E],S);else for(var A=0;A<l;A++)m(_,o[A],S)}function g(_){var Z,J,ee,q,Y,Q,ie,le,de,De;var S=0,E=s.animations,A=E.length;for(s.direction!=="alternate"&&((Z=s.parent)==null?void 0:Z.direction)==="alternate"?((J=s.parent)==null?void 0:J.rewind)===!1&&s.reversePlayback===!0&&s.rewind===!1&&((ee=s.parent)!=null&&ee.reversed&&s.direction==="alternate"?_=s.duration-s.delay+s.endDelay-_:_=s.duration+s.delay-s.endDelay-_):b(!1,(q=s.parent)==null?void 0:q.rewind,s.rewind,(Y=s.parent)==null?void 0:Y.reversePlayback,s.reversePlayback)&&((Q=s.parent)!=null&&Q.reversed&&s.direction==="alternate"?_=s.duration-s.delay+s.endDelay-_:_=s.duration+s.delay-s.endDelay-_);S<A;){var C=E[S],M=C.animatable,T=C.tweens,k=T.length-1,P=T[k];k&&(P=$S(T,function(Ee){return _<Ee.end})[0]||P);let Me;(ie=s.parent)!=null&&ie.reversed&&s.direction==="alternate"?Me=Es(_-P.start-P.endDelay,0,P.duration)/P.duration:Me=Es(_-P.start-P.delay,0,P.duration)/P.duration;for(var D=isNaN(Me)?1:P.easing(Me),I=P.to.strings,O=P.round,j=[],N=P.to.numbers.length,R=void 0,F=0;F<N;F++){var U=void 0;let Ee,Te;s.direction!=="alternate"?((le=s.parent)==null?void 0:le.rewind)===!1&&s.reversePlayback===!0&&s.rewind===!1?(Ee=P.to.numbers[F],Te=P.from.numbers[F]||0):(Te=P.to.numbers[F],Ee=P.from.numbers[F]||0):b(!0,(de=s.parent)==null?void 0:de.rewind,s.rewind,(De=s.parent)==null?void 0:De.reversePlayback,s.reversePlayback)?(Ee=P.to.numbers[F],Te=P.from.numbers[F]||0):(Te=P.to.numbers[F],Ee=P.from.numbers[F]||0),P.isPath?U=mRe(P.value,D*Te):U=Ee+D*(Te-Ee),O&&(P.isColor&&F>2||(U=Math.round(U*O)/O)),j.push(U)}var B=I.length;if(!B)R=j[0];else{R=I[0];for(var H=0;H<B;H++){I[H];var X=I[H+1],G=j[H];isNaN(G)||(X?R+=G+X:R+=G+" ")}}mK[C.type](M.target,C.property,R,M.transforms),C.currentValue=R,S++}}function v(_){s[_]&&!s.passThrough&&s[_](s)}function x(){s.remaining&&s.remaining!==!0&&s.remaining--}let y={0:!1,1:!0,2:!1,3:!0,4:!1,5:!1,6:!1,7:!1,8:!1,9:!0,10:!0,11:!1,12:!1,13:!1,14:!0,15:!0,16:!1,17:!0,18:!0,19:!1,20:!1,21:!1,22:!0,23:!0,24:!1,25:!0,26:!1,27:!0,28:!1,29:!1,30:!1,31:!1};function b(_,S,E,A,C){return y[_<<4|S<<3|E<<2|A<<1|C]}function w(_,S=!1){var T;var E=s.duration;let A=s.delay,C=E-s.endDelay;(T=s.parent)!=null&&T.reversed&&s.direction==="alternate"&&(A=s.endDelay,C=E-s.delay);var M=h(_);if(s.progress=Es(M/E*100,0,100),S||(s.reversePlayback=M<s.currentTime),l&&f(M,S),!s.began&&s.currentTime>=0&&(s.began=!0,v("begin")),!s.loopBegan&&s.currentTime>0&&(s.loopBegan=!0,v("loopBegin")),(s.reversed||M>=0)&&M<=A&&s.currentTime!==0&&(g(0),v("change")),(M>=C&&s.currentTime!==E+s.pingPongDelayCorrection||!E)&&(g(E),v("change")),M>A&&M<C?(s.changeBegan||(s.changeBegan=!0,s.changeCompleted=!1,v("changeBegin")),g(M),v("change")):s.changeBegan?(s.changeCompleted=!0,s.changeBegan=!1,v("change"),l&&v("timelineChangeComplete")):s.began&&M>C&&v("changeComplete"),s.currentTime=Es(M,0,E+s.pingPongDelayCorrection),s.began&&v("update"),_>=E)if(x(),!s.remaining)s.paused=!0,s.completed||(s.completed=!0,v("loopComplete"),v("complete"),!s.passThrough&&"Promise"in window&&(c(),a(s)));else{l?t+=s.duration/En.speed:t+=s.duration;for(let k of o)k.setStartTime(0),k.remaining=k.loop;v("loopComplete"),s.loopBegan=!1,s.direction==="alternate"?u():l&&d()}}return s.reset=function(){var _=s.direction;s.passThrough=!1,s.currentTime=0,s.progress=0,s.paused=!0,s.began=!1,s.loopBegan=!1,s.changeBegan=!1,s.completed=!1,s.changeCompleted=!1,s.reversePlayback=!1,s.reversed=_==="reverse",s.remaining=s.loop,o=s.children,l=o.length;for(var S=l;S--;)s.children[S].reset();g(s.reversed?s.duration:0)},s.setStartTime=function(_){t=_},s.set=function(_,S){return gK(_,S),s},s.tick=function(_){n=_,t||(t=n),w((n+(r-t))*En.speed)},s.seek=function(_,S=!1){w(_-t,S)},s.pause=function(_){s.paused=!0,l&&(i=_??performance.now())},s.play=function(_){!s.paused||(s.completed&&s.reset(),s.paused=!1,Wa.push(s),l&&i!==void 0&&(t+=(_??performance.now())-i),Qx||ERe())},s.reverse=function(){u(),s.completed=!s.reversed,p()},s.restart=function(){s.reset(),s.play()},s.reset(),s.autoplay&&s.play(),s}function sB(e,t){for(var r=t.length;r--;)uj(e,t[r].animatable.target)&&t.splice(r,1)}function ARe(e){for(var t=pK(e),r=Wa.length;r--;){var n=Wa[r],i=n.animations,o=n.children;sB(t,i);for(var l=o.length;l--;){var c=o[l],a=c.animations;sB(t,a),!a.length&&!c.children.length&&o.splice(l,1)}!i.length&&!o.length&&n.pause()}}function MRe(e,t){t===void 0&&(t={});var r=t.direction||"normal",n=t.easing?cj(t.easing):null,i=t.grid,o=t.axis,l=t.from||0,c=l==="first",a=l==="center",s=l==="last",u=_t.arr(e),d=parseFloat(u?e[0]:e),h=u?parseFloat(e[1]):0,p=Mc(u?e[1]:e)||0,m=t.start||0+(u?d:0),f=[],g=0;return function(v,x,y){if(c&&(l=0),a&&(l=(y-1)/2),s&&(l=y-1),!f.length){for(var b=0;b<y;b++){if(!i)f.push(Math.abs(l-b));else{var w=a?(i[0]-1)/2:l%i[0],_=a?(i[1]-1)/2:Math.floor(l/i[0]),S=b%i[0],E=Math.floor(b/i[0]),A=w-S,C=_-E,M=Math.sqrt(A*A+C*C);o==="x"&&(M=-A),o==="y"&&(M=-C),f.push(M)}g=Math.max.apply(Math,f)}n&&(f=f.map(function(k){return n(k/g)*g})),r==="reverse"&&(f=f.map(function(k){return o?k<0?k*-1:-k:Math.abs(g-k)}))}var T=u?(h-d)/g:d;return m+T*(Math.round(f[x]*100)/100)+p}}function TRe(e){e===void 0&&(e={});var t=En(e);return t.duration=0,t.add=function(r,n){var i=Wa.indexOf(t),o=t.children;i>-1&&Wa.splice(i,1);function l(h){h.passThrough=!0}for(var c=0;c<o.length;c++)l(o[c]);var a=KS(r,n4(lj,e));a.targets=a.targets||e.targets;var s=t.duration;a.autoplay=!1,a.timelineOffset=_t.und(n)?s:mj(n,s),l(t);var u=En(a);l(u),o.push(u),u.parent=t;var d=vK(o,e);return t.delay=d.delay,t.endDelay=d.endDelay,t.duration=d.duration,u.loop===!0&&(t.duration=1/0),t.seek(0),t.reset(),t.autoplay&&t.play(),t},t}En.version="3.2.0";En.speed=1;En.running=Wa;En.remove=ARe;En.get=fj;En.set=gK;En.convertPx=hj;En.path=fRe;En.setDashoffset=hRe;En.stagger=MRe;En.timeline=TRe;En.easing=cj;En.penner=oK;En.random=function(e,t){return Math.floor(Math.random()*(t-e+1))+e};var yK=En,lB=new L,cB=new L,uB=new Ct;function PRe(e,t,r,n){if(n===0)return r.copy(e);if(n===1)return r.copy(t);let i=e.w*t.w+e.x*t.x+e.y*t.y+e.z*t.z;if(i>=1)return r.copy(e);let o=1-i*i;if(o<=Number.EPSILON){let u=1-n;return r.w=u*e.w+n*t.w,r.x=u*e.x+n*t.x,r.y=u*e.y+n*t.y,r.z=u*e.z+n*t.z,r.normalize(),r}let l=Math.sqrt(o),c=Math.atan2(l,i),a=Math.sin((1-n)*c)/l,s=Math.sin(n*c)/l;return r.w=e.w*a+t.w*s,r.x=e.x*a+t.x*s,r.y=e.y*a+t.y*s,r.z=e.z*a+t.z*s,r}function Xh(e,t,r,n,i,o){let l=r[e]?r[e]:void 0,c=n[e];if(c==null)return;let a=l!=null?typeof l=="string"?Number(i.getVariable(l)??0):l:t[e],s=typeof c=="string"?Number(i.getVariable(c)??0):c;if(a!==s)return{update:u=>{let d=at.lerp(a,s,u);o?t[e]=Math.trunc(d):t[e]=d},start:()=>{t[e]=a},end:()=>{t[e]=s}}}function bK(e,t,r,n,i,o){let l=r[e]?r[e]:void 0,c=n[e];if(!c)return;let a=t[e],s=[...l??a].map(d=>typeof d=="string"?Number(i.getVariable(d)??0):d),u=[...c].map(d=>typeof d=="string"?Number(i.getVariable(d)??0):d);if(!(s.length!==u.length||jY(s,u)))return{update:d=>{s.forEach((h,p)=>{let m=at.lerp(h,u[p],d);t[e][p]=o?Math.trunc(m):m})},start:()=>{Object.assign(t[e],s)},end:()=>{Object.assign(t[e],u)}}}function H_(e,t,r){return t.forEach((n,i)=>{e.setComponent(i,typeof n=="string"?Number(r.getVariable(n)??0):n)}),e}function dB(e,t,r,n,i){let o=r[e]?r[e]:void 0,l=n[e];if(!l)return;let c=t[e],a=o?H_(new L,o,i):c.clone(),s=H_(new L,l,i);if(!a.equals(s))return{update:u=>{c.lerpVectors(a,s,u)},start:()=>{c.copy(a)},end:()=>{c.copy(s)}}}function kRe(e,t,r,n){let i=r[e]?r[e]:void 0,o=n[e];if(!o)return;let l=t[e],c=i?new Re().fromArray(i):l.clone(),a=new L,s=new Ct,u=new L;c.decompose(a,s,u);let d=new Re().fromArray(o),h=new L,p=new Ct,m=new L;if(d.decompose(h,p,m),!c.equals(d))return{update:f=>{uB.slerpQuaternions(s,p,f),lB.lerpVectors(a,h,f),cB.lerpVectors(u,m,f),l.compose(lB,uB,cB)},start:()=>{l.compose(a,s,u)},end:()=>{l.compose(h,p,m)}}}function DRe(e,t,r,n,i){let o=r[e]?r[e]:void 0,l=n[e];if(!l)return;let c=t[e],a=o?typeof o=="string"?i.getColor(o).clone():new ht().setRGB(o.r,o.g,o.b):c.clone(),s=typeof l=="string"?i.getColor(l).clone():new ht().setRGB(l.r,l.g,l.b);if(a.equals(s))return;let u=c.clone();return t[e]=u,{update:d=>{u.lerpColors(a,s,d)},start:()=>{u.copy(a)},end:()=>{u.copy(s)}}}function bd(e,t,r,n,i){if(typeof t[e]=="number")return Xh(e,t,r??{},n,i);if(Array.isArray(t[e]))return bK(e,t,r??{},n,i)}function jRe(e,t,r,n){var c,a,s,u;let i=[],o=e.cameraType==="OrthographicCamera"?(c=t.orthographic)==null?void 0:c.zoom:(a=t.perspective)==null?void 0:a.zoom,l=e.cameraType==="OrthographicCamera"?(s=r.orthographic)==null?void 0:s.zoom:(u=r.perspective)==null?void 0:u.zoom;if(l!==void 0){let d=o??e.zoom,h=l;d!==h&&i.push({update:p=>{e.zoom=at.lerp(d,h,p),e.updateProjectionMatrix()},start:()=>{e.zoom=d,e.updateProjectionMatrix()},end:()=>{e.zoom=h,e.updateProjectionMatrix()}})}if(r.targetOffset!==void 0){let d=Xh("targetOffset",e,t,r,n);d&&i.push(d)}return i}function IRe(e,t,r,n){if(r.scaleBaked===void 0)return;let i=(t.scaleBaked??e.data.geometry.scaleBaked).map(c=>typeof c=="string"?Number(n.getVariable(c)??0):c),o=r.scaleBaked.map(c=>typeof c=="string"?Number(n.getVariable(c)??0):c);if(Eh.isEqual(i,o))return;let l=[];return l.push({update:c=>{e.updateGeometryInteractions({scaleBaked:[at.lerp(i[0],o[0],c),at.lerp(i[1],o[1],c),at.lerp(i[2],o[2],c)]},n),e.invalidateDownstreamBooleanData()},start:()=>{e.updateGeometryInteractions({scaleBaked:i},n),e.invalidateDownstreamBooleanData()},end:()=>{e.updateGeometryInteractions({scaleBaked:o},n),e.invalidateDownstreamBooleanData()}}),l}function ORe(e,t,r,n){if(!r.extrusion)return;let i=e.extrusion,o=t.extrusion??{},l=r.extrusion,c=[];return f$.forEach(a=>{let s=bd(a,i,o,l,n);s&&c.push(s)}),c}function RRe(e,t,r,n){let i=[];if(!("geometry"in r))return i;let o=e.geometry.userData.parameters,l="geometry"in t?t.geometry:{},c=r.geometry;if(e instanceof Ay){let a=IRe(e,l,c,n);a&&i.push(...a)}else{let a={};if(Object.assign(a,Cc(o,J8)),J8.forEach(s=>{let u=bd(s,a,l,c,n);u&&i.push(u)}),e instanceof rj){Object.assign(a,{extrusion:{...o.extrusion}});let s=ORe(a,l,c,n);s&&i.push(...s)}i.length&&i.push({update:s=>{e.updateGeometryInteractions(a,n),e.updateGeometryGroupsIfNeeded()},start:s=>{e.updateGeometryInteractions(a,n),e.updateGeometryGroupsIfNeeded()},end:s=>{e.updateGeometryInteractions(a,n),e.updateGeometryGroupsIfNeeded()}})}return i}function zRe(e,t,r,n){let i=[];if(r.intensity!==void 0){let o=Xh("intensity",e,t,r,n);o&&i.push(o)}if(r.color!==void 0){let o=DRe("color",e,t,r,n);o&&i.push(o)}return i}function LRe(e,t,r,n){let i=[];if(Array.isArray(e.material)){if(!("materials"in r&&r.materials))return i;let o="materials"in t&&t.materials?t.materials:[],l=r.materials;e.material.forEach((c,a)=>{if(!l[a])return;let s=o[a]??{},u=l[a];typeof s=="string"||typeof u=="string"||i.push(...hB(c,s,u,n))})}else{if(!("material"in r&&r.material))return i;let o="material"in t&&t.material?t.material:{},l=r.material;if(typeof o=="string"||typeof l=="string")return i;i.push(...hB(e.material,o,l,n))}return i}function hB(e,t,r,n){var l;let i=[],o=Uf(r,n)||!!t.layers&&Uf(t,n);i.push(qRe(e,o));for(let c of e.layers){let a=(l=t.layers)==null?void 0:l.data(c.uuid),s=r.layers.data(c.uuid);if(!s||c.type!=="light"&&(!(c.visible??!0)||!(s.visible??!0)))continue;let u=c.getNames().filter(d=>!d$.some(h=>d.includes(h)));for(let d of u)try{let h=c.getValue(d),p;if(d==="colors")p=WRe(c,a,s,d);else if(Array.isArray(h))d==="steps"&&(p=HRe(c,a,s,d));else if(typeof h=="number")p=NRe(c,a,s,d,n);else{if(typeof h=="boolean")continue;h instanceof re?p=BRe(c,a,s,d):h instanceof L?p=FRe(c,a,s,d,n):h instanceof Io?p=VRe(c,a,s,d,n):h instanceof ht?p=URe(c,a,s,d,n):"isTexture"in h&&(p=GRe(c,a,s,d))}p&&(Array.isArray(p)?i.push(...p):i.push(p))}catch(h){console.error(`lerpMaterial: unexpected material layer for ${d}`,h)}}return i}function NRe(e,t,r,n,i){if(!e.hasValue(n)||!(n in r))return;let o=t?t[n]:e.getValue(n),l=r[n],c=typeof o=="string"?Number(i.getVariable(o)??0):o,a=typeof l=="string"?Number(i.getVariable(l)??0):l;if(c!==a)return{update:s=>{e.setValue(n,at.lerp(c,a,s))},start:()=>{e.setValue(n,c)},end:()=>{e.setValue(n,a)}}}function BRe(e,t,r,n){if(!e.hasValue(n)||!(n in r))return;let i=e.getValue(n),o=t?new re().fromArray(t[n]):i.clone(),l=new re().fromArray(r[n]);if(!o.equals(l))return{update:c=>{i.lerpVectors(o,l,c)},start:()=>{i.copy(o)},end:()=>{i.copy(l)}}}function FRe(e,t,r,n,i){if(!e.hasValue(n)||!(n in r))return;let o=e.getValue(n),l=t?t[n]:void 0,c=r[n],a=l?H_(new L,l,i):o.clone(),s=H_(new L,c,i);if(!a.equals(s))return{update:u=>{o.lerpVectors(a,s,u)},start:()=>{o.copy(a)},end:()=>{o.copy(s)}}}function URe(e,t,r,n,i){if(!e.hasValue(n)||!(n in r))return;let o=t?t[n]:void 0,l=r[n],c=e.getValue(n),a=o?typeof o=="string"?i.getColor(o).clone():new ht().setRGB(o.r,o.g,o.b):c.clone(),s=typeof l=="string"?i.getColor(l).clone():new ht().setRGB(l.r,l.g,l.b);if(a.equals(s))return;let u=c.clone();return{update:d=>{e.getValue(n)!==u&&e.setValue(n,u),u.lerpColors(a,s,d)},start:()=>{u.copy(a)},end:()=>{u.copy(s)}}}function VRe(e,t,r,n,i){if(!e.hasValue(n)||!(n in r))return;let o=t?t[n]:void 0,l=r[n],c=e.getValue(n),a=o?typeof o=="string"?i.getColor(o).clone():new ht().setRGB(o.r,o.g,o.b):c.clone(),s=typeof l=="string"?i.getColor(l).clone():new Io(l.r,l.g,l.b,l.a);if(a.equals(s))return;let u=c.clone();return{update:d=>{e.getValue(n)!==u&&e.setValue(n,u),u.lerpColors(a,s,d)},start:()=>{u.copy(a)},end:()=>{u.copy(s)}}}function HRe(e,t,r,n="steps"){if(!e.hasValue(n)||!(n in r))return;let i=[],o=e.getValue(n),l=t?t[n]:o,c=r[n];for(let a=0;a<o.length;++a){let s=l[a],u=c[a];s!==u&&i.push({update:d=>{o[a]=at.lerp(s,u,d)},start:()=>{o[a]=s},end:()=>{o[a]=u}})}return i.length?i:void 0}function WRe(e,t,r,n="colors"){if(!e.hasValue(n)||!(n in r))return;let i=[],o=e.getValue(n),l=t?t[n]:o.map(a=>a.toArray()),c=r[n];for(let a=0;a<o.length;++a){let s=[...l[a]],u=[...c[a]];w_.isEqual(s,u)||i.push({update:d=>{o[a].fromArray(w_.lerp(s,u,d))},start:()=>{o[a].fromArray(s)},end:()=>{o[a].fromArray(u)}})}return i.length?i:void 0}function GRe(e,t,r,n="texture"){if(!e.hasValue(n)||!(n in r))return;let i=e.getNode("mat");if(!i)return;let o=t?t[n]:i,l=r[n],c=[...o.repeat],a=[...o.offset],s=[...l.repeat],u=[...l.offset];if(!Bf.isEqual(c,s)||!Bf.isEqual(a,u))return{update:d=>{i.repeat=Bf.lerp(c,s,d),i.offset=Bf.lerp(a,u,d),i.updateMatrix()},start:()=>{i.repeat=[...c],i.offset=[...a],i.updateMatrix()},end:()=>{i.repeat=[...s],i.offset=[...u],i.updateMatrix()}}}function qRe(e,t){return{update:()=>{e.transparent=t}}}var aA=new L,pB=new oi;function YRe(e,t,r,n,i){var p,m,f,g,v,x;let o=[],l,c,a,s,u,d,h={slide:((p=t.pathSnapping)==null?void 0:p.slide)??((m=e.updatedPathSnapping)==null?void 0:m.slide)??((f=e.dataPatched.pathSnapping)==null?void 0:f.slide)??0,offset:((g=t.pathSnapping)==null?void 0:g.offset)??((v=e.updatedPathSnapping)==null?void 0:v.offset)??((x=e.dataPatched.pathSnapping)==null?void 0:x.offset)??0};if(u=Xh("slide",h,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,r.pathSnapping??e.dataPatched.pathSnapping,i),u&&o.push(u),d=Xh("offset",h,t.pathSnapping??e.updatedPathSnapping??e.dataPatched.pathSnapping,r.pathSnapping??e.dataPatched.pathSnapping,i),d&&o.push(d),!u&&!d&&(l=dB("position",e,t,r,i),l&&o.push(l),c=dB("scale",e,t,r,i),c&&o.push(c),a=$Re(e,t,r,n,i),a&&o.push(a),s=kRe("hiddenMatrix",e,t,r),s&&o.push(s)),l||c||a||s||u||d){let y=()=>{var b;e.updateMatrix(),e.hasNonUniformScale&&(e.updateMatrixWorld(),e.updateMatrixWorldSVD()),(b=e.parent)!=null&&b.matrixWorldFusedFalse&&(e.matrixWorld.multiplyMatrices(e.parent.matrixWorldFusedFalse,e.matrix),e.matrixWorldNeedsUpdate=!1),bs(e)&&yc(e.parent)&&e.invalidateDownstreamBooleanData(!0),e.updatePathSnapping(Object.assign({},t.pathSnapping,h))};o.push({update:y,start:y,end:y})}return o}function $Re(e,t,r,n,i){var u;let o=t!=null&&t.rotation?t.rotation.map(d=>(typeof d=="string"?Number(i.getVariable(d)??0):d)*at.DEG2RAD):void 0,l=(u=r.rotation)==null?void 0:u.map(d=>(typeof d=="string"?Number(i.getVariable(d)??0):d)*at.DEG2RAD);if(!l)return;let c=o?new L().fromArray(o):new L().setFromEuler(e.rotation),a=new L().fromArray(l);if(c.equals(a))return;let s=aA.subVectors(a,c);if(n&&s.toArray().every(d=>Math.abs(d)<2*Math.PI)){let d=new Ct().setFromEuler(pB.setFromVector3(c)),h=new Ct().setFromEuler(pB.setFromVector3(a));return{update:p=>{PRe(d,h,e.quaternion,p)},start:()=>{e.rotation.setFromVector3(c)},end:()=>{e.rotation.setFromVector3(a)}}}else return{update:d=>{aA.lerpVectors(c,a,d),e.rotation.setFromVector3(aA)},start:()=>{e.rotation.setFromVector3(c)},end:()=>{e.rotation.setFromVector3(a)}}}function XRe(e,t,r,n){let i=[];if(!("cloner"in r)||!e.cloner)return i;let o=e.cloner,l="cloner"in t?t.cloner:{},c=r.cloner;o$.forEach(p=>{let m;p==="count"?m=Xh("count",o.parameters,l,c,n,!0):m=bd(p,o.parameters,l??{},c,n),m&&i.push(m)});let a=KRe(o,l,c,n);a!=null&&a.length&&i.push(...a);let s=QRe(o,l,c,n);s!=null&&s.length&&i.push(...s);let u=ZRe(o,l,c,n);u!=null&&u.length&&i.push(...u);let d=JRe(o,l,c,n);d!=null&&d.length&&i.push(...d);let h=eze(o,l,c,n);return h!=null&&h.length&&i.push(...h),i.length&&i.push({update:()=>{o.update()}}),i}function KRe(e,t,r,n){if(e.parameters.type!=="radial")return;let i=t.radial,o=r.radial;if(!o)return;let l=e.parameters.radial,c=[];return a$.forEach(a=>{let s=bd(a,l,i??{},o,n);s&&c.push(s)}),c}function QRe(e,t,r,n){if(e.parameters.type!=="linear")return;let i=t.linear,o=r.linear;if(!o)return;let l=[],c=e.parameters.linear;return s$.forEach(a=>{let s=bd(a,c,i??{},o,n);s&&l.push(s)}),l}function ZRe(e,t,r,n){if(e.parameters.type!=="grid")return;let i=t.grid,o=r.grid;if(!o)return;let l=[],c=e.parameters.grid;return l$.forEach(a=>{let s;a==="count"?s=bK(a,c,i??{},o,n,!0):s=bd(a,c,i??{},o,n),s&&l.push(s)}),l}function JRe(e,t,r,n){if(e.parameters.type!=="toObject")return;let i=t.toObject,o=r.toObject;if(!o)return;let l=[],c=e.parameters.toObject;return c$.forEach(a=>{let s;a==="count"?s=Xh(a,c,i??{},o,n,!0):s=bd(a,c,i??{},o,n),s&&l.push(s)}),l}function eze(e,t,r,n){if(!e.parameters.randomness)return;let i=t.randomnessObject,o=r.randomnessObject;if(!o)return;let l=[],c=e.parameters.randomnessObject;return u$.forEach(a=>{let s=bd(a,c,i??{},o,n);s&&l.push(s)}),l}function fB(e,t,r,n,i){let o=[];return e.data.visible&&o.push(...YRe(e,t,r,i,n)),e.data.visible&&o.push(...XRe(e,t,r,n)),bs(e)?(e instanceof io&&e.data.visible&&o.push(...RRe(e,t,r,n)),e.data.visible&&o.push(...LRe(e,t,r,n))):iIe(e)?e.data.visible&&o.push(...zRe(e,t,r,n)):nIe(e)&&o.push(...jRe(e,t,r,n)),o.length?{update:l=>{o.forEach(c=>c.update(l))},start:l=>{o.forEach(c=>{var a;return(a=c.start)==null?void 0:a.call(c,l)})},end:l=>{o.forEach(c=>{var a;return(a=c.end)==null?void 0:a.call(c,l)})}}:void 0}var mB=new L;function vj(e,t,r=!1){let n=[];e.traverseChildren(i=>{var a,s,u,d,h;if(r&&((a=i.rigidBody)==null||a.setTranslation(i.position0,!0),(s=i.rigidBody)==null||s.setRotation(i.rotation0,!0),(u=i.rigidBody)==null||u.setLinvel(mB,!0),(d=i.rigidBody)==null||d.setAngvel(mB,!0)),!Jt.is(i))return;let o=i.uuid,l=i.data;if(delete i.states,i.uuid===Mg)return;let c=!1;n.some(p=>{var m;return(m=e.scene.find(o))==null?void 0:m.isDescendantOf(p)})?c=!0:((h=l.physics)==null?void 0:h.fusedBody)===!0&&l.physics.rigidBody==="dynamic"&&n.push(o),i.data=l,i.currentState=null,i.reversibleToState=null,i.currentTransitionEvent=null;for(let p of l.states){let m={...p.data};e.data.globalPhysics.usePhysics===!0&&l.physics&&(l.physics.rigidBody==="dynamic"||c)&&(p.data.position!==void 0&&delete m.position,p.data.rotation!==void 0&&delete m.rotation,p.data.hiddenMatrix!==void 0&&delete m.hiddenMatrix),i.states||(i.states={}),i.states[p.id]=sh.patch(l,m)}rze(e.scene,i,null,t,l.events.find(p=>p.data.type==="Follow"||p.data.type==="LookAt")!==void 0),tze(e)})}function tze(e){e.traverseEntity(t=>{for(let r of t.data.events){let n=[];switch(r.data.type){case"Follow":case"MouseHover":case"Scroll":case"MouseDown":case"MouseUp":case"MousePress":case"KeyUp":case"KeyDown":case"KeyPress":case"Collision":n.push(...r.data.actions);break;case"GameControl":for(let i of Object.values(r.data.gameActions))n.push(...i);break;case"DragDrop":n.push(...r.data.dragDropActions.drag,...r.data.dragDropActions.drop);break;case"Conditional":n.push(...r.data.inActions,...r.data.outActions);break}for(let i of n)if(i.data.type==="Create"&&i.data.hideBase==="Yes"){let o=e.scene.find(i.data.object);o&&(o.visible=!1)}}})}function rze(e,t,r,n,i=!1){if(t instanceof io&&t.removeInteractionGeometry(),t.changeSelectedState(r,{scene:e,shared:n},i),t instanceof io&&t.updateGeometryGroupsIfNeeded(),t instanceof Ri&&t.updateCameraState(t.dataPatched,{scene:e,shared:n}),t.cloner)for(let o of t.cloner.children)o.playModeVisible=void 0;t.updateVisible()}function xK(e){let t;if(e.easing===5){let{control1:r,control2:n}=e;t=`cubicBezier(
			${r[0]}, ${r[1]}, ${n[0]}, ${n[1]}
		)`}else if(e.easing===6){let{mass:r,stiffness:n,damping:i,velocity:o}=e;t=`spring( ${r}, ${n}, ${i}, ${o} )`}else{let r;switch(e.easing){case 0:r=gu.linear;break;case 1:r=gu.ease;break;case 2:r=gu.easeIn;break;case 3:r=gu.easeOut;break;case 4:r=gu.easeInOut;break;default:r=gu.linear}let[n,i,o,l]=r;t=`cubicBezier( ${n}, ${i}, ${o}, ${l} )`}return{duration:e.duration,easing:t}}function o4(e){let t={delay:0,loop:e.repeat===-1?!0:e.repeat+1};if(e.repeat===0)t.direction="normal",t.rewind=!1;else switch(e.direction){case"pingpong":t.direction="alternate",t.rewind=!1;break;case"pingpong-rewind":t.direction="alternate",t.rewind=!0;break;default:t.direction="normal",t.rewind=!1;break}switch(t.delay=0,t.endDelay=0,t.startOnceDelay=0,t.pingPongDelayCorrection=0,t.pingPongEndDelayCorrection=0,e.delayDirection){case"start-once":t.startOnceDelay=e.delay;break;case"start":t.delay=e.delay;break;case"end":t.endDelay=e.delay;break;case"start-end":case void 0:t.delay=e.delay,t.endDelay=e.delay;break}return t.direction==="alternate"&&(t.delay/=2,t.endDelay/=2,e.delayDirection==="start"?(t.pingPongDelayCorrection=t.delay,typeof t.loop=="number"&&t.loop%2===0&&(t.pingPongEndDelayCorrection=t.delay)):e.delayDirection==="end"?typeof t.loop=="number"&&t.loop%2!==0&&(t.pingPongEndDelayCorrection=t.endDelay):e.delayDirection==="start-end"&&(t.pingPongDelayCorrection=t.delay,t.pingPongEndDelayCorrection=t.endDelay)),t}var nze={type:"beginState"},ize={type:"completeState",isfromEntity:!1},gB=class{constructor(e,t,r,n,i,o){if(this.object=e,this.data=n,this.sharedAssets=i,this.allowSlerp=o,this.targets={t:0},this.firstLoop=!0,this._changeBegan=!1,this._changeCompleted=!0,this.onChange=()=>{this.callback&&(this.callback.update(this.targets.t),this.object.dispatchEvent({type:"requestRender"})),this.targets.t===0||this.targets.t===1?this._changeCompleted||(this._changeCompleted=!0,this._changeBegan=!1,this.onChangeComplete()):(this._changeCompleted&&(this._changeCompleted=!1),this._changeBegan||(this._changeBegan=!0,this.onChangeBegin()))},this.onChangeBegin=()=>{this.object.reversibleToState=this.to.id;let l=this.targets.t>.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=l,this.object.dispatchEvent({type:"beginState",state:l}),this.object.traverseEntity(c=>{c!==this.object&&c instanceof Ri&&c.dispatchEvent(nze)})},this.onChangeComplete=()=>{this.firstLoop&&(this.onFirstLoop(),this.firstLoop=!1),this.object.reversibleToState=this.to.id;let l=this.targets.t<.5?this.from.id:this.to.id;this.object.prevState!==this.object.currentState&&(this.object.prevState=this.object.currentState),this.object.currentState=l,this.object.dispatchEvent({type:"completeState",state:l}),this.object.traverseEntity(c=>{c!==this.object&&c instanceof Ri&&c.dispatchEvent(ize)})},this.onFirstLoop=()=>{this.useCurrentState&&(this.callback=fB(this.object,this.from.data,this.to.data,this.sharedAssets,this.allowSlerp))},t===void 0){let l=Zx(this.object,this.object.currentState===r?this.object.prevState:this.object.currentState);if(!l)throw new Error("Missing property");this.from=l}else{let l=Zx(this.object,t);if(!l)throw new Error("Missing property");this.from=l}if(r===void 0)throw new Error("Missing property");{let l=Zx(this.object,r);if(!l)throw new Error("Missing property");this.to=l}this.useCurrentState=t===void 0||r===void 0,this.params={targets:this.targets,t:1,autoplay:!1,...o4(n),...xK(n),change:this.onChange},this.callback=fB(this.object,t===void 0?{}:this.from.data,r===void 0?{}:this.to.data,this.sharedAssets,this.allowSlerp)}get changeBegan(){return this._changeBegan}get changeCompleted(){return this._changeCompleted}},wK=class extends wi{constructor(e,t,r,n){if(super(),this.data=e,this.page=t,this.shared=r,this.condition=n,this.toggleIsForward=!1,this.timelineNeedsRebuild=!1,this.useToggle=!1,this.onTimelineChangeComplete=()=>{var o;this.data.tweens[0].data.direction!=="normal"&&(this.toggleIsForward=!this.toggleIsForward),this.timelineNeedsRebuild!==!1&&((o=this.timeline)==null||o.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!1,isRebuild:!0}),this.timeline.play())},!e.object)throw new Error("Missing property");let i=this.page.scene.find(e.object);if(!i)throw new Error("Missing property");if(!i.states)throw new Error("Missing property");if(this.object=i,e.tweens.length<2)throw new Error("Missing property");this.tweens=Array(this.data.tweens.length-1),this.startOnceDelay=e.tweens[0].data.delayDirection==="start-once"?e.tweens[0].data.delay:0,this.init()}get playing(){return this.timeline&&this.timeline.paused===!1}init(){this.initialCurrentState=Zx(this.object,this.object.currentState).id,this.toggleIsForward=!1}get currentState(){return this.useToggle?this.initialCurrentState:this.object.currentState}buildTimeline({isForward:e=!0,needsRebuild:t=!1,isRebuild:r=!1}={}){var n,i,o,l;try{let c=o4(this.data.tweens[0].data);r&&typeof c.loop=="number"&&c.loop--,(n=this.timeline)==null||n.pause(),this.timeline=yK.timeline({autoplay:!1,...c,...c.loop===!0||c.loop>1?{timelineChangeComplete:this.onTimelineChangeComplete}:{}});let a=this.tweens.findIndex(s=>s==null?void 0:s.changeBegan);if(t===!0&&(this.timelineNeedsRebuild=!0),e){let s=a===-1?0:a;for(let u=s;u<this.data.tweens.length-1;u++){let d=this.data.tweens[u],h=this.data.tweens[u+1],p;u===s&&(this.object.wasMovedByUser===!0||((i=this.object.previousAction)==null?void 0:i.playing)===!0)?(p=void 0,this.object instanceof Ri&&(this.object.wasMovedByUser=!1)):p=d.data.state===void 0?this.currentState:d.data.state;let m=new gB(this.object,p,h.data.state===void 0?this.currentState:h.data.state,h.data,this.shared,this.data.allowSlerp??!1);a!==-1&&u===s&&Object.assign(m.params,{startOnceDelay:0}),this.tweens[u]=m,this.timeline.add(m.params,this.timeline.duration+(u===s?c.delay:0))}this.timeline.duration+=c.endDelay}else{let s=a===-1?this.data.tweens.length-1:a+1;for(let u=s;u>0;u--){let d=this.data.tweens[u],h=this.data.tweens[u-1],p;u===s&&(this.object.wasMovedByUser===!0||((o=this.object.previousAction)==null?void 0:o.playing)===!0)?(p=void 0,this.object instanceof Ri&&(this.object.wasMovedByUser=!1)):p=d.data.state===void 0?this.currentState:d.data.state;let m=new gB(this.object,p,h.data.state===void 0?this.currentState:h.data.state,d.data,this.shared,this.data.allowSlerp??!1);a!==-1&&u===s&&Object.assign(m.params,{startOnceDelay:0}),this.tweens[u-1]=m,this.timeline.add(m.params,this.timeline.duration+(u===s?c.endDelay:0))}this.timeline.duration+=c.delay}}catch(c){c instanceof Error&&console.error(c.message)}((l=this.object.previousAction)==null?void 0:l.playing)===!0&&this.object.previousAction.pause(),this.object.previousAction=this}play(){if(Un(this.shared,this.condition)===!1||this.playing)return!1;clearTimeout(this.timeoutId);let e=o4(this.data.tweens[0].data).pingPongDelayCorrection;this.timeoutId=window.setTimeout(()=>{try{this.buildTimeline(),this.timeline.play()}catch(t){t instanceof Error&&console.error(t.message)}},this.startOnceDelay+e)}pause(){var e;(e=this.timeline)==null||e.pause(),clearTimeout(this.timeoutId),this.tweens=Array(this.data.tweens.length-1),delete this.timeoutId}stop(){this.pause();let e=this.data.tweens[0].data.state===void 0?this.initialCurrentState:this.data.tweens[0].data.state;this.object.changeSelectedState(e,{scene:this.page.scene,shared:this.shared}),this.object.currentState=e}seek(e){var t;this.timeline===void 0&&this.buildTimeline(),(t=this.timeline)==null||t.seek(e*this.timeline.duration,!0)}toggle(e){var t;if(Un(this.shared,this.condition)===!1)return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward,this.playing?((t=this.timeline)==null||t.pause(),this.buildTimeline({isForward:this.toggleIsForward,needsRebuild:!0}),this.timeline.play()):this.timeoutId=window.setTimeout(()=>{var r;(r=this.timeline)==null||r.pause(),this.buildTimeline({isForward:this.toggleIsForward}),this.timeline.play()},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause()}};function Zx(e,t){var i;let r,n;if(typeof t=="string"?(r=t,n=(i=e.states)==null?void 0:i[r]):t===null&&(r=null,n=e.data),!(r===void 0||n===void 0))return{id:r,data:n}}var oze={type:"beginState"},vB={type:"completeState",isfromEntity:!1},yB={type:"requestRender"},_K=class extends wi{constructor(e,t,r,n){super(),this.data=e,this.page=t,this.shared=r,this.condition=n,this.toggleIsForward=!1,this.useToggle=!1,this.posStart=new L,this.posEnd=new L,this.qStart=new Ct,this.qEnd=new Ct,this.zoomStart=1,this.zoomEnd=1}init(){}get playing(){return this.animation&&this.animation.began&&!this.animation.completed}buildAnimation(e=!1){if(!this.data.animate)return;let t=this.page.scene.find(this.data.targetCamera);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");let r={t:0};this.posStart.copy(this.page.activeCamera.position),this.qStart.copy(this.page.activeCamera.quaternion),this.zoomStart=this.page.activeCamera.zoom,this.animation=yK({targets:r,t:1,...xK(this.data),update:()=>{r.t===0&&(this.useToggle&&!this.toggleIsForward?(this.posEnd.copy(this.fromCamera.position),this.qEnd.copy(this.fromCamera.quaternion),this.zoomEnd=this.fromCamera.zoom,this.switchCamera(this.fromCamera.uuid)):(this.posEnd.copy(t.position),this.qEnd.copy(t.quaternion),this.zoomEnd=t.zoom,this.fromCamera=this.page.activeCamera,this.switchCamera(t.uuid)),this.page.activeCamera.dispatchEvent(oze));let n=this.page.activeCamera;n.position.lerpVectors(this.posStart,this.posEnd,r.t),n.quaternion.slerpQuaternions(this.qStart,this.qEnd,r.t),n.zoom=this.zoomStart+(this.zoomEnd-this.zoomStart)*r.t,n.wasMovedBySwitchCameraAction=!0,n.updateMatrix(),n.updateMatrixWorld(),n.updateProjectionMatrix(),n.dispatchEvent(yB),r.t===1&&n.dispatchEvent(vB)}})}switchCamera(e){let t=this.page.scene.find(e);if(!t||!t.visible)throw new ReferenceError("Target camera not founded or not visible");this.page.switchActiveCamera(t),this.page.activeCamera.dispatchEvent({type:"cameraChange",camera:t})}play(){if(Un(this.shared,this.condition)===!1)return!1;if(!this.playing&&this.page.activeCamera.uuid!==this.data.targetCamera)try{clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var e;delete this.timeoutId,this.data.animate?(this.buildAnimation(),(e=this.animation)==null||e.play()):this.switchCamera(this.data.targetCamera)},this.data.delay*1e3)}catch{}}pause(){var e;(e=this.animation)==null||e.pause(),clearTimeout(this.timeoutId),delete this.timeoutId}toggle(e){var t,r;if(Un(this.shared,this.condition)===!1)return!1;this.useToggle=!0,clearTimeout(this.timeoutId),this.toggleIsForward=e??!this.toggleIsForward;try{this.playing?((t=this.animation)==null||t.pause(),this.buildAnimation(!0),(r=this.animation)==null||r.play()):this.timeoutId=window.setTimeout(()=>{var n,i;delete this.timeoutId,this.data.animate?((n=this.animation)==null||n.pause(),this.buildAnimation(),(i=this.animation)==null||i.play()):(this.toggleIsForward?(this.fromCamera=this.page.activeCamera,this.switchCamera(this.data.targetCamera)):this.switchCamera(this.fromCamera.uuid),this.page.activeCamera.dispatchEvent(vB),this.page.activeCamera.dispatchEvent(yB))},this.data.delay*1e3)}catch{}}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){this.pause(),this.toggleIsForward=!1}},SK=class extends wi{constructor(e,t,r,n,i){var s,u,d;super(),this.page=t,this.animationControls=r,this.shared=n,this.condition=i,this.startOnceDelay=0,this.toggleIsForward=!1;let o=e.object,l=t.scene.find(e.object);l&&Array.isArray(l.identity)&&(o=l.identity[0]),this.data={...e,object:o};let c=this.animationControls.clipIdToAction[e.clipId+"/"+o];this.duration=((s=c==null?void 0:c.getClip())==null?void 0:s.duration)??1;let a=((d=(u=c==null?void 0:c.getClip())==null?void 0:u.tracks[0])==null?void 0:d.times.length)??1/0;this.leftFrameTime=this.data.crop[0]/a*this.duration,this.rightFrameTime=this.data.crop[1]/a*this.duration,this.startOnceDelay=e.delay}get playing(){var e;return((e=this.threeAnimAction)==null?void 0:e.isRunning())??!1}play(e=!1){if(Un(this.shared,this.condition)===!1)return!1;window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{var r;if(this.threeAnimAction=this.animationControls.play(this.data),!this.threeAnimAction)return;this.threeAnimAction.reset(),this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime;let t=this.data.object;Object.entries(this.animationControls.clipIdToAction).forEach(([n,i])=>{let o=n.split("/")[1];this.threeAnimAction!==i&&o===t&&i.isRunning()&&(e?i.fadeOut(.2):i.stop())}),e&&((r=this.threeAnimAction)==null||r.fadeIn(.2))},this.startOnceDelay)}pause(){this.threeAnimAction&&(this.threeAnimAction.paused=!0),window.clearTimeout(this.timeoutId),delete this.timeoutId}stop(){var e;(e=this.threeAnimAction)==null||e.fadeOut(.2)}seek(e){this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction&&(this.threeAnimAction.paused=!0,this.threeAnimAction.time=at.clamp(this.threeAnimAction.time+1/60*e,this.leftFrameTime,this.rightFrameTime-16e-5),this.animationControls.needsUpdate=!0,this.animationControls.requestRender())}toggle(e,t=!1){if(Un(this.shared,this.condition)===!1)return!1;this.toggleIsForward=e??!this.toggleIsForward,this.threeAnimAction&&(this.threeAnimAction._loopCount=0),this.playing?this.threeAnimAction&&(this.threeAnimAction.timeScale=this.toggleIsForward?1:-1,this.toggleIsForward?(this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime)):this.timeoutId=window.setTimeout(()=>{var r;if(this.threeAnimAction=this.animationControls.play(this.data),this.threeAnimAction){this.toggleIsForward?(this.threeAnimAction.time=this.leftFrameTime,this.threeAnimAction._clip.start=this.leftFrameTime,this.threeAnimAction._clip.duration=this.rightFrameTime):(this.threeAnimAction.time=this.rightFrameTime,this.threeAnimAction._clip.start=this.rightFrameTime,this.threeAnimAction._clip.duration=this.leftFrameTime),this.threeAnimAction.paused=!1,this.threeAnimAction.timeScale=this.toggleIsForward?1:-1;let n=this.data.clipId.split("/")[1];Object.entries(this.animationControls.clipIdToAction).forEach(([i,o])=>{let l=i.split("/")[1];this.threeAnimAction!==o&&l===n&&o.isRunning()&&(t?o.fadeOut(.2):o.stop())}),t&&((r=this.threeAnimAction)==null||r.fadeIn(.2))}},this.startOnceDelay)}playFromCurrent(){this.toggle(!0)}reverseFromCurrent(){this.toggle(!1)}dispose(){var t;let e=(t=this.animationControls.clipIdToAction[this.data.clipId+"/"+this.data.object])==null?void 0:t.getClip();e&&(e.duration=this.duration),this.pause()}},EK=class{constructor(e,t,r,n,i){this.data=e,this.page=t,this.eventManager=r,this.shared=n,this.condition=i,this.timeOutId=-1,this.scene=t.scene}dispatch(){if(Un(this.shared,this.condition)===!1)return!1;this.data.target!==this.page.uuid&&(window.clearTimeout(this.timeOutId),this.timeOutId=window.setTimeout(()=>{this.play()},this.data.delay*1e3))}dispose(){window.clearTimeout(this.timeOutId)}play(){if(this.scene.children.every(t=>t.uuid!==this.data.target))return;this.data.transition==="fade"&&this.data.duration>0&&this.eventManager.eventContext.renderer.renderFromSceneForSceneTransitionPass(this.scene,this.scene.activeCamera,this.data.duration*1e3),this.eventManager.deactivate(),this.eventManager.controlsManager.deactivate();let e=this.scene.activeCamera;this.scene.updatePage(this.data.target),this.scene.activePage.switchToPlayCamera(),this.scene.activeCamera.copyViewPlaneSize(e),vj(this.scene.activePage,this.shared),this.eventManager.activate(),this.eventManager.controlsManager.activate(this.eventManager)}},CK=class{constructor(e,t,r,n){this.data=e,this.page=t,this.shared=r,this.condition=n,this.evaluatedCondition=!1}checkConditions(){this.evaluatedCondition=Un(this.shared,this.condition)}dispatch(){if(this.evaluatedCondition===!1)return!1;let e=this.shared.getVariable(this.data.variableId),t=H$(this.data.expression,this.shared,ra.typeOfVariable(e));t!==void 0&&this.shared.updateVariable(this.data.variableId,typeof t=="string"?{textValue:t}:t)}dispose(){}},AK=class{constructor(e,t,r,n){this.data=e,this.page=t,this.shared=r,this.condition=n,this.timeoutId=null}dispatchInner(){if(Un(this.shared,this.condition)===!1)return!1;let e=this.shared.getDynamicVariablePlayState(this.data.variableId);if(this.data.mode==="PlayPause")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,e==="Playing"?"Paused":"Playing");else if(this.data.mode==="Play"&&e!=="Playing")this.shared.getDynamicVariableToggleIsForward(this.data.variableId)===void 0&&this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!0),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing");else if(this.data.mode==="Stop"&&e!=="Stopped")this.shared.setDynamicVariablePlayState(this.data.variableId,"Stopped");else if(this.data.mode==="Pause"&&e!=="Paused")this.shared.setDynamicVariablePlayState(this.data.variableId,"Paused");else if(this.data.mode==="Restart")this.shared.setDynamicVariablePlayState(this.data.variableId,"Restarted");else if(this.data.mode==="Toggle"){let t=this.shared.getDynamicVariableToggleIsForward(this.data.variableId);e==="Playing"?this.shared.setDynamicVariableToggleIsForward(this.data.variableId,t===void 0?!1:!t):(this.shared.setDynamicVariableToggleIsForward(this.data.variableId,!t),this.shared.setDynamicVariablePlayState(this.data.variableId,"Playing"))}}dispatch(){let e=this.data.delay,t=this.shared.getDynamicVariablePlayState(this.data.variableId);this.data.mode==="PlayPause"&&t==="Playing"&&(e=this.data.pauseDelay),e!==0?(this.timeoutId&&window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.timeoutId=null,this.dispatchInner()},e)):this.dispatchInner()}dispose(){this.timeoutId&&window.clearTimeout(this.timeoutId)}};function Un(e,t){if(t===void 0)return!0;if(t.expression.length===0)return!1;let r=H$(t.expression,e,"boolean");return t.negate?!r:!!r}function lo(e,t,r,n,i,o){let l={Audio:[],Video:[],Link:[],Destroy:[],Create:[],Reset:[],Transition:[],SwitchCamera:[],Animation:[],SceneTransition:[],SetVariable:[],DynamicVariablePlay:[]},c=a=>({id:s,data:u})=>{try{u.type==="Audio"?Go[e.type].includes("Audio")&&l.Audio.push(new JX(s,u,o,n,a)):u.type==="Video"?Go[e.type].includes("Video")&&l.Video.push(new TK(s,u,o,n,a)):u.type==="Link"?Go[e.type].includes("Link")&&l.Link.push(new ZOe(u,i.controlsManager,n,a)):u.type==="Create"?Go[e.type].includes("Create")&&l.Create.push(new PK(u,r,i.controlsManager,n,a)):u.type==="Destroy"?Go[e.type].includes("Destroy")&&l.Destroy.push(new eK(u,r,i.controlsManager,n,a)):u.type==="Reset"?Go[e.type].includes("Reset")&&l.Reset.push(new tK(u,r,n,i,a)):u.type==="Transition"?Go[e.type].includes("Transition")&&l.Transition.push(new wK(u,r,n,a)):u.type==="SwitchCamera"?Go[e.type].includes("SwitchCamera")&&l.SwitchCamera.push(new _K(u,r,n,a)):u.type==="SceneTransition"?Go[e.type].includes("SceneTransition")&&l.SceneTransition.push(new EK(u,r,i,n,a)):u.type==="Animation"?Go[e.type].includes("Animation")&&l.Animation.push(new SK(u,r,i.animationControls,n,a)):u.type==="SetVariable"?Go[e.type].includes("SetVariable")&&l.SetVariable.push(new CK(u,r,n,a)):u.type==="DynamicVariablePlay"?Go[e.type].includes("DynamicVariablePlay")&&l.DynamicVariablePlay.push(new AK(u,r,n,a)):u.type==="Conditional"&&Go[e.type].includes("Conditional")&&(u.ifActions.forEach(c({expression:u.condition,negate:!1})),u.elseActions.forEach(c({expression:u.condition,negate:!0})))}catch{}};return t.forEach(c()),l}function si(e){Object.values(e).forEach(t=>{t.forEach(r=>{(r instanceof JX||r instanceof TK||r instanceof SK||r instanceof wK||r instanceof PK||r instanceof eK||r instanceof _K||r instanceof EK||r instanceof tK||r instanceof CK||r instanceof AK)&&r.dispose()})})}function aze(e,t){let r;if("material"in e){let n=e.material;Array.isArray(n)?r=e.material[0].layers.find(i=>i.uuid===t):r=e.material.layers.find(i=>i.uuid===t)}if(r)return r.color.texture.image.img instanceof HTMLVideoElement?r.color.texture.image.img:void 0}var MK=new Map,Av=new Map,vm=class{constructor(e,t,r){this.data=t,this.delay=0,this.status="stopped";let{layerId:n,loop:i,volume:o,delay:l}=t;if(this.object=r,n===void 0)throw new Error("Missing property");let c=aze(r,n);c&&(this.videoElement=c,this.videoElement.loop=i===1/0,SD&&(this.videoElement.autoplay=!0),o!==void 0&&(this.videoElement.volume=o)),l!==void 0&&(this.delay=l),Av.has(r.uuid)?Av.get(r.uuid).push(this):Av.set(r.uuid,[this]),MK.set(e,this),this.pause()}mute(){!this.videoElement||(this.videoElement.muted=!0)}unMute(){!this.videoElement||(this.videoElement.muted=!1)}play(e){if(!this.videoElement)return;let t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);e?(this.mute(),this.delay+=150):t?(this.mute(),window.setTimeout(()=>{this.unMute()},100)):this.unMute(),this.delayTimerId=window.setTimeout(()=>{if(!this.videoElement)return;let r=this.videoElement.play();r!==void 0&&r.then(n=>{}).catch(n=>{this.play()}),this.clearDelay()},this.delay),this.status="playing"}clearDelay(){this.delayTimerId&&(clearTimeout(this.delayTimerId),delete this.delayTimerId)}pause(){!this.videoElement||(this.videoElement.pause(),this.status="paused")}stop(){!this.videoElement||(this.videoElement.pause(),this.videoElement.currentTime=0,this.status="stopped",this.clearDelay())}playByToggle(){this.data.toggle==="stop"?this.status==="playing"?this.stop():(this.stop(),this.play()):this.data.toggle==="pause"?this.status==="playing"?this.pause():this.play():(this.stop(),this.play())}dispose(){!this.videoElement||(this.stop(),this.videoElement.muted=!0)}},a4=class{constructor(e){this.data=e}dispatch(){this.data.playVideo?this.pauseVideo(this.data.playVideo):this.data.object?this.pauseAllVideosFromObject(this.data.object):this.pauseAllVideos()}pauseVideo(e){let t=MK.get(e);!t||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t[this.data.interaction](),this.disposeDelay()},this.data.delay)):t[this.data.interaction]())}pauseAllVideosFromObject(e){let t=Av.get(e);!(t!=null&&t.length)||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{t.forEach(r=>r[this.data.interaction]()),this.disposeDelay()},this.data.delay)):t.forEach(r=>r[this.data.interaction]()))}pauseAllVideos(){let e=[...Av.values()];!e.length||(this.data.delay>0?(this.disposeDelay(),this.timeoutId=window.setTimeout(()=>{e.forEach(t=>{t.forEach(r=>{r[this.data.interaction]()})}),this.disposeDelay()},this.data.delay)):e.forEach(t=>{t.forEach(r=>{r[this.data.interaction]()})}))}disposeDelay(){clearTimeout(this.timeoutId),delete this.timeoutId}dispose(){clearTimeout(this.timeoutId),delete this.timeoutId}},TK=class{constructor(e,t,r,n,i){if(this.data=t,this.shared=n,this.condition=i,t.interaction==="play")this.interaction=new vm(e,t,r);else if(t.interaction==="pause"||t.interaction==="stop")this.interaction=new a4(t);else throw new Error("Missing property")}dispatchBasic(){if(Un(this.shared,this.condition)===!1)return!1;this.interaction instanceof vm?this.interaction.playByToggle():this.interaction.dispatch()}dispatchConditional(){if(Un(this.shared,this.condition)===!1)return!1;this.interaction instanceof vm?this.interaction.play():this.interaction.dispatch()}dispose(){this.interaction.dispose()}},bB=(()=>{let e,t,r,n;function i(c){!e&&!xB()&&(t==null?void 0:t.sharedGameControlGlobals.createdObjects.length)>0&&(e=requestAnimationFrame(o)),c&&(t=c,n=c.requestRender)}function o(c){let a=r?c-r:0,s=t.sharedGameControlGlobals.createdObjects,u=t.sharedGameControlGlobals.nCreatedPerAction,d=s.length,h=0;for(;h<d;){let p=s[h];p.userData.createdTime===void 0&&(p.userData.createdTime=c),p.userData.lifetime===void 0&&p.userData.quantity===void 0||p.userData.lifetime&&c-p.userData.createdTime<p.userData.lifetime||p.userData.quantity&&u[p.userData.actionId]<=p.userData.quantity?(p.userData.velocity&&(p.position.addScaledVector(p.userData.velocity,a/1e3),p.updateMatrix(),n()),h++):(u[p.userData.actionId]>p.userData.quantity&&u[p.userData.actionId]--,s.splice(h,1),p.removeFromParent(),t.sharedGameControlGlobals.rapierWorld&&p.rigidBody?(t.sharedGameControlGlobals.colliderToEntity.delete(p.rigidBody.collider(0).handle),t.sharedGameControlGlobals.rapierWorld.removeRigidBody(p.rigidBody)):(p.bvhGeometry=void 0,t.sharedGameControlGlobals.entitiesWithTransformAnim=t.sharedGameControlGlobals.entitiesWithTransformAnim.filter(m=>m.bvhGeometry!==void 0)),d--,n())}e=h>0?requestAnimationFrame(o):void 0,r=h>0?c:void 0}function l(){xB()?e&&(cancelAnimationFrame(e),e=void 0,r=void 0):i()}return typeof document<"u"&&document.addEventListener("visibilitychange",l),i})();function xB(){return!!document&&document.hidden}var wB=new Ct,sze=new L,lze=new L,PK=class{constructor(e,t,r,n,i){this.data=e,this.page=t,this.controlsManager=r,this.shared=n,this.condition=i,this.intervalId=null,this.timeoutIdQueue=[],this.uniqueId=at.generateUUID(),this.dispatch=()=>{if(Un(this.shared,this.condition)===!1)return!1;this.data.delay?this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3)):this.dispatchInner()},this.dispatchFromStart=()=>{if(Un(this.shared,this.condition)===!1)return!1;this.timeoutIdQueue.push(window.setTimeout(this.dispatchInner,this.data.delay*1e3))},this.dispatchThrottled=JTe(this.dispatch,1e3/this.data.creationSpeed),this.dispatchStart=()=>{this.intervalId===null&&(this.intervalId=window.setInterval(this.dispatch,1e3/this.data.creationSpeed))},this.dispatchStop=()=>{this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null)},this.dispatchInner=()=>{this.timeoutIdQueue.shift();let l=new ji(this.object);if(l.playModeVisible=!0,l.expand(),this.data.coordinateSystem!=="world"){let a=this.data.coordinateSystem,s=this.page.scene.find(a);s&&(s.updateMatrixWorldSVD(),l.hiddenMatrix.copy(s.matrixWorldRigid))}l.position.fromArray(this.data.position),l.rotation.fromArray(this.data.rotation),l.updateMatrix(),this.page.add(l);let c=this.controlsManager.sharedGameControlGlobals;c.createdObjects.push(l),c.nCreatedPerAction[this.uniqueId]===void 0?c.nCreatedPerAction[this.uniqueId]=1:c.nCreatedPerAction[this.uniqueId]++,l.updateWorldMatrix(!0,!0),l.traverseObject(this.traverseObjectCB),bB(),this.controlsManager.requestRender()},this.traverseObjectCB=l=>{var u,d,h,p;l.hasNonUniformScale&&l.updateMatrixWorldSVD();let c;if(this.controlsManager.sharedGameControlGlobals.rapierWorld){if(l instanceof Ss)if(l.objectForSample){if(l.objectForSample.dataPatched.physics.fusedBody)return;c=l.object}else return l.object.dataPatched.physics.fusedBody===!0&&l.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(l instanceof ji)c=l.object;else if(c=l,(u=c.dataPatched.cloner)==null?void 0:u.hideBase)return!0}else{if(l instanceof Ss)return;l instanceof ji?c=l.object:c=l}this.data.destroy==="Time"?l.userData.lifetime=this.data.lifetime*1e3:this.data.destroy==="Quantity"&&(l.userData.quantity=this.data.destroyAfterQuantity,l.userData.actionId=this.uniqueId);let a=new L().fromArray(this.data.velocity),s=c.dataPatched;if(!(s.physics.enabled==="visibility"?!s.visible:!s.physics.enabled)&&(this.controlsManager.sharedGameControlGlobals.rapierWorld?(this.controlsManager.addRigidBody(l,c,{fromCreate:!0,dynamic:this.data.dynamic}),this.data.destroy==="Collision"&&((d=l.rigidBody)==null||d.collider(0).setActiveEvents(1),l.userData.hasCollisionDestroy=!0),l.matrixWorld.decompose(sze,wB,lze),a.applyQuaternion(wB),this.data.velocity.some(m=>m!==0)&&this.data.dynamic&&((h=l.rigidBody)==null||h.setLinvel(a.divideScalar(this.controlsManager.pixelsPerMeter),!0))):("geometry"in l.object&&this.controlsManager.addBoundsTree(l),this.data.velocity.some(m=>m!==0)&&this.data.dynamic&&(l.userData.velocity=a)),((p=c.dataPatched.physics)==null?void 0:p.fusedBody)===!0))return!0};let o=this.page.scene.find(this.data.object);if(!o)throw new Error("Missing Property");if(this.object=o,this.data.coordinateSystem!=="world"&&!this.page.scene.find(this.data.coordinateSystem))throw new Error("Missing Property");bB(r)}dispose(){this.intervalId!==null&&(window.clearInterval(this.intervalId),this.intervalId=null),this.timeoutIdQueue.forEach(e=>window.clearTimeout(e)),this.dispatchThrottled.cancel(),this.page.remove(...this.controlsManager.sharedGameControlGlobals.createdObjects),this.controlsManager.sharedGameControlGlobals.createdObjects=[]}},kK=200,sA=.02,lA=.3,cze=65;new L;var _B=new L,SB=new L,uze=new L,Hi=new L,po=new L,ou=new L,cA=new Re,EB=new Re,dze=new Re;new Re;var ls=new Ct,Hl=new Ct,qs=new oi(0,0,0,"YXZ"),hze=new L(1,0,0),cs=new L(0,1,0),pze=new L(0,0,1),CB=new L(1,1,1);new Bo;var fze=1,mze=.025,gze=16e-6,AB=12,vze=20,ri=new Ha,wa=new Cn,yze={type:"requestRender"},bze={type:"updateMatrix"},MB=Math.PI/6,s4=class extends wi{constructor(e,t,r,n,i,o,l,c,a){var m;super(),this.object=e,this.domElement=t,this.data=r,this.gloabalPhysics=n,this.controlsManager=i,this.cameraFollow=o,this.camera=l,this.page=c,this.sharedAssets=a,this.enableDamping=!0,this.hiddenMatrix0=new Re,this.target0=new L,this.zoom0=1,this.rotForce=1,this.moveForce=1,this.pixelsPerMeter=kK,this.euler0=new oi(0,0,0,"YXZ"),this.position0Cam=new L,this.quat0Cam=new Ct,this.scale0Cam=new L,this.hiddenMatrix0Cam=new Re,this.threshEndTranslate=.01,this.threshEndRotate=1e-8,this.threshEndRotVel=.005,this.collider={type:"capsule",radius:40,segment:new Ha(new L(0,-40,0),new L(0,40,0)),matrix:new Re,position:new L,rotation:new Ct},this.euler=new oi(0,0,0,"YXZ"),this.eulerDelta=new L,this.lastPosition=new L,this.lastCameraQuaternion=new Ct,this.lastCameraPosition=new L,this.PI_2=Math.PI/2,this.prevMouse=new re,this.velocityTarget=new L,this.velocity=new L,this.directionXZ=new L,this.rotVelocityStick=new L,this.rotVelocityTarget=new L,this.rotVelocity=new L,this.rotDirection=new L,this.nonColliderRotOffset=new Re,this.nonColliderPosOffset=new Re,this.firstPointerId=-1,this.rot=new L,this.path=[],this.movementState={moveNegZ:0,movePosZ:0,moveNegX:0,movePosX:0,moveNegY:0,movePosY:0,rotPosX:0,rotNegX:0,rotPosY:0,rotNegY:0,jump:0,run:0},this.vrEulerYOffset=0,this.onObject=!1,this.actionState={},this.keyAssignments=[["moveNegZ","W"],["moveNegX","A"],["movePosZ","S"],["movePosX","D"],["rotPosX","ArrowUp"],["rotPosY","ArrowLeft"],["rotNegX","ArrowDown"],["rotNegY","ArrowRight"],["jump"," "]],this.collisionEnabled=!0,this.offsetMatrix=new Re,this.objectToTarget=new L,this.objectToTarget0=new L,this.objectToCamXZ=new L,this.objectToCamXZ0=new L,this.targetToCamera=new L,this.targetToCamera0=new L,this.cameraPolarAxis0=new L,this.targetPos=new L,this.targetQuat=new Ct,this.lerpFactorPos=new L().setScalar(.3),this.lerpFactorPosStart=.3,this.lerpFactorPosEnd=.3,this.lerpFactorRotStart=.3,this.lerpFactorRotEnd=.3,this.lerpFactorPosCamera=.3,this.lerpFactorRotCamera=.3,this.objXZQuat=new Ct,this.objXZQuatInv=new Ct,this.objXZRotMat=new Re,this.isFirstPerson=!1,this.didHit=!1,this.groundVelocity=new L,this.pushedVelocity=new L,this.groundYRotation=0,this.objectRealQuat=new Ct,this.colliderWorldQuat=new Ct,this.groundNormal=new L,this.groundTilt=new Ct,this.groundTiltInv=new Ct,this.lastHitObj=null,this.isFirstFrame=!0,this.rotationAccumWhenOrientWithCamera=0,this.navMeshPathDest=null,this.position=new L,this.quaternion=new Ct,this.scale=new L,this.initialAction=!0,this.onPointerDown=f=>{f.target!==this.domElement||this.firstPointerId!==-1||(this.firstPointerId=f.pointerId,this.domElement.ownerDocument.addEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.addEventListener("pointerup",this.onPointerUp),this.rotBy!=="keys"&&!ta&&(!S8||E8>=15.5)&&this.domElement.requestPointerLock(),this.prevMouse.set(f.clientX,f.clientY))},this.onPointerUp=f=>{this.firstPointerId=-1,this.domElement.ownerDocument.removeEventListener("pointermove",this.onPointerMove),this.domElement.ownerDocument.removeEventListener("pointerup",this.onPointerUp),f.pointerType==="mouse"&&this.domElement.ownerDocument.exitPointerLock()},this.onPointerMove=f=>{if(f.pointerId!==this.firstPointerId)return;let g=f.clientX-this.prevMouse.x,v=f.clientY-this.prevMouse.y;this.prevMouse.set(f.clientX,f.clientY),f.pointerType==="mouse"&&this.rotBy!=="keys"&&(S8&&E8<15.5&&!ta?(this.eulerDelta.y=-g*this.mouseOrbitSensitivity,this.eulerDelta.x=-v*this.mouseOrbitSensitivity):(this.eulerDelta.y=-f.movementX*this.mouseOrbitSensitivity,this.eulerDelta.x=-f.movementY*this.mouseOrbitSensitivity)),f.pointerType!=="mouse"&&this.rotByTouch==="drag"&&(this.eulerDelta.y=-g*this.mouseOrbitSensitivity*5,this.eulerDelta.x=-v*this.mouseOrbitSensitivity*5),this.controlsManager.requestRender()},this.onPointerlockChange=f=>{this.domElement.ownerDocument.pointerLockElement===this.domElement?s4.isLocked=!0:s4.isLocked=!1},this.onPointerlockError=()=>{console.error("SPE.GameControls: Unable to use Pointer Lock API")},this.handleVisibilityChange=()=>{if(document!=null&&document.hidden)for(let f in this.movementState)this.movementState[f]=0},this.onKeyDown=f=>{!(f.target instanceof HTMLInputElement)&&(f.code==="ArrowLeft"||f.code==="ArrowUp"||f.code==="ArrowRight"||f.code==="ArrowDown"||f.code==="Space")&&f.preventDefault();for(let g of this.keyAssignments)if(f.key.toUpperCase()===g[1]||f.key===g[1]){this.movementState[g[0]]=1;break}this.controlsManager.requestRender()},this.onKeyUp=f=>{for(let g of this.keyAssignments)if(f.key.toUpperCase()===g[1]||f.key===g[1]||f.code.slice(3,f.code.length).toUpperCase()===g[1]){this.movementState[g[0]]=0;break}},this.copyVRGamePadValues=(f,g)=>{for(let v=2;v<4;v++){let x=f.axes[v];g===0?v===2?this.movementState.movePosX=x:this.movementState.movePosZ=x:(f.buttons[3].pressed?this.movementState.jump=1:this.movementState.jump=0,v===2?(Math.abs(this.movementState.rotPosY)<.3&&Math.abs(x)>=.3&&(this.vrEulerYOffset+=x<0?1:-1),this.movementState.rotPosY=x):this.moveMode==="fly"&&(this.movementState.moveNegY=x))}},this.sharedGameControlGlobals=i.sharedGameControlGlobals,e===l&&(this.isFirstPerson=!0),this.hiddenMatrix0.copy(this.object.hiddenMatrix),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.euler0.setFromQuaternion(this.quaternion,"YXZ");let s=this.euler0.clone(),u=s.y;if(this.objectRealQuat.copy(this.quaternion),s.y=0,this.quaternion.setFromEuler(s),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),s.set(0,u,0),this.quaternion.setFromEuler(s),this.rot.setFromEuler(s),this.object.matrixAutoUpdate=!1,(this.isFirstPerson||this.cameraFollow===!0)&&(this.target0.copy(this.camera.getTarget()),this.zoom0=this.camera.zoom),this.cameraFollow===!0){this.position0Cam.copy(this.camera.position),this.quat0Cam.copy(this.camera.quaternion),this.scale0Cam.copy(this.camera.scale),this.hiddenMatrix0Cam.copy(this.camera.hiddenMatrix),this.camera.parent?(this.camera.hiddenMatrix.copy((m=this.camera)==null?void 0:m.parent.matrixWorld),this.camera.matrix.copy(this.camera.matrixWorld)):this.camera.hiddenMatrix.identity(),this.camera.matrix.copy(this.camera.matrixWorld),this.camera.matrix.decompose(this.camera.position,this.camera.quaternion,this.camera.scale),this.camera.matrixAutoUpdate=!1,this.offsetMatrix.copy(this.object.matrix).invert().multiply(this.camera.matrix);let f=new L(0,0,-1).applyQuaternion(this.camera.quaternion),g=new L().subVectors(this.position,this.camera.position);this.objectToCamXZ.copy(g),this.objectToCamXZ.y=0,this.objectToCamXZ0.copy(this.objectToCamXZ);let v,x;Math.abs(f.y)<1e-6?(g.y=0,f.y=0,x=g.projectOnVector(f)):g.y/f.y>0?x=f.multiplyScalar(g.y/f.y):x=f.multiplyScalar(g.length()),this.targetToCamera0.copy(x).negate(),v=this.camera.position.clone().add(x),this.objectToTarget0.subVectors(v,this.position);let y=new oi().setFromQuaternion(this.camera.quaternion,"YXZ");this.cameraPolarOffset=-y.x,y.x=0,y.z=0,y.y-=Math.PI/2,this.cameraPolarAxis0.set(0,0,-1).applyEuler(y)}if(this.object instanceof Ri&&(this.object.matrixAutoUpdate=!1),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.rotByTouch=r.rotByTouch??"joystick",this.rotBy=r.rotBy??"keys",this.rotationMode=r.rotationMode??"normal",this.moveMode=r.moveMode??"walk",this.collisionEnabled=r.collisionEnabled,this.speedTranslate=(r.speedTranslate??250)*fze,this.speedOrbit=(r.speedRotate??100)*mze,this.mouseOrbitSensitivity=(r.speedRotate??100)*gze,this.keyAssignments=r.keyAssignments.map(f=>{let g=[f[0],f[1]];return g[1]==="▲"?g[1]="ArrowUp":g[1]==="◀"?g[1]="ArrowLeft":g[1]==="▼"?g[1]="ArrowDown":g[1]==="▶"?g[1]="ArrowRight":g[1]==="⇧"?g[1]="Shift":g[1]==="↵"?g[1]="Enter":g[1]==="Space"?g[1]=" ":g[1]==="⌘"?g[1]="Meta":g[1]==="Ctrl"?g[1]="Control":g[1]==="Esc"&&(g[1]="Escape"),g}),r.rotBy==="mouse"){let f;f=this.keyAssignments.findIndex(g=>g[0]==="rotNegX"),f!==-1&&(this.keyAssignments[f][1]=""),f=this.keyAssignments.findIndex(g=>g[0]==="rotPosX"),f!==-1&&(this.keyAssignments[f][1]=""),f=this.keyAssignments.findIndex(g=>g[0]==="rotPosY"),f!==-1&&(this.keyAssignments[f][1]=""),f=this.keyAssignments.findIndex(g=>g[0]==="rotNegY"),f!==-1&&(this.keyAssignments[f][1]="")}this.lerpFactorPosStart=1-.02**(1/((r.delayPos[0]??.3)*60)),this.lerpFactorPosEnd=1-.02**(1/((r.delayPos[1]??.3)*60)),this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.lerpFactorRotStart=1-.02**(1/((r.delayRot[0]??.3)*60)),this.lerpFactorRotEnd=1-.02**(1/((r.delayRot[1]??.3)*60)),this.lerpFactorPosCamera=1-.02**(1/((r.delayPosCamera??.3)*60)),this.lerpFactorRotCamera=1-.02**(1/((r.delayRotCamera??.3)*60)),this.gravity=(this.gloabalPhysics.gravity??Km.defaultData.gravity)*AB,this.usePhysics=this.gloabalPhysics.usePhysics??Km.defaultData.usePhysics,this.jumpPower=r.jumpPower*vze,this.resetYPosition=this.position.y+Math.abs(r.resetYPosition)*(this.gravity>0?1:-1),this.alignToGround=r.alignToGround??!1,this.orientMode=r.autoOrientMove?r.orientMode:"none",this.orientWith=r.orientWith??D_.defaultDataThirdPerson.orientWith,this.slopeThresh=cze*Math.PI/180,r.collider.type==="capsule"?(this.collider.radius=r.collider.radius,this.collider.segment.start.y=r.collider.height/2-r.collider.radius,this.collider.segment.end.y=-this.collider.segment.start.y,this.offset=r.collider.height*sA/this.pixelsPerMeter,this.stepThresh=r.collider.height*lA/this.pixelsPerMeter,this.colliderHeight=r.collider.height):r.collider.type==="sphere"?(this.collider.radius=r.collider.radius,this.collider.segment.start.y=0,this.collider.segment.end.y=0,this.offset=2*r.collider.radius*sA/this.pixelsPerMeter,this.stepThresh=2*r.collider.radius*lA/this.pixelsPerMeter,this.colliderHeight=r.collider.radius*2):(this.offset=r.collider.height*sA/this.pixelsPerMeter,this.stepThresh=r.collider.height*lA/this.pixelsPerMeter,this.colliderHeight=r.collider.height),this.collider.type=r.collider.type;let d=new L().fromArray(r.collider.position),h=new Ct().setFromEuler(new oi().fromArray([...r.collider.rotation,"XYZ"]));this.collider.position.copy(d).multiply(this.scale),this.collider.rotation.copy(h),this.collider.matrix.compose(d,h,CB),r.cameraXAxis!==void 0&&(this.cameraXAxis=r.cameraXAxis,this.cameraYAxis=r.cameraYAxis,this.minPolarAngle=r.cameraRotXLimits[0],this.maxPolarAngle=r.cameraRotXLimits[1],this.minAzimuthAngleRel=r.cameraRotYLimits[0],this.maxAzimuthAngleRel=r.cameraRotYLimits[1]),this.forwardDir=r.forwardDirection??"-z",this.runMultiplier=r.runMultiplier??2;let p=r.navmesh.destinationHelperRadius*2;if(p>0){let f=new vt;f.push({fi:0,data:{...xo.defaultData("light","phong"),alpha:0},id:"layer1"}),f.push({fi:0,data:{...xo.defaultData("color"),color:r.navmesh.destinationHelperColor,alpha:r.navmesh.destinationHelperColor.a},id:"layer2"});let g=new XD({layers:f},{scene:this.page.scene,shared:this.sharedAssets});this.navMeshPathDest=new ro(S$.create({parameters:{width:p,height:p/10,hollow:.7}}),g),this.navMeshPathDest.material.userData.opacity0=r.navmesh.destinationHelperColor.a}this.activate()}reset(e=!1){if(this.object.hiddenMatrix.copy(this.hiddenMatrix0),e){this.object.updateMatrix(),this.object.updateMatrixWorld(),this.object.matrix.copy(this.object.matrixWorld),this.object.matrix.decompose(this.position,this.quaternion,this.scale),this.object.parent?this.object.hiddenMatrix.copy(this.object.parent.matrixWorld).invert():this.object.hiddenMatrix.identity();let t=new oi().setFromQuaternion(this.quaternion,"YXZ"),r=t.y;this.objectRealQuat.copy(this.quaternion),t.y=0,this.quaternion.setFromEuler(t),this.objXZQuat.copy(this.quaternion),this.objXZQuatInv.copy(this.objXZQuat).invert(),this.objXZRotMat.makeRotationFromQuaternion(this.quaternion),t.set(0,r,0),this.quaternion.setFromEuler(t),this.rot.setFromEuler(t),this.euler.setFromQuaternion(this.quaternion,"YXZ"),this.velocityTarget.set(0,0,0),this.velocity.set(0,0,0)}else this.object instanceof Ri?this.object.matrixAutoUpdate=!0:this.object.updateMatrix();this.cameraFollow===!0&&(this.camera.quaternion.copy(this.quat0Cam),this.camera.position.copy(this.position0Cam),this.camera.scale.copy(this.scale0Cam),this.camera.hiddenMatrix.copy(this.hiddenMatrix0Cam),this.camera.matrixAutoUpdate=!0),this.controlsManager.requestRender()}activate(){this.instantiateActions(),this.domElement.ownerDocument.addEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.addEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.addEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.addEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.addEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.addEventListener("visibilitychange",this.handleVisibilityChange)}deactivate(){this.disposeActions(),this.domElement.ownerDocument.removeEventListener("pointerdown",this.onPointerDown),this.domElement.ownerDocument.removeEventListener("keydown",this.onKeyDown),this.domElement.ownerDocument.removeEventListener("keyup",this.onKeyUp),this.domElement.ownerDocument.removeEventListener("pointerlockchange",this.onPointerlockChange),this.domElement.ownerDocument.removeEventListener("pointerlockerror",this.onPointerlockError),this.domElement.ownerDocument.removeEventListener("visibilitychange",this.handleVisibilityChange)}dispose(){var e;this.deactivate(),(e=this.navMeshPathDest)!=null&&e.parent&&this.page.remove(this.navMeshPathDest)}instantiateActions(){let e=this.data,t=this.sharedAssets;e.gameActions!==void 0&&(this.actions={},k_.list.forEach(r=>{this.actions[r]=lo({...e,disabled:!1,type:"GameControl"},e.gameActions[r],this.page,t,this.controlsManager.eventManager,this.object)})),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"),this.initialAction&&(this.initialAction=!1)}disposeActions(){this.initialAction=!1,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),si(this.actions.idle),si(this.actions.move),si(this.actions.run),si(this.actions.jump)}dispatchStartEvent(e){this.actions[e]!==void 0&&(this.actionState[e]||(this.actionState[e]=!0,this.actions[e].Transition.forEach(t=>{t.play()}),this.actions[e].Animation.forEach(t=>{t.play(this.initialAction===!1)}),this.actions[e].Create.forEach(t=>{t.dispatchStart()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("start")})))}dispatchStopEvent(e){this.actions[e]!==void 0&&(!this.actionState[e]||(this.actionState[e]=!1,this.actions[e].Transition.forEach(t=>{t.stop(),t.object.currentState!==null&&t.object.changeSelectedState(null,{scene:this.page.scene,shared:this.sharedAssets})}),this.actions[e].Create.forEach(t=>{t.dispatchStop()}),this.actions[e].Audio.forEach(t=>{t.dispatchGameControl("stop")})))}get colliderWorldPosition(){return Hi.copy(this.collider.position).applyQuaternion(this.objectRealQuat).add(this.position)}update(e,t,r){var c,a,s,u,d,h,p,m,f;if(this.gravity<0?this.position.y<this.resetYPosition:this.position.y>this.resetYPosition)return this.reset(!0),!0;this.sharedGameControlGlobals.gamePads.forEach(this.copyVRGamePadValues);let n=(this.isFirstFrame?16.6:e)/1e3;this.isFirstFrame&&(this.isFirstFrame=!1);let i=n*60,o=!1;if(this.usePhysics&&this.collisionEnabled){let g=po.set(0,(this.velocity.y===0?this.pixelsPerMeter*Math.max(Math.abs(this.gravity)/(10*AB),1)*(this.gravity>0?1:-1):this.velocity.y)*n,0).divideScalar(this.pixelsPerMeter),v=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter),this.colliderWorldQuat,g,(c=this.object.rigidBody)==null?void 0:c.collider(0).shape,1,!1,16,void 0,void 0,this.object.rigidBody);if(v){this.onObject=!0,this.groundNormal.set(v.normal2.x,v.normal2.y,v.normal2.z).applyQuaternion(this.colliderWorldQuat).negate(),this.alignToGround&&this.groundTiltAdjustment(this.groundNormal),Math.acos(this.groundNormal.y)<this.slopeThresh&&(o=!0),((a=v.collider.parent())==null?void 0:a.bodyType())===0&&Math.acos(this.groundNormal.y)*(180/Math.PI)>45&&(this.onObject=!1);let x=v.collider.parent();this.groundYRotation=0,this.groundVelocity.set(0,0,0);for(let y of this.sharedGameControlGlobals.entitiesWithTransformAnim)if(y.rigidBody===x&&y.userData.isFollowingObj!==this.object.uuid){(y.hasNonUniformScale?y.matrixWorldRigid:y.matrixWorld).decompose(Hi,Hl,po),this.groundVelocity.subVectors(Hi,y.prevT),this.object.getWorldPosition(po).add(this.collider.position).sub(Hi),this.groundYRotation=qs.setFromQuaternion(Hl).y-y.prevR.y,ou.copy(po).applyAxisAngle(cs,this.groundYRotation),this.groundVelocity.add(ou.sub(po)).divideScalar(n);break}}else this.onObject=!1}if(this.moveMode==="walk"&&this.collisionEnabled&&(this.movementState.jump===1&&this.onObject&&(this.velocityTarget.y=this.jumpPower,this.movementState.jump=0,this.dispatchStopEvent("idle"),this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.dispatchStopEvent("jump"),this.dispatchStartEvent("jump"),this.onObject=!1),this.onObject?this.velocityTarget.y/=2:this.velocityTarget.y+=this.gravity*i),this.moveMode==="fly"&&(this.velocityTarget.y=(this.movementState.movePosY-this.movementState.moveNegY)*this.speedTranslate),this.directionXZ.z=this.movementState.movePosZ-this.movementState.moveNegZ,this.directionXZ.x=this.movementState.movePosX-this.movementState.moveNegX,this.forwardDir==="+z"&&this.directionXZ.multiplyScalar(-1),this.directionXZ.manhattanLength()>0&&(this.path=[]),this.navMeshPathDest){let g=this.navMeshPathDest.material;if(this.moveMode==="walk"&&this.path.length>1){this.navMeshPathDest.position.copy(this.path[this.path.length-1]),this.navMeshPathDest.parent||this.page.add(this.navMeshPathDest);let v=Hi.subVectors(this.path[1],this.position),x=po.subVectors(this.path[1],this.path[0]);v.dot(x)<0?this.path.shift():(this.directionXZ.x=x.x,this.directionXZ.z=x.z),g.opacity=g.userData.opacity0}else g.opacity-=.05*g.userData.opacity0,this.navMeshPathDest.material.opacity<=0&&this.navMeshPathDest.parent&&this.page.remove(this.navMeshPathDest)}this.directionXZ.normalize(),this.movementState.run?this.moveForce=this.runMultiplier:this.moveForce=1,this.velocityTarget.z=this.directionXZ.z*this.speedTranslate*this.moveForce,this.velocityTarget.x=this.directionXZ.x*this.speedTranslate*this.moveForce,(this.moveMode==="walk"?this.velocityTarget.x+this.velocityTarget.z===0:this.velocityTarget.manhattanLength()===0)?this.lerpFactorPos.setScalar(this.lerpFactorPosEnd):this.lerpFactorPos.setScalar(this.lerpFactorPosStart),this.moveMode==="walk"&&(this.lerpFactorPos.y=1),this.didHit===!1&&this.pushedVelocity.manhattanLength()===0||this.usePhysics===!1?(this.velocity.x+=(this.velocityTarget.x-this.velocity.x)*(1-(1-this.lerpFactorPos.x)**i),this.velocity.y+=(this.velocityTarget.y-this.velocity.y)*(1-(1-this.lerpFactorPos.y)**i),this.velocity.z+=(this.velocityTarget.z-this.velocity.z)*(1-(1-this.lerpFactorPos.z)**i)):this.velocity.copy(this.velocityTarget),(this.moveMode==="walk"?this.velocity.x**2+this.velocity.z**2<this.speedTranslate:this.velocity.lengthSq()<this.speedTranslate)?(this.dispatchStopEvent("move"),this.dispatchStopEvent("run"),this.onObject&&(this.dispatchStopEvent("jump"),this.dispatchStartEvent("idle"))):(this.dispatchStopEvent("idle"),this.onObject&&(this.dispatchStopEvent("jump"),this.movementState.run?(this.dispatchStopEvent("move"),this.dispatchStartEvent("run")):(this.dispatchStopEvent("run"),this.dispatchStartEvent("move"))));let l=uze.copy(this.velocity);if(this.orientMode!=="none"&&this.isFirstPerson===!1){let g=po.copy(l);g.y=0,l.set(0,l.y,g.length()*(this.forwardDir==="+z"?1:-1))}if(this.directionXZ.manhattanLength()>0&&this.orientMode!=="none")if(this.orientWith==="camera"&&this.path.length<=1){let g=Hi;this.camera.getWorldDirection(g);let v=ou.copy(cs).multiplyScalar(g.dot(cs));g.sub(v);let x=po.copy(this.directionXZ);x.x*=-1,this.rot.y=g.angleTo(x)*(g.cross(x).y>0?-1:1)+this.rotationAccumWhenOrientWithCamera}else this.rot.y=(this.path.length>1?0:this.euler.y)+Math.atan2(-this.directionXZ.z,this.directionXZ.x)+Math.PI/2*(this.forwardDir==="+z"?1:-1);if(qs.setFromVector3(this.rot),this.moveMode==="walk"&&(qs.x=0),l.applyEuler(qs),o&&(Hl.setFromUnitVectors(cs,this.groundNormal),l.applyQuaternion(Hl)),r){let g=qs.set(0,this.vrEulerYOffset*MB,0);r.applyEuler(g),l.x+=r.x,l.z+=r.z,this.nonColliderPosOffset.elements[13]+=r.y*n}if(this.usePhysics===!0){let g=po;this.pushedVelocity.set(0,0,0);for(let v of this.sharedGameControlGlobals.entitiesWithTransformAnim){let x=ou.setFromMatrixPosition(v.matrixWorld).sub(v.prevT).divideScalar(n).divideScalar(this.pixelsPerMeter),y=v.rigidBody.collider(0).castCollider(x,this.object.rigidBody.collider(0),Hi.copy(l).divideScalar(this.pixelsPerMeter),n,!1);x.multiplyScalar(this.pixelsPerMeter);let b=Jt.is(v)?v:v.object;if(y!==null&&this.lastHitObj!==b){let w;v instanceof ji&&(w=v);let _=this.sharedGameControlGlobals.entityToCollisionEvents[b.uuid];if(_)for(let S of _)S.data.target==="character"&&(S.dispatch(w),b.dispatchEvent(c4));this.lastHitObj=b}if(y!==null){this.pushedVelocity.copy(x),g.copy(y.normal1).applyQuaternion(v.quaternion);break}}if(this.pushedVelocity.manhattanLength()!==0){let v=g.dot(l);v<0&&l.addScaledVector(g,-v),l.add(this.pushedVelocity)}else l.add(this.groundVelocity)}if(this.rotDirection.y=Number(this.movementState.rotPosY)-Number(this.movementState.rotNegY),this.rotDirection.x=Number(this.movementState.rotPosX)-Number(this.movementState.rotNegX),this.rotDirection.normalize(),this.rotationMode==="normal"&&(this.movementState.rotPosX||this.movementState.rotNegX)||this.rotationMode==="steer"&&(this.movementState.rotPosX||this.movementState.rotNegX)&&(this.movementState.movePosZ||this.movementState.moveNegZ||this.moveMode==="walk")?this.rotVelocityStick.x=-this.rotDirection.x*this.speedOrbit*this.rotForce:this.rotVelocityStick.x=0,this.rotationMode==="normal"&&(this.movementState.rotPosY||this.movementState.rotNegY)||this.rotationMode==="steer"&&(this.movementState.rotPosY||this.movementState.rotNegY)&&(this.movementState.movePosZ||this.movementState.moveNegZ)?this.rotVelocityStick.y=-this.rotDirection.y*this.speedOrbit*this.rotForce:this.rotVelocityStick.y=0,this.rotVelocityTarget.subVectors(this.eulerDelta.divideScalar(n),this.rotVelocityStick),this.rotVelocityTarget.manhattanLength()===0?this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotEnd)**i):this.rotVelocity.lerp(this.rotVelocityTarget,1-(1-this.lerpFactorRotStart)**i),this.euler.x+=this.rotVelocity.x*n,this.euler.y+=this.rotVelocity.y*n+this.groundYRotation,this.rotVelocityTarget.y===0&&this.directionXZ.manhattanLength()===0?this.rotationAccumWhenOrientWithCamera=0:(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.rotationAccumWhenOrientWithCamera+=this.rotVelocity.y*n),this.isFirstPerson===!1&&this.orientMode!=="none"&&this.directionXZ.manhattanLength()>0){if(this.orientMode==="radial"){this.objectToCamXZ.copy(this.objectToCamXZ0).applyAxisAngle(cs,this.euler.y-this.euler0.y);let g=po.copy(this.objectToCamXZ).normalize(),v=ou.copy(l).multiplyScalar(n);v.y=0;let x=v.sub(Hi.copy(g).multiplyScalar(v.dot(g))).cross(g).y;this.euler.y-=Math.atan2(x,this.objectToCamXZ.length())}}else this.rot.y+=this.rotVelocity.y*n+this.groundYRotation,this.rotVelocityTarget.y!==0&&(this.cameraFollow===!1||this.cameraYAxis==="Locked")&&(this.euler.y=this.rot.y);if(this.cameraFollow===!0&&(this.moveMode==="walk"?this.cameraXAxis==="Limit"?this.euler.x=at.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):this.euler.x=at.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset,this.PI_2+this.cameraPolarOffset):this.cameraXAxis==="Limit"&&(this.euler.x=at.clamp(this.euler.x,-this.PI_2,this.PI_2))),this.moveMode==="fly"?this.rot.x=this.euler.x:this.isFirstPerson&&(t?(qs.copy(t),qs.y=0):(qs.copy(this.euler),qs.y=0),this.nonColliderRotOffset.makeRotationFromEuler(qs)),t&&(this.moveMode==="walk"?(this.rot.y=t.y,this.rot.x=0,this.rot.z=0):this.rot.setFromEuler(t),this.rot.y+=this.vrEulerYOffset*MB),ls.setFromAxisAngle(hze,this.rot.x),Hl.setFromAxisAngle(cs,this.rot.y),Hl.multiply(ls),ls.setFromAxisAngle(pze,this.rot.z),Hl.multiply(ls),this.quaternion.copy(Hl),this.objectRealQuat.multiplyQuaternions(this.quaternion,this.objXZQuat),this.objectRealQuat.multiply(this.objXZQuat),this.colliderWorldQuat.copy(this.objectRealQuat).multiply(this.collider.rotation),this.collisionEnabled)if(this.usePhysics){let g=po.copy(l).multiplyScalar(n/this.pixelsPerMeter),v=null;this.didHit=!1;let x=new L;for(let y=0;y<5;y++){let b=g.length(),w=ou.copy(g).normalize();if(v=this.sharedGameControlGlobals.rapierWorld.castShape(this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(x),this.colliderWorldQuat,w,(s=this.object.rigidBody)==null?void 0:s.collider(0).shape,b,!1,24,void 0,void 0,this.object.rigidBody),v!==null){this.didHit=!0;let _=this.sharedGameControlGlobals.colliderToEntity.get(v.collider.handle);if(_!==this.lastHitObj&&y===0){this.lastHitObj=_;let C=this.sharedGameControlGlobals.entityToCollisionEvents[_==null?void 0:_.uuid];if(C){for(let M of C)if(M.data.target==="character"){let T=((u=this.sharedGameControlGlobals.rapierWorld)==null?void 0:u.getCollider(v.collider.handle))._parent,k;if(_.cloner){for(let P of _.cloner.children)if(P.rigidBody===T){k=P;break}}M.dispatch(k),_.dispatchEvent(c4)}}}let S=_B.set(v.normal2.x,v.normal2.y,v.normal2.z).applyQuaternion(this.colliderWorldQuat),E=SB.copy(w).multiplyScalar(v.toi).dot(S),A=v.toi;if(A===0&&(this.position.y+=this.offset*this.pixelsPerMeter),E>this.offset&&(A=v.toi*(E-this.offset)/E,x.addScaledVector(w,A)),g.copy(w).multiplyScalar(b-A),Math.acos(-S.y)>this.slopeThresh){let C=this.colliderWorldPosition.divideScalar(this.pixelsPerMeter).add(x),M=ou.copy(v.witness2).applyQuaternion(this.colliderWorldQuat);M.y=0;let T=C.add(M);T.y+=this.stepThresh;let k=this.sharedGameControlGlobals.rapierWorld.castShape(T,this.colliderWorldQuat,g,(d=this.object.rigidBody)==null?void 0:d.collider(0).shape,1,!1,24,void 0,void 0,this.object.rigidBody);k!==null&&k.toi===0&&(S.y=0,S.normalize())}g.addScaledVector(S,-g.dot(S))}else{y===0&&this.directionXZ.manhattanLength()!==0&&(this.lastHitObj=null),x.add(g);break}}this.position.addScaledVector(x,this.pixelsPerMeter),(h=this.object.rigidBody)==null||h.setTranslation(Hi.copy(this.position).divideScalar(this.pixelsPerMeter),!0),(p=this.object.rigidBody)==null||p.setRotation(ls.copy(this.quaternion).premultiply(this.groundTilt).multiply(this.objXZQuat),!0)}else{let g=this.onObject?1:5,v=l.multiplyScalar(n/g);for(let x=0;x<g;x++)this.position.add(v),this.collisionAdjustment(n/g)}else this.position.addScaledVector(l,n);if(this.moveMode==="walk"&&this.onObject&&(this.velocityTarget.y=0,this.velocity.y=0),this.quaternion.premultiply(this.groundTilt).multiply(this.objXZQuat),this.object.matrix.compose(this.position,this.quaternion,this.scale),this.object.matrixWorldNeedsUpdate=!0,this.object.matrix.multiply(this.nonColliderPosOffset).multiply(this.nonColliderRotOffset),this.quaternion.premultiply(this.groundTiltInv).multiply(this.objXZQuatInv),this.cameraFollow===!0){this.updateFollowArms();let g=this.objectToTarget.add(this.position),v=this.targetToCamera.add(g);cA.lookAt(v,g,cs).setPosition(v),cA.decompose(this.targetPos,this.targetQuat,Hi),this.camera.quaternion.slerp(this.targetQuat,1-(1-this.lerpFactorRotCamera)**i),this.camera.position.lerp(this.targetPos,1-(1-this.lerpFactorPosCamera)**i),this.camera.updateMatrix(),this.camera.updateMatrixWorld(),this.cameraYAxis==="Limit"&&this.orientMode==="cartesian"&&(this.euler.y=at.clamp(this.euler.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel)),this.euler.x=at.clamp(this.euler.x,-this.PI_2+(this.cameraPolarOffset<0?this.cameraPolarOffset:0),this.PI_2+(this.cameraPolarOffset>0?this.cameraPolarOffset:0))}return this.eulerDelta.set(0,0,0),this.object.dispatchEvent(bze),this.path.length<2&&this.lastPosition.distanceToSquared(this.position)<this.threshEndTranslate&&Math.abs(this.rotVelocity.x)<this.threshEndRotVel&&Math.abs(this.rotVelocity.y)<this.threshEndRotVel&&(this.camera===void 0||this.isFirstPerson||this.lastCameraPosition.distanceToSquared(this.camera.position)<this.threshEndTranslate&&8*(1-this.lastCameraQuaternion.dot(this.camera.quaternion))<this.threshEndRotate)&&(this.moveMode==="fly"||this.onObject===!0||this.collisionEnabled===!1)&&(this.navMeshPathDest===null||this.navMeshPathDest.material.opacity<-.04*((f=(m=this.navMeshPathDest)==null?void 0:m.material)==null?void 0:f.userData.opacity0))?!1:(this.camera&&(this.lastCameraPosition.copy(this.camera.position),this.lastCameraQuaternion.copy(this.camera.quaternion)),this.lastPosition.copy(this.position),this.object.dispatchEvent(yze),!0)}updateFollowArms(){this.objectToTarget.copy(this.objectToTarget0),this.targetToCamera.copy(this.targetToCamera0);let e=ls.setFromAxisAngle(cs,this.cameraYAxis==="Limit"&&this.orientMode!=="radial"?at.clamp(this.euler.y-this.euler0.y,this.minAzimuthAngleRel,this.maxAzimuthAngleRel):this.euler.y-this.euler0.y);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&this.objectToTarget.applyQuaternion(e);let t;this.cameraXAxis==="Limit"?t=at.clamp(this.euler.x,-this.maxPolarAngle+this.cameraPolarOffset+1e-6,-this.minPolarAngle+this.cameraPolarOffset-1e-6):t=at.clamp(this.euler.x,-this.PI_2+this.cameraPolarOffset+1e-6,this.PI_2+this.cameraPolarOffset-1e-6);let r=Hi.copy(this.cameraPolarAxis0);(this.cameraYAxis!=="Locked"||this.orientMode==="radial")&&r.applyQuaternion(e);let n=Hl.setFromAxisAngle(r,t);this.cameraYAxis!=="Locked"&&this.targetToCamera.applyQuaternion(e),this.cameraXAxis!=="Locked"&&this.targetToCamera.applyQuaternion(n)}groundTiltAdjustment(e){cs.angleTo(e)*180/Math.PI<15||cs.angleTo(e)*180/Math.PI>85?ls.identity():ls.setFromUnitVectors(cs,e),this.groundTilt.slerp(ls,.06),this.groundTiltInv.copy(this.groundTilt).invert()}collisionAdjustment(e){var i;let t=SB.set(0,0,0);this.object.matrix.compose(this.position,this.quaternion,this.scale);let r=cA.multiplyMatrices(this.object.matrix,this.objXZRotMat).multiply(this.collider.matrix).decompose(Hi,ls,po).compose(Hi,ls,CB);this.sharedGameControlGlobals.entitiesWithTransformAnim.forEach(o=>{if(o===this.object||o.isDescendantOf(this.object))return;wa.makeEmpty(),o.updateMatrixWorldSVD();let l=o.matrixWorldRigid,c=EB.copy(l).invert(),a=dze.copy(EB).multiply(r);ri.copy(this.collider.segment),ri.start.applyMatrix4(a),ri.end.applyMatrix4(a);let s=_B.copy(this.position).applyMatrix4(c);wa.expandByPoint(ri.start),wa.expandByPoint(ri.end),wa.min.addScalar(-this.collider.radius),wa.max.addScalar(this.collider.radius),o.bvhGeometry.boundsTree.shapecast({traverseBoundsOrder(u){return u.distanceToPoint(ri.end)},intersectsBounds:u=>u.intersectsBox(wa),intersectsTriangle:u=>{let d=Hi,h=po,p=u.closestPointToSegment(ri,d,h);if(p<this.collider.radius){let m=this.collider.radius-p,f=h.sub(d).normalize(),g=ou.copy(s);g.addScaledVector(f,m);let v=g.applyMatrix4(l).sub(this.position);t.add(v),ri.start.addScaledVector(f,m),ri.end.addScaledVector(f,m)}}})}),wa.makeEmpty(),ri.copy(this.collider.segment),ri.start.applyMatrix4(r),ri.end.applyMatrix4(r),wa.expandByPoint(ri.start),wa.expandByPoint(ri.end),wa.min.addScalar(-this.collider.radius),wa.max.addScalar(this.collider.radius),(i=this.sharedGameControlGlobals.staticMeshBVH)==null||i.shapecast({traverseBoundsOrder(o){return o.distanceToPoint(ri.end)},intersectsBounds:o=>o.intersectsBox(wa),intersectsTriangle:o=>{let l=Hi,c=po,a=o.closestPointToSegment(ri,l,c);if(a<this.collider.radius){let s=this.collider.radius-a,u=c.sub(l).normalize();this.alignToGround&&this.groundTiltAdjustment(u),t.addScaledVector(u,s),ri.start.addScaledVector(u,s),ri.end.addScaledVector(u,s)}}}),this.onObject=Math.abs(t.y)>Math.abs(e*this.velocity.y*.25),this.onObject&&this.dispatchStopEvent("jump");let n=Math.max(0,t.length()-1e-5);t.normalize().multiplyScalar(n),this.position.add(t)}},DK=s4;DK.isLocked=!1;var xze=di(nq());function oc(e,t){let r=new lt;if(!e.getAttribute("position"))return r.setAttribute("position",new Ze([],3)),r.setIndex([]),r;let{positions:n,triIndices:i}=GS(e.getAttribute("position"),e.getIndex());return r.setAttribute("position",new Ze(n,3)),r.setIndex(i),t&&r.applyMatrix4(t),r}var wze=new Re,_ze=new Re,Ys=[[0,0,0],[0,0,0],[0,0,0]];function jK(e){let t=e.elements;Ys[0][0]=t[0],Ys[0][1]=t[4],Ys[0][2]=t[8],Ys[1][0]=t[1],Ys[1][1]=t[5],Ys[1][2]=t[9],Ys[2][0]=t[2],Ys[2][1]=t[6],Ys[2][2]=t[10];let{u:r,v:n}=(0,xze.SVD)(Ys),i=wze.set(r[0][0],r[0][1],r[0][2],0,r[1][0],r[1][1],r[1][2],0,r[2][0],r[2][1],r[2][2],0,0,0,0,1),o=_ze.set(n[0][0],n[0][1],n[0][2],0,n[1][0],n[1][1],n[1][2],0,n[2][0],n[2][1],n[2][2],0,0,0,0,1);return i.multiply(o.transpose())}var Sze=class extends Xq{constructor(){super(),this.layers.enable(3),this.layers.enable(8)}setFromCamera(e,t){t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):t.isPerspectiveCamera?(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):console.error("Raycaster: Unsupported camera type.")}intersectVisibleObjects(e,t=!0,r=[]){return e.forEach(n=>{n.visible&&this.intersectObject(n,t,r)}),r}createRaycastLineHelper(){let e=new vd({color:65280,linewidth:10}),t=new L(this.ray.origin.x,this.ray.origin.y,this.ray.origin.z),r=new L(this.ray.direction.x,this.ray.direction.y,this.ray.direction.z),n=this.camera.far-this.camera.near,i=new L().addVectors(t,r.multiplyScalar(n)),o=new lt;return o.setFromPoints([t,i]),new r_(o,e)}},IK=e=>e instanceof fm||e instanceof mm;function Eze(e,t){return e.distance-t.distance}function OK(e,t,r){if(!(!ic(t)||!t.visible)){bs(t)&&t.raycast(e,r);for(let n of t.children)OK(e,n,r)}}function Jx(e,t,r,n=!1){if(!n&&!r.some(o=>W_(e,o)!==void 0))return[];let i=[];return t.children.forEach(o=>OK(e,o,i)),i.sort(Eze),i}function l4(e){let t=[];if(e.length){let r=e[0].object;ic(r)&&t.push(r);let n=r.parent;for(;n;)IK(n)&&t.push(n),n=n.parent}return t}function W_(e,t){if(bs(t)){if(t.visible){let r=[];return t.raycast(e,r),r.length?r[0]:void 0}}else if(IK(t))return RK(e,t)}function RK(e,t){if(!(!ic(t)||!t.visible)){if(bs(t)){let r=[];if(t.raycast(e,r),r.length)return r[0]}for(let r of t.children){let n=RK(e,r);if(n)return n}}}function Cze(e,t,r){return{x:(e-(r.left+window.scrollX))/r.width*2-1,y:-((t-(r.top+window.scrollY))/r.height)*2+1}}var Aze=class{constructor(e,t,r,n,i,o,l,c){this.renderer=e,this.publish=t,this.scene=r,this.getCamera=n,this.sharedAssets=i,this.requestRender=o,this.isExport=l,this.frame=c,this.raycaster=new Sze,this._useWindowEvents=!1,this._useWindowEvents=t.mouseEventTarget==="window",this.domElement=e.domElement,this.eventElement=this._useWindowEvents?window:e.domElement,this._domRect=this.domElement.getBoundingClientRect()}get stopRaycast(){return this.publish.stopRaycast}get page(){return this.scene.activePage}set useWindowEvents(e){this._useWindowEvents=e,this.eventElement=e?window:this.renderer.domElement}get useWindowEvents(){return this._useWindowEvents}set domRect(e){this._domRect=e}updateRaycaster(e){var n;let{pageX:t,pageY:r}=((n=e.touches)==null?void 0:n.length)>0?e.touches[0]:e;this.raycaster.setFromCamera(Cze(t,r,this._domRect),this.getCamera())}},zs=class{constructor(t){this.eventContext=t,this.domEventsNeeded=new Set,this.hasVideoAction=!1}connect(){}disconnect(){}},yj=[["start","Start"],["keyDown","KeyDown"],["keyUp","KeyUp"],["mouseDown","MouseDown"],["mouseUp","MouseUp"],["mouseHover","MouseHover"],["collision","Collision"],["lookAt","LookAt"],["follow","Follow"],["scroll","Scroll"]],zK=e=>{var t;return(t=yj.find(([r,n])=>n===e))==null?void 0:t[0]},h1=e=>{var t;return(t=yj.find(([r])=>r===e))==null?void 0:t[1]},Mze=(e,t)=>{let r=zK(e);if(r){let n=new CustomEvent(r,{bubbles:!0});return Object.defineProperty(n,"target",{writable:!1,value:t}),n}},Tze=class extends zs{constructor(e){super(e),this.objectsPerEvents=new Map,this.splineEvents={},this.onBeginEvent=r=>{var o;if(!r.eventName||!r.target||r.eventName==="Scroll")return;let n=(o=this.splineEvents[zK(r.eventName)])==null?void 0:o[r.target.uuid];if(!n)return;r.eventName==="Scroll"&&r.deltaY!==void 0&&Object.assign(n,{deltaY:r.deltaY});let{domElement:i}=this.eventContext;i.dispatchEvent(n)};let{page:t}=this.eventContext;t.traverseEntity(r=>{var n,i;if((n=r.data)!=null&&n.events.length){for(let[o,l]of yj)if(r.data.events.some(c=>c.data.type===l&&!c.data.disabled)){this.objectsPerEvents.has(o)?(i=this.objectsPerEvents.get(o))==null||i.push(r):this.objectsPerEvents.set(o,[r]);let c={id:r.uuid,name:r.name},a=Mze(l,c),s=this.splineEvents[o];s?s[r.uuid]=a:this.splineEvents[o]={[r.uuid]:a}}}})}connect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.addEventListener("beginEvent",this.onBeginEvent)})})}disconnect(){this.objectsPerEvents.forEach(e=>{e.forEach(t=>{t.removeEventListener("beginEvent",this.onBeginEvent)})})}},Pze=class{constructor(e,t,r,n,i,o){if(this.id=e,this.data=t,this.object=r,this.entered=!1,this.alreadyPlayedNonTogglingActions=new Set,this.useToggle=t.runMode==="Toggle",(t.type==="KeyDown"||t.type==="KeyUp"||t.type==="KeyPress")&&!t.key)throw new Error("Missing property");this.actions=lo(t,t.actions,n,i,o,r)}disconnect(){si(this.actions)}dispatchHeld(e){this.actions.Create.forEach(t=>{e&&t.dispatchThrottled.cancel(),t.dispatchThrottled()})}dispatch(e=!1){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):this.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(t)}),this.useToggle?(this.actions.Transition.forEach(t=>{t.toggle()}),this.actions.Animation.forEach(t=>{t.toggle()}),this.actions.SwitchCamera.forEach(t=>{t.toggle()})):this.data.type==="MousePress"||this.data.type==="KeyPress"?this.entered||(this.entered=!0,this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatchStart())):(this.actions.Transition.some(t=>t.playing)||this.actions.Transition.forEach(t=>{this.alreadyPlayedNonTogglingActions.has(t)===!1&&t.play()}),this.actions.SwitchCamera.some(t=>t.playing)||this.actions.SwitchCamera.forEach(t=>{t.play()}),this.actions.Animation.forEach(t=>{t.play()})),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),e===!1&&this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}dispatchRelease(){this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.Animation.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()),this.actions.Create.forEach(e=>e.dispatchStop()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.SceneTransition.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},kze=class extends zs{constructor(e,t,r){super(e),this.useForRaycastProperty=r,this.objectsPerTypes={MouseDown:[],MouseUp:[],MousePress:[],KeyDown:[],KeyUp:[],KeyPress:[]},this.canvasMouseEvents=[],this.eventsPerObjects={MouseDown:{},MouseUp:{},MousePress:{},KeyDown:{},KeyUp:{},KeyPress:{}},this.heldKeys={},this.heldKeysPress={},this._prevObjects=[],this.sceneInterects=null,this.onCanvasRaycast=o=>{if(this.useForRaycastProperty===!0&&this.sceneInterects===null){this.eventContext.updateRaycaster(o);let{raycaster:l,page:c}=this.eventContext,a=Jx(l,c,[],!0);this.sceneInterects=a,a.length&&(this.eventContext.sharedAssets.raycastProperty={x:a[0].point.x,y:a[0].point.y,z:a[0].point.z,objX:a[0].object.matrixWorld.elements[12],objY:a[0].object.matrixWorld.elements[13],objZ:a[0].object.matrixWorld.elements[14]})}},this.onCanvasMouseDown=o=>{(o.target===this.eventContext.domElement||o.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(l=>{(l.data.type==="MouseDown"||l.data.type==="MousePress")&&(this.onCanvasRaycast(o),l.dispatch())})},this.onCanvasMouseUp=o=>{(o.target===this.eventContext.domElement||o.target.tagName==="SPLINE-VIEWER")&&this.canvasMouseEvents.forEach(l=>{l.data.type==="MouseUp"?(this.onCanvasRaycast(o),l.dispatch()):l.data.type==="MousePress"&&l.dispatchRelease()})},this.onMouseDown=o=>{xt.length>1||(this.eventContext.updateRaycaster(o),this.handleMouseEvent("MouseDown"))},this.onMouseUp=o=>{xt.length>1||(this.eventContext.updateRaycaster(o),this.handleMouseEvent("MouseUp"))},this.onMousePressDown=o=>{xt.length>1||(this.eventContext.updateRaycaster(o),this.handleMousePressEvent())},this.onMousePressRelease=o=>{xt.length>1||(this.eventContext.updateRaycaster(o),this.handleMousePressEvent(!0))},this.onKeyDown=o=>{this.heldKeys[o.key]||(this.handleKeyEvent(o,"KeyDown"),this.handleKeyEventHeld(o,"KeyDown",!0)),this.heldKeys[o.key]=!0},this.onKeyUp=o=>{this.handleKeyEvent(o,"KeyUp"),this.handleKeyEventHeld(o,"KeyUp",!0)},this.onKeyPressDown=o=>{this.heldKeysPress[o.key]?this.handleKeyEventHeld(o,"KeyPress"):(this.handleKeyEvent(o,"KeyPress"),this.handleKeyEventHeld(o,"KeyPress",!0)),this.heldKeysPress[o.key]=!0},this.onKeyPressUp=o=>{this.handleKeyEvent(o,"KeyPress",!0)},this.releaseHeldKey=o=>{delete this.heldKeys[o.key]},this.releaseHeldKeyPress=o=>{delete this.heldKeysPress[o.key]},this._onUserEvent=({eventName:o,target:l,reverse:c})=>{var s,u,d,h;if(!o||!l)return;let a=h1(o);a&&(a==="MouseDown"||a==="MouseUp"||a==="MousePress"?(l.dispatchEvent({type:"beginEvent",eventName:a}),(u=(s=this.eventsPerObjects[a])==null?void 0:s[l.uuid])==null||u.forEach(p=>{p.dispatchUserEvent(c)})):(a==="KeyDown"||a==="KeyUp"||a==="KeyPress")&&(l.dispatchEvent({type:"beginEvent",eventName:a}),(h=(d=this.eventsPerObjects[a])==null?void 0:d[l.uuid])==null||h.forEach(p=>{p.dispatchUserEvent()})))};let{page:n,sharedAssets:i}=this.eventContext;n.traverseEntity(o=>{var c,a;if(!((c=o.data)!=null&&c.events.length))return;let l=["MouseDown","MouseUp","MousePress","KeyDown","KeyUp","KeyPress"];for(let s of l){let u=this.eventsPerObjects[s];o.data.events.filter(({data:d})=>d.type===s&&d.disabled!==!0).forEach(({id:d,data:h})=>{try{let p=new Pze(d,h,o,n,i,t);p.actions.Video.length&&(this.hasVideoAction=!0),(h.type==="MouseDown"||h.type==="MouseUp"||h.type==="MousePress")&&(h.mode==="Canvas"||h.mode==="Window")?this.canvasMouseEvents.push(p):u[o.uuid]?u[o.uuid].push(p):u[o.uuid]=[p]}catch{}}),(a=u[o.uuid])!=null&&a.length&&this.objectsPerTypes[s].push(o)}})}connect(){var t,r,n,i,o,l;let{domElement:e}=this.eventContext;this.heldKeys={},this.heldKeysPress={},this.domEventsNeeded.clear(),e.addEventListener("pointerdown",this.onCanvasMouseDown),e.addEventListener("pointerup",this.onCanvasMouseUp),((t=this.objectsPerTypes.MouseDown)!=null&&t.length||this.useForRaycastProperty)&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown)),(r=this.objectsPerTypes.MouseUp)!=null&&r.length&&(this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),(n=this.objectsPerTypes.MousePress)!=null&&n.length&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMousePressDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMousePressRelease)),(i=this.objectsPerTypes.KeyDown)!=null&&i.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.releaseHeldKey)),(o=this.objectsPerTypes.KeyUp)!=null&&o.length&&(this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyUp)),(l=this.objectsPerTypes.KeyPress)!=null&&l.length&&(this.domEventsNeeded.add("keydown"),document.addEventListener("keydown",this.onKeyPressDown),document.addEventListener("keyup",this.releaseHeldKeyPress),this.domEventsNeeded.add("keyup"),document.addEventListener("keyup",this.onKeyPressUp)),Object.entries(this.objectsPerTypes).forEach(([c,a])=>{a.forEach(s=>{s.addEventListener("userEvent",this._onUserEvent)})})}disconnect(){let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),this.heldKeys={},this.heldKeysPress={},e.removeEventListener("pointerdown",this.onCanvasMouseDown),e.removeEventListener("pointerup",this.onCanvasMouseUp),e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerdown",this.onMousePressDown),e.removeEventListener("pointerup",this.onMouseUp),e.removeEventListener("pointerup",this.onMousePressRelease),document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("keydown",this.onKeyPressDown),document.removeEventListener("keyup",this.onKeyPressUp),document.removeEventListener("keyup",this.releaseHeldKey),Object.values(this.eventsPerObjects).forEach(t=>{Object.values(t).forEach(r=>{r.forEach(n=>{n.disconnect()})})}),this.canvasMouseEvents.forEach(t=>{t.disconnect()}),Object.entries(this.objectsPerTypes).forEach(([t,r])=>{r.forEach(n=>{n.removeEventListener("userEvent",this._onUserEvent)})})}handleMouseEvent(e){let{stopRaycast:t,raycaster:r,page:n}=this.eventContext,i=this.objectsPerTypes[e];if(!(!i.length&&!this.useForRaycastProperty)){if(t||this.useForRaycastProperty){let o;this.sceneInterects===null?o=Jx(r,n,i,this.useForRaycastProperty):(o=this.sceneInterects,this.sceneInterects=null),this.useForRaycastProperty&&o.length&&(this.eventContext.sharedAssets.raycastProperty={x:o[0].point.x,y:o[0].point.y,z:o[0].point.z,objX:o[0].object.matrixWorld.elements[12],objY:o[0].object.matrixWorld.elements[13],objZ:o[0].object.matrixWorld.elements[14]}),t&&l4(o).forEach(l=>{this.eventsPerObjects[e][l.uuid]&&this.handleObjectMouseEventDispatch(l,e)})}t||i.forEach(o=>{W_(r,o)&&this.handleObjectMouseEventDispatch(o,e)})}}handleMousePressEvent(e=!1){let t="MousePress",r=this.objectsPerTypes[t],n=[];if(r.length){if(!e){let{stopRaycast:i,raycaster:o,page:l}=this.eventContext;if(i){let c=Jx(o,l,r);n=l4(c)}else r.forEach(c=>{W_(o,c)&&n.push(c)})}this._prevObjects.length&&this._prevObjects.forEach(i=>{n.includes(i)||this.handleObjectMouseEventDispatchRelease(i,t)}),n.length&&n.forEach(i=>{this.handleObjectMouseEventDispatch(i,t)}),this._prevObjects=n}}handleObjectMouseEventDispatch(e,t){var r,n;e.dispatchEvent({type:"beginEvent",eventName:t}),(n=(r=this.eventsPerObjects[t])==null?void 0:r[e.uuid])==null||n.forEach(i=>{i.dispatch()})}handleObjectMouseEventDispatchRelease(e,t){var r,n;e.dispatchEvent({type:"beginEvent",eventName:t}),(n=(r=this.eventsPerObjects[t])==null?void 0:r[e.uuid])==null||n.forEach(i=>{i.dispatchRelease()})}handleKeyEvent(e,t,r=!1){this.objectsPerTypes[t].forEach(n=>{let i=this.eventsPerObjects[t][n.uuid];i.some(({data:o})=>"key"in o&&o.key===e.key)&&n.dispatchEvent({type:"beginEvent",eventName:t}),i.forEach(o=>{"key"in o.data&&o.data.key===e.key&&(r?o.dispatchRelease():o.dispatch(!0))})})}handleKeyEventHeld(e,t,r=!1){this.objectsPerTypes[t].forEach(n=>{this.eventsPerObjects[t][n.uuid].forEach(i=>{"key"in i.data&&i.data.key===e.key&&i.dispatchHeld(r)})})}},Dze=new L,jze=new L,LK=class{constructor(e,t,r,n,i){this.actionsIn=lo(e,e.inActions,r,n,i,t),this.actionsOut=lo(e,e.outActions,r,n,i,t)}disconnect(){si(this.actionsIn),si(this.actionsOut)}},Ize=class extends LK{constructor(e,t,r,n,i,o){super(t,r,n,i,o),this.id=e,this.data=t,this.object=r,this.stage="out",this.objects=[],this.onUpdateMatrixWorld=()=>{for(let h of this.objects)if(!h.visible)return;let s=Dze.setFromMatrixPosition(this.objects[0].matrixWorld),u=jze.setFromMatrixPosition(this.objects[1].matrixWorld),d=s.distanceTo(u)<=this.distance?"in":"out";if(this.stage!==d){this.stage=d;let h=d==="in"?this.actionsIn:this.actionsOut;h.Audio.forEach(p=>p.dispatchConditional()),h.Video.forEach(p=>p.dispatchConditional()),h.Link.forEach(p=>p.dispatch()),h.Create.forEach(p=>p.dispatch()),h.Destroy.forEach(p=>p.dispatch()),h.Reset.forEach(p=>p.dispatch()),h.Transition.forEach(p=>{p.object.currentTransitionEvent!==this&&(p.object.currentTransitionEvent=this),p.init()}),h.Transition.forEach(p=>p.play()),h.Animation.forEach(p=>p.play()),h.SwitchCamera.forEach(p=>p.play()),h.SceneTransition.forEach(p=>p.dispatch()),h.SetVariable.forEach(p=>p.checkConditions()),h.SetVariable.forEach(p=>p.dispatch()),h.DynamicVariablePlay.forEach(p=>p.dispatch())}};let{distance:l,fromObject:c,toObject:a}=t.condition;this.distance=l;for(let s of[c,a]){if(!s)throw new Error("Missing property");let u=n.find(s);if(!u)throw new Error("Missing property");this.objects.push(u)}}connect(){window.setTimeout(()=>{this.objects.forEach(e=>{e.addEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)}),this.onUpdateMatrixWorld()},0)}disconnect(){super.disconnect(),this.stage="out",this.objects.forEach(e=>{e.removeEventListener("updateMatrixWorld",this.onUpdateMatrixWorld)})}},Oze=class extends LK{constructor(e,t,r,n,i,o){var a;super(t,r,n,i,o),this.id=e,this.data=t,this.object=r,this.onBegin=({target:s,state:u})=>{this.toState!==u&&(this.actionsOut.Audio.forEach(d=>d.dispatchConditional()),this.actionsOut.Video.forEach(d=>d.dispatchConditional()),this.actionsOut.Link.forEach(d=>d.dispatch()),this.actionsOut.Create.forEach(d=>d.dispatch()),this.actionsOut.Destroy.forEach(d=>d.dispatch()),this.actionsOut.Reset.forEach(d=>d.dispatch()),this.actionsIn.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsOut.Transition.forEach(d=>d.play()),this.actionsOut.Animation.forEach(d=>d.play()),this.actionsIn.SwitchCamera.forEach(d=>d.pause()),this.actionsOut.SwitchCamera.forEach(d=>d.play()),this.actionsOut.SceneTransition.forEach(d=>d.dispatch()),this.actionsOut.SetVariable.forEach(d=>d.checkConditions()),this.actionsOut.SetVariable.forEach(d=>d.dispatch()),this.actionsOut.DynamicVariablePlay.forEach(d=>d.dispatch()))},this.onComplete=({target:s,state:u})=>{this.toState===u&&(this.actionsIn.Audio.forEach(d=>d.dispatchConditional()),this.actionsIn.Video.forEach(d=>d.dispatchConditional()),this.actionsIn.Link.forEach(d=>d.dispatch()),this.actionsIn.Create.forEach(d=>d.dispatch()),this.actionsIn.Destroy.forEach(d=>d.dispatch()),this.actionsIn.Reset.forEach(d=>d.dispatch()),this.actionsOut.Transition.forEach(d=>d.pause()),this.actionsOut.Transition.forEach(d=>d.pause()),this.object.currentTransitionEvent=this,this.actionsIn.Transition.forEach(d=>d.play()),this.actionsIn.Animation.forEach(d=>d.play()),this.actionsOut.SwitchCamera.forEach(d=>d.pause()),this.actionsIn.SwitchCamera.forEach(d=>d.play()),this.actionsIn.SceneTransition.forEach(d=>d.dispatch()),this.actionsIn.SetVariable.forEach(d=>d.checkConditions()),this.actionsIn.SetVariable.forEach(d=>d.dispatch()),this.actionsIn.DynamicVariablePlay.forEach(d=>d.dispatch()))};let{condition:l}=t;if(!l.object)throw new Error("Missing property");let c=n.find(l.object);if(!c)throw new Error("Missing property");if(this.toObject=c,l.state&&!((a=this.toObject.states)!=null&&a[l.state]))throw new Error("Missing property");this.toState=l.state}connect(){ah(this.actionsOut).forEach(e=>{var t;(t=this.actionsOut[e])!=null&&t.length&&this.toObject.addEventListener("beginState",this.onBegin)}),ah(this.actionsIn).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.addEventListener("completeState",this.onComplete)})}disconnect(){super.disconnect(),ah(this.actionsOut).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.removeEventListener("beginState",this.onBegin)}),ah(this.actionsIn).forEach(e=>{var t;(t=this.actionsIn[e])!=null&&t.length&&this.toObject.removeEventListener("completeState",this.onComplete)})}},Rze=class extends zs{constructor(e,t){super(e),this.eventsPerConditions={Comparison:[],Distance:[],State:[]},this.hasVideoAction=!1;let{page:r,sharedAssets:n}=this.eventContext;r.traverseEntity(i=>{var o;if((o=i.data)!=null&&o.events.length){for(let{id:l,data:c}of i.data.events)if(!c.disabled&&c.type==="Conditional")try{let a;c.condition.type==="Comparison"||(c.condition.type==="Distance"?a=new Ize(l,c,i,r,n,t):c.condition.type==="State"&&(a=new Oze(l,c,i,r,n,t))),a&&(this.eventsPerConditions[c.condition.type].push(a),(a.actionsIn.Video.length||a.actionsOut.Video.length)&&(this.hasVideoAction=!0))}catch{}}})}connect(){super.connect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.connect()))}disconnect(){super.disconnect(),Object.values(this.eventsPerConditions).forEach(e=>e.forEach(t=>t.disconnect()))}},C0=new L,au=new L,kd=new L,TB=new Qo,zze=.01,dr=new L,Gn=new L,PB=new L,dh=new Ct,uA=new oi,Lze=new Re,dA=new Sn,Xp=new L,$s=new L,Kp=.2;function hA(e,t){!t||(t[0]<t[1]&&(e.x=Math.min(Math.max(e.x,t[0]),t[1])),t[2]<t[3]&&(e.y=Math.min(Math.max(e.y,t[2]),t[3])),t[4]<t[5]&&(e.z=Math.min(Math.max(e.z,t[4]),t[5])))}var Nze=function(){let e=new Re;return(t,r,n)=>{let i=t.obj;e.copy(i.hiddenMatrix),i.parent!==null&&e.premultiply(i.parent.matrixWorld),e.invert(),i.position.copy(r),t.reference==="global"&&hA(i.position,t.limits),i.position.applyMatrix4(e),t.reference==="parent"?hA(i.position,t.limits):t.reference==="local"&&(dh.copy(t.quat0).invert(),i.position.sub(t.position0),i.position.applyQuaternion(dh),hA(i.position,t.limits),dh.invert(),i.position.applyQuaternion(dh),i.position.add(t.position0)),e.multiply(n??i.matrixWorld).decompose(dr,i.quaternion,Gn),i.updateMatrix(),i.hasNonUniformScale&&(i.updateMatrixWorld(),i.updateMatrixWorldSVD()),i instanceof Fo&&yc(i.parent)&&i.invalidateDownstreamBooleanData(!0)}}(),Bze=class{constructor(e,t,r,n,i,o){this.object=e,this.data=t,this.dropDestIds=[],this.activeIdx=null,this.wasDragEventTriggered=!1,this.resetDampingFactor=this.data.resetSpeed===0?1:8/this.data.resetSpeed+1,this.snapDampingFactor=this.data.snapSpeed===0?1:8/this.data.snapSpeed+1,this.actionsDrag=lo(t,t.dragDropActions.drag,r,n,i,this.object),this.actionsDrop=lo(t,t.dragDropActions.drop,r,n,i,this.object);let l=[];this.data.objects.forEach(c=>{let a=r.find(c);!a||a.data.visible!==!1&&(l.push(a),o[a.uuid]&&o[a.uuid].forEach(s=>{let u=r.find(s);!u||u.data.visible!==!1&&l.push(u)}))}),this.data.dropDestinations.forEach(c=>{let a=r.find(c);!a||a.data.visible!==!1&&(this.dropDestIds.push(a.uuid),o[a.uuid]&&o[a.uuid].forEach(s=>{let u=r.find(s);!u||u.data.visible!==!1&&this.dropDestIds.push(u.uuid)}))}),this.dragItems=l.map(c=>(this.data.planeMode==="locked"&&(c.userData.lockedPlane=!0),c.userData.worldPosition0=new L().setFromMatrixPosition(c.matrixWorld),{obj:c,fromPosition:new L().setFromMatrixPosition(c.matrixWorld),pointStart:new L,pointEnd:new L,paused:!0,currentDampingFactor:this.data.dampingFactor,reset:!1,position0:new L().copy(c.position),quat0:new Ct().copy(c.quaternion),snapped:!1,orientationMatrix:new Re,limits:this.data.limits,reference:this.data.referenceFrame}))}get activeDragItem(){return this.activeIdx!==null?this.dragItems[this.activeIdx]:null}dispose(){si(this.actionsDrag),si(this.actionsDrop),this.dragItems.forEach(e=>{e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart),e.obj.recursiveBBoxNeedsUpdate=!0,e.obj.userData.lockedPlane=void 0,e.obj.position.copy(e.position0),e.obj.quaternion.copy(e.quat0),e.obj.updateMatrix()})}},Fze=class extends zs{constructor(e,t){super(e),this.eventManager=t,this.events=[],this.lastDropDestination=null,this.dragTimeout=null,this.onPointerDown=n=>{var c;if(xt.length>1)return;this.eventContext.updateRaycaster(n);let{raycaster:i,page:o}=this.eventContext,l=o.raycastWithClones(i);if(this.lastDropDestination=null,l.length===0){this.activeEvent=null;return}for(let a of this.events){let s=0;for(let{obj:u,pointEnd:d,pointStart:h}of a.dragItems){if(u===l[0].object||u===l[0].object.object||Jt.is(u)&&u.isAncestorOf(l[0].object.uuid)){if(a.activeIdx=s,a.activeDragItem.reset=!1,a.activeDragItem.currentDampingFactor=a.data.dampingFactor,a.activeDragItem.snapped=!1,a.data.cursor==="hand"&&this.setCursor("grabbing"),this.eventManager.controlsManager.usePhysics){a.activeDragItem.obj.rigidBody&&a.activeDragItem.obj.rigidBody.setBodyType(2,!0);let p=a.activeDragItem.obj;u.hasNonUniformScale&&u.updateMatrixWorldSVD(),(p.hasNonUniformScale?p.matrixWorldRigid:p.matrixWorld).decompose(dr,dh,Gn),uA.setFromQuaternion(dh),p.prevR===void 0?(p.prevR=uA.clone(),p.prevT=dr.clone()):(p.prevR.copy(uA),p.prevT.copy(dr)),this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.push(a.activeDragItem.obj)}this.calcPlaneIntersectPos(u,h,a.data.plane,a.data.referenceFrame),d.copy(h),(this.eventManager.controlsManager.usePhysics&&((c=u.data.physics)==null?void 0:c.rigidBody)==="dynamic"||a.data.drop===!1||a.data.resetOnSnapFail===!1)&&a.activeDragItem.fromPosition.setFromMatrixPosition(a.activeDragItem.obj.matrixWorld),this.activeEvent=a,this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!1);return}s++}}this.activeEvent=null},this.onPointerMove=n=>{var c,a,s,u;if(xt.length>1)return;this.eventContext.updateRaycaster(n);let{raycaster:i,page:o}=this.eventContext,l=o.raycastWithClones(i);if(xt.length===0){let d=!1;for(let h of this.events){for(let{obj:p}of h.dragItems)if(p===((c=l[0])==null?void 0:c.object)||p===((s=(a=l[0])==null?void 0:a.object)==null?void 0:s.object)||Jt.is(p)&&p.isAncestorOf((u=l[0])==null?void 0:u.object.uuid)){switch(d=!0,h.data.cursor){case"hand":this.setCursor("grab");break;case"move":this.setCursor("move");break}break}if(d)break}d||this.setCursor("default");return}if(this.activeEvent&&this.activeEvent.activeDragItem){let d=this.activeEvent.activeDragItem;d.snapped=!1;let h;if(this.activeEvent.data.drop&&(h=l.filter(p=>d.obj!==p.object&&!d.obj.isAncestorOf(p.object.uuid)&&!(p.object instanceof fm)&&(this.activeEvent.data.dropOn==="all"||this.activeEvent.dropDestIds.some(m=>m===p.object.uuid||o.scene.find(m).isAncestorOf(p.object.uuid))))[0]),h){let p=PB.copy(h.face.normal).applyMatrix3(dA.getNormalMatrix(h.object.matrixWorld));if(this.activeEvent.data.snapTo==="center")d.fromPosition.setFromMatrixPosition(h.object.matrixWorld);else if(this.activeEvent.data.snapTo==="surface"){if(d.fromPosition.copy(h.point),this.activeEvent.data.snapSurfaceMode==="bbox"){dr.copy(p).applyMatrix3(dA.setFromMatrix4(d.obj.matrixWorld).transpose());let m=d.obj;dr.x>Kp?Gn.x=-m.recursiveBBox.min.x:dr.x<-Kp&&(Gn.x=-m.recursiveBBox.max.x),dr.y>Kp?Gn.y=-m.recursiveBBox.min.y:dr.y<-Kp&&(Gn.y=-m.recursiveBBox.max.y),dr.z>Kp?Gn.z=-m.recursiveBBox.min.z:dr.z<-Kp&&(Gn.z=-m.recursiveBBox.max.z),Gn.applyMatrix3(dA.invert())}else Gn.copy(p).multiplyScalar(this.activeEvent.data.snapSurfaceOffset);d.fromPosition.add(Gn)}this.activeEvent.data.autoOrient&&(dr.set(0,1,0).cross(p),dr.length()<1e-4&&dr.set(-1,0,0).cross(p),Gn.crossVectors(PB,dr),d.orientationMatrix.makeBasis(dr,Gn,p)),d.pointStart.copy(d.fromPosition),d.pointEnd.copy(d.pointStart),d.currentDampingFactor=this.activeEvent.snapDampingFactor,d.snapped=!0,this.lastDropDestination!==h.object&&(this.lastDropDestination=h.object,this.activeEvent.actionsDrop.Transition.forEach(m=>{m.play()}),this.activeEvent.actionsDrop.Animation.forEach(m=>{m.play()}),this.activeEvent.actionsDrop.Audio.forEach(m=>{m.dispatchGameControl("start")}),this.activeEvent.actionsDrop.Create.forEach(m=>{m.dispatchThrottled()}))}else d.orientationMatrix.makeRotationFromQuaternion(d.quat0),this.lastDropDestination=null,d.currentDampingFactor=this.activeEvent.data.dampingFactor,this.calcPlaneIntersectPos(d.obj,d.pointEnd,this.activeEvent.data.plane,this.activeEvent.data.referenceFrame),this.activeEvent.actionsDrop.Transition.forEach(p=>{p.stop(),p.object.currentState!==null&&p.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrop.Animation.forEach(p=>{p.stop()}),this.activeEvent.actionsDrop.Audio.forEach(p=>{p.dispatchGameControl("stop")});this.activeEvent.actionsDrag.Create.forEach(p=>{p.dispatchThrottled()}),this.activeEvent.actionsDrag.SetVariable.forEach(p=>p.checkConditions()),this.activeEvent.actionsDrag.SetVariable.forEach(p=>p.dispatch()),this.activeEvent.actionsDrag.DynamicVariablePlay.forEach(p=>p.dispatch()),this.activeEvent.wasDragEventTriggered===!1&&(this.activeEvent.wasDragEventTriggered=!0,this.activeEvent.actionsDrag.Transition.forEach(p=>{p.play()}),this.activeEvent.actionsDrag.Animation.forEach(p=>{p.play()}),this.activeEvent.actionsDrag.Audio.forEach(p=>{p.dispatchGameControl("start")})),this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>{!this.activeEvent||(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Audio.forEach(p=>{p.dispatchGameControl("stop")}),this.activeEvent.actionsDrag.Transition.forEach(p=>{p.stop(),p.object.currentState!==null&&p.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(p=>{p.stop()}))},500),this.updateDragItem(d),d.obj.dispatchEvent({type:"requestRender"})}},this.onPointerUp=n=>{var i;if(this.activeEvent&&this.activeEvent.activeDragItem){this.activeEvent.data.cursor==="hand"&&this.setCursor("grab");let o=((i=this.activeEvent.activeDragItem.obj.data.physics)==null?void 0:i.rigidBody)==="dynamic";this.activeEvent.activeDragItem.snapped===!1&&this.activeEvent.data.drop&&this.activeEvent.data.resetOnSnapFail&&(this.eventManager.controlsManager.usePhysics===!1||!o)&&(this.activeEvent.activeDragItem.reset=this.activeEvent.data.resetOnSnapFail,this.activeEvent.activeDragItem.paused=!1,this.activeEvent.activeDragItem.currentDampingFactor=this.activeEvent.resetDampingFactor),this.eventManager.controlsManager.usePhysics&&o&&(this.eventManager.controlsManager.sharedGameControlGlobals.entitiesWithTransformAnim.pop(),this.activeEvent.activeDragItem.obj.rigidBody.setBodyType(0,!0),this.activeEvent.activeDragItem.paused=!0),this.activeEvent.wasDragEventTriggered===!0&&(this.activeEvent.wasDragEventTriggered=!1,this.activeEvent.actionsDrag.Transition.forEach(l=>{l.stop(),l.object.currentState!==null&&l.object.changeSelectedState(null,{scene:this.eventContext.page.scene,shared:this.eventContext.sharedAssets})}),this.activeEvent.actionsDrag.Animation.forEach(l=>{l.stop()}),this.activeEvent.actionsDrag.Audio.forEach(l=>{l.dispatchGameControl("stop")}),this.activeEvent.actionsDrop.SetVariable.forEach(l=>l.checkConditions()),this.activeEvent.actionsDrop.SetVariable.forEach(l=>l.dispatch()),this.activeEvent.actionsDrop.DynamicVariablePlay.forEach(l=>l.dispatch())),this.eventManager.controlsManager.orbitControls&&(this.eventManager.controlsManager.orbitControls.enabled=!0)}};let r={};e.page.traverseEntity(n=>{n.component&&(r[n.component.uuid]?r[n.component.uuid].push(n.uuid):r[n.component.uuid]=[n.uuid])}),e.page.traverseEntity(n=>{var i;(i=n.data)==null||i.events.filter(o=>o.data.type==="DragDrop"&&!o.data.disabled).forEach(o=>{this.events.push(new Bze(n,o.data,e.page,e.sharedAssets,t,r))})})}connect(){if(!this.events.length)return;this.domEventsNeeded.clear(),this.domEventsNeeded.add("pointerdown");let e=this.eventContext.domElement;e.addEventListener("pointerdown",this.onPointerDown),e.addEventListener("pointermove",this.onPointerMove),e.addEventListener("pointerup",this.onPointerUp),this.domEventsNeeded.add("pointermove")}disconnect(){if(!this.events.length)return;this.domEventsNeeded.clear();let e=this.eventContext.domElement;e.removeEventListener("pointerdown",this.onPointerDown),e.removeEventListener("pointermove",this.onPointerMove),e.removeEventListener("pointerup",this.onPointerUp),this.events.forEach(t=>t.dispose())}setCursor(e){this.eventContext.domElement.style.cursor=e}onAnimationFrameDamping(){for(let e of this.events)for(let t of e.dragItems)t.paused||this.updateDragItem(t,!0)}calcPlaneIntersectPos(e,t,r,n){let{getCamera:i,raycaster:o}=this.eventContext;i().getWorldDirection(au),au.negate();let l=dh.identity();switch(n==="parent"?Lze.multiplyMatrices(e.parent.matrixWorld,e.hiddenMatrix).decompose(dr,l,Gn):n==="local"&&e.matrixWorld.decompose(dr,l,Gn),r){case"x":dr.set(1,0,0).applyQuaternion(l),Xp.copy(au).cross(dr),$s.copy(dr).cross(Xp);break;case"y":dr.set(0,1,0).applyQuaternion(l),Xp.copy(au).cross(dr),$s.copy(dr).cross(Xp);break;case"z":dr.set(0,0,1).applyQuaternion(l),Xp.copy(au).cross(dr),$s.copy(dr).cross(Xp);break;case"xy":$s.set(0,0,1).applyQuaternion(l);break;case"yz":$s.set(1,0,0).applyQuaternion(l);break;case"xz":$s.set(0,1,0).applyQuaternion(l);break;case"adaptive":au.angleTo(Gn.set(0,1,0))>Math.PI/6?(dr.crossVectors(Gn.set(0,1,0),au),$s.crossVectors(dr,Gn)):$s.set(0,1,0);break;default:$s.copy(au);break}kd.setFromMatrixPosition(e.matrixWorld);let c=e.userData.lockedPlane?e.userData.worldPosition0:kd;if(TB.setFromNormalAndCoplanarPoint($s,c),!!o.ray.intersectPlane(TB,t)&&(r==="x"||r==="y"||r==="z")){let a=Gn.subVectors(t,c).dot(dr);t.copy(c).addScaledVector(dr,a)}}updateDragItem(e,t=!1){var r,n;kd.setFromMatrixPosition(e.obj.matrixWorld),e.reset==="current"?C0.subVectors(e.fromPosition,kd).divideScalar(e.currentDampingFactor):e.reset==="original"?(C0.subVectors(e.obj.userData.worldPosition0,kd).divideScalar(e.currentDampingFactor),e.fromPosition.copy(e.obj.userData.worldPosition0),e.pointStart.copy(e.fromPosition),e.pointEnd.copy(e.pointStart)):C0.subVectors(e.pointEnd,e.pointStart).add(e.fromPosition).sub(kd).divideScalar(e.currentDampingFactor),e.paused=e.currentDampingFactor>1?C0.length()<zze:!0,(this.activeEvent&&this.activeEvent.data.dampingFactor===1||t)&&Nze(e,C0.add(kd),(r=this.activeEvent)!=null&&r.data.drop&&((n=this.activeEvent)!=null&&n.data.autoOrient)?e.orientationMatrix:null),e.obj.dispatchEvent({type:"beginEvent",eventName:"DragDrop"}),this.eventManager.requestRender()}},Qp=new L,pA=new L,Wl=new L,Gl=new L,kB=new Qo,Uze=.01,Vze={type:"requestRender"},Hze=function(){let e=new L,t=new L;return(r,n,i)=>i>0?(e.subVectors(r,n),e.length()<=i?r:t.copy(n).add(e.normalize().multiplyScalar(i))):n}(),DB=function(){let e=new Re;return(t,r)=>{t.position.copy(r),t.parent!==null&&(e.copy(t.parent.matrixWorld).invert(),t.position.applyMatrix4(e)),e.copy(t.hiddenMatrix).invert(),t.position.applyMatrix4(e),t.updateMatrix(),t.hasNonUniformScale&&(t.updateMatrixWorld(),t.updateMatrixWorldSVD()),t instanceof Fo&&yc(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),Wze=class{constructor(e,t,r,n,i){this.data=e,this.object=t,this.paused=!1,this.currentDampingFactor=1,this.snapComplete=!1,this.isReset=!1,this.worldPosition0=new L,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...ZT.defaultData,...e,...e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}},e.target===void 0||e.target==="cursor"||(this.target=r.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.resetDampingFactor=80/this.data.resetSpeed+1,this.object.getWorldPosition(this.worldPosition0),this.actions=lo(e,e.actions,r,n,i,t)}},Gze=class extends zs{constructor(e,t){super(e),this.events=[],this.pairOfEventListeners=[],this.onMouseMove=n=>{if(!(xt.length>1)){this.eventContext.updateRaycaster(n);for(let i of this.events)i.target===void 0&&this.updateSingleEvent(i)}},this.onMouseEnter=n=>{for(let i of this.events)i.target===void 0&&(i.isReset=!1,i.currentDampingFactor=i.data.dampingFactor)},this.onMouseLeave=n=>{for(let i of this.events)i.target===void 0&&(i.data.resetOnPointerLeave&&(i.isReset=!0,i.currentDampingFactor=i.resetDampingFactor),this.updateSingleEvent(i))},this.onTargetChange=n=>()=>{this.updateSingleEvent(n)};let{page:r}=this.eventContext;r.traverseEntity(n=>{var o,l;let i=(o=n.data)==null?void 0:o.events.find(c=>c.data.type==="Follow"&&!c.data.disabled);i&&(!r.data.globalPhysics.usePhysics||((l=n.dataPatched.physics)==null?void 0:l.rigidBody)!=="dynamic")&&this.events.push(new Wze(i.data,n,r,e.sharedAssets,t))})}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),ta&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents||(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let r of this.events)if(r.target!==void 0){let n=r.target,i=this.onTargetChange(r);this.pairOfEventListeners.push([n,i]),n.addEventListener("requestRender",i)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),ta&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave);for(let[r,n]of this.pairOfEventListeners)r.removeEventListener("requestRender",n);for(let r of this.events)r.paused=!0,r.isReset=!1,si(r.actions)}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e,!0)}updateSingleEvent(e,t=!1){var l;this.events.forEach(c=>{c.actions.Create.forEach(a=>{a.dispatchThrottled()})});let{plane:r,limitDistance:n,limitDistanceEnabled:i}=e.data;if(e.object.getWorldPosition(Wl),e.isReset)Gl.copy(e.worldPosition0);else if(e.target)e.target.getWorldPosition(Gl);else{let{getCamera:c,raycaster:a}=this.eventContext;if(r==="custom"?(c().getWorldDirection(pA),pA.negate(),Qp.copy(pA)):r==="xy"?Qp.set(0,0,1):r==="xz"?Qp.set(0,1,0):r==="yz"&&Qp.set(1,0,0),kB.setFromNormalAndCoplanarPoint(Qp,Wl),!a.ray.intersectPlane(kB,Gl))return}if(!e.isReset){if(Gl.distanceTo(e.worldPosition0)>n&&i&&e.target)if(e.snapComplete=!1,e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)Gl.copy(e.worldPosition0),e.currentDampingFactor=e.resetDampingFactor;else return;else if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return}e.data.enabledTranslation[0]===!1&&(Gl.x=Wl.x),e.data.enabledTranslation[1]===!1&&(Gl.y=Wl.y),e.data.enabledTranslation[2]===!1&&(Gl.z=Wl.z);let o=Hze(Wl,Gl,e.wasOutside?0:e.data.maxDelta);if(e.currentDampingFactor>1){let c=Qp.subVectors(o,Wl).divideScalar(e.currentDampingFactor);Wl.add(c),t&&DB(e.object,Wl),e.paused=c.length()<Uze}else DB(e.object,o),e.paused=!0;(l=e.object)==null||l.dispatchEvent({type:"beginEvent",eventName:"Follow"}),e.object.dispatchEvent(Vze)}},A0=new L,ax=new L,M0=new Re,Zp=new Ct,su=new Ct,T0=new L,P0=new L,Dd=new L,ql=new L,fA=new Qo,qze=1e-6,Yze={type:"requestRender"},$ze={type:"changeRotation"},jB=function(){let e=new Re;return function(t,r){t.parent!==null?e.multiplyMatrices(t.parent.matrixWorld,t.hiddenMatrix):e.copy(t.hiddenMatrix),r.premultiply(jK(e).invert()),t.rotation.setFromRotationMatrix(r),t.updateMatrix(),t instanceof Fo&&yc(t.parent)&&t.invalidateDownstreamBooleanData(!0)}}(),Xze=class{constructor(e,t,r){this.object=t,this.paused=!1,this.currentDampingFactor=1,this.isReset=!1,this.worldQuaternion0=new Ct,this.timeoutId=null,this.delayFinished=!0,this.wasOutside=!1,this.data={...JT.defaultData,...e,...e.resetOnPointerLeave===void 0&&{resetOnPointerLeave:!1}},e.target===void 0||e.target==="cursor"||(this.target=r.find(e.target)),this.data.dampingFactor&&(this.currentDampingFactor=this.data.dampingFactor),this.object.getWorldQuaternion(this.worldQuaternion0),this.resetDampingFactor=80/this.data.resetSpeed+1}},Kze=class extends zs{constructor(e){super(e),this.events=[],this.pairOfEventListeners=[],this.pairOfUserEventListeners=[],this.onMouseMove=r=>{if(!(xt.length>1)){this._lastMouseEvent=r,this.eventContext.updateRaycaster(r);for(let n of this.events)n.target===void 0&&this.updateSingleEvent(n)}},this.onMouseEnter=r=>{for(let n of this.events)n.target===void 0&&(n.isReset=!1,n.currentDampingFactor=n.data.dampingFactor)},this.onMouseLeave=r=>{for(let n of this.events)n.target===void 0&&(n.data.resetOnPointerLeave&&(n.isReset=!0,n.currentDampingFactor=n.resetDampingFactor),this.updateSingleEvent(n))},this.onScroll=r=>{if(this._lastMouseEvent){let n=new PointerEvent("pointermove",{clientX:this._lastMouseEvent.clientX,clientY:this._lastMouseEvent.clientY,bubbles:!0,cancelable:!0,view:window});this.eventContext.eventElement.dispatchEvent(n)}},this.onTargetChange=r=>()=>{this.updateSingleEvent(r)},this.createUserEventListener=r=>({eventName:n,target:i})=>{if(!n||!i)return;let o=h1(n);o&&o==="LookAt"&&this.updateSingleEvent(r)};let{page:t}=this.eventContext;t.traverseEntity(r=>{var i,o;let n=(i=r.data)==null?void 0:i.events.find(l=>l.data.type==="LookAt"&&!l.data.disabled);n&&(!t.data.globalPhysics.usePhysics||((o=r.dataPatched.physics)==null?void 0:o.rigidBody)!=="dynamic")&&this.events.push(new Xze(n.data,r,t))})}connect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),ta&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseMove)),this.domEventsNeeded.add("pointermove"),t.addEventListener("pointermove",this.onMouseMove),this.eventContext.useWindowEvents?t.addEventListener("scroll",this.onScroll):(e.addEventListener("pointerenter",this.onMouseEnter),e.addEventListener("pointerleave",this.onMouseLeave));for(let r of this.events){if(r.target!==void 0){let o=this.onTargetChange(r),l=r.target;this.pairOfEventListeners.push([l,o]),l.addEventListener("requestRender",o)}let n=this.createUserEventListener(r),i=r.object;this.pairOfUserEventListeners.push([i,n]),i.addEventListener("userEvent",n)}}disconnect(){if(!this.events.length)return;let{domElement:e,eventElement:t}=this.eventContext;this.domEventsNeeded.clear(),ta&&e.removeEventListener("pointerdown",this.onMouseMove),t.removeEventListener("pointermove",this.onMouseMove),e.removeEventListener("pointerenter",this.onMouseEnter),e.removeEventListener("pointerleave",this.onMouseLeave),t.removeEventListener("scroll",this.onScroll);for(let[r,n]of this.pairOfEventListeners)r.removeEventListener("requestRender",n);for(let[r,n]of this.pairOfUserEventListeners)r.removeEventListener("userEvent",n);for(let r of this.events)r.paused=!0,r.isReset=!1}onAnimationFrameDamping(){for(let e of this.events)e.paused||this.updateSingleEvent(e)}updateSingleEvent(e){var h;let{tilt:t,axis:r,distance:n,plane:i,limitDistance:o,enabledRotation:l,limitDistanceEnabled:c}=e.data,{getCamera:a,raycaster:s}=this.eventContext,{object:u,target:d}=e;if(u.getWorldPosition(T0),!e.isReset)if(e.target)e.target.getWorldPosition(P0);else{if(i==="custom"?(a().getWorldDirection(ax),ax.negate(),fA.setFromNormalAndCoplanarPoint(ax,T0)):(i==="xy"?A0.set(0,0,1):i==="xz"?A0.set(0,1,0):i==="yz"&&A0.set(1,0,0),fA.setFromNormalAndCoplanarPoint(A0,T0)),!s.ray.intersectPlane(fA,P0))return;n>0&&(i==="custom"||i===void 0)&&P0.addScaledVector(ax,n)}if(e.isReset||(d?t==="target"?Dd.copy(d.up).applyMatrix4(M0.extractRotation(d.matrixWorld)).normalize():l.some(p=>p===!1)?(r==="x"?(ql.set(0,0,1),l[2]===!1&&ql.set(0,1,0)):r==="y"?(ql.set(1,0,0),l[0]===!1&&ql.set(0,0,1)):(ql.set(0,1,0),l[1]===!1&&ql.set(1,0,0)),Dd.copy(ql).applyQuaternion(e.worldQuaternion0).normalize()):Dd.set(0,1,0):i==="custom"?Dd.set(0,1,0):Dd.copy(A0)),e.isReset)su.copy(e.worldQuaternion0);else if(T0.distanceTo(P0)>o&&c&&d)if(e.data.snapDelay&&(e.delayFinished=!1,typeof window<"u"&&e.timeoutId!==null&&(window.clearTimeout(e.timeoutId),e.timeoutId=null)),e.wasOutside=!0,e.data.resetAfterDistanceLimit)su.copy(e.worldQuaternion0),e.currentDampingFactor=e.resetDampingFactor;else return;else{if(e.wasOutside&&(e.data.snapDelay&&typeof window<"u"&&(e.timeoutId=window.setTimeout(()=>{e.delayFinished=!0,e.paused=!1,this.updateSingleEvent(e)},e.data.snapDelay*1e3)),e.currentDampingFactor=e.data.dampingFactor,e.wasOutside=!1),e.delayFinished===!1)return;Qze(M0,P0,T0,Dd,r,ql),su.setFromRotationMatrix(M0),Zp.setFromUnitVectors(ql.applyQuaternion(su),Dd),l.some(p=>p===!1)&&t!=="target"&&su.premultiply(Zp).normalize()}e.currentDampingFactor>1?(u.updateWorldMatrix(!0,!1),Zp.setFromRotationMatrix(jK(u.matrixWorld)),Zp.slerp(su,1/e.currentDampingFactor),jB(u,M0.makeRotationFromQuaternion(Zp)),e.paused=8*(1-Zp.dot(su))<qze):(jB(u,M0.makeRotationFromQuaternion(su)),e.paused=!0),(h=e.object)==null||h.dispatchEvent({type:"beginEvent",eventName:"LookAt"}),u.dispatchEvent(Yze),u.dispatchEvent($ze)}},_a=new L,Wn=new L,yn=new L;function Qze(e,t,r,n,i,o){let l=e.elements;yn.subVectors(t,r),yn.lengthSq()===0&&(yn.z=1),yn.normalize(),Wn.crossVectors(n,yn),Wn.lengthSq()===0&&(Math.abs(n.z)===1?yn.x+=1e-4:yn.z+=1e-4,yn.normalize(),Wn.crossVectors(n,yn)),Wn.normalize(),_a.crossVectors(yn,Wn),i==="x"?o.z===1?[Wn,_a,yn]=[yn,Wn,_a]:(Wn.negate(),[Wn,yn]=[yn,Wn]):i==="y"?o.x===1?[Wn,_a,yn]=[_a,yn,Wn]:(Wn.negate(),[_a,yn]=[yn,_a]):o.x===1&&(Wn.negate(),[Wn,_a]=[_a,Wn]),l[0]=Wn.x,l[4]=_a.x,l[8]=yn.x,l[1]=Wn.y,l[5]=_a.y,l[9]=yn.y,l[2]=Wn.z,l[6]=_a.z,l[10]=yn.z}var Zze=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.entered=!1,this.actions=lo(t,t.actions,n,i,o,r)}disconnect(){si(this.actions)}dispatchEnter(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered||(this.entered=!0,this.actions.Transition.forEach(e=>e.playFromCurrent()),this.actions.Animation.forEach(e=>e.play()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.SwitchCamera.forEach(e=>e.playFromCurrent()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}dispatchLeave(){this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.entered&&(this.entered=!1,this.actions.Transition.forEach(e=>e.reverseFromCurrent()),this.actions.SwitchCamera.forEach(e=>e.reverseFromCurrent()))}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.Create.forEach(t=>t.dispatch()),this.actions.Destroy.forEach(t=>t.dispatch()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},Jze=class extends zs{constructor(e,t){super(e),this.eventsPerObjects={},this.objects=[],this._prevObjects=[],this.onMouseDown=i=>{xt.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseHoverEvent())},this.onMouseUp=i=>{xt.length>1||this.handleMouseHoverEvent(!0)},this.onMouseMove=i=>{xt.length>1||(this.eventContext.updateRaycaster(i),this.handleMouseHoverEvent())},this.onUserEvent=({eventName:i,target:o,reverse:l})=>{var a;if(!i||!o)return;let c=h1(i);c&&c==="MouseHover"&&(o.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(a=this.eventsPerObjects[o.uuid])==null||a.forEach(s=>s.dispatchUserEvent(l)))};let{page:r,sharedAssets:n}=this.eventContext;r.traverseEntity(i=>{var o,l;if(!(!i.visible||!((o=i.data)!=null&&o.events.length))){for(let{id:c,data:a}of i.data.events)if(!a.disabled&&a.type==="MouseHover")try{let s=new Zze(c,a,i,r,n,t);this.eventsPerObjects[i.uuid]?this.eventsPerObjects[i.uuid].push(s):this.eventsPerObjects[i.uuid]=[s]}catch{}(l=this.eventsPerObjects[i.uuid])!=null&&l.length&&this.objects.push(i)}})}connect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),ta&&(this.domEventsNeeded.add("pointerdown"),e.addEventListener("pointerdown",this.onMouseDown),this.domEventsNeeded.add("pointerup"),e.addEventListener("pointerup",this.onMouseUp)),this.domEventsNeeded.add("pointermove"),e.addEventListener("pointermove",this.onMouseMove),this.objects.forEach(t=>{t.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if(!this.objects.length)return;let{domElement:e}=this.eventContext;this.domEventsNeeded.clear(),ta&&(e.removeEventListener("pointerdown",this.onMouseDown),e.removeEventListener("pointerup",this.onMouseUp)),e.removeEventListener("pointermove",this.onMouseMove),Object.values(this.eventsPerObjects).forEach(t=>{t.forEach(r=>{r.disconnect()})}),this.objects.forEach(t=>{t.removeEventListener("userEvent",this.onUserEvent)})}handleMouseHoverEvent(e=!1){let t=[];if(!e){let{stopRaycast:r,raycaster:n,page:i}=this.eventContext;if(r){let o=Jx(n,i,this.objects);t=l4(o)}else this.objects.forEach(o=>{W_(n,o)&&t.push(o)})}this._prevObjects.length&&this._prevObjects.forEach(r=>{var n;t.includes(r)||(r.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(n=this.eventsPerObjects[r.uuid])==null||n.forEach(i=>i.dispatchLeave()))}),t.length&&t.forEach(r=>{var n;r.dispatchEvent({type:"beginEvent",eventName:"MouseHover"}),(n=this.eventsPerObjects[r.uuid])==null||n.forEach(i=>i.dispatchEnter())}),this._prevObjects=t}},eLe=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.scrollCounter=0,this.actions=lo(t,t.actions,n,i,o,r)}connect(){this.scrollCounter=0}disconnect(){si(this.actions)}dispatch(e){this.actions.Transition.forEach(n=>{n.object.currentTransitionEvent!==this&&(n.object.currentTransitionEvent=this,n.init())});let t=e>0?1:-1;this.scrollCounter+=t,this.scrollCounter=Math.min(Math.max(this.scrollCounter,0),this.data.steps);let r=this.scrollCounter/this.data.steps;this.actions.Transition.forEach(n=>n.seek(r)),this.actions.Animation.forEach(n=>n.seek(t)),this.actions.Create.forEach(n=>n.dispatchThrottled()),this.actions.SetVariable.forEach(n=>n.checkConditions()),this.actions.SetVariable.forEach(n=>n.dispatch()),this.actions.DynamicVariablePlay.forEach(n=>n.dispatch())}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},tLe=class{constructor(e,t,r,n,i,o,l){this.id=e,this.data=t,this.object=r,this.domElement=o,this.eventManager=l,this.scrollStart=0,this.scrollEnd=0,this.actions=lo(t,t.actions,n,i,l,r)}computeScrollBounds(){let e=this.domElement.getBoundingClientRect(),t=document.body,r=document.documentElement,n=window.pageYOffset||r.scrollTop||t.scrollTop,i=r.clientTop||t.clientTop||0,o=Math.round(e.top+n-i);if(this.data.startFrom==="enter"){let l=window.innerHeight,c=e.height,a=this.data.enterAnchor,s=a==="top"?l:a==="bottom"?l-c:l-c*.5;this.scrollStart=o-s}else this.scrollStart=0;this.scrollStart+=this.data.startOffset??0,this.scrollEnd=this.scrollStart+(this.data.endAfter??400),this.box=e,this.computeScroll({x:window.scrollX,y:window.scrollY})}connect(){this.computeScrollBounds()}disconnect(){si(this.actions)}handleResize(){this.computeScrollBounds()}get isInvalidBox(){return this.box===void 0||this.box.width===0&&this.box.height===0&&this.box.top===0&&this.box.bottom===0}computeScroll({x:e,y:t}){this.actions.Transition.forEach(i=>{i.object.currentTransitionEvent!==this&&(i.object.currentTransitionEvent=this,i.init())});let r=this.scrollEnd-this.scrollStart,n=Math.min(1,Math.max(0,(t-this.scrollStart)/r));this.actions.Transition.forEach(i=>i.seek(n)),this.actions.Animation.forEach(i=>i.seek(n)),this.actions.Create.forEach(i=>i.dispatchThrottled()),this.actions.SetVariable.forEach(i=>i.checkConditions()),this.actions.SetVariable.forEach(i=>i.dispatch()),this.actions.DynamicVariablePlay.forEach(i=>i.dispatch())}dispatch(e){this.isInvalidBox&&this.computeScrollBounds(),this.computeScroll(e)}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>{t.playFromCurrent()}),this.actions.Animation.forEach(t=>{t.playFromCurrent()})),this.actions.Create.forEach(t=>t.dispatchThrottled()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch())}},rLe=class extends zs{constructor(e,t){super(e),this.wheelEventsPerObject=new Map,this.scrollEventsPerObject=new Map,this.isInview=!0,this.handleResize=()=>{[...this.scrollEventsPerObject.entries()].forEach(([l,c])=>{c.forEach(a=>a.handleResize())})},this.onScroll=l=>{if(!this.isInview)return;let c={y:window.scrollY,x:window.scrollX};[...this.scrollEventsPerObject.entries()].forEach(([a,s])=>{a.dispatchEvent({type:"beginEvent",eventName:"Scroll",scroll:c}),s.forEach(u=>u.dispatch(c))})},this.onWheel=l=>{!this.isInview||l.ctrlKey||[...this.wheelEventsPerObject.entries()].forEach(([c,a])=>{c.dispatchEvent({type:"beginEvent",eventName:"Scroll",deltaY:l.deltaY}),a.forEach(s=>s.dispatch(l.deltaY))})},this.onUserEvent=({eventName:l,target:c,reverse:a})=>{var u;if(!l||!c)return;let s=h1(l);s&&s==="Scroll"&&(c.dispatchEvent({type:"beginEvent",eventName:"Scroll"}),(u=this.wheelEventsPerObject.get(c))==null||u.forEach(d=>{d.dispatchUserEvent(a)}))};let{page:r,sharedAssets:n,domElement:i,isExport:o}=this.eventContext;r.traverseEntity(l=>{var c,a,s;if((c=l.data)!=null&&c.events.length){for(let{id:u,data:d}of l.data.events)if(!d.disabled&&d.type==="Scroll")if(d.trigger==="load"||!o){let h=new eLe(u,d,l,r,n,t);this.wheelEventsPerObject.has(l)?(a=this.wheelEventsPerObject.get(l))==null||a.push(h):this.wheelEventsPerObject.set(l,[h])}else{let h=new tLe(u,d,l,r,n,i,t);this.scrollEventsPerObject.has(l)?(s=this.scrollEventsPerObject.get(l))==null||s.push(h):this.scrollEventsPerObject.set(l,[h])}}}),this.intersectionObserver=new IntersectionObserver(l=>{let c=l[0];c&&(this.isInview=c.isIntersecting)},{root:null})}connect(){this.intersectionObserver.observe(this.eventContext.domElement),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(r=>r.connect()),e.addEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(r=>r.connect()),e.addEventListener("userEvent",this.onUserEvent)}),[...this.wheelEventsPerObject.values()].some(e=>e.length)&&(this.domEventsNeeded.add("wheel"),window.addEventListener("wheel",this.onWheel)),[...this.scrollEventsPerObject.values()].some(e=>e.length)&&(this.domEventsNeeded.add("scroll"),window.addEventListener("scroll",this.onScroll),window.addEventListener("resize",this.handleResize))}disconnect(){window.removeEventListener("wheel",this.onWheel),window.removeEventListener("scroll",this.onScroll),window.removeEventListener("resize",this.handleResize),this.intersectionObserver.unobserve(this.eventContext.domElement),this.domEventsNeeded.clear(),[...this.wheelEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(r=>r.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)}),[...this.scrollEventsPerObject.entries()].forEach(([e,t])=>{t.forEach(r=>r.disconnect()),e.removeEventListener("userEvent",this.onUserEvent)})}},nLe=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.actions=lo(t,t.actions,n,i,o,r)}disconnect(){si(this.actions)}dispatch(){this.actions.Transition.forEach(e=>{e.play()}),this.actions.Animation.forEach(e=>{e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()),this.actions.Create.forEach(e=>{e.dispatchFromStart()}),this.actions.Destroy.forEach(e=>{e.dispatchFromStart()})}dispatchAfter(e){this.actions.Audio.forEach(t=>{(t.interaction.data.triggerAfter??"any")===e&&(t.interaction instanceof uh?t.interaction.audioPlayer.play():t.interaction instanceof r4&&t.interaction.dispatch())}),this.actions.Video.forEach(t=>{let r=t.interaction.data.triggerAfter??"autoplay";r===e&&(t.interaction instanceof vm?t.interaction.play(r==="autoplay"):t.interaction instanceof a4&&t.interaction.dispatch())})}dispatchUserEvent(e){this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this,t.init())}),e?(this.actions.Transition.forEach(t=>t.reverseFromCurrent()),this.actions.Animation.forEach(t=>t.reverseFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.reverseFromCurrent())):(this.actions.Transition.forEach(t=>t.playFromCurrent()),this.actions.Animation.forEach(t=>t.playFromCurrent()),this.actions.SwitchCamera.forEach(t=>t.playFromCurrent())),this.actions.SceneTransition.forEach(t=>t.dispatch()),this.actions.Reset.forEach(t=>t.dispatch()),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch()}),this.actions.Audio.forEach(t=>{t.interaction instanceof uh?t.interaction.audioPlayer.play():t.interaction instanceof r4&&t.interaction.dispatch()}),this.actions.Video.forEach(t=>{t.interaction instanceof vm?t.interaction.play():t.interaction instanceof a4&&t.interaction.dispatch()})}},iLe=class extends zs{constructor(e,t){super(e),this.eventManager=t,this.eventsPerObject=new Map,this.eventsAfterPerObject=new Map,this.onMouseDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(i=>{i.dispatchAfter("mouseDown")})})},this.onKeyDown=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(i=>{i.dispatchAfter("keyDown")})})},this.onAny=()=>{let{domElement:r,isExport:n}=this.eventContext;(n?document:r).removeEventListener("pointerdown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([i,o])=>{i.dispatchEvent({type:"beginEvent",eventName:"Start"}),o.forEach(l=>{l.dispatchAfter("any")})})},this.onSceneTransitionAudioVideoPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(i=>{i.actions.Audio.forEach(o=>{o.interaction instanceof uh&&o.interaction.audioPlayer.play()}),i.actions.Video.forEach(o=>{let l=o.interaction.data.triggerAfter??"autoplay";o.interaction instanceof vm&&o.interaction.play(l==="autoplay")})})})},this.onPlay=()=>{[...this.eventsAfterPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(i=>{i.dispatchAfter("autoplay")})})},this.onUserEvent=({eventName:r,target:n,reverse:i})=>{var l,c;if(!r||!n)return;let o=h1(r);o&&o==="Start"&&(n.dispatchEvent({type:"beginEvent",eventName:"Start"}),(l=this.eventsPerObject.get(n))==null||l.forEach(a=>{a.dispatchUserEvent(i)}),(c=this.eventsAfterPerObject.get(n))==null||c.forEach(a=>{a.dispatchUserEvent(i)}))}}connect(){let{sharedAssets:e,page:t}=this.eventContext;if(t.traverseEntity(r=>{var n,i,o,l;if((n=r.data)!=null&&n.events.length)for(let{id:c,data:a}of r.data.events){if(a.disabled||a.type!=="Start")continue;let s=new nLe(c,a,r,t,e,this.eventManager);(s.actions.Transition.length||s.actions.Animation.length||s.actions.SwitchCamera.length||s.actions.Create.length||s.actions.Destroy.length||s.actions.SceneTransition.length||s.actions.Reset.length||s.actions.SetVariable.length||s.actions.DynamicVariablePlay.length)&&(this.eventsPerObject.has(r)?(i=this.eventsPerObject.get(r))==null||i.push(s):this.eventsPerObject.set(r,[s])),s.actions.Audio.length&&(this.eventsAfterPerObject.has(r)?(o=this.eventsAfterPerObject.get(r))==null||o.push(s):this.eventsAfterPerObject.set(r,[s])),s.actions.Video.length&&(this.hasVideoAction=!0,this.eventsAfterPerObject.has(r)?(l=this.eventsAfterPerObject.get(r))==null||l.push(s):this.eventsAfterPerObject.set(r,[s]))}}),[...this.eventsAfterPerObject.values()].some(r=>r.length)){if(this.eventManager.activateCount===0){let{domElement:r,isExport:n}=this.eventContext,i=n?document:r;i.addEventListener("pointerdown",this.onMouseDown,{once:!0}),i.addEventListener("mousedown",this.onMouseDown,{once:!0}),document.addEventListener("keydown",this.onKeyDown,{once:!0}),i.addEventListener("pointerdown",this.onAny),i.addEventListener("mousedown",this.onAny),document.addEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([o,l])=>{o.addEventListener("userEvent",this.onUserEvent)})}else this.onSceneTransitionAudioVideoPlay();this.onPlay()}[...this.eventsPerObject.entries()].forEach(([r,n])=>{r.dispatchEvent({type:"beginEvent",eventName:"Start"}),n.forEach(i=>i.dispatch()),r.addEventListener("userEvent",this.onUserEvent)})}disconnect(){if([...this.eventsAfterPerObject.values()].some(e=>e.length)){let{domElement:e,isExport:t}=this.eventContext,r=t?document:e;r.removeEventListener("pointerdown",this.onMouseDown),r.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("keydown",this.onKeyDown),r.removeEventListener("pointerdown",this.onAny),r.removeEventListener("mousedown",this.onAny),document.removeEventListener("keydown",this.onAny),[...this.eventsAfterPerObject.entries()].forEach(([n,i])=>{n.removeEventListener("userEvent",this.onUserEvent),i.forEach(o=>o.disconnect())})}[...this.eventsPerObject.entries()].forEach(([e,t])=>{e.removeEventListener("userEvent",this.onUserEvent),t.forEach(r=>r.disconnect())}),this.eventsPerObject.clear(),this.eventsAfterPerObject.clear()}},oLe=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=lo(t,t.actions,n,i,o,r),this.target=t.target,this.useToggle=t.runMode==="Toggle"}disconnect(){si(this.actions)}dispatch(e){this.disabled||(this.actions.Transition.forEach(t=>{t.object.currentTransitionEvent!==this?(t.object.currentTransitionEvent=this,t.init()):this.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(t)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Collision"}),this.useToggle?(this.actions.Transition.forEach(t=>{t.toggle()}),this.actions.Animation.forEach(t=>{t.toggle()})):(this.actions.Transition.forEach(t=>{this.alreadyPlayedNonTogglingActions.has(t)===!1&&t.play()}),this.actions.Animation.forEach(t=>{t.play()})),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Link.forEach(t=>{t.dispatch()}),this.actions.Reset.forEach(t=>{t.dispatch()}),this.actions.Create.forEach(t=>{t.dispatch()}),this.actions.Destroy.forEach(t=>{t.dispatch(e??!1)}),this.actions.SetVariable.forEach(t=>t.checkConditions()),this.actions.SetVariable.forEach(t=>t.dispatch()),this.actions.DynamicVariablePlay.forEach(t=>t.dispatch()),this.actions.Audio.forEach(t=>{t.dispatchBasic()}),this.actions.Video.forEach(t=>{t.dispatchBasic()}))}},aLe=class extends zs{constructor(e,t,r,n,i){super(e),this.sharedVariables=t,this.eventManager=r,this.needsMouse=n,this.needsRaycast=i,this.dynamicVars=[],this.variablesToWatch=[],this.prevMouseProperty=null,this.prevRaycastProperty=null,this.pauseTime=0,this.events=[],this.onFrame=o=>{this.rafId=window.requestAnimationFrame(this.onFrame);let l=new Date,c=[],a=[];for(let d=0;d<this.propertiesToWatch.length;d++){let{objectId:h,property:p,prevValue:m}=this.propertiesToWatch[d],f=this.eventContext.scene.find(h),g=tP.propertyPaths[p];if(g[0]==="width"||g[0]==="height"||g[0]==="depth")f=f.geometry.userData.parameters[g[0]];else for(let v=0;v<g.length;v++)f=f[g[v]];m===null?this.propertiesToWatch[d].prevValue=f instanceof L?f.clone():f:(f instanceof L?!f.equals(m):m!==f)&&(a.push({objId:h,property:p}),f instanceof L?this.propertiesToWatch[d].prevValue.copy(f):this.propertiesToWatch[d].prevValue=f)}for(let d=0;d<this.variablesToWatch.length;d++){let{id:h,prevValue:p}=this.variablesToWatch[d],m=this.shared.getVariable(h);m!==p&&(c.push(h),this.variablesToWatch[d].prevValue=m)}for(let d=0;d<this.dynamicVars.length;d++){let{id:h,expectedTime:p,last:m,data:f,timerSeconds:g,startValue:v}=this.dynamicVars[d],x=1e3;if((f.dynamicVariableType==="timer"||f.dynamicVariableType==="stopwatch")&&f.format==="number3decimal"?x=1:f.dynamicVariableType==="counter"?x=f.updateInterval:f.dynamicVariableType==="random"&&(x=f.isStatic?1/0:f.updateInterval),p===-1){this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime=o+x;continue}if(!((this.shared.getDynamicVariablePlayState(h)==="Stopped"||this.shared.getDynamicVariablePlayState(h)==="Restarted")&&(this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime=o+x,f.dynamicVariableType==="counter"&&this.shared.getVariable(h)!==v&&(this.shared.updateVariable(h,v),this.eventManager.requestRender()),(f.dynamicVariableType==="timer"||f.dynamicVariableType==="stopwatch")&&this.dynamicVars[d].timerSeconds!==v&&(this.dynamicVars[d].timerSeconds=v,this.shared.updateVariable(h,vs.getFormattedTimerTime(v,f)),this.eventManager.requestRender()),this.shared.getDynamicVariablePlayState(h)==="Restarted"&&this.shared.setDynamicVariablePlayState(h,"Playing"),this.shared.getDynamicVariablePlayState(h)==="Stopped"))){if(this.shared.getDynamicVariablePlayState(h)==="Paused"){this.dynamicVars[d].deltaToExpectedTime===void 0&&(this.dynamicVars[d].deltaToExpectedTime=Math.max(this.dynamicVars[d].expectedTime-o,0)),this.dynamicVars[d].last=o-(x-this.dynamicVars[d].deltaToExpectedTime),this.dynamicVars[d].expectedTime=o+this.dynamicVars[d].deltaToExpectedTime;continue}else this.dynamicVars[d].deltaToExpectedTime=void 0;if(o>=p)if(this.dynamicVars[d].last=o,this.dynamicVars[d].expectedTime+=x,f.dynamicVariableType==="random"){let y=f.min+Math.random()*(f.max-f.min),b=f.decimals;y=Math.round(y*Math.pow(10,b))/Math.pow(10,b),this.shared.updateVariable(h,y),c.push(h),this.eventManager.requestRender()}else if(f.dynamicVariableType==="counter"){if(f.increment===0)continue;let y=this.shared.getVariable(h),b=this.shared.getDynamicVariableToggleIsForward(h)??!0,w=this.shared.getVariable(h)+f.increment*(b?1:-1);f.hasEnd&&(w=f.increment>0?at.clamp(w,v,f.endValue):at.clamp(w,f.endValue,v),w===v&&this.shared.setDynamicVariableToggleIsForward(h,void 0),f.repeat?w===f.endValue&&(w=v):(w===v||w===f.endValue)&&this.shared.setDynamicVariablePlayState(h,"Paused")),w!==y&&(c.push(h),this.shared.updateVariable(h,w),this.eventManager.requestRender())}else if(f.dynamicVariableType==="time")this.shared.updateVariable(h,s9(l,f)),c.push(h),this.eventManager.requestRender();else{let y=ra.isTextValue(f.endValue)?IB(f.endValue.textValue):f.endValue,b=this.shared.getDynamicVariableToggleIsForward(h)??!0,w=g+(o-m)/1e3*(f.dynamicVariableType==="timer"?-1:1)*(b?1:-1);w=Math.max(w,0),f.hasEnd&&(w=f.dynamicVariableType==="stopwatch"?at.clamp(w,v,y):at.clamp(w,y,v),w===v&&this.shared.setDynamicVariableToggleIsForward(h,void 0),f.repeat?Math.abs(w-y)<(f.format==="number3decimal"?1e-4:.1)&&(w=v):(Math.abs(w-v)<(f.format==="number3decimal"?1e-4:.1)||Math.abs(w-y)<(f.format==="number3decimal"?1e-4:.1))&&this.shared.setDynamicVariablePlayState(h,"Paused")),w!==g&&(c.push(h),this.dynamicVars[d].timerSeconds=w,this.shared.updateVariable(h,vs.getFormattedTimerTime(w,f)),this.eventManager.requestRender())}}}this.needsMouse&&this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,this.events.forEach(d=>{d.data.variableId==="mouseProperty"&&(d.dispatch(),this.eventManager.requestRender())}));let s=!1;this.shared.mouseProperty!==this.prevMouseProperty&&(this.prevMouseProperty=this.shared.mouseProperty,s=!0);let u=!1;this.shared.raycastProperty!==this.prevRaycastProperty&&(this.prevRaycastProperty=this.shared.raycastProperty,u=!0),this.events.forEach(d=>{(c.includes(d.data.variableId)||a.find(h=>h.objId===d.data.objectId&&h.property===d.data.property)||d.data.variableId==="mouseProperty"&&s||d.data.variableId==="raycastProperty"&&u)&&(d.dispatch(),this.eventManager.requestRender())})},this.onBlur=()=>{this.pause()},this.onFocus=()=>{this.resume()},e.page.traverseEntity(o=>{var l;(l=o.data)==null||l.events.filter(c=>c.data.type==="VariableChange"&&!c.data.disabled).forEach(c=>{this.events.push(new sLe(o.uuid,c.data,o,e.page,e.sharedAssets,r))})}),this.propertiesToWatch=this.events.filter(o=>o.data.variableId==="objectProperty"&&o.data.objectId!==null).map(o=>({objectId:o.data.objectId,property:o.data.property,prevValue:null})),this.shared=e.sharedAssets,this.sharedVariables.forEach(({id:o,data:l})=>{if(!("dynamicVariableType"in l)){this.events.find(a=>a.data.variableId===o)&&this.variablesToWatch.push({id:o,prevValue:this.shared.getVariable(o)});return}let c;if(l.dynamicVariableType==="timer"||l.dynamicVariableType==="stopwatch"){let a;if(ra.isTextValue(l.value)&&Array.isArray(l.value.textValue)){let s=l.value.textValue;s.length===3?a=s[2]+s[1]*60+s[0]*3600:a=s[1]+s[0]*60}else a=l.value;c=a,this.dynamicVars.push({id:o,last:-1,expectedTime:-1,data:l,timerSeconds:a,startValue:c})}else l.dynamicVariableType==="time"&&this.shared.updateVariable(o,s9(new Date,l)),l.dynamicVariableType==="counter"&&(c=ra.isTextValue(l.value)?IB(l.value.textValue):l.value),this.dynamicVars.push({id:o,last:-1,expectedTime:-1,data:l,startValue:c})})}pause(){this.pauseTime=Date.now()}resume(){let e=Date.now()-this.pauseTime;for(let t=0;t<this.dynamicVars.length;t++)this.dynamicVars[t].last+=e,this.dynamicVars[t].expectedTime+=e}connect(){this.rafId=window.requestAnimationFrame(this.onFrame),window.addEventListener("blur",this.onBlur),window.addEventListener("focus",this.onFocus)}disconnect(){window.removeEventListener("blur",this.onBlur),window.removeEventListener("focus",this.onFocus),this.rafId&&(window.cancelAnimationFrame(this.rafId),this.rafId=void 0),this.events.forEach(e=>e.dispose())}},sLe=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.actions=lo(t,t.actions,n,i,o,r)}dispatch(){let e=this.actions;e.Audio.forEach(t=>t.dispatchConditional()),e.Video.forEach(t=>t.dispatchConditional()),e.Create.forEach(t=>t.dispatch()),e.Destroy.forEach(t=>t.dispatch()),e.Reset.forEach(t=>t.dispatch()),e.Transition.forEach(t=>{t.object.currentTransitionEvent!==this&&(t.object.currentTransitionEvent=this),t.init()}),e.Transition.forEach(t=>t.play()),e.Animation.forEach(t=>t.play()),e.SwitchCamera.forEach(t=>t.play()),e.SceneTransition.forEach(t=>t.dispatch()),e.SetVariable.forEach(t=>t.checkConditions()),e.SetVariable.forEach(t=>t.dispatch()),e.DynamicVariablePlay.forEach(t=>t.dispatch())}dispose(){si(this.actions)}};function IB(e){return e.length===3?e[2]+e[1]*60+e[0]*3600:e[1]+e[0]*60}var lLe="https://unpkg.com/@splinetool/runtime@0.9.526/build/",cLe="https://unpkg.com/@splinetool/navmesh-wasm@0.9.526/build/",uLe=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import('${lLe}' + 'navmesh.js'),
		fetch('${cLe}' + 'navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,dLe=`
(async function() {
	const [wasmImport, wasmBinary] = await Promise.all([
		import(self.location.origin + '/_libraries/navmesh.js'),
		fetch(self.location.origin + '/_libraries/navmesh.wasm').then((res) => res.arrayBuffer()),
	]);
	const wasmModule = wasmImport.default;
	self.module = await wasmModule({ wasmBinary });
	postMessage('ready');
})();
`,hLe=`

onmessage = function(messageEvent) {
	const meshData = messageEvent.data;
	const positions = meshData[0];
	const offset = meshData[1];
	const indices = meshData[2];
	const indicesLength = meshData[3];
	const parameters = meshData[4];

	const module = self.module;
	const rc = new module.rcConfig();
	rc.cs = parameters.cs;
	rc.ch = parameters.ch;
	rc.borderSize = parameters.borderSize ? parameters.borderSize : 0;
	rc.tileSize = parameters.tileSize ? parameters.tileSize : 0;
	rc.walkableSlopeAngle = parameters.walkableSlopeAngle;
	rc.walkableHeight = parameters.walkableHeight;
	rc.walkableClimb = parameters.walkableClimb;
	rc.walkableRadius = parameters.walkableRadius;
	rc.maxEdgeLen = parameters.maxEdgeLen;
	rc.maxSimplificationError = parameters.maxSimplificationError;
	rc.minRegionArea = parameters.minRegionArea;
	rc.mergeRegionArea = parameters.mergeRegionArea;
	rc.maxVertsPerPoly = parameters.maxVertsPerPoly;
	rc.detailSampleDist = parameters.detailSampleDist;
	rc.detailSampleMaxError = parameters.detailSampleMaxError;

	if (!self.navMesh) {
		self.navMesh = new module.NavMesh();
	}
	self.navMesh.build(positions, offset, indices, indicesLength, rc);

	const navmeshData = navMesh.getNavmeshData();
	const arrView = new Uint8Array(module.HEAPU8.buffer, navmeshData.dataPointer, navmeshData.size);
	const ret = new Uint8Array(navmeshData.size);
	ret.set(arrView);
	navMesh.freeNavmeshData(navmeshData);

	postMessage(ret);
}
`,pLe=.001,fLe={cs:6,ch:2,walkableSlopeAngle:90,walkableHeight:20,walkableClimb:5,walkableRadius:0,maxEdgeLen:12,maxSimplificationError:1.3,minRegionArea:8,mergeRegionArea:20,maxVertsPerPoly:6,detailSampleDist:6,detailSampleMaxError:1},NK,Yt,pi;mPe.then(e=>{NK=e,Yt=new e.Vec3,pi=new e.Vec3});var mLe=new L,gLe=class{constructor(e=!1,t=!1){this.usePhysics=e,this.isExport=t,this.onPointerDown=r=>{if(xt.length!==1)return;let{raycaster:n,page:i}=this.eventContext;this.eventContext.updateRaycaster(r);let o=i.raycastWithClones(n);if(o.length!==0){if(this.gameControl){let l=mLe.copy(this.gameControl.colliderWorldPosition);l.y-=this.gameControl.colliderHeight/2,this.gameControl.path=this.computePath(l,o[0].point)}this.eventContext.requestRender()}},this.traverseWithPhysics=(r,n)=>i=>{var h,p,m,f,g,v,x;let o;if(i instanceof Ss)if(i.objectForSample){if(i.objectForSample.dataPatched.physics.fusedBody)return;o=i.object}else return i.object.dataPatched.physics.fusedBody===!0&&i.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(i instanceof ji)o=i.object;else if(o=i,((h=o.dataPatched.cloner)==null?void 0:h.disabled)===!1&&((p=o.dataPatched.cloner)==null?void 0:p.hideBase)&&((m=o.dataPatched.physics)==null?void 0:m.fusedBody)!==!0)return!0;if(n&&!o.userData.navmesh)return;let l=o.dataPatched;if(!l.visible&&((f=l.physics)==null?void 0:f.enabled)!==!0)return!0;i.updateMatrixWorldSVD();let c=G_(l),a=o.userData.hasDestroy,s=o.userData.hasDrag,u=!1,d=!1;for(let y of l.events)y.data.disabled!==!0&&(y.data.type==="GameControl"?u=!0:y.data.type==="Follow"&&(d=!0));if(u||c||d||a||s)return!0;if(this.usePhysics&&((g=l.physics)==null?void 0:g.rigidBody)==="dynamic"){if(this.usePhysics&&((v=l.physics)!=null&&v.fusedBody))return!0}else if("geometry"in i&&i.geometry&&r.push(oc(i.geometry,i.matrixWorld)),this.usePhysics&&((x=l.physics)==null?void 0:x.fusedBody))return i.traverseObject((y,b)=>{var S,E;if(b===0)return;let w;if(y instanceof Ss)if(y.objectForSample){if(y.objectForSample.dataPatched.physics.fusedBody)return;w=y.object}else return y.object.dataPatched.physics.fusedBody===!0&&y.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(y instanceof ji)w=y.object;else if(w=y,(S=y.dataPatched.cloner)==null?void 0:S.hideBase)return!0;let _=w.dataPatched;if(!_.visible&&((E=_.physics)==null?void 0:E.enabled)!==!0)return!0;"geometry"in y&&y.geometry&&r.push(oc(y.geometry,y.matrixWorld))}),!0},this.traverseNoPhysics=(r,n)=>i=>{let o;if(i instanceof Ss)return;i instanceof ji?o=i.object:o=i;let l=o.dataPatched;if(l.physics.enabled==="visibility"?!l.visible:!l.physics.enabled)return!0;if(n&&!o.userData.navmesh)return;let c=i.geometry,a=o.userData.hasDestroy===!0,s=o.userData.hasDrag===!0;if(G_(l)||a||s||o.dataPatched.events.some(u=>u.data.disabled!==!0&&u.data.type==="GameControl"))return!0;c&&r.push(oc(c,i.matrixWorld))},this.navmeshWasm=NK,this.navMesh=new this.navmeshWasm.NavMesh,this._workerURL=URL.createObjectURL(new Blob([(t?uLe:dLe)+hLe])),this._worker=new Worker(this._workerURL)}init(e,t,r){this.gameControl=t,this.eventContext=r,this.resolution=e.ch,this.setDefaultQueryExtent(new L().setScalar(e.ch*e.walkableRadius*1.2)),this._worker.onmessage=()=>{this.createNavMesh(r.page,e,n=>{this.buildFromNavmeshData(n.data)})},this.eventContext.renderer.domElement.addEventListener("pointerdown",this.onPointerDown)}createNavMesh(e,t,r){t.objects.forEach(a=>{var u;let s=e.scene.find(a);s.traverseEntity(d=>{d.userData.navmesh=!0}),(u=s.cloner)==null||u.traverseObject(d=>{d.userData.navmesh=!0})});let n=[],i=(this.usePhysics?this.traverseWithPhysics:this.traverseNoPhysics)(n,t.zones==="custom");if(e.traverseChildren(i),t.objects.forEach(a=>{var u;let s=e.scene.find(a);s.traverseEntity(d=>{d.userData.navmesh=void 0}),(u=s.cloner)==null||u.traverseObject(d=>{d.userData.navmesh=void 0})}),n.length===0)return!1;let o=lh(n),{positions:l,triIndices:c}=GS(o.getAttribute("position"),o.getIndex());return this._worker.postMessage([l,l.length/3,c,c.length,{...fLe,...t}]),this._worker.onmessage=r,!0}createDebugNavGeometry(){let e,t,r=this.navMesh.getDebugNavMesh(),n=r.getTriangleCount(),i=new Uint32Array(n*3),o=new Float32Array(n*3*3);for(e=0;e<n*3;e++)i[e]=e;for(e=0;e<n;e++)for(t=0;t<3;t++){let c=r.getTriangle(e).getPoint(t);o[e*9+t*3+0]=c.x,o[e*9+t*3+1]=c.y,o[e*9+t*3+2]=c.z}let l=new lt;return l.setIndex(new St(i,1)),l.setAttribute("position",new St(o,3)),l}getClosestPoint(e){return Yt.x=e.x,Yt.y=e.y,Yt.z=e.z,this.navMesh.getClosestPoint(Yt)}getClosestPointToRef(e,t){Yt.x=e.x,Yt.y=e.y,Yt.z=e.z;let r=this.navMesh.getClosestPoint(Yt);t.set(r.x,r.y,r.z)}getRandomPointAround(e,t){return Yt.x=e.x,Yt.y=e.y,Yt.z=e.z,this.navMesh.getRandomPointAround(Yt,t)}getRandomPointAroundToRef(e,t,r){Yt.x=e.x,Yt.y=e.y,Yt.z=e.z;let n=this.navMesh.getRandomPointAround(Yt,t);r.set(n.x,n.y,n.z)}moveAlong(e,t){return Yt.x=e.x,Yt.y=e.y,Yt.z=e.z,pi.x=t.x,pi.y=t.y,pi.z=t.z,this.navMesh.moveAlong(Yt,pi)}moveAlongToRef(e,t,r){return Yt.x=e.x,Yt.y=e.y,Yt.z=e.z,pi.x=t.x,pi.y=t.y,pi.z=t.z,this.navMesh.moveAlong(Yt,pi)}computePath(e,t){let r=this.getClosestPoint(t);pi.x=r.x,pi.y=r.y,pi.z=r.z,this.getClosestPoint(e);let n=this.navMesh.computePath(Yt,pi),i=n.getPointCount(),o=[];for(let l=0;l<i;l++){let c=n.getPoint(l);o.push(new L(c.x,c.y,c.z))}return o}createCrowd(e,t){return new vLe(this,e,t)}setDefaultQueryExtent(e){Yt.x=e.x,Yt.y=e.y,Yt.z=e.z,this.navMesh.setDefaultQueryExtent(Yt)}getDefaultQueryExtent(){return this.navMesh.getDefaultQueryExtent()}buildFromNavmeshData(e){let t=e.length*e.BYTES_PER_ELEMENT,r=this.navmeshWasm._malloc(t),n=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,r,t);n.set(e);let i=new this.navmeshWasm.NavmeshData;i.dataPointer=n.byteOffset,i.size=e.length,this.navMesh.buildFromNavmeshData(i),this.navmeshWasm._free(n.byteOffset)}getNavmeshData(){let e=this.navMesh.getNavmeshData(),t=new Uint8Array(this.navmeshWasm.HEAPU8.buffer,e.dataPointer,e.size),r=new Uint8Array(e.size);return r.set(t),this.navMesh.freeNavmeshData(e),r}getDefaultQueryExtentToRef(e){let t=this.navMesh.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}dispose(){var e;this.navMesh.destroy(),this._worker.terminate(),URL.revokeObjectURL(this._workerURL),(e=this.eventContext)==null||e.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown)}addCylinderObstacle(e,t,r){return Yt.x=e.x,Yt.y=e.y,Yt.z=e.z,this.navMesh.addCylinderObstacle(Yt,t,r)}addBoxObstacle(e,t,r){return Yt.x=e.x,Yt.y=e.y,Yt.z=e.z,pi.x=t.x,pi.y=t.y,pi.z=t.z,this.navMesh.addBoxObstacle(Yt,pi,r)}removeObstacle(e){this.navMesh.removeObstacle(e)}isSupported(){return this.navmeshWasm!==void 0}},vLe=class{constructor(e,t,r){this.navmeshWasmWrapper=e,this.transforms=[],this.agents=new Array,this.reachRadii=new Array,this._agentDestinationArmed=new Array,this._agentDestination=new Array,this.crowd=new this.navmeshWasmWrapper.navmeshWasm.Crowd(t,r,this.navmeshWasmWrapper.navMesh.getNavMesh())}onReachTarget(e,t){}addAgent(e,t,r){let n=new this.navmeshWasmWrapper.navmeshWasm.dtCrowdAgentParams;n.radius=t.radius,n.height=t.height,n.maxAcceleration=t.maxAcceleration,n.maxSpeed=t.maxSpeed,n.collisionQueryRange=t.collisionQueryRange,n.pathOptimizationRange=t.pathOptimizationRange,n.separationWeight=t.separationWeight,n.updateFlags=7,n.obstacleAvoidanceType=0,n.queryFilterType=0,n.userData=0;let i=this.crowd.addAgent(new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z),n);return this.transforms.push(r),this.agents.push(i),this.reachRadii.push(t.reachRadius?t.reachRadius:t.radius),this._agentDestinationArmed.push(!1),this._agentDestination.push(new L(0,0,0)),i}getAgentPosition(e){return this.crowd.getAgentPosition(e)}getAgentPositionToRef(e,t){let r=this.crowd.getAgentPosition(e);t.set(r.x,r.y,r.z)}getAgentVelocity(e){return this.crowd.getAgentVelocity(e)}getAgentVelocityToRef(e,t){let r=this.crowd.getAgentVelocity(e);t.set(r.x,r.y,r.z)}getAgentNextTargetPath(e){return this.crowd.getAgentNextTargetPath(e)}getAgentNextTargetPathToRef(e,t){let r=this.crowd.getAgentNextTargetPath(e);t.set(r.x,r.y,r.z)}getAgentState(e){return this.crowd.getAgentState(e)}overOffmeshConnection(e){return this.crowd.overOffmeshConnection(e)}agentGoto(e,t){this.crowd.agentGoto(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z));let r=this.agents.indexOf(e);r>-1&&(this._agentDestinationArmed[r]=!0,this._agentDestination[r].set(t.x,t.y,t.z))}agentTeleport(e,t){this.crowd.agentTeleport(e,new this.navmeshWasmWrapper.navmeshWasm.Vec3(t.x,t.y,t.z))}updateAgentParameters(e,t){let r=this.crowd.getAgentParameters(e);t.radius!==void 0&&(r.radius=t.radius),t.height!==void 0&&(r.height=t.height),t.maxAcceleration!==void 0&&(r.maxAcceleration=t.maxAcceleration),t.maxSpeed!==void 0&&(r.maxSpeed=t.maxSpeed),t.collisionQueryRange!==void 0&&(r.collisionQueryRange=t.collisionQueryRange),t.pathOptimizationRange!==void 0&&(r.pathOptimizationRange=t.pathOptimizationRange),t.separationWeight!==void 0&&(r.separationWeight=t.separationWeight),this.crowd.setAgentParameters(e,r)}removeAgent(e){this.crowd.removeAgent(e);let t=this.agents.indexOf(e);t>-1&&(this.agents.splice(t,1),this.transforms.splice(t,1),this.reachRadii.splice(t,1),this._agentDestinationArmed.splice(t,1),this._agentDestination.splice(t,1))}getAgents(){return this.agents}update(e){if(this.navmeshWasmWrapper.navMesh.update(),e<=pLe)return;let t=1/60,r=10;{let n=Math.floor(e/t);n>r&&(n=r),n<1&&(n=1);let i=e/n;for(let o=0;o<n;o++)this.crowd.update(i)}for(let n=0;n<this.agents.length;n++){let i=this.agents[n],o=this.getAgentPosition(i);if(this.transforms[n].copy(o),this._agentDestinationArmed[n]){let l=o.x-this._agentDestination[n].x,c=o.z-this._agentDestination[n].z,a=this.reachRadii[n],s=this._agentDestination[n].y-this.reachRadii[n],u=this._agentDestination[n].y+this.reachRadii[n],d=l*l+c*c;o.y>s&&o.y<u&&d<a*a&&(this.onReachTarget(i,this._agentDestination[n]),this._agentDestinationArmed[n]=!1)}}}setDefaultQueryExtent(e){let t=new this.navmeshWasmWrapper.navmeshWasm.Vec3(e.x,e.y,e.z);this.crowd.setDefaultQueryExtent(t)}getDefaultQueryExtent(){return this.crowd.getDefaultQueryExtent()}getDefaultQueryExtentToRef(e){let t=this.crowd.getDefaultQueryExtent();e.set(t.x,t.y,t.z)}getCorners(e){let t,r=this.crowd.getCorners(e),n=r.getPointCount(),i=[];for(t=0;t<n;t++){let o=r.getPoint(t);i.push(new L(o.x,o.y,o.z))}return i}dispose(){this.crowd.destroy()}};function yLe(e){let t=!1;return e.scene.objects.forEach(r=>{r.data.type==="Page"&&!t&&r.data.publish.gameControlObject&&wy.traverseModuleInstances(e,r.id,(n,i,o)=>{for(let l of o)l.data.type==="GameControl"&&l.data.navmesh.enabled&&(t=!0)})}),t}var bLe={type:"change"},OB={type:"changeZoom"},xLe={type:"changePan"},Jp={type:"start"},ef={type:"end",changed:!0},wLe={type:"end",changed:!1},mA=new Ct,RB=new re,_Le=2*Math.PI,SLe=1e-8,ELe=.01,gA=new L,sx=new re,vA=new L,lx=new Ct,zB=new Re,CLe={type:"requestRender"},BK=class extends wi{constructor(e,t,r={isPlayMode:!1,isExport:!1}){super(),this.object=e,this.domElement=t,this.options=r,this.enabled=!0,this.useKeyEvents=!0,this.enableDamping=!1,this.enableZoom=!0,this.enableRotate=!0,this.enablePan=!0,this.autoRotate=!1,this.rotationLimitsMode=0,this.panLimitsMode=0,this.rotationSoftLimit=2,this.panSoftLimit=2,this.hoverRotatePanMode=0,this.zoomLimitsEnabled=!1,this.mouseButtons=[0,5],this.mouseButtonsPlay=[3,4,5],this.touches=[null,ga.DOLLY_ROTATE,ga.PAN],this.offset=new L,this.eye=new L,this.lastPosition=new L,this.lastQuaternion=new Ct,this.current=new re,this.overShoot=new re,this.overRatio=new re,this.spherical=new RL,this.sphericalDelta=new RL,this.panOffset=new L,this.panLeftV=new L,this.panUpV=new L,this.panV=new L,this.rotateStart=new re,this.rotateEnd=new re,this.rotateDelta=new re,this.panStart=new re,this.panEnd=new re,this.panDelta=new re,this.dollyStart=new re,this.dollyEnd=new re,this.dollyDelta=new re,this.rotationRangeFactor=new re,this.panRangeFactor=new re,this.state=-1,this.zoomChanged=!1,this.isPointerDown=!1,this.isThetaFlipped=!1,this.prevScale=0,this.scale=1,this.gesture=!1,this.timer=-1,this.timerHover=-1,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPhi=0,this.maxPhi=Math.PI,this.minTheta=-1/0,this.maxTheta=1/0,this.minH=0,this.maxH=Math.PI,this.minV=-1/0,this.maxV=1/0,this.autoRotateClockwise=!0,this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.resetHoverEffectOnPointerLeave=!1,this.hasChange=!1,this.useWindowEvents=!1,this.isTouchZoom=!0,this.autoRotateSpeed=2,this.dampingFactor=.125,this.zoomSpeed=2,this.rotateSpeed=1,this.panSpeed=1,this.hoverRotatePanStrength=.1,this.hoverRotateDamping=this.dampingFactor,this.thetaIsFree=!1,this.phiIsFree=!1,this.needsUpdate=!0,this.onCameraChange=n=>{this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange),this.object=n.camera,this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)},this.update=()=>{this.object.updateWorldMatrix(!0,!1),this.object.matrixWorld.decompose(vA,lx,gA),this.offset.copy(vA).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.autoRotate&&this.state===-1&&this.rotateLeft((this.autoRotateClockwise===!0?1:-1)*this.getAutoRotationAngle()),this.rotationLimitsMode!==0&&this.applyLimits(this.sphericalDelta,this.rotationLimitsMode,this.rotationSoftLimit,this.maxTheta,this.minTheta,this.maxPhi,this.minPhi,this.rotationRangeFactor),this.rotationLimitsMode!==2&&(this.spherical.phi+=this.sphericalDelta.phi),(this.rotationLimitsMode!==1||this.autoRotate===!0)&&(this.spherical.theta+=this.sphericalDelta.theta),this.spherical.radius*=this.scale,this.zoomLimitsEnabled&&(this.spherical.radius=Math.max(this.minDistance,Math.min(this.maxDistance,this.spherical.radius))),this.panLimitsMode!==0&&(this.target.applyQuaternion(mA.copy(lx).invert()),this.panOffset.applyQuaternion(mA),this.applyLimits(this.panOffset,this.panLimitsMode,this.panSoftLimit,this.maxH,this.minH,this.maxV,this.minV,this.panRangeFactor),this.target.applyQuaternion(lx),this.panOffset.applyQuaternion(lx)),this.panLimitsMode===2&&(this.panOffset.y=0),this.panLimitsMode===1&&(this.panOffset.x=0),this.state===-1&&!this.gesture?(this.panOffset.multiplyScalar(1-this.dampingFactor),this.target.add(this.panOffset)):(this.target.add(this.panOffset),this.panOffset.set(0,0,0)),this.offset.setFromSpherical(this.spherical),vA.copy(this.target).add(this.offset),this.object.position.copy(this.target).add(this.offset),this.object.parent&&(zB.copy(this.object.parent.matrixWorld).invert(),this.object.position.applyMatrix4(zB));let n=this.spherical.phi%_Le;if(this.eye.copy(this.offset).normalize(),this.object.up.copy(wr.DEFAULT_UP).applyAxisAngle(this.eye,this.object.angleOffsetFromUp),n>0&&n>Math.PI||n<0&&n>-Math.PI?(this.object.up.negate(),this.object.lookAt(this.target),this.object.isUpVectorFlipped=!0):(this.object.lookAt(this.target),this.object.isUpVectorFlipped=!1),this.state===-1||this.enableDamping===!0){let i=this.hoverRotatePanMode===1?this.hoverRotateDamping:this.dampingFactor;this.sphericalDelta.theta*=1-i,this.sphericalDelta.phi*=1-i}else this.sphericalDelta.set(0,0,0);return this.scale=1,this.zoomChanged||this.lastPosition.distanceToSquared(this.object.position)>ELe||8*(1-this.lastQuaternion.dot(this.object.quaternion))>SLe?(this.dispatchEvent(bLe),this.object.dispatchEvent(CLe),this.lastPosition.copy(this.object.position),this.lastQuaternion.copy(this.object.quaternion),this.zoomChanged=!1,!0):(this.isPanOverShoot=!1,this.isRotateOverShoot=!1,this.object.wasMovedBySwitchCameraAction=!1,this.sphericalDelta.set(0,0,0),this.panOffset.set(0,0,0),!1)},this.onPointerDown=n=>{this.enabled!==!1&&(n.pointerType==="touch"||n.pointerType==="pen"&&ta?this.onPointerDownTouch(n):this.onPointerDownMouse(n),this.state!==-1&&(this.isPointerDown=!0,this.dispatchEvent(Jp),this.domElement.addEventListener("pointermove",this.onPointerMove),this.domElement.addEventListener("pointerup",this.onPointerUp),n.stopPropagation(),n.pointerType==="touch"||n.pointerType==="pen"&&ta||this.domElement.setPointerCapture(n.pointerId)))},this.onPointerLeave=n=>{this.resetHoverEffectOnPointerLeave&&!this.useWindowEvents?(this.hoverRotatePanMode===1?(this.sphericalDelta.theta=-this.spherical.theta,this.sphericalDelta.phi=-this.spherical.phi,gA.subVectors(this.position0,this.target0),this.spherical.setFromVector3(gA),this.sphericalDelta.theta+=this.spherical.theta,this.sphericalDelta.phi+=this.spherical.phi,this.sphericalDelta.theta/=8,this.sphericalDelta.phi/=8):this.hoverRotatePanMode===2&&this.panOffset.subVectors(this.target0,this.target).divideScalar(8),this.update()):this.pointerLeaveEvent=n},this.onPointerEnter=n=>{this.resetHoverEffectOnPointerLeave||this.pointerLeaveEvent===void 0?sx.set(n.clientX-this.domElement.clientWidth/2,n.clientY-this.domElement.clientHeight/2):sx.set(n.clientX-this.pointerLeaveEvent.clientX,n.clientY-this.pointerLeaveEvent.clientY),this.hoverRotatePanMode===1?(this.rotateDelta.copy(sx).multiplyScalar(this.rotateSpeed*this.hoverRotatePanStrength).rotateAround(RB,-this.object.angleOffsetFromUp),this.rotateLeft(2*Math.PI*this.rotateDelta.x/this.domElement.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/this.domElement.clientHeight),this.rotateStart.set(n.clientX,n.clientY)):this.hoverRotatePanMode===2&&(this.panDelta.copy(sx).multiplyScalar(this.panSpeed*this.hoverRotatePanStrength),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.set(n.clientX,n.clientY)),this.update()},this.onPointerMove=n=>{this.enabled!==!1&&(this.checkRaycastLock()||(n.pointerType==="touch"||n.pointerType==="pen"&&ta?this.onPointerMoveTouch(n):this.onPointerMoveMouse(n),n.stopPropagation()))},this.onPointerUp=n=>{this.isPointerDown=!1,xt.length===0&&(this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)),xt.length>1&&n.preventDefault(),this.hasChange?this.dispatchEvent(ef):this.dispatchEvent(wLe),this.state=-1,n&&(n.stopPropagation(),n.pointerType==="touch"||n.pointerType==="pen"&&ta||this.domElement.releasePointerCapture(n.pointerId))},this.onPointerDownMouse=n=>{let i;switch(this.useKeyEvents?i=this.mouseButtons[n.button]:i=this.mouseButtonsPlay[n.button],i){case 0:if(n.altKey===!0&&!n.shiftKey&&!Eb(n)){if(this.enableRotate===!1)return;this.handleMouseDownRotate(n),this.state=0}else if(this.key===" "){if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2}break;case 4:if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2;break;case 3:if(Eb(n)||n.shiftKey){if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2}else{if(this.enableRotate===!1)return;this.handleMouseDownRotate(n),this.state=0}break;case 5:if(Eb(n)||n.shiftKey){if(this.enableRotate===!1)return;this.handleMouseDownRotate(n),this.state=0}else{if(this.enablePan===!1)return;this.handleMouseDownPan(n),this.state=2}break;default:this.state=-1}},this.onPointerMoveMouse=n=>{switch(this.state){case 0:if(this.enableRotate===!1)return;this.handleMouseMoveRotate(n);break;case 1:if(this.enableZoom===!1)return;this.handleMouseMoveDolly(n);break;case 2:if(this.enablePan===!1)return;this.handleMouseMovePan(n);break}this.object.wasMovedByUser=!0},this.onPointerDownTouch=n=>{switch(xt.length>1&&n.preventDefault(),this.touches[xt.length-1]){case ga.ROTATE:if(this.enableRotate===!1){this.state=-1;return}this.handleTouchStartRotate(),this.state=3;break;case ga.PAN:if(this.enablePan===!1){this.state=-1;return}this.handleTouchStartPan(),this.state=4;break;case ga.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchStartDollyPan(),this.state=5;break;case ga.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchStartDollyRotate(),this.state=6;break;default:this.state=-1}},this.onPointerMoveTouch=n=>{switch(xt.length>1&&n.preventDefault(),this.state){case 3:if(this.enableRotate===!1)return;this.handleTouchMoveRotate(n),this.update();break;case 4:if(this.enablePan===!1)return;this.handleTouchMovePan(n),this.update();break;case 5:if(this.enableZoom===!1&&this.enablePan===!1)return;this.handleTouchMoveDollyPan(n),this.update();break;case 6:if(this.enableZoom===!1&&this.enableRotate===!1)return;this.handleTouchMoveDollyRotate(n),this.update();break;default:this.state=-1}this.object.wasMovedByUser=!0},this.dispatchEndDebounced=_D(()=>this.dispatchEvent(ef),33),this.onMouseWheel=n=>{this.enabled===!1||this.enableZoom===!1&&this.enablePan===!1||this.checkRaycastLock()||(!this.options.isExport&&this.domElement.clientHeight===document.body.clientHeight&&this.domElement.clientWidth===document.body.clientWidth&&n.preventDefault(),this.dispatchEvent(Jp),this.handleMouseWheel(n),this.dispatchEndDebounced(),this.object.wasMovedByUser=!0)},this.onGesture=n=>{if(n.preventDefault(),this.enabled!==!1&&!this.checkRaycastLock()&&!SD)if(n.type==="gesturechange"){if(this.enableZoom===!1||this.isTouchZoom===!1)return;this.dispatchEvent(Jp),n.scale>this.prevScale?this.dollyIn(this.getZoomScale()):n.scale<this.prevScale&&this.dollyOut(this.getZoomScale()),this.prevScale=n.scale,this.update(),this.object.wasMovedByUser=!0}else this.dispatchEvent(ef)},this.onContextMenu=n=>{n.preventDefault()},this.onTouchEnd=n=>{n.preventDefault()},this.onKeyDown=n=>{this.enabled!==!1&&(this.key=n.key,n.key===" "&&this.dispatchEvent(Jp))},this.onKeyUp=n=>{this.enabled!==!1&&(this.key=void 0,this.state!==-1&&n.key==="Alt"&&this.onPointerUp(xt[0]),n.key===" "&&this.dispatchEvent(ef))},this.onPointerHover=n=>{n.pointerType!=="mouse"||this.enabled===!1||this.state!==-1||this.hoverRotatePanMode===2&&this.isPanOverShoot||this.hoverRotatePanMode===1&&this.isRotateOverShoot||(this.isPointerDown=!0,this.hoverRotatePanMode===2?this.handleMouseMovePan(n,this.hoverRotatePanStrength):this.hoverRotatePanMode===1&&this.handleMouseMoveRotate(n,this.hoverRotatePanStrength))},this.onBeginState=()=>{this.enabled=!1,this.needsUpdate=!1},this.onCompleteState=n=>{n.isfromEntity&&this.options.isPlayMode||(this.enabled=!0,this.needsUpdate=!0,this.object.updateUp(),this.object.getTarget(this.target))},this.target=this.object.getTarget(),this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.quat0=this.object.quaternion.clone(),this.isUpVectorFlipped0=this.object.isUpVectorFlipped,this.offset.copy(this.object.position).sub(this.target),this.spherical.setFromVector3(this.offset),this.object.isUpVectorFlipped&&(this.spherical.phi*=-1,this.spherical.theta-=Math.PI),this.addEventListenersToCamera()}dispatchEvent(e){e.type==="start"?this.hasChange=!1:this.hasChange=!0,super.dispatchEvent(e)}addEventListenersToCamera(){this.object.addEventListener("beginState",this.onBeginState),this.object.addEventListener("completeState",this.onCompleteState),this.object.addEventListener("cameraChange",this.onCameraChange)}removeEventListenersFromCamera(){this.object.removeEventListener("beginState",this.onBeginState),this.object.removeEventListener("completeState",this.onCompleteState),this.object.removeEventListener("cameraChange",this.onCameraChange)}updateUseWindowEvents(e){if(window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("pointermove",this.onPointerHover),this.useWindowEvents=e,this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover)),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let t=this.useWindowEvents?window:this.domElement;t.addEventListener("pointerleave",this.onPointerLeave),t.addEventListener("pointerenter",this.onPointerEnter)}}fromJSON(e,t){this.setEnableDampingSpeed(e.enableDamping),this.enablePan=e.enablePan,this.enableZoom=e.enableZoom,this.enableRotate=e.enableRotate,this.rotationLimitsMode=e.rotationLimitsMode,this.thetaIsFree=e.rotationHorizontalOffset.min===e.rotationHorizontalOffset.max&&e.rotationHorizontalOffset.min===Math.PI,this.phiIsFree=e.rotationVerticalOffset.min===e.rotationVerticalOffset.max&&e.rotationVerticalOffset.min===Math.PI,this.panLimitsMode=e.panLimitsMode,this.panSoftLimit=e.panSoftLimit,this.rotationSoftLimit=e.rotationSoftLimit,this.hoverRotatePanMode=e.hoverRotatePanMode,this.hoverRotateDamping=e.hoverRotateDamping??this.dampingFactor,this.useWindowEvents=t==="window",this.hoverRotatePanMode!==0&&(this.useWindowEvents?window.addEventListener("pointermove",this.onPointerHover):this.domElement.addEventListener("pointermove",this.onPointerHover));let r=e.hoverRotatePanStrength/100;this.hoverRotatePanStrength=r**2,this.zoomLimitsEnabled=e.zoomLimitsEnabled,this.minZoom=e.zoomLimits.min,this.maxZoom=Math.max(e.zoomLimits.min,e.zoomLimits.max),this.minDistance=1e3/e.zoomLimits.max,this.maxDistance=Math.max(this.minDistance,1e3/e.zoomLimits.min),this.autoRotate=e.autoRotate,this.autoRotateSpeed=e.autoRotateSpeed,this.autoRotateClockwise=e.autoRotateClockwise;let n=this.object.getTarget().applyQuaternion(mA.copy(this.object.quaternion).invert());this.minV=-e.panVerticalOffset.min+n.y,this.maxV=e.panVerticalOffset.max+n.y,this.minH=-e.panHorizontalOffset.min+n.x,this.maxH=e.panHorizontalOffset.max+n.x,this.panRangeFactor.set(this.maxH-this.minH,this.maxV-this.minV).divideScalar(2),this.rotationRangeFactor.setScalar(Math.PI).divideScalar(4),this.minPhi=Xs(this.spherical.phi-e.rotationVerticalOffset.min),this.maxPhi=Xs(this.spherical.phi+e.rotationVerticalOffset.max),this.minTheta=Xs(Xs(this.spherical.theta)-e.rotationHorizontalOffset.min),this.maxTheta=Xs(Xs(this.spherical.theta)+e.rotationHorizontalOffset.max),this.isThetaFlipped=this.minTheta>this.maxTheta,e.orbitTouches===1&&(this.touches[0]=ga.ROTATE),e.panTouches===1&&(this.touches[0]=ga.PAN),e.orbitTouches===2&&(this.touches[1]=ga.DOLLY_ROTATE),e.panTouches===2&&(this.touches[1]=ga.DOLLY_PAN),e.orbitTouches===3&&(this.touches[2]=ga.ROTATE),e.panTouches===3&&(this.touches[2]=ga.PAN),this.isTouchZoom=e.isTouchZoom,this.resetHoverEffectOnPointerLeave=e.resetHoverEffectOnPointerLeave??!1}connect(){if(this.domElement.addEventListener("contextmenu",this.onContextMenu),this.domElement.addEventListener("pointerdown",this.onPointerDown),this.domElement.addEventListener("wheel",this.onMouseWheel),window.addEventListener("keydown",this.onKeyDown,!1),window.addEventListener("keyup",this.onKeyUp,!1),this.domElement.addEventListener("gesturestart",this.onGesture),this.domElement.addEventListener("gesturechange",this.onGesture),this.domElement.addEventListener("gestureend",this.onGesture),this.domElement.addEventListener("touchend",this.onTouchEnd),this.hoverRotatePanMode!==0&&!this.useWindowEvents){let e=this.useWindowEvents?window:this.domElement;e.addEventListener("pointerleave",this.onPointerLeave),e.addEventListener("pointerenter",this.onPointerEnter)}this.pointerLeaveEvent=void 0}dispose(){this.removeEventListenersFromCamera(),this.domElement.removeEventListener("contextmenu",this.onContextMenu),this.domElement.removeEventListener("pointerdown",this.onPointerDown),this.domElement.removeEventListener("wheel",this.onMouseWheel),window.removeEventListener("keydown",this.onKeyDown,!1),window.removeEventListener("keyup",this.onKeyUp,!1),this.domElement.removeEventListener("pointermove",this.onPointerHover),window.removeEventListener("pointermove",this.onPointerHover),this.domElement.removeEventListener("gesturestart",this.onGesture),this.domElement.removeEventListener("gesturechange",this.onGesture),this.domElement.removeEventListener("gestureend",this.onGesture),this.domElement.removeEventListener("touchend",this.onTouchEnd),this.domElement.removeEventListener("pointerleave",this.onPointerLeave),this.domElement.removeEventListener("pointerenter",this.onPointerEnter),window.removeEventListener("pointerleave",this.onPointerLeave),window.removeEventListener("pointerenter",this.onPointerEnter),this.domElement.removeEventListener("pointermove",this.onPointerMove),this.domElement.removeEventListener("pointerup",this.onPointerUp)}applyLimits(e,t,r,n,i,o,l,c){this.overShoot.set(0,0);let a,s,u;e instanceof L?(a=e.x,s=e.y,this.current.set(this.target.x,this.target.y),u=!0):(a=e.theta,s=e.phi,this.current.set(Xs(this.spherical.theta),Xs(this.spherical.phi)),u=!1),r===0&&(this.current.x+=a,this.current.y+=s),(t===3||t===2)&&(!u&&this.isThetaFlipped?this.current.x>n&&this.current.x<0?this.overShoot.x=n-this.current.x:this.current.x<i&&this.current.x>0&&(this.overShoot.x=i-this.current.x):this.current.x>n?this.overShoot.x=n-this.current.x:this.current.x<i&&(this.overShoot.x=i-this.current.x)),(t===3||t===1)&&(this.current.y>o?this.overShoot.y=o-this.current.y:this.current.y<l&&(this.overShoot.y=l-this.current.y)),u||(this.overShoot.x=Xs(this.overShoot.x),this.overShoot.y=Xs(this.overShoot.y)),r!==0?(this.overRatio.copy(this.overShoot).divide(c),this.overRatio.x=Math.min(Math.abs(this.overRatio.x),1),this.overRatio.y=Math.min(Math.abs(this.overRatio.y),1),r===1&&(this.overRatio.x=LB(Math.abs(this.overRatio.x)),this.overRatio.y=LB(Math.abs(this.overRatio.y))),this.isPointerDown||r===1?r===2&&(this.overRatio.x>.9&&!this.thetaIsFree||this.overRatio.y>.9&&!this.phiIsFree)?this.isPointerDown=!1:(a*this.overShoot.x<0&&!this.thetaIsFree&&(a*=1-this.overRatio.x),s*this.overShoot.y<0&&!this.phiIsFree&&(s*=1-this.overRatio.y)):r===2&&(!u&&(this.overRatio.x>.002&&!this.thetaIsFree||this.overRatio.y>.002&&!this.phiIsFree)||u&&(Math.abs(this.overShoot.x)>2||Math.abs(this.overShoot.y)>2)?(this.thetaIsFree||(a=this.overShoot.x*.05),this.phiIsFree||(s=this.overShoot.y*.05),u?this.isPanOverShoot=!0:this.isRotateOverShoot=!0):u?this.isPanOverShoot=!1:this.isRotateOverShoot=!1)):(a+=this.overShoot.x,s+=this.overShoot.y),e instanceof L?(e.x=a,e.y=s):(this.thetaIsFree||(e.theta=a),this.phiIsFree||(e.phi=s))}setEnableDampingSpeed(e){this.enableDamping=e,this.rotateSpeed=e===!0?.2:1}stopDamping(){this.sphericalDelta.theta=0,this.sphericalDelta.phi=0}getAutoRotationAngle(){return 2*Math.PI/60/60*this.autoRotateSpeed}getZoomScale(){return Math.pow(.95,this.zoomSpeed)}rotateLeft(e){this.sphericalDelta.theta-=e}rotateUp(e){this.sphericalDelta.phi-=e}panLeft(e,t){this.panLeftV.setFromMatrixColumn(t,0),this.panLeftV.multiplyScalar(-e),this.panOffset.add(this.panLeftV)}panUp(e,t){this.panUpV.setFromMatrixColumn(t,1),this.panUpV.multiplyScalar(e),this.panOffset.add(this.panUpV)}pan(e,t){let r=this.domElement;if(r&&this.object.isPerspectiveCamera){let n=this.object.position;this.panV.copy(n).sub(this.target);let i=this.panV.length();i*=Math.tan(this.object.fov/2*Math.PI/180),this.panLeft(2*e*i/r.clientHeight,this.object.matrixWorld),this.panUp(2*t*i/r.clientHeight,this.object.matrixWorld)}else r&&this.object.isOrthographicCamera&&(this.panLeft(e*(this.object.right-this.object.left)/this.object.zoom/r.clientWidth,this.object.matrixWorld),this.panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/r.clientHeight,this.object.matrixWorld));this.dispatchEvent(xLe)}dollyOut(e){this.object.isPerspectiveCamera?this.scale/=e:this.object.isOrthographicCamera&&(this.object.zoom*=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(OB)}dollyIn(e){this.object.isPerspectiveCamera?this.scale*=e:this.object.isOrthographicCamera&&(this.object.zoom/=e,this.zoomLimitsEnabled&&(this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom))),this.object.updateProjectionMatrix(),this.zoomChanged=!0),this.dispatchEvent(OB)}zoomOut(e=this.getZoomScale()){this.dispatchEvent(Jp),this.dollyOut(e),this.dispatchEvent(ef)}zoomIn(e=this.getZoomScale()){this.dispatchEvent(Jp),this.dollyIn(e),this.dispatchEvent(ef)}handleMouseDownRotate(e){this.rotateStart.set(e.clientX,e.clientY)}handleMouseDownDolly(e){this.dollyStart.set(e.clientX,e.clientY)}handleMouseDownPan(e){this.panStart.set(e.clientX,e.clientY)}handleMouseMoveRotate(e,t=1){e.movementX!==void 0?this.rotateDelta.set(e.movementX,e.movementY):(this.rotateEnd.set(e.clientX,e.clientY),this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart),this.rotateStart.copy(this.rotateEnd)),this.rotateDelta.multiplyScalar(this.rotateSpeed*t).rotateAround(RB,-this.object.angleOffsetFromUp);let r=this.domElement,n=this.useWindowEvents?window.innerHeight:r.clientHeight,i=2*Math.PI*this.rotateDelta.x/n,o=2*Math.PI*this.rotateDelta.y/n;this.rotateLeft(i),this.rotateUp(o),this.update()}handleMouseMoveDolly(e){this.dollyEnd.set(e.clientX,e.clientY),this.dollyDelta.subVectors(this.dollyEnd,this.dollyStart),this.dollyDelta.y>0?this.dollyOut(this.getZoomScale()):this.dollyDelta.y<0&&this.dollyIn(this.getZoomScale()),this.dollyStart.copy(this.dollyEnd),this.update()}handleMouseMovePan(e,t=1){e.movementX!==void 0?this.panDelta.set(e.movementX,e.movementY):(this.panEnd.set(e.clientX,e.clientY),this.panDelta.subVectors(this.panEnd,this.panStart),this.panStart.copy(this.panEnd)),this.panDelta.multiplyScalar(this.panSpeed*t),this.pan(this.panDelta.x,this.panDelta.y),this.update()}handleMouseWheel(e){if(uPe===!1&&Eb(e)===!1&&ALe(e)===!0){if(this.enablePan===!1)return;this.gesture?(this.panDelta.set(-e.deltaX,-e.deltaY).multiplyScalar(this.panSpeed),this.panDelta.x=Math.min(Math.abs(this.panDelta.x),100)*(this.panDelta.x<0?-1:1),this.panDelta.y=Math.min(Math.abs(this.panDelta.y),100)*(this.panDelta.y<0?-1:1),e.altKey?this.pan(0,this.panDelta.y):e.shiftKey?this.pan(this.panDelta.x,0):this.pan(this.panDelta.x,this.panDelta.y),this.update()):(this.gesture=!0,this.isPointerDown=!0),window.clearTimeout(this.timer),this.timer=window.setTimeout(()=>{this.gesture=!1,this.isPointerDown=!1},30)}else{if(this.enableZoom===!1)return;e.deltaY===0?e.deltaX<0?this.dollyIn(this.getZoomScale()):e.deltaX>0&&this.dollyOut(this.getZoomScale()):e.deltaY<0?this.dollyIn(this.getZoomScale()):e.deltaY>0&&this.dollyOut(this.getZoomScale()),this.update(),this.gesture=!1,this.isPointerDown=!1}}handleTouchStartRotate(){if(xt.length===2){let e=.5*(xt[0].pageX+xt[1].pageX),t=.5*(xt[0].pageY+xt[1].pageY);this.rotateStart.set(e,t)}else this.rotateStart.set(xt[0].pageX,xt[0].pageY)}handleTouchStartPan(){if(xt.length===2){let e=.5*(xt[0].pageX+xt[1].pageX),t=.5*(xt[0].pageY+xt[1].pageY);this.panStart.set(e,t)}else this.panStart.set(xt[0].pageX,xt[0].pageY)}handleTouchStartDolly(){let e=xt[0].pageX-xt[1].pageX,t=xt[0].pageY-xt[1].pageY,r=Math.sqrt(e*e+t*t);this.dollyStart.set(0,r)}handleTouchStartDollyPan(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enablePan&&this.handleTouchStartPan()}handleTouchStartDollyRotate(){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchStartDolly(),this.enableRotate&&this.handleTouchStartRotate()}handleTouchMoveRotate(e){if(xt.length===2){let r=uC(e),n=.5*(e.pageX+r.x),i=.5*(e.pageY+r.y);this.rotateEnd.set(n,i)}else{if(e.pointerId!==xt[0].pointerId)return;this.rotateEnd.set(e.pageX,e.pageY)}this.rotateDelta.subVectors(this.rotateEnd,this.rotateStart).multiplyScalar(this.rotateSpeed);let t=this.domElement;t&&(this.rotateLeft(2*Math.PI*this.rotateDelta.x/t.clientHeight),this.rotateUp(2*Math.PI*this.rotateDelta.y/t.clientHeight)),this.rotateStart.copy(this.rotateEnd)}handleTouchMovePan(e){if(xt.length===2){let t=uC(e),r=.5*(e.pageX+t.x),n=.5*(e.pageY+t.y);this.panEnd.set(r,n)}else{if(e.pointerId!==xt[0].pointerId)return;this.panEnd.set(e.pageX,e.pageY)}this.panDelta.subVectors(this.panEnd,this.panStart).multiplyScalar(this.panSpeed),this.pan(this.panDelta.x,this.panDelta.y),this.panStart.copy(this.panEnd)}handleTouchMoveDolly(e){let t=uC(e),r=e.pageX-t.x,n=e.pageY-t.y,i=Math.sqrt(r*r+n*n);this.dollyEnd.set(0,i),this.dollyDelta.set(0,Math.pow(this.dollyEnd.y/this.dollyStart.y,this.zoomSpeed)),this.dollyOut(this.dollyDelta.y),this.dollyStart.copy(this.dollyEnd)}handleTouchMoveDollyPan(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enablePan&&this.handleTouchMovePan(e)}handleTouchMoveDollyRotate(e){this.enableZoom&&this.isTouchZoom===!0&&this.handleTouchMoveDolly(e),this.enableRotate&&this.handleTouchMoveRotate(e)}checkRaycastLock(){var e;if(this.object.data.raycastLock){if(this.options.isPlayMode)return!1;{let t=(e=this.options)==null?void 0:e.showCameraLock;return t&&t(),!0}}else return!1}};function Xs(e){let t=Math.PI*2;for(;e<=-Math.PI;)e+=t;for(;e>Math.PI;)e-=t;return e}function LB(e){return 1-Math.pow(1-e,4)}function ALe(e){return e.wheelDeltaY===0||e.deltaY===0?NS&&e.shiftKey&&Math.abs(e.wheelDeltaX)>=120?!1:e.wheelDeltaX?e.wheelDeltaX===-3*e.deltaX||e.wheelDeltaX===-3*window.devicePixelRatio*e.deltaX:e.deltaMode===0:e.wheelDeltaY?e.wheelDeltaY===-3*e.deltaY||e.wheelDeltaY===-3*window.devicePixelRatio*e.deltaY:e.deltaMode===0}var NB=class{constructor(e,t,r,n,i,o){this.id=e,this.data=t,this.object=r,this.page=n,this.currentIntersectedObjects=[],this.disabled=!1,this.alreadyPlayedNonTogglingActions=new Set,this.actions=lo(t,t.actions,n,i,o,r),this.target=t.target,this.useToggle=t.runMode==="Toggle",this.triggeringObjects=t.triggeringObjects.map(l=>n.scene.find(l))}isValidTriggeringObject(e){return this.target==="all"?!0:this.triggeringObjects.some(t=>t===e||t.isAncestorOf(e.uuid)||e.isAncestorOf(t.uuid))}disconnect(){si(this.actions)}dispatch(){this.disabled||this.object.destroyedInAction||(this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this?(e.object.currentTransitionEvent=this,e.init()):this.data.runMode==="Once"&&this.alreadyPlayedNonTogglingActions.add(e)}),this.object.dispatchEvent({type:"beginEvent",eventName:"Trigger"}),this.useToggle?(this.actions.Transition.forEach(e=>{e.toggle()}),this.actions.SwitchCamera.forEach(e=>{e.toggle()})):(this.actions.Transition.forEach(e=>{this.alreadyPlayedNonTogglingActions.has(e)===!1&&e.play()}),this.actions.SwitchCamera.forEach(e=>{e.play()})),this.actions.Link.forEach(e=>{e.dispatch()}),this.actions.Reset.forEach(e=>{e.dispatch()}),this.actions.Create.forEach(e=>{e.dispatch()}),this.actions.Destroy.forEach(e=>{e.dispatch(!1)}),this.actions.Audio.forEach(e=>{e.dispatchBasic()}),this.actions.Video.forEach(e=>{e.dispatchBasic()}),this.actions.SceneTransition.forEach(e=>{e.dispatch()}),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch()))}},rr;vPe.then(e=>rr=e);var kn=new L,us=new Ct,lu=new L,yA=new oi(0,0,0,"YXZ"),BB=new oi(0,0,0,"XYZ"),ds=new L,bA=new L,xA=new L(1,1,1),tf=new Ct,cx=new Re,FB=new Re,MLe={type:"updateMatrix"},UB=new Ct,wA=new Bo,c4={type:"beginEvent",eventName:"Collision"},TLe={type:"beginEvent",eventName:"Trigger"};function PLe(e){if(wy.physicsEnabled(e.scene.objects))return!0;let t=!1;return e.scene.objects.traverse((r,n)=>{if(n.events){if(Array.isArray(n.events)){for(let i of n.events)if(i.data.disabled!==!0&&i.data.type==="GameControl"&&i.data.collisionEnabled){t=!0;break}}else for(let i of Object.values(n.events))if(i.disabled!==!0&&i.type==="GameControl"&&i.collisionEnabled){t=!0;break}}}),t}var G_=e=>e.states.some(t=>t.data.position!==void 0||t.data.rotation!==void 0||t.data.hiddenMatrix!==void 0||t.data.cloner!==void 0||t.data.pathSnapping!==void 0),kLe=class{constructor(e){this.eventContext=e,this.isEnabled=!1,this.gameControl=null,this.joysticks=[],this.joystickToGameControls=[],this.sharedGameControlGlobals={entitiesWithTransformAnim:[],entityToCollisionEvents:{},colliderToEntity:new Map,triggers:[],gamePads:[],createdObjects:[],nCreatedPerAction:{}},this.sensorToTriggerEvent={},this.eventManager=void 0,this.needsCollisionDetection=!1,this.initializationCounter=-1,this.rigidBodyToMesh=new Map,this.nActiveRigidBodies=0,this.collisionEvents=[],this.isExport=!1,this.processRigidBody=t=>{if(t.bodyType()!==rr.RigidBodyType.Dynamic)return;t.isSleeping()||this.nActiveRigidBodies++;let[r,n,i]=this.rigidBodyToMesh.get(t.handle);if(kn.copy(t.translation()).multiplyScalar(this.pixelsPerMeter),us.copy(t.rotation()),r.matrixWorld.compose(kn,us,n),r.hasNonUniformScale&&r.matrixWorld.multiply(r.shearScale),r.dispatchEvent(MLe),i){let o=r.cloner;if(o&&o.objectForSample===void 0){o.matrixWorld.copy(r.matrixWorld);for(let l of o.children)l.updateMatrixWorld(!0)}for(let l of r.children)l.updateMatrixWorld(!0)}},this.accumulator=0,this.handleCollisionEvents=(t,r,n)=>{var l,c,a,s;if(n===!1)return;let i,o;if(this.sensorToTriggerEvent[t]?(i=this.sensorToTriggerEvent[t],o=this.sharedGameControlGlobals.colliderToEntity.get(r)):this.sensorToTriggerEvent[r]&&(i=this.sensorToTriggerEvent[r],o=this.sharedGameControlGlobals.colliderToEntity.get(t)),i&&o&&i.isValidTriggeringObject(o)){i.dispatch();return}for(let u=this.sharedGameControlGlobals.createdObjects.length-1;u>=0;u--){let d=this.sharedGameControlGlobals.createdObjects[u];if(d.userData.hasCollisionDestroy&&(((l=d.rigidBody)==null?void 0:l.collider(0).handle)===t||((c=d.rigidBody)==null?void 0:c.collider(0).handle)===r)){this.sharedGameControlGlobals.createdObjects.splice(u,1),d.removeFromParent(),requestAnimationFrame(()=>{var h;return(h=this.sharedGameControlGlobals.rapierWorld)==null?void 0:h.removeRigidBody(d.rigidBody)});break}}if(((a=this.gameControl)==null?void 0:a.object)===this.sharedGameControlGlobals.colliderToEntity.get(t)){let u=this.sharedGameControlGlobals.colliderToEntity.get(r),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d===void 0)return;for(let h of d)h.data.target==="character"&&this.dispatchCollisionEvent(h,u,r)}else if(((s=this.gameControl)==null?void 0:s.object)===this.sharedGameControlGlobals.colliderToEntity.get(r)){let u=this.sharedGameControlGlobals.colliderToEntity.get(t),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d===void 0)return;for(let h of d)h.data.target==="character"&&this.dispatchCollisionEvent(h,u,t)}else{let u=this.sharedGameControlGlobals.colliderToEntity.get(t),d=this.sharedGameControlGlobals.entityToCollisionEvents[u.uuid];if(d!==void 0)for(let m of d)m.data.target==="scene"&&this.dispatchCollisionEvent(m,u,t);let h=this.sharedGameControlGlobals.colliderToEntity.get(r),p=this.sharedGameControlGlobals.entityToCollisionEvents[h==null?void 0:h.uuid];if(p!==void 0)for(let m of p)m.data.target==="scene"&&this.dispatchCollisionEvent(m,h,r)}},this.isExport=e.isExport,this.sharedAssets=e.sharedAssets,this.renderer=e.renderer,this.requestRender=e.requestRender,this.domElement=this.renderer.domElement,this.pixelsPerMeter=kK,this.gravity=this.page.data.globalPhysics.gravity}get page(){return this.eventContext.page}attachVRControllers(e){e.forEach(t=>{t.addEventListener("connected",r=>{"gamepad"in r.data&&"axes"in r.data.gamepad&&this.sharedGameControlGlobals.gamePads.push(r.data.gamepad)})})}markIsDestroyTarget(){this.page.traverseVisibleEntity(e=>{var r,n;let t=e.dataPatched;for(let i of t.events){if(i.data.disabled===!0)continue;let o=(n=(r=i.data.actions)==null?void 0:r.find(l=>l.data.type==="Destroy"))==null?void 0:n.data;if(o)for(let l of o.objects){let c=this.page.scene.find(l);c&&(c.userData.hasDestroy=!0)}}})}markIsDragObject(){this.page.traverseVisibleEntity(e=>{let t=e.dataPatched;for(let r of t.events)if(!(r.data.disabled===!0||r.data.type!=="DragDrop"))for(let n of r.data.objects){let i=this.page.scene.find(n);i&&(i.userData.hasDrag=!0)}})}initBVH(){let e=[];if(this.page.traverseChildren(t=>{var c,a;let r;if(t instanceof Ss)return;t instanceof ji?r=t.object:r=t;let n=r.dataPatched;if(((c=n.physics)==null?void 0:c.enabled)==="visibility"?!n.visible:!((a=n.physics)!=null&&a.enabled))return!0;let i=t.geometry,o=r.userData.hasDestroy===!0,l=r.userData.hasDrag===!0;if(G_(n)||o||l||r.dataPatched.events.some(s=>s.data.disabled!==!0&&s.data.type==="GameControl"))return t.updateMatrixWorldSVD(),this.addBoundsTree(t),!0;i&&e.push(oc(i,t.matrixWorld))}),e.length>0){let t=lh(e,!1);this.sharedGameControlGlobals.staticMeshBVH=new _v(t)}}addRigidBody(e,t,r){let n=[],i="geometry"in e?e.geometry:void 0,o=t.dataPatched;if((i==null?void 0:i.getAttribute("position"))!==void 0&&n.push(oc(i,e.shearScale)),o.physics.fusedBody){let l=this.gatherChildrenGeom(e,n);e.traverseObject(l),e.children.forEach(a=>a.updateMatrixWorld(!0));let c=e.cloner;c&&c.objectForSample===void 0&&o.physics.rigidBody==="dynamic"&&(c.traverseObject(l),c.children.forEach(a=>a.updateMatrixWorld(!0)))}if(n.length>0){let l,c=!r.fromCreate&&o.physics.rigidBody==="dynamic"||r.fromCreate&&r.dynamic;c?(l=rr.RigidBodyDesc.dynamic(),l.setLinearDamping(o.physics.damping).setAngularDamping(o.physics.damping).setAdditionalMass(1e-9).setGravityScale(o.physics.gravityScale).enabledRotations(...o.physics.enabledRotation).enabledTranslations(...o.physics.enabledTranslation)):(r.hasTransformAnim||r.hasFollow||r.hasDrag)&&!r.fromCreate?(l=rr.RigidBodyDesc.kinematicPositionBased(),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)):l=rr.RigidBodyDesc.fixed();let a=lh(n);(e.hasNonUniformScale?e.matrixWorldRigid:e.matrixWorld).decompose(kn,us,lu),e.position0=kn.clone().divideScalar(this.pixelsPerMeter),e.rotation0=us.clone(),kn.divideScalar(this.pixelsPerMeter),l.setTranslation(kn.x,kn.y,kn.z).setRotation(us),i?a==null||a.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter):a==null||a.scale(lu.x/this.pixelsPerMeter,lu.y/this.pixelsPerMeter,lu.z/this.pixelsPerMeter);let s=this.sharedGameControlGlobals.rapierWorld.createRigidBody(l);c&&this.rigidBodyToMesh.set(s.handle,[e,lu.clone(),o.physics.fusedBody]);let u=!(o.geometry===void 0||o.geometry.type==="SubdivGeometry"||o.geometry.type==="NonParametricGeometry"||o.geometry.type==="BooleanGeometry"||o.geometry.type==="VectorGeometry"||o.geometry.type==="StarGeometry"||o.geometry.type==="RectangleGeometry"||o.geometry.type==="EllipseGeometry"||o.geometry.type==="TriangleGeometry"||o.geometry.type==="TorusGeometry"||o.geometry.type==="HelixGeometry");try{this.addCollider(s,o.physics,a,t,u)}catch{try{this.addCollider(s,o.physics,a,t,!1)}catch(d){console.error(d)}}e.rigidBody=s}}addBoundsTree(e){var r,n;let t=[];if(((r=e.geometry)==null?void 0:r.getAttribute("position"))!==void 0&&((n=e.geometry)==null?void 0:n.getAttribute("position").count)>0&&t.push(oc(e.geometry,e.shearScale)),e.traverseObject(this.gatherChildrenGeom(e,t)),e.children.forEach(i=>i.updateMatrixWorld(!0)),t.length>0){let i=lh(t,!1);e.bvhGeometry=i,e.bvhGeometry.boundsTree=new _v(i),this.sharedGameControlGlobals.entitiesWithTransformAnim.push(e)}}addCollider(e,t,r,n,i=!0){var c,a;if((r==null?void 0:r.getAttribute("position").count)===0||((c=r==null?void 0:r.getIndex())==null?void 0:c.count)===0)return;let o;r&&(t.colliderType==="trimesh"?o=rr.ColliderDesc.trimesh(r.getAttribute("position").array,r.getIndex().array):o=rr.ColliderDesc.convexMesh(r.getAttribute("position").array,i?r.getIndex().array:void 0)),o.setFrictionCombineRule(rr.CoefficientCombineRule.Average).setRestitutionCombineRule(rr.CoefficientCombineRule.Average).setDensity(t.density).setFriction(t.friction).setRestitution(t.restitution);let l=this.sharedGameControlGlobals.rapierWorld.createCollider(o,e);this.sharedGameControlGlobals.colliderToEntity.set(l.handle,n),(a=this.sharedGameControlGlobals.entityToCollisionEvents[n.uuid])!=null&&a.some(s=>s.target==="scene")&&l.setActiveEvents(rr.ActiveEvents.COLLISION_EVENTS)}gatherChildrenGeom(e,t){return(r,n)=>{var c;if(n===0)return;let i;if(r instanceof Ss)if(r.objectForSample){if(r.objectForSample.dataPatched.physics.fusedBody)return;i=r.object}else return r.object.dataPatched.physics.fusedBody===!0&&r.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(r instanceof ji)i=r.object;else if(i=r,(c=i.dataPatched.cloner)==null?void 0:c.hideBase)return!0;let o=i.dataPatched;if(o.physics.enabled==="visibility"?!o.visible:!o.physics.enabled)return!0;n===1?e.hasNonUniformScale?r.matrixWorld.multiplyMatrices(e.shearScale,r.hiddenMatrix):r.matrixWorld.copy(r.hiddenMatrix):r.matrixWorld.multiplyMatrices(r.parent.matrixWorld,r.hiddenMatrix),r.matrixWorld.multiply(r.matrix);let l=r.geometry;(l==null?void 0:l.getAttribute("position"))!==void 0&&t.push(oc(l,r.matrixWorld))}}activate(e){var h,p;if(this.isEnabled)return;this.isEnabled=!0,this.eventManager=e,this.usePhysics=this.page.data.globalPhysics.usePhysics;let t=this.page.playCamera,r=!1,n=5,i=8,o=9,l="drag",c=this.page.data.publish.gameControlObject,a=c!==null?this.page.find(c):null,s=null;if(a)for(let m of a.data.events){if(m.data.disabled||m.data.type!=="GameControl")break;let f=a;for(;this.usePhysics&&((h=f=f.parent)==null?void 0:h.parent)!==null&&!((p=f.data.physics)!=null&&p.fusedBody););m.data.collisionEnabled&&(this.needsCollisionDetection=!0),s===null&&(s=m.data)}if(this.page.traverseEntity(m=>{for(let f of m.dataPatched.events)if(f.data.disabled===!1&&f.data.type==="Trigger")return this.needsCollisionDetection=!0,!0}),a&&s){r=r||s.camera===t.uuid||a.uuid===t.uuid;let m=new DK(a,this.renderer.domElement,s,this.eventContext.page.data.globalPhysics,this,a.uuid!==t.uuid&&s.camera===t.uuid,t,this.page,this.sharedAssets);this.gameControl=m,n=s.joystickPosLoc,i=s.joystickRotLoc,o=s.jumpTouchButtonLoc,l=s.rotByTouch,ta&&s.touchControl&&(this.joystickToGameControls[n]="pos",s.moveMode==="walk"&&(this.joystickToGameControls[o]="jmp"),l==="joystick"&&(this.joystickToGameControls[i]="rot"))}if(this.gameControl&&this.gameControl.data.navmesh.enabled){let m=this.gameControl.data;if(!this.navigationMeshWrapper){this.navigationMeshWrapper=new gLe(this.usePhysics,this.isExport);let f;m.collider.type==="sphere"?f=m.collider.radius*2:f=m.collider.height,f=Math.floor(f/m.navmesh.ch-1),this.navigationMeshWrapper.init({...m.navmesh,walkableHeight:f},this.gameControl,this.eventContext)}}if(r===!1){let{enableRotate:m,enablePan:f,enableZoom:g,autoRotate:v,hoverRotatePanMode:x}=this.eventManager.publish.orbitControls;(m||f||g||v||x!==0)&&(this.orbitControls=new BK(t,this.renderer.domElement,{isExport:this.isExport,isPlayMode:!0}),this.orbitControls.addEventListener("change",this.requestRender),this.orbitControls.addEventListener("end",this.requestRender),this.orbitControls.addEventListener("start",this.requestRender),this.orbitControls.fromJSON(this.eventManager.publish.orbitControls,this.eventManager.publish.mouseEventTarget),this.orbitControls.useKeyEvents=!1,this.orbitControls.addEventListenersToCamera(),this.orbitControls.connect(),this.orbitControls.update())}let u=this.renderer.domElement.width/this.renderer.getPixelRatio(),d=this.renderer.domElement.height/this.renderer.getPixelRatio();this.joystickToGameControls.forEach((m,f)=>{let g=document.body.appendChild(document.createElement("div")),[v,x,y]=this.eventManager.eventContext.publish.joystickSizeAndXYOffset[f],b=(u-5*v)/4+v,w={},_=m==="jmp",S=_?0:v;f<10?(f<5?w.top=S/2:w.bottom=S/2,w.left=S/2+f%5*b):f===10?(w.left=S/2,w.top=d/2):(w.right=S/2,w.top=d/2),w.top?w.top-=x[1]:w.bottom+=x[1],w.left?w.left+=x[0]:w.right-=x[0];for(let C in w)w[C]+="px";if(_){let C=g.appendChild(document.createElement("div"));Object.assign(C.style,w,{position:"absolute",width:v+"px",height:v+"px",backgroundColor:`rgba(255,255,255,${y==="show"?.4:0})`,zIndex:"9999",borderRadius:v+"px",border:y==="show"?"solid 2px rgba(0, 0, 0, .1)":"none",display:"flex",alignItems:"center",justifyContent:"center",touchAction:"none"});let M=v/16*16*.4;y==="show"&&(C.innerHTML=`
						<svg width="${M}" height="${v*.4}" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
							<path d="M2 10L8 4L14 10" stroke="black" stroke-opacity="40%" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
						</svg>
					`),C.addEventListener("pointerdown",()=>{this.gameControl.movementState.jump=1,this.requestRender()}),C.addEventListener("touchend",T=>T.preventDefault()),this.joysticks[f]=[void 0,g];return}let E={zone:g,mode:"static",position:w,size:v};y==="hide"&&(E.restOpacity=0);let A=YOe.create(E);A.on("move",(C,M)=>{let T=this.gameControl;m==="pos"?M.force<.2?T.moveForce=0:(T.movementState.movePosZ=Math.sin(-M.angle.radian),T.movementState.movePosX=Math.cos(-M.angle.radian),M.force>1.2?T.movementState.run=1:T.movementState.run=0,M.force<.3?T.moveForce=(M.force-.2)/.1:T.moveForce=1):m==="rot"&&(M.force<.2?T.rotForce=0:(T.movementState.rotPosX=M.vector.y,T.movementState.rotPosY=-M.vector.x,M.force<.3?T.rotForce=(M.force-.2)/.1:T.rotForce=1)),this.requestRender()}),A.on("end",(C,M)=>{let T=this.gameControl;m==="pos"?(T.movementState.movePosZ=0,T.movementState.movePosX=0,T.moveForce=1):m==="rot"&&(T.movementState.rotPosX=0,T.movementState.rotPosY=0,T.rotForce=1)}),this.joysticks[f]=[A,g]}),this.markIsDestroyTarget(),this.markIsDragObject(),this.rebuildBVH(),this.initializationCounter++,window.setTimeout(()=>{this.collisionEvents.forEach(m=>m.disabled=!1)},80)}initPhysics(){var l;(l=this.sharedGameControlGlobals.rapierWorld)==null||l.free(),this.sharedGameControlGlobals.rapierWorld=new rr.World(new rr.Vector3(0,this.gravity,0)),this.events=new rr.EventQueue(!0);let e=[],t=[];if(this.page.traverseChildren(c=>{var v,x,y,b;let a;if(c instanceof Ss)if(c.objectForSample){if(c.objectForSample.dataPatched.physics.fusedBody)return;a=c.object}else return c.object.dataPatched.physics.fusedBody===!0&&c.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(c instanceof ji)a=c.object;else if(a=c,((v=a.dataPatched.cloner)==null?void 0:v.disabled)===!1&&((x=a.dataPatched.cloner)==null?void 0:x.hideBase)&&((y=a.dataPatched.physics)==null?void 0:y.fusedBody)!==!0)return!0;let s=a.dataPatched,u;for(let w of s.events)w.data.disabled!==!0&&w.data.type==="GameControl"&&(u=w.data);if(!s.physics||(s.physics.enabled==="visibility"?!s.visible:!s.physics.enabled))return!0;c.updateMatrixWorldSVD();let d=G_(s),h=!1,p=a.userData.hasDestroy,m=a.userData.hasDrag,f=!1;for(let w of s.events)if(w.data.disabled!==!0){if(w.data.type==="Collision"){h=!0;let _=new oLe(w.id,w.data,a,this.page,this.sharedAssets,this.eventManager);_.disabled=!0,this.collisionEvents.push(_),this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid]&&this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid].every(S=>S.id!==w.id)?this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid].push(_):this.sharedGameControlGlobals.entityToCollisionEvents[a.uuid]=[_]}else if(w.data.type==="Follow"){f=!0;let _=w.data.target;c.traverseVisible(S=>{S.userData.isFollowingObj=_})}}s.physics.rigidBody==="dynamic"&&s.physics.fusedBody===!1&&(c.matrixWorldFusedFalse=c.matrixWorld.clone());let g=c.geometry;if(u!==void 0){let w=rr.RigidBodyDesc.kinematicPositionBased();(c.hasNonUniformScale?c.matrixWorldRigid:c.matrixWorld).decompose(kn,us,lu),c.position0=kn.clone().divideScalar(this.pixelsPerMeter),c.rotation0=us.clone(),kn.divideScalar(this.pixelsPerMeter),w.setTranslation(kn.x,kn.y,kn.z).setRotation(us);let _=this.sharedGameControlGlobals.rapierWorld.createRigidBody(w);c.rigidBody=_;let S;u.collider.type==="sphere"?S=rr.ColliderDesc.ball(u.collider.radius/this.pixelsPerMeter):u.collider.type==="capsule"?S=rr.ColliderDesc.capsule((u.collider.height/2-u.collider.radius)/this.pixelsPerMeter,u.collider.radius/this.pixelsPerMeter):S=rr.ColliderDesc.cuboid(u.collider.width/this.pixelsPerMeter/2,u.collider.height/this.pixelsPerMeter/2,u.collider.depth/this.pixelsPerMeter/2),S.setFrictionCombineRule(rr.CoefficientCombineRule.Average).setRestitutionCombineRule(rr.CoefficientCombineRule.Average).setDensity(s.physics.density).setFriction(s.physics.friction).setRestitution(s.physics.restitution);let E=this.sharedGameControlGlobals.rapierWorld.createCollider(S,_);this.sharedGameControlGlobals.colliderToEntity.set(E.handle,a),kn.fromArray(u.collider.position).multiply(lu.setFromMatrixScale(a.matrixWorld)).divideScalar(this.pixelsPerMeter),E.setTranslationWrtParent(kn);let A=new Ct().setFromEuler(new oi().setFromVector3(new L().fromArray(u.collider.rotation)));E.setRotationWrtParent(A),E.setActiveEvents(rr.ActiveEvents.COLLISION_EVENTS),this.generateSensorColliderDescs(a,!0)}else s.physics.rigidBody==="dynamic"||d||f||p||m||h?(this.addRigidBody(c,a,{hasFollow:f,hasTransformAnim:d,hasDrag:m}),this.generateSensorColliderDescs(a,s.physics.fusedBody)):(g&&e.push(oc(g,c.matrixWorld)),s.physics.fusedBody&&c.traverseObject((w,_)=>{var C;if(_===0)return;let S;if(w instanceof Ss)if(w.objectForSample){if(w.objectForSample.dataPatched.physics.fusedBody)return;S=w.object}else return w.object.dataPatched.physics.fusedBody===!0&&w.object.dataPatched.physics.rigidBody==="dynamic"?!0:void 0;else if(w instanceof ji)S=w.object;else if(S=w,(C=S.dataPatched.cloner)==null?void 0:C.hideBase)return!0;let E=S.dataPatched;if(E.physics.enabled==="visibility"?!E.visible:!E.physics.enabled)return!0;let A=w.geometry;(A==null?void 0:A.getAttribute("position"))!==void 0&&e.push(oc(A,w.matrixWorld))}),this.generateSensorColliderDescs(a,s.physics.fusedBody,t));if(((b=s.physics)==null?void 0:b.fusedBody)===!0||u)return!0}),e.length===0)return;let r=lh(e);r.scale(1/this.pixelsPerMeter,1/this.pixelsPerMeter,1/this.pixelsPerMeter);let n=rr.RigidBodyDesc.fixed(),i=this.sharedGameControlGlobals.rapierWorld.createRigidBody(n),o=rr.ColliderDesc.trimesh(r.getAttribute("position").array,r.getIndex().array).setFrictionCombineRule(rr.CoefficientCombineRule.Multiply).setRestitutionCombineRule(rr.CoefficientCombineRule.Multiply).setFriction(1).setRestitution(1);this.sharedGameControlGlobals.rapierWorld.createCollider(o,i);for(let[c,a]of t){let s=this.sharedGameControlGlobals.rapierWorld.createCollider(c,i);this.sensorToTriggerEvent[s.handle]=a}}updatePositions(){return this.nActiveRigidBodies=0,this.sharedGameControlGlobals.rapierWorld.forEachRigidBody(this.processRigidBody),this.nActiveRigidBodies>0}rebuildBVH(){this.usePhysics?this.initPhysics():(this.page.traverseEntity(e=>{for(let t of e.dataPatched.events)if(t.data.type==="Trigger"&&t.data.disabled!==!0){let r=new NB(t.id,t.data,e,this.page,this.sharedAssets,this.eventManager),n=new Re().compose(ds.fromArray(t.data.position),tf.setFromEuler(BB.fromArray(t.data.rotation)),xA);if(t.data.triggerZone==="box"){let i=new Cn;i.min.fromArray(t.data.size).multiplyScalar(-.5),i.max.fromArray(t.data.size).multiplyScalar(.5),this.sharedGameControlGlobals.triggers.push([i,n,e,r])}else this.sharedGameControlGlobals.triggers.push([t.data.radius,n,e,r])}}),this.needsCollisionDetection&&this.initBVH())}disconnectEvents(){this.collisionEvents.forEach(e=>e.disconnect()),this.sharedGameControlGlobals.triggers.forEach(e=>e[3].disconnect()),this.sharedGameControlGlobals.triggers.length=0}deactivate(){var e,t,r,n;if(this.isEnabled){this.isEnabled=!1,this.page.traverse(i=>{let o=i;o.matrixWorldFusedFalse&&(o.matrixWorldFusedFalse=void 0),o.rigidBody&&(o.rigidBody=void 0),o.position0&&(o.position0=void 0),o.rotation0&&(o.rotation0=void 0)}),(e=this.sharedGameControlGlobals.rapierWorld)==null||e.free(),this.sharedGameControlGlobals.rapierWorld=void 0,this.sharedGameControlGlobals.staticMeshBVH=void 0,this.accumulator=0,this.sharedGameControlGlobals.entitiesWithTransformAnim=[],this.disconnectEvents(),(t=this.gameControl)==null||t.reset(),(r=this.gameControl)==null||r.dispose(),this.gameControl=null,this.initializationCounter=-1,this.joysticks.forEach(([i,o])=>{i==null||i.destroy(),o.remove()}),this.joystickToGameControls=[],this.joysticks=[],this.orbitControls&&(this.orbitControls.dispose(),this.orbitControls=void 0),(n=this.navigationMeshWrapper)==null||n.dispose(),this.navigationMeshWrapper=void 0;for(let i of Object.values(this.sharedGameControlGlobals.entityToCollisionEvents))i.forEach(o=>o.disconnect());this.sharedGameControlGlobals.entityToCollisionEvents={},this.page.updateMatrixWorld(!0)}}update(e,t,r){if(!this.isEnabled)return!0;let n=!0;if(this.orbitControls!==void 0&&this.orbitControls.needsUpdate&&(n=!this.orbitControls.update()),this.initializationCounter>=0&&this.initializationCounter<2?(this.initializationCounter++,n=!1):this.initializationCounter===2&&this.gameControl&&(n=!this.gameControl.update(e,t,r)&&n),this.usePhysics===!1&&this.checkTrigger(),this.usePhysics){let i=.016666666666666666;if(e===0)n=this.stepPhysics()&&n;else{let o=e/1e3;o<i&&o>i*.55&&(o=i),this.accumulator+=o;let l=performance.now(),c=0,a=6;for(;this.accumulator>=i&&c<a&&(n=this.stepPhysics()&&n,this.accumulator-=i,c++,!(performance.now()-l>i*1e3)););this.accumulator=this.accumulator%i}}return n}stepPhysics(){var e;for(let t of this.sharedGameControlGlobals.entitiesWithTransformAnim){(t.hasNonUniformScale?t.matrixWorldRigid:t.matrixWorld).decompose(kn,us,lu),yA.setFromQuaternion(us);let r=t;r.prevR===void 0?(r.prevR=yA.clone(),r.prevT=kn.clone()):(r.prevR.copy(yA),r.prevT.copy(kn)),t.rigidBody&&(t.rigidBody.setNextKinematicTranslation(kn.divideScalar(this.pixelsPerMeter)),t.rigidBody.setNextKinematicRotation(us))}return this.sharedGameControlGlobals.rapierWorld.step(this.events),(e=this.events)==null||e.drainCollisionEvents(this.handleCollisionEvents),!this.updatePositions()}dispatchCollisionEvent(e,t,r){var o;let n=((o=this.sharedGameControlGlobals.rapierWorld)==null?void 0:o.getCollider(r))._parent,i;if(t.cloner){for(let l of t.cloner.children)if(l.rigidBody===n){i=l;break}}e.dispatch(i),t.dispatchEvent(c4)}updateUseWindowEvents(e){var t;(t=this.orbitControls)==null||t.updateUseWindowEvents(e)}generateSensorColliderDescs(e,t,r){let n=FB.copy(e.matrixWorld).invert();e.traverseEntity((i,o)=>{if(t===!1&&o===1)return!0;for(let l of i.dataPatched.events)if(l.data.type==="Trigger"&&l.data.disabled!==!0){let c=new NB(l.id,l.data,i,this.page,this.sharedAssets,this.eventManager),a;if(l.data.triggerZone==="box"?a=rr.ColliderDesc.cuboid(...l.data.size.map(s=>s/(2*this.pixelsPerMeter))):a=rr.ColliderDesc.ball(l.data.radius/this.pixelsPerMeter),a.setDensity(0).setSensor(!0).setActiveEvents(rr.ActiveEvents.COLLISION_EVENTS),ds.fromArray(l.data.position),tf.setFromEuler(BB.fromArray(l.data.rotation)),cx.compose(ds,tf,xA).premultiply(i.matrixWorld),r?(cx.decompose(ds,tf,bA),a.setActiveCollisionTypes(rr.ActiveCollisionTypes.KINEMATIC_FIXED|rr.ActiveCollisionTypes.DYNAMIC_FIXED)):(cx.premultiply(n).decompose(ds,tf,bA),e.rigidBody.bodyType()===rr.RigidBodyType.Dynamic||(e.rigidBody.bodyType()===rr.RigidBodyType.Fixed?a.setActiveCollisionTypes(rr.ActiveCollisionTypes.KINEMATIC_FIXED|rr.ActiveCollisionTypes.DYNAMIC_FIXED):a.setActiveCollisionTypes(rr.ActiveCollisionTypes.KINEMATIC_KINEMATIC|rr.ActiveCollisionTypes.DYNAMIC_KINEMATIC))),ds.divideScalar(this.pixelsPerMeter),a.setTranslation(ds.x,ds.y,ds.z),a.setRotation(tf),r)r.push([a,c]);else{let s=this.sharedGameControlGlobals.rapierWorld.createCollider(a,e.rigidBody);this.sensorToTriggerEvent[s.handle]=c}}})}checkTrigger(){let e;for(let t=0;t<this.sharedGameControlGlobals.triggers.length;t++){let[r,n,i,o]=this.sharedGameControlGlobals.triggers[t];for(let l=0;l<this.sharedGameControlGlobals.entitiesWithTransformAnim.length;l++){let c=this.sharedGameControlGlobals.entitiesWithTransformAnim[l];if(i===c||o.isValidTriggeringObject(Jt.is(c)?c:c.object)===!1)continue;let a=FB.copy(i.matrixWorld).decompose(ds,UB,bA).compose(ds,UB,xA).multiply(n),s=cx.copy(c.matrixWorld).invert().multiply(a);r instanceof Cn?e=c.bvhGeometry.boundsTree.intersectsBox(r,s):(wA.radius=r,wA.center.setFromMatrixPosition(s),e=c.bvhGeometry.boundsTree.intersectsSphere(wA)),e?o.currentIntersectedObjects.indexOf(c)===-1&&(o.currentIntersectedObjects.push(c),o.dispatch(),i.dispatchEvent(TLe)):o.currentIntersectedObjects=o.currentIntersectedObjects.filter(u=>u!==c)}}}};function DLe(e){let t=this._clip.duration,r=this._clip.start??0,n=this.loop,i=this.time+e,o=this._loopCount,l=n===V5;if(e===0)return o===-1?i:l&&(o&1)===1?t-(i-r):i;if(n===uq){o===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=t)i=t;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(o===-1&&(e>=0?(o=0,this._setEndings(!0,this.repetitions===0,l)):this._setEndings(this.repetitions===0,!0,l)),i>=t||i<r){let c=Math.floor((i-r)/(t-r));i-=(t-r)*c,o+=Math.abs(c);let a=this.repetitions-o;if(a<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l||(i=e>0?t:r,this.repetitions===1&&(i=t)),this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(a===1){let s=e<0;this._setEndings(s,!s,l)}else this._setEndings(!1,!1,l);this._loopCount=o,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:c})}}else this.time=i;if(l&&(o&1)===1)return t-(i-r)}return i}var VB=!1,jLe=class{constructor(e,t,r,n){this.scene=e,this.requestRender=t,this.updateDisplayProgress=r,this.animationInspectorState=n,this.clipIdToAction={},this.activeClip=null,this.needsUpdate=!1,this.addClip=i=>{i.data.type==="Empty"&&i.data.animations&&i.data.animations.forEach((o,l)=>{let c=o[0]+"/";if(Array.isArray(i.identity)?c+=i.identity[0]:c+=i.uuid,this.clipIdToAction[c])return;let a=IT.parse(JSON.parse(o[2]));i.animations[l]=a;let s=this.mixer.clipAction(a,i);VB===!1&&(Object.getPrototypeOf(s)._updateTime=DLe,VB=!0),s.clampWhenFinished=!0,this.clipIdToAction[c]=s})},this.mixer=new j_e(e),this.scene.traverseEntity(this.addClip)}deleteClip(e,t){let r=this.scene.find(t);if(!r)return;let n=r.animations.find(o=>o.uuid===e);if(!n)return;let i=this.clipIdToAction[e];!i||(i.stop(),this.mixer.uncacheClip(n),delete this.clipIdToAction[e],r.animations=r.animations.filter(o=>o.uuid!==e))}get isPlaying(){return Object.values(this.clipIdToAction).some(e=>e.isRunning())}playFromInspector(e){this.mixer.stopAllAction();let t=this.clipIdToAction[e];!t||(t.play(),this.activeClip=t.getClip(),this.requestRender())}onExitPlayMode(){Object.values(this.clipIdToAction).forEach(e=>{e.repetitions=1/0,e.loop=dq}),this.mixer.stopAllAction(),this.requestRender()}play(e){let t=e.clipId+"/"+e.object,r=this.clipIdToAction[t];if(r)return e&&(e.repeat>=0&&(r.repetitions=e.repeat+1),e.direction==="pingpong"&&e.repeat!==0&&(r.loop=V5)),r.play(),r.paused=!1,this.requestRender(),r}resumeFromInspector(e){let t=this.clipIdToAction[e];!t||(t.play(),t.paused=!1,this.requestRender())}pauseFromInspector(e){let t=this.clipIdToAction[e];!t||(t.paused=!0)}stop(){this.mixer.stopAllAction(),this.requestRender()}update(e){var t;if(this.needsUpdate)this.needsUpdate=!1;else if(this.isPlaying===!1||(t=this.animationInspectorState)!=null&&t.isScrubbing)return;this.mixer.update(e/1e3),this.activeClip&&this.updateDisplayProgress(Math.round(this.mixer.time/this.activeClip.duration*this.maxFrames%this.maxFrames)),this.requestRender()}get maxFrames(){var e,t;return((t=(e=this.activeClip)==null?void 0:e.tracks[0])==null?void 0:t.times.length)??0}setProgressFromInspector(e,t){if(!this.clipIdToAction[t])return;this.activeClip!==this.clipIdToAction[t].getClip()&&this.playFromInspector(t);let r=this.clipIdToAction[t].paused;this.clipIdToAction[t].paused=!1,this.mixer.setTime(Math.min(this.maxFrames?e/this.maxFrames:0,.9999)*this.activeClip.duration),this.requestRender(),r&&(this.clipIdToAction[t].paused=!0)}},_A=new WeakMap,ILe=class extends rD{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,r,n){let i=new OT(this.manager);i.setPath(this.path),i.setResponseType("arraybuffer"),i.setRequestHeader(this.requestHeader),i.setWithCredentials(this.withCredentials),i.load(e,o=>{this.decodeDracoFile(o,t).catch(n)},r,n)}decodeDracoFile(e,t,r,n){let i={attributeIDs:r||this.defaultAttributeIDs,attributeTypes:n||this.defaultAttributeTypes,useUniqueIDs:!!r};return this.decodeGeometry(e,i).then(t)}decodeGeometry(e,t){let r=JSON.stringify(t);if(_A.has(e)){let c=_A.get(e);if(c.key===r)return c.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let n,i=this.workerNextTaskID++,o=e.byteLength,l=this._getWorker(i,o).then(c=>(n=c,new Promise((a,s)=>{n._callbacks[i]={resolve:a,reject:s},n.postMessage({type:"decode",id:i,taskConfig:t,buffer:e},[e])}))).then(c=>this._createGeometry(c.geometry));return l.catch(()=>!0).then(()=>{n&&i&&this._releaseTask(n,i)}),_A.set(e,{key:r,promise:l}),l}_createGeometry(e){let t=new lt;e.index&&t.setIndex(new St(e.index.array,1));for(let r=0;r<e.attributes.length;r++){let n=e.attributes[r],i=n.name,o=n.array,l=n.itemSize;t.setAttribute(i,new St(o,l))}return t}_loadLibrary(e,t){let r=new OT(this.manager);return r.setPath(this.decoderPath),r.setResponseType(t),r.setWithCredentials(this.withCredentials),new Promise((n,i)=>{r.load(e,n,void 0,i)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;let e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(r=>{let n=r[0];e||(this.decoderConfig.wasmBinary=r[1]);let i=OLe.toString(),o=["/* draco decoder */",n,"","/* worker */",i.substring(i.indexOf("{")+1,i.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){let n=new Worker(this.workerSourceURL);n._callbacks={},n._taskCosts={},n._taskLoad=0,n.postMessage({type:"init",decoderConfig:this.decoderConfig}),n.onmessage=function(i){let o=i.data;switch(o.type){case"decode":n._callbacks[o.id].resolve(o);break;case"error":n._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(n)}else this.workerPool.sort(function(n,i){return n._taskLoad>i._taskLoad?-1:1});let r=this.workerPool[this.workerPool.length-1];return r._taskCosts[e]=t,r._taskLoad+=t,r})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}};function OLe(){let e,t;onmessage=function(l){let c=l.data;switch(c.type){case"init":e=c.decoderConfig,t=new Promise(function(u){e.onModuleLoaded=function(d){u({draco:d})},DracoDecoderModule(e)});break;case"decode":let a=c.buffer,s=c.taskConfig;t.then(u=>{let d=u.draco,h=new d.Decoder,p=new d.DecoderBuffer;p.Init(new Int8Array(a),a.byteLength);try{let m=r(d,h,p,s),f=m.attributes.map(g=>g.array.buffer);m.index&&f.push(m.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:m},f)}catch(m){console.error(m),self.postMessage({type:"error",id:c.id,error:m.message})}finally{d.destroy(p),d.destroy(h)}});break}};function r(l,c,a,s){let u=s.attributeIDs,d=s.attributeTypes,h,p,m=c.GetEncodedGeometryType(a);if(m===l.TRIANGULAR_MESH)h=new l.Mesh,p=c.DecodeBufferToMesh(a,h);else if(m===l.POINT_CLOUD)h=new l.PointCloud,p=c.DecodeBufferToPointCloud(a,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());let f={index:null,attributes:[]};for(let g in u){let v=self[d[g]],x,y;if(s.useUniqueIDs)y=u[g],x=c.GetAttributeByUniqueId(h,y);else{if(y=c.GetAttributeId(h,l[u[g]]),y===-1)continue;x=c.GetAttribute(h,y)}f.attributes.push(i(l,c,h,g,v,x))}return m===l.TRIANGULAR_MESH&&(f.index=n(l,c,h)),l.destroy(h),f}function n(l,c,a){let s=a.num_faces()*3,u=s*4,d=l._malloc(u);c.GetTrianglesUInt32Array(a,u,d);let h=new Uint32Array(l.HEAPF32.buffer,d,s).slice();return l._free(d),{array:h,itemSize:1}}function i(l,c,a,s,u,d){let h=d.num_components(),p=a.num_points()*h,m=p*u.BYTES_PER_ELEMENT,f=o(l,u),g=l._malloc(m);c.GetAttributeDataArrayForAllPoints(a,d,f,m,g);let v=new u(l.HEAPF32.buffer,g,p).slice();return l._free(g),{name:s,array:v,itemSize:h}}function o(l,c){switch(c){case Float32Array:return l.DT_FLOAT32;case Int8Array:return l.DT_INT8;case Int16Array:return l.DT_INT16;case Int32Array:return l.DT_INT32;case Uint8Array:return l.DT_UINT8;case Uint16Array:return l.DT_UINT16;case Uint32Array:return l.DT_UINT32}}}var zu;function RLe(){return zu||(zu=new ILe,zu.setDecoderPath("https://www.gstatic.com/draco/versioned/decoders/1.5.2/").preload()),zu.decoderPending}async function zLe(e){if(zu){let t={attributeIDs:zu.defaultAttributeIDs,attributeTypes:zu.defaultAttributeTypes,useUniqueIDs:!1},r;try{r=await zu.decodeGeometry(new Int8Array(e).buffer,t)}catch(n){console.error(n)}if(r)return{index:r.index?{array:r.index.array}:void 0,attributes:Object.entries(r.attributes).map(([n,i])=>({name:n,itemSize:i.itemSize,array:i.array}))}}return null}async function LLe(e,t){let[r,n]=qY(KT.deserialize(new Uint8Array(e)));v$(r);let i=[];r.scene.objects.traverse((o,l)=>{l.type==="Mesh"&&l.geometry.type==="NonParametricGeometry"&&l.geometry.data.draco!==void 0&&i.push(l)}),i.length&&await RLe();for(let o of i){let l=await zLe(Fn(o.geometry.data.draco));if(l){l.index&&(o.geometry.data.index={array:l.index.array,itemSize:1,normalized:!1,type:"Uint32Array"});let c={};l.attributes.forEach(({name:a,array:s,itemSize:u})=>{c[a]={array:s,itemSize:u,type:"Float32Array",normalized:!1}}),o.geometry.data.attributes=c,o.geometry.data.draco=void 0}}return n.result().data}var NLe=class{constructor(e,t,r,n,i,o,l){this.id=e,this.data=t,this.dataEvent=r,this.object=n,this.stage=!1,this.actions=lo(r,t.actions,i,o,l,n)}disconnect(){si(this.actions)}dispatchIn(){this.actions.Audio.forEach(e=>e.dispatchBasic()),this.actions.Video.forEach(e=>e.dispatchBasic()),this.actions.Create.forEach(e=>e.dispatch()),this.actions.Destroy.forEach(e=>e.dispatch()),this.actions.Reset.forEach(e=>e.dispatch()),this.actions.Link.forEach(e=>e.dispatch()),this.actions.Transition.forEach(e=>{e.object.currentTransitionEvent!==this&&(e.object.currentTransitionEvent=this,e.init())}),this.actions.Transition.forEach(e=>e.toggle()),this.actions.Animation.forEach(e=>e.play()),this.actions.SwitchCamera.forEach(e=>e.play()),this.actions.SceneTransition.forEach(e=>e.dispatch()),this.actions.SetVariable.forEach(e=>e.checkConditions()),this.actions.SetVariable.forEach(e=>e.dispatch()),this.actions.DynamicVariablePlay.forEach(e=>e.dispatch())}dispatchOut(){this.actions.Transition.forEach(e=>{e.toggle()})}},BLe=class extends zs{constructor(e,t){super(e),this.eventManager=t,this.breakpoints=[],this.resize=(r,n)=>{this.breakpoints.forEach(i=>{let o=eP.deviceToSize(i.data.size),l=i.dataEvent.orientation==="horizontal"?r:n,c;switch(i.data.operator){case"<":c=l<o[0];break;case">":c=l>o[0];break;case"<>":c=l>o[0]&&l<o[1];break}i.stage!==c&&(i.stage=c,i.stage?i.dispatchIn():i.dispatchOut())})},this.onResizeObserver=new ResizeObserver(r=>{for(let n of r){let{width:i,height:o}=n.contentRect;this.resize(i,o)}})}connect(){let{page:e,sharedAssets:t,domElement:r}=this.eventContext;this.onResizeObserver.observe(r),e.traverseEntity(n=>{var i;if(!(!n.visible||!((i=n.data)!=null&&i.events.length)))for(let{data:o}of n.data.events)o.disabled||o.type==="Resize"&&o.breakpoints.forEach(({data:l,id:c})=>{try{let a=new NLe(c,l,o,n,e,t,this.eventManager);this.breakpoints.push(a)}catch{}})})}disconnect(){this.onResizeObserver.disconnect(),this.breakpoints.forEach(e=>{e.disconnect()}),this.breakpoints=[]}},FLe=class{constructor(e,t,r,n,i){this.publish=e,this.controlsManager=t,this.animationControls=r,this.eventContext=n,this.sharedVariables=i,this.isEnabled=!1,this.activateCount=0,this.needsMouse=!1,this.needsRaycast=!1,this.onTouchMovePreventScroll=o=>{(o.touches.length>1||this.preventTouchScroll)&&o.preventDefault()},this.onMouseWheelPreventScroll=o=>{this.preventScroll&&o.preventDefault()},this.onMouseMove=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:o.buttons>0}},this.onMouseDown=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:!0}},this.onMouseUp=o=>{this.eventContext.sharedAssets.mouseProperty={...this.getMousePosition(o),pressed:!1}},this.getMousePosition=o=>{var s;let{domRect:l}=this.eventContext,{pageX:c,pageY:a}=((s=o.touches)==null?void 0:s.length)>0?o.touches[0]:o;return{x:c-(l.left+window.scrollX),y:a-(l.top+window.scrollY)}},this.stopRaycast=e.stopRaycast,this.preventScroll=e.preventScroll,this.preventTouchScroll=e.preventTouchScroll,this.hideCursor=e.hideCursor,this.requestRender=n.requestRender}activate(){if(this.isEnabled)return;this.isEnabled=!0,this.initializeActionsDependentStates(),this.needsMouse&&(this.eventContext.domElement.addEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.addEventListener("pointerdown",this.onMouseDown)),this.handlers={Spline:new Tze(this.eventContext),DynamicVariable:new aLe(this.eventContext,this.sharedVariables,this,this.needsMouse,this.needsRaycast),Conditional:new Rze(this.eventContext,this),Start:new iLe(this.eventContext,this),Basic:new kze(this.eventContext,this,this.needsRaycast),MouseHover:new Jze(this.eventContext,this),Scroll:new rLe(this.eventContext,this),Follow:new Gze(this.eventContext,this),DragDrop:new Fze(this.eventContext,this),LookAt:new Kze(this.eventContext),Resize:new BLe(this.eventContext,this)};let{page:e,domElement:t,eventElement:r}=this.eventContext;this.hideCursor&&(t.style.cursor="none"),e.traverseEntity(n=>{n.addEventListener("requestRender",this.requestRender)}),Object.values(this.handlers).forEach(n=>n.connect()),t.addEventListener("wheel",this.onMouseWheelPreventScroll),t.addEventListener("touchmove",this.onTouchMovePreventScroll),this.activateCount++}deactivate(){var r;if(!this.isEnabled)return;this.isEnabled=!1,this.eventContext.domElement.removeEventListener("pointermove",this.onMouseMove),this.eventContext.domElement.removeEventListener("pointerdown",this.onMouseDown),this.eventContext.domElement.removeEventListener("pointerup",this.onMouseUp),this.eventContext.sharedAssets.mouseProperty=null,this.eventContext.sharedAssets.raycastProperty=null;let{page:e,domElement:t}=this.eventContext;t.style.cursor="",Object.values(this.handlers).forEach(n=>n.disconnect()),(r=this.controlsManager.gameControl)==null||r.disposeActions(),this.controlsManager.disconnectEvents(),e.traverseEntity(n=>{n.removeEventListener("requestRender",this.requestRender),n.destroyedInAction=!1}),t.removeEventListener("touchmove",this.onTouchMovePreventScroll),t.removeEventListener("wheel",this.onMouseWheelPreventScroll),this.animationControls.onExitPlayMode()}get isPaused(){return this.isEnabled}pause(){this.deactivate()}resume(){this.activate()}reset(){this.deactivate(),this.activate(),this.controlsManager.page.updateMatrixWorld(!0),this.controlsManager.rebuildBVH()}updateUseWindowEvents(e){let t=this.isEnabled;t&&this.deactivate(),this.eventContext.useWindowEvents=e,t&&this.activate()}initializeActionsDependentStates(){let e=this.eventContext.sharedAssets;e.resetDynamicVariablePlayState();let t=r=>{if(r.data.type==="Conditional"&&(r.data.ifActions.forEach(t),r.data.elseActions.forEach(t)),r.data.type==="Conditional"||r.data.type==="SetVariable")for(let n of r.data.type==="Conditional"?r.data.condition:r.data.expression)"id"in n&&Array.isArray(n.id)&&(n.id[0]==="mouse"&&(this.needsMouse=!0),n.id[0]==="raycast"&&(this.needsRaycast=!0));r.data.type==="DynamicVariablePlay"&&r.data.variableId!==""&&(r.data.mode==="Play"||r.data.mode==="PlayPause"||r.data.mode==="Toggle")&&e.setDynamicVariablePlayState(r.data.variableId,"Stopped")};this.eventContext.page.traverseEntity(r=>{var n;if((n=r.data)!=null&&n.events.length){for(let i of r.data.events)if(!i.data.disabled)if(i.data.type==="VariableChange"&&(i.data.variableId==="mouseProperty"&&(this.needsMouse=!0),i.data.variableId==="raycastProperty"&&(this.needsRaycast=!0)),i.data.type==="Conditional")for(let o of["inActions","outActions"])i.data[o].forEach(t);else if(i.data.type==="DragDrop")for(let o of["drag","drop"])i.data.dragDropActions[o].forEach(t);else if(i.data.type==="GameControl")for(let o of["idle","move","jump","run"])i.data.gameActions[o].forEach(t);else if(i.data.type==="Resize")for(let o of i.data.breakpoints)o.data.actions.forEach(t);else i.data.type==="LookAt"||i.data.actions.forEach(t)}})}},ULe=class{constructor(e,t,r,n,i){this._aspect=1,this.enableResponsive=!1,this._renderer=e,this._camera=t,this._frameSize=new re().copy(r),this._editorSize=new re().copy(n),this._aspect=t.aspect,this._fov=i??t.fov}set frameSize(e){this._frameSize.copy(e)}updateRenderer(){!this._renderer||this._renderer.setSize(this._frameSize.x,this._frameSize.y)}updateViewport(){if(!this._renderer||!this._camera||this._camera.cameraType!=="PerspectiveCamera")return;let e=this._frameSize.x,t=this._frameSize.y,r=this._editorSize.y;this._aspect=e/t,t<=r&&(this._camera.zoom*=r/t),this._renderer.setViewport(0,0,e,t)}updateCamera(e=!0){if(this._camera)if(this._camera.cameraType==="PerspectiveCamera"){let t=this._frameSize.y,r=this._editorSize.y,n=this._fov;if(e&&t>r){let i=VLe(t,1080,2160,1,15)/100;n*=t/r,n*=1-i}this._camera.aspect=this._aspect,this._camera.fov=n,this._camera.updateProjectionMatrix()}else this._camera.setViewplaneSize(this._frameSize.x,this._frameSize.y,this.enableResponsive)}setCamera(e){this._camera=e,this._aspect=e.aspect,this._fov=e.fov}revert(){let e=window.innerWidth,t=window.innerHeight;this._renderer&&(this._renderer.setViewport(0,0,e,t),this._renderer.setSize(e,t)),this._camera&&(this._camera.aspect=e/t,this._camera.fov=this._fov,this._camera.setViewplaneSize(e,t,this.enableResponsive),this._camera.updateProjectionMatrix())}};function VLe(e,t,r,n,i){return(e-t)/(r-t)*(i-n)+n}var HLe=class{get sharedAssets(){return this.shared}constructor(e,t={}){this.shared=new KD(e.shared,t),this.scene=new oj(e.scene,this.sharedAssets),this.shared.setEntityOpContext({scene:this.scene,shared:this.shared})}reset(e,t){this.scene.clearScene(),this.sharedAssets.reset(e.shared),this.scene.resetAfterClear(e.scene,this.sharedAssets)}resetPersonalCameraFromDocumentData(){for(let e of this.scene.children)e instanceof Ju&&e.personalCamera.updateState(e.data.camera,{scene:this.scene,shared:this.shared})}dispose(){this.scene.dispose(),this.shared.dispose()}gc(){this.shared.geometryCache.startGc(),this.shared.geometryCache2.startGc(),this.scene.traverseEntity(e=>{e instanceof io&&e.markGeometryAsReachable(this.shared)}),this.shared.geometryCache.endGc(),this.shared.geometryCache2.endGc()}},WLe=class{constructor({x:e=10,y:t=10}){this._startTime=0;let r=document.getElementById("spe-perfs");r?this.element=r:(this.element=document.createElement("div"),document.body.appendChild(this.element),this.element.style.position="absolute",this.element.style.zIndex="10000",this.element.style.fontFamily="monospace",this.element.style.background="black",this.element.style.color="white",this.element.style.padding="10px",this.element.style.opacity="0.5",this.element.style.fontSize="11px",this.element.setAttribute("id","spe-perfs")),this.element.style.left=`${e}px`,this.element.style.top=`${t}px`}dispose(){var e;(e=this.element.parentElement)==null||e.removeChild(this.element)}start(){this._startTime=performance.now()}end(){let e=performance.now()-this._startTime;this.element.innerHTML=e.toFixed(3)+" ms"}};function GLe(e){let t;if(e.index)for(let r=0;r<e.index.array.length;r+=3)t=e.index.array[r],e.index.array[r]=e.index.array[r+2],e.index.array[r+2]=t}function Mv(e){return e instanceof Ay?"SubdivObject":e.geometry.type==="NonParametricGeometry"?"NonParametric":"Mesh"}function qLe(e,t){let r={};return e.traverseEntity(n=>{var a;if(!n.visible||!(n instanceof Fo)||n.type!=="Mesh"||Array.isArray(n.material)||n.states&&Object.keys(n.states).length)return;let i=n.parent;for(;i;){if(i instanceof Fo&&n.states&&Object.keys(n.states).length)return;i=i.parent}let o=n.material.uuid,l=t.shared.materials[o];if(l){if(!Oi.isMergable(l))return}else{let s=(a=t.scene.objects.get(n.uuid))==null?void 0:a.data;if(s&&"material"in s&&typeof s.material!="string"){if(!Oi.isMergable(s.material))return;o=Oi.getHash(s.material)}}r[o]||(r[o]={});let c=r[o][Mv(n)];if(c){if(c.push(n),n.cloner)for(let s of n.cloner.children)c.push(s)}else if(r[o][Mv(n)]=[n],n.cloner)for(let s of n.cloner.children)r[o][Mv(n)].push(s)}),r}function YLe(e){let t=0;return Object.values(e).forEach(r=>{Object.values(r).forEach(n=>{let i=n.length;i>t&&(t=i)})}),t}function $Le(e,t){let r=qLe(t,e),n=YLe(r),i=new Array(n),o=0,l=new Array(n),c=0,a=new Array(n),s=0,u=new Array(n),d=0;for(let[h,p]of Object.entries(r))for(let m of Object.values(p)){if(c=0,s=0,m.forEach(g=>{g instanceof Fo&&(l[c++]=g.geometry.clone(),a[s++]=g)}),s<2)continue;for(let g=0;g<s;g++)a[g].updateWorldMatrix(!0,!1),l[g].applyMatrix4(a[g].matrixWorld),a[g].matrixWorld.determinant()<0&&GLe(l[g]);let f=lh(l.slice(0,c),!1);if(f){let g;switch(h){case"SubdivObject":{console.warn("Turning subdiv object into mesh"),g=new ro(f,a[0].material);break}default:{g=new ro(f,a[0].material);break}}g.castShadow=a[0].castShadow,g.receiveShadow=a[0].receiveShadow,t.add(g);let v=x=>{d=0;for(let y of x)y.children&&v(y.children),y instanceof Fo&&(Array.isArray(y.material)||r[y.material.uuid]&&r[y.material.uuid][Mv(y)]&&r[y.material.uuid][Mv(y)].length>1||(u[d++]=y));for(let y=0;y<d;y++)t.attach(u[y])};for(let x=0;x<s;x++){let y=a[x];v(y.children),i[o++]=y}}}for(let h=0;h<o;h++)i[h].removeFromParent()}var XLe=di(w0e(),1),KLe=new re;function QLe(e){let t="The Spline Runtime only accepts .splinecode files that are generated from Spline export panel.";e.endsWith(".spline")?console.warn(t+" The .spline files are only meant to be used by the Editor."):e.endsWith(".splinecode")||console.warn(t)}var ZLe=class{constructor(e,{renderOnDemand:t,renderMode:r="auto"}={}){this._viewportMode=1,this._viewportWidth=window.innerWidth,this._viewportHeight=window.innerHeight,this._proxyObjectCache=new Map,this._variablesCache=new Map,this._isPaused=!1,this._renderRequested=!1,this._skipRender=!1,this.time=performance.now(),this.dt=0,this.currentTAAFrame=0,this.disposed=!1,this._requestRenderAutoMode=()=>{this._skipRender=!1},this.requestRender=()=>{this._renderRequested=!0},this.render=n=>{var i,o,l,c,a,s,u,d,h,p,m,f;if(this.time=n,this._lastTime&&(this.dt=this.time-this._lastTime),this._lastTime=this.time,(i=this._perfs)==null||i.start(),!this._renderer){(o=this._perfs)==null||o.end();return}if(!this._isPaused&&(this.renderMode==="manual"&&!this._renderRequested||this.renderMode==="auto"&&this._skipRender)){(l=this._perfs)==null||l.end();return}if(this._renderRequested=!1,this._skipRender=!0,this._controls&&(this._skipRender=this._controls.update(this.dt)),this._eventManager&&((c=this._eventManager.handlers)!=null&&c.Start.hasVideoAction||(a=this._eventManager.handlers)!=null&&a.Basic.hasVideoAction||(s=this._eventManager.handlers)!=null&&s.Conditional.hasVideoAction)&&(this._skipRender=!1),(u=this._animationControls)==null||u.update(this.dt),this._skipRender?(this.currentTAAFrame++,this.currentTAAFrame<32?this._skipRender=!1:this.currentTAAFrame=0):this.currentTAAFrame=0,this._scene&&this._scene.activeCamera!==this._camera&&(this._camera=this._scene.activeCamera),(d=this._eventManager)!=null&&d.isEnabled&&(((h=this._eventManager.handlers)==null?void 0:h.Follow).onAnimationFrameDamping(),((p=this._eventManager.handlers)==null?void 0:p.LookAt).onAnimationFrameDamping(),((m=this._eventManager.handlers)==null?void 0:m.DragDrop).onAnimationFrameDamping()),this._scene&&this._camera){if(this._scene.pathConstraints.applyConstraints(this._scene),this._renderer.sceneTransitionTimeRemaining>0){this._renderer.sceneTransitionTimeRemaining-=this.dt;let g=1-this._renderer.sceneTransitionTimeRemaining/this._renderer.sceneTransitionDuration;this._renderer.pipeline.sceneTransitionPass.uniforms.mixRatio.value=g,this._skipRender=!1}else this._renderer.pipeline.sceneTransitionFromTexture=null;this._renderer.renderSplineScene(this._scene,this._camera)}this.canvas.dispatchEvent(this._renderedEvent),(f=this._perfs)==null||f.end()},this._resize=()=>{var n,i,o,l,c,a,s,u,d,h;if(this._renderer){if(this._viewportMode===1&&this._frameView&&(this._frameView.frameSize=KLe.set(this._viewportWidth,this._viewportHeight)),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._camera=(n=this._scene)==null?void 0:n.activeCamera,(s=this._scene)==null||s.updateViewPlaneSize(((o=(i=this._frameView)==null?void 0:i.frameSize)==null?void 0:o.x)??this._viewportWidth,((c=(l=this._frameView)==null?void 0:l.frameSize)==null?void 0:c.y)??this._viewportHeight,((a=this._frameView)==null?void 0:a.enableResponsive)??!1),this._camera){let p=Object.values(((u=this._data)==null?void 0:u.frames)??{})[0].preset??"fullscreen";(d=this._frameView)==null||d.setCamera(this._camera),(h=this._frameView)==null||h.updateCamera(p!=="fullscreen"),this._camera.cameraType==="PerspectiveCamera"&&(this._camera.aspect=this._viewportWidth/this._viewportHeight),this._camera.updateProjectionMatrix()}this.eventManager&&(this.eventManager.eventContext.domRect=this.canvas.getBoundingClientRect()),this._requestRenderAutoMode()}},this._debouncedResize=_D(this._resize,10),this.canvas=e,this.renderMode=t?"auto":r,this._renderedEvent=new CustomEvent("rendered",{bubbles:!0}),Object.defineProperty(this._renderedEvent,"target",{writable:!1,value:this}),window.location.search.includes("perfs")&&(this._perfs=new WLe({x:10,y:10})),pPe(e)}async load(e,t,r){QLe(e),this.disposed=!1;let n=await(await fetch(e,r)).arrayBuffer();await this.start(n,{variables:t})}async start(e,{interactive:t=!0,variables:r}={}){var c,a,s;if(this.disposed)return;let n=await LLe(e);this._data=n,n.version&&(0,XLe.default)(n.version,"0.9.526")>0&&console.warn("Your .splinecode file is more recent than the library. Please upgrade @splinetool/runtime to the latest version."),await Promise.all([M9(n)&&Y5e(),zje(n)&&H5e(),wy.physicsEnabled(n.scene.objects)&&yPe(),w9(n)&&Sje(),yLe(n)&&gPe()].filter(Boolean)),(c=this._eventManager)==null||c.deactivate(),(a=this._controls)==null||a.deactivate(),(s=this._scene)==null||s.dispose();let i=new HLe(n);if(i.resetPersonalCameraFromDocumentData(),this._scene=i.scene,this._sharedAssetsManager=i.sharedAssets,this._camera=this._scene.activeCamera,window.location.search.includes("merge-geometries")){let u=performance.now();$Le(n,i.scene);let d=performance.now();console.log("Merged geometries in ",d-u," ms")}M9(n)&&this._scene.traverse(u=>{yc(u)&&u.recomputeBoolean()}),this._sharedAssetsManager.setRequestRender(()=>{var u;this._requestRenderAutoMode(),(u=this._scene)==null||u.traverse(d=>{d instanceof Ss&&d.pendingMediaLoad&&d.update()})});let o=Object.keys(n.shared.fonts).map(u=>this._sharedAssetsManager.getFont(u).loadingPromise);Promise.all(o).then(()=>{i.scene.markNeedsUpdateRendererDirty(),this._requestRenderAutoMode()}),w9(n)&&PLe(n)&&await Promise.all(o),this._scene.rewriteEventsBeforeGoToPlayMode(),vj(this._scene.activePage,this._sharedAssetsManager),this._renderer||(this._renderer=new dOe({canvas:this.canvas,antialias:!1,alpha:!0,stencil:!1,depth:!1,powerPreference:"high-performance"}),this._renderer.hdTransmission=n.scene.publish.hdTransmission===!0,this._renderer.setPixelRatio(window.devicePixelRatio),this._renderer.pipeline.addEventListener("smaaloaded",this._requestRenderAutoMode)),this._scene.initializeSplatViewer(this._renderer),n.scene.blueNoiseTextureData!==void 0&&this._renderer.pipeline.updateBlueNoiseTexture(n.scene.blueNoiseTextureData);let l=Object.values(n.frames)[0];if(this._frameView?this._frameView.setCamera(this._camera):(l.preset==="fullscreen"?(this._viewportMode=1,this.canvas.style.display="block",this.canvas.parentElement&&(this._viewportWidth=this.canvas.parentElement.clientWidth||300,this.canvas.style.width="100%"),this.canvas.parentElement&&(this._viewportHeight=this.canvas.parentElement.clientHeight||150,this.canvas.style.height="100%")):(this._viewportMode=2,this._viewportWidth=l.size[0],this._viewportHeight=l.size[1],this.canvas.style.width=`${this._viewportWidth}px`,this.canvas.style.height=`${this._viewportHeight}px`),this._renderer.setSize(this._viewportWidth,this._viewportHeight,!1),this._frameView=new ULe(this._renderer,this._camera,new re(this._viewportWidth,this._viewportHeight),new re(window.innerWidth,window.innerHeight)),this._frameView.enableResponsive=(l.allowResponsive??!1)&&l.preset==="fullscreen"),t){let u=new Aze(this._renderer,this.data.scene.publish,this._scene,()=>this._scene.activeCamera,this._sharedAssetsManager,this._requestRenderAutoMode,!0,l);this._scene.updateMatrixWorld(!0),this._controls=new kLe(u),this._animationControls=new jLe(this._scene,this._requestRenderAutoMode),this._eventManager=new FLe(n.scene.publish,this._controls,this._animationControls,u,n.shared.variables),this._eventManager.activate(),this._controls.activate(this._eventManager)}this._resize(),r!==void 0&&this.setVariables(r),this.dt===0&&(this.render(performance.now()),setTimeout(()=>{var u;(u=this._renderer)==null||u.setAnimationLoop(this.render)},0)),this._resizeObserverTimeout=setTimeout(()=>{!this._resizeObserver&&this.canvas.parentElement&&(this._resizeObserver=new ResizeObserver(()=>{this._viewportWidth=this.canvas.clientWidth,this._viewportHeight=this.canvas.clientHeight,this._debouncedResize()}),this._resizeObserver.observe(this.canvas.parentElement))},300)}setVariables(e){if(this._data!==void 0){let t=Object.entries(e);for(let[r,n]of t)this.setVariable(r,n)}}setVariable(e,t){var n;let r=this._getVariableByName(e);if(r&&!("dynamicVariableType"in r.data)){let i=t;typeof r.data.value=="number"?i=typeof t=="number"?t:typeof t=="boolean"?t===!0?1:0:parseFloat(t):typeof r.data.value=="boolean"?i=typeof t=="number"?!!t:typeof t=="boolean"?t:t.toLocaleLowerCase()==="false"?!1:!!t:typeof r.data.value!="string"&&r.data.value.textValue!==void 0&&(i=t.toString());let o=typeof i=="string"?{textValue:i}:i;(n=this._sharedAssetsManager)==null||n.updateVariable(r.id,o),this.requestRender(),this._requestRenderAutoMode()}else r===void 0?console.warn(`No variable named ${e} was found in your Spline file. Make sure to create it from Spline editor.`):"dynamicVariableType"in r.data&&console.warn(`Dynamic variables like ${e} cannot be updated from code.`)}getVariables(){let e={};return this._data&&this._data.shared.variables.forEach(t=>{e[t.data.name]===void 0&&(e[t.data.name]=this._getVariableValue(this._sharedAssetsManager.getVariable(t.id)))}),e}getVariable(e){let t=this._getVariableByName(e);if(t){let r=this._sharedAssetsManager.getVariable(t.id);return this._getVariableValue(r)}}_getVariableValue(e){return typeof e!="string"&&ra.isTextValue(e)?ra.getDisplayedValue(e):e}_getVariableByName(e){if(this._data){if(this._variablesCache.has(e))return this._variablesCache.get(e);let t=this._data.shared.variables.find(r=>r.data.name===e);return t&&this._variablesCache.set(e,t),t}}findObjectById(e){var r;let t=(r=this._scene)==null?void 0:r.getObjectByProperty("uuid",e);return this._createProxyObject(t)}findObjectByName(e){var r;let t=(r=this._scene)==null?void 0:r.getObjectByName(e);return this._createProxyObject(t)}getAllObjects(){var t;let e=[];return(t=this._scene)==null||t.traverseEntity(r=>{if(r.uuid!==Mg&&!this._scene.isInvisibleObjects(r)&&!(r instanceof Ju)){let n=this._createProxyObject(r);n&&e.push(n)}}),e}getSplineEvents(){var e,t;return((t=(e=this._eventManager)==null?void 0:e.handlers)==null?void 0:t.Spline).splineEvents}emitEvent(e,t){var r;(r=this.findObjectById(t)||this.findObjectByName(t))==null||r.emitEvent(e)}emitEventReverse(e,t){var r;(r=this.findObjectById(t)||this.findObjectByName(t))==null||r.emitEventReverse(e)}addEventListener(e,t){this.canvas.addEventListener(e,t)}removeEventListener(e,t){this.canvas.removeEventListener(e,t)}setZoom(e){var t,r;((t=this._controls)==null?void 0:t.orbitControls)instanceof BK&&((r=this._controls)==null||r.orbitControls.zoomOut(e))}get eventManager(){return this._eventManager}get controls(){return this._controls}setSize(e,t){this._viewportWidth=e,this._viewportHeight=t,this._viewportMode=2,this._resize()}setBackgroundColor(e){var l;let{r:t,g:r,b:n,a:i}={r:0,g:0,b:0,a:1},o=new Io(t,r,n,i);try{o.setStyle(e)}catch{console.error("This is not a valid css color",e)}(l=this._scene)==null||l.activePage.setBackgroundColor(o),this._requestRenderAutoMode()}dispose(){var e,t,r,n,i,o,l;this.disposed=!0,(e=this._eventManager)==null||e.deactivate(),(t=this._scene)==null||t.dispose(),(r=this._sharedAssetsManager)==null||r.dispose(),this._proxyObjectCache.forEach(c=>{GL.unsubscribe(c)}),this._variablesCache.clear(),(n=this._renderer)==null||n.setAnimationLoop(null),(i=this._renderer)==null||i.dispose(),this._renderer=void 0,(o=this._sharedAssetsManager)==null||o.dispose(),this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=void 0),this._resizeObserverTimeout!==void 0&&clearTimeout(this._resizeObserverTimeout),this.canvas.style.width="",this.canvas.style.height="",this.canvas.removeAttribute("width"),this.canvas.removeAttribute("height"),this._frameView&&(this._frameView=void 0),(l=this._controls)==null||l.deactivate(),fPe(this.canvas)}get isStopped(){return this._isPaused}stop(){var e,t,r;this._isPaused||((e=this._renderer)==null||e.setAnimationLoop(null),this._isPaused=!0,(t=this._eventManager)==null||t.pause(),(r=this._controls)!=null&&r.orbitControls&&(this._controls.orbitControls.enabled=!1))}play(){var e,t,r;!this._isPaused||(this._isPaused=!1,(e=this._eventManager)==null||e.resume(),(t=this._controls)!=null&&t.orbitControls&&(this._controls.orbitControls.enabled=!0),(r=this._renderer)==null||r.setAnimationLoop(this.render))}setGlobalEvents(e){var t;(t=this._eventManager)==null||t.updateUseWindowEvents(e)}get data(){return this._data}_createProxyObject(e){var i;if(e==null)return;if(this._proxyObjectCache.has(e.uuid))return this._proxyObjectCache.get(e.uuid);let t;e.traverseAncestors(o=>{o instanceof Ju&&(t=o.name)});let r={name:e.name,uuid:e.uuid,visible:e.visible,intensity:e.intensity,position:e.position,rotation:e.rotation,scale:e.scale,type:e.data.type,page:t,parentUuid:e.parent instanceof Ju||e instanceof oj||(i=e.parent)==null?void 0:i.uuid,emitEvent(o){e.dispatchEvent({type:"userEvent",eventName:o})},emitEventReverse(o){e.dispatchEvent({type:"userEvent",eventName:o,reverse:!0})}},n=GL(r,(o,l)=>{var c;typeof e[o]!="object"&&((c=Object.getOwnPropertyDescriptor(e,o))!=null&&c.writable)&&(e[o]=l),this._requestRenderAutoMode(),e.updateMatrix()});return this._proxyObjectCache.set(e.uuid,n),n}},ux=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},u4={},JLe={get exports(){return u4},set exports(e){u4=e}},k0={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HB;function e8e(){if(HB)return k0;HB=1;var e=mt,t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(c,a,s){var u,d={},h=null,p=null;s!==void 0&&(h=""+s),a.key!==void 0&&(h=""+a.key),a.ref!==void 0&&(p=a.ref);for(u in a)n.call(a,u)&&!o.hasOwnProperty(u)&&(d[u]=a[u]);if(c&&c.defaultProps)for(u in a=c.defaultProps,a)d[u]===void 0&&(d[u]=a[u]);return{$$typeof:t,type:c,key:h,ref:p,props:d,_owner:i.current}}return k0.Fragment=r,k0.jsx=l,k0.jsxs=l,k0}(function(e){e.exports=e8e()})(JLe);const d4=u4.jsx;var t8e="Expected a function",WB=NaN,r8e="[object Symbol]",n8e=/^\s+|\s+$/g,i8e=/^[-+]0x[0-9a-f]+$/i,o8e=/^0b[01]+$/i,a8e=/^0o[0-7]+$/i,s8e=parseInt,l8e=typeof ux=="object"&&ux&&ux.Object===Object&&ux,c8e=typeof self=="object"&&self&&self.Object===Object&&self,u8e=l8e||c8e||Function("return this")(),d8e=Object.prototype,h8e=d8e.toString,p8e=Math.max,f8e=Math.min,SA=function(){return u8e.Date.now()};function m8e(e,t,r){var n,i,o,l,c,a,s=0,u=!1,d=!1,h=!0;if(typeof e!="function")throw new TypeError(t8e);t=GB(t)||0,h4(r)&&(u=!!r.leading,d="maxWait"in r,o=d?p8e(GB(r.maxWait)||0,t):o,h="trailing"in r?!!r.trailing:h);function p(_){var S=n,E=i;return n=i=void 0,s=_,l=e.apply(E,S),l}function m(_){return s=_,c=setTimeout(v,t),u?p(_):l}function f(_){var S=_-a,E=_-s,A=t-S;return d?f8e(A,o-E):A}function g(_){var S=_-a,E=_-s;return a===void 0||S>=t||S<0||d&&E>=o}function v(){var _=SA();if(g(_))return x(_);c=setTimeout(v,f(_))}function x(_){return c=void 0,h&&n?p(_):(n=i=void 0,l)}function y(){c!==void 0&&clearTimeout(c),s=0,n=a=i=c=void 0}function b(){return c===void 0?l:x(SA())}function w(){var _=SA(),S=g(_);if(n=arguments,i=this,a=_,S){if(c===void 0)return m(a);if(d)return c=setTimeout(v,t),p(a)}return c===void 0&&(c=setTimeout(v,t)),l}return w.cancel=y,w.flush=b,w}function h4(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function g8e(e){return!!e&&typeof e=="object"}function v8e(e){return typeof e=="symbol"||g8e(e)&&h8e.call(e)==r8e}function GB(e){if(typeof e=="number")return e;if(v8e(e))return WB;if(h4(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=h4(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(n8e,"");var r=o8e.test(e);return r||a8e.test(e)?s8e(e.slice(2),r?2:8):i8e.test(e)?WB:+e}var y8e=m8e;function b8e(e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}const x8e=[],w8e={width:"100%",height:"100%"},_8e=V.forwardRef(function({className:e,children:t,debounceTime:r=300,ignoreDimensions:n=x8e,parentSizeStyles:i,enableDebounceLeadingCall:o=!0,resizeObserverPolyfill:l,...c},a){const s=V.useRef(null),u=V.useRef(0),[d,h]=V.useState({width:0,height:0,top:0,left:0}),p=V.useMemo(()=>{const m=Array.isArray(n)?n:[n];return y8e(f=>{h(g=>Object.keys(g).filter(v=>g[v]!==f[v]).every(v=>m.includes(v))?g:f)},r,{leading:o})},[r,o,n]);return V.useEffect(()=>{const m=l||window.ResizeObserver,f=new m(g=>{g.forEach(v=>{const{left:x,top:y,width:b,height:w}=(v==null?void 0:v.contentRect)??{};u.current=window.requestAnimationFrame(()=>{p({width:b,height:w,top:y,left:x})})})});return s.current&&f.observe(s.current),()=>{window.cancelAnimationFrame(u.current),f.disconnect(),p.cancel()}},[p,l]),d4("div",{style:{...w8e,...i},ref:b8e([a,s]),className:e,...c,children:t({...d,ref:s.current,resize:p})})}),S8e=V.forwardRef(({scene:e,style:t,onMouseDown:r,onMouseUp:n,onMouseHover:i,onKeyDown:o,onKeyUp:l,onStart:c,onLookAt:a,onFollow:s,onWheel:u,onLoad:d,renderOnDemand:h=!0,...p},m)=>{const f=V.useRef(null),[g,v]=V.useState(!0);return V.useEffect(()=>{v(!0);let x;const y=[{name:"mouseDown",cb:r},{name:"mouseUp",cb:n},{name:"mouseHover",cb:i},{name:"keyDown",cb:o},{name:"keyUp",cb:l},{name:"start",cb:c},{name:"lookAt",cb:a},{name:"follow",cb:s},{name:"scroll",cb:u}];if(f.current){x=new ZLe(f.current,{renderOnDemand:h});async function b(){await x.load(e);for(let w of y)w.cb&&x.addEventListener(w.name,w.cb);v(!1),d==null||d(x)}b()}return()=>{for(let b of y)b.cb&&x.removeEventListener(b.name,b.cb);x.dispose()}},[e]),d4(_8e,{ref:m,parentSizeStyles:t,debounceTime:50,...p,children:()=>d4("canvas",{ref:f,style:{display:g?"none":"block"}})})}),FK=()=>{const e=V.useRef(null);return z.jsxs("div",{className:"containera",children:[z.jsxs("div",{className:"headline",children:[z.jsxs("div",{className:"head",children:[z.jsx("h1",{children:"About Placement Mentor"})," "]}),z.jsx("div",{className:"model",children:z.jsx(S8e,{scene:"https://prod.spline.design/se8tMtBCFL4R1Myi/scene.splinecode",ref:e})})]}),z.jsxs("div",{className:"desc-ab",children:[z.jsx("p",{children:"Welcome to Placement Mentor – Your Gateway to Career Success! We are dedicated to providing an all-in-one platform designed to equip students and professionals with the tools they need for successful placements."}),z.jsx("br",{}),z.jsxs("p",{children:["At Placement Mentor, we focus on guiding you through your career journey with our range of services, including:",z.jsxs("ul",{children:[z.jsxs("li",{children:[z.jsx("strong",{children:"Project Postings:"})," Build real-world projects to enhance your portfolio and stand out to potential employers."]}),z.jsxs("li",{children:[z.jsx("strong",{children:"Mock Interviews:"})," Prepare for interviews with our simulated mock interview sessions, designed to boost your confidence and refine your skills."]}),z.jsxs("li",{children:[z.jsx("strong",{children:"Aptitude Training:"})," Sharpen your analytical and problem-solving abilities with dedicated aptitude tests and resources."]}),z.jsxs("li",{children:[z.jsx("strong",{children:"Coding Practice:"})," Practice coding through hands-on challenges that help you improve your coding skills and prepare for technical rounds."]})]}),"We are committed to empowering individuals through personalized learning experiences, creating a community where everyone can achieve their placement goals."]}),z.jsx("br",{}),z.jsx("p",{children:"Join us at Placement Mentor to kickstart your career journey and unlock the tools to succeed in the competitive world of placements. Together, we’ll help you develop your skills, tackle challenges, and land your dream job."})]})]})},E8e="/ai_sc.jpg",C8e="/block.jpg",A8e="/CR.jpg",M8e="/EM.jpg",T8e=()=>{const[e,t]=V.useState(1),r=i=>{const o=i.target.getAttribute("data");console.log(o),t(o),console.log(e)},n=[{id:0,imageUrl:"",description:" "},{id:1,imageUrl:E8e,description:"This feature allows users to upload their project portfolios, showcasing their work in an organized and professional manner. It ensures the seamless upload of various project types and provides an easy way to share with potential employers or collaborators."},{id:2,imageUrl:M8e,description:"The Amplitude Assessment tool helps candidates assess their skills through a series of analytical and logical questions. It helps employers and candidates gauge the applicant's abilities and ensure they match the job requirements effectively."},{id:3,imageUrl:A8e,description:"The Coding Round feature enables candidates to participate in coding challenges designed to test their technical abilities. It provides an interactive environment for candidates to demonstrate their coding skills, with real-time feedback and scoring."},{id:4,imageUrl:C8e,description:"This Mock Interview feature simulates real-world interview scenarios, allowing candidates to practice and hone their interview skills. It provides feedback on performance, helping users improve and prepare for real interviews."}];return z.jsxs("div",{className:"containerf",children:[z.jsxs("div",{className:"textf",children:[z.jsx("div",{className:"sm",children:z.jsx("span",{children:"Features "})}),z.jsx("div",{className:"headtxt",children:"What we are here to offer."}),z.jsx("div",{className:"list",children:z.jsxs("div",{className:"el",children:[z.jsx("span",{className:"num",children:"01"}),z.jsx("span",{className:"txt",data:1,onClick:r,children:"Project Uploading"}),z.jsx("span",{className:"sym",children:">"})]})}),z.jsx("div",{className:"list",children:z.jsxs("div",{className:"el",children:[z.jsx("span",{className:"num",children:"02"}),z.jsx("span",{className:"txt",data:2,onClick:r,children:"Aplitude Assessment"}),z.jsx("span",{className:"sym",children:">"})]})})," ",z.jsx("div",{className:"list",children:z.jsxs("div",{className:"el",children:[z.jsx("span",{className:"num",children:"03"}),z.jsx("span",{className:"txt",data:3,onClick:r,children:"Coding Round"}),z.jsx("span",{className:"sym",children:">"})]})})," ",z.jsx("div",{className:"list",children:z.jsxs("div",{className:"el",children:[z.jsx("span",{className:"num",children:"04"}),z.jsx("span",{className:"txt",data:4,onClick:r,children:"Mock Interview"}),z.jsx("span",{className:"sym",children:">"})]})})]}),z.jsxs("div",{className:"comp",children:[z.jsx("div",{className:"im",children:z.jsx("img",{src:n[e].imageUrl,alt:""})}),z.jsx("div",{className:"desc",children:z.jsx("div",{className:"desc-t",children:n[e].description})})]})]})},UK=()=>z.jsx("div",{className:"hero-main",children:z.jsxs("div",{className:"part2",children:[z.jsxs("div",{className:"hero-main-txt",children:[z.jsx("span",{style:{"--i":14},children:"P"}),z.jsx("span",{style:{"--i":15},children:"l"}),z.jsx("span",{style:{"--i":16},children:"a"}),z.jsx("span",{style:{"--i":17},children:"c"}),z.jsx("span",{style:{"--i":18},children:"e"}),z.jsx("span",{style:{"--i":19},children:"m"}),z.jsx("span",{style:{"--i":20},children:"e"}),z.jsx("span",{style:{"--i":21},children:"n"}),z.jsx("span",{style:{"--i":22},children:"t"}),z.jsx("span",{children:"     "}),z.jsx("span",{style:{"--i":7},children:"M"}),z.jsx("span",{style:{"--i":8},children:"e"}),z.jsx("span",{style:{"--i":9},children:"n"}),z.jsx("span",{style:{"--i":10},children:"t"}),z.jsx("span",{style:{"--i":11},children:"o"}),z.jsx("span",{style:{"--i":12},children:"r"})]}),z.jsx("span",{className:"hero-byline",children:"Empowering Professional Growth"}),z.jsx("div",{className:"txt1",children:"Shape Your Career Path"}),z.jsx("div",{className:"txt2",children:" with Expert Guidance"}),z.jsx("div",{className:"txt1",children:"from a Dedicated Mentor"}),z.jsx("div",{className:"hero-but",children:z.jsx("button",{className:"readmore",children:z.jsx("span",{children:"Read More"})})})]})}),P8e=()=>z.jsxs("div",{className:"home",children:[z.jsx(UK,{}),z.jsx(FK,{}),z.jsx(T8e,{})]}),k8e=()=>{const[e,t]=V.useState(!0),{user:r}=x2();return z.jsx("div",{style:{display:"flex"},children:z.jsxs("nav",{className:"navigation",children:[z.jsx("a",{href:"/",className:"brand-name",children:"Placement Mentor  "}),z.jsx("button",{className:"hamburger",onClick:()=>t(!e),children:z.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"white",children:z.jsx("path",{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM9 15a1 1 0 011-1h6a1 1 0 110 2h-6a1 1 0 01-1-1z",clipRule:"evenodd"})})}),z.jsx("div",{className:e?"navigation-menu":"navigation-menu.expanded",children:z.jsxs("ul",{style:{listStyle:"none",paddingRight:"10px"},className:e?"navigation-menu_ul":"navigation-menu.expanded_ul",children:[z.jsx("li",{className:e?"navigation-menu_li":"navigation-menu.expanded_li",children:z.jsx("a",{href:"/",className:e?"navigation-menu_li_a":"navigation-menu.expanded_li_a",children:"Home"})}),z.jsx("li",{className:e?"navigation-menu_li":"navigation-menu.expanded_li",children:z.jsx("a",{href:"/about",className:e?"navigation-menu_li_a":"navigation-menu.expanded_li_a",children:"About"})}),z.jsx("li",{className:e?"navigation-menu_li":"navigation-menu.expanded_li",children:z.jsx("a",{href:"/empower",className:e?"navigation-menu_li_a":"navigation-menu.expanded_li_a",children:"EmpowHer"})}),z.jsx("li",{children:!r&&z.jsx(Kf,{to:"/sign",className:e?"navigation-menu_li_a":"navigation-menu.expanded_li_a",children:"Sign In"})}),z.jsx("li",{children:r?z.jsx(Kf,{to:"/userProfile",children:z.jsx("span",{children:r.name})}):z.jsx(Kf,{to:"/auth",className:e?"navigation-menu_li_a":"navigation-menu.expanded_li_a",children:"Register"})})]})})]})})},D8e="/logo.jpg";function j8e(e){return Dr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M512 378.7c-73.4 0-133.3 59.9-133.3 133.3S438.6 645.3 512 645.3 645.3 585.4 645.3 512 585.4 378.7 512 378.7zM911.8 512c0-55.2.5-109.9-2.6-165-3.1-64-17.7-120.8-64.5-167.6-46.9-46.9-103.6-61.4-167.6-64.5-55.2-3.1-109.9-2.6-165-2.6-55.2 0-109.9-.5-165 2.6-64 3.1-120.8 17.7-167.6 64.5C132.6 226.3 118.1 283 115 347c-3.1 55.2-2.6 109.9-2.6 165s-.5 109.9 2.6 165c3.1 64 17.7 120.8 64.5 167.6 46.9 46.9 103.6 61.4 167.6 64.5 55.2 3.1 109.9 2.6 165 2.6 55.2 0 109.9.5 165-2.6 64-3.1 120.8-17.7 167.6-64.5 46.9-46.9 61.4-103.6 64.5-167.6 3.2-55.1 2.6-109.8 2.6-165zM512 717.1c-113.5 0-205.1-91.6-205.1-205.1S398.5 306.9 512 306.9 717.1 398.5 717.1 512 625.5 717.1 512 717.1zm213.5-370.7c-26.5 0-47.9-21.4-47.9-47.9s21.4-47.9 47.9-47.9 47.9 21.4 47.9 47.9a47.84 47.84 0 0 1-47.9 47.9z"}}]})(e)}function I8e(e){return Dr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0 0 11.6 0l43.6-43.5a8.2 8.2 0 0 0 0-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]})(e)}function O8e(e){return Dr({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M928 254.3c-30.6 13.2-63.9 22.7-98.2 26.4a170.1 170.1 0 0 0 75-94 336.64 336.64 0 0 1-108.2 41.2A170.1 170.1 0 0 0 672 174c-94.5 0-170.5 76.6-170.5 170.6 0 13.2 1.6 26.4 4.2 39.1-141.5-7.4-267.7-75-351.6-178.5a169.32 169.32 0 0 0-23.2 86.1c0 59.2 30.1 111.4 76 142.1a172 172 0 0 1-77.1-21.7v2.1c0 82.9 58.6 151.6 136.7 167.4a180.6 180.6 0 0 1-44.9 5.8c-11.1 0-21.6-1.1-32.2-2.6C211 652 273.9 701.1 348.8 702.7c-58.6 45.9-132 72.9-211.7 72.9-14.3 0-27.5-.5-41.2-2.1C171.5 822 261.2 850 357.8 850 671.4 850 843 590.2 843 364.7c0-7.4 0-14.8-.5-22.2 33.2-24.3 62.3-54.4 85.5-88.2z"}}]})(e)}const R8e=()=>z.jsxs("footer",{className:"footer",children:[z.jsxs("div",{className:"container footer__container",children:[z.jsxs("article",{className:"footer__section",children:[z.jsxs("div",{className:"footer__brand",children:[z.jsx("img",{src:D8e,alt:"logo",className:"foot_img"}),z.jsx("p",{children:"NextGEN"})]}),z.jsxs("div",{className:"footer__socials",children:[z.jsx("a",{href:"https://www.linkedin.com/in",target:"_blank",rel:"noreferrer noopener",children:z.jsx(dH,{className:"footer-icon"})}),z.jsx("a",{href:"https://facebook.com/",target:"_blank",rel:"noreferrer noopener",children:z.jsx(Pne,{className:"footer-icon"})}),z.jsx("a",{href:"https://twitter.com/",target:"_blank",rel:"noreferrer noopener",children:z.jsx(O8e,{className:"footer-icon"})}),z.jsx("a",{href:"https://www.instagram.com",target:"_blank",rel:"noreferrer noopener",children:z.jsx(j8e,{className:"footer-icon"})})]})]}),z.jsxs("article",{className:"footer__section",children:[z.jsx(I8e,{className:"footer-icon"}),z.jsx("input",{type:"text",name:"",id:"",placeholder:"Search"}),z.jsx("button",{children:"Subscribe Here"})]})]}),z.jsx("div",{className:"footer__copyright",children:z.jsx("small",{children:"Made with ❤️ in 2024 "})})]}),z8e=()=>z.jsxs("div",{children:[z.jsx(k8e,{}),z.jsx(xte,{}),z.jsx(R8e,{})]});function L8e(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm43.4 289.1c7.5 7.5 7.5 19.8 0 27.3-3.8 3.8-8.7 5.6-13.6 5.6s-9.9-1.9-13.7-5.7l-94-94.3c-6.9-7.6-6.7-19.3.6-26.6l95.4-95.7c7.5-7.5 19.7-7.6 27.3 0 7.5 7.5 7.6 19.7 0 27.3l-81.9 81 79.9 81.1z"}}]})(e)}function N8e(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M48 256c0 114.9 93.1 208 208 208s208-93.1 208-208S370.9 48 256 48 48 141.1 48 256zm244.5 0l-81.9-81.1c-7.5-7.5-7.5-19.8 0-27.3s19.8-7.5 27.3 0l95.4 95.7c7.3 7.3 7.5 19.1.6 26.6l-94 94.3c-3.8 3.8-8.7 5.7-13.7 5.7-4.9 0-9.9-1.9-13.6-5.6-7.5-7.5-7.6-19.7 0-27.3l79.9-81z"}}]})(e)}function B8e(e,t){const r={};return(e[e.length-1]===""?[...e,""]:e).join((r.padRight?" ":"")+","+(r.padLeft===!1?"":" ")).trim()}const F8e=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,U8e=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,V8e={};function qB(e,t){return(V8e.jsx?U8e:F8e).test(e)}const H8e=/[ \t\n\f\r]/g;function W8e(e){return typeof e=="object"?e.type==="text"?YB(e.value):!1:YB(e)}function YB(e){return e.replace(H8e,"")===""}class p1{constructor(t,r,n){this.property=t,this.normal=r,n&&(this.space=n)}}p1.prototype.property={};p1.prototype.normal={};p1.prototype.space=null;function VK(e,t){const r={},n={};let i=-1;for(;++i<e.length;)Object.assign(r,e[i].property),Object.assign(n,e[i].normal);return new p1(r,n,t)}function p4(e){return e.toLowerCase()}class es{constructor(t,r){this.property=t,this.attribute=r}}es.prototype.space=null;es.prototype.boolean=!1;es.prototype.booleanish=!1;es.prototype.overloadedBoolean=!1;es.prototype.number=!1;es.prototype.commaSeparated=!1;es.prototype.spaceSeparated=!1;es.prototype.commaOrSpaceSeparated=!1;es.prototype.mustUseProperty=!1;es.prototype.defined=!1;let G8e=0;const Ut=dp(),jn=dp(),HK=dp(),Fe=dp(),Ir=dp(),ym=dp(),qo=dp();function dp(){return 2**++G8e}const f4=Object.freeze(Object.defineProperty({__proto__:null,boolean:Ut,booleanish:jn,commaOrSpaceSeparated:qo,commaSeparated:ym,number:Fe,overloadedBoolean:HK,spaceSeparated:Ir},Symbol.toStringTag,{value:"Module"})),EA=Object.keys(f4);class bj extends es{constructor(t,r,n,i){let o=-1;if(super(t,r),$B(this,"space",i),typeof n=="number")for(;++o<EA.length;){const l=EA[o];$B(this,EA[o],(n&f4[l])===f4[l])}}}bj.prototype.defined=!0;function $B(e,t,r){r&&(e[t]=r)}const q8e={}.hasOwnProperty;function Dg(e){const t={},r={};let n;for(n in e.properties)if(q8e.call(e.properties,n)){const i=e.properties[n],o=new bj(n,e.transform(e.attributes||{},n),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(n)&&(o.mustUseProperty=!0),t[n]=o,r[p4(n)]=n,r[p4(o.attribute)]=n}return new p1(t,r,e.space)}const WK=Dg({space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()},properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}}),GK=Dg({space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()},properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function qK(e,t){return t in e?e[t]:t}function YK(e,t){return qK(e,t.toLowerCase())}const $K=Dg({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:YK,properties:{xmlns:null,xmlnsXLink:null}}),XK=Dg({transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()},properties:{ariaActiveDescendant:null,ariaAtomic:jn,ariaAutoComplete:null,ariaBusy:jn,ariaChecked:jn,ariaColCount:Fe,ariaColIndex:Fe,ariaColSpan:Fe,ariaControls:Ir,ariaCurrent:null,ariaDescribedBy:Ir,ariaDetails:null,ariaDisabled:jn,ariaDropEffect:Ir,ariaErrorMessage:null,ariaExpanded:jn,ariaFlowTo:Ir,ariaGrabbed:jn,ariaHasPopup:null,ariaHidden:jn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ir,ariaLevel:Fe,ariaLive:null,ariaModal:jn,ariaMultiLine:jn,ariaMultiSelectable:jn,ariaOrientation:null,ariaOwns:Ir,ariaPlaceholder:null,ariaPosInSet:Fe,ariaPressed:jn,ariaReadOnly:jn,ariaRelevant:null,ariaRequired:jn,ariaRoleDescription:Ir,ariaRowCount:Fe,ariaRowIndex:Fe,ariaRowSpan:Fe,ariaSelected:jn,ariaSetSize:Fe,ariaSort:null,ariaValueMax:Fe,ariaValueMin:Fe,ariaValueNow:Fe,ariaValueText:null,role:null}}),Y8e=Dg({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:YK,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ym,acceptCharset:Ir,accessKey:Ir,action:null,allow:null,allowFullScreen:Ut,allowPaymentRequest:Ut,allowUserMedia:Ut,alt:null,as:null,async:Ut,autoCapitalize:null,autoComplete:Ir,autoFocus:Ut,autoPlay:Ut,blocking:Ir,capture:null,charSet:null,checked:Ut,cite:null,className:Ir,cols:Fe,colSpan:null,content:null,contentEditable:jn,controls:Ut,controlsList:Ir,coords:Fe|ym,crossOrigin:null,data:null,dateTime:null,decoding:null,default:Ut,defer:Ut,dir:null,dirName:null,disabled:Ut,download:HK,draggable:jn,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:Ut,formTarget:null,headers:Ir,height:Fe,hidden:Ut,high:Fe,href:null,hrefLang:null,htmlFor:Ir,httpEquiv:Ir,id:null,imageSizes:null,imageSrcSet:null,inert:Ut,inputMode:null,integrity:null,is:null,isMap:Ut,itemId:null,itemProp:Ir,itemRef:Ir,itemScope:Ut,itemType:Ir,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:Ut,low:Fe,manifest:null,max:null,maxLength:Fe,media:null,method:null,min:null,minLength:Fe,multiple:Ut,muted:Ut,name:null,nonce:null,noModule:Ut,noValidate:Ut,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:Ut,optimum:Fe,pattern:null,ping:Ir,placeholder:null,playsInline:Ut,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:Ut,referrerPolicy:null,rel:Ir,required:Ut,reversed:Ut,rows:Fe,rowSpan:Fe,sandbox:Ir,scope:null,scoped:Ut,seamless:Ut,selected:Ut,shadowRootClonable:Ut,shadowRootDelegatesFocus:Ut,shadowRootMode:null,shape:null,size:Fe,sizes:null,slot:null,span:Fe,spellCheck:jn,src:null,srcDoc:null,srcLang:null,srcSet:null,start:Fe,step:null,style:null,tabIndex:Fe,target:null,title:null,translate:null,type:null,typeMustMatch:Ut,useMap:null,value:jn,width:Fe,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ir,axis:null,background:null,bgColor:null,border:Fe,borderColor:null,bottomMargin:Fe,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:Ut,declare:Ut,event:null,face:null,frame:null,frameBorder:null,hSpace:Fe,leftMargin:Fe,link:null,longDesc:null,lowSrc:null,marginHeight:Fe,marginWidth:Fe,noResize:Ut,noHref:Ut,noShade:Ut,noWrap:Ut,object:null,profile:null,prompt:null,rev:null,rightMargin:Fe,rules:null,scheme:null,scrolling:jn,standby:null,summary:null,text:null,topMargin:Fe,valueType:null,version:null,vAlign:null,vLink:null,vSpace:Fe,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:Ut,disableRemotePlayback:Ut,prefix:null,property:null,results:Fe,security:null,unselectable:null}}),$8e=Dg({space:"svg",attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},transform:qK,properties:{about:qo,accentHeight:Fe,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:Fe,amplitude:Fe,arabicForm:null,ascent:Fe,attributeName:null,attributeType:null,azimuth:Fe,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:Fe,by:null,calcMode:null,capHeight:Fe,className:Ir,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:Fe,diffuseConstant:Fe,direction:null,display:null,dur:null,divisor:Fe,dominantBaseline:null,download:Ut,dx:null,dy:null,edgeMode:null,editable:null,elevation:Fe,enableBackground:null,end:null,event:null,exponent:Fe,externalResourcesRequired:null,fill:null,fillOpacity:Fe,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:ym,g2:ym,glyphName:ym,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:Fe,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:Fe,horizOriginX:Fe,horizOriginY:Fe,id:null,ideographic:Fe,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:Fe,k:Fe,k1:Fe,k2:Fe,k3:Fe,k4:Fe,kernelMatrix:qo,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:Fe,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:Fe,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:Fe,overlineThickness:Fe,paintOrder:null,panose1:null,path:null,pathLength:Fe,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ir,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:Fe,pointsAtY:Fe,pointsAtZ:Fe,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:qo,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:qo,rev:qo,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:qo,requiredFeatures:qo,requiredFonts:qo,requiredFormats:qo,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:Fe,specularExponent:Fe,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:Fe,strikethroughThickness:Fe,string:null,stroke:null,strokeDashArray:qo,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:Fe,strokeOpacity:Fe,strokeWidth:null,style:null,surfaceScale:Fe,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:qo,tabIndex:Fe,tableValues:null,target:null,targetX:Fe,targetY:Fe,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:qo,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:Fe,underlineThickness:Fe,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:Fe,values:null,vAlphabetic:Fe,vMathematical:Fe,vectorEffect:null,vHanging:Fe,vIdeographic:Fe,version:null,vertAdvY:Fe,vertOriginX:Fe,vertOriginY:Fe,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:Fe,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null}}),X8e=/^data[-\w.:]+$/i,XB=/-[a-z]/g,K8e=/[A-Z]/g;function Q8e(e,t){const r=p4(t);let n=t,i=es;if(r in e.normal)return e.property[e.normal[r]];if(r.length>4&&r.slice(0,4)==="data"&&X8e.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(XB,J8e);n="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!XB.test(o)){let l=o.replace(K8e,Z8e);l.charAt(0)!=="-"&&(l="-"+l),t="data"+l}}i=bj}return new i(n,t)}function Z8e(e){return"-"+e.toLowerCase()}function J8e(e){return e.charAt(1).toUpperCase()}const eNe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},tNe=VK([GK,WK,$K,XK,Y8e],"html"),xj=VK([GK,WK,$K,XK,$8e],"svg");function rNe(e){return e.join(" ").trim()}var KK={},KB=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,nNe=/\n/g,iNe=/^\s*/,oNe=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,aNe=/^:\s*/,sNe=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,lNe=/^[;\s]*/,cNe=/^\s+|\s+$/g,uNe=`
`,QB="/",ZB="*",Kd="",dNe="comment",hNe="declaration",pNe=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var r=1,n=1;function i(m){var f=m.match(nNe);f&&(r+=f.length);var g=m.lastIndexOf(uNe);n=~g?m.length-g:n+m.length}function o(){var m={line:r,column:n};return function(f){return f.position=new l(m),s(),f}}function l(m){this.start=m,this.end={line:r,column:n},this.source=t.source}l.prototype.content=e;function c(m){var f=new Error(t.source+":"+r+":"+n+": "+m);if(f.reason=m,f.filename=t.source,f.line=r,f.column=n,f.source=e,!t.silent)throw f}function a(m){var f=m.exec(e);if(f){var g=f[0];return i(g),e=e.slice(g.length),f}}function s(){a(iNe)}function u(m){var f;for(m=m||[];f=d();)f!==!1&&m.push(f);return m}function d(){var m=o();if(!(QB!=e.charAt(0)||ZB!=e.charAt(1))){for(var f=2;Kd!=e.charAt(f)&&(ZB!=e.charAt(f)||QB!=e.charAt(f+1));)++f;if(f+=2,Kd===e.charAt(f-1))return c("End of comment missing");var g=e.slice(2,f-2);return n+=2,i(g),e=e.slice(f),n+=2,m({type:dNe,comment:g})}}function h(){var m=o(),f=a(oNe);if(f){if(d(),!a(aNe))return c("property missing ':'");var g=a(sNe),v=m({type:hNe,property:JB(f[0].replace(KB,Kd)),value:g?JB(g[0].replace(KB,Kd)):Kd});return a(lNe),v}}function p(){var m=[];u(m);for(var f;f=h();)f!==!1&&(m.push(f),u(m));return m}return s(),p()};function JB(e){return e?e.replace(cNe,Kd):Kd}var fNe=Bj&&Bj.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(KK,"__esModule",{value:!0});var mNe=fNe(pNe);function gNe(e,t){var r=null;if(!e||typeof e!="string")return r;var n=(0,mNe.default)(e),i=typeof t=="function";return n.forEach(function(o){if(o.type==="declaration"){var l=o.property,c=o.value;i?t(l,c,o):c&&(r=r||{},r[l]=c)}}),r}var e7=KK.default=gNe;const vNe=e7.default||e7,QK=ZK("end"),wj=ZK("start");function ZK(e){return t;function t(r){const n=r&&r.position&&r.position[e]||{};if(typeof n.line=="number"&&n.line>0&&typeof n.column=="number"&&n.column>0)return{line:n.line,column:n.column,offset:typeof n.offset=="number"&&n.offset>-1?n.offset:void 0}}}function yNe(e){const t=wj(e),r=QK(e);if(t&&r)return{start:t,end:r}}function Tv(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?t7(e.position):"start"in e||"end"in e?t7(e):"line"in e||"column"in e?m4(e):""}function m4(e){return r7(e&&e.line)+":"+r7(e&&e.column)}function t7(e){return m4(e&&e.start)+"-"+m4(e&&e.end)}function r7(e){return e&&typeof e=="number"?e:1}class Bi extends Error{constructor(t,r,n){super(),typeof r=="string"&&(n=r,r=void 0);let i="",o={},l=!1;if(r&&("line"in r&&"column"in r?o={place:r}:"start"in r&&"end"in r?o={place:r}:"type"in r?o={ancestors:[r],place:r.position}:o={...r}),typeof t=="string"?i=t:!o.cause&&t&&(l=!0,i=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof n=="string"){const a=n.indexOf(":");a===-1?o.ruleId=n:(o.source=n.slice(0,a),o.ruleId=n.slice(a+1))}if(!o.place&&o.ancestors&&o.ancestors){const a=o.ancestors[o.ancestors.length-1];a&&(o.place=a.position)}const c=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=c?c.column:void 0,this.fatal=void 0,this.file,this.message=i,this.line=c?c.line:void 0,this.name=Tv(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=l&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual,this.expected,this.note,this.url}}Bi.prototype.file="";Bi.prototype.name="";Bi.prototype.reason="";Bi.prototype.message="";Bi.prototype.stack="";Bi.prototype.column=void 0;Bi.prototype.line=void 0;Bi.prototype.ancestors=void 0;Bi.prototype.cause=void 0;Bi.prototype.fatal=void 0;Bi.prototype.place=void 0;Bi.prototype.ruleId=void 0;Bi.prototype.source=void 0;const _j={}.hasOwnProperty,bNe=new Map,xNe=/[A-Z]/g,wNe=/-([a-z])/g,_Ne=new Set(["table","tbody","thead","tfoot","tr"]),SNe=new Set(["td","th"]),JK="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function ENe(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const r=t.filePath||void 0;let n;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");n=jNe(r,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");n=DNe(r,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:n,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:r,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?xj:tNe,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=eQ(i,e,void 0);return o&&typeof o!="string"?o:i.create(e,i.Fragment,{children:o||void 0},void 0)}function eQ(e,t,r){if(t.type==="element")return CNe(e,t,r);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return ANe(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return TNe(e,t,r);if(t.type==="mdxjsEsm")return MNe(e,t);if(t.type==="root")return PNe(e,t,r);if(t.type==="text")return kNe(e,t)}function CNe(e,t,r){const n=e.schema;let i=n;t.tagName.toLowerCase()==="svg"&&n.space==="html"&&(i=xj,e.schema=i),e.ancestors.push(t);const o=rQ(e,t.tagName,!1),l=INe(e,t);let c=Ej(e,t);return _Ne.has(t.tagName)&&(c=c.filter(function(a){return typeof a=="string"?!W8e(a):!0})),tQ(e,l,o,t),Sj(l,c),e.ancestors.pop(),e.schema=n,e.create(t,o,l,r)}function ANe(e,t){if(t.data&&t.data.estree&&e.evaluater){const n=t.data.estree.body[0];return n.type,e.evaluater.evaluateExpression(n.expression)}Ty(e,t.position)}function MNe(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);Ty(e,t.position)}function TNe(e,t,r){const n=e.schema;let i=n;t.name==="svg"&&n.space==="html"&&(i=xj,e.schema=i),e.ancestors.push(t);const o=t.name===null?e.Fragment:rQ(e,t.name,!0),l=ONe(e,t),c=Ej(e,t);return tQ(e,l,o,t),Sj(l,c),e.ancestors.pop(),e.schema=n,e.create(t,o,l,r)}function PNe(e,t,r){const n={};return Sj(n,Ej(e,t)),e.create(t,e.Fragment,n,r)}function kNe(e,t){return t.value}function tQ(e,t,r,n){typeof r!="string"&&r!==e.Fragment&&e.passNode&&(t.node=n)}function Sj(e,t){if(t.length>0){const r=t.length>1?t:t[0];r&&(e.children=r)}}function DNe(e,t,r){return n;function n(i,o,l,c){const s=Array.isArray(l.children)?r:t;return c?s(o,l,c):s(o,l)}}function jNe(e,t){return r;function r(n,i,o,l){const c=Array.isArray(o.children),a=wj(n);return t(i,o,l,c,{columnNumber:a?a.column-1:void 0,fileName:e,lineNumber:a?a.line:void 0},void 0)}}function INe(e,t){const r={};let n,i;for(i in t.properties)if(i!=="children"&&_j.call(t.properties,i)){const o=RNe(e,i,t.properties[i]);if(o){const[l,c]=o;e.tableCellAlignToStyle&&l==="align"&&typeof c=="string"&&SNe.has(t.tagName)?n=c:r[l]=c}}if(n){const o=r.style||(r.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=n}return r}function ONe(e,t){const r={};for(const n of t.attributes)if(n.type==="mdxJsxExpressionAttribute")if(n.data&&n.data.estree&&e.evaluater){const o=n.data.estree.body[0];o.type;const l=o.expression;l.type;const c=l.properties[0];c.type,Object.assign(r,e.evaluater.evaluateExpression(c.argument))}else Ty(e,t.position);else{const i=n.name;let o;if(n.value&&typeof n.value=="object")if(n.value.data&&n.value.data.estree&&e.evaluater){const c=n.value.data.estree.body[0];c.type,o=e.evaluater.evaluateExpression(c.expression)}else Ty(e,t.position);else o=n.value===null?!0:n.value;r[i]=o}return r}function Ej(e,t){const r=[];let n=-1;const i=e.passKeys?new Map:bNe;for(;++n<t.children.length;){const o=t.children[n];let l;if(e.passKeys){const a=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(a){const s=i.get(a)||0;l=a+"-"+s,i.set(a,s+1)}}const c=eQ(e,o,l);c!==void 0&&r.push(c)}return r}function RNe(e,t,r){const n=Q8e(e.schema,t);if(!(r==null||typeof r=="number"&&Number.isNaN(r))){if(Array.isArray(r)&&(r=n.commaSeparated?B8e(r):rNe(r)),n.property==="style"){let i=typeof r=="object"?r:zNe(e,String(r));return e.stylePropertyNameCase==="css"&&(i=LNe(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&n.space?eNe[n.property]||n.property:n.attribute,r]}}function zNe(e,t){const r={};try{vNe(t,n)}catch(i){if(!e.ignoreInvalidStyle){const o=i,l=new Bi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:o,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw l.file=e.filePath||void 0,l.url=JK+"#cannot-parse-style-attribute",l}}return r;function n(i,o){let l=i;l.slice(0,2)!=="--"&&(l.slice(0,4)==="-ms-"&&(l="ms-"+l.slice(4)),l=l.replace(wNe,BNe)),r[l]=o}}function rQ(e,t,r){let n;if(!r)n={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let o=-1,l;for(;++o<i.length;){const c=qB(i[o])?{type:"Identifier",name:i[o]}:{type:"Literal",value:i[o]};l=l?{type:"MemberExpression",object:l,property:c,computed:!!(o&&c.type==="Literal"),optional:!1}:c}n=l}else n=qB(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(n.type==="Literal"){const i=n.value;return _j.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(n);Ty(e)}function Ty(e,t){const r=new Bi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw r.file=e.filePath||void 0,r.url=JK+"#cannot-handle-mdx-estrees-without-createevaluater",r}function LNe(e){const t={};let r;for(r in e)_j.call(e,r)&&(t[NNe(r)]=e[r]);return t}function NNe(e){let t=e.replace(xNe,FNe);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function BNe(e,t){return t.toUpperCase()}function FNe(e){return"-"+e.toLowerCase()}const CA={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},UNe={};function VNe(e,t){const r=UNe,n=typeof r.includeImageAlt=="boolean"?r.includeImageAlt:!0,i=typeof r.includeHtml=="boolean"?r.includeHtml:!0;return nQ(e,n,i)}function nQ(e,t,r){if(HNe(e)){if("value"in e)return e.type==="html"&&!r?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return n7(e.children,t,r)}return Array.isArray(e)?n7(e,t,r):""}function n7(e,t,r){const n=[];let i=-1;for(;++i<e.length;)n[i]=nQ(e[i],t,r);return n.join("")}function HNe(e){return!!(e&&typeof e=="object")}const i7=document.createElement("i");function Cj(e){const t="&"+e+";";i7.innerHTML=t;const r=i7.textContent;return r.charCodeAt(r.length-1)===59&&e!=="semi"||r===t?!1:r}function Bc(e,t,r,n){const i=e.length;let o=0,l;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,r=r>0?r:0,n.length<1e4)l=Array.from(n),l.unshift(t,r),e.splice(...l);else for(r&&e.splice(t,r);o<n.length;)l=n.slice(o,o+1e4),l.unshift(t,0),e.splice(...l),o+=1e4,t+=1e4}function Na(e,t){return e.length>0?(Bc(e,e.length,0,t),e):t}const o7={}.hasOwnProperty;function WNe(e){const t={};let r=-1;for(;++r<e.length;)GNe(t,e[r]);return t}function GNe(e,t){let r;for(r in t){const i=(o7.call(e,r)?e[r]:void 0)||(e[r]={}),o=t[r];let l;if(o)for(l in o){o7.call(i,l)||(i[l]=[]);const c=o[l];qNe(i[l],Array.isArray(c)?c:c?[c]:[])}}}function qNe(e,t){let r=-1;const n=[];for(;++r<t.length;)(t[r].add==="after"?e:n).push(t[r]);Bc(e,0,0,n)}function iQ(e,t){const r=Number.parseInt(e,t);return r<9||r===11||r>13&&r<32||r>126&&r<160||r>55295&&r<57344||r>64975&&r<65008||(r&65535)===65535||(r&65535)===65534||r>1114111?"�":String.fromCodePoint(r)}function bm(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const fl=xd(/[A-Za-z]/),na=xd(/[\dA-Za-z]/),YNe=xd(/[#-'*+\--9=?A-Z^-~]/);function g4(e){return e!==null&&(e<32||e===127)}const v4=xd(/\d/),$Ne=xd(/[\dA-Fa-f]/),XNe=xd(/[!-/:-@[-`{-~]/);function Mt(e){return e!==null&&e<-2}function Oo(e){return e!==null&&(e<0||e===32)}function fr(e){return e===-2||e===-1||e===32}const KNe=xd(new RegExp("\\p{P}|\\p{S}","u")),QNe=xd(/\s/);function xd(e){return t;function t(r){return r!==null&&r>-1&&e.test(String.fromCharCode(r))}}function jg(e){const t=[];let r=-1,n=0,i=0;for(;++r<e.length;){const o=e.charCodeAt(r);let l="";if(o===37&&na(e.charCodeAt(r+1))&&na(e.charCodeAt(r+2)))i=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(l=String.fromCharCode(o));else if(o>55295&&o<57344){const c=e.charCodeAt(r+1);o<56320&&c>56319&&c<57344?(l=String.fromCharCode(o,c),i=1):l="�"}else l=String.fromCharCode(o);l&&(t.push(e.slice(n,r),encodeURIComponent(l)),n=r+i+1,l=""),i&&(r+=i,i=0)}return t.join("")+e.slice(n)}function zr(e,t,r,n){const i=n?n-1:Number.POSITIVE_INFINITY;let o=0;return l;function l(a){return fr(a)?(e.enter(r),c(a)):t(a)}function c(a){return fr(a)&&o++<i?(e.consume(a),c):(e.exit(r),t(a))}}const ZNe={tokenize:JNe};function JNe(e){const t=e.attempt(this.parser.constructs.contentInitial,n,i);let r;return t;function n(c){if(c===null){e.consume(c);return}return e.enter("lineEnding"),e.consume(c),e.exit("lineEnding"),zr(e,t,"linePrefix")}function i(c){return e.enter("paragraph"),o(c)}function o(c){const a=e.enter("chunkText",{contentType:"text",previous:r});return r&&(r.next=a),r=a,l(c)}function l(c){if(c===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(c);return}return Mt(c)?(e.consume(c),e.exit("chunkText"),o):(e.consume(c),l)}}const e9e={tokenize:t9e},a7={tokenize:r9e};function t9e(e){const t=this,r=[];let n=0,i,o,l;return c;function c(y){if(n<r.length){const b=r[n];return t.containerState=b[1],e.attempt(b[0].continuation,a,s)(y)}return s(y)}function a(y){if(n++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&x();const b=t.events.length;let w=b,_;for(;w--;)if(t.events[w][0]==="exit"&&t.events[w][1].type==="chunkFlow"){_=t.events[w][1].end;break}v(n);let S=b;for(;S<t.events.length;)t.events[S][1].end=Object.assign({},_),S++;return Bc(t.events,w+1,0,t.events.slice(b)),t.events.length=S,s(y)}return c(y)}function s(y){if(n===r.length){if(!i)return h(y);if(i.currentConstruct&&i.currentConstruct.concrete)return m(y);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(a7,u,d)(y)}function u(y){return i&&x(),v(n),h(y)}function d(y){return t.parser.lazy[t.now().line]=n!==r.length,l=t.now().offset,m(y)}function h(y){return t.containerState={},e.attempt(a7,p,m)(y)}function p(y){return n++,r.push([t.currentConstruct,t.containerState]),h(y)}function m(y){if(y===null){i&&x(),v(0),e.consume(y);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{contentType:"flow",previous:o,_tokenizer:i}),f(y)}function f(y){if(y===null){g(e.exit("chunkFlow"),!0),v(0),e.consume(y);return}return Mt(y)?(e.consume(y),g(e.exit("chunkFlow")),n=0,t.interrupt=void 0,c):(e.consume(y),f)}function g(y,b){const w=t.sliceStream(y);if(b&&w.push(null),y.previous=o,o&&(o.next=y),o=y,i.defineSkip(y.start),i.write(w),t.parser.lazy[y.start.line]){let _=i.events.length;for(;_--;)if(i.events[_][1].start.offset<l&&(!i.events[_][1].end||i.events[_][1].end.offset>l))return;const S=t.events.length;let E=S,A,C;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if(A){C=t.events[E][1].end;break}A=!0}for(v(n),_=S;_<t.events.length;)t.events[_][1].end=Object.assign({},C),_++;Bc(t.events,E+1,0,t.events.slice(S)),t.events.length=_}}function v(y){let b=r.length;for(;b-- >y;){const w=r[b];t.containerState=w[1],w[0].exit.call(t,e)}r.length=y}function x(){i.write([null]),o=void 0,i=void 0,t.containerState._closeFlow=void 0}}function r9e(e,t,r){return zr(e,e.attempt(this.parser.constructs.document,t,r),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function s7(e){if(e===null||Oo(e)||QNe(e))return 1;if(KNe(e))return 2}function Aj(e,t,r){const n=[];let i=-1;for(;++i<e.length;){const o=e[i].resolveAll;o&&!n.includes(o)&&(t=o(t,r),n.push(o))}return t}const y4={name:"attention",tokenize:i9e,resolveAll:n9e};function n9e(e,t){let r=-1,n,i,o,l,c,a,s,u;for(;++r<e.length;)if(e[r][0]==="enter"&&e[r][1].type==="attentionSequence"&&e[r][1]._close){for(n=r;n--;)if(e[n][0]==="exit"&&e[n][1].type==="attentionSequence"&&e[n][1]._open&&t.sliceSerialize(e[n][1]).charCodeAt(0)===t.sliceSerialize(e[r][1]).charCodeAt(0)){if((e[n][1]._close||e[r][1]._open)&&(e[r][1].end.offset-e[r][1].start.offset)%3&&!((e[n][1].end.offset-e[n][1].start.offset+e[r][1].end.offset-e[r][1].start.offset)%3))continue;a=e[n][1].end.offset-e[n][1].start.offset>1&&e[r][1].end.offset-e[r][1].start.offset>1?2:1;const d=Object.assign({},e[n][1].end),h=Object.assign({},e[r][1].start);l7(d,-a),l7(h,a),l={type:a>1?"strongSequence":"emphasisSequence",start:d,end:Object.assign({},e[n][1].end)},c={type:a>1?"strongSequence":"emphasisSequence",start:Object.assign({},e[r][1].start),end:h},o={type:a>1?"strongText":"emphasisText",start:Object.assign({},e[n][1].end),end:Object.assign({},e[r][1].start)},i={type:a>1?"strong":"emphasis",start:Object.assign({},l.start),end:Object.assign({},c.end)},e[n][1].end=Object.assign({},l.start),e[r][1].start=Object.assign({},c.end),s=[],e[n][1].end.offset-e[n][1].start.offset&&(s=Na(s,[["enter",e[n][1],t],["exit",e[n][1],t]])),s=Na(s,[["enter",i,t],["enter",l,t],["exit",l,t],["enter",o,t]]),s=Na(s,Aj(t.parser.constructs.insideSpan.null,e.slice(n+1,r),t)),s=Na(s,[["exit",o,t],["enter",c,t],["exit",c,t],["exit",i,t]]),e[r][1].end.offset-e[r][1].start.offset?(u=2,s=Na(s,[["enter",e[r][1],t],["exit",e[r][1],t]])):u=0,Bc(e,n-1,r-n+3,s),r=n+s.length-u-2;break}}for(r=-1;++r<e.length;)e[r][1].type==="attentionSequence"&&(e[r][1].type="data");return e}function i9e(e,t){const r=this.parser.constructs.attentionMarkers.null,n=this.previous,i=s7(n);let o;return l;function l(a){return o=a,e.enter("attentionSequence"),c(a)}function c(a){if(a===o)return e.consume(a),c;const s=e.exit("attentionSequence"),u=s7(a),d=!u||u===2&&i||r.includes(a),h=!i||i===2&&u||r.includes(n);return s._open=!!(o===42?d:d&&(i||!h)),s._close=!!(o===42?h:h&&(u||!d)),t(a)}}function l7(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const o9e={name:"autolink",tokenize:a9e};function a9e(e,t,r){let n=0;return i;function i(p){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(p){return fl(p)?(e.consume(p),l):p===64?r(p):s(p)}function l(p){return p===43||p===45||p===46||na(p)?(n=1,c(p)):s(p)}function c(p){return p===58?(e.consume(p),n=0,a):(p===43||p===45||p===46||na(p))&&n++<32?(e.consume(p),c):(n=0,s(p))}function a(p){return p===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):p===null||p===32||p===60||g4(p)?r(p):(e.consume(p),a)}function s(p){return p===64?(e.consume(p),u):YNe(p)?(e.consume(p),s):r(p)}function u(p){return na(p)?d(p):r(p)}function d(p){return p===46?(e.consume(p),n=0,u):p===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(p),e.exit("autolinkMarker"),e.exit("autolink"),t):h(p)}function h(p){if((p===45||na(p))&&n++<63){const m=p===45?h:d;return e.consume(p),m}return r(p)}}const QS={tokenize:s9e,partial:!0};function s9e(e,t,r){return n;function n(o){return fr(o)?zr(e,i,"linePrefix")(o):i(o)}function i(o){return o===null||Mt(o)?t(o):r(o)}}const oQ={name:"blockQuote",tokenize:l9e,continuation:{tokenize:c9e},exit:u9e};function l9e(e,t,r){const n=this;return i;function i(l){if(l===62){const c=n.containerState;return c.open||(e.enter("blockQuote",{_container:!0}),c.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(l),e.exit("blockQuoteMarker"),o}return r(l)}function o(l){return fr(l)?(e.enter("blockQuotePrefixWhitespace"),e.consume(l),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(l))}}function c9e(e,t,r){const n=this;return i;function i(l){return fr(l)?zr(e,o,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(l):o(l)}function o(l){return e.attempt(oQ,t,r)(l)}}function u9e(e){e.exit("blockQuote")}const aQ={name:"characterEscape",tokenize:d9e};function d9e(e,t,r){return n;function n(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),i}function i(o){return XNe(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):r(o)}}const sQ={name:"characterReference",tokenize:h9e};function h9e(e,t,r){const n=this;let i=0,o,l;return c;function c(d){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),a}function a(d){return d===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(d),e.exit("characterReferenceMarkerNumeric"),s):(e.enter("characterReferenceValue"),o=31,l=na,u(d))}function s(d){return d===88||d===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(d),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,l=$Ne,u):(e.enter("characterReferenceValue"),o=7,l=v4,u(d))}function u(d){if(d===59&&i){const h=e.exit("characterReferenceValue");return l===na&&!Cj(n.sliceSerialize(h))?r(d):(e.enter("characterReferenceMarker"),e.consume(d),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return l(d)&&i++<o?(e.consume(d),u):r(d)}}const c7={tokenize:f9e,partial:!0},u7={name:"codeFenced",tokenize:p9e,concrete:!0};function p9e(e,t,r){const n=this,i={tokenize:w,partial:!0};let o=0,l=0,c;return a;function a(_){return s(_)}function s(_){const S=n.events[n.events.length-1];return o=S&&S[1].type==="linePrefix"?S[2].sliceSerialize(S[1],!0).length:0,c=_,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),u(_)}function u(_){return _===c?(l++,e.consume(_),u):l<3?r(_):(e.exit("codeFencedFenceSequence"),fr(_)?zr(e,d,"whitespace")(_):d(_))}function d(_){return _===null||Mt(_)?(e.exit("codeFencedFence"),n.interrupt?t(_):e.check(c7,f,b)(_)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(_))}function h(_){return _===null||Mt(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),d(_)):fr(_)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),zr(e,p,"whitespace")(_)):_===96&&_===c?r(_):(e.consume(_),h)}function p(_){return _===null||Mt(_)?d(_):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),m(_))}function m(_){return _===null||Mt(_)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),d(_)):_===96&&_===c?r(_):(e.consume(_),m)}function f(_){return e.attempt(i,b,g)(_)}function g(_){return e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),v}function v(_){return o>0&&fr(_)?zr(e,x,"linePrefix",o+1)(_):x(_)}function x(_){return _===null||Mt(_)?e.check(c7,f,b)(_):(e.enter("codeFlowValue"),y(_))}function y(_){return _===null||Mt(_)?(e.exit("codeFlowValue"),x(_)):(e.consume(_),y)}function b(_){return e.exit("codeFenced"),t(_)}function w(_,S,E){let A=0;return C;function C(D){return _.enter("lineEnding"),_.consume(D),_.exit("lineEnding"),M}function M(D){return _.enter("codeFencedFence"),fr(D)?zr(_,T,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(D):T(D)}function T(D){return D===c?(_.enter("codeFencedFenceSequence"),k(D)):E(D)}function k(D){return D===c?(A++,_.consume(D),k):A>=l?(_.exit("codeFencedFenceSequence"),fr(D)?zr(_,P,"whitespace")(D):P(D)):E(D)}function P(D){return D===null||Mt(D)?(_.exit("codeFencedFence"),S(D)):E(D)}}}function f9e(e,t,r){const n=this;return i;function i(l){return l===null?r(l):(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o)}function o(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}const AA={name:"codeIndented",tokenize:g9e},m9e={tokenize:v9e,partial:!0};function g9e(e,t,r){const n=this;return i;function i(s){return e.enter("codeIndented"),zr(e,o,"linePrefix",5)(s)}function o(s){const u=n.events[n.events.length-1];return u&&u[1].type==="linePrefix"&&u[2].sliceSerialize(u[1],!0).length>=4?l(s):r(s)}function l(s){return s===null?a(s):Mt(s)?e.attempt(m9e,l,a)(s):(e.enter("codeFlowValue"),c(s))}function c(s){return s===null||Mt(s)?(e.exit("codeFlowValue"),l(s)):(e.consume(s),c)}function a(s){return e.exit("codeIndented"),t(s)}}function v9e(e,t,r){const n=this;return i;function i(l){return n.parser.lazy[n.now().line]?r(l):Mt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),i):zr(e,o,"linePrefix",5)(l)}function o(l){const c=n.events[n.events.length-1];return c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):Mt(l)?i(l):r(l)}}const y9e={name:"codeText",tokenize:w9e,resolve:b9e,previous:x9e};function b9e(e){let t=e.length-4,r=3,n,i;if((e[r][1].type==="lineEnding"||e[r][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(n=r;++n<t;)if(e[n][1].type==="codeTextData"){e[r][1].type="codeTextPadding",e[t][1].type="codeTextPadding",r+=2,t-=2;break}}for(n=r-1,t++;++n<=t;)i===void 0?n!==t&&e[n][1].type!=="lineEnding"&&(i=n):(n===t||e[n][1].type==="lineEnding")&&(e[i][1].type="codeTextData",n!==i+2&&(e[i][1].end=e[n-1][1].end,e.splice(i+2,n-i-2),t-=n-i-2,n=i+2),i=void 0);return e}function x9e(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function w9e(e,t,r){let n=0,i,o;return l;function l(d){return e.enter("codeText"),e.enter("codeTextSequence"),c(d)}function c(d){return d===96?(e.consume(d),n++,c):(e.exit("codeTextSequence"),a(d))}function a(d){return d===null?r(d):d===32?(e.enter("space"),e.consume(d),e.exit("space"),a):d===96?(o=e.enter("codeTextSequence"),i=0,u(d)):Mt(d)?(e.enter("lineEnding"),e.consume(d),e.exit("lineEnding"),a):(e.enter("codeTextData"),s(d))}function s(d){return d===null||d===32||d===96||Mt(d)?(e.exit("codeTextData"),a(d)):(e.consume(d),s)}function u(d){return d===96?(e.consume(d),i++,u):i===n?(e.exit("codeTextSequence"),e.exit("codeText"),t(d)):(o.type="codeTextData",s(d))}}class _9e{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,r){const n=r??Number.POSITIVE_INFINITY;return n<this.left.length?this.left.slice(t,n):t>this.left.length?this.right.slice(this.right.length-n+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-n+this.left.length).reverse())}splice(t,r,n){const i=r||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return n&&D0(this.left,n),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),D0(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),D0(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const r=this.left.splice(t,Number.POSITIVE_INFINITY);D0(this.right,r.reverse())}else{const r=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);D0(this.left,r.reverse())}}}function D0(e,t){let r=0;if(t.length<1e4)e.push(...t);else for(;r<t.length;)e.push(...t.slice(r,r+1e4)),r+=1e4}function lQ(e){const t={};let r=-1,n,i,o,l,c,a,s;const u=new _9e(e);for(;++r<u.length;){for(;r in t;)r=t[r];if(n=u.get(r),r&&n[1].type==="chunkFlow"&&u.get(r-1)[1].type==="listItemPrefix"&&(a=n[1]._tokenizer.events,o=0,o<a.length&&a[o][1].type==="lineEndingBlank"&&(o+=2),o<a.length&&a[o][1].type==="content"))for(;++o<a.length&&a[o][1].type!=="content";)a[o][1].type==="chunkText"&&(a[o][1]._isInFirstContentOfListItem=!0,o++);if(n[0]==="enter")n[1].contentType&&(Object.assign(t,S9e(u,r)),r=t[r],s=!0);else if(n[1]._container){for(o=r,i=void 0;o--&&(l=u.get(o),l[1].type==="lineEnding"||l[1].type==="lineEndingBlank");)l[0]==="enter"&&(i&&(u.get(i)[1].type="lineEndingBlank"),l[1].type="lineEnding",i=o);i&&(n[1].end=Object.assign({},u.get(i)[1].start),c=u.slice(i,r),c.unshift(n),u.splice(i,r-i+1,c))}}return Bc(e,0,Number.POSITIVE_INFINITY,u.slice(0)),!s}function S9e(e,t){const r=e.get(t)[1],n=e.get(t)[2];let i=t-1;const o=[],l=r._tokenizer||n.parser[r.contentType](r.start),c=l.events,a=[],s={};let u,d,h=-1,p=r,m=0,f=0;const g=[f];for(;p;){for(;e.get(++i)[1]!==p;);o.push(i),p._tokenizer||(u=n.sliceStream(p),p.next||u.push(null),d&&l.defineSkip(p.start),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=!0),l.write(u),p._isInFirstContentOfListItem&&(l._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=r;++h<c.length;)c[h][0]==="exit"&&c[h-1][0]==="enter"&&c[h][1].type===c[h-1][1].type&&c[h][1].start.line!==c[h][1].end.line&&(f=h+1,g.push(f),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(l.events=[],p?(p._tokenizer=void 0,p.previous=void 0):g.pop(),h=g.length;h--;){const v=c.slice(g[h],g[h+1]),x=o.pop();a.push([x,x+v.length-1]),e.splice(x,2,v)}for(a.reverse(),h=-1;++h<a.length;)s[m+a[h][0]]=m+a[h][1],m+=a[h][1]-a[h][0]-1;return s}const E9e={tokenize:M9e,resolve:A9e},C9e={tokenize:T9e,partial:!0};function A9e(e){return lQ(e),e}function M9e(e,t){let r;return n;function n(c){return e.enter("content"),r=e.enter("chunkContent",{contentType:"content"}),i(c)}function i(c){return c===null?o(c):Mt(c)?e.check(C9e,l,o)(c):(e.consume(c),i)}function o(c){return e.exit("chunkContent"),e.exit("content"),t(c)}function l(c){return e.consume(c),e.exit("chunkContent"),r.next=e.enter("chunkContent",{contentType:"content",previous:r}),r=r.next,i}}function T9e(e,t,r){const n=this;return i;function i(l){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),zr(e,o,"linePrefix")}function o(l){if(l===null||Mt(l))return r(l);const c=n.events[n.events.length-1];return!n.parser.constructs.disable.null.includes("codeIndented")&&c&&c[1].type==="linePrefix"&&c[2].sliceSerialize(c[1],!0).length>=4?t(l):e.interrupt(n.parser.constructs.flow,r,t)(l)}}function cQ(e,t,r,n,i,o,l,c,a){const s=a||Number.POSITIVE_INFINITY;let u=0;return d;function d(v){return v===60?(e.enter(n),e.enter(i),e.enter(o),e.consume(v),e.exit(o),h):v===null||v===32||v===41||g4(v)?r(v):(e.enter(n),e.enter(l),e.enter(c),e.enter("chunkString",{contentType:"string"}),f(v))}function h(v){return v===62?(e.enter(o),e.consume(v),e.exit(o),e.exit(i),e.exit(n),t):(e.enter(c),e.enter("chunkString",{contentType:"string"}),p(v))}function p(v){return v===62?(e.exit("chunkString"),e.exit(c),h(v)):v===null||v===60||Mt(v)?r(v):(e.consume(v),v===92?m:p)}function m(v){return v===60||v===62||v===92?(e.consume(v),p):p(v)}function f(v){return!u&&(v===null||v===41||Oo(v))?(e.exit("chunkString"),e.exit(c),e.exit(l),e.exit(n),t(v)):u<s&&v===40?(e.consume(v),u++,f):v===41?(e.consume(v),u--,f):v===null||v===32||v===40||g4(v)?r(v):(e.consume(v),v===92?g:f)}function g(v){return v===40||v===41||v===92?(e.consume(v),f):f(v)}}function uQ(e,t,r,n,i,o){const l=this;let c=0,a;return s;function s(p){return e.enter(n),e.enter(i),e.consume(p),e.exit(i),e.enter(o),u}function u(p){return c>999||p===null||p===91||p===93&&!a||p===94&&!c&&"_hiddenFootnoteSupport"in l.parser.constructs?r(p):p===93?(e.exit(o),e.enter(i),e.consume(p),e.exit(i),e.exit(n),t):Mt(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),u):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||Mt(p)||c++>999?(e.exit("chunkString"),u(p)):(e.consume(p),a||(a=!fr(p)),p===92?h:d)}function h(p){return p===91||p===92||p===93?(e.consume(p),c++,d):d(p)}}function dQ(e,t,r,n,i,o){let l;return c;function c(h){return h===34||h===39||h===40?(e.enter(n),e.enter(i),e.consume(h),e.exit(i),l=h===40?41:h,a):r(h)}function a(h){return h===l?(e.enter(i),e.consume(h),e.exit(i),e.exit(n),t):(e.enter(o),s(h))}function s(h){return h===l?(e.exit(o),a(l)):h===null?r(h):Mt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),zr(e,s,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),u(h))}function u(h){return h===l||h===null||Mt(h)?(e.exit("chunkString"),s(h)):(e.consume(h),h===92?d:u)}function d(h){return h===l||h===92?(e.consume(h),u):u(h)}}function Pv(e,t){let r;return n;function n(i){return Mt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),r=!0,n):fr(i)?zr(e,n,r?"linePrefix":"lineSuffix")(i):t(i)}}const P9e={name:"definition",tokenize:D9e},k9e={tokenize:j9e,partial:!0};function D9e(e,t,r){const n=this;let i;return o;function o(p){return e.enter("definition"),l(p)}function l(p){return uQ.call(n,e,c,r,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function c(p){return i=bm(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)),p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),a):r(p)}function a(p){return Oo(p)?Pv(e,s)(p):s(p)}function s(p){return cQ(e,u,r,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function u(p){return e.attempt(k9e,d,d)(p)}function d(p){return fr(p)?zr(e,h,"whitespace")(p):h(p)}function h(p){return p===null||Mt(p)?(e.exit("definition"),n.parser.defined.push(i),t(p)):r(p)}}function j9e(e,t,r){return n;function n(c){return Oo(c)?Pv(e,i)(c):r(c)}function i(c){return dQ(e,o,r,"definitionTitle","definitionTitleMarker","definitionTitleString")(c)}function o(c){return fr(c)?zr(e,l,"whitespace")(c):l(c)}function l(c){return c===null||Mt(c)?t(c):r(c)}}const I9e={name:"hardBreakEscape",tokenize:O9e};function O9e(e,t,r){return n;function n(o){return e.enter("hardBreakEscape"),e.consume(o),i}function i(o){return Mt(o)?(e.exit("hardBreakEscape"),t(o)):r(o)}}const R9e={name:"headingAtx",tokenize:L9e,resolve:z9e};function z9e(e,t){let r=e.length-2,n=3,i,o;return e[n][1].type==="whitespace"&&(n+=2),r-2>n&&e[r][1].type==="whitespace"&&(r-=2),e[r][1].type==="atxHeadingSequence"&&(n===r-1||r-4>n&&e[r-2][1].type==="whitespace")&&(r-=n+1===r?2:4),r>n&&(i={type:"atxHeadingText",start:e[n][1].start,end:e[r][1].end},o={type:"chunkText",start:e[n][1].start,end:e[r][1].end,contentType:"text"},Bc(e,n,r-n+1,[["enter",i,t],["enter",o,t],["exit",o,t],["exit",i,t]])),e}function L9e(e,t,r){let n=0;return i;function i(u){return e.enter("atxHeading"),o(u)}function o(u){return e.enter("atxHeadingSequence"),l(u)}function l(u){return u===35&&n++<6?(e.consume(u),l):u===null||Oo(u)?(e.exit("atxHeadingSequence"),c(u)):r(u)}function c(u){return u===35?(e.enter("atxHeadingSequence"),a(u)):u===null||Mt(u)?(e.exit("atxHeading"),t(u)):fr(u)?zr(e,c,"whitespace")(u):(e.enter("atxHeadingText"),s(u))}function a(u){return u===35?(e.consume(u),a):(e.exit("atxHeadingSequence"),c(u))}function s(u){return u===null||u===35||Oo(u)?(e.exit("atxHeadingText"),c(u)):(e.consume(u),s)}}const N9e=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],d7=["pre","script","style","textarea"],B9e={name:"htmlFlow",tokenize:H9e,resolveTo:V9e,concrete:!0},F9e={tokenize:G9e,partial:!0},U9e={tokenize:W9e,partial:!0};function V9e(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function H9e(e,t,r){const n=this;let i,o,l,c,a;return s;function s(B){return u(B)}function u(B){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(B),d}function d(B){return B===33?(e.consume(B),h):B===47?(e.consume(B),o=!0,f):B===63?(e.consume(B),i=3,n.interrupt?t:R):fl(B)?(e.consume(B),l=String.fromCharCode(B),g):r(B)}function h(B){return B===45?(e.consume(B),i=2,p):B===91?(e.consume(B),i=5,c=0,m):fl(B)?(e.consume(B),i=4,n.interrupt?t:R):r(B)}function p(B){return B===45?(e.consume(B),n.interrupt?t:R):r(B)}function m(B){const H="CDATA[";return B===H.charCodeAt(c++)?(e.consume(B),c===H.length?n.interrupt?t:T:m):r(B)}function f(B){return fl(B)?(e.consume(B),l=String.fromCharCode(B),g):r(B)}function g(B){if(B===null||B===47||B===62||Oo(B)){const H=B===47,X=l.toLowerCase();return!H&&!o&&d7.includes(X)?(i=1,n.interrupt?t(B):T(B)):N9e.includes(l.toLowerCase())?(i=6,H?(e.consume(B),v):n.interrupt?t(B):T(B)):(i=7,n.interrupt&&!n.parser.lazy[n.now().line]?r(B):o?x(B):y(B))}return B===45||na(B)?(e.consume(B),l+=String.fromCharCode(B),g):r(B)}function v(B){return B===62?(e.consume(B),n.interrupt?t:T):r(B)}function x(B){return fr(B)?(e.consume(B),x):C(B)}function y(B){return B===47?(e.consume(B),C):B===58||B===95||fl(B)?(e.consume(B),b):fr(B)?(e.consume(B),y):C(B)}function b(B){return B===45||B===46||B===58||B===95||na(B)?(e.consume(B),b):w(B)}function w(B){return B===61?(e.consume(B),_):fr(B)?(e.consume(B),w):y(B)}function _(B){return B===null||B===60||B===61||B===62||B===96?r(B):B===34||B===39?(e.consume(B),a=B,S):fr(B)?(e.consume(B),_):E(B)}function S(B){return B===a?(e.consume(B),a=null,A):B===null||Mt(B)?r(B):(e.consume(B),S)}function E(B){return B===null||B===34||B===39||B===47||B===60||B===61||B===62||B===96||Oo(B)?w(B):(e.consume(B),E)}function A(B){return B===47||B===62||fr(B)?y(B):r(B)}function C(B){return B===62?(e.consume(B),M):r(B)}function M(B){return B===null||Mt(B)?T(B):fr(B)?(e.consume(B),M):r(B)}function T(B){return B===45&&i===2?(e.consume(B),I):B===60&&i===1?(e.consume(B),O):B===62&&i===4?(e.consume(B),F):B===63&&i===3?(e.consume(B),R):B===93&&i===5?(e.consume(B),N):Mt(B)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(F9e,U,k)(B)):B===null||Mt(B)?(e.exit("htmlFlowData"),k(B)):(e.consume(B),T)}function k(B){return e.check(U9e,P,U)(B)}function P(B){return e.enter("lineEnding"),e.consume(B),e.exit("lineEnding"),D}function D(B){return B===null||Mt(B)?k(B):(e.enter("htmlFlowData"),T(B))}function I(B){return B===45?(e.consume(B),R):T(B)}function O(B){return B===47?(e.consume(B),l="",j):T(B)}function j(B){if(B===62){const H=l.toLowerCase();return d7.includes(H)?(e.consume(B),F):T(B)}return fl(B)&&l.length<8?(e.consume(B),l+=String.fromCharCode(B),j):T(B)}function N(B){return B===93?(e.consume(B),R):T(B)}function R(B){return B===62?(e.consume(B),F):B===45&&i===2?(e.consume(B),R):T(B)}function F(B){return B===null||Mt(B)?(e.exit("htmlFlowData"),U(B)):(e.consume(B),F)}function U(B){return e.exit("htmlFlow"),t(B)}}function W9e(e,t,r){const n=this;return i;function i(l){return Mt(l)?(e.enter("lineEnding"),e.consume(l),e.exit("lineEnding"),o):r(l)}function o(l){return n.parser.lazy[n.now().line]?r(l):t(l)}}function G9e(e,t,r){return n;function n(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(QS,t,r)}}const q9e={name:"htmlText",tokenize:Y9e};function Y9e(e,t,r){const n=this;let i,o,l;return c;function c(R){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(R),a}function a(R){return R===33?(e.consume(R),s):R===47?(e.consume(R),w):R===63?(e.consume(R),y):fl(R)?(e.consume(R),E):r(R)}function s(R){return R===45?(e.consume(R),u):R===91?(e.consume(R),o=0,m):fl(R)?(e.consume(R),x):r(R)}function u(R){return R===45?(e.consume(R),p):r(R)}function d(R){return R===null?r(R):R===45?(e.consume(R),h):Mt(R)?(l=d,O(R)):(e.consume(R),d)}function h(R){return R===45?(e.consume(R),p):d(R)}function p(R){return R===62?I(R):R===45?h(R):d(R)}function m(R){const F="CDATA[";return R===F.charCodeAt(o++)?(e.consume(R),o===F.length?f:m):r(R)}function f(R){return R===null?r(R):R===93?(e.consume(R),g):Mt(R)?(l=f,O(R)):(e.consume(R),f)}function g(R){return R===93?(e.consume(R),v):f(R)}function v(R){return R===62?I(R):R===93?(e.consume(R),v):f(R)}function x(R){return R===null||R===62?I(R):Mt(R)?(l=x,O(R)):(e.consume(R),x)}function y(R){return R===null?r(R):R===63?(e.consume(R),b):Mt(R)?(l=y,O(R)):(e.consume(R),y)}function b(R){return R===62?I(R):y(R)}function w(R){return fl(R)?(e.consume(R),_):r(R)}function _(R){return R===45||na(R)?(e.consume(R),_):S(R)}function S(R){return Mt(R)?(l=S,O(R)):fr(R)?(e.consume(R),S):I(R)}function E(R){return R===45||na(R)?(e.consume(R),E):R===47||R===62||Oo(R)?A(R):r(R)}function A(R){return R===47?(e.consume(R),I):R===58||R===95||fl(R)?(e.consume(R),C):Mt(R)?(l=A,O(R)):fr(R)?(e.consume(R),A):I(R)}function C(R){return R===45||R===46||R===58||R===95||na(R)?(e.consume(R),C):M(R)}function M(R){return R===61?(e.consume(R),T):Mt(R)?(l=M,O(R)):fr(R)?(e.consume(R),M):A(R)}function T(R){return R===null||R===60||R===61||R===62||R===96?r(R):R===34||R===39?(e.consume(R),i=R,k):Mt(R)?(l=T,O(R)):fr(R)?(e.consume(R),T):(e.consume(R),P)}function k(R){return R===i?(e.consume(R),i=void 0,D):R===null?r(R):Mt(R)?(l=k,O(R)):(e.consume(R),k)}function P(R){return R===null||R===34||R===39||R===60||R===61||R===96?r(R):R===47||R===62||Oo(R)?A(R):(e.consume(R),P)}function D(R){return R===47||R===62||Oo(R)?A(R):r(R)}function I(R){return R===62?(e.consume(R),e.exit("htmlTextData"),e.exit("htmlText"),t):r(R)}function O(R){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(R),e.exit("lineEnding"),j}function j(R){return fr(R)?zr(e,N,"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(R):N(R)}function N(R){return e.enter("htmlTextData"),l(R)}}const Mj={name:"labelEnd",tokenize:J9e,resolveTo:Z9e,resolveAll:Q9e},$9e={tokenize:eBe},X9e={tokenize:tBe},K9e={tokenize:rBe};function Q9e(e){let t=-1;for(;++t<e.length;){const r=e[t][1];(r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd")&&(e.splice(t+1,r.type==="labelImage"?4:2),r.type="data",t++)}return e}function Z9e(e,t){let r=e.length,n=0,i,o,l,c;for(;r--;)if(i=e[r][1],o){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[r][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(l){if(e[r][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(o=r,i.type!=="labelLink")){n=2;break}}else i.type==="labelEnd"&&(l=r);const a={type:e[o][1].type==="labelLink"?"link":"image",start:Object.assign({},e[o][1].start),end:Object.assign({},e[e.length-1][1].end)},s={type:"label",start:Object.assign({},e[o][1].start),end:Object.assign({},e[l][1].end)},u={type:"labelText",start:Object.assign({},e[o+n+2][1].end),end:Object.assign({},e[l-2][1].start)};return c=[["enter",a,t],["enter",s,t]],c=Na(c,e.slice(o+1,o+n+3)),c=Na(c,[["enter",u,t]]),c=Na(c,Aj(t.parser.constructs.insideSpan.null,e.slice(o+n+4,l-3),t)),c=Na(c,[["exit",u,t],e[l-2],e[l-1],["exit",s,t]]),c=Na(c,e.slice(l+1)),c=Na(c,[["exit",a,t]]),Bc(e,o,e.length,c),e}function J9e(e,t,r){const n=this;let i=n.events.length,o,l;for(;i--;)if((n.events[i][1].type==="labelImage"||n.events[i][1].type==="labelLink")&&!n.events[i][1]._balanced){o=n.events[i][1];break}return c;function c(h){return o?o._inactive?d(h):(l=n.parser.defined.includes(bm(n.sliceSerialize({start:o.end,end:n.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),a):r(h)}function a(h){return h===40?e.attempt($9e,u,l?u:d)(h):h===91?e.attempt(X9e,u,l?s:d)(h):l?u(h):d(h)}function s(h){return e.attempt(K9e,u,d)(h)}function u(h){return t(h)}function d(h){return o._balanced=!0,r(h)}}function eBe(e,t,r){return n;function n(d){return e.enter("resource"),e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),i}function i(d){return Oo(d)?Pv(e,o)(d):o(d)}function o(d){return d===41?u(d):cQ(e,l,c,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function l(d){return Oo(d)?Pv(e,a)(d):u(d)}function c(d){return r(d)}function a(d){return d===34||d===39||d===40?dQ(e,s,r,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):u(d)}function s(d){return Oo(d)?Pv(e,u)(d):u(d)}function u(d){return d===41?(e.enter("resourceMarker"),e.consume(d),e.exit("resourceMarker"),e.exit("resource"),t):r(d)}}function tBe(e,t,r){const n=this;return i;function i(c){return uQ.call(n,e,o,l,"reference","referenceMarker","referenceString")(c)}function o(c){return n.parser.defined.includes(bm(n.sliceSerialize(n.events[n.events.length-1][1]).slice(1,-1)))?t(c):r(c)}function l(c){return r(c)}}function rBe(e,t,r){return n;function n(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),i}function i(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):r(o)}}const nBe={name:"labelStartImage",tokenize:iBe,resolveAll:Mj.resolveAll};function iBe(e,t,r){const n=this;return i;function i(c){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(c),e.exit("labelImageMarker"),o}function o(c){return c===91?(e.enter("labelMarker"),e.consume(c),e.exit("labelMarker"),e.exit("labelImage"),l):r(c)}function l(c){return c===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(c):t(c)}}const oBe={name:"labelStartLink",tokenize:aBe,resolveAll:Mj.resolveAll};function aBe(e,t,r){const n=this;return i;function i(l){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(l),e.exit("labelMarker"),e.exit("labelLink"),o}function o(l){return l===94&&"_hiddenFootnoteSupport"in n.parser.constructs?r(l):t(l)}}const MA={name:"lineEnding",tokenize:sBe};function sBe(e,t){return r;function r(n){return e.enter("lineEnding"),e.consume(n),e.exit("lineEnding"),zr(e,t,"linePrefix")}}const ew={name:"thematicBreak",tokenize:lBe};function lBe(e,t,r){let n=0,i;return o;function o(s){return e.enter("thematicBreak"),l(s)}function l(s){return i=s,c(s)}function c(s){return s===i?(e.enter("thematicBreakSequence"),a(s)):n>=3&&(s===null||Mt(s))?(e.exit("thematicBreak"),t(s)):r(s)}function a(s){return s===i?(e.consume(s),n++,a):(e.exit("thematicBreakSequence"),fr(s)?zr(e,c,"whitespace")(s):c(s))}}const fo={name:"list",tokenize:dBe,continuation:{tokenize:hBe},exit:fBe},cBe={tokenize:mBe,partial:!0},uBe={tokenize:pBe,partial:!0};function dBe(e,t,r){const n=this,i=n.events[n.events.length-1];let o=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,l=0;return c;function c(p){const m=n.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(m==="listUnordered"?!n.containerState.marker||p===n.containerState.marker:v4(p)){if(n.containerState.type||(n.containerState.type=m,e.enter(m,{_container:!0})),m==="listUnordered")return e.enter("listItemPrefix"),p===42||p===45?e.check(ew,r,s)(p):s(p);if(!n.interrupt||p===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),a(p)}return r(p)}function a(p){return v4(p)&&++l<10?(e.consume(p),a):(!n.interrupt||l<2)&&(n.containerState.marker?p===n.containerState.marker:p===41||p===46)?(e.exit("listItemValue"),s(p)):r(p)}function s(p){return e.enter("listItemMarker"),e.consume(p),e.exit("listItemMarker"),n.containerState.marker=n.containerState.marker||p,e.check(QS,n.interrupt?r:u,e.attempt(cBe,h,d))}function u(p){return n.containerState.initialBlankLine=!0,o++,h(p)}function d(p){return fr(p)?(e.enter("listItemPrefixWhitespace"),e.consume(p),e.exit("listItemPrefixWhitespace"),h):r(p)}function h(p){return n.containerState.size=o+n.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(p)}}function hBe(e,t,r){const n=this;return n.containerState._closeFlow=void 0,e.check(QS,i,o);function i(c){return n.containerState.furtherBlankLines=n.containerState.furtherBlankLines||n.containerState.initialBlankLine,zr(e,t,"listItemIndent",n.containerState.size+1)(c)}function o(c){return n.containerState.furtherBlankLines||!fr(c)?(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,l(c)):(n.containerState.furtherBlankLines=void 0,n.containerState.initialBlankLine=void 0,e.attempt(uBe,t,l)(c))}function l(c){return n.containerState._closeFlow=!0,n.interrupt=void 0,zr(e,e.attempt(fo,t,r),"linePrefix",n.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(c)}}function pBe(e,t,r){const n=this;return zr(e,i,"listItemIndent",n.containerState.size+1);function i(o){const l=n.events[n.events.length-1];return l&&l[1].type==="listItemIndent"&&l[2].sliceSerialize(l[1],!0).length===n.containerState.size?t(o):r(o)}}function fBe(e){e.exit(this.containerState.type)}function mBe(e,t,r){const n=this;return zr(e,i,"listItemPrefixWhitespace",n.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(o){const l=n.events[n.events.length-1];return!fr(o)&&l&&l[1].type==="listItemPrefixWhitespace"?t(o):r(o)}}const h7={name:"setextUnderline",tokenize:vBe,resolveTo:gBe};function gBe(e,t){let r=e.length,n,i,o;for(;r--;)if(e[r][0]==="enter"){if(e[r][1].type==="content"){n=r;break}e[r][1].type==="paragraph"&&(i=r)}else e[r][1].type==="content"&&e.splice(r,1),!o&&e[r][1].type==="definition"&&(o=r);const l={type:"setextHeading",start:Object.assign({},e[i][1].start),end:Object.assign({},e[e.length-1][1].end)};return e[i][1].type="setextHeadingText",o?(e.splice(i,0,["enter",l,t]),e.splice(o+1,0,["exit",e[n][1],t]),e[n][1].end=Object.assign({},e[o][1].end)):e[n][1]=l,e.push(["exit",l,t]),e}function vBe(e,t,r){const n=this;let i;return o;function o(s){let u=n.events.length,d;for(;u--;)if(n.events[u][1].type!=="lineEnding"&&n.events[u][1].type!=="linePrefix"&&n.events[u][1].type!=="content"){d=n.events[u][1].type==="paragraph";break}return!n.parser.lazy[n.now().line]&&(n.interrupt||d)?(e.enter("setextHeadingLine"),i=s,l(s)):r(s)}function l(s){return e.enter("setextHeadingLineSequence"),c(s)}function c(s){return s===i?(e.consume(s),c):(e.exit("setextHeadingLineSequence"),fr(s)?zr(e,a,"lineSuffix")(s):a(s))}function a(s){return s===null||Mt(s)?(e.exit("setextHeadingLine"),t(s)):r(s)}}const yBe={tokenize:bBe};function bBe(e){const t=this,r=e.attempt(QS,n,e.attempt(this.parser.constructs.flowInitial,i,zr(e,e.attempt(this.parser.constructs.flow,i,e.attempt(E9e,i)),"linePrefix")));return r;function n(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,r}function i(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,r}}const xBe={resolveAll:pQ()},wBe=hQ("string"),_Be=hQ("text");function hQ(e){return{tokenize:t,resolveAll:pQ(e==="text"?SBe:void 0)};function t(r){const n=this,i=this.parser.constructs[e],o=r.attempt(i,l,c);return l;function l(u){return s(u)?o(u):c(u)}function c(u){if(u===null){r.consume(u);return}return r.enter("data"),r.consume(u),a}function a(u){return s(u)?(r.exit("data"),o(u)):(r.consume(u),a)}function s(u){if(u===null)return!0;const d=i[u];let h=-1;if(d)for(;++h<d.length;){const p=d[h];if(!p.previous||p.previous.call(n,n.previous))return!0}return!1}}}function pQ(e){return t;function t(r,n){let i=-1,o;for(;++i<=r.length;)o===void 0?r[i]&&r[i][1].type==="data"&&(o=i,i++):(!r[i]||r[i][1].type!=="data")&&(i!==o+2&&(r[o][1].end=r[i-1][1].end,r.splice(o+2,i-o-2),i=o+2),o=void 0);return e?e(r,n):r}}function SBe(e,t){let r=0;for(;++r<=e.length;)if((r===e.length||e[r][1].type==="lineEnding")&&e[r-1][1].type==="data"){const n=e[r-1][1],i=t.sliceStream(n);let o=i.length,l=-1,c=0,a;for(;o--;){const s=i[o];if(typeof s=="string"){for(l=s.length;s.charCodeAt(l-1)===32;)c++,l--;if(l)break;l=-1}else if(s===-2)a=!0,c++;else if(s!==-1){o++;break}}if(c){const s={type:r===e.length||a||c<2?"lineSuffix":"hardBreakTrailing",start:{line:n.end.line,column:n.end.column-c,offset:n.end.offset-c,_index:n.start._index+o,_bufferIndex:o?l:n.start._bufferIndex+l},end:Object.assign({},n.end)};n.end=Object.assign({},s.start),n.start.offset===n.end.offset?Object.assign(n,s):(e.splice(r,0,["enter",s,t],["exit",s,t]),r+=2)}r++}return e}function EBe(e,t,r){let n=Object.assign(r?Object.assign({},r):{line:1,column:1,offset:0},{_index:0,_bufferIndex:-1});const i={},o=[];let l=[],c=[];const a={consume:x,enter:y,exit:b,attempt:S(w),check:S(_),interrupt:S(_,{interrupt:!0})},s={previous:null,code:null,containerState:{},events:[],parser:e,sliceStream:p,sliceSerialize:h,now:m,defineSkip:f,write:d};let u=t.tokenize.call(s,a);return t.resolveAll&&o.push(t),s;function d(M){return l=Na(l,M),g(),l[l.length-1]!==null?[]:(E(t,0),s.events=Aj(o,s.events,s),s.events)}function h(M,T){return ABe(p(M),T)}function p(M){return CBe(l,M)}function m(){const{line:M,column:T,offset:k,_index:P,_bufferIndex:D}=n;return{line:M,column:T,offset:k,_index:P,_bufferIndex:D}}function f(M){i[M.line]=M.column,C()}function g(){let M;for(;n._index<l.length;){const T=l[n._index];if(typeof T=="string")for(M=n._index,n._bufferIndex<0&&(n._bufferIndex=0);n._index===M&&n._bufferIndex<T.length;)v(T.charCodeAt(n._bufferIndex));else v(T)}}function v(M){u=u(M)}function x(M){Mt(M)?(n.line++,n.column=1,n.offset+=M===-3?2:1,C()):M!==-1&&(n.column++,n.offset++),n._bufferIndex<0?n._index++:(n._bufferIndex++,n._bufferIndex===l[n._index].length&&(n._bufferIndex=-1,n._index++)),s.previous=M}function y(M,T){const k=T||{};return k.type=M,k.start=m(),s.events.push(["enter",k,s]),c.push(k),k}function b(M){const T=c.pop();return T.end=m(),s.events.push(["exit",T,s]),T}function w(M,T){E(M,T.from)}function _(M,T){T.restore()}function S(M,T){return k;function k(P,D,I){let O,j,N,R;return Array.isArray(P)?U(P):"tokenize"in P?U([P]):F(P);function F(G){return Z;function Z(J){const ee=J!==null&&G[J],q=J!==null&&G.null,Y=[...Array.isArray(ee)?ee:ee?[ee]:[],...Array.isArray(q)?q:q?[q]:[]];return U(Y)(J)}}function U(G){return O=G,j=0,G.length===0?I:B(G[j])}function B(G){return Z;function Z(J){return R=A(),N=G,G.partial||(s.currentConstruct=G),G.name&&s.parser.constructs.disable.null.includes(G.name)?X():G.tokenize.call(T?Object.assign(Object.create(s),T):s,a,H,X)(J)}}function H(G){return M(N,R),D}function X(G){return R.restore(),++j<O.length?B(O[j]):I}}}function E(M,T){M.resolveAll&&!o.includes(M)&&o.push(M),M.resolve&&Bc(s.events,T,s.events.length-T,M.resolve(s.events.slice(T),s)),M.resolveTo&&(s.events=M.resolveTo(s.events,s))}function A(){const M=m(),T=s.previous,k=s.currentConstruct,P=s.events.length,D=Array.from(c);return{restore:I,from:P};function I(){n=M,s.previous=T,s.currentConstruct=k,s.events.length=P,c=D,C()}}function C(){n.line in i&&n.column<2&&(n.column=i[n.line],n.offset+=i[n.line]-1)}}function CBe(e,t){const r=t.start._index,n=t.start._bufferIndex,i=t.end._index,o=t.end._bufferIndex;let l;if(r===i)l=[e[r].slice(n,o)];else{if(l=e.slice(r,i),n>-1){const c=l[0];typeof c=="string"?l[0]=c.slice(n):l.shift()}o>0&&l.push(e[i].slice(0,o))}return l}function ABe(e,t){let r=-1;const n=[];let i;for(;++r<e.length;){const o=e[r];let l;if(typeof o=="string")l=o;else switch(o){case-5:{l="\r";break}case-4:{l=`
`;break}case-3:{l=`\r
`;break}case-2:{l=t?" ":"	";break}case-1:{if(!t&&i)continue;l=" ";break}default:l=String.fromCharCode(o)}i=o===-2,n.push(l)}return n.join("")}const MBe={42:fo,43:fo,45:fo,48:fo,49:fo,50:fo,51:fo,52:fo,53:fo,54:fo,55:fo,56:fo,57:fo,62:oQ},TBe={91:P9e},PBe={[-2]:AA,[-1]:AA,32:AA},kBe={35:R9e,42:ew,45:[h7,ew],60:B9e,61:h7,95:ew,96:u7,126:u7},DBe={38:sQ,92:aQ},jBe={[-5]:MA,[-4]:MA,[-3]:MA,33:nBe,38:sQ,42:y4,60:[o9e,q9e],91:oBe,92:[I9e,aQ],93:Mj,95:y4,96:y9e},IBe={null:[y4,xBe]},OBe={null:[42,95]},RBe={null:[]},zBe=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:OBe,contentInitial:TBe,disable:RBe,document:MBe,flow:kBe,flowInitial:PBe,insideSpan:IBe,string:DBe,text:jBe},Symbol.toStringTag,{value:"Module"}));function LBe(e){const r=WNe([zBe,...(e||{}).extensions||[]]),n={defined:[],lazy:{},constructs:r,content:i(ZNe),document:i(e9e),flow:i(yBe),string:i(wBe),text:i(_Be)};return n;function i(o){return l;function l(c){return EBe(n,o,c)}}}function NBe(e){for(;!lQ(e););return e}const p7=/[\0\t\n\r]/g;function BBe(){let e=1,t="",r=!0,n;return i;function i(o,l,c){const a=[];let s,u,d,h,p;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(l||void 0).decode(o)),d=0,t="",r&&(o.charCodeAt(0)===65279&&d++,r=void 0);d<o.length;){if(p7.lastIndex=d,s=p7.exec(o),h=s&&s.index!==void 0?s.index:o.length,p=o.charCodeAt(h),!s){t=o.slice(d);break}if(p===10&&d===h&&n)a.push(-3),n=void 0;else switch(n&&(a.push(-5),n=void 0),d<h&&(a.push(o.slice(d,h)),e+=h-d),p){case 0:{a.push(65533),e++;break}case 9:{for(u=Math.ceil(e/4)*4,a.push(-2);e++<u;)a.push(-1);break}case 10:{a.push(-4),e=1;break}default:n=!0,e=1}d=h+1}return c&&(n&&a.push(-5),t&&a.push(t),a.push(null)),a}}const FBe=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function UBe(e){return e.replace(FBe,VBe)}function VBe(e,t,r){if(t)return t;if(r.charCodeAt(0)===35){const i=r.charCodeAt(1),o=i===120||i===88;return iQ(r.slice(o?2:1),o?16:10)}return Cj(r)||e}const fQ={}.hasOwnProperty;function HBe(e,t,r){return typeof t!="string"&&(r=t,t=void 0),WBe(r)(NBe(LBe(r).document().write(BBe()(e,t,!0))))}function WBe(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(Te),autolinkProtocol:A,autolinkEmail:A,atxHeading:o(de),blockQuote:o(q),characterEscape:A,characterReference:A,codeFenced:o(Y),codeFencedFenceInfo:l,codeFencedFenceMeta:l,codeIndented:o(Y,l),codeText:o(Q,l),codeTextData:A,data:A,codeFlowValue:A,definition:o(ie),definitionDestinationString:l,definitionLabelString:l,definitionTitleString:l,emphasis:o(le),hardBreakEscape:o(De),hardBreakTrailing:o(De),htmlFlow:o(Me,l),htmlFlowData:A,htmlText:o(Me,l),htmlTextData:A,image:o(Ee),label:l,link:o(Te),listItem:o(ze),listItemValue:h,listOrdered:o($e,d),listUnordered:o($e),paragraph:o(K),reference:B,referenceString:l,resourceDestinationString:l,resourceTitleString:l,setextHeading:o(de),strong:o(W),thematicBreak:o(Se)},exit:{atxHeading:a(),atxHeadingSequence:w,autolink:a(),autolinkEmail:ee,autolinkProtocol:J,blockQuote:a(),characterEscapeValue:C,characterReferenceMarkerHexadecimal:X,characterReferenceMarkerNumeric:X,characterReferenceValue:G,characterReference:Z,codeFenced:a(g),codeFencedFence:f,codeFencedFenceInfo:p,codeFencedFenceMeta:m,codeFlowValue:C,codeIndented:a(v),codeText:a(D),codeTextData:C,data:C,definition:a(),definitionDestinationString:b,definitionLabelString:x,definitionTitleString:y,emphasis:a(),hardBreakEscape:a(T),hardBreakTrailing:a(T),htmlFlow:a(k),htmlFlowData:C,htmlText:a(P),htmlTextData:C,image:a(O),label:N,labelText:j,lineEnding:M,link:a(I),listItem:a(),listOrdered:a(),listUnordered:a(),paragraph:a(),referenceString:H,resourceDestinationString:R,resourceTitleString:F,resource:U,setextHeading:a(E),setextHeadingLineSequence:S,setextHeadingText:_,strong:a(),thematicBreak:a()}};mQ(t,(e||{}).mdastExtensions||[]);const r={};return n;function n(te){let ce={type:"root",children:[]};const we={stack:[ce],tokenStack:[],config:t,enter:c,exit:s,buffer:l,resume:u,data:r},fe=[];let he=-1;for(;++he<te.length;)if(te[he][1].type==="listOrdered"||te[he][1].type==="listUnordered")if(te[he][0]==="enter")fe.push(he);else{const Ne=fe.pop();he=i(te,Ne,he)}for(he=-1;++he<te.length;){const Ne=t[te[he][0]];fQ.call(Ne,te[he][1].type)&&Ne[te[he][1].type].call(Object.assign({sliceSerialize:te[he][2].sliceSerialize},we),te[he][1])}if(we.tokenStack.length>0){const Ne=we.tokenStack[we.tokenStack.length-1];(Ne[1]||f7).call(we,void 0,Ne[0])}for(ce.position={start:cu(te.length>0?te[0][1].start:{line:1,column:1,offset:0}),end:cu(te.length>0?te[te.length-2][1].end:{line:1,column:1,offset:0})},he=-1;++he<t.transforms.length;)ce=t.transforms[he](ce)||ce;return ce}function i(te,ce,we){let fe=ce-1,he=-1,Ne=!1,Xe,Ce,Ue,Ge;for(;++fe<=we;){const st=te[fe];switch(st[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{st[0]==="enter"?he++:he--,Ge=void 0;break}case"lineEndingBlank":{st[0]==="enter"&&(Xe&&!Ge&&!he&&!Ue&&(Ue=fe),Ge=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:Ge=void 0}if(!he&&st[0]==="enter"&&st[1].type==="listItemPrefix"||he===-1&&st[0]==="exit"&&(st[1].type==="listUnordered"||st[1].type==="listOrdered")){if(Xe){let He=fe;for(Ce=void 0;He--;){const tt=te[He];if(tt[1].type==="lineEnding"||tt[1].type==="lineEndingBlank"){if(tt[0]==="exit")continue;Ce&&(te[Ce][1].type="lineEndingBlank",Ne=!0),tt[1].type="lineEnding",Ce=He}else if(!(tt[1].type==="linePrefix"||tt[1].type==="blockQuotePrefix"||tt[1].type==="blockQuotePrefixWhitespace"||tt[1].type==="blockQuoteMarker"||tt[1].type==="listItemIndent"))break}Ue&&(!Ce||Ue<Ce)&&(Xe._spread=!0),Xe.end=Object.assign({},Ce?te[Ce][1].start:st[1].end),te.splice(Ce||fe,0,["exit",Xe,st[2]]),fe++,we++}if(st[1].type==="listItemPrefix"){const He={type:"listItem",_spread:!1,start:Object.assign({},st[1].start),end:void 0};Xe=He,te.splice(fe,0,["enter",He,st[2]]),fe++,we++,Ue=void 0,Ge=!0}}}return te[ce][1]._spread=Ne,we}function o(te,ce){return we;function we(fe){c.call(this,te(fe),fe),ce&&ce.call(this,fe)}}function l(){this.stack.push({type:"fragment",children:[]})}function c(te,ce,we){this.stack[this.stack.length-1].children.push(te),this.stack.push(te),this.tokenStack.push([ce,we]),te.position={start:cu(ce.start),end:void 0}}function a(te){return ce;function ce(we){te&&te.call(this,we),s.call(this,we)}}function s(te,ce){const we=this.stack.pop(),fe=this.tokenStack.pop();if(fe)fe[0].type!==te.type&&(ce?ce.call(this,te,fe[0]):(fe[1]||f7).call(this,te,fe[0]));else throw new Error("Cannot close `"+te.type+"` ("+Tv({start:te.start,end:te.end})+"): it’s not open");we.position.end=cu(te.end)}function u(){return VNe(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function h(te){if(this.data.expectingFirstListItemValue){const ce=this.stack[this.stack.length-2];ce.start=Number.parseInt(this.sliceSerialize(te),10),this.data.expectingFirstListItemValue=void 0}}function p(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.lang=te}function m(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.meta=te}function f(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function g(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function v(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te.replace(/(\r?\n|\r)$/g,"")}function x(te){const ce=this.resume(),we=this.stack[this.stack.length-1];we.label=ce,we.identifier=bm(this.sliceSerialize(te)).toLowerCase()}function y(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.title=te}function b(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.url=te}function w(te){const ce=this.stack[this.stack.length-1];if(!ce.depth){const we=this.sliceSerialize(te).length;ce.depth=we}}function _(){this.data.setextHeadingSlurpLineEnding=!0}function S(te){const ce=this.stack[this.stack.length-1];ce.depth=this.sliceSerialize(te).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function A(te){const we=this.stack[this.stack.length-1].children;let fe=we[we.length-1];(!fe||fe.type!=="text")&&(fe=se(),fe.position={start:cu(te.start),end:void 0},we.push(fe)),this.stack.push(fe)}function C(te){const ce=this.stack.pop();ce.value+=this.sliceSerialize(te),ce.position.end=cu(te.end)}function M(te){const ce=this.stack[this.stack.length-1];if(this.data.atHardBreak){const we=ce.children[ce.children.length-1];we.position.end=cu(te.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ce.type)&&(A.call(this,te),C.call(this,te))}function T(){this.data.atHardBreak=!0}function k(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te}function P(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te}function D(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.value=te}function I(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ce,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function O(){const te=this.stack[this.stack.length-1];if(this.data.inReference){const ce=this.data.referenceType||"shortcut";te.type+="Reference",te.referenceType=ce,delete te.url,delete te.title}else delete te.identifier,delete te.label;this.data.referenceType=void 0}function j(te){const ce=this.sliceSerialize(te),we=this.stack[this.stack.length-2];we.label=UBe(ce),we.identifier=bm(ce).toLowerCase()}function N(){const te=this.stack[this.stack.length-1],ce=this.resume(),we=this.stack[this.stack.length-1];if(this.data.inReference=!0,we.type==="link"){const fe=te.children;we.children=fe}else we.alt=ce}function R(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.url=te}function F(){const te=this.resume(),ce=this.stack[this.stack.length-1];ce.title=te}function U(){this.data.inReference=void 0}function B(){this.data.referenceType="collapsed"}function H(te){const ce=this.resume(),we=this.stack[this.stack.length-1];we.label=ce,we.identifier=bm(this.sliceSerialize(te)).toLowerCase(),this.data.referenceType="full"}function X(te){this.data.characterReferenceType=te.type}function G(te){const ce=this.sliceSerialize(te),we=this.data.characterReferenceType;let fe;we?(fe=iQ(ce,we==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):fe=Cj(ce);const he=this.stack[this.stack.length-1];he.value+=fe}function Z(te){const ce=this.stack.pop();ce.position.end=cu(te.end)}function J(te){C.call(this,te);const ce=this.stack[this.stack.length-1];ce.url=this.sliceSerialize(te)}function ee(te){C.call(this,te);const ce=this.stack[this.stack.length-1];ce.url="mailto:"+this.sliceSerialize(te)}function q(){return{type:"blockquote",children:[]}}function Y(){return{type:"code",lang:null,meta:null,value:""}}function Q(){return{type:"inlineCode",value:""}}function ie(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function le(){return{type:"emphasis",children:[]}}function de(){return{type:"heading",depth:0,children:[]}}function De(){return{type:"break"}}function Me(){return{type:"html",value:""}}function Ee(){return{type:"image",title:null,url:"",alt:null}}function Te(){return{type:"link",title:null,url:"",children:[]}}function $e(te){return{type:"list",ordered:te.type==="listOrdered",start:null,spread:te._spread,children:[]}}function ze(te){return{type:"listItem",spread:te._spread,checked:null,children:[]}}function K(){return{type:"paragraph",children:[]}}function W(){return{type:"strong",children:[]}}function se(){return{type:"text",value:""}}function Se(){return{type:"thematicBreak"}}}function cu(e){return{line:e.line,column:e.column,offset:e.offset}}function mQ(e,t){let r=-1;for(;++r<t.length;){const n=t[r];Array.isArray(n)?mQ(e,n):GBe(e,n)}}function GBe(e,t){let r;for(r in t)if(fQ.call(t,r))switch(r){case"canContainEols":{const n=t[r];n&&e[r].push(...n);break}case"transforms":{const n=t[r];n&&e[r].push(...n);break}case"enter":case"exit":{const n=t[r];n&&Object.assign(e[r],n);break}}}function f7(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Tv({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Tv({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Tv({start:t.start,end:t.end})+") is still open")}function qBe(e){const t=this;t.parser=r;function r(n){return HBe(n,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function YBe(e,t){const r={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,r),e.applyData(t,r)}function $Be(e,t){const r={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,r),[e.applyData(t,r),{type:"text",value:`
`}]}function XBe(e,t){const r=t.value?t.value+`
`:"",n={};t.lang&&(n.className=["language-"+t.lang]);let i={type:"element",tagName:"code",properties:n,children:[{type:"text",value:r}]};return t.meta&&(i.data={meta:t.meta}),e.patch(t,i),i=e.applyData(t,i),i={type:"element",tagName:"pre",properties:{},children:[i]},e.patch(t,i),i}function KBe(e,t){const r={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function QBe(e,t){const r={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function ZBe(e,t){const r=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=String(t.identifier).toUpperCase(),i=jg(n.toLowerCase()),o=e.footnoteOrder.indexOf(n);let l,c=e.footnoteCounts.get(n);c===void 0?(c=0,e.footnoteOrder.push(n),l=e.footnoteOrder.length):l=o+1,c+=1,e.footnoteCounts.set(n,c);const a={type:"element",tagName:"a",properties:{href:"#"+r+"fn-"+i,id:r+"fnref-"+i+(c>1?"-"+c:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(l)}]};e.patch(t,a);const s={type:"element",tagName:"sup",properties:{},children:[a]};return e.patch(t,s),e.applyData(t,s)}function JBe(e,t){const r={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function e7e(e,t){if(e.options.allowDangerousHtml){const r={type:"raw",value:t.value};return e.patch(t,r),e.applyData(t,r)}}function gQ(e,t){const r=t.referenceType;let n="]";if(r==="collapsed"?n+="[]":r==="full"&&(n+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+n}];const i=e.all(t),o=i[0];o&&o.type==="text"?o.value="["+o.value:i.unshift({type:"text",value:"["});const l=i[i.length-1];return l&&l.type==="text"?l.value+=n:i.push({type:"text",value:n}),i}function t7e(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return gQ(e,t);const i={src:jg(n.url||""),alt:t.alt};n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,o),e.applyData(t,o)}function r7e(e,t){const r={src:jg(t.url)};t.alt!==null&&t.alt!==void 0&&(r.alt=t.alt),t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"img",properties:r,children:[]};return e.patch(t,n),e.applyData(t,n)}function n7e(e,t){const r={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,r);const n={type:"element",tagName:"code",properties:{},children:[r]};return e.patch(t,n),e.applyData(t,n)}function i7e(e,t){const r=String(t.identifier).toUpperCase(),n=e.definitionById.get(r);if(!n)return gQ(e,t);const i={href:jg(n.url||"")};n.title!==null&&n.title!==void 0&&(i.title=n.title);const o={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function o7e(e,t){const r={href:jg(t.url)};t.title!==null&&t.title!==void 0&&(r.title=t.title);const n={type:"element",tagName:"a",properties:r,children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function a7e(e,t,r){const n=e.all(t),i=r?s7e(r):vQ(t),o={},l=[];if(typeof t.checked=="boolean"){const u=n[0];let d;u&&u.type==="element"&&u.tagName==="p"?d=u:(d={type:"element",tagName:"p",properties:{},children:[]},n.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let c=-1;for(;++c<n.length;){const u=n[c];(i||c!==0||u.type!=="element"||u.tagName!=="p")&&l.push({type:"text",value:`
`}),u.type==="element"&&u.tagName==="p"&&!i?l.push(...u.children):l.push(u)}const a=n[n.length-1];a&&(i||a.type!=="element"||a.tagName!=="p")&&l.push({type:"text",value:`
`});const s={type:"element",tagName:"li",properties:o,children:l};return e.patch(t,s),e.applyData(t,s)}function s7e(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const r=e.children;let n=-1;for(;!t&&++n<r.length;)t=vQ(r[n])}return t}function vQ(e){const t=e.spread;return t??e.children.length>1}function l7e(e,t){const r={},n=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(r.start=t.start);++i<n.length;){const l=n[i];if(l.type==="element"&&l.tagName==="li"&&l.properties&&Array.isArray(l.properties.className)&&l.properties.className.includes("task-list-item")){r.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:r,children:e.wrap(n,!0)};return e.patch(t,o),e.applyData(t,o)}function c7e(e,t){const r={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function u7e(e,t){const r={type:"root",children:e.wrap(e.all(t))};return e.patch(t,r),e.applyData(t,r)}function d7e(e,t){const r={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function h7e(e,t){const r=e.all(t),n=r.shift(),i=[];if(n){const l={type:"element",tagName:"thead",properties:{},children:e.wrap([n],!0)};e.patch(t.children[0],l),i.push(l)}if(r.length>0){const l={type:"element",tagName:"tbody",properties:{},children:e.wrap(r,!0)},c=wj(t.children[1]),a=QK(t.children[t.children.length-1]);c&&a&&(l.position={start:c,end:a}),i.push(l)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,o),e.applyData(t,o)}function p7e(e,t,r){const n=r?r.children:void 0,o=(n?n.indexOf(t):1)===0?"th":"td",l=r&&r.type==="table"?r.align:void 0,c=l?l.length:t.children.length;let a=-1;const s=[];for(;++a<c;){const d=t.children[a],h={},p=l?l[a]:void 0;p&&(h.align=p);let m={type:"element",tagName:o,properties:h,children:[]};d&&(m.children=e.all(d),e.patch(d,m),m=e.applyData(d,m)),s.push(m)}const u={type:"element",tagName:"tr",properties:{},children:e.wrap(s,!0)};return e.patch(t,u),e.applyData(t,u)}function f7e(e,t){const r={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}const m7=9,g7=32;function m7e(e){const t=String(e),r=/\r?\n|\r/g;let n=r.exec(t),i=0;const o=[];for(;n;)o.push(v7(t.slice(i,n.index),i>0,!0),n[0]),i=n.index+n[0].length,n=r.exec(t);return o.push(v7(t.slice(i),i>0,!1)),o.join("")}function v7(e,t,r){let n=0,i=e.length;if(t){let o=e.codePointAt(n);for(;o===m7||o===g7;)n++,o=e.codePointAt(n)}if(r){let o=e.codePointAt(i-1);for(;o===m7||o===g7;)i--,o=e.codePointAt(i-1)}return i>n?e.slice(n,i):""}function g7e(e,t){const r={type:"text",value:m7e(String(t.value))};return e.patch(t,r),e.applyData(t,r)}function v7e(e,t){const r={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,r),e.applyData(t,r)}const y7e={blockquote:YBe,break:$Be,code:XBe,delete:KBe,emphasis:QBe,footnoteReference:ZBe,heading:JBe,html:e7e,imageReference:t7e,image:r7e,inlineCode:n7e,linkReference:i7e,link:o7e,listItem:a7e,list:l7e,paragraph:c7e,root:u7e,strong:d7e,table:h7e,tableCell:f7e,tableRow:p7e,text:g7e,thematicBreak:v7e,toml:dx,yaml:dx,definition:dx,footnoteDefinition:dx};function dx(){}const yQ=-1,ZS=0,q_=1,Y_=2,Tj=3,Pj=4,kj=5,Dj=6,bQ=7,xQ=8,y7=typeof self=="object"?self:globalThis,b7e=(e,t)=>{const r=(i,o)=>(e.set(o,i),i),n=i=>{if(e.has(i))return e.get(i);const[o,l]=t[i];switch(o){case ZS:case yQ:return r(l,i);case q_:{const c=r([],i);for(const a of l)c.push(n(a));return c}case Y_:{const c=r({},i);for(const[a,s]of l)c[n(a)]=n(s);return c}case Tj:return r(new Date(l),i);case Pj:{const{source:c,flags:a}=l;return r(new RegExp(c,a),i)}case kj:{const c=r(new Map,i);for(const[a,s]of l)c.set(n(a),n(s));return c}case Dj:{const c=r(new Set,i);for(const a of l)c.add(n(a));return c}case bQ:{const{name:c,message:a}=l;return r(new y7[c](a),i)}case xQ:return r(BigInt(l),i);case"BigInt":return r(Object(BigInt(l)),i)}return r(new y7[o](l),i)};return n},b7=e=>b7e(new Map,e)(0),rf="",{toString:x7e}={},{keys:w7e}=Object,j0=e=>{const t=typeof e;if(t!=="object"||!e)return[ZS,t];const r=x7e.call(e).slice(8,-1);switch(r){case"Array":return[q_,rf];case"Object":return[Y_,rf];case"Date":return[Tj,rf];case"RegExp":return[Pj,rf];case"Map":return[kj,rf];case"Set":return[Dj,rf]}return r.includes("Array")?[q_,r]:r.includes("Error")?[bQ,r]:[Y_,r]},hx=([e,t])=>e===ZS&&(t==="function"||t==="symbol"),_7e=(e,t,r,n)=>{const i=(l,c)=>{const a=n.push(l)-1;return r.set(c,a),a},o=l=>{if(r.has(l))return r.get(l);let[c,a]=j0(l);switch(c){case ZS:{let u=l;switch(a){case"bigint":c=xQ,u=l.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+a);u=null;break;case"undefined":return i([yQ],l)}return i([c,u],l)}case q_:{if(a)return i([a,[...l]],l);const u=[],d=i([c,u],l);for(const h of l)u.push(o(h));return d}case Y_:{if(a)switch(a){case"BigInt":return i([a,l.toString()],l);case"Boolean":case"Number":case"String":return i([a,l.valueOf()],l)}if(t&&"toJSON"in l)return o(l.toJSON());const u=[],d=i([c,u],l);for(const h of w7e(l))(e||!hx(j0(l[h])))&&u.push([o(h),o(l[h])]);return d}case Tj:return i([c,l.toISOString()],l);case Pj:{const{source:u,flags:d}=l;return i([c,{source:u,flags:d}],l)}case kj:{const u=[],d=i([c,u],l);for(const[h,p]of l)(e||!(hx(j0(h))||hx(j0(p))))&&u.push([o(h),o(p)]);return d}case Dj:{const u=[],d=i([c,u],l);for(const h of l)(e||!hx(j0(h)))&&u.push(o(h));return d}}const{message:s}=l;return i([c,{name:a,message:s}],l)};return o},x7=(e,{json:t,lossy:r}={})=>{const n=[];return _7e(!(t||r),!!t,new Map,n)(e),n},$_=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?b7(x7(e,t)):structuredClone(e):(e,t)=>b7(x7(e,t));function S7e(e,t){const r=[{type:"text",value:"↩"}];return t>1&&r.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),r}function E7e(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function C7e(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=e.options.footnoteBackContent||S7e,n=e.options.footnoteBackLabel||E7e,i=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",l=e.options.footnoteLabelProperties||{className:["sr-only"]},c=[];let a=-1;for(;++a<e.footnoteOrder.length;){const s=e.footnoteById.get(e.footnoteOrder[a]);if(!s)continue;const u=e.all(s),d=String(s.identifier).toUpperCase(),h=jg(d.toLowerCase());let p=0;const m=[],f=e.footnoteCounts.get(d);for(;f!==void 0&&++p<=f;){m.length>0&&m.push({type:"text",value:" "});let x=typeof r=="string"?r:r(a,p);typeof x=="string"&&(x={type:"text",value:x}),m.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof n=="string"?n:n(a,p),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const g=u[u.length-1];if(g&&g.type==="element"&&g.tagName==="p"){const x=g.children[g.children.length-1];x&&x.type==="text"?x.value+=" ":g.children.push({type:"text",value:" "}),g.children.push(...m)}else u.push(...m);const v={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(u,!0)};e.patch(s,v),c.push(v)}if(c.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...$_(l),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(c,!0)},{type:"text",value:`
`}]}}const wQ=function(e){if(e==null)return P7e;if(typeof e=="function")return JS(e);if(typeof e=="object")return Array.isArray(e)?A7e(e):M7e(e);if(typeof e=="string")return T7e(e);throw new Error("Expected function, string, or object as test")};function A7e(e){const t=[];let r=-1;for(;++r<e.length;)t[r]=wQ(e[r]);return JS(n);function n(...i){let o=-1;for(;++o<t.length;)if(t[o].apply(this,i))return!0;return!1}}function M7e(e){const t=e;return JS(r);function r(n){const i=n;let o;for(o in e)if(i[o]!==t[o])return!1;return!0}}function T7e(e){return JS(t);function t(r){return r&&r.type===e}}function JS(e){return t;function t(r,n,i){return!!(k7e(r)&&e.call(this,r,typeof n=="number"?n:void 0,i||void 0))}}function P7e(){return!0}function k7e(e){return e!==null&&typeof e=="object"&&"type"in e}const _Q=[],D7e=!0,w7=!1,j7e="skip";function I7e(e,t,r,n){let i;typeof t=="function"&&typeof r!="function"?(n=r,r=t):i=t;const o=wQ(i),l=n?-1:1;c(e,void 0,[])();function c(a,s,u){const d=a&&typeof a=="object"?a:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(a.type+(p?"<"+p+">":""))+")"})}return h;function h(){let p=_Q,m,f,g;if((!t||o(a,s,u[u.length-1]||void 0))&&(p=O7e(r(a,u)),p[0]===w7))return p;if("children"in a&&a.children){const v=a;if(v.children&&p[0]!==j7e)for(f=(n?v.children.length:-1)+l,g=u.concat(v);f>-1&&f<v.children.length;){const x=v.children[f];if(m=c(x,f,g)(),m[0]===w7)return m;f=typeof m[1]=="number"?m[1]:f+l}}return p}}}function O7e(e){return Array.isArray(e)?e:typeof e=="number"?[D7e,e]:e==null?_Q:[e]}function SQ(e,t,r,n){let i,o,l;typeof t=="function"&&typeof r!="function"?(o=void 0,l=t,i=r):(o=t,l=r,i=n),I7e(e,o,c,i);function c(a,s){const u=s[s.length-1],d=u?u.children.indexOf(a):void 0;return l(a,d,u)}}const b4={}.hasOwnProperty,R7e={};function z7e(e,t){const r=t||R7e,n=new Map,i=new Map,o=new Map,l={...y7e,...r.handlers},c={all:s,applyData:N7e,definitionById:n,footnoteById:i,footnoteCounts:o,footnoteOrder:[],handlers:l,one:a,options:r,patch:L7e,wrap:F7e};return SQ(e,function(u){if(u.type==="definition"||u.type==="footnoteDefinition"){const d=u.type==="definition"?n:i,h=String(u.identifier).toUpperCase();d.has(h)||d.set(h,u)}}),c;function a(u,d){const h=u.type,p=c.handlers[h];if(b4.call(c.handlers,h)&&p)return p(c,u,d);if(c.options.passThrough&&c.options.passThrough.includes(h)){if("children"in u){const{children:f,...g}=u,v=$_(g);return v.children=c.all(u),v}return $_(u)}return(c.options.unknownHandler||B7e)(c,u,d)}function s(u){const d=[];if("children"in u){const h=u.children;let p=-1;for(;++p<h.length;){const m=c.one(h[p],u);if(m){if(p&&h[p-1].type==="break"&&(!Array.isArray(m)&&m.type==="text"&&(m.value=_7(m.value)),!Array.isArray(m)&&m.type==="element")){const f=m.children[0];f&&f.type==="text"&&(f.value=_7(f.value))}Array.isArray(m)?d.push(...m):d.push(m)}}}return d}}function L7e(e,t){e.position&&(t.position=yNe(e))}function N7e(e,t){let r=t;if(e&&e.data){const n=e.data.hName,i=e.data.hChildren,o=e.data.hProperties;if(typeof n=="string")if(r.type==="element")r.tagName=n;else{const l="children"in r?r.children:[r];r={type:"element",tagName:n,properties:{},children:l}}r.type==="element"&&o&&Object.assign(r.properties,$_(o)),"children"in r&&r.children&&i!==null&&i!==void 0&&(r.children=i)}return r}function B7e(e,t){const r=t.data||{},n="value"in t&&!(b4.call(r,"hProperties")||b4.call(r,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function F7e(e,t){const r=[];let n=-1;for(t&&r.push({type:"text",value:`
`});++n<e.length;)n&&r.push({type:"text",value:`
`}),r.push(e[n]);return t&&e.length>0&&r.push({type:"text",value:`
`}),r}function _7(e){let t=0,r=e.charCodeAt(t);for(;r===9||r===32;)t++,r=e.charCodeAt(t);return e.slice(t)}function S7(e,t){const r=z7e(e,t),n=r.one(e,void 0),i=C7e(r),o=Array.isArray(n)?{type:"root",children:n}:n||{type:"root",children:[]};return i&&o.children.push({type:"text",value:`
`},i),o}function U7e(e,t){return e&&"run"in e?async function(r,n){const i=S7(r,{file:n,...t});await e.run(i,n)}:function(r,n){return S7(r,{file:n,...t||e})}}function E7(e){if(e)throw e}var tw=Object.prototype.hasOwnProperty,EQ=Object.prototype.toString,C7=Object.defineProperty,A7=Object.getOwnPropertyDescriptor,M7=function(t){return typeof Array.isArray=="function"?Array.isArray(t):EQ.call(t)==="[object Array]"},T7=function(t){if(!t||EQ.call(t)!=="[object Object]")return!1;var r=tw.call(t,"constructor"),n=t.constructor&&t.constructor.prototype&&tw.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!r&&!n)return!1;var i;for(i in t);return typeof i>"u"||tw.call(t,i)},P7=function(t,r){C7&&r.name==="__proto__"?C7(t,r.name,{enumerable:!0,configurable:!0,value:r.newValue,writable:!0}):t[r.name]=r.newValue},k7=function(t,r){if(r==="__proto__")if(tw.call(t,r)){if(A7)return A7(t,r).value}else return;return t[r]},V7e=function e(){var t,r,n,i,o,l,c=arguments[0],a=1,s=arguments.length,u=!1;for(typeof c=="boolean"&&(u=c,c=arguments[1]||{},a=2),(c==null||typeof c!="object"&&typeof c!="function")&&(c={});a<s;++a)if(t=arguments[a],t!=null)for(r in t)n=k7(c,r),i=k7(t,r),c!==i&&(u&&i&&(T7(i)||(o=M7(i)))?(o?(o=!1,l=n&&M7(n)?n:[]):l=n&&T7(n)?n:{},P7(c,{name:r,newValue:e(u,l,i)})):typeof i<"u"&&P7(c,{name:r,newValue:i}));return c};const TA=Jh(V7e);function x4(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function H7e(){const e=[],t={run:r,use:n};return t;function r(...i){let o=-1;const l=i.pop();if(typeof l!="function")throw new TypeError("Expected function as last argument, not "+l);c(null,...i);function c(a,...s){const u=e[++o];let d=-1;if(a){l(a);return}for(;++d<i.length;)(s[d]===null||s[d]===void 0)&&(s[d]=i[d]);i=s,u?W7e(u,c)(...s):l(null,...s)}}function n(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function W7e(e,t){let r;return n;function n(...l){const c=e.length>l.length;let a;c&&l.push(i);try{a=e.apply(this,l)}catch(s){const u=s;if(c&&r)throw u;return i(u)}c||(a&&a.then&&typeof a.then=="function"?a.then(o,i):a instanceof Error?i(a):o(a))}function i(l,...c){r||(r=!0,t(l,...c))}function o(l){i(null,l)}}const Zs={basename:G7e,dirname:q7e,extname:Y7e,join:$7e,sep:"/"};function G7e(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');f1(e);let r=0,n=-1,i=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(o){r=i+1;break}}else n<0&&(o=!0,n=i+1);return n<0?"":e.slice(r,n)}if(t===e)return"";let l=-1,c=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(o){r=i+1;break}}else l<0&&(o=!0,l=i+1),c>-1&&(e.codePointAt(i)===t.codePointAt(c--)?c<0&&(n=i):(c=-1,n=l));return r===n?n=l:n<0&&(n=e.length),e.slice(r,n)}function q7e(e){if(f1(e),e.length===0)return".";let t=-1,r=e.length,n;for(;--r;)if(e.codePointAt(r)===47){if(n){t=r;break}}else n||(n=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function Y7e(e){f1(e);let t=e.length,r=-1,n=0,i=-1,o=0,l;for(;t--;){const c=e.codePointAt(t);if(c===47){if(l){n=t+1;break}continue}r<0&&(l=!0,r=t+1),c===46?i<0?i=t:o!==1&&(o=1):i>-1&&(o=-1)}return i<0||r<0||o===0||o===1&&i===r-1&&i===n+1?"":e.slice(i,r)}function $7e(...e){let t=-1,r;for(;++t<e.length;)f1(e[t]),e[t]&&(r=r===void 0?e[t]:r+"/"+e[t]);return r===void 0?".":X7e(r)}function X7e(e){f1(e);const t=e.codePointAt(0)===47;let r=K7e(e,!t);return r.length===0&&!t&&(r="."),r.length>0&&e.codePointAt(e.length-1)===47&&(r+="/"),t?"/"+r:r}function K7e(e,t){let r="",n=0,i=-1,o=0,l=-1,c,a;for(;++l<=e.length;){if(l<e.length)c=e.codePointAt(l);else{if(c===47)break;c=47}if(c===47){if(!(i===l-1||o===1))if(i!==l-1&&o===2){if(r.length<2||n!==2||r.codePointAt(r.length-1)!==46||r.codePointAt(r.length-2)!==46){if(r.length>2){if(a=r.lastIndexOf("/"),a!==r.length-1){a<0?(r="",n=0):(r=r.slice(0,a),n=r.length-1-r.lastIndexOf("/")),i=l,o=0;continue}}else if(r.length>0){r="",n=0,i=l,o=0;continue}}t&&(r=r.length>0?r+"/..":"..",n=2)}else r.length>0?r+="/"+e.slice(i+1,l):r=e.slice(i+1,l),n=l-i-1;i=l,o=0}else c===46&&o>-1?o++:o=-1}return r}function f1(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const Q7e={cwd:Z7e};function Z7e(){return"/"}function w4(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function J7e(e){if(typeof e=="string")e=new URL(e);else if(!w4(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return eFe(e)}function eFe(e){if(e.hostname!==""){const n=new TypeError('File URL host must be "localhost" or empty on darwin');throw n.code="ERR_INVALID_FILE_URL_HOST",n}const t=e.pathname;let r=-1;for(;++r<t.length;)if(t.codePointAt(r)===37&&t.codePointAt(r+1)===50){const n=t.codePointAt(r+2);if(n===70||n===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const PA=["history","path","basename","stem","extname","dirname"];class CQ{constructor(t){let r;t?w4(t)?r={path:t}:typeof t=="string"||tFe(t)?r={value:t}:r=t:r={},this.cwd=Q7e.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let n=-1;for(;++n<PA.length;){const o=PA[n];o in r&&r[o]!==void 0&&r[o]!==null&&(this[o]=o==="history"?[...r[o]]:r[o])}let i;for(i in r)PA.includes(i)||(this[i]=r[i])}get basename(){return typeof this.path=="string"?Zs.basename(this.path):void 0}set basename(t){DA(t,"basename"),kA(t,"basename"),this.path=Zs.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Zs.dirname(this.path):void 0}set dirname(t){D7(this.basename,"dirname"),this.path=Zs.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Zs.extname(this.path):void 0}set extname(t){if(kA(t,"extname"),D7(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Zs.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){w4(t)&&(t=J7e(t)),DA(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Zs.basename(this.path,this.extname):void 0}set stem(t){DA(t,"stem"),kA(t,"stem"),this.path=Zs.join(this.dirname||"",t+(this.extname||""))}fail(t,r,n){const i=this.message(t,r,n);throw i.fatal=!0,i}info(t,r,n){const i=this.message(t,r,n);return i.fatal=void 0,i}message(t,r,n){const i=new Bi(t,r,n);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function kA(e,t){if(e&&e.includes(Zs.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Zs.sep+"`")}function DA(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function D7(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function tFe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const rFe=function(e){const n=this.constructor.prototype,i=n[e],o=function(){return i.apply(o,arguments)};Object.setPrototypeOf(o,n);const l=Object.getOwnPropertyNames(i);for(const c of l){const a=Object.getOwnPropertyDescriptor(i,c);a&&Object.defineProperty(o,c,a)}return o},nFe={}.hasOwnProperty;class jj extends rFe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=H7e()}copy(){const t=new jj;let r=-1;for(;++r<this.attachers.length;){const n=this.attachers[r];t.use(...n)}return t.data(TA(!0,{},this.namespace)),t}data(t,r){return typeof t=="string"?arguments.length===2?(OA("data",this.frozen),this.namespace[t]=r,this):nFe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(OA("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[r,...n]=this.attachers[this.freezeIndex];if(n[0]===!1)continue;n[0]===!0&&(n[0]=void 0);const i=r.call(t,...n);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const r=px(t),n=this.parser||this.Parser;return jA("parse",n),n(String(r),r)}process(t,r){const n=this;return this.freeze(),jA("process",this.parser||this.Parser),IA("process",this.compiler||this.Compiler),r?i(void 0,r):new Promise(i);function i(o,l){const c=px(t),a=n.parse(c);n.run(a,c,function(u,d,h){if(u||!d||!h)return s(u);const p=d,m=n.stringify(p,h);aFe(m)?h.value=m:h.result=m,s(u,h)});function s(u,d){u||!d?l(u):o?o(d):r(void 0,d)}}}processSync(t){let r=!1,n;return this.freeze(),jA("processSync",this.parser||this.Parser),IA("processSync",this.compiler||this.Compiler),this.process(t,i),I7("processSync","process",r),n;function i(o,l){r=!0,E7(o),n=l}}run(t,r,n){j7(t),this.freeze();const i=this.transformers;return!n&&typeof r=="function"&&(n=r,r=void 0),n?o(void 0,n):new Promise(o);function o(l,c){const a=px(r);i.run(t,a,s);function s(u,d,h){const p=d||t;u?c(u):l?l(p):n(void 0,p,h)}}}runSync(t,r){let n=!1,i;return this.run(t,r,o),I7("runSync","run",n),i;function o(l,c){E7(l),i=c,n=!0}}stringify(t,r){this.freeze();const n=px(r),i=this.compiler||this.Compiler;return IA("stringify",i),j7(t),i(t,n)}use(t,...r){const n=this.attachers,i=this.namespace;if(OA("use",this.frozen),t!=null)if(typeof t=="function")a(t,r);else if(typeof t=="object")Array.isArray(t)?c(t):l(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(s){if(typeof s=="function")a(s,[]);else if(typeof s=="object")if(Array.isArray(s)){const[u,...d]=s;a(u,d)}else l(s);else throw new TypeError("Expected usable value, not `"+s+"`")}function l(s){if(!("plugins"in s)&&!("settings"in s))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");c(s.plugins),s.settings&&(i.settings=TA(!0,i.settings,s.settings))}function c(s){let u=-1;if(s!=null)if(Array.isArray(s))for(;++u<s.length;){const d=s[u];o(d)}else throw new TypeError("Expected a list of plugins, not `"+s+"`")}function a(s,u){let d=-1,h=-1;for(;++d<n.length;)if(n[d][0]===s){h=d;break}if(h===-1)n.push([s,...u]);else if(u.length>0){let[p,...m]=u;const f=n[h][1];x4(f)&&x4(p)&&(p=TA(!0,f,p)),n[h]=[s,p,...m]}}}}const iFe=new jj().freeze();function jA(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function IA(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function OA(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function j7(e){if(!x4(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function I7(e,t,r){if(!r)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function px(e){return oFe(e)?e:new CQ(e)}function oFe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function aFe(e){return typeof e=="string"||sFe(e)}function sFe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const lFe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",O7=[],R7={allowDangerousHtml:!0},cFe=/^(https?|ircs?|mailto|xmpp)$/i,uFe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function dFe(e){const t=e.allowedElements,r=e.allowElement,n=e.children||"",i=e.className,o=e.components,l=e.disallowedElements,c=e.rehypePlugins||O7,a=e.remarkPlugins||O7,s=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...R7}:R7,u=e.skipHtml,d=e.unwrapDisallowed,h=e.urlTransform||hFe,p=iFe().use(qBe).use(a).use(U7e,s).use(c),m=new CQ;typeof n=="string"&&(m.value=n);for(const x of uFe)Object.hasOwn(e,x.from)&&(""+x.from+(x.to?"use `"+x.to+"` instead":"remove it")+lFe+x.id,void 0);const f=p.parse(m);let g=p.runSync(f,m);return i&&(g={type:"element",tagName:"div",properties:{className:i},children:g.type==="root"?g.children:[g]}),SQ(g,v),ENe(g,{Fragment:z.Fragment,components:o,ignoreInvalidStyle:!0,jsx:z.jsx,jsxs:z.jsxs,passKeys:!0,passNode:!0});function v(x,y,b){if(x.type==="raw"&&b&&typeof y=="number")return u?b.children.splice(y,1):b.children[y]={type:"text",value:x.value},y;if(x.type==="element"){let w;for(w in CA)if(Object.hasOwn(CA,w)&&Object.hasOwn(x.properties,w)){const _=x.properties[w],S=CA[w];(S===null||S.includes(x.tagName))&&(x.properties[w]=h(String(_||""),w,x))}}if(x.type==="element"){let w=t?!t.includes(x.tagName):l?l.includes(x.tagName):!1;if(!w&&r&&typeof y=="number"&&(w=!r(x,y,b)),w&&b&&typeof y=="number")return d&&x.children?b.children.splice(y,1,...x.children):b.children.splice(y,1),y}}}function hFe(e){const t=e.indexOf(":"),r=e.indexOf("?"),n=e.indexOf("#"),i=e.indexOf("/");return t<0||i>-1&&t>i||r>-1&&t>r||n>-1&&t>n||cFe.test(e.slice(0,t))?e:""}const pFe=()=>{const[e,t]=V.useState(0),[r,n]=V.useState([]);V.useEffect(()=>{(async u=>{try{n(az)}catch(d){console.log(d)}})()},[e]);const i=()=>{console.log("CLu"),t(s=>s-1),e<=0&&t(r.length-1)},o=()=>{t(s=>s+1),e>=r.length-1&&t(0)},{desc:l,image:c,title:a}=az.length>0?r[e]||{}:{};return z.jsx("div",{className:"testi-cont",children:z.jsx("section",{className:"testimonials",children:z.jsxs("div",{className:"container testimonials__container",children:[z.jsx("div",{className:"testimonial",children:z.jsxs("div",{className:"testi-user",children:[z.jsx("div",{className:"testimonial__avatar",children:z.jsx("img",{src:c,alt:"Name"})}),z.jsx("p",{className:"testimonial__quote",children:z.jsx(dFe,{children:`${l}`})}),z.jsx("h5",{children:a})]})}),z.jsxs("div",{className:"testimonials__btn-container",children:[z.jsx("button",{className:"testimonials__btn",onClick:i,children:z.jsx(L8e,{})}),z.jsx("button",{className:"testimonials__btn",onClick:o,children:z.jsx(N8e,{})})]})]})})})};var AQ={exports:{}},RA={exports:{}},z7;function fFe(){return z7||(z7=1,function(e,t){(function(r,n){e.exports=n()})(self,function(){return function(){var r,n={90643:function(c){c.exports.default=["إبدأ في الكتابة...","حول جوديت","محرر جوديت",null,"دليل مستخدم جوديت","يحتوي على مساعدة مفصلة للاستخدام","للحصول على معلومات حول الترخيص، يرجى الذهاب لموقعنا:","شراء النسخة الكاملة","حقوق الطبع والنشر © XDSoft.net - Chupurnov Valeriy. كل الحقوق محفوظة.","مِرْساة","فتح في نافذة جديدة","فتح المحرر في الحجم الكامل","مسح التنسيق","ملء اللون أو تعيين لون النص","إعادة","تراجع","عريض","مائل","إدراج قائمة غير مرتبة","إدراج قائمة مرتبة","محاذاة للوسط","محاذاة مثبتة","محاذاة لليسار","محاذاة لليمين","إدراج خط أفقي","إدراج صورة","ادخال الملف","إدراج فيديو يوتيوب/فيميو ","إدراج رابط","حجم الخط","نوع الخط","إدراج كتلة تنسيق","عادي","عنوان 1","عنوان 2","عنوان 3","عنوان 4","إقتباس","كود","إدراج","إدراج جدول","تقليل المسافة البادئة","زيادة المسافة البادئة","تحديد أحرف خاصة","إدراج حرف خاص","تنسيق الرسم","تغيير الوضع","هوامش","أعلى","يمين","أسفل","يسار","الأنماط","الطبقات","محاذاة","اليمين","الوسط","اليسار","--غير مضبوط--","Src","العنوان","العنوان البديل","الرابط","افتح الرابط في نافذة جديدة","الصورة","ملف","متقدم","خصائص الصورة","إلغاء","حسنا","يشبه الكود الخاص بك HTML. تبقي كما HTML؟","الصق ك HTML","احتفظ","نظيفة","إدراج كنص","إدراج النص فقط","كلمة لصق الكشف عن","للصق المحتوى قادم من Microsoft Word/Excel الوثيقة. هل تريد أن تبقي شكل أو تنظيفه ؟ ","متصفح الملفات","حدث خطأ في تحميل القائمة ","حدث خطأ في تحميل المجلدات","هل أنت واثق؟","أدخل اسم المجلد","إنشاء مجلد","أكتب إسم","إسقاط صورة","إسقاط الملف","أو أنقر","النص البديل","تصفح","رفع","الخلفية","نص","أعلى","الوسط","الأسفل","إدراج عمود قبل","إدراج عمود بعد","إدراج صف أعلى","إدراج صف أسفل","حذف الجدول","حذف الصف","حذف العمود","خلية فارغة","مصدر","بالخط العريض","مائل","شغل","صلة","إلغاء","كرر","طاولة","صورة","نظيف","فقرة","حجم الخط","فيديو","الخط","حول المحرر","طباعة","أكد","شطب","المسافة البادئة","نتوء","ملء الشاشة","الحجم التقليدي","الخط","قائمة","قائمة مرقمة","قطع","اختر الكل","قانون","فتح الرابط","تعديل الرابط","سمة Nofollow","إزالة الرابط","مراجعة","لتحرير","تحديث","URL","تحرير","محاذاة أفقية","فلتر","عن طريق التغيير","بالاسم","حسب الحجم","إضافة مجلد","إعادة","احتفظ","حفظ باسم","تغيير الحجم","حجم القطع","عرض","ارتفاع","حافظ على النسب","أن","لا","حذف","تميز","%d حرف","%d كلام",null,"تميز %s","اختر الكل","محاذاة عمودية","انشق، مزق","انقسام عمودي","تقسيم أفقي","اذهب","أضف العمود","اضف سطر","حذف","الحدود","رخصة %s","اضرب من خلال","أكد","حرف فوقي","مخطوطة","قطع الاختيار","استراحة","البحث عن","استبدل ب","محل","معجون","اختر محتوى للصق","يمكنك فقط تحرير صورك الخاصة. تحميل هذه الصورة على المضيف؟","تم تحميل الصورة بنجاح على الخادم!","لوحة","لا توجد ملفات في هذا الدليل.","إعادة تسمية","أدخل اسم جديد","معاينة","تحميل","لصق من الحافظة","متصفحك لا يدعم إمكانية الوصول المباشر إلى الحافظة.","نسخ التحديد","نسخ","دائرة نصف قطرها الحدود","عرض كل","تطبيق","يرجى ملء هذا المجال","يرجى إدخال عنوان ويب","الافتراضي","دائرة","نقطة","المربعة","البحث","تجد السابقة","تجد التالي","أدخل اسم الفصل","اضغط البديل لتغيير حجم مخصص"]},52532:function(c){c.exports.default=["Napiš něco","O Jodit","Editor Jodit","Verze pro nekomerční použití","Jodit Uživatelská příručka","obsahuje detailní nápovědu","Pro informace o licenci, prosím, přejděte na naši stránku:","Koupit plnou verzi","Copyright © XDSoft.net - Chupurnov Valeriy. Všechna práva vyhrazena.","Anchor","Otevřít v nové záložce","Otevřít v celoobrazovkovém režimu","Vyčistit formátování","Barva výplně a písma","Vpřed","Zpět","Tučné","Kurzíva","Odrážky","Číslovaný seznam","Zarovnat na střed","Zarovnat do bloku","Zarovnat vlevo","Zarovnat vpravo","Vložit horizontální linku","Vložit obrázek","Vložit soubor","Vložit video (YT/Vimeo)","Vložit odkaz","Velikost písma","Typ písma","Formátovat blok","Normální text","Nadpis 1","Nadpis 2","Nadpis 3","Nadpis 4","Citát","Kód","Vložit","Vložit tabulku","Zmenšit odsazení","Zvětšit odsazení","Vybrat speciální symbol","Vložit speciální symbol","Použít formát","Změnit mód","Okraje","horní","pravý","spodní","levý","Styly","Třídy","Zarovnání","Vpravo","Na střed","Vlevo","--nenastaveno--","src","Titulek","Alternativní text (alt)","Link","Otevřít link v nové záložce","Obrázek","soubor","Rozšířené","Vlastnosti obrázku","Zpět","Ok","Váš text se podobá HTML. Vložit ho jako HTML?","Vložit jako HTML","Ponechat originál","Vyčistit","Vložit jako TEXT","Vložit pouze TEXT","Detekován fragment z Wordu nebo Excelu","Obsah, který vkládáte, je pravděpodobně z Microsoft Word / Excel. Chcete ponechat formát nebo vložit pouze text?","Prohlížeč souborů","Chyba při načítání seznamu souborů","Chyba při načítání složek","Jste si jistý(á)?","Název složky","Vytvořit složku","název","Přetáhněte sem obrázek","Přetáhněte sem soubor","nebo klikněte","Alternativní text","Server","Nahrát","Pozadí","Text","Nahoru","Na střed","Dolu","Vložit sloupec před","Vložit sloupec za","Vložit řádek nad","Vložit řádek pod","Vymazat tabulku","Vymazat řádku","Vymazat sloupec","Vyčistit buňku","HTML","tučně","kurzíva","štětec","odkaz","zpět","vpřed","tabulka","obrázek","guma","odstavec","velikost písma","video","písmo","о editoru","tisk","podtrženo","přeškrtnuto","zvětšit odsazení","zmenšit odsazení","celoobrazovkový režim","smrsknout","Linka","Odrážka","Číslovaný seznam","Vyjmout","Označit vše","Kód","Otevřít odkaz","Upravit odkaz","Atribut no-follow","Odstranit odkaz","Zobrazit","Chcete-li upravit","Aktualizovat","URL","Editovat","Horizontální zarovnání","Filtr","Dle poslední změny","Dle názvu","Dle velikosti","Přidat složku","Reset","Uložit","Uložit jako...","Změnit rozměr","Ořezat","Šířka","Výška","Ponechat poměr","Ano","Ne","Vyjmout","Označit","Znaky: %d","Slova: %d","Vše","Označit %s","Označit vše","Vertikální zarovnání","Rozdělit","Rozdělit vertikálně","Rozdělit horizontálně","Spojit","Přidat sloupec","Přidat řádek","Vymazat","Okraj","Licence: %s","Přeškrtnuto","Podtrženo","Horní index","Dolní index","Vyjmout označené","Zalomení","Najdi","Nahradit za","Vyměňte","Vložit","Vyber obsah pro vložení","Můžete upravovat pouze své obrázky. Načíst obrázek?","Obrázek byl úspěšně nahrán!","paleta","V tomto adresáři nejsou žádné soubory.","přejmenovat","Zadejte nový název","náhled","Stažení","Vložit ze schránky","Váš prohlížeč nepodporuje přímý přístup do schránky.","Kopírovat výběr","kopírování","Border radius","Zobrazit všechny","Platí","Prosím, vyplňte toto pole","Prosím, zadejte webovou adresu","Výchozí","Kruh","Dot","Quadrate","Najít","Najít Předchozí","Najít Další","Vložte název třídy","Stiskněte Alt pro vlastní změnu velikosti"]},75178:function(c){c.exports.default=["Bitte geben Sie einen Text ein","Über Jodit","Jodit Editor",null,"Das Jodit Benutzerhandbuch","beinhaltet ausführliche Informationen wie Sie den Editor verwenden können.","Für Informationen zur Lizenz, besuchen Sie bitte unsere Web-Präsenz:","Vollversion kaufen","Copyright © XDSoft.net - Chupurnov Valeriy. Alle Rechte vorbehalten.","Anker","In neuer Registerkarte öffnen","Editor in voller Größe öffnen","Formatierung löschen","Füllfarbe oder Textfarbe ändern","Wiederholen","Rückgängig machen","Fett","Kursiv","Unsortierte Liste einfügen","Nummerierte Liste einfügen","Mittig ausrichten","Blocksatz","Links ausrichten","Rechts ausrichten","Horizontale Linie einfügen","Bild einfügen","Datei einfügen","Youtube/vimeo Video einfügen","Link einfügen","Schriftgröße","Schriftfamilie","Formatblock einfügen","Normal","Überschrift 1","Überschrift 2","Überschrift 3","Überschrift 4","Zitat","Code","Einfügen","Tabelle einfügen","Einzug verkleinern","Einzug vergrößern","Sonderzeichen auswählen","Sonderzeichen einfügen","Format kopieren","Änderungsmodus","Ränder","Oben","Rechts","Unten","Links","CSS Stil","CSS Klassen","Ausrichtung","Rechts","Zentriert","Links","Keine","Pfad","Titel","Alternativer Text","Link","Link in neuem Tab öffnen","Bild","Datei","Fortgeschritten","Bildeigenschaften","Abbrechen","OK","Ihr Text ähnelt HTML-Code. Als HTML beibehalten?","Als HTML einfügen?","Original speichern","Säubern","Als Text einfügen","Nur Text einfügen","In Word formatierter Text erkannt","Der Inhalt, den Sie einfügen, stammt aus einem Microsoft Word / Excel-Dokument. Möchten Sie das Format erhalten oder bereinigen?","Dateibrowser","Fehler beim Laden der Liste","Fehler beim Laden der Ordner","Sind Sie sicher?","Geben Sie den Verzeichnisnamen ein","Verzeichnis erstellen","Typname","Bild hier hinziehen","Datei löschen","oder hier klicken","Alternativtext","Auswählen","Hochladen","Hintergrund","Text","Oben","Mittig","Unten","Spalte davor einfügen","Spalte danach einfügen","Zeile oberhalb einfügen","Zeile unterhalb einfügen","Tabelle löschen","Zeile löschen","Spalte löschen","Zelle leeren","HTML","Fett gedruckt","Kursiv","Bürste","Verknüpfung","Rückgängig machen","Wiederholen","Tabelle","Bild","Radiergummi","Absatz","Schriftgröße","Video","Schriftart","Über","Drucken","Unterstreichen","Durchstreichen","Einzug","Herausstellen","Vollgröße","Schrumpfen","die Linie","Liste von","Nummerierte Liste","Schneiden","Wählen Sie Alle aus","Code einbetten","Link öffnen","Link bearbeiten","Nofollow-Attribut","Link entfernen","Ansehen","Bearbeiten","Aktualisieren","URL","Bearbeiten","Horizontale Ausrichtung","Filter","Sortieren nach geändert","Nach Name sortieren","Nach Größe sortiert","Ordner hinzufügen","Wiederherstellen","Speichern","Speichern als","Größe ändern","Größe anpassen","Breite","Höhe","Seitenverhältnis beibehalten","Ja","Nein","Entfernen","Markieren","Zeichen: %d","Wörter: %d","Alles markieren","Markieren: %s","Alles markieren","Vertikale Ausrichtung","Unterteilen","Vertikal unterteilen","Horizontal unterteilen","Vereinen","Spalte hinzufügen","Zeile hinzufügen","Löschen","Rand",null,"Durchstreichen","Unterstreichen","Hochstellen","Tiefstellen","Auswahl ausschneiden","Pause","Suche nach","Ersetzen durch","Ersetzen","Einfügen","Wählen Sie den Inhalt zum Einfügen aus","Sie können nur Ihre eigenen Bilder bearbeiten. Dieses Bild auf den Host herunterladen?","Das Bild wurde erfolgreich auf den Server hochgeladen!","Palette","In diesem Verzeichnis befinden sich keine Dateien.","Umbenennen","Geben Sie einen neuen Namen ein","Vorschau","Herunterladen","Aus Zwischenablage einfügen","Ihr Browser unterstützt keinen direkten Zugriff auf die Zwischenablage.","Auswahl kopieren","Kopieren","Radius für abgerundete Ecken","Alle anzeigen","Anwenden","Bitte füllen Sie dieses Feld aus","Bitte geben Sie eine Web-Adresse ein","Standard","Kreis","Punkte","Quadrate","Suchen","Suche vorherige","Weitersuchen","className (CSS) einfügen","Drücken Sie Alt für benutzerdefinierte Größenanpassung"]},51048:function(c){c.exports.default={"Type something":"Start writing...",pencil:"Edit",Quadrate:"Square"}},22999:function(c){c.exports.default=["Escriba algo...","Acerca de Jodit","Jodit Editor",null,"Guía de usuario Jodit","contiene ayuda detallada para el uso.","Para información sobre la licencia, por favor visite nuestro sitio:","Compre la versión completa","Copyright © XDSoft.net - Chupurnov Valeriy. Todos los derechos reservados.","Anclar","Abrir en nueva pestaña","Abrir editor en pantalla completa","Limpiar formato","Color de relleno o de letra","Rehacer","Deshacer","Negrita","Cursiva","Insertar lista no ordenada","Insertar lista ordenada","Alinear Centrado","Alinear Justificado","Alinear Izquierda","Alinear Derecha","Insertar línea horizontal","Insertar imagen","Insertar archivo","Insertar video de Youtube/vimeo","Insertar vínculo","Tamaño de letra","Familia de letra","Insertar bloque","Normal","Encabezado 1","Encabezado 2","Encabezado 3","Encabezado 4","Cita","Código","Insertar","Insertar tabla","Disminuir sangría","Aumentar sangría","Seleccionar caracter especial","Insertar caracter especial","Copiar formato","Cambiar modo","Márgenes","arriba","derecha","abajo","izquierda","Estilos CSS","Clases CSS","Alinear","Derecha","Centrado","Izquierda","--No Establecido--","Fuente","Título","Texto Alternativo","Vínculo","Abrir vínculo en nueva pestaña","Imagen","Archivo","Avanzado","Propiedades de imagen","Cancelar","Aceptar","El código es similar a HTML. ¿Mantener como HTML?","Pegar como HTML?","Mantener","Limpiar","Insertar como texto","Insertar solo texto","Pegado desde Word detectado","El contenido pegado proviene de un documento de Microsoft Word/Excel. ¿Desea mantener el formato o limpiarlo?","Buscar archivo","Error al cargar la lista","Error al cargar las carpetas","¿Está seguro?","Entre nombre de carpeta","Crear carpeta","Entre el nombre","Soltar imagen","Soltar archivo","o click","Texto alternativo","Buscar","Subir","Fondo","Texto","Arriba","Centro","Abajo","Insertar columna antes","Interar columna después","Insertar fila arriba","Insertar fila debajo","Borrar tabla","Borrar fila","Borrar columna","Vaciar celda","HTML","negrita","cursiva","Brocha","Vínculo","deshacer","rehacer","Tabla","Imagen","Borrar","Párrafo","Tamaño de letra","Video","Letra","Acerca de","Imprimir","subrayar","tachar","sangría","quitar sangría","Tamaño completo","encoger","línea horizontal","lista sin ordenar","lista ordenada","Cortar","Seleccionar todo","Incluir código","Abrir vínculo","Editar vínculo","No seguir","Desvincular","Ver","Para editar","Actualizar","URL","Editar","Alineación horizontal","Filtrar","Ordenar por fecha modificación","Ordenar por nombre","Ordenar por tamaño","Agregar carpeta","Resetear","Guardar","Guardar como...","Redimensionar","Recortar","Ancho","Alto","Mantener relación de aspecto","Si","No","Quitar","Seleccionar","Caracteres: %d","Palabras: %d","Todo","Seleccionar: %s","Seleccionar todo","Alineación vertical","Dividir","Dividir vertical","Dividir horizontal","Mezclar","Agregar columna","Agregar fila","Borrar","Borde",null,"Tachado","Subrayado","superíndice","subíndice","Cortar selección","Pausa","Buscar","Reemplazar con","Reemplazar","Pegar","Seleccionar contenido para pegar","Solo puedes editar tus propias imágenes. ¿Descargar esta imagen en el servidor?","¡La imagen se ha subido correctamente al servidor!","paleta","No hay archivos en este directorio.","renombrar","Ingresa un nuevo nombre","avance","Descargar","Pegar desde el portapapeles","Su navegador no soporta el acceso directo en el portapapeles.","Selección de copia","copia","Radio frontera","Mostrar todos los","Aplicar","Por favor, rellene este campo","Por favor, introduzca una dirección web","Predeterminado","Círculo","Punto","Cuadro","Encontrar","Buscar Anterior","Buscar Siguiente","Insertar nombre de clase","Presione Alt para cambiar el tamaño personalizado"]},34145:function(c){c.exports.default=["Ecrivez ici","A propos de Jodit","Editeur Jodit",null,"Guide de l'utilisateur","Aide détaillée à l'utilisation","Consulter la licence sur notre site web:","Acheter la version complète","Copyright © XDSoft.net - Chupurnov Valeriy. Tous droits réservés.","Ancre","Ouvrir dans un nouvel onglet","Ouvrir l'éditeur en pleine page","Supprimer le formattage","Modifier la couleur du fond ou du texte","Refaire","Défaire","Gras","Italique","Liste non ordonnée","Liste ordonnée","Centrer","Justifier","Aligner à gauche ","Aligner à droite","Insérer une ligne horizontale","Insérer une image","Insérer un fichier","Insérer une vidéo","Insérer un lien","Taille des caractères","Famille des caractères","Bloc formatté","Normal","Titre 1","Titre 2","Titre 3","Titre 4","Citation","Code","Insérer","Insérer un tableau","Diminuer le retrait","Retrait plus","Sélectionnez un caractère spécial","Insérer un caractère spécial","Cloner le format","Mode wysiwyg <-> code html","Marges","haut","droite","Bas","gauche","Styles","Classes","Alignement","Droite","Centre","Gauche","--Non disponible--","Source","Titre","Alternative","Lien","Ouvrir le lien dans un nouvel onglet","Image","fichier","Avancé","Propriétés de l'image","Annuler","OK","Votre texte que vous essayez de coller est similaire au HTML. Collez-le en HTML?","Coller en HTML?","Sauvegarder l'original","Nettoyer","Coller en tant que texte","Coller le texte seulement","C'est peut-être un fragment de Word ou Excel","Le contenu que vous insérez provient d'un document Microsoft Word / Excel. Voulez-vous enregistrer le format ou l'effacer?","Explorateur de fichiers","Erreur de liste de chargement","Erreur de dossier de chargement","Etes-vous sûrs ?","Entrer le nom de dossier","Créer un dossier","type de fichier","Coller une image","Déposer un fichier","ou cliquer","Texte de remplacemement","Chercher","Charger","Arrière-plan","Texte","Haut","Milieu","Bas","Insérer une colonne avant","Insérer une colonne après","Insérer une ligne au dessus","Insérer une ligne en dessous","Supprimer le tableau","Supprimer la ligne","Supprimer la colonne","Vider la cellule","la source","gras","italique","pinceau","lien","annuler","refaire","tableau","image","gomme","clause","taille de police","Video","police","à propos de l'éditeur","impression","souligné","barré","indentation","retrait","taille réelle","taille conventionnelle","la ligne","Liste","Liste numérotée","Couper","Sélectionner tout",null,"Ouvrir le lien","Modifier le lien","Attribut Nofollow","Supprimer le lien","Voir","Pour éditer","Mettre à jour","URL",null,"Alignement horizontal","Filtre","Trier par modification","Trier par nom","Trier par taille","Créer le dossier","Restaurer","Sauvegarder","Enregistrer sous","Changer la taille","Taille de garniture","Largeur","Hauteur","Garder les proportions","Oui","Non","Supprimer","Mettre en évidence","Symboles: %d","Mots: %d",null,"Mettre en évidence: %s","Tout sélectionner","Alignement vertical","Split","Split vertical","Split horizontal","aller","Ajouter une colonne","Ajouter une rangée","Effacer","Bordure",null,"Barrer","Souligner","exposant","indice","Couper la sélection","Pause","Rechercher","Remplacer par","Remplacer","Coller","Choisissez le contenu à coller","Vous ne pouvez éditer que vos propres images. Téléchargez cette image sur l'hôte?","L'image a été téléchargée avec succès sur le serveur!","Palette","Il n'y a aucun fichier dans ce répertoire.","renommer","Entrez un nouveau nom","Aperçu","Télécharger","Coller à partir du presse-papiers","Votre navigateur ne prend pas en charge l'accès direct au presse-papiers.","Copier la sélection","copie","Rayon des bordures","Afficher tous","Appliquer","Veuillez remplir ce champ","Veuillez entrer une adresse web","Par défaut","Cercle","Point","Quadratique","Trouver","Précédent","Suivant","Insérer un nom de classe","Appuyez sur Alt pour un redimensionnement personnalisé"]},40272:function(c){c.exports.default=["הקלד משהו...","About Jodit","Jodit Editor",null,"Jodit User's Guide","contains detailed help for using.","For information about the license, please go to our website:","Buy full version","Copyright © XDSoft.net - Chupurnov Valeriy. All rights reserved.","מקום עיגון","פתח בכרטיסיה חדשה","פתח את העורך בחלון חדש","נקה עיצוב","שנה צבע טקסט או רקע","בצע שוב","בטל","מודגש","נטוי","הכנס רשימת תבליטים","הכנס רשימה ממוספרת","מרכז","ישר ","ישר לשמאל","ישר לימין","הכנס קו אופקי","הכנס תמונה","הכנס קובץ","הכנס סרטון וידאו מYouTube/Vimeo","הכנס קישור","גודל גופן","גופן","מעוצב מראש","רגיל","כותרת 1","כותרת 2","כותרת 3","כותרת 4","ציטוט","קוד","הכנס","הכנס טבלה","הקטן כניסה","הגדל כניסה","בחר תו מיוחד","הכנס תו מיוחד","העתק עיצוב","החלף מצב","ריווח","עליון","ימין","תחתון","שמאל","עיצוב CSS","מחלקת CSS","יישור","ימין","מרכז","שמאל","--לא נקבע--","מקור","כותרת","כיתוב חלופי","קישור","פתח בכרטיסיה חדשה","תמונה","קובץ","מתקדם","מאפייני תמונה","ביטול","אישור","הקוד דומה לHTML, האם להשאיר כHTML","הדבק כHTML","השאר","נקה","הכנס כטקסט","הכנס טקסט בלבד",'זוהתה הדבקה מ"וורד"',"התוכן המודבק מגיע ממסמך וורד/אקסל. האם ברצונך להשאיר את העיצוב או לנקותו","סייר הקבצים","שגיאה  בזמן טעינת רשימה","שגיאה בזמן טעינת תקיות","האם אתה בטוח?","הכנס שם תקיה","צור תקיה","סוג הקובץ","הסר תמונה","הסר קובץ","או לחץ","כיתוב חלופי","סייר","העלה","רקע","טקסט","עליון","מרכז","תחתון","הכנס עמודה לפני","הכנס עמודה אחרי","הכנס שורה מעל","הכנס שורה מתחת","מחק טבלה","מחק שורה","מחק עמודה","רוקן תא","HTML","מודגש","נטוי","מברשת","קישור","בטל","בצע שוב","טבלה","תמונה","מחק","פסקה","גודל גופן","וידאו","גופן","עלינו","הדפס","קו תחתון","קו חוצה","הגדל כניסה","הקטן כניסה","גודל מלא","כווץ","קו אופקי","רשימת תבליטים","רשימה ממוספרת","חתוך","בחר הכל","הוסף קוד","פתח קישור","ערוך קישור","ללא מעקב","בטל קישור","הצג","כדי לערוך","עדכן","כתובת","ערוך","יישור אופקי","סנן","מין לפי שינוי","מיין לפי שם","מיין לפי גודל","הוסף תקייה","אפס","שמור","שמור בשם...","שנה גודל","חתוך","רוחב","גובה","שמור יחס","כן","לא","הסר","בחר","תווים: %d","מילים: %d","הכל","נבחר: %s","בחר הכל","יישור אנכי","פיצול","פיצול אנכי","פיצול אופקי","מזג","הוסף עמודה","הוסף שורה","מחק","מסגרת",null,"קו חוצה","קו תחתון","superscript","subscript","גזור בחירה","שבירת שורה","חפש","החלף ב","להחליף","הדבק","בחר תוכן להדבקה","רק קבצים המשוייכים שלך ניתנים לעריכה. האם להוריד את הקובץ?","התמונה עלתה בהצלחה!","לוח","אין קבצים בספריה זו.","הונגרית","הזן שם חדש","תצוגה מקדימה","הורד","להדביק מהלוח","הדפדפן שלך לא תומך גישה ישירה ללוח.","העתק בחירה","העתק","רדיוס הגבול","הצג את כל","החל","נא למלא שדה זה","אנא הזן כתובת אינטרנט","ברירת המחדל","מעגל","נקודה","הריבוע הזה","למצוא","מצא את הקודם","חפש את הבא","הכנס את שם הכיתה","לחץ על אלט לשינוי גודל מותאם אישית"]},2978:function(c){c.exports.default=["Írjon be valamit","Joditról","Jodit Editor","Ingyenes változat","Jodit útmutató","további segítséget tartalmaz","További licence információkért látogassa meg a weboldalunkat:","Teljes verzió megvásárlása","Copyright © XDSoft.net - Chupurnov Valeriy. Minden jog fenntartva.","Horgony","Megnyitás új lapon","Megnyitás teljes méretben","Formázás törlése","Háttér/szöveg szín","Újra","Visszavon","Félkövér","Dőlt","Pontozott lista","Számozott lista","Középre zárt","Sorkizárt","Balra zárt","Jobbra zárt","Vízszintes vonal beszúrása","Kép beszúrás","Fájl beszúrás","Youtube videó beszúrása","Link beszúrás","Betűméret","Betűtípus","Formázott blokk beszúrása","Normál","Fejléc 1","Fejléc 2","Fejléc 3","Fejléc 4","Idézet","Kód","Beszúr","Táblázat beszúrása","Behúzás csökkentése","Behúzás növelése","Speciális karakter kiválasztása","Speciális karakter beszúrása","Kép formázása","Nézet váltása","Szegélyek","felső","jobb","alsó","bal","CSS stílusok","CSS osztályok","Igazítás","Jobbra","Középre","Balra","Nincs","Forrás","Cím","Helyettesítő szöveg","Link","Link megnyitása új lapon","Kép","Fájl","Haladó","Kép tulajdonságai","Mégsem","OK","A beillesztett szöveg HTML-nek tűnik. Megtartsuk HTML-ként?","Beszúrás HTML-ként","Megtartás","Elvetés","Beszúrás szövegként","Csak szöveg beillesztése","Word-ből másolt szöveg","A beillesztett tartalom Microsoft Word/Excel dokumentumból származik. Meg szeretné tartani a formátumát?","Fájl tallózó","Hiba a lista betöltése közben","Hiba a mappák betöltése közben","Biztosan ezt szeretné?","Írjon be egy mappanevet","Mappa létrehozása","írjon be bevet","Húzza ide a képet","Húzza ide a fájlt","vagy kattintson","Helyettesítő szöveg","Tallóz","Feltölt","Háttér","Szöveg","Fent","Középen","Lent","Oszlop beszúrás elé","Oszlop beszúrás utána","Sor beszúrás fölé","Sor beszúrás alá","Táblázat törlése","Sor törlése","Oszlop törlése","Cella tartalmának törlése","HTML","Félkövér","Dőlt","Ecset","Link","Visszavon","Újra","Táblázat","Kép","Törlés","Paragráfus","Betűméret","Videó","Betű","Rólunk","Nyomtat","Aláhúzott","Áthúzott","Behúzás","Aussenseiter","Teljes méret","Összenyom","Egyenes vonal","Lista","Számozott lista","Kivág","Összes kijelölése","Beágyazott kód","Link megnyitása","Link szerkesztése","Nincs követés","Link leválasztása","felülvizsgálat","Szerkesztés","Frissít","URL","Szerkeszt","Vízszintes igazítás","Szűrő","Rendezés módosítás szerint","Rendezés név szerint","Rendezés méret szerint","Mappa hozzáadás","Visszaállít","Mentés","Mentés másként...","Átméretezés","Kivág","Szélesség","Magasság","Képarány megtartása","Igen","Nem","Eltávolít","Kijelöl","Karakterek száma: %d","Szavak száma: %d","Összes","Kijelöl: %s","Összes kijelölése","Függőleges igazítás","Felosztás","Függőleges felosztás","Vízszintes felosztás","Összevonás","Oszlop hozzáadás","Sor hozzáadás","Törlés","Szegély",null,"Áthúzott","Aláhúzott","Felső index","Alsó index","Kivágás","Szünet","Keresés","Csere erre","Cserélje ki","Beillesztés","Válasszon tartalmat a beillesztéshez","Csak a saját képeit tudja szerkeszteni. Letölti ezt a képet?","Kép sikeresen feltöltve!","Palette","Er zijn geen bestanden in deze map.","átnevezés","Adja meg az új nevet","előnézet","Letöltés","Illessze be a vágólap","A böngésző nem támogatja a közvetlen hozzáférést biztosít a vágólapra.","Másolás kiválasztása","másolás","Határ sugár","Összes","Alkalmazni","Kérjük, töltse ki ezt a mezőt,","Kérjük, írja be a webcímet","Alapértelmezett","Kör","Pont","Quadrate","Találni","Megtalálja Előző","Következő Keresése","Helyezze be az osztály nevét","Nyomja meg az Alt egyéni átméretezés"]},99113:function(c){c.exports.default=["Ketik sesuatu","Tentang Jodit","Editor Jodit","Versi Bebas Non-komersil","Panduan Pengguna Jodit","mencakup detail bantuan penggunaan","Untuk informasi tentang lisensi, silakan kunjungi website:","Beli versi lengkap","Hak Cipta © XDSoft.net - Chupurnov Valeriy. Hak cipta dilindungi undang-undang.","Tautan","Buka di tab baru","Buka editor dalam ukuran penuh","Hapus Pemformatan","Isi warna atau atur warna teks","Ulangi","Batalkan","Tebal","Miring","Sisipkan Daftar Tidak Berurut","Sisipkan Daftar Berurut","Tengah","Penuh","Kiri","Kanan","Sisipkan Garis Horizontal","Sisipkan Gambar","Sisipkan Berkas","Sisipkan video youtube/vimeo","Sisipkan tautan","Ukuran font","Keluarga font","Sisipkan blok format","Normal","Heading 1","Heading 2","Heading 3","Heading 4","Kutip","Kode","Sisipkan","Sisipkan tabel","Kurangi Indentasi","Tambah Indentasi","Pilih Karakter Spesial","Sisipkan Karakter Spesial","Formar warna","Ubah mode","Batas","atas","kanan","bawah","kiri","Gaya","Class","Rata","Kanan","Tengah","Kiri","--Tidak diset--","Src","Judul","Teks alternatif","Tautan","Buka tautan di tab baru","Gambar","berkas","Lanjutan","Properti gambar","Batal","Ya","Kode Anda cenderung ke HTML. Biarkan sebagai HTML?","Paste sebagai HTML","Jaga","Bersih","Sisipkan sebagai teks","Sisipkan hanya teks","Terdeteksi paste dari Word","Konten dipaste dari dokumen Microsoft Word/Excel. Apakah Anda ingin tetap menjaga format atau membersihkannya?","Penjelajah Berkas","Error ketika memuat list","Error ketika memuat folder","Apakah Anda yakin?","Masukkan nama Direktori","Buat direktori","ketik nama","Letakkan gambar","Letakkan berkas","atau klik","Teks alternatif","Jelajahi","Unggah","Latar Belakang","Teks","Atas","Tengah","Bawah","Sisipkan kolom sebelumnya","Sisipkan kolom setelahnya","Sisipkan baris di atasnya","Sisipkan baris di bawahnya","Hapus tabel","Hapus baris","Hapus kolom","Kosongkan cell","sumber","tebal","miring","sikat","tautan","batalkan","ulangi","tabel","gambar","penghapus","paragraf","ukuran font","video","font","tentang","cetak","garis bawah","coret","menjorok ke dalam","menjorok ke luar","ukuran penuh","menyusut","hr","ul","ol","potong","Pilih semua","Kode embed","Buka tautan","Edit tautan","No follow","Hapus tautan","Mata","pensil","Perbarui","URL","Edit","Perataan horizontal","Filter","Urutkan berdasarkan perubahan","Urutkan berdasarkan nama","Urutkan berdasarkan ukuran","Tambah folder","Reset","Simpan","Simpan sebagai...","Ubah ukuran","Crop","Lebar","Tinggi","Jaga aspek rasio","Ya","Tidak","Copot","Pilih","Karakter: %d","Kata: %d","Semua","Pilih %s","Pilih semua","Rata vertikal","Bagi","Bagi secara vertikal","Bagi secara horizontal","Gabungkan","Tambah kolom","tambah baris","Hapus","Bingkai","Lisensi: %s","Coret","Garis Bawah","Superskrip","Subskrip","Potong pilihan","Berhenti","Mencari","Ganti dengan","Mengganti","Paste","Pilih konten untuk dipaste","Anda hanya dapat mengedit gambar Anda sendiri. Unduh gambar ini di host?","Gambar telah sukses diunggah ke host!","palet","Tidak ada berkas","ganti nama","Masukkan nama baru","pratinjau","Unduh","Paste dari clipboard","Browser anda tidak mendukung akses langsung ke clipboard.","Copy seleksi","copy","Border radius","Tampilkan semua","Menerapkan","Silahkan mengisi kolom ini","Silahkan masukkan alamat web","Default","Lingkaran","Dot","Kuadrat","Menemukan","Menemukan Sebelumnya","Menemukan Berikutnya","Masukkan nama kelas","Tekan Alt untuk mengubah ukuran kustom"]},51923:function(c){c.exports.default=["Scrivi qualcosa...","A proposito di Jodit","Jodit Editor",null,"Guida utente di Jodit","contiene una guida dettagliata per l'uso.","Per informazioni sulla licenza, si prega di visitare il nostro sito:","Acquista la versione completa","Copyright © XDSoft.net - Chupurnov Valeriy. Alle Rechte vorbehalten.","Ancora","Apri in una nuova scheda","Apri l'editor a schermo intero","Formato chiaro","Riempi colore o lettera","Ripristina","Annulla","Grassetto","Corsivo","Inserisci lista non ordinata","Inserisci l'elenco ordinato","Allinea Centra","Allineare Giustificato","Allinea a Sinistra","Allinea a Destra","Inserisci la linea orizzontale","Inserisci immagine","Inserisci un file","Inserisci video Youtube/Vimeo","Inserisci il link","Dimensione del carattere","Tipo di font","Inserisci blocco","Normale","Heading 1","Heading 2","Heading 3","Heading 4","Citazione","Codice","Inserisci","Inserisci tabella","Riduci il rientro","Aumenta il rientro","Seleziona una funzione speciale","Inserisci un carattere speciale","Copia formato","Cambia modo","Margini","su","destra","giù","sinistra","Stili CSS","Classi CSS","Allinea","Destra","Centro","Sinistra","--Non Impostato--","Fonte","Titolo","Testo Alternativo","Link","Apri il link in una nuova scheda","Immagine","Archivio","Avanzato","Proprietà dell'immagine","Annulla","Accetta","Il codice è simile all'HTML. Mantieni come HTML?","Incolla come HTML?","Mantieni","Pulisci","Inserisci come testo","Inserisci solo il testo","Incollato da Word rilevato","Il contenuto incollato proviene da un documento Microsoft Word / Excel. Vuoi mantenere il formato o pulirlo?","Cerca il file","Errore durante il caricamento dell'elenco","Errore durante il caricamento delle cartelle","Sei sicuro?","Inserisci il nome della cartella","Crea cartella","Entre el nombre","Rilascia l'immagine","Rilascia file","o click","Testo alternativo","Sfoglia","Carica","Sfondo","Testo","Su","Centro","Sotto","Inserisci prima la colonna","Inserisci colonna dopo","Inserisci la riga sopra","Inserisci la riga sotto","Elimina tabella","Elimina riga","Elimina colonna","Cella vuota","HTML","Grassetto","Corsivo","Pennello","Link","Annulla","Ripristina","Tabella","Immagine","Gomma","Paragrafo","Dimensione del carattere","Video","Font","Approposito di","Stampa","Sottolineato","Barrato","trattino","annulla rientro","A grandezza normale","comprimere","linea orizzontale","lista non ordinata","lista ordinata","Taglia","Seleziona tutto","Includi codice","Apri link","Modifica link","Non seguire","Togli link","Recensione","Per modificare","Aggiornare"," URL","Modifica","Allineamento orizzontale","Filtro","Ordina per data di modifica","Ordina per nome","Ordina per dimensione","Aggiungi cartella","Reset","Salva","Salva con nome...","Ridimensiona","Tagliare","Larghezza","Altezza","Mantenere le proporzioni","Si","No","Rimuovere","Seleziona","Caratteri: %d","Parole: %d","Tutto","Seleziona: %s","Seleziona tutto","Allineamento verticala","Dividere","Dividere verticalmente","Diviso orizzontale","Fondi","Aggiungi colonna","Aggiungi riga","Cancella","Bordo",null,"Barrato","Sottolineato","indice","deponente","Taglia la selezione","Pausa","Cerca","Sostituisci con","Sostituire","Incolla","Seleziona il contenuto da incollare","Puoi modificare solo le tue immagini. Scarica questa immagine sul server?","L'immagine è stata caricata con successo sul server!","tavolozza","Non ci sono file in questa directory.","ungherese","Inserisci un nuovo nome","anteprima","Scaricare","Incolla dagli appunti","Il tuo browser non supporta l'accesso diretto agli appunti.","Selezione di copia","copia","Border radius","Mostra tutti","Applicare","Si prega di compilare questo campo","Si prega di inserire un indirizzo web","Di Default","Cerchio","Dot","Quadrate","Trovare","Trova Precedente","Trova Successivo","Inserisci il nome della classe","Premere Alt per il ridimensionamento personalizzato"]},21268:function(c){c.exports.default=["なにかタイプしてください","Joditについて","Jodit Editor",null,"Jodit ユーザーズ・ガイド","詳しい使い方","ライセンス詳細についてはJodit Webサイトを確認ください：","フルバージョンを購入","Copyright © XDSoft.net - Chupurnov Valeriy. All rights reserved.","Anchor","新しいタブで開く","エディターのサイズ（フル/ノーマル）","書式をクリア","テキストの色","やり直し","元に戻す","太字","斜体","箇条書き","番号付きリスト","中央揃え","両端揃え","左揃え","右揃え","区切り線を挿入","画像を挿入","ファイルを挿入","Youtube/Vimeo 動画","リンクを挿入","フォントサイズ","フォント","テキストのスタイル","指定なし","タイトル1","タイトル2","タイトル3","タイトル4","引用","コード","挿入","表を挿入","インデント減","インデント増","特殊文字を選択","特殊文字を挿入","書式を貼付け","編集モード切替え","マージン","上","右","下","左","スタイル","クラス","配置","右寄せ","中央寄せ","左寄せ","指定なし","ソース","タイトル","代替テキスト","リンク","新しいタブで開く","画像","ファイル","高度な設定","画像のプロパティー","キャンセル","確定","HTMLコードを保持しますか？","HTMLで貼付け","HTMLを保持","Clean","HTMLをテキストにする","テキストだけ","Word Paste Detected","The pasted content is coming from a Microsoft Word/Excel document. Do you want to keep the format or clean it up?","File Browser","Error on load list","Error on load folders","Are you sure?","Enter Directory name","Create directory","type name","ここに画像をドロップ","ここにファイルをドロップ","or クリック","代替テキスト","ブラウズ","アップロード","背景","文字","上","中央","下","左に列を挿入","右に列を挿入","上に行を挿入","下に行を挿入","表を削除","行を削除","列を削除","セルを空にする","source","bold","italic","brush","link","undo","redo","table","image","eraser","paragraph","fontsize","video","font","about","print","underline","strikethrough","indent","outdent","fullsize","shrink","分割線","箇条書き","番号付きリスト","切り取り","すべて選択","埋め込みコード","リンクを開く","リンクを編集","No follow","リンク解除","サイトを確認","鉛筆","更新","URL","編集","水平方向の配置","Filter","Sort by changed","Sort by name","Sort by size","Add folder","リセット","保存","Save as ...","リサイズ","Crop","幅","高さ","縦横比を保持","はい","いいえ","移除","選択","文字数: %d","単語数: %d","全部","選択: %s","すべて選択","垂直方向の配置","分割","セルの分割（垂直方向）","セルの分割（水平方向）","セルの結合","列を追加","行を追加","削除","境界線",null,"取り消し線","下線","上付き文字","下付き文字","切り取り","Pause","検索","置換","交換","貼付け","選択した内容を貼付け","You can only edit your own images. Download this image on the host?","The image has been successfully uploaded to the host!","パレット","There are no files","Rename","Enter new name","プレビュー","ダウンロード","貼り付け","お使いのブラウザはクリップボードを使用できません","コピー","copy","角の丸み","全て表示","適用","まだこの分野","を入力してくださいウェブアドレス","デフォルト","白丸","黒丸","四角","見","探前","由来","クラス名を挿入","カスタムサイズ変更のためのAltキーを押します"]},11399:function(c){c.exports.default=["Type something","About Jodit","Jodit Editor","Free Non-commercial Version","Jodit User's Guide","contains detailed help for using","For information about the license, please go to our website:","Buy full version","Copyright © XDSoft.net - Chupurnov Valeriy. All rights reserved.","Anchor","Open in new tab","Open in fullsize","Clear Formatting","Fill color or set the text color","Redo","Undo","Bold","Italic","Insert Unordered List","Insert Ordered List","Align Center","Align Justify","Align Left","Align Right","Insert Horizontal Line","Insert Image","Insert file","Insert youtube/vimeo video","Insert link","Font size","Font family","Insert format block","Normal","Heading 1","Heading 2","Heading 3","Heading 4","Quote","Code","Insert","Insert table","Decrease Indent","Increase Indent","Select Special Character","Insert Special Character","Paint format","Change mode","Margins","top","right","bottom","left","Styles","Classes","Align","Right","Center","Left","--Not Set--","Src","Title","Alternative","Link","Open link in new tab","Image","file","Advanced","Image properties","Cancel","Ok","Your code is similar to HTML. Keep as HTML?","Paste as HTML","Keep","Clean","Insert as Text","Insert only Text","Word Paste Detected","The pasted content is coming from a Microsoft Word/Excel document. Do you want to keep the format or clean it up?","File Browser","Error on load list","Error on load folders","Are you sure?","Enter Directory name","Create directory","type name","Drop image","Drop file","or click","Alternative text","Browse","Upload","Background","Text","Top","Middle","Bottom","Insert column before","Insert column after","Insert row above","Insert row below","Delete table","Delete row","Delete column","Empty cell","source","bold","italic","brush","link","undo","redo","table","image","eraser","paragraph","fontsize","video","font","about","print","underline","strikethrough","indent","outdent","fullsize","shrink","hr","ul","ol","cut","selectall","Embed code","Open link","Edit link","No follow","Unlink","Eye","pencil","Update"," URL","Edit","Horizontal align","Filter","Sort by changed","Sort by name","Sort by size","Add folder","Reset","Save","Save as ...","Resize","Crop","Width","Height","Keep Aspect Ratio","Yes","No","Remove","Select","Chars: %d","Words: %d","All","Select %s","Select all","Vertical align","Split","Split vertical","Split horizontal","Merge","Add column","Add row","Delete","Border","License: %s","Strike through","Underline","superscript","subscript","Cut selection","Break","Search for","Replace with","Replace","Paste","Choose Content to Paste","You can only edit your own images. Download this image on the host?","The image has been successfully uploaded to the host!","palette","There are no files","Rename","Enter new name","preview","download","Paste from clipboard","Your browser doesn't support direct access to the clipboard.","Copy selection","copy","Border radius","Show all","Apply","Please fill out this field","Please enter a web address","Default","Circle","Dot","Quadrate","Find","Find Previous","Find Next","Insert className","Press Alt for custom resizing"]},37289:function(c){c.exports.default=["무엇이든 입력하세요","Jodit에 대하여","Jodit Editor",null,"Jodit 사용자 안내서","자세한 도움말이 들어있어요","라이센스에 관해서는 Jodit 웹 사이트를 방문해주세요：","풀 버전 구입하기","© XDSoft.net - Chupurnov Valeriy. 에게 저작권과 모든 권리가 있습니다.","Anchor","새 탭에서 열기","전체 크기로 보기","서식 지우기","글씨 색상","재실행","실행 취소","굵게","기울임","글머리 목록","번호 목록","가운데 정렬","양쪽 정렬","왼쪽 정렬","오른쪽 정렬","수평 구분선 넣기","이미지 넣기","파일 넣기","Youtube/Vimeo 동영상","링크 넣기","글꼴 크기","글꼴","블록 요소 넣기","일반 텍스트","제목 1","제목 2","제목 3","제목 4","인용","코드","붙여 넣기","테이블","들여쓰기 감소","들여쓰기 증가","특수문자 선택","특수문자 입력","페인트 형식","편집모드 변경","마진","위","오른쪽","아래","왼쪽","스타일","클래스","정렬","오른쪽으로","가운데로","왼쪽으로","--지정 안 함--","경로(src)","제목","대체 텍스트(alt)","링크","새 탭에서 열기",null,"파일","고급","이미지 속성","취소","확인","HTML 코드로 감지했어요. 코드인채로 붙여넣을까요?","HTML로 붙여넣기","원본 유지","지우기","텍스트로 넣기","텍스트만 넣기","Word 붙여넣기 감지","Microsoft Word/Excel 문서로 감지했어요. 서식을 유지한채로 붙여넣을까요?","파일 탐색기","목록 불러오기 에러","폴더 불러오기","정말 진행할까요?","디렉토리 이름 입력","디렉토리 생성","이름 입력","이미지 드래그","파일 드래그","혹은 클릭","대체 텍스트","탐색","업로드","배경","텍스트","위","중앙","아래","이전 열에 삽입","다음 열에 삽입","위 행에 삽입","아래 행에 삽입","테이블 삭제","행 삭제","열 삭제","빈 셀","HTML 소스","볼드","이탤릭","브러시","링크","실행 취소","재실행","테이블","이미지","지우개","문단","글꼴 크기","비디오","글꼴","편집기 정보","프린트","밑줄","취소선","들여쓰기","내어쓰기","전체 화면","일반 화면","구분선","글머리 목록","번호 목록","잘라내기","모두 선택","Embed 코드","링크 열기","링크 편집","No follow","링크 제거","사이트 확인","연필","갱신","URL","편집","수평 정렬","필터","변경일 정렬","이름 정렬","크기 정렬","새 폴더","초기화","저장","새로 저장하기 ...","리사이즈","크롭","가로 길이","세로 높이","비율 유지하기","네","아니오","제거","선택","문자수: %d","단어수: %d","모두","선택: %s","모두 선택","수직 정렬","분할","세로 셀 분할","가로 셀 분할","셀 병합","열 추가","행 추가","삭제","외곽선","라이센스: %s","취소선","밑줄","윗첨자","아래첨자","선택 잘라내기","구분자","검색","대체하기","대체","붙여넣기","붙여넣을 내용 선택","외부 이미지는 편집할 수 없어요. 외부 이미지를 다운로드 할까요?","이미지를 무사히 업로드 했어요!","팔레트","파일이 없어요","이름 변경","새 이름 입력","미리보기","다운로드","클립보드 붙여넣기","사용중인 브라우저가 클립보드 접근을 지원하지 않아요.","선택 복사","복사","둥근 테두리","모두 보기","적용","이 항목을 입력해주세요!","웹 URL을 입력해주세요.","기본","원","점","정사각형","찾기","이전 찾기","다음 찾기","className 입력","사용자 지정 크기 조정에 대 한 고도 누르십시오"]},26501:function(c){c.exports.default=["Бичээд үзээрэй","Jodit-ын талаар ","Jodit програм",null,"Jodit гарын авлага","хэрэглээний талаар дэлгэрэнгүй мэдээллийг агуулна","Лицензийн мэдээллийг манай вэб хуудаснаас авна уу:","Бүрэн хувилбар худалдан авах","Зохиогчийн эрх хамгаалагдсан © XDSoft.net - Chupurnov Valeriy. Бүх эрхийг эзэмшинэ.","Холбоо барих","Шинэ табаар нээх","Бүтэн дэлгэцээр нээх","Форматыг арилгах","Өнгөөр будах эсвэл текстийн өнгө сонгох","Дахих","Буцаах","Тод","Налуу","Тэмдэгт жагсаалт нэмэх","Дугаарт жагсаалт нэмэх","Голлож байрлуулах","Тэгшитгэн байрлуулах","Зүүнд байрлуулах","Баруунд байрлуулах","Хэвтээ зураас нэмэх","Зураг нэмэх","Файл нэмэх","Youtube/Vimeo видео нэмэх","Холбоос нэмэх","Фонтын хэмжээ","Фонтын бүл","Блок нэмэх","Хэвийн","Гарчиг 1","Гарчиг 2","Гарчиг 3","Гарчиг 4","Ишлэл","Код","Оруулах","Хүснэгт оруулах","Доголын зай хасах","Доголын зай нэмэх","Тусгай тэмдэгт сонгох","Тусгай тэмдэгт нэмэх","Зургийн формат","Горим өөрчлөх","Цаасны зай","Дээрээс","Баруунаас","Доороос","Зүүнээс","CSS стиль","CSS анги","Байрлуулах","Баруун","Төв","Зүүн","--Тодорхойгүй--","Эх үүсвэр","Гарчиг","Алтернатив текст","Холбоос","Холбоосыг шинэ хавтсанд нээх","Зураг","Файл","Дэвшилтэт","Зургийн үзүүлэлт","Цуцлах","Ok","Таны код HTML кодтой адил байна. HTML форматаар үргэлжлүүлэх үү?","HTML байдлаар буулгах","Хадгалах","Цэвэрлэх","Текст байдлаар нэмэх","Зөвхөн текст оруулах","Word байдлаар буулгасан байна","Буулгасан агуулга Microsoft Word/Excel форматтай байна. Энэ форматыг хэвээр хадгалах уу эсвэл арилгах уу?","Файлын цонх","Жагсаалт татах үед алдаа гарлаа","Хавтас татах үед алдаа гарлаа","Итгэлтэй байна уу?","Хавтсын нэр оруулах","Хавтас үүсгэх","Нэр бичих","Зураг буулгах","Файл буулгах","эсвэл товш","Алтернатив текст","Үзэх","Байршуулах","Арын зураг","Текст","Дээр","Дунд","Доор","Урд нь багана нэмэх","Ард нь багана нэмэх","Дээр нь мөр нэмэх","Доор нь мөр нэмэх","Хүснэгт устгах","Мөр устгах","Багана устгах","Нүд цэвэрлэх","Эх үүсвэр","Тод","Налуу","Будах","Холбоос","Буцаах","Дахих","Хүснэгт","Зураг","Баллуур","Параграф","Фонтын хэмжээ","Видео","Фонт","Тухай","Хэвлэх","Доогуур зураас","Дээгүүр зураас","Догол нэмэх","Догол багасгах","Бүтэн дэлгэц","Багасга","Хаалт","Тэмдэгт жагсаалт","Дугаарласан жагсаалт","Таслах","Бүгдийг сонго","Код оруулах","Холбоос нээх","Холбоос засах","Nofollow özelliği","Холбоос салгах","Нүд","Засах","Шинэчлэх","URL","Засах","Хэвтээ эгнүүлэх","Шүүх","Сүүлд өөрчлөгдсөнөөр жагсаах","Нэрээр жагсаах","Хэмжээгээр жагсаах","Хавтас нэмэх","Буцаах","Хадгалах","Өөрөөр хадгалах","Хэмжээг өөрчил","Тайрах","Өргөн","Өндөр","Харьцааг хадгал","Тийм","Үгүй","Арилга","Сонго","Тэмдэгт: %d","Үг: %d","Бүгдийг","Сонго: %s","Бүгдийг сонго","Босоо эгнүүлэх","Задлах","Баганаар задлах","Мөрөөр задлах","Нэгтгэх","Багана нэмэх","Мөр нэмэх","Устгах","Хүрээ",null,"Дээгүүр зураас","Доогуур зураас","Дээд индекс","Доод индекс","Сонголтыг таслах","Мөрийг таслах","Хайх","Үүгээр солих","Солих","Буулгах","Буулгах агуулгаа сонгоно уу","Та зөвхөн өөрийн зургуудаа янзлах боломжтой. Энэ зургийг өөр лүүгээ татмаар байна уу?","Зургийг хост руу амжилттай хадгалсан","Палет","Энд ямар нэг файл алга","Шинээр нэрлэх","Шинэ нэр оруулна уу","Урьдчилан харах","Татах","Самбараас хуулах ","Энэ вэб хөтчөөс самбарт хандах эрх алга.","Сонголтыг хуул","Хуулах","Хүрээний радиус","Бүгдийг харуулах","Хэрэгжүүл","Энэ талбарыг бөглөнө үү","Вэб хаягаа оруулна уу","Үндсэн","Дугуй","Цэг","Дөрвөлжин","Хайх","Өмнөхийг ол","Дараагийнхийг ол","Бүлгийн нэрээ оруулна уу","Хэмжээсийг шинээр өөчрлөхийн тулд Alt товчин дээр дарна уу"]},17084:function(c){c.exports.default=["Begin met typen..","Over Jodit","Jodit Editor","Gratis niet-commerciële versie","Jodit gebruikershandleiding","bevat gedetailleerde informatie voor gebruik.","Voor informatie over de licentie, ga naar onze website:","Volledige versie kopen","Copyright © XDSoft.net - Chupurnov Valeriy. Alle rechten voorbehouden.","Anker","Open in nieuwe tab","Editor in volledig scherm openen","Opmaak verwijderen","Vulkleur of tekstkleur aanpassen","Opnieuw","Ongedaan maken","Vet","Cursief","Geordende list invoegen","Ongeordende lijst invoegen","Centreren","Uitlijnen op volledige breedte","Links uitlijnen","Rechts uitlijnen","Horizontale lijn invoegen","Afbeelding invoegen","Bestand invoegen","Youtube/Vimeo video invoegen","Link toevoegen","Tekstgrootte","Lettertype","Format blok invoegen","Normaal","Koptekst 1","Koptekst 2","Koptekst 3","Koptekst 4","Citaat","Code","Invoegen","Tabel invoegen","Inspringing verkleinen","Inspringing vergroten","Symbool selecteren","Symbool invoegen","Opmaak kopieren","Modus veranderen","Marges","Boven","Rechts","Onder","Links","CSS styles","CSS classes","Uitlijning","Rechts","Gecentreerd","Links","--Leeg--","Src","Titel","Alternatieve tekst","Link","Link in nieuwe tab openen","Afbeelding","Bestand","Geavanceerd","Afbeeldingseigenschappen","Annuleren","OK","Deze code lijkt op HTML. Als HTML behouden?","Invoegen als HTML","Origineel behouden","Opschonen","Als tekst invoegen","Als onopgemaakte tekst invoegen","Word-tekst gedetecteerd","De geplakte tekst is afkomstig van een Microsoft Word/Excel document. Wil je de opmaak behouden of opschonen?","Bestandsbrowser","Fout bij het laden van de lijst","Fout bij het laden van de mappenlijst","Weet je het zeker?","Geef de map een naam","Map aanmaken","Type naam","Sleep hier een afbeelding naartoe","Sleep hier een bestand naartoe","of klik","Alternatieve tekst","Bladeren","Uploaden","Achtergrond","Tekst","Boven","Midden","Onder","Kolom invoegen (voor)","Kolom invoegen (na)","Rij invoegen (boven)","Rij invoegen (onder)","Tabel verwijderen","Rij verwijderen","Kolom verwijderen","Cel leegmaken","Broncode","vet","cursief","kwast","link","ongedaan maken","opnieuw","tabel","afbeelding","gum","paragraaf","lettergrootte","video","lettertype","over","afdrukken","onderstreept","doorgestreept","inspringen","minder inspringen","volledige grootte","kleiner maken","horizontale lijn","lijst","genummerde lijst","knip","alles selecteren","Embed code","link openen","link aanpassen","niet volgen","link verwijderen","Recensie","Om te bewerken","Updaten"," URL","Bewerken","Horizontaal uitlijnen","Filteren","Sorteren op wijzigingsdatum","Sorteren op naam","Sorteren op grootte","Map toevoegen","Herstellen","Opslaan","Opslaan als ...","Grootte aanpassen","Bijknippen","Breedte","Hoogte","Verhouding behouden","Ja","Nee","Verwijderen","Selecteren","Tekens: %d","Woorden: %d","Alles","Selecteer: %s","Selecteer alles","Verticaal uitlijnen","Splitsen","Verticaal splitsen","Horizontaal splitsen","Samenvoegen","Kolom toevoegen","Rij toevoegen","Verwijderen","Rand",null,"Doorstrepen","Onderstrepen","Superscript","Subscript","Selectie knippen","Enter","Zoek naar","Vervangen door","Vervangen","Plakken","Kies content om te plakken","Je kunt alleen je eigen afbeeldingen aanpassen. Deze afbeelding downloaden?","De afbeelding is succesvol geüploadet!","Palette","Er zijn geen bestanden in deze map.","Hongaars","Voer een nieuwe naam in","voorvertoning","Download","Plakken van klembord","Uw browser ondersteunt geen directe toegang tot het klembord.","Selectie kopiëren","kopiëren","Border radius","Toon alle","Toepassing","Vul dit veld","Voer een webadres","Standaard","Cirkel","Dot","Quadrate","Zoeken","Vorige Zoeken","Volgende Zoeken","Voeg de klassenaam in","Druk op Alt voor aangepaste grootte"]},96891:function(c){c.exports.default=["Napisz coś","O Jodit","Edytor Jodit",null,"Instrukcja Jodit","zawiera szczegółowe informacje dotyczące użytkowania.","Odwiedź naszą stronę, aby uzyskać więcej informacji na temat licencji:","Zakup pełnej wersji","Copyright © XDSoft.net - Chupurnov Valeriy. Wszystkie prawa zastrzeżone.","Kotwica","Otwórz w nowej zakładce","Otwórz edytor w pełnym rozmiarze","Wyczyść formatowanie","Kolor wypełnienia lub ustaw kolor tekstu","Ponów","Cofnij","Pogrubienie","Kursywa","Wstaw listę wypunktowaną","Wstaw listę numeryczną","Wyśrodkuj","Wyjustuj","Wyrównaj do lewej","Wyrównaj do prawej","Wstaw linię poziomą","Wstaw grafikę","Wstaw plik","Wstaw film Youtube/vimeo","Wstaw link","Rozmiar tekstu","Krój czcionki","Wstaw formatowanie","Normalne","Nagłówek 1","Nagłówek 2","Nagłówek 3","Nagłówek 4","Cytat","Kod","Wstaw","Wstaw tabelę","Zmniejsz wcięcie","Zwiększ wcięcie","Wybierz znak specjalny","Wstaw znak specjalny","Malarz formatów","Zmień tryb","Marginesy","Górny","Prawy","Dolny","Levy","Style CSS","Klasy CSS","Wyrównanie","Prawa","środek","Lewa","brak","Źródło","Tytuł","Tekst alternatywny","Link","Otwórz w nowej zakładce","Grafika","Plik","Zaawansowane","Właściwości grafiki","Anuluj","OK","Twój kod wygląda jak HTML. Zachować HTML?","Wkleić jako HTML?","Oryginalny tekst","Wyczyść","Wstaw jako tekst","Wstaw tylko treść","Wykryto tekst w formacie Word","Wklejany tekst pochodzi z dokumentu Microsoft Word/Excel. Chcesz zachować ten format czy wyczyścić go? ","Przeglądarka plików","Błąd ładowania listy plików","Błąd ładowania folderów","Czy jesteś pewien?","Wprowadź nazwę folderu","Utwórz folder","wprowadź nazwę","Upuść plik graficzny","Upuść plik","lub kliknij tu","Tekst alternatywny","Przeglądaj","Wczytaj","Tło","Treść","Góra","Środek","Dół","Wstaw kolumnę przed","Wstaw kolumnę po","Wstaw wiersz przed","Wstaw wiersz po","Usuń tabelę","Usuń wiersz","Usuń kolumnę","Wyczyść komórkę","HTML","pogrubienie","kursywa","pędzel","link","cofnij","ponów","tabela","grafika","wyczyść","akapit","rozmiar czcionki","wideo","czcionka","O programie","drukuj","podkreślenie","przekreślenie","wcięcie","wycięcie","pełen rozmiar","przytnij","linia pozioma","lista","lista numerowana","wytnij","zaznacz wszystko","Wstaw kod","otwórz link","edytuj link","Atrybut no-follow","Usuń link","szukaj","edytuj","Aktualizuj","URL","Edytuj","Wyrównywanie w poziomie","Filtruj","Sortuj wg zmiany","Sortuj wg nazwy","Sortuj wg rozmiaru","Dodaj folder","wyczyść","zapisz","zapisz jako","Zmień rozmiar","Przytnij","Szerokość","Wysokość","Zachowaj proporcje","Tak","Nie","Usuń","Wybierz","Znaki: %d","Słowa: %d","Wszystko","Wybierz: %s","Wybierz wszystko","Wyrównywanie w pionie","Podziel","Podziel w pionie","Podziel w poziomie","Scal","Dodaj kolumnę","Dodaj wiersz","Usuń","Obramowanie",null,"Przekreślenie","Podkreślenie","indeks górny","index dolny","Wytnij zaznaczenie","Przerwa","Szukaj","Zamień na","Wymienić","Wklej","Wybierz zawartość do wklejenia","Możesz edytować tylko swoje grafiki. Czy chcesz pobrać tą grafikę?","Grafika została pomyślnienie dodana na serwer","Paleta","Brak plików.","zmień nazwę","Wprowadź nową nazwę","podgląd","pobierz","Wklej ze schowka","Twoja przeglądarka nie obsługuje schowka","Kopiuj zaznaczenie","kopiuj","Zaokrąglenie krawędzi","Pokaż wszystkie","Zastosuj","Proszę wypełnić to pole","Proszę, wpisz adres sieci web","Domyślnie","Koło","Punkt","Kwadrat","Znaleźć","Znaleźć Poprzednie","Znajdź Dalej","Wstaw nazwę zajęć","Naciśnij Alt, aby zmienić rozmiar"]},31211:function(c){c.exports.default=["Escreva algo...","Sobre o Jodit","Editor Jodit",null,"Guia de usuário Jodit","contém ajuda detalhada para o uso.","Para informação sobre a licença, por favor visite nosso site:","Compre a versão completa","Copyright © XDSoft.net - Chupurnov Valeriy. Todos os direitos reservados.","Link","Abrir em nova aba","Abrir editor em tela cheia","Limpar formatação","Cor de preenchimento ou cor do texto","Refazer","Desfazer","Negrito","Itálico","Inserir lista não ordenada","Inserir lista ordenada","Centralizar","Justificar","Alinhar à Esquerda","Alinhar à Direita","Inserir linha horizontal","Inserir imagem","Inserir arquivo","Inserir vídeo do Youtube/vimeo","Inserir link","Tamanho da letra","Fonte","Inserir bloco","Normal","Cabeçalho 1","Cabeçalho 2","Cabeçalho 3","Cabeçalho 4","Citação","Código","Inserir","Inserir tabela","Diminuir recuo","Aumentar recuo","Selecionar caractere especial","Inserir caractere especial","Copiar formato","Mudar modo","Margens","cima","direta","baixo","esquerda","Estilos CSS","Classes CSS","Alinhamento","Direita","Centro","Esquerda","--Não Estabelecido--","Fonte","Título","Texto Alternativo","Link","Abrir link em nova aba","Imagem","Arquivo","Avançado","Propriedades da imagem","Cancelar","Ok","Seu código é similar ao HTML. Manter como HTML?","Colar como HTML?","Manter","Limpar","Inserir como Texto","Inserir somente o Texto","Colado do Word Detectado","O conteúdo colado veio de um documento Microsoft Word/Excel. Você deseja manter o formato ou limpa-lo?","Procurar arquivo","Erro ao carregar a lista","Erro ao carregar as pastas","Você tem certeza?","Escreva o nome da pasta","Criar pasta","Escreva seu nome","Soltar imagem","Soltar arquivo","ou clique","Texto alternativo","Explorar","Upload","Fundo","Texto","Cima","Meio","Baixo","Inserir coluna antes","Inserir coluna depois","Inserir linha acima","Inserir linha abaixo","Excluir tabela","Excluir linha","Excluir coluna","Limpar célula","HTML","negrito","itálico","pincel","link","desfazer","refazer","tabela","imagem","apagar","parágrafo","tamanho da letra","vídeo","fonte","Sobre de","Imprimir","sublinhar","tachado","recuar","diminuir recuo","Tamanho completo","diminuir","linha horizontal","lista não ordenada","lista ordenada","Cortar","Selecionar tudo","Incluir código","Abrir link","Editar link","Não siga","Remover link","Visualizar","Editar","Atualizar","URL","Editar","Alinhamento horizontal","filtrar","Ordenar por modificação","Ordenar por nome","Ordenar por tamanho","Adicionar pasta","Resetar","Salvar","Salvar como...","Redimensionar","Recortar","Largura","Altura","Manter a proporção","Sim","Não","Remover","Selecionar","Caracteres: %d","Palavras: %d","Tudo","Selecionar: %s","Selecionar tudo","Alinhamento vertical","Dividir","Dividir vertical","Dividir horizontal","Mesclar","Adicionar coluna","Adicionar linha","Excluir","Borda",null,"Tachado","Sublinhar","sobrescrito","subscrito","Cortar seleção","Pausa","Procurar por","Substituir com","Substituir","Colar","Escolher conteúdo para colar","Você só pode editar suas próprias imagens. Baixar essa imagem pro servidor?","A imagem foi enviada com sucesso para o servidor!","Palette","Não há arquivos nesse diretório.","Húngara","Digite um novo nome","preview","Baixar","Colar da área de transferência","O seu navegador não oferece suporte a acesso direto para a área de transferência.","Selecção de cópia","cópia","Border radius","Mostrar todos os","Aplicar","Por favor, preencha este campo","Por favor introduza um endereço web","Padrão","Círculo","Ponto","Quadro","Encontrar","Encontrar Anteriores","Localizar Próxima","Insira o nome da classe","Pressione Alt para redimensionamento personalizado"]},31109:function(c){c.exports.default=["Напишите что-либо","О Jodit","Редактор Jodit",null,"Jodit Руководство пользователя","содержит детальную информацию по использованию","Для получения сведений о лицензии , пожалуйста, перейдите на наш сайт:","Купить полную версию","Авторские права © XDSoft.net - Чупурнов Валерий. Все права защищены.","Анкор","Открывать ссылку в новой вкладке","Открыть редактор в полном размере","Очистить форматирование","Цвет заливки или цвет текста","Повтор","Отмена","Жирный","Наклонный","Вставка маркированного списка","Вставить нумерованный список","Выровнять по центру","Выровнять по ширине","Выровнять по левому краю","Выровнять по правому краю","Вставить горизонтальную линию","Вставить изображение","Вставить файл","Вставьте видео","Вставить ссылку","Размер шрифта","Шрифт","Вставить блочный элемент","Нормальный текст","Заголовок 1","Заголовок 2","Заголовок 3","Заголовок 4","Цитата","Код","Вставить","Вставить таблицу","Уменьшить отступ","Увеличить отступ","Выберите специальный символ","Вставить специальный символ","Формат краски","Источник","Отступы","сверху","справа","снизу","слева","Стили","Классы","Выравнивание","По правому краю","По центру","По левому краю","--не устанавливать--","src","Заголовок","Альтернативный текст (alt)","Ссылка","Открывать ссылку в новом окне",null,"Файл","Расширенные","Свойства изображения","Отмена","Ок","Ваш текст, который вы пытаетесь вставить похож на HTML. Вставить его как HTML?","Вставить как HTML?","Сохранить оригинал","Почистить","Вставить как текст","Вставить только текст","Возможно это фрагмент Word или Excel","Контент который вы вставляете поступает из документа Microsoft Word / Excel. Вы хотите сохранить формат или очистить его?","Браузер файлов","Ошибка при загрузке списка изображений","Ошибка при загрузке списка директорий","Вы уверены?","Введите название директории","Создать директорию","введите название","Перетащите сюда изображение","Перетащите сюда файл","или нажмите","Альтернативный текст","Сервер","Загрузка","Фон","Текст"," К верху","По середине","К низу","Вставить столбец до","Вставить столбец после","Вставить ряд выше","Вставить ряд ниже","Удалить таблицу","Удалять ряд","Удалить столбец","Очистить ячейку","HTML","жирный","курсив","заливка","ссылка","отменить","повторить","таблица","Изображение","очистить","параграф","размер шрифта","видео","шрифт","о редакторе","печать","подчеркнутый","перечеркнутый","отступ","выступ","во весь экран","обычный размер","линия","Список","Нумерованный список","Вырезать","Выделить все","Код","Открыть ссылку","Редактировать ссылку","Атрибут nofollow","Убрать ссылку","Просмотр","Редактировать","Обновить","URL","Редактировать","Горизонтальное выравнивание","Фильтр","По изменению","По имени","По размеру","Добавить папку","Восстановить","Сохранить","Сохранить как","Изменить размер","Обрезать размер","Ширина","Высота","Сохранять пропорции","Да","Нет","Удалить","Выделить","Символов: %d","Слов: %d","Выделить все","Выделить: %s","Выделить все","Вертикальное выравнивание","Разделить","Разделить по вертикали","Разделить по горизонтали","Объединить в одну","Добавить столбец","Добавить строку","Удалить","Рамка","Лицензия: %s","Перечеркнуть","Подчеркивание","верхний индекс","индекс","Вырезать","Разделитель","Найти","Заменить на","Заменить","Вставить","Выбрать контент для вставки","Вы можете редактировать только свои собственные изображения. Загрузить это изображение на ваш сервер?","Изображение успешно загружено на сервер!","палитра","В данном каталоге нет файлов","Переименовать","Введите новое имя","Предпросмотр","Скачать","Вставить из буфера обмена","Ваш браузер не поддерживает прямой доступ к буферу обмена.","Скопировать выделенное","копия","Радиус границы","Показать все","Применить","Пожалуйста, заполните это поле","Пожалуйста, введите веб-адрес","По умолчанию","Круг","Точка","Квадрат","Найти","Найти Предыдущие","Найти Далее","Вставить название класса","Нажмите Alt для изменения пользовательского размера"]},79375:function(c){c.exports.default=["Bir şeyler yaz","Jodit Hakkında","Jodit Editor",null,"Jodit Kullanım Kılavuzu","kullanım için detaylı bilgiler içerir","Lisans hakkında bilgi için lütfen web sitemize gidin:","Tam versiyonunu satın al","Copyright © XDSoft.net - Chupurnov Valeriy. Tüm hakları saklıdır.","Bağlantı","Yeni sekmede aç","Editörü tam ekranda aç","Stili temizle","Renk doldur veya yazı rengi seç","Yinele","Geri Al","Kalın","İtalik","Sırasız Liste Ekle","Sıralı Liste Ekle","Ortala","Kenarlara Yasla","Sola Yasla","Sağa Yasla","Yatay Çizgi Ekle","Resim Ekle","Dosya Ekle","Youtube/Vimeo Videosu Ekle","Bağlantı Ekle","Font Boyutu","Font Ailesi","Blok Ekle","Normal","Başlık 1","Başlık 2","Başlık 3","Başlık 4","Alıntı","Kod","Ekle","Tablo Ekle","Girintiyi Azalt","Girintiyi Arttır","Özel Karakter Seç","Özel Karakter Ekle","Resim Biçimi","Mod Değiştir","Boşluklar","Üst","Sağ","Alt","Sol","CSS Stilleri","CSS Sınıfları","Hizalama","Sağ","Ortalı","Sol","Belirsiz","Kaynak","Başlık","Alternatif Yazı","Link","Bağlantıyı yeni sekmede aç","Resim","Dosya","Gelişmiş","Resim özellikleri","İptal","Tamam","Kodunuz HTML koduna benziyor. HTML olarak devam etmek ister misiniz?","HTML olarak yapıştır","Sakla","Temizle","Yazı olarak ekle","Sadece yazıyı ekle","Word biçiminde yapıştırma algılandı","Der Inhalt, den Sie einfügen, stammt aus einem Microsoft Word / Excel-Dokument. Möchten Sie das Format erhalten oder löschen?","Dosya Listeleyici","Liste yüklenirken hata oluştu","Klasörler yüklenirken hata oluştur","Emin misiniz?","Dizin yolu giriniz","Dizin oluştur","İsim yaz","Resim bırak","Dosya bırak","veya tıkla","Alternatif yazı","Gözat","Yükle","Arka plan","Yazı","Üst","Orta","Aşağı","Öncesine kolon ekle","Sonrasına kolon ekle","Üstüne satır ekle","Altına satır ekle","Tabloyu sil","Satırı sil","Kolonu sil","Hücreyi temizle","Kaynak","Kalın","italik","Fırça","Bağlantı","Geri al","Yinele","Tablo","Resim","Silgi","Paragraf","Font boyutu","Video","Font","Hakkında","Yazdır","Alt çizgi","Üstü çizili","Girinti","Çıkıntı","Tam ekran","Küçült","Ayraç","Sırasız liste","Sıralı liste","Kes","Tümünü seç","Kod ekle","Bağlantıyı aç","Bağlantıyı düzenle","Nofollow özelliği","Bağlantıyı kaldır","Yorumu","Düzenlemek için","Güncelle","URL","Düzenle","Yatay hizala","Filtre","Değişime göre sırala","İsme göre sırala","Boyuta göre sırala","Klasör ekle","Sıfırla","Kaydet","Farklı kaydet","Boyutlandır","Kırp","Genişlik","Yükseklik","En boy oranını koru","Evet","Hayır","Sil","Seç","Harfler: %d","Kelimeler: %d","Tümü","Seç: %s","Tümünü seç","Dikey hizala","Ayır","Dikey ayır","Yatay ayır","Birleştir","Kolon ekle","Satır ekle","Sil","Kenarlık",null,"Üstü çizili","Alt çizgi","Üst yazı","Alt yazı","Seçilimi kes","Satır sonu","Ara","Şununla değiştir","Değiştir","Yapıştır","Yapıştırılacak içerik seç","Sadece kendi resimlerinizi düzenleyebilirsiniz. Bu görseli kendi hostunuza indirmek ister misiniz?","Görsel başarıyla hostunuza yüklendi","Palet","Bu dizinde dosya yok","Yeniden isimlendir","Yeni isim girin","Ön izleme","İndir","Panodan yapıştır ","Tarayıcınız panoya doğrudan erişimi desteklemiyor.","Seçimi kopyala","Kopyala","Sınır yarıçapı","Tümünü Göster","Uygula","Lütfen bu alanı doldurun","Lütfen bir web adresi girin","Varsayılan","Daire","Nokta","Kare","Bul","Öncekini Bul","Sonrakini Bul","Sınıf adı girin","Özel yeniden boyutlandırma için Alt tuşuna basın"]},21042:function(c){c.exports.default=["输入一些内容","关于Jodit","Jodit Editor","Free Non-commercial Version","开发者指南","使用帮助","有关许可证的信息，请访问我们的网站：","购买完整版本","Copyright © XDSoft.net - Chupurnov Valeriy. 版权所有","Anchor","在新窗口打开","全屏编辑","清除样式","颜色","重做","撤销","粗体","斜体","符号列表","编号","居中","对齐文本","左对齐","右对齐","分割线","图片","文件","视频","链接","字号","字体","格式块","默认","标题1","标题2","标题3","标题4","引用","代码","插入","表格","减少缩进","增加缩进","选择特殊符号","特殊符号","格式复制","改变模式","外边距（Margins）","top","right","bottom","left","样式","Classes","对齐方式","居右","居中","居左","无","Src","Title","Alternative","Link","在新窗口打开链接","图片","file","高级","图片属性","取消","确定","你粘贴的文本是一段html代码，是否保留源格式","html粘贴","保留源格式","匹配目标格式","把html代码视为普通文本","只保留文本","文本粘贴","正在粘贴 Word/Excel 的文本，是否保留源格式？","文件管理","加载list错误","加载folders错误","你确定吗？","输入路径","创建路径","type name","拖动图片到此","拖动文件到此","或点击","Alternative text","浏览","上传","背景色","文字","顶部","中间","底部","在之前插入列","在之后插入列","在之前插入行","在之后插入行","删除表格","删除行","删除列","清除内容","源码","粗体","斜体","颜色","链接","撤销","重做","表格","图片","橡皮擦","段落","字号","视频","字体","关于","打印","下划线","上出现","增加缩进","减少缩进","全屏","收缩","分割线","无序列表","顺序列表","剪切","全选","嵌入代码","打开链接","编辑链接","No follow","取消链接","预览","铅笔","更新","URL","编辑","水平对齐","筛选","修改时间排序","名称排序","大小排序","新建文件夹","重置","保存","保存为","调整大小","剪切","宽","高","保持长宽比","是","不","移除","选择","字符数: %d","单词数: %d","全部","选择: %s","全选","垂直对齐","拆分","垂直拆分","水平拆分","合并","添加列","添加行","删除","边框",null,"删除线","下划线","上标","下标","剪切","Break","查找","替换为","替换","粘贴","选择内容并粘贴","你只能编辑你自己的图片。Download this image on the host?","图片上传成功","调色板","此目录中沒有文件。","重命名","输入新名称","预览","下载","粘贴从剪贴板","你浏览器不支持直接访问的剪贴板。","复制选中内容","复制","边界半径","显示所有","应用","请填写这个字段","请输入一个网址","默认","圆圈","点","方形","搜索","查找上一个","查找下一个","插入班级名称","按Alt自定义调整大小"]},73895:function(c){c.exports.default=["輸入一些內容","關於Jodit","Jodit Editor",null,"開發者指南","使用幫助","有關許可證的信息，請訪問我們的網站：","購買完整版本","Copyright © XDSoft.net - Chupurnov Valeriy. All rights reserved.","Anchor","在新窗口打開","全屏編輯","清除樣式","顏色","重做","撤銷","粗體","斜體","符號列表","編號","居中","對齊文本","左對齊","右對齊","分割線","圖片","文件","youtube/vimeo 影片","鏈接","字號","字體","格式塊","文本","標題1","標題2","標題3","標題4","引用","代碼","插入","表格","減少縮進","增加縮進","選擇特殊符號","特殊符號","格式複製","改變模式","外邊距（Margins）","top","right","bottom","left","樣式","Classes","對齊方式","居右","居中","居左","無","Src","Title","替代","Link","在新窗口打開鏈接","圖片","file","高級","圖片屬性","取消","確定","你黏貼的文本是一段html代碼，是否保留源格式","html黏貼","保留源格式","匹配目標格式","把html代碼視為普通文本","只保留文本","文本黏貼","正在黏貼 Word/Excel 的文本，是否保留源格式？","文件管理","加載list錯誤","加載folders錯誤","你確定嗎？","輸入路徑","創建路徑","type name","拖動圖片到此","拖動文件到此","或點擊","替代文字","瀏覽","上傳","背景色","文字","頂部","中間","底部","在之前插入列","在之後插入列","在之前插入行","在之後插入行","刪除表格","刪除行","刪除列","清除內容","源碼","粗體","斜體","顏色","鏈接","撤銷","重做","表格","圖片","橡皮擦","段落","字號","影片","字體","關於","打印","下劃線","上出現","增加縮進","減少縮進","全屏","收縮","分割線","無序列表","順序列表","剪切","全選","嵌入代碼","打開鏈接","編輯鏈接","No follow","取消連結","回顧","鉛筆","更新","URL",null,"水平對齊","篩選","修改時間排序","名稱排序","大小排序","新建文件夾","重置","保存","保存為","調整大小","Crop","寬","高","保存長寬比","是","不","移除","選擇","字符數: %d","單詞數: %d","全部","選擇: %s","全選","垂直對齊","拆分","垂直拆分","水平拆分","合併","添加列","添加行","刪除","邊框",null,"刪除線","下劃線","上標","下標","剪切","Pause","查找","替換為","แทนที่","黏貼","選擇內容並黏貼","你只能編輯你自己的圖片。是否下載此圖片到本地?","圖片上傳成功","調色板","此目錄中沒有文件。","重命名","輸入新名稱","預覽","下載","從剪貼板貼上","瀏覽器無法存取剪贴板。","複製已選取項目","複製","邊框圓角","顯示所有","應用","ได้โปรดกรอกช่องข้อมูลนี้","โปรดเติมที่อยู่บนเว็บ","ค่าปริยาย","วงกลม","จุด","Quadrate","ค้นหา","ค้นหาก่อนหน้านี้","ค้นหาถัดไป","ใส่ชื่อคลาส","กดอัลท์สำหรับการปรับขนาดที่กำหนดเอง"]},3610:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M621 1280h595v-595zm-45-45l595-595h-595v595zm1152 77v192q0 14-9 23t-23 9h-224v224q0 14-9 23t-23 9h-192q-14 0-23-9t-9-23v-224h-864q-14 0-23-9t-9-23v-864h-224q-14 0-23-9t-9-23v-192q0-14 9-23t23-9h224v-224q0-14 9-23t23-9h192q14 0 23 9t9 23v224h851l246-247q10-9 23-9t23 9q9 10 9 23t-9 23l-247 246v851h224q14 0 23 9t9 23z"/> </svg>`},56170:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 24 24"> <g transform="translate(-251.000000, -443.000000)"> <g transform="translate(215.000000, 119.000000)"/> <path d="M252,448 L256,448 L256,444 L252,444 L252,448 Z M257,448 L269,448 L269,446 L257,446 L257,448 Z M257,464 L269,464 L269,462 L257,462 L257,464 Z M270,444 L270,448 L274,448 L274,444 L270,444 Z M252,462 L252,466 L256,466 L256,462 L252,462 Z M270,462 L270,466 L274,466 L274,462 L270,462 Z M254,461 L256,461 L256,449 L254,449 L254,461 Z M270,461 L272,461 L272,449 L270,449 L270,461 Z"/> </g> </svg>`},95331:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' x="0px" y="0px" viewBox="0 0 459 459"> <g> <path d="M229.5,0C102,0,0,102,0,229.5S102,459,229.5,459c20.4,0,38.25-17.85,38.25-38.25c0-10.2-2.55-17.85-10.2-25.5 c-5.1-7.65-10.2-15.3-10.2-25.5c0-20.4,17.851-38.25,38.25-38.25h45.9c71.4,0,127.5-56.1,127.5-127.5C459,91.8,357,0,229.5,0z M89.25,229.5c-20.4,0-38.25-17.85-38.25-38.25S68.85,153,89.25,153s38.25,17.85,38.25,38.25S109.65,229.5,89.25,229.5z M165.75,127.5c-20.4,0-38.25-17.85-38.25-38.25S145.35,51,165.75,51S204,68.85,204,89.25S186.15,127.5,165.75,127.5z M293.25,127.5c-20.4,0-38.25-17.85-38.25-38.25S272.85,51,293.25,51s38.25,17.85,38.25,38.25S313.65,127.5,293.25,127.5z M369.75,229.5c-20.4,0-38.25-17.85-38.25-38.25S349.35,153,369.75,153S408,170.85,408,191.25S390.15,229.5,369.75,229.5z" /> </g> </svg>`},84279:function(c){c.exports='<svg viewBox="0 0 1792 1792" xmlns="http://www.w3.org/2000/svg"> <path d="M1088 1256v240q0 16-12 28t-28 12h-240q-16 0-28-12t-12-28v-240q0-16 12-28t28-12h240q16 0 28 12t12 28zm316-600q0 54-15.5 101t-35 76.5-55 59.5-57.5 43.5-61 35.5q-41 23-68.5 65t-27.5 67q0 17-12 32.5t-28 15.5h-240q-15 0-25.5-18.5t-10.5-37.5v-45q0-83 65-156.5t143-108.5q59-27 84-56t25-76q0-42-46.5-74t-107.5-32q-65 0-108 29-35 25-107 115-13 16-31 16-12 0-25-8l-164-125q-13-10-15.5-25t5.5-28q160-266 464-266 80 0 161 31t146 83 106 127.5 41 158.5z"/> </svg>'},11257:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 128 128" xml:space="preserve"> <polygon points="112.4560547,23.3203125 112.4560547,75.8154297 31.4853516,75.8154297 31.4853516,61.953125 16.0131836,72.6357422 0.5410156,83.3164063 16.0131836,93.9990234 31.4853516,104.6796875 31.4853516,90.8183594 112.4560547,90.8183594 112.4560547,90.8339844 127.4589844,90.8339844 127.4589844,23.3203125"/> </svg>`},25141:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M747 1521q74 32 140 32 376 0 376-335 0-114-41-180-27-44-61.5-74t-67.5-46.5-80.5-25-84-10.5-94.5-2q-73 0-101 10 0 53-.5 159t-.5 158q0 8-1 67.5t-.5 96.5 4.5 83.5 12 66.5zm-14-746q42 7 109 7 82 0 143-13t110-44.5 74.5-89.5 25.5-142q0-70-29-122.5t-79-82-108-43.5-124-14q-50 0-130 13 0 50 4 151t4 152q0 27-.5 80t-.5 79q0 46 1 69zm-541 889l2-94q15-4 85-16t106-27q7-12 12.5-27t8.5-33.5 5.5-32.5 3-37.5.5-34v-65.5q0-982-22-1025-4-8-22-14.5t-44.5-11-49.5-7-48.5-4.5-30.5-3l-4-83q98-2 340-11.5t373-9.5q23 0 68.5.5t67.5.5q70 0 136.5 13t128.5 42 108 71 74 104.5 28 137.5q0 52-16.5 95.5t-39 72-64.5 57.5-73 45-84 40q154 35 256.5 134t102.5 248q0 100-35 179.5t-93.5 130.5-138 85.5-163.5 48.5-176 14q-44 0-132-3t-132-3q-106 0-307 11t-231 12z"/> </svg>`},24557:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M384 1662l17-85q6-2 81.5-21.5t111.5-37.5q28-35 41-101 1-7 62-289t114-543.5 52-296.5v-25q-24-13-54.5-18.5t-69.5-8-58-5.5l19-103q33 2 120 6.5t149.5 7 120.5 2.5q48 0 98.5-2.5t121-7 98.5-6.5q-5 39-19 89-30 10-101.5 28.5t-108.5 33.5q-8 19-14 42.5t-9 40-7.5 45.5-6.5 42q-27 148-87.5 419.5t-77.5 355.5q-2 9-13 58t-20 90-16 83.5-6 57.5l1 18q17 4 185 31-3 44-16 99-11 0-32.5 1.5t-32.5 1.5q-29 0-87-10t-86-10q-138-2-206-2-51 0-143 9t-121 11z"/> </svg>`},10859:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1760 896q14 0 23 9t9 23v64q0 14-9 23t-23 9h-1728q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h1728zm-1277-64q-28-35-51-80-48-97-48-188 0-181 134-309 133-127 393-127 50 0 167 19 66 12 177 48 10 38 21 118 14 123 14 183 0 18-5 45l-12 3-84-6-14-2q-50-149-103-205-88-91-210-91-114 0-182 59-67 58-67 146 0 73 66 140t279 129q69 20 173 66 58 28 95 52h-743zm507 256h411q7 39 7 92 0 111-41 212-23 55-71 104-37 35-109 81-80 48-153 66-80 21-203 21-114 0-195-23l-140-40q-57-16-72-28-8-8-8-22v-13q0-108-2-156-1-30 0-68l2-37v-44l102-2q15 34 30 71t22.5 56 12.5 27q35 57 80 94 43 36 105 57 59 22 132 22 64 0 139-27 77-26 122-86 47-61 47-129 0-84-81-157-34-29-137-71z"/> </svg>`},9813:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1025 1369v167h-248l-159-252-24-42q-8-9-11-21h-3l-9 21q-10 20-25 44l-155 250h-258v-167h128l197-291-185-272h-137v-168h276l139 228q2 4 23 42 8 9 11 21h3q3-9 11-21l25-42 140-228h257v168h-125l-184 267 204 296h109zm639 217v206h-514l-4-27q-3-45-3-46 0-64 26-117t65-86.5 84-65 84-54.5 65-54 26-64q0-38-29.5-62.5t-70.5-24.5q-51 0-97 39-14 11-36 38l-105-92q26-37 63-66 80-65 188-65 110 0 178 59.5t68 158.5q0 66-34.5 118.5t-84 86-99.5 62.5-87 63-41 73h232v-80h126z"/> </svg>`},93395:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1025 1369v167h-248l-159-252-24-42q-8-9-11-21h-3l-9 21q-10 20-25 44l-155 250h-258v-167h128l197-291-185-272h-137v-168h276l139 228q2 4 23 42 8 9 11 21h3q3-9 11-21l25-42 140-228h257v168h-125l-184 267 204 296h109zm637-679v206h-514l-3-27q-4-28-4-46 0-64 26-117t65-86.5 84-65 84-54.5 65-54 26-64q0-38-29.5-62.5t-70.5-24.5q-51 0-97 39-14 11-36 38l-105-92q26-37 63-66 83-65 188-65 110 0 178 59.5t68 158.5q0 56-24.5 103t-62 76.5-81.5 58.5-82 50.5-65.5 51.5-30.5 63h232v-80h126z"/> </svg>`},98213:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M176 223q-37-2-45-4l-3-88q13-1 40-1 60 0 112 4 132 7 166 7 86 0 168-3 116-4 146-5 56 0 86-2l-1 14 2 64v9q-60 9-124 9-60 0-79 25-13 14-13 132 0 13 .5 32.5t.5 25.5l1 229 14 280q6 124 51 202 35 59 96 92 88 47 177 47 104 0 191-28 56-18 99-51 48-36 65-64 36-56 53-114 21-73 21-229 0-79-3.5-128t-11-122.5-13.5-159.5l-4-59q-5-67-24-88-34-35-77-34l-100 2-14-3 2-86h84l205 10q76 3 196-10l18 2q6 38 6 51 0 7-4 31-45 12-84 13-73 11-79 17-15 15-15 41 0 7 1.5 27t1.5 31q8 19 22 396 6 195-15 304-15 76-41 122-38 65-112 123-75 57-182 89-109 33-255 33-167 0-284-46-119-47-179-122-61-76-83-195-16-80-16-237v-333q0-188-17-213-25-36-147-39zm1488 1409v-64q0-14-9-23t-23-9h-1472q-14 0-23 9t-9 23v64q0 14 9 23t23 9h1472q14 0 23-9t9-23z"/> </svg>`},20026:function(c){c.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"> <path d="M36 4h-24c-2.21 0-4 1.79-4 4v32c0 2.21 1.79 4 4 4h24c2.21 0 4-1.79 4-4v-32c0-2.21-1.79-4-4-4zm-24 4h10v16l-5-3-5 3v-16z"/> </svg>'},66911:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M832 1408l336-384h-768l-336 384h768zm1013-1077q15 34 9.5 71.5t-30.5 65.5l-896 1024q-38 44-96 44h-768q-38 0-69.5-20.5t-47.5-54.5q-15-34-9.5-71.5t30.5-65.5l896-1024q38-44 96-44h768q38 0 69.5 20.5t47.5 54.5z"/> </svg>`},50018:function(c){c.exports='<svg viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"> <path d="M24.89,6.61H22.31V4.47A2.47,2.47,0,0,0,19.84,2H6.78A2.47,2.47,0,0,0,4.31,4.47V22.92a2.47,2.47,0,0,0,2.47,2.47H9.69V27.2a2.8,2.8,0,0,0,2.8,2.8h12.4a2.8,2.8,0,0,0,2.8-2.8V9.41A2.8,2.8,0,0,0,24.89,6.61ZM6.78,23.52a.61.61,0,0,1-.61-.6V4.47a.61.61,0,0,1,.61-.6H19.84a.61.61,0,0,1,.61.6V6.61h-8a2.8,2.8,0,0,0-2.8,2.8V23.52Zm19,3.68a.94.94,0,0,1-.94.93H12.49a.94.94,0,0,1-.94-.93V9.41a.94.94,0,0,1,.94-.93h12.4a.94.94,0,0,1,.94.93Z"/> <path d="M23.49,13.53h-9.6a.94.94,0,1,0,0,1.87h9.6a.94.94,0,1,0,0-1.87Z"/> <path d="M23.49,17.37h-9.6a.94.94,0,1,0,0,1.87h9.6a.94.94,0,1,0,0-1.87Z"/> <path d="M23.49,21.22h-9.6a.93.93,0,1,0,0,1.86h9.6a.93.93,0,1,0,0-1.86Z"/> </svg>'},99738:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M960 896q26 0 45 19t19 45-19 45-45 19-45-19-19-45 19-45 45-19zm300 64l507 398q28 20 25 56-5 35-35 51l-128 64q-13 7-29 7-17 0-31-8l-690-387-110 66q-8 4-12 5 14 49 10 97-7 77-56 147.5t-132 123.5q-132 84-277 84-136 0-222-78-90-84-79-207 7-76 56-147t131-124q132-84 278-84 83 0 151 31 9-13 22-22l122-73-122-73q-13-9-22-22-68 31-151 31-146 0-278-84-82-53-131-124t-56-147q-5-59 15.5-113t63.5-93q85-79 222-79 145 0 277 84 83 52 132 123t56 148q4 48-10 97 4 1 12 5l110 66 690-387q14-8 31-8 16 0 29 7l128 64q30 16 35 51 3 36-25 56zm-681-260q46-42 21-108t-106-117q-92-59-192-59-74 0-113 36-46 42-21 108t106 117q92 59 192 59 74 0 113-36zm-85 745q81-51 106-117t-21-108q-39-36-113-36-100 0-192 59-81 51-106 117t21 108q39 36 113 36 100 0 192-59zm178-613l96 58v-11q0-36 33-56l14-8-79-47-26 26q-3 3-10 11t-12 12q-2 2-4 3.5t-3 2.5zm224 224l96 32 736-576-128-64-768 431v113l-160 96 9 8q2 2 7 6 4 4 11 12t11 12l26 26zm704 416l128-64-520-408-177 138q-2 3-13 7z"/> </svg>`},9185:function(c){c.exports='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"> <path stroke-width="0" d="M10.5 20H2a2 2 0 0 1-2-2V6c0-1.1.9-2 2-2h1V3l2.03-.4a3 3 0 0 1 5.94 0L13 3v1h1a2 2 0 0 1 2 2v1h-2V6h-1v1H3V6H2v12h5v2h3.5zM8 4a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm2 4h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-8a2 2 0 0 1-2-2v-8c0-1.1.9-2 2-2zm0 2v8h8v-8h-8z"/> </svg>'},8619:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 18 18"> <g fill-rule="evenodd" stroke="none" stroke-width="1"> <g transform="translate(-381.000000, -381.000000)"> <g transform="translate(381.000000, 381.000000)"> <path d="M0,2 L2,2 L2,0 C0.9,0 0,0.9 0,2 L0,2 Z M0,10 L2,10 L2,8 L0,8 L0,10 L0,10 Z M4,18 L6,18 L6,16 L4,16 L4,18 L4,18 Z M0,6 L2,6 L2,4 L0,4 L0,6 L0,6 Z M10,0 L8,0 L8,2 L10,2 L10,0 L10,0 Z M16,0 L16,2 L18,2 C18,0.9 17.1,0 16,0 L16,0 Z M2,18 L2,16 L0,16 C0,17.1 0.9,18 2,18 L2,18 Z M0,14 L2,14 L2,12 L0,12 L0,14 L0,14 Z M6,0 L4,0 L4,2 L6,2 L6,0 L6,0 Z M8,18 L10,18 L10,16 L8,16 L8,18 L8,18 Z M16,10 L18,10 L18,8 L16,8 L16,10 L16,10 Z M16,18 C17.1,18 18,17.1 18,16 L16,16 L16,18 L16,18 Z M16,6 L18,6 L18,4 L16,4 L16,6 L16,6 Z M16,14 L18,14 L18,12 L16,12 L16,14 L16,14 Z M12,18 L14,18 L14,16 L12,16 L12,18 L12,18 Z M12,2 L14,2 L14,0 L12,0 L12,2 L12,2 Z M4,14 L14,14 L14,4 L4,4 L4,14 L4,14 Z M6,6 L12,6 L12,12 L6,12 L6,6 L6,6 Z"/> </g> </g> </g> </svg>`},73894:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M896 1152q0-36-20-69-1-1-15.5-22.5t-25.5-38-25-44-21-50.5q-4-16-21-16t-21 16q-7 23-21 50.5t-25 44-25.5 38-15.5 22.5q-20 33-20 69 0 53 37.5 90.5t90.5 37.5 90.5-37.5 37.5-90.5zm512-128q0 212-150 362t-362 150-362-150-150-362q0-145 81-275 6-9 62.5-90.5t101-151 99.5-178 83-201.5q9-30 34-47t51-17 51.5 17 33.5 47q28 93 83 201.5t99.5 178 101 151 62.5 90.5q81 127 81 275z"/> </svg>`},83301:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 16 16"> <path stroke-width="0" d="M16 9v-6h-3v-1c0-0.55-0.45-1-1-1h-11c-0.55 0-1 0.45-1 1v3c0 0.55 0.45 1 1 1h11c0.55 0 1-0.45 1-1v-1h2v4h-9v2h-0.5c-0.276 0-0.5 0.224-0.5 0.5v5c0 0.276 0.224 0.5 0.5 0.5h2c0.276 0 0.5-0.224 0.5-0.5v-5c0-0.276-0.224-0.5-0.5-0.5h-0.5v-1h9zM12 3h-11v-1h11v1z"/> </svg>`},84142:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M789 559l-170 450q33 0 136.5 2t160.5 2q19 0 57-2-87-253-184-452zm-725 1105l2-79q23-7 56-12.5t57-10.5 49.5-14.5 44.5-29 31-50.5l237-616 280-724h128q8 14 11 21l205 480q33 78 106 257.5t114 274.5q15 34 58 144.5t72 168.5q20 45 35 57 19 15 88 29.5t84 20.5q6 38 6 57 0 4-.5 13t-.5 13q-63 0-190-8t-191-8q-76 0-215 7t-178 8q0-43 4-78l131-28q1 0 12.5-2.5t15.5-3.5 14.5-4.5 15-6.5 11-8 9-11 2.5-14q0-16-31-96.5t-72-177.5-42-100l-450-2q-26 58-76.5 195.5t-50.5 162.5q0 22 14 37.5t43.5 24.5 48.5 13.5 57 8.5 41 4q1 19 1 58 0 9-2 27-58 0-174.5-10t-174.5-10q-8 0-26.5 4t-21.5 4q-80 14-188 14z"/> </svg>`},57292:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1744 1408q33 0 42 18.5t-11 44.5l-126 162q-20 26-49 26t-49-26l-126-162q-20-26-11-44.5t42-18.5h80v-1024h-80q-33 0-42-18.5t11-44.5l126-162q20-26 49-26t49 26l126 162q20 26 11 44.5t-42 18.5h-80v1024h80zm-1663-1279l54 27q12 5 211 5 44 0 132-2t132-2q36 0 107.5.5t107.5.5h293q6 0 21 .5t20.5 0 16-3 17.5-9 15-17.5l42-1q4 0 14 .5t14 .5q2 112 2 336 0 80-5 109-39 14-68 18-25-44-54-128-3-9-11-48t-14.5-73.5-7.5-35.5q-6-8-12-12.5t-15.5-6-13-2.5-18-.5-16.5.5q-17 0-66.5-.5t-74.5-.5-64 2-71 6q-9 81-8 136 0 94 2 388t2 455q0 16-2.5 71.5t0 91.5 12.5 69q40 21 124 42.5t120 37.5q5 40 5 50 0 14-3 29l-34 1q-76 2-218-8t-207-10q-50 0-151 9t-152 9q-3-51-3-52v-9q17-27 61.5-43t98.5-29 78-27q19-42 19-383 0-101-3-303t-3-303v-117q0-2 .5-15.5t.5-25-1-25.5-3-24-5-14q-11-12-162-12-33 0-93 12t-80 26q-19 13-34 72.5t-31.5 111-42.5 53.5q-42-26-56-44v-383z"/> </svg>`},18019:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M1534 189v73q0 29-18.5 61t-42.5 32q-50 0-54 1-26 6-32 31-3 11-3 64v1152q0 25-18 43t-43 18h-108q-25 0-43-18t-18-43v-1218h-143v1218q0 25-17.5 43t-43.5 18h-108q-26 0-43.5-18t-17.5-43v-496q-147-12-245-59-126-58-192-179-64-117-64-259 0-166 88-286 88-118 209-159 111-37 417-37h479q25 0 43 18t18 43z"/></svg>`},45146:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 24 24"> <path stroke-width="0" d="M22,20.6L3.4,2H8V0H0v8h2V3.4L20.6,22H16v2h8v-8h-2V20.6z M16,0v2h4.7l-6.3,6.3l1.4,1.4L22,3.5V8h2V0H16z M8.3,14.3L2,20.6V16H0v8h8v-2H3.5l6.3-6.3L8.3,14.3z"/> </svg>`},53576:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M896 960v448q0 26-19 45t-45 19-45-19l-144-144-332 332q-10 10-23 10t-23-10l-114-114q-10-10-10-23t10-23l332-332-144-144q-19-19-19-45t19-45 45-19h448q26 0 45 19t19 45zm755-672q0 13-10 23l-332 332 144 144q19 19 19 45t-19 45-45 19h-448q-26 0-45-19t-19-45v-448q0-26 19-45t45-19 45 19l144 144 332-332q10-10 23-10t23 10l114 114q10 10 10 23z"/> </svg>`},14655:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1600 736v192q0 40-28 68t-68 28h-1216q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h1216q40 0 68 28t28 68z"/> </svg>`},53477:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M576 576q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1024 384v448h-1408v-192l320-320 160 160 512-512zm96-704h-1600q-13 0-22.5 9.5t-9.5 22.5v1216q0 13 9.5 22.5t22.5 9.5h1600q13 0 22.5-9.5t9.5-22.5v-1216q0-13-9.5-22.5t-22.5-9.5zm160 32v1216q0 66-47 113t-113 47h-1600q-66 0-113-47t-47-113v-1216q0-66 47-113t113-47h1600q66 0 113 47t47 113z"/> </svg>`},90053:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M352 832q0 14-9 23l-288 288q-9 9-23 9-13 0-22.5-9.5t-9.5-22.5v-576q0-13 9.5-22.5t22.5-9.5q14 0 23 9l288 288q9 9 9 23zm1440 480v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},72230:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M384 544v576q0 13-9.5 22.5t-22.5 9.5q-14 0-23-9l-288-288q-9-9-9-23t9-23l288-288q9-9 23-9 13 0 22.5 9.5t9.5 22.5zm1408 768v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1088q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1088q13 0 22.5 9.5t9.5 22.5zm0-384v192q0 13-9.5 22.5t-22.5 9.5h-1728q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1728q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},78321:function(c){c.exports='<svg viewBox="0 0 18.151 18.151" xmlns="http://www.w3.org/2000/svg"> <g> <path stroke-width="0" d="M6.237,16.546H3.649V1.604h5.916v5.728c0.474-0.122,0.968-0.194,1.479-0.194 c0.042,0,0.083,0.006,0.125,0.006V0H2.044v18.15h5.934C7.295,17.736,6.704,17.19,6.237,16.546z"/> <path stroke-width="0" d="M11.169,8.275c-2.723,0-4.938,2.215-4.938,4.938s2.215,4.938,4.938,4.938s4.938-2.215,4.938-4.938 S13.892,8.275,11.169,8.275z M11.169,16.81c-1.983,0-3.598-1.612-3.598-3.598c0-1.983,1.614-3.597,3.598-3.597 s3.597,1.613,3.597,3.597C14.766,15.198,13.153,16.81,11.169,16.81z"/> <polygon stroke-width="0" points="11.792,11.073 10.502,11.073 10.502,12.578 9.03,12.578 9.03,13.868 10.502,13.868 10.502,15.352 11.792,15.352 11.792,13.868 13.309,13.868 13.309,12.578 11.792,12.578 "/> </g> </svg>'},77654:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 432 432"> <g> <polygon points="203.688,96 0,96 0,144 155.688,144 "/> <polygon points="155.719,288 0,288 0,336 203.719,336 "/> <path d="M97.844,230.125c-3.701-3.703-5.856-8.906-5.856-14.141s2.154-10.438,5.856-14.141l9.844-9.844H0v48h107.719 L97.844,230.125z"/> <polygon points="232,176 232,96 112,216 232,336 232,256 432,256 432,176"/> </g> </svg>`},43371:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 312 312"> <g transform="translate(0.000000,312.000000) scale(0.100000,-0.100000)" stroke="none"> <path d="M50 3109 c0 -7 -11 -22 -25 -35 l-25 -23 0 -961 0 -961 32 -29 32 -30 501 -2 500 -3 3 -502 2 -502 31 -30 31 -31 958 0 958 0 23 25 c13 13 30 25 37 25 9 0 12 199 12 960 0 686 -3 960 -11 960 -6 0 -24 12 -40 28 l-29 27 -503 5 -502 5 -5 502 -5 503 -28 29 c-15 16 -27 34 -27 40 0 8 -274 11 -960 11 -710 0 -960 -3 -960 -11z m1738 -698 l2 -453 -40 -40 c-22 -22 -40 -43 -40 -47 0 -4 36 -42 79 -85 88 -87 82 -87 141 -23 l26 27 455 -2 454 -3 0 -775 0 -775 -775 0 -775 0 -3 450 -2 449 47 48 47 48 -82 80 c-44 44 -84 80 -87 80 -3 0 -25 -18 -48 -40 l-41 -40 -456 2 -455 3 -3 765 c-1 421 0 771 3 778 3 10 164 12 777 10 l773 -3 3 -454z"/> <path d="M607 2492 c-42 -42 -77 -82 -77 -87 0 -6 86 -96 190 -200 105 -104 190 -197 190 -205 0 -8 -41 -56 -92 -107 -65 -65 -87 -94 -77 -98 8 -3 138 -4 289 -3 l275 3 3 275 c1 151 0 281 -3 289 -4 10 -35 -14 -103 -82 -54 -53 -103 -97 -109 -97 -7 0 -99 88 -206 195 -107 107 -196 195 -198 195 -3 0 -39 -35 -82 -78z"/> <path d="M1470 1639 c-47 -49 -87 -91 -89 -94 -5 -6 149 -165 160 -165 9 0 189 179 189 188 0 12 -154 162 -165 161 -6 0 -48 -41 -95 -90z"/> <path d="M1797 1303 c-9 -8 -9 -568 0 -576 4 -4 50 36 103 88 54 52 101 95 106 95 5 0 95 -85 199 -190 104 -104 194 -190 200 -190 6 0 46 36 90 80 l79 79 -197 196 c-108 108 -197 199 -197 203 0 4 45 52 99 106 55 55 98 103 95 108 -6 10 -568 11 -577 1z"/> </g> </svg>`},44563:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 48 48"> <path d="M6 42h4v-4h-4v4zm4-28h-4v4h4v-4zm-4 20h4v-4h-4v4zm8 8h4v-4h-4v4zm-4-36h-4v4h4v-4zm8 0h-4v4h4v-4zm16 0h-4v4h4v-4zm-8 8h-4v4h4v-4zm0-8h-4v4h4v-4zm12 28h4v-4h-4v4zm-16 8h4v-4h-4v4zm-16-16h36v-4h-36v4zm32-20v4h4v-4h-4zm0 12h4v-4h-4v4zm-16 16h4v-4h-4v4zm8 8h4v-4h-4v4zm8 0h4v-4h-4v4z"/> <path d="M0 0h48v48h-48z" fill="none"/> </svg>`},53183:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 48 48"> <path d="M6 18h4v-4h-4v4zm0-8h4v-4h-4v4zm8 32h4v-4h-4v4zm0-16h4v-4h-4v4zm-8 0h4v-4h-4v4zm0 16h4v-4h-4v4zm0-8h4v-4h-4v4zm8-24h4v-4h-4v4zm24 24h4v-4h-4v4zm-16 8h4v-36h-4v36zm16 0h4v-4h-4v4zm0-16h4v-4h-4v4zm0-20v4h4v-4h-4zm0 12h4v-4h-4v4zm-8-8h4v-4h-4v4zm0 32h4v-4h-4v4zm0-16h4v-4h-4v4z"/> <path d="M0 0h48v48h-48z" fill="none"/> </svg>`},18548:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M512 1248v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm1280 512v192q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h960q40 0 68 28t28 68zm-1280-1024v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm1280 512v192q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h960q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h960q40 0 68 28t28 68z"/> </svg>`},52242:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M512 1248v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm-640-1024v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm-640-1024v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm640 512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68zm0-512v192q0 40-28 68t-68 28h-320q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h320q40 0 68 28t28 68z"/> </svg>`},87498:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45z"/> </svg>`},7986:function(c){c.exports='<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <path d="M5.09668 6.99707H7.17358L4.17358 3.99707L1.17358 6.99707H3.09668V17.0031H1.15881L4.15881 20.0031L7.15881 17.0031H5.09668V6.99707Z"/> <path d="M22.8412 7H8.84119V5H22.8412V7Z"/> <path d="M22.8412 11H8.84119V9H22.8412V11Z"/> <path d="M8.84119 15H22.8412V13H8.84119V15Z"/> <path d="M22.8412 19H8.84119V17H22.8412V19Z"/> </svg>'},23075:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1520 1216q0-40-28-68l-208-208q-28-28-68-28-42 0-72 32 3 3 19 18.5t21.5 21.5 15 19 13 25.5 3.5 27.5q0 40-28 68t-68 28q-15 0-27.5-3.5t-25.5-13-19-15-21.5-21.5-18.5-19q-33 31-33 73 0 40 28 68l206 207q27 27 68 27 40 0 68-26l147-146q28-28 28-67zm-703-705q0-40-28-68l-206-207q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l208 208q27 27 68 27 42 0 72-31-3-3-19-18.5t-21.5-21.5-15-19-13-25.5-3.5-27.5q0-40 28-68t68-28q15 0 27.5 3.5t25.5 13 19 15 21.5 21.5 18.5 19q33-31 33-73zm895 705q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-206-207q-83-83-83-203 0-123 88-209l-88-88q-86 88-208 88-120 0-204-84l-208-208q-84-84-84-204t85-203l147-146q83-83 203-83 121 0 204 85l206 207q83 83 83 203 0 123-88 209l88 88q86-88 208-88 120 0 204 84l208 208q84 84 84 204z"/> </svg>`},10655:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M503 1271l-256 256q-10 9-23 9-12 0-23-9-9-10-9-23t9-23l256-256q10-9 23-9t23 9q9 10 9 23t-9 23zm169 41v320q0 14-9 23t-23 9-23-9-9-23v-320q0-14 9-23t23-9 23 9 9 23zm-224-224q0 14-9 23t-23 9h-320q-14 0-23-9t-9-23 9-23 23-9h320q14 0 23 9t9 23zm1264 128q0 120-85 203l-147 146q-83 83-203 83-121 0-204-85l-334-335q-21-21-42-56l239-18 273 274q27 27 68 27.5t68-26.5l147-146q28-28 28-67 0-40-28-68l-274-275 18-239q35 21 56 42l336 336q84 86 84 204zm-617-724l-239 18-273-274q-28-28-68-28-39 0-68 27l-147 146q-28 28-28 67 0 40 28 68l274 274-18 240q-35-21-56-42l-336-336q-84-86-84-204 0-120 85-203l147-146q83-83 203-83 121 0 204 85l334 335q21 21 42 56zm633 84q0 14-9 23t-23 9h-320q-14 0-23-9t-9-23 9-23 23-9h320q14 0 23 9t9 23zm-544-544v320q0 14-9 23t-23 9-23-9-9-23v-320q0-14 9-23t23-9 23 9 9 23zm407 151l-256 256q-11 9-23 9t-23-9q-9-10-9-23t9-23l256-256q10-9 23-9t23 9q9 10 9 23t-9 23z"/> </svg>`},15476:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path stroke-width="0" d="M381 1620q0 80-54.5 126t-135.5 46q-106 0-172-66l57-88q49 45 106 45 29 0 50.5-14.5t21.5-42.5q0-64-105-56l-26-56q8-10 32.5-43.5t42.5-54 37-38.5v-1q-16 0-48.5 1t-48.5 1v53h-106v-152h333v88l-95 115q51 12 81 49t30 88zm2-627v159h-362q-6-36-6-54 0-51 23.5-93t56.5-68 66-47.5 56.5-43.5 23.5-45q0-25-14.5-38.5t-39.5-13.5q-46 0-81 58l-85-59q24-51 71.5-79.5t105.5-28.5q73 0 123 41.5t50 112.5q0 50-34 91.5t-75 64.5-75.5 50.5-35.5 52.5h127v-60h105zm1409 319v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-14 9-23t23-9h1216q13 0 22.5 9.5t9.5 22.5zm-1408-899v99h-335v-99h107q0-41 .5-122t.5-121v-12h-2q-8 17-50 54l-71-76 136-127h106v404h108zm1408 387v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-14 9-23t23-9h1216q13 0 22.5 9.5t9.5 22.5zm0-512v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},59403:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path stroke-width="0" d="M384 1408q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm0-512q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm-1408-928q0 80-56 136t-136 56-136-56-56-136 56-136 136-56 136 56 56 136zm1408 416v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5zm0-512v192q0 13-9.5 22.5t-22.5 9.5h-1216q-13 0-22.5-9.5t-9.5-22.5v-192q0-13 9.5-22.5t22.5-9.5h1216q13 0 22.5 9.5t9.5 22.5z"/> </svg>`},22860:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M448 1536h896v-256h-896v256zm0-640h896v-384h-160q-40 0-68-28t-28-68v-160h-640v640zm1152 64q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128 0v416q0 13-9.5 22.5t-22.5 9.5h-224v160q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-160h-224q-13 0-22.5-9.5t-9.5-22.5v-416q0-79 56.5-135.5t135.5-56.5h64v-544q0-40 28-68t68-28h672q40 0 88 20t76 48l152 152q28 28 48 76t20 88v256h64q79 0 135.5 56.5t56.5 135.5z"/> </svg>`},95600:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1664 256v448q0 26-19 45t-45 19h-448q-42 0-59-40-17-39 14-69l138-138q-148-137-349-137-104 0-198.5 40.5t-163.5 109.5-109.5 163.5-40.5 198.5 40.5 198.5 109.5 163.5 163.5 109.5 198.5 40.5q119 0 225-52t179-147q7-10 23-12 14 0 25 9l137 138q9 8 9.5 20.5t-7.5 22.5q-109 132-264 204.5t-327 72.5q-156 0-298-61t-245-164-164-245-61-298 61-298 164-245 245-164 298-61q147 0 284.5 55.5t244.5 156.5l130-129q29-31 70-14 39 17 39 59z"/> </svg>`},76214:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1664 896q0 156-61 298t-164 245-245 164-298 61q-172 0-327-72.5t-264-204.5q-7-10-6.5-22.5t8.5-20.5l137-138q10-9 25-9 16 2 23 12 73 95 179 147t225 52q104 0 198.5-40.5t163.5-109.5 109.5-163.5 40.5-198.5-40.5-198.5-109.5-163.5-163.5-109.5-198.5-40.5q-98 0-188 35.5t-160 101.5l137 138q31 30 14 69-17 40-59 40h-448q-26 0-45-19t-19-45v-448q0-42 40-59 39-17 69 14l130 129q107-101 244.5-156.5t284.5-55.5q156 0 298 61t245 164 164 245 61 298z"/> </svg>`},41197:function(c){c.exports='<svg viewBox="0 0 500 500" xmlns="http://www.w3.org/2000/svg"> <path clip-rule="evenodd" d="M306.39,154.09c19.628,4.543,35.244,21.259,39.787,39.523 c1.551,8.54,8.998,14.989,17.904,14.989c9.991,0,18.168-8.175,18.168-18.17c0-13.083-10.991-32.98-25.985-47.881 c-14.719-14.537-32.252-24.802-46.695-24.802c-9.991,0-18.172,8.45-18.172,18.446C291.396,145.094,297.847,152.546,306.39,154.09z M56.629,392.312c-14.09,14.08-14.09,36.979,0,51.059c14.08,14.092,36.981,14.092,50.965,0l104.392-104.303 c24.347,15.181,53.062,23.991,83.953,23.991c87.857,0,158.995-71.142,158.995-158.999c0-87.854-71.138-158.995-158.995-158.995 c-87.856,0-158.995,71.141-158.995,158.995c0,30.802,8.819,59.606,23.992,83.953L56.629,392.312z M182.371,204.06 c0-62.687,50.875-113.568,113.568-113.568s113.569,50.881,113.569,113.568c0,62.694-50.876,113.569-113.569,113.569 S182.371,266.754,182.371,204.06z" fill-rule="evenodd"/> </svg>'},9342:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M553 1399l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23t-10 23l-393 393 393 393q10 10 10 23t-10 23zm591-1067l-373 1291q-4 13-15.5 19.5t-23.5 2.5l-62-17q-13-4-19.5-15.5t-2.5-24.5l373-1291q4-13 15.5-19.5t23.5-2.5l62 17q13 4 19.5 15.5t2.5 24.5zm657 651l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23t-10 23z"/> </svg>`},69546:function(c){c.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"> <path d="M24.89 32h4.18L18.86 6h-3.71L4.93 32h4.18l2.25-6h11.29l2.24 6zM12.86 22L17 10.95 21.14 22h-8.28zm30.31 1.17L27 39.34 19.66 32l-2.83 2.83L27 45l19-19-2.83-2.83z"/> </svg>'},43158:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 270 270"> <path d="m240.443652,220.45085l-47.410809,0l0,-10.342138c13.89973,-8.43655 25.752896,-19.844464 34.686646,-33.469923c11.445525,-17.455846 17.496072,-37.709239 17.496072,-58.570077c0,-59.589197 -49.208516,-108.068714 -109.693558,-108.068714s-109.69263,48.479517 -109.69263,108.069628c0,20.860839 6.050547,41.113316 17.497001,58.570077c8.93375,13.625459 20.787845,25.032458 34.686646,33.469008l0,10.342138l-47.412666,0c-10.256959,0 -18.571354,8.191376 -18.571354,18.296574c0,10.105198 8.314395,18.296574 18.571354,18.296574l65.98402,0c10.256959,0 18.571354,-8.191376 18.571354,-18.296574l0,-39.496814c0,-7.073455 -4.137698,-13.51202 -10.626529,-16.537358c-25.24497,-11.772016 -41.557118,-37.145704 -41.557118,-64.643625c0,-39.411735 32.545369,-71.476481 72.549922,-71.476481c40.004553,0 72.550851,32.064746 72.550851,71.476481c0,27.497006 -16.312149,52.87161 -41.557118,64.643625c-6.487902,3.026253 -10.6256,9.464818 -10.6256,16.537358l0,39.496814c0,10.105198 8.314395,18.296574 18.571354,18.296574l65.982163,0c10.256959,0 18.571354,-8.191376 18.571354,-18.296574c0,-10.105198 -8.314395,-18.296574 -18.571354,-18.296574z"/> </svg>`},51716:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M576 1376v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm0-384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm-512-768v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm-512-768v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm512 384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm0-384v-192q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v192q0 14 9 23t23 9h320q14 0 23-9t9-23zm128-320v1088q0 66-47 113t-113 47h-1344q-66 0-113-47t-47-113v-1088q0-66 47-113t113-47h1344q66 0 113 47t47 113z"/> </svg>`},49222:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 352v1088q0 42-39 59-13 5-25 5-27 0-45-19l-403-403v166q0 119-84.5 203.5t-203.5 84.5h-704q-119 0-203.5-84.5t-84.5-203.5v-704q0-119 84.5-203.5t203.5-84.5h704q119 0 203.5 84.5t84.5 203.5v165l403-402q18-19 45-19 12 0 25 5 39 17 39 59z"/> </svg>`},1755:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1395 736q0 13-10 23l-466 466q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l393 393 393-393q10-10 23-10t23 10l50 50q10 10 10 23z"/> </svg>`},74911:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1203 544q0 13-10 23l-393 393 393 393q10 10 10 23t-10 23l-50 50q-10 10-23 10t-23-10l-466-466q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l50 50q10 10 10 23z"/> </svg>`},8805:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1171 960q0 13-10 23l-466 466q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l393-393-393-393q-10-10-10-23t10-23l50-50q10-10 23-10t23 10l466 466q10 10 10 23z"/> </svg>`},16547:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1395 1184q0 13-10 23l-50 50q-10 10-23 10t-23-10l-393-393-393 393q-10 10-23 10t-23-10l-50-50q-10-10-10-23t10-23l466-466q10-10 23-10t23 10l466 466q10 10 10 23z"/> </svg>`},10856:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M704 1376v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm256 0v-704q0-14-9-23t-23-9h-64q-14 0-23 9t-9 23v704q0 14 9 23t23 9h64q14 0 23-9t9-23zm-544-992h448l-48-117q-7-9-17-11h-317q-10 2-17 11zm928 32v64q0 14-9 23t-23 9h-96v948q0 83-47 143.5t-113 60.5h-832q-66 0-113-58.5t-47-141.5v-952h-96q-14 0-23-9t-9-23v-64q0-14 9-23t23-9h309l70-167q15-37 54-63t79-26h320q40 0 79 26t54 63l70 167h309q14 0 23 9t9 23z"/> </svg>`},98441:function(c){c.exports='<svg viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg"> <g stroke="none" stroke-width="1"> <path d="M14,1.4 L12.6,0 L7,5.6 L1.4,0 L0,1.4 L5.6,7 L0,12.6 L1.4,14 L7,8.4 L12.6,14 L14,12.6 L8.4,7 L14,1.4 Z"/> </g> </svg>'},52488:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-896q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h896q26 0 45 19t19 45zm256-384v128q0 26-19 45t-45 19h-1408q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1408q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-640q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h640q26 0 45 19t19 45z"/> </svg>`},9370:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"/> </svg>`},66543:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 10 10"> <path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/> </svg>`},608:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 24 24" > <circle cx="12" cy="12" r="2.2"/> <circle cx="12" cy="5" r="2.2"/> <circle cx="12" cy="19" r="2.2"/> </svg>`},42840:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1664 960q-152-236-381-353 61 104 61 225 0 185-131.5 316.5t-316.5 131.5-316.5-131.5-131.5-316.5q0-121 61-225-229 117-381 353 133 205 333.5 326.5t434.5 121.5 434.5-121.5 333.5-326.5zm-720-384q0-20-14-34t-34-14q-125 0-214.5 89.5t-89.5 214.5q0 20 14 34t34 14 34-14 14-34q0-86 61-147t147-61q20 0 34-14t14-34zm848 384q0 34-20 69-140 230-376.5 368.5t-499.5 138.5-499.5-139-376.5-368q-20-35-20-69t20-69q140-229 376.5-368t499.5-139 499.5 139 376.5 368q20 35 20 69z"/> </svg>`},79096:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1152 512v-472q22 14 36 28l408 408q14 14 28 36h-472zm-128 32q0 40 28 68t68 28h544v1056q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1600q0-40 28-68t68-28h800v544z"/> </svg>`},33014:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1728 608v704q0 92-66 158t-158 66h-1216q-92 0-158-66t-66-158v-960q0-92 66-158t158-66h320q92 0 158 66t66 158v32h672q92 0 158 66t66 158z"/> </svg>`},91677:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1152 1376v-160q0-14-9-23t-23-9h-96v-512q0-14-9-23t-23-9h-320q-14 0-23 9t-9 23v160q0 14 9 23t23 9h96v320h-96q-14 0-23 9t-9 23v160q0 14 9 23t23 9h448q14 0 23-9t9-23zm-128-896v-160q0-14-9-23t-23-9h-192q-14 0-23 9t-9 23v160q0 14 9 23t23 9h192q14 0 23-9t9-23zm640 416q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"/> </svg>`},8259:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-1280q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1280q26 0 45 19t19 45zm256-384v128q0 26-19 45t-45 19h-1536q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1536q26 0 45 19t19 45zm-384-384v128q0 26-19 45t-45 19h-1152q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1152q26 0 45 19t19 45z"/> </svg>`},64467:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"/></svg>`},86934:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 32 32"> <path d="M27 4l-15 15-7-7-5 5 12 12 20-20z"/> </svg>`},76133:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M491 1536l91-91-235-235-91 91v107h128v128h107zm523-928q0-22-22-22-10 0-17 7l-542 542q-7 7-7 17 0 22 22 22 10 0 17-7l542-542q7-7 7-17zm-54-192l416 416-832 832h-416v-416zm683 96q0 53-37 90l-166 166-416-416 166-165q36-38 90-38 53 0 91 38l235 234q37 39 37 91z"/></svg>`},45519:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"><path d="M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"/></svg>`},90265:function(c){c.exports='<svg viewBox="0 0 13 13" xmlns="http://www.w3.org/2000/svg"> <path d="M5.9814 11.8049C5.59087 11.4144 5.59087 10.7812 5.9814 10.3907L10.224 6.14806C10.6146 5.75754 11.2477 5.75754 11.6383 6.14806C12.0288 6.53859 12.0288 7.17175 11.6383 7.56228L7.39561 11.8049C7.00509 12.1954 6.37192 12.1954 5.9814 11.8049Z"/> <path d="M0.707107 12.0208C0.316582 11.6303 0.316582 10.9971 0.707107 10.6066L10.6066 0.707121C10.9971 0.316597 11.6303 0.316596 12.0208 0.707121C12.4113 1.09764 12.4113 1.73081 12.0208 2.12133L2.12132 12.0208C1.7308 12.4114 1.09763 12.4114 0.707107 12.0208Z"/> </svg>'},81279:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1792 1344v128q0 26-19 45t-45 19h-1664q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1664q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1280q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1280q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1536q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1536q26 0 45 19t19 45zm0-384v128q0 26-19 45t-45 19h-1152q-26 0-45-19t-19-45v-128q0-26 19-45t45-19h1152q26 0 45 19t19 45z"/> </svg>`},68899:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M512 1536h768v-384h-768v384zm896 0h128v-896q0-14-10-38.5t-20-34.5l-281-281q-10-10-34-20t-39-10v416q0 40-28 68t-68 28h-576q-40 0-68-28t-28-68v-416h-128v1280h128v-416q0-40 28-68t68-28h832q40 0 68 28t28 68v416zm-384-928v-320q0-13-9.5-22.5t-22.5-9.5h-192q-13 0-22.5 9.5t-9.5 22.5v320q0 13 9.5 22.5t22.5 9.5h192q13 0 22.5-9.5t9.5-22.5zm640 32v928q0 40-28 68t-68 28h-1344q-40 0-68-28t-28-68v-1344q0-40 28-68t68-28h928q40 0 88 20t76 48l280 280q28 28 48 76t20 88z"/> </svg>`},70744:function(c){c.exports='<svg viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg"> <path stroke="null" d="m42.276011,26.302547c0.098397,-0.76605 0.172194,-1.54407 0.172194,-2.33406s-0.073797,-1.56801 -0.172194,-2.33406l5.202718,-3.961917c0.467384,-0.359086 0.602679,-1.005441 0.29519,-1.532101l-4.919828,-8.29489c-0.307489,-0.51469 -0.947067,-0.730142 -1.500548,-0.51469l-6.125186,2.405877c-1.266856,-0.945594 -2.656707,-1.747553 -4.157255,-2.357999l-0.922468,-6.343855c-0.110696,-0.562568 -0.614979,-1.005441 -1.229957,-1.005441l-9.839656,0c-0.614979,0 -1.119261,0.442873 -1.217657,1.005441l-0.922468,6.343855c-1.500548,0.610446 -2.890399,1.400436 -4.157255,2.357999l-6.125186,-2.405877c-0.553481,-0.203482 -1.193058,0 -1.500548,0.51469l-4.919828,8.29489c-0.307489,0.51469 -0.172194,1.161045 0.29519,1.532101l5.190419,3.961917c-0.098397,0.76605 -0.172194,1.54407 -0.172194,2.33406s0.073797,1.56801 0.172194,2.33406l-5.190419,3.961917c-0.467384,0.359086 -0.602679,1.005441 -0.29519,1.532101l4.919828,8.29489c0.307489,0.51469 0.947067,0.730142 1.500548,0.51469l6.125186,-2.405877c1.266856,0.945594 2.656707,1.747553 4.157255,2.357999l0.922468,6.343855c0.098397,0.562568 0.602679,1.005441 1.217657,1.005441l9.839656,0c0.614979,0 1.119261,-0.442873 1.217657,-1.005441l0.922468,-6.343855c1.500548,-0.610446 2.890399,-1.400436 4.157255,-2.357999l6.125186,2.405877c0.553481,0.203482 1.193058,0 1.500548,-0.51469l4.919828,-8.29489c0.307489,-0.51469 0.172194,-1.161045 -0.29519,-1.532101l-5.190419,-3.961917zm-18.277162,6.044617c-4.759934,0 -8.609699,-3.746465 -8.609699,-8.378677s3.849766,-8.378677 8.609699,-8.378677s8.609699,3.746465 8.609699,8.378677s-3.849766,8.378677 -8.609699,8.378677z"/> </svg>'},19201:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"/> </svg>`},84930:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1639 1056q0 5-1 7-64 268-268 434.5t-478 166.5q-146 0-282.5-55t-243.5-157l-129 129q-19 19-45 19t-45-19-19-45v-448q0-26 19-45t45-19h448q26 0 45 19t19 45-19 45l-137 137q71 66 161 102t187 36q134 0 250-65t186-179q11-17 53-117 8-23 30-23h192q13 0 22.5 9.5t9.5 22.5zm25-800v448q0 26-19 45t-45 19h-448q-26 0-45-19t-19-45 19-45l138-138q-148-137-349-137-134 0-250 65t-186 179q-11 17-53 117-8 23-30 23h-199q-13 0-22.5-9.5t-9.5-22.5v-7q65-268 270-434.5t480-166.5q146 0 284 55.5t245 156.5l130-129q19-19 45-19t45 19 19 45z"/> </svg>`},99704:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1344 1472q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm256 0q0-26-19-45t-45-19-45 19-19 45 19 45 45 19 45-19 19-45zm128-224v320q0 40-28 68t-68 28h-1472q-40 0-68-28t-28-68v-320q0-40 28-68t68-28h427q21 56 70.5 92t110.5 36h256q61 0 110.5-36t70.5-92h427q40 0 68 28t28 68zm-325-648q-17 40-59 40h-256v448q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-448h-256q-42 0-59-40-17-39 14-69l448-448q18-19 45-19t45 19l448 448q31 30 14 69z"/> </svg>`},2304:function(c){c.exports=`<svg xmlns='http://www.w3.org/2000/svg' viewBox="0 0 1792 1792"> <path d="M1216 320q0 26-19 45t-45 19h-128v1024h128q26 0 45 19t19 45-19 45l-256 256q-19 19-45 19t-45-19l-256-256q-19-19-19-45t19-45 45-19h128v-1024h-128q-26 0-45-19t-19-45 19-45l256-256q19-19 45-19t45 19l256 256q19 19 19 45z"/> </svg>`},93330:function(c,a,s){s.r(a)},45066:function(c,a,s){s.r(a)},99895:function(c,a,s){s.r(a)},87682:function(c,a,s){s.r(a)},50905:function(c,a,s){s.r(a)},70446:function(c,a,s){s.r(a)},18984:function(c,a,s){s.r(a)},4591:function(c,a,s){s.r(a)},64194:function(c,a,s){s.r(a)},70375:function(c,a,s){s.r(a)},90235:function(c,a,s){s.r(a)},88477:function(c,a,s){s.r(a)},50197:function(c,a,s){s.r(a)},39008:function(c,a,s){s.r(a)},47086:function(c,a,s){s.r(a)},16462:function(c,a,s){s.r(a)},40692:function(c,a,s){s.r(a)},27452:function(c,a,s){s.r(a)},51422:function(c,a,s){s.r(a)},62820:function(c,a,s){s.r(a)},63421:function(c,a,s){s.r(a)},32115:function(c,a,s){s.r(a)},53362:function(c,a,s){s.r(a)},48904:function(c,a,s){s.r(a)},85796:function(c,a,s){s.r(a)},28654:function(c,a,s){s.r(a)},60819:function(c,a,s){s.r(a)},96410:function(c,a,s){s.r(a)},33126:function(c,a,s){s.r(a)},30724:function(c,a,s){s.r(a)},14320:function(c,a,s){s.r(a)},9947:function(c,a,s){s.r(a)},45109:function(c,a,s){s.r(a)},71708:function(c,a,s){s.r(a)},51629:function(c,a,s){s.r(a)},54860:function(c,a,s){s.r(a)},47818:function(c,a,s){s.r(a)},6316:function(c,a,s){s.r(a)},88582:function(c,a,s){s.r(a)},30962:function(c,a,s){s.r(a)},68197:function(c,a,s){s.r(a)},60057:function(c,a,s){s.r(a)},33393:function(c,a,s){s.r(a)},51057:function(c,a,s){s.r(a)},64618:function(c,a,s){s.r(a)},90176:function(c,a,s){s.r(a)},91147:function(c,a,s){s.r(a)},70631:function(c,a){function s(h){return s=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},s(h)}function u(h,p,m){var f=m.value;if(typeof f!="function")throw new TypeError("@boundMethod decorator can only be applied to methods not: ".concat(s(f)));var g=!1;return{configurable:!0,get:function(){if(g||this===h.prototype||this.hasOwnProperty(p)||typeof f!="function")return f;var v=f.bind(this);return g=!0,Object.defineProperty(this,p,{configurable:!0,get:function(){return v},set:function(x){f=x,delete this[p]}}),g=!1,v},set:function(v){f=v}}}function d(h){var p;return typeof Reflect<"u"&&typeof Reflect.ownKeys=="function"?p=Reflect.ownKeys(h.prototype):(p=Object.getOwnPropertyNames(h.prototype),typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(h.prototype)))),p.forEach(function(m){if(m!=="constructor"){var f=Object.getOwnPropertyDescriptor(h.prototype,m);typeof f.value=="function"&&Object.defineProperty(h.prototype,m,u(h,m,f))}}),h}Object.defineProperty(a,"__esModule",{value:!0}),a.boundClass=a.boundMethod=void 0,a.boundMethod=u,a.boundClass=d,a.default=function(){return arguments.length===1?d.apply(void 0,arguments):u.apply(void 0,arguments)}},61227:function(){"document"in window.self&&((!("classList"in document.createElement("_"))||document.createElementNS&&!("classList"in document.createElementNS("http://www.w3.org/2000/svg","g")))&&function(c){if("Element"in c){var a="classList",s=c.Element.prototype,u=Object,d=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},h=Array.prototype.indexOf||function(y){for(var b=0,w=this.length;w>b;b++)if(b in this&&this[b]===y)return b;return-1},p=function(y,b){this.name=y,this.code=DOMException[y],this.message=b},m=function(y,b){if(b==="")throw new p("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(b))throw new p("INVALID_CHARACTER_ERR","String contains an invalid character");return h.call(y,b)},f=function(y){for(var b=d.call(y.getAttribute("class")||""),w=b?b.split(/\s+/):[],_=0,S=w.length;S>_;_++)this.push(w[_]);this._updateClassName=function(){y.setAttribute("class",this.toString())}},g=f.prototype=[],v=function(){return new f(this)};if(p.prototype=Error.prototype,g.item=function(y){return this[y]||null},g.contains=function(y){return m(this,y+="")!==-1},g.add=function(){var y,b=arguments,w=0,_=b.length,S=!1;do m(this,y=b[w]+"")===-1&&(this.push(y),S=!0);while(++w<_);S&&this._updateClassName()},g.remove=function(){var y,b,w=arguments,_=0,S=w.length,E=!1;do for(b=m(this,y=w[_]+"");b!==-1;)this.splice(b,1),E=!0,b=m(this,y);while(++_<S);E&&this._updateClassName()},g.toggle=function(y,b){var w=this.contains(y+=""),_=w?b!==!0&&"remove":b!==!1&&"add";return _&&this[_](y),b===!0||b===!1?b:!w},g.toString=function(){return this.join(" ")},u.defineProperty){var x={get:v,enumerable:!0,configurable:!0};try{u.defineProperty(s,a,x)}catch(y){y.number!==void 0&&y.number!==-2146823252||(x.enumerable=!1,u.defineProperty(s,a,x))}}else u.prototype.__defineGetter__&&s.__defineGetter__(a,v)}}(window.self),function(){var c=document.createElement("_");if(c.classList.add("c1","c2"),!c.classList.contains("c2")){var a=function(u){var d=DOMTokenList.prototype[u];DOMTokenList.prototype[u]=function(h){var p,m=arguments.length;for(p=0;m>p;p++)d.call(this,h=arguments[p])}};a("add"),a("remove")}if(c.classList.toggle("c3",!1),c.classList.contains("c3")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(u,d){return 1 in arguments&&!this.contains(u)==!d?d:s.call(this,u)}}c=null}())},69220:function(c,a,s){s(22513);var u=s(56599);c.exports=u("Array","findIndex")},10444:function(c,a,s){s(52867),s(70057);var u=s(31116);c.exports=u.Array.from},66622:function(c,a,s){s(54166),s(32044),s(95661),s(28424),s(64514),s(30733),s(40327),s(53639),s(6147),s(7290),s(95122),s(61322),s(39605),s(49341),s(28809),s(82658),s(43967),s(90217),s(73477),s(93697);var u=s(31116);c.exports=u.Symbol},98061:function(c,a,s){var u=s(794),d=s(98418),h=TypeError;c.exports=function(p){if(u(p))return p;throw h(d(p)+" is not a function")}},75839:function(c,a,s){var u=s(794),d=String,h=TypeError;c.exports=function(p){if(typeof p=="object"||u(p))return p;throw h("Can't set "+d(p)+" as a prototype")}},15179:function(c,a,s){var u=s(19517),d=s(93503),h=s(73252).f,p=u("unscopables"),m=Array.prototype;m[p]==null&&h(m,p,{configurable:!0,value:d(null)}),c.exports=function(f){m[p][f]=!0}},52313:function(c,a,s){var u=s(8148),d=String,h=TypeError;c.exports=function(p){if(u(p))return p;throw h(d(p)+" is not an object")}},92707:function(c,a,s){var u=s(40207),d=s(9093),h=s(68488),p=s(79665),m=s(84997),f=s(15333),g=s(15050),v=s(89476),x=s(27395),y=s(81058),b=Array;c.exports=function(w){var _=h(w),S=f(this),E=arguments.length,A=E>1?arguments[1]:void 0,C=A!==void 0;C&&(A=u(A,E>2?arguments[2]:void 0));var M,T,k,P,D,I,O=y(_),j=0;if(!O||this===b&&m(O))for(M=g(_),T=S?new this(M):b(M);M>j;j++)I=C?A(_[j],j):_[j],v(T,j,I);else for(D=(P=x(_,O)).next,T=S?new this:[];!(k=d(D,P)).done;j++)I=C?p(P,A,[k.value,j],!0):k.value,v(T,j,I);return T.length=j,T}},79327:function(c,a,s){var u=s(98651),d=s(10586),h=s(15050),p=function(m){return function(f,g,v){var x,y=u(f),b=h(y),w=d(v,b);if(m&&g!=g){for(;b>w;)if((x=y[w++])!=x)return!0}else for(;b>w;w++)if((m||w in y)&&y[w]===g)return m||w||0;return!m&&-1}};c.exports={includes:p(!0),indexOf:p(!1)}},56881:function(c,a,s){var u=s(40207),d=s(90838),h=s(25049),p=s(68488),m=s(15050),f=s(6429),g=d([].push),v=function(x){var y=x==1,b=x==2,w=x==3,_=x==4,S=x==6,E=x==7,A=x==5||S;return function(C,M,T,k){for(var P,D,I=p(C),O=h(I),j=u(M,T),N=m(O),R=0,F=k||f,U=y?F(C,N):b||E?F(C,0):void 0;N>R;R++)if((A||R in O)&&(D=j(P=O[R],R,I),x))if(y)U[R]=D;else if(D)switch(x){case 3:return!0;case 5:return P;case 6:return R;case 2:g(U,P)}else switch(x){case 4:return!1;case 7:g(U,P)}return S?-1:w||_?_:U}};c.exports={forEach:v(0),map:v(1),filter:v(2),some:v(3),every:v(4),find:v(5),findIndex:v(6),filterReject:v(7)}},63833:function(c,a,s){var u=s(75834),d=s(19517),h=s(65190),p=d("species");c.exports=function(m){return h>=51||!u(function(){var f=[];return(f.constructor={})[p]=function(){return{foo:1}},f[m](Boolean).foo!==1})}},57652:function(c,a,s){var u=s(10586),d=s(15050),h=s(89476),p=Array,m=Math.max;c.exports=function(f,g,v){for(var x=d(f),y=u(g,x),b=u(v===void 0?x:v,x),w=p(m(b-y,0)),_=0;b>y;y++,_++)h(w,_,f[y]);return w.length=_,w}},54832:function(c,a,s){var u=s(90838);c.exports=u([].slice)},22506:function(c,a,s){var u=s(36222),d=s(15333),h=s(8148),p=s(19517)("species"),m=Array;c.exports=function(f){var g;return u(f)&&(d(g=f.constructor)&&(g===m||u(g.prototype))||h(g)&&(g=g[p])===null)&&(g=void 0),g===void 0?m:g}},6429:function(c,a,s){var u=s(22506);c.exports=function(d,h){return new(u(d))(h===0?0:h)}},79665:function(c,a,s){var u=s(52313),d=s(11274);c.exports=function(h,p,m,f){try{return f?p(u(m)[0],m[1]):p(m)}catch(g){d(h,"throw",g)}}},7581:function(c,a,s){var u=s(19517)("iterator"),d=!1;try{var h=0,p={next:function(){return{done:!!h++}},return:function(){d=!0}};p[u]=function(){return this},Array.from(p,function(){throw 2})}catch{}c.exports=function(m,f){if(!f&&!d)return!1;var g=!1;try{var v={};v[u]=function(){return{next:function(){return{done:g=!0}}}},m(v)}catch{}return g}},6285:function(c,a,s){var u=s(90838),d=u({}.toString),h=u("".slice);c.exports=function(p){return h(d(p),8,-1)}},8652:function(c,a,s){var u=s(6424),d=s(794),h=s(6285),p=s(19517)("toStringTag"),m=Object,f=h(function(){return arguments}())=="Arguments";c.exports=u?h:function(g){var v,x,y;return g===void 0?"Undefined":g===null?"Null":typeof(x=function(b,w){try{return b[w]}catch{}}(v=m(g),p))=="string"?x:f?h(v):(y=h(v))=="Object"&&d(v.callee)?"Arguments":y}},58392:function(c,a,s){var u=s(14434),d=s(86671),h=s(36999),p=s(73252);c.exports=function(m,f,g){for(var v=d(f),x=p.f,y=h.f,b=0;v.length>b;b++){var w=v[b];u(m,w)||g&&u(g,w)||x(m,w,y(f,w))}}},27259:function(c,a,s){var u=s(75834);c.exports=!u(function(){function d(){}return d.prototype.constructor=null,Object.getPrototypeOf(new d)!==d.prototype})},17427:function(c){c.exports=function(a,s){return{value:a,done:s}}},45840:function(c,a,s){var u=s(13873),d=s(73252),h=s(32500);c.exports=u?function(p,m,f){return d.f(p,m,h(1,f))}:function(p,m,f){return p[m]=f,p}},32500:function(c){c.exports=function(a,s){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:s}}},89476:function(c,a,s){var u=s(43836),d=s(73252),h=s(32500);c.exports=function(p,m,f){var g=u(m);g in p?d.f(p,g,h(0,f)):p[g]=f}},97548:function(c,a,s){var u=s(40846),d=s(73252);c.exports=function(h,p,m){return m.get&&u(m.get,p,{getter:!0}),m.set&&u(m.set,p,{setter:!0}),d.f(h,p,m)}},35065:function(c,a,s){var u=s(794),d=s(73252),h=s(40846),p=s(25379);c.exports=function(m,f,g,v){v||(v={});var x=v.enumerable,y=v.name!==void 0?v.name:f;if(u(g)&&h(g,y,v),v.global)x?m[f]=g:p(f,g);else{try{v.unsafe?m[f]&&(x=!0):delete m[f]}catch{}x?m[f]=g:d.f(m,f,{value:g,enumerable:!1,configurable:!v.nonConfigurable,writable:!v.nonWritable})}return m}},25379:function(c,a,s){var u=s(37042),d=Object.defineProperty;c.exports=function(h,p){try{d(u,h,{value:p,configurable:!0,writable:!0})}catch{u[h]=p}return p}},13873:function(c,a,s){var u=s(75834);c.exports=!u(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},12062:function(c){var a=typeof document=="object"&&document.all;c.exports={all:a,IS_HTMLDDA:a===void 0&&a!==void 0}},15192:function(c,a,s){var u=s(37042),d=s(8148),h=u.document,p=d(h)&&d(h.createElement);c.exports=function(m){return p?h.createElement(m):{}}},39505:function(c){var a=TypeError;c.exports=function(s){if(s>9007199254740991)throw a("Maximum allowed index exceeded");return s}},21473:function(c){c.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},65190:function(c,a,s){var u,d,h=s(37042),p=s(21473),m=h.process,f=h.Deno,g=m&&m.versions||f&&f.version,v=g&&g.v8;v&&(d=(u=v.split("."))[0]>0&&4>u[0]?1:+(u[0]+u[1])),!d&&p&&((u=p.match(/Edge\/(\d+)/))&&74>u[1]||(u=p.match(/Chrome\/(\d+)/))&&(d=+u[1])),c.exports=d},56599:function(c,a,s){var u=s(37042),d=s(90838);c.exports=function(h,p){return d(u[h].prototype[p])}},64456:function(c){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},50791:function(c,a,s){var u=s(37042),d=s(36999).f,h=s(45840),p=s(35065),m=s(25379),f=s(58392),g=s(56930);c.exports=function(v,x){var y,b,w,_,S,E=v.target,A=v.global,C=v.stat;if(y=A?u:C?u[E]||m(E,{}):(u[E]||{}).prototype)for(b in x){if(_=x[b],w=v.dontCallGetSet?(S=d(y,b))&&S.value:y[b],!g(A?b:E+(C?".":"#")+b,v.forced)&&w!==void 0){if(typeof _==typeof w)continue;f(_,w)}(v.sham||w&&w.sham)&&h(_,"sham",!0),p(y,b,_,v)}}},75834:function(c){c.exports=function(a){try{return!!a()}catch{return!0}}},55101:function(c,a,s){var u=s(32610),d=Function.prototype,h=d.apply,p=d.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(u?p.bind(h):function(){return p.apply(h,arguments)})},40207:function(c,a,s){var u=s(75114),d=s(98061),h=s(32610),p=u(u.bind);c.exports=function(m,f){return d(m),f===void 0?m:h?p(m,f):function(){return m.apply(f,arguments)}}},32610:function(c,a,s){var u=s(75834);c.exports=!u(function(){var d=(function(){}).bind();return typeof d!="function"||d.hasOwnProperty("prototype")})},9093:function(c,a,s){var u=s(32610),d=Function.prototype.call;c.exports=u?d.bind(d):function(){return d.apply(d,arguments)}},84521:function(c,a,s){var u=s(13873),d=s(14434),h=Function.prototype,p=u&&Object.getOwnPropertyDescriptor,m=d(h,"name"),f=m&&(function(){}).name==="something",g=m&&(!u||u&&p(h,"name").configurable);c.exports={EXISTS:m,PROPER:f,CONFIGURABLE:g}},47448:function(c,a,s){var u=s(90838),d=s(98061);c.exports=function(h,p,m){try{return u(d(Object.getOwnPropertyDescriptor(h,p)[m]))}catch{}}},75114:function(c,a,s){var u=s(6285),d=s(90838);c.exports=function(h){if(u(h)==="Function")return d(h)}},90838:function(c,a,s){var u=s(32610),d=Function.prototype,h=d.call,p=u&&d.bind.bind(h,h);c.exports=u?p:function(m){return function(){return h.apply(m,arguments)}}},98945:function(c,a,s){var u=s(37042),d=s(794),h=function(p){return d(p)?p:void 0};c.exports=function(p,m){return 2>arguments.length?h(u[p]):u[p]&&u[p][m]}},81058:function(c,a,s){var u=s(8652),d=s(20156),h=s(8140),p=s(84922),m=s(19517)("iterator");c.exports=function(f){if(!h(f))return d(f,m)||d(f,"@@iterator")||p[u(f)]}},27395:function(c,a,s){var u=s(9093),d=s(98061),h=s(52313),p=s(98418),m=s(81058),f=TypeError;c.exports=function(g,v){var x=2>arguments.length?m(g):v;if(d(x))return h(u(x,g));throw f(p(g)+" is not iterable")}},6693:function(c,a,s){var u=s(90838),d=s(36222),h=s(794),p=s(6285),m=s(63046),f=u([].push);c.exports=function(g){if(h(g))return g;if(d(g)){for(var v=g.length,x=[],y=0;v>y;y++){var b=g[y];typeof b=="string"?f(x,b):typeof b!="number"&&p(b)!="Number"&&p(b)!="String"||f(x,m(b))}var w=x.length,_=!0;return function(S,E){if(_)return _=!1,E;if(d(this))return E;for(var A=0;w>A;A++)if(x[A]===S)return E}}}},20156:function(c,a,s){var u=s(98061),d=s(8140);c.exports=function(h,p){var m=h[p];return d(m)?void 0:u(m)}},37042:function(c,a,s){var u=function(d){return d&&d.Math==Math&&d};c.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof s.g=="object"&&s.g)||function(){return this}()||Function("return this")()},14434:function(c,a,s){var u=s(90838),d=s(68488),h=u({}.hasOwnProperty);c.exports=Object.hasOwn||function(p,m){return h(d(p),m)}},48889:function(c){c.exports={}},36249:function(c,a,s){var u=s(98945);c.exports=u("document","documentElement")},12816:function(c,a,s){var u=s(13873),d=s(75834),h=s(15192);c.exports=!u&&!d(function(){return Object.defineProperty(h("div"),"a",{get:function(){return 7}}).a!=7})},25049:function(c,a,s){var u=s(90838),d=s(75834),h=s(6285),p=Object,m=u("".split);c.exports=d(function(){return!p("z").propertyIsEnumerable(0)})?function(f){return h(f)=="String"?m(f,""):p(f)}:p},92355:function(c,a,s){var u=s(90838),d=s(794),h=s(45752),p=u(Function.toString);d(h.inspectSource)||(h.inspectSource=function(m){return p(m)}),c.exports=h.inspectSource},56113:function(c,a,s){var u,d,h,p=s(95473),m=s(37042),f=s(8148),g=s(45840),v=s(14434),x=s(45752),y=s(85475),b=s(48889),w="Object already initialized",_=m.TypeError;if(p||x.state){var S=x.state||(x.state=new m.WeakMap);S.get=S.get,S.has=S.has,S.set=S.set,u=function(A,C){if(S.has(A))throw _(w);return C.facade=A,S.set(A,C),C},d=function(A){return S.get(A)||{}},h=function(A){return S.has(A)}}else{var E=y("state");b[E]=!0,u=function(A,C){if(v(A,E))throw _(w);return C.facade=A,g(A,E,C),C},d=function(A){return v(A,E)?A[E]:{}},h=function(A){return v(A,E)}}c.exports={set:u,get:d,has:h,enforce:function(A){return h(A)?d(A):u(A,{})},getterFor:function(A){return function(C){var M;if(!f(C)||(M=d(C)).type!==A)throw _("Incompatible receiver, "+A+" required");return M}}}},84997:function(c,a,s){var u=s(19517),d=s(84922),h=u("iterator"),p=Array.prototype;c.exports=function(m){return m!==void 0&&(d.Array===m||p[h]===m)}},36222:function(c,a,s){var u=s(6285);c.exports=Array.isArray||function(d){return u(d)=="Array"}},794:function(c,a,s){var u=s(12062),d=u.all;c.exports=u.IS_HTMLDDA?function(h){return typeof h=="function"||h===d}:function(h){return typeof h=="function"}},15333:function(c,a,s){var u=s(90838),d=s(75834),h=s(794),p=s(8652),m=s(98945),f=s(92355),g=function(){},v=[],x=m("Reflect","construct"),y=/^\s*(?:class|function)\b/,b=u(y.exec),w=!y.exec(g),_=function(E){if(!h(E))return!1;try{return x(g,v,E),!0}catch{return!1}},S=function(E){if(!h(E))return!1;switch(p(E)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return w||!!b(y,f(E))}catch{return!0}};S.sham=!0,c.exports=!x||d(function(){var E;return _(_.call)||!_(Object)||!_(function(){E=!0})||E})?S:_},56930:function(c,a,s){var u=s(75834),d=s(794),h=/#|\.prototype\./,p=function(x,y){var b=f[m(x)];return b==v||b!=g&&(d(y)?u(y):!!y)},m=p.normalize=function(x){return String(x).replace(h,".").toLowerCase()},f=p.data={},g=p.NATIVE="N",v=p.POLYFILL="P";c.exports=p},8140:function(c){c.exports=function(a){return a==null}},8148:function(c,a,s){var u=s(794),d=s(12062),h=d.all;c.exports=d.IS_HTMLDDA?function(p){return typeof p=="object"?p!==null:u(p)||p===h}:function(p){return typeof p=="object"?p!==null:u(p)}},70852:function(c){c.exports=!1},88253:function(c,a,s){var u=s(98945),d=s(794),h=s(54671),p=s(57982),m=Object;c.exports=p?function(f){return typeof f=="symbol"}:function(f){var g=u("Symbol");return d(g)&&h(g.prototype,m(f))}},11274:function(c,a,s){var u=s(9093),d=s(52313),h=s(20156);c.exports=function(p,m,f){var g,v;d(p);try{if(!(g=h(p,"return"))){if(m==="throw")throw f;return f}g=u(g,p)}catch(x){v=!0,g=x}if(m==="throw")throw f;if(v)throw g;return d(g),f}},60928:function(c,a,s){var u=s(77831).IteratorPrototype,d=s(93503),h=s(32500),p=s(44532),m=s(84922),f=function(){return this};c.exports=function(g,v,x,y){var b=v+" Iterator";return g.prototype=d(u,{next:h(+!y,x)}),p(g,b,!1,!0),m[b]=f,g}},13759:function(c,a,s){var u=s(50791),d=s(9093),h=s(70852),p=s(84521),m=s(794),f=s(60928),g=s(1074),v=s(482),x=s(44532),y=s(45840),b=s(35065),w=s(19517),_=s(84922),S=s(77831),E=p.PROPER,A=p.CONFIGURABLE,C=S.IteratorPrototype,M=S.BUGGY_SAFARI_ITERATORS,T=w("iterator"),k="keys",P="values",D="entries",I=function(){return this};c.exports=function(O,j,N,R,F,U,B){f(N,j,R);var H,X,G,Z=function(le){if(le===F&&Q)return Q;if(!M&&le in q)return q[le];switch(le){case k:case P:case D:return function(){return new N(this,le)}}return function(){return new N(this)}},J=j+" Iterator",ee=!1,q=O.prototype,Y=q[T]||q["@@iterator"]||F&&q[F],Q=!M&&Y||Z(F),ie=j=="Array"&&q.entries||Y;if(ie&&(H=g(ie.call(new O)))!==Object.prototype&&H.next&&(h||g(H)===C||(v?v(H,C):m(H[T])||b(H,T,I)),x(H,J,!0,!0),h&&(_[J]=I)),E&&F==P&&Y&&Y.name!==P&&(!h&&A?y(q,"name",P):(ee=!0,Q=function(){return d(Y,this)})),F)if(X={values:Z(P),keys:U?Q:Z(k),entries:Z(D)},B)for(G in X)(M||ee||!(G in q))&&b(q,G,X[G]);else u({target:j,proto:!0,forced:M||ee},X);return h&&!B||q[T]===Q||b(q,T,Q,{name:F}),_[j]=Q,X}},77831:function(c,a,s){var u,d,h,p=s(75834),m=s(794),f=s(8148),g=s(93503),v=s(1074),x=s(35065),y=s(19517),b=s(70852),w=y("iterator"),_=!1;[].keys&&("next"in(h=[].keys())?(d=v(v(h)))!==Object.prototype&&(u=d):_=!0),!f(u)||p(function(){var S={};return u[w].call(S)!==S})?u={}:b&&(u=g(u)),m(u[w])||x(u,w,function(){return this}),c.exports={IteratorPrototype:u,BUGGY_SAFARI_ITERATORS:_}},84922:function(c){c.exports={}},15050:function(c,a,s){var u=s(24431);c.exports=function(d){return u(d.length)}},40846:function(c,a,s){var u=s(90838),d=s(75834),h=s(794),p=s(14434),m=s(13873),f=s(84521).CONFIGURABLE,g=s(92355),v=s(56113),x=v.enforce,y=v.get,b=String,w=Object.defineProperty,_=u("".slice),S=u("".replace),E=u([].join),A=m&&!d(function(){return w(function(){},"length",{value:8}).length!==8}),C=String(String).split("String"),M=c.exports=function(T,k,P){_(b(k),0,7)==="Symbol("&&(k="["+S(b(k),/^Symbol\(([^)]*)\)/,"$1")+"]"),P&&P.getter&&(k="get "+k),P&&P.setter&&(k="set "+k),(!p(T,"name")||f&&T.name!==k)&&(m?w(T,"name",{value:k,configurable:!0}):T.name=k),A&&P&&p(P,"arity")&&T.length!==P.arity&&w(T,"length",{value:P.arity});try{P&&p(P,"constructor")&&P.constructor?m&&w(T,"prototype",{writable:!1}):T.prototype&&(T.prototype=void 0)}catch{}var D=x(T);return p(D,"source")||(D.source=E(C,typeof k=="string"?k:"")),T};Function.prototype.toString=M(function(){return h(this)&&y(this).source||g(this)},"toString")},43932:function(c){var a=Math.ceil,s=Math.floor;c.exports=Math.trunc||function(u){var d=+u;return(d>0?s:a)(d)}},93503:function(c,a,s){var u,d=s(52313),h=s(5770),p=s(64456),m=s(48889),f=s(36249),g=s(15192),v=s(85475)("IE_PROTO"),x=function(){},y=function(_){return"<script>"+_+"<\/script>"},b=function(_){_.write(y("")),_.close();var S=_.parentWindow.Object;return _=null,S},w=function(){try{u=new ActiveXObject("htmlfile")}catch{}var _,S;w=typeof document<"u"?document.domain&&u?b(u):((S=g("iframe")).style.display="none",f.appendChild(S),S.src="javascript:",(_=S.contentWindow.document).open(),_.write(y("document.F=Object")),_.close(),_.F):b(u);for(var E=p.length;E--;)delete w.prototype[p[E]];return w()};m[v]=!0,c.exports=Object.create||function(_,S){var E;return _!==null?(x.prototype=d(_),E=new x,x.prototype=null,E[v]=_):E=w(),S===void 0?E:h.f(E,S)}},5770:function(c,a,s){var u=s(13873),d=s(63142),h=s(73252),p=s(52313),m=s(98651),f=s(3385);a.f=u&&!d?Object.defineProperties:function(g,v){p(g);for(var x,y=m(v),b=f(v),w=b.length,_=0;w>_;)h.f(g,x=b[_++],y[x]);return g}},73252:function(c,a,s){var u=s(13873),d=s(12816),h=s(63142),p=s(52313),m=s(43836),f=TypeError,g=Object.defineProperty,v=Object.getOwnPropertyDescriptor;a.f=u?h?function(x,y,b){if(p(x),y=m(y),p(b),typeof x=="function"&&y==="prototype"&&"value"in b&&"writable"in b&&!b.writable){var w=v(x,y);w&&w.writable&&(x[y]=b.value,b={configurable:"configurable"in b?b.configurable:w.configurable,enumerable:"enumerable"in b?b.enumerable:w.enumerable,writable:!1})}return g(x,y,b)}:g:function(x,y,b){if(p(x),y=m(y),p(b),d)try{return g(x,y,b)}catch{}if("get"in b||"set"in b)throw f("Accessors not supported");return"value"in b&&(x[y]=b.value),x}},36999:function(c,a,s){var u=s(13873),d=s(9093),h=s(33244),p=s(32500),m=s(98651),f=s(43836),g=s(14434),v=s(12816),x=Object.getOwnPropertyDescriptor;a.f=u?x:function(y,b){if(y=m(y),b=f(b),v)try{return x(y,b)}catch{}if(g(y,b))return p(!d(h.f,y,b),y[b])}},53305:function(c,a,s){var u=s(6285),d=s(98651),h=s(7792).f,p=s(57652),m=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(f){return m&&u(f)=="Window"?function(g){try{return h(g)}catch{return p(m)}}(f):h(d(f))}},7792:function(c,a,s){var u=s(84729),d=s(64456).concat("length","prototype");a.f=Object.getOwnPropertyNames||function(h){return u(h,d)}},23953:function(c,a){a.f=Object.getOwnPropertySymbols},1074:function(c,a,s){var u=s(14434),d=s(794),h=s(68488),p=s(85475),m=s(27259),f=p("IE_PROTO"),g=Object,v=g.prototype;c.exports=m?g.getPrototypeOf:function(x){var y=h(x);if(u(y,f))return y[f];var b=y.constructor;return d(b)&&y instanceof b?b.prototype:y instanceof g?v:null}},54671:function(c,a,s){var u=s(90838);c.exports=u({}.isPrototypeOf)},84729:function(c,a,s){var u=s(90838),d=s(14434),h=s(98651),p=s(79327).indexOf,m=s(48889),f=u([].push);c.exports=function(g,v){var x,y=h(g),b=0,w=[];for(x in y)!d(m,x)&&d(y,x)&&f(w,x);for(;v.length>b;)d(y,x=v[b++])&&(~p(w,x)||f(w,x));return w}},3385:function(c,a,s){var u=s(84729),d=s(64456);c.exports=Object.keys||function(h){return u(h,d)}},33244:function(c,a){var s={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,d=u&&!s.call({1:2},1);a.f=d?function(h){var p=u(this,h);return!!p&&p.enumerable}:s},482:function(c,a,s){var u=s(47448),d=s(52313),h=s(75839);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var p,m=!1,f={};try{(p=u(Object.prototype,"__proto__","set"))(f,[]),m=f instanceof Array}catch{}return function(g,v){return d(g),h(v),m?p(g,v):g.__proto__=v,g}}():void 0)},57555:function(c,a,s){var u=s(6424),d=s(8652);c.exports=u?{}.toString:function(){return"[object "+d(this)+"]"}},82472:function(c,a,s){var u=s(9093),d=s(794),h=s(8148),p=TypeError;c.exports=function(m,f){var g,v;if(f==="string"&&d(g=m.toString)&&!h(v=u(g,m))||d(g=m.valueOf)&&!h(v=u(g,m))||f!=="string"&&d(g=m.toString)&&!h(v=u(g,m)))return v;throw p("Can't convert object to primitive value")}},86671:function(c,a,s){var u=s(98945),d=s(90838),h=s(7792),p=s(23953),m=s(52313),f=d([].concat);c.exports=u("Reflect","ownKeys")||function(g){var v=h.f(m(g)),x=p.f;return x?f(v,x(g)):v}},31116:function(c,a,s){var u=s(37042);c.exports=u},60265:function(c,a,s){var u=s(8140),d=TypeError;c.exports=function(h){if(u(h))throw d("Can't call method on "+h);return h}},44532:function(c,a,s){var u=s(73252).f,d=s(14434),h=s(19517)("toStringTag");c.exports=function(p,m,f){p&&!f&&(p=p.prototype),p&&!d(p,h)&&u(p,h,{configurable:!0,value:m})}},85475:function(c,a,s){var u=s(95138),d=s(15257),h=u("keys");c.exports=function(p){return h[p]||(h[p]=d(p))}},45752:function(c,a,s){var u=s(37042),d=s(25379),h="__core-js_shared__",p=u[h]||d(h,{});c.exports=p},95138:function(c,a,s){var u=s(70852),d=s(45752);(c.exports=function(h,p){return d[h]||(d[h]=p!==void 0?p:{})})("versions",[]).push({version:"3.28.0",mode:u?"pure":"global",copyright:"© 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.28.0/LICENSE",source:"https://github.com/zloirock/core-js"})},41397:function(c,a,s){var u=s(90838),d=s(27876),h=s(63046),p=s(60265),m=u("".charAt),f=u("".charCodeAt),g=u("".slice),v=function(x){return function(y,b){var w,_,S=h(p(y)),E=d(b),A=S.length;return 0>E||E>=A?x?"":void 0:55296>(w=f(S,E))||w>56319||E+1===A||56320>(_=f(S,E+1))||_>57343?x?m(S,E):w:x?g(S,E,E+2):_-56320+(w-55296<<10)+65536}};c.exports={codeAt:v(!1),charAt:v(!0)}},73800:function(c,a,s){var u=s(65190),d=s(75834);c.exports=!!Object.getOwnPropertySymbols&&!d(function(){var h=Symbol();return!String(h)||!(Object(h)instanceof Symbol)||!Symbol.sham&&u&&41>u})},13829:function(c,a,s){var u=s(9093),d=s(98945),h=s(19517),p=s(35065);c.exports=function(){var m=d("Symbol"),f=m&&m.prototype,g=f&&f.valueOf,v=h("toPrimitive");f&&!f[v]&&p(f,v,function(x){return u(g,this)},{arity:1})}},31948:function(c,a,s){var u=s(73800);c.exports=u&&!!Symbol.for&&!!Symbol.keyFor},10586:function(c,a,s){var u=s(27876),d=Math.max,h=Math.min;c.exports=function(p,m){var f=u(p);return 0>f?d(f+m,0):h(f,m)}},98651:function(c,a,s){var u=s(25049),d=s(60265);c.exports=function(h){return u(d(h))}},27876:function(c,a,s){var u=s(43932);c.exports=function(d){var h=+d;return h!=h||h===0?0:u(h)}},24431:function(c,a,s){var u=s(27876),d=Math.min;c.exports=function(h){return h>0?d(u(h),9007199254740991):0}},68488:function(c,a,s){var u=s(60265),d=Object;c.exports=function(h){return d(u(h))}},11261:function(c,a,s){var u=s(9093),d=s(8148),h=s(88253),p=s(20156),m=s(82472),f=s(19517),g=TypeError,v=f("toPrimitive");c.exports=function(x,y){if(!d(x)||h(x))return x;var b,w=p(x,v);if(w){if(y===void 0&&(y="default"),b=u(w,x,y),!d(b)||h(b))return b;throw g("Can't convert object to primitive value")}return y===void 0&&(y="number"),m(x,y)}},43836:function(c,a,s){var u=s(11261),d=s(88253);c.exports=function(h){var p=u(h,"string");return d(p)?p:p+""}},6424:function(c,a,s){var u={};u[s(19517)("toStringTag")]="z",c.exports=String(u)==="[object z]"},63046:function(c,a,s){var u=s(8652),d=String;c.exports=function(h){if(u(h)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return d(h)}},98418:function(c){var a=String;c.exports=function(s){try{return a(s)}catch{return"Object"}}},15257:function(c,a,s){var u=s(90838),d=0,h=Math.random(),p=u(1 .toString);c.exports=function(m){return"Symbol("+(m===void 0?"":m)+")_"+p(++d+h,36)}},57982:function(c,a,s){var u=s(73800);c.exports=u&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},63142:function(c,a,s){var u=s(13873),d=s(75834);c.exports=u&&d(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!=42})},95473:function(c,a,s){var u=s(37042),d=s(794),h=u.WeakMap;c.exports=d(h)&&/native code/.test(String(h))},89633:function(c,a,s){var u=s(31116),d=s(14434),h=s(96767),p=s(73252).f;c.exports=function(m){var f=u.Symbol||(u.Symbol={});d(f,m)||p(f,m,{value:h.f(m)})}},96767:function(c,a,s){var u=s(19517);a.f=u},19517:function(c,a,s){var u=s(37042),d=s(95138),h=s(14434),p=s(15257),m=s(73800),f=s(57982),g=u.Symbol,v=d("wks"),x=f?g.for||g:g&&g.withoutSetter||p;c.exports=function(y){return h(v,y)||(v[y]=m&&h(g,y)?g[y]:x("Symbol."+y)),v[y]}},54166:function(c,a,s){var u=s(50791),d=s(75834),h=s(36222),p=s(8148),m=s(68488),f=s(15050),g=s(39505),v=s(89476),x=s(6429),y=s(63833),b=s(19517),w=s(65190),_=b("isConcatSpreadable"),S=w>=51||!d(function(){var A=[];return A[_]=!1,A.concat()[0]!==A}),E=function(A){if(!p(A))return!1;var C=A[_];return C!==void 0?!!C:h(A)};u({target:"Array",proto:!0,arity:1,forced:!S||!y("concat")},{concat:function(A){var C,M,T,k,P,D=m(this),I=x(D,0),O=0;for(C=-1,T=arguments.length;T>C;C++)if(E(P=C===-1?D:arguments[C]))for(k=f(P),g(O+k),M=0;k>M;M++,O++)M in P&&v(I,O,P[M]);else g(O+1),v(I,O++,P);return I.length=O,I}})},22513:function(c,a,s){var u=s(50791),d=s(56881).findIndex,h=s(15179),p="findIndex",m=!0;p in[]&&Array(1).findIndex(function(){m=!1}),u({target:"Array",proto:!0,forced:m},{findIndex:function(f){return d(this,f,arguments.length>1?arguments[1]:void 0)}}),h(p)},70057:function(c,a,s){var u=s(50791),d=s(92707);u({target:"Array",stat:!0,forced:!s(7581)(function(h){Array.from(h)})},{from:d})},67507:function(c,a,s){var u=s(50791),d=s(98945),h=s(55101),p=s(9093),m=s(90838),f=s(75834),g=s(794),v=s(88253),x=s(54832),y=s(6693),b=s(73800),w=String,_=d("JSON","stringify"),S=m(/./.exec),E=m("".charAt),A=m("".charCodeAt),C=m("".replace),M=m(1 .toString),T=/[\uD800-\uDFFF]/g,k=/^[\uD800-\uDBFF]$/,P=/^[\uDC00-\uDFFF]$/,D=!b||f(function(){var N=d("Symbol")();return _([N])!="[null]"||_({a:N})!="{}"||_(Object(N))!="{}"}),I=f(function(){return _("\uDF06\uD834")!=='"\\udf06\\ud834"'||_("\uDEAD")!=='"\\udead"'}),O=function(N,R){var F=x(arguments),U=y(R);if(g(U)||N!==void 0&&!v(N))return F[1]=function(B,H){if(g(U)&&(H=p(U,this,w(B),H)),!v(H))return H},h(_,null,F)},j=function(N,R,F){var U=E(F,R-1),B=E(F,R+1);return S(k,N)&&!S(P,B)||S(P,N)&&!S(k,U)?"\\u"+M(A(N,0),16):N};_&&u({target:"JSON",stat:!0,arity:3,forced:D||I},{stringify:function(N,R,F){var U=x(arguments),B=h(D?O:_,null,U);return I&&typeof B=="string"?C(B,T,j):B}})},90217:function(c,a,s){var u=s(37042);s(44532)(u.JSON,"JSON",!0)},73477:function(c,a,s){s(44532)(Math,"Math",!0)},30165:function(c,a,s){var u=s(50791),d=s(73800),h=s(75834),p=s(23953),m=s(68488);u({target:"Object",stat:!0,forced:!d||h(function(){p.f(1)})},{getOwnPropertySymbols:function(f){var g=p.f;return g?g(m(f)):[]}})},32044:function(c,a,s){var u=s(6424),d=s(35065),h=s(57555);u||d(Object.prototype,"toString",h,{unsafe:!0})},93697:function(c,a,s){var u=s(50791),d=s(37042),h=s(44532);u({global:!0},{Reflect:{}}),h(d.Reflect,"Reflect",!0)},52867:function(c,a,s){var u=s(41397).charAt,d=s(63046),h=s(56113),p=s(13759),m=s(17427),f="String Iterator",g=h.set,v=h.getterFor(f);p(String,"String",function(x){g(this,{type:f,string:d(x),index:0})},function(){var x,y=v(this),b=y.string,w=y.index;return b.length>w?(x=u(b,w),y.index+=x.length,m(x,!1)):m(void 0,!0)})},28424:function(c,a,s){s(89633)("asyncIterator")},9656:function(c,a,s){var u=s(50791),d=s(37042),h=s(9093),p=s(90838),m=s(70852),f=s(13873),g=s(73800),v=s(75834),x=s(14434),y=s(54671),b=s(52313),w=s(98651),_=s(43836),S=s(63046),E=s(32500),A=s(93503),C=s(3385),M=s(7792),T=s(53305),k=s(23953),P=s(36999),D=s(73252),I=s(5770),O=s(33244),j=s(35065),N=s(97548),R=s(95138),F=s(85475),U=s(48889),B=s(15257),H=s(19517),X=s(96767),G=s(89633),Z=s(13829),J=s(44532),ee=s(56113),q=s(56881).forEach,Y=F("hidden"),Q="Symbol",ie=ee.set,le=ee.getterFor(Q),de=Object.prototype,De=d.Symbol,Me=De&&De.prototype,Ee=d.TypeError,Te=d.QObject,$e=P.f,ze=D.f,K=T.f,W=O.f,se=p([].push),Se=R("symbols"),te=R("op-symbols"),ce=R("wks"),we=!Te||!Te.prototype||!Te.prototype.findChild,fe=f&&v(function(){return A(ze({},"a",{get:function(){return ze(this,"a",{value:7}).a}})).a!=7})?function(He,tt,ne){var ye=$e(de,tt);ye&&delete de[tt],ze(He,tt,ne),ye&&He!==de&&ze(de,tt,ye)}:ze,he=function(He,tt){var ne=Se[He]=A(Me);return ie(ne,{type:Q,tag:He,description:tt}),f||(ne.description=tt),ne},Ne=function(He,tt,ne){He===de&&Ne(te,tt,ne),b(He);var ye=_(tt);return b(ne),x(Se,ye)?(ne.enumerable?(x(He,Y)&&He[Y][ye]&&(He[Y][ye]=!1),ne=A(ne,{enumerable:E(0,!1)})):(x(He,Y)||ze(He,Y,E(1,{})),He[Y][ye]=!0),fe(He,ye,ne)):ze(He,ye,ne)},Xe=function(He,tt){b(He);var ne=w(tt),ye=C(ne).concat(st(ne));return q(ye,function(Pe){f&&!h(Ce,ne,Pe)||Ne(He,Pe,ne[Pe])}),He},Ce=function(He){var tt=_(He),ne=h(W,this,tt);return!(this===de&&x(Se,tt)&&!x(te,tt))&&(!(ne||!x(this,tt)||!x(Se,tt)||x(this,Y)&&this[Y][tt])||ne)},Ue=function(He,tt){var ne=w(He),ye=_(tt);if(ne!==de||!x(Se,ye)||x(te,ye)){var Pe=$e(ne,ye);return!Pe||!x(Se,ye)||x(ne,Y)&&ne[Y][ye]||(Pe.enumerable=!0),Pe}},Ge=function(He){var tt=K(w(He)),ne=[];return q(tt,function(ye){x(Se,ye)||x(U,ye)||se(ne,ye)}),ne},st=function(He){var tt=He===de,ne=K(tt?te:w(He)),ye=[];return q(ne,function(Pe){!x(Se,Pe)||tt&&!x(de,Pe)||se(ye,Se[Pe])}),ye};g||(De=function(){if(y(Me,this))throw Ee("Symbol is not a constructor");var He=arguments.length&&arguments[0]!==void 0?S(arguments[0]):void 0,tt=B(He),ne=function(ye){this===de&&h(ne,te,ye),x(this,Y)&&x(this[Y],tt)&&(this[Y][tt]=!1),fe(this,tt,E(1,ye))};return f&&we&&fe(de,tt,{configurable:!0,set:ne}),he(tt,He)},j(Me=De.prototype,"toString",function(){return le(this).tag}),j(De,"withoutSetter",function(He){return he(B(He),He)}),O.f=Ce,D.f=Ne,I.f=Xe,P.f=Ue,M.f=T.f=Ge,k.f=st,X.f=function(He){return he(H(He),He)},f&&(N(Me,"description",{configurable:!0,get:function(){return le(this).description}}),m||j(de,"propertyIsEnumerable",Ce,{unsafe:!0}))),u({global:!0,constructor:!0,wrap:!0,forced:!g,sham:!g},{Symbol:De}),q(C(ce),function(He){G(He)}),u({target:Q,stat:!0,forced:!g},{useSetter:function(){we=!0},useSimple:function(){we=!1}}),u({target:"Object",stat:!0,forced:!g,sham:!f},{create:function(He,tt){return tt===void 0?A(He):Xe(A(He),tt)},defineProperty:Ne,defineProperties:Xe,getOwnPropertyDescriptor:Ue}),u({target:"Object",stat:!0,forced:!g},{getOwnPropertyNames:Ge}),Z(),J(De,Q),U[Y]=!0},64514:function(c,a,s){var u=s(50791),d=s(13873),h=s(37042),p=s(90838),m=s(14434),f=s(794),g=s(54671),v=s(63046),x=s(97548),y=s(58392),b=h.Symbol,w=b&&b.prototype;if(d&&f(b)&&(!("description"in w)||b().description!==void 0)){var _={},S=function(){var P=1>arguments.length||arguments[0]===void 0?void 0:v(arguments[0]),D=g(w,this)?new b(P):P===void 0?b():b(P);return P===""&&(_[D]=!0),D};y(S,b),S.prototype=w,w.constructor=S;var E=String(b("test"))=="Symbol(test)",A=p(w.valueOf),C=p(w.toString),M=/^Symbol\((.*)\)[^)]+$/,T=p("".replace),k=p("".slice);x(w,"description",{configurable:!0,get:function(){var P=A(this);if(m(_,P))return"";var D=C(P),I=E?k(D,7,-1):T(D,M,"$1");return I===""?void 0:I}}),u({global:!0,constructor:!0,forced:!0},{Symbol:S})}},56202:function(c,a,s){var u=s(50791),d=s(98945),h=s(14434),p=s(63046),m=s(95138),f=s(31948),g=m("string-to-symbol-registry"),v=m("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!f},{for:function(x){var y=p(x);if(h(g,y))return g[y];var b=d("Symbol")(y);return g[y]=b,v[b]=y,b}})},30733:function(c,a,s){s(89633)("hasInstance")},40327:function(c,a,s){s(89633)("isConcatSpreadable")},53639:function(c,a,s){s(89633)("iterator")},95661:function(c,a,s){s(9656),s(56202),s(71940),s(67507),s(30165)},71940:function(c,a,s){var u=s(50791),d=s(14434),h=s(88253),p=s(98418),m=s(95138),f=s(31948),g=m("symbol-to-string-registry");u({target:"Symbol",stat:!0,forced:!f},{keyFor:function(v){if(!h(v))throw TypeError(p(v)+" is not a symbol");if(d(g,v))return g[v]}})},7290:function(c,a,s){s(89633)("matchAll")},6147:function(c,a,s){s(89633)("match")},95122:function(c,a,s){s(89633)("replace")},61322:function(c,a,s){s(89633)("search")},39605:function(c,a,s){s(89633)("species")},49341:function(c,a,s){s(89633)("split")},28809:function(c,a,s){var u=s(89633),d=s(13829);u("toPrimitive"),d()},82658:function(c,a,s){var u=s(98945),d=s(89633),h=s(44532);d("toStringTag"),h(u("Symbol"),"Symbol")},43967:function(c,a,s){s(89633)("unscopables")},690:function(c,a,s){c.exports=s(26002).polyfill()},26002:function(c,a,s){c.exports=function(){function u(q){return typeof q=="function"}var d=Array.isArray?Array.isArray:function(q){return Object.prototype.toString.call(q)==="[object Array]"},h=0,p=void 0,m=void 0,f=function(q,Y){_[h]=q,_[h+1]=Y,(h+=2)===2&&(m?m(S):T())},g=typeof window<"u"?window:void 0,v=g||{},x=v.MutationObserver||v.WebKitMutationObserver,y=typeof self>"u"&&typeof process<"u"&&{}.toString.call(process)==="[object process]",b=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function w(){var q=setTimeout;return function(){return q(S,1)}}var _=new Array(1e3);function S(){for(var q=0;h>q;q+=2)(0,_[q])(_[q+1]),_[q]=void 0,_[q+1]=void 0;h=0}var E,A,C,M,T=void 0;function k(q,Y){var Q=this,ie=new this.constructor(I);ie[D]===void 0&&Z(ie);var le=Q._state;if(le){var de=arguments[le-1];f(function(){return X(le,ie,de,Q._result)})}else B(Q,ie,q,Y);return ie}function P(q){if(q&&typeof q=="object"&&q.constructor===this)return q;var Y=new this(I);return N(Y,q),Y}T=y?function(){return process.nextTick(S)}:x?(A=0,C=new x(S),M=document.createTextNode(""),C.observe(M,{characterData:!0}),function(){M.data=A=++A%2}):b?((E=new MessageChannel).port1.onmessage=S,function(){return E.port2.postMessage(0)}):g===void 0?function(){try{var q=Function("return this")().require("vertx");return(p=q.runOnLoop||q.runOnContext)!==void 0?function(){p(S)}:w()}catch{return w()}}():w();var D=Math.random().toString(36).substring(2);function I(){}var O=void 0;function j(q,Y,Q){Y.constructor===q.constructor&&Q===k&&Y.constructor.resolve===P?function(ie,le){le._state===1?F(ie,le._result):le._state===2?U(ie,le._result):B(le,void 0,function(de){return N(ie,de)},function(de){return U(ie,de)})}(q,Y):Q===void 0?F(q,Y):u(Q)?function(ie,le,de){f(function(De){var Me=!1,Ee=function(Te,$e,ze,K){try{Te.call($e,function(W){Me||(Me=!0,le!==W?N(De,W):F(De,W))},function(W){Me||(Me=!0,U(De,W))})}catch(W){return W}}(de,le);!Me&&Ee&&(Me=!0,U(De,Ee))},ie)}(q,Y,Q):F(q,Y)}function N(q,Y){if(q===Y)U(q,new TypeError("You cannot resolve a promise with itself"));else if(le=typeof(ie=Y),ie===null||le!=="object"&&le!=="function")F(q,Y);else{var Q=void 0;try{Q=Y.then}catch(de){return void U(q,de)}j(q,Y,Q)}var ie,le}function R(q){q._onerror&&q._onerror(q._result),H(q)}function F(q,Y){q._state===O&&(q._result=Y,q._state=1,q._subscribers.length!==0&&f(H,q))}function U(q,Y){q._state===O&&(q._state=2,q._result=Y,f(R,q))}function B(q,Y,Q,ie){var le=q._subscribers,de=le.length;q._onerror=null,le[de]=Y,le[de+1]=Q,le[de+2]=ie,de===0&&q._state&&f(H,q)}function H(q){var Y=q._subscribers,Q=q._state;if(Y.length!==0){for(var ie=void 0,le=void 0,de=q._result,De=0;Y.length>De;De+=3)le=Y[De+Q],(ie=Y[De])?X(Q,ie,le,de):le(de);q._subscribers.length=0}}function X(q,Y,Q,ie){var le=u(Q),de=void 0,De=void 0,Me=!0;if(le){try{de=Q(ie)}catch(Ee){Me=!1,De=Ee}if(Y===de)return void U(Y,new TypeError("A promises callback cannot return that same promise."))}else de=ie;Y._state!==O||(le&&Me?N(Y,de):Me===!1?U(Y,De):q===1?F(Y,de):q===2&&U(Y,de))}var G=0;function Z(q){q[D]=G++,q._state=void 0,q._result=void 0,q._subscribers=[]}var J=function(){function q(Y,Q){this._instanceConstructor=Y,this.promise=new Y(I),this.promise[D]||Z(this.promise),d(Q)?(this.length=Q.length,this._remaining=Q.length,this._result=new Array(this.length),this.length===0?F(this.promise,this._result):(this.length=this.length||0,this._enumerate(Q),this._remaining===0&&F(this.promise,this._result))):U(this.promise,new Error("Array Methods must be provided an Array"))}return q.prototype._enumerate=function(Y){for(var Q=0;this._state===O&&Y.length>Q;Q++)this._eachEntry(Y[Q],Q)},q.prototype._eachEntry=function(Y,Q){var ie=this._instanceConstructor,le=ie.resolve;if(le===P){var de=void 0,De=void 0,Me=!1;try{de=Y.then}catch(Te){Me=!0,De=Te}if(de===k&&Y._state!==O)this._settledAt(Y._state,Q,Y._result);else if(typeof de!="function")this._remaining--,this._result[Q]=Y;else if(ie===ee){var Ee=new ie(I);Me?U(Ee,De):j(Ee,Y,de),this._willSettleAt(Ee,Q)}else this._willSettleAt(new ie(function(Te){return Te(Y)}),Q)}else this._willSettleAt(le(Y),Q)},q.prototype._settledAt=function(Y,Q,ie){var le=this.promise;le._state===O&&(this._remaining--,Y===2?U(le,ie):this._result[Q]=ie),this._remaining===0&&F(le,this._result)},q.prototype._willSettleAt=function(Y,Q){var ie=this;B(Y,void 0,function(le){return ie._settledAt(1,Q,le)},function(le){return ie._settledAt(2,Q,le)})},q}(),ee=function(){function q(Y){this[D]=G++,this._result=this._state=void 0,this._subscribers=[],I!==Y&&(typeof Y!="function"&&function(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}(),this instanceof q?function(Q,ie){try{ie(function(le){N(Q,le)},function(le){U(Q,le)})}catch(le){U(Q,le)}}(this,Y):function(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}())}return q.prototype.catch=function(Y){return this.then(null,Y)},q.prototype.finally=function(Y){var Q=this,ie=Q.constructor;return u(Y)?Q.then(function(le){return ie.resolve(Y()).then(function(){return le})},function(le){return ie.resolve(Y()).then(function(){throw le})}):Q.then(Y,Y)},q}();return ee.prototype.then=k,ee.all=function(q){return new J(this,q).promise},ee.race=function(q){var Y=this;return d(q)?new Y(function(Q,ie){for(var le=q.length,de=0;le>de;de++)Y.resolve(q[de]).then(Q,ie)}):new Y(function(Q,ie){return ie(new TypeError("You must pass an array to race."))})},ee.resolve=P,ee.reject=function(q){var Y=new this(I);return U(Y,q),Y},ee._setScheduler=function(q){m=q},ee._setAsap=function(q){f=q},ee._asap=f,ee.polyfill=function(){var q=void 0;if(s.g!==void 0)q=s.g;else if(typeof self<"u")q=self;else try{q=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var Y=q.Promise;if(Y){var Q=null;try{Q=Object.prototype.toString.call(Y.resolve())}catch{}if(Q==="[object Promise]"&&!Y.cast)return}q.Promise=ee},ee.Promise=ee,ee}()},20255:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.__classPrivateFieldIn=a.__classPrivateFieldSet=a.__classPrivateFieldGet=a.__importDefault=a.__importStar=a.__makeTemplateObject=a.__asyncValues=a.__asyncDelegator=a.__asyncGenerator=a.__await=a.__spreadArray=a.__spreadArrays=a.__spread=a.__read=a.__values=a.__exportStar=a.__createBinding=a.__generator=a.__awaiter=a.__metadata=a.__setFunctionName=a.__propKey=a.__runInitializers=a.__esDecorate=a.__param=a.__decorate=a.__rest=a.__assign=a.__extends=void 0;var s=function(m,f){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,v){g.__proto__=v}||function(g,v){for(var x in v)Object.prototype.hasOwnProperty.call(v,x)&&(g[x]=v[x])},s(m,f)};function u(m){var f=typeof Symbol=="function"&&Symbol.iterator,g=f&&m[f],v=0;if(g)return g.call(m);if(m&&typeof m.length=="number")return{next:function(){return m&&v>=m.length&&(m=void 0),{value:m&&m[v++],done:!m}}};throw new TypeError(f?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(m,f){var g=typeof Symbol=="function"&&m[Symbol.iterator];if(!g)return m;var v,x,y=g.call(m),b=[];try{for(;(f===void 0||f-- >0)&&!(v=y.next()).done;)b.push(v.value)}catch(w){x={error:w}}finally{try{v&&!v.done&&(g=y.return)&&g.call(y)}finally{if(x)throw x.error}}return b}function h(m){return this instanceof h?(this.v=m,this):new h(m)}a.__extends=function(m,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function g(){this.constructor=m}s(m,f),m.prototype=f===null?Object.create(f):(g.prototype=f.prototype,new g)},a.__assign=function(){return a.__assign=Object.assign||function(m){for(var f,g=1,v=arguments.length;v>g;g++)for(var x in f=arguments[g])Object.prototype.hasOwnProperty.call(f,x)&&(m[x]=f[x]);return m},a.__assign.apply(this,arguments)},a.__rest=function(m,f){var g={};for(var v in m)Object.prototype.hasOwnProperty.call(m,v)&&0>f.indexOf(v)&&(g[v]=m[v]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function"){var x=0;for(v=Object.getOwnPropertySymbols(m);v.length>x;x++)0>f.indexOf(v[x])&&Object.prototype.propertyIsEnumerable.call(m,v[x])&&(g[v[x]]=m[v[x]])}return g},a.__decorate=function(m,f,g,v){var x,y=arguments.length,b=3>y?f:v===null?v=Object.getOwnPropertyDescriptor(f,g):v;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")b=Reflect.decorate(m,f,g,v);else for(var w=m.length-1;w>=0;w--)(x=m[w])&&(b=(3>y?x(b):y>3?x(f,g,b):x(f,g))||b);return y>3&&b&&Object.defineProperty(f,g,b),b},a.__param=function(m,f){return function(g,v){f(g,v,m)}},a.__esDecorate=function(m,f,g,v,x,y){function b(D){if(D!==void 0&&typeof D!="function")throw new TypeError("Function expected");return D}for(var w,_=v.kind,S=_==="getter"?"get":_==="setter"?"set":"value",E=!f&&m?v.static?m:m.prototype:null,A=f||(E?Object.getOwnPropertyDescriptor(E,v.name):{}),C=!1,M=g.length-1;M>=0;M--){var T={};for(var k in v)T[k]=k==="access"?{}:v[k];for(var k in v.access)T.access[k]=v.access[k];T.addInitializer=function(D){if(C)throw new TypeError("Cannot add initializers after decoration has completed");y.push(b(D||null))};var P=(0,g[M])(_==="accessor"?{get:A.get,set:A.set}:A[S],T);if(_==="accessor"){if(P===void 0)continue;if(P===null||typeof P!="object")throw new TypeError("Object expected");(w=b(P.get))&&(A.get=w),(w=b(P.set))&&(A.set=w),(w=b(P.init))&&x.push(w)}else(w=b(P))&&(_==="field"?x.push(w):A[S]=w)}E&&Object.defineProperty(E,v.name,A),C=!0},a.__runInitializers=function(m,f,g){for(var v=arguments.length>2,x=0;f.length>x;x++)g=v?f[x].call(m,g):f[x].call(m);return v?g:void 0},a.__propKey=function(m){return typeof m=="symbol"?m:"".concat(m)},a.__setFunctionName=function(m,f,g){return typeof f=="symbol"&&(f=f.description?"[".concat(f.description,"]"):""),Object.defineProperty(m,"name",{configurable:!0,value:g?"".concat(g," ",f):f})},a.__metadata=function(m,f){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(m,f)},a.__awaiter=function(m,f,g,v){return new(g||(g=Promise))(function(x,y){function b(S){try{_(v.next(S))}catch(E){y(E)}}function w(S){try{_(v.throw(S))}catch(E){y(E)}}function _(S){var E;S.done?x(S.value):(E=S.value,E instanceof g?E:new g(function(A){A(E)})).then(b,w)}_((v=v.apply(m,f||[])).next())})},a.__generator=function(m,f){var g,v,x,y,b={label:0,sent:function(){if(1&x[0])throw x[1];return x[1]},trys:[],ops:[]};return y={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(y[Symbol.iterator]=function(){return this}),y;function w(_){return function(S){return function(E){if(g)throw new TypeError("Generator is already executing.");for(;y&&(y=0,E[0]&&(b=0)),b;)try{if(g=1,v&&(x=2&E[0]?v.return:E[0]?v.throw||((x=v.return)&&x.call(v),0):v.next)&&!(x=x.call(v,E[1])).done)return x;switch(v=0,x&&(E=[2&E[0],x.value]),E[0]){case 0:case 1:x=E;break;case 4:return b.label++,{value:E[1],done:!1};case 5:b.label++,v=E[1],E=[0];continue;case 7:E=b.ops.pop(),b.trys.pop();continue;default:if(!((x=(x=b.trys).length>0&&x[x.length-1])||E[0]!==6&&E[0]!==2)){b=0;continue}if(E[0]===3&&(!x||E[1]>x[0]&&x[3]>E[1])){b.label=E[1];break}if(E[0]===6&&x[1]>b.label){b.label=x[1],x=E;break}if(x&&x[2]>b.label){b.label=x[2],b.ops.push(E);break}x[2]&&b.ops.pop(),b.trys.pop();continue}E=f.call(m,b)}catch(A){E=[6,A],v=0}finally{g=x=0}if(5&E[0])throw E[1];return{value:E[0]?E[1]:void 0,done:!0}}([_,S])}}},a.__createBinding=Object.create?function(m,f,g,v){v===void 0&&(v=g);var x=Object.getOwnPropertyDescriptor(f,g);x&&!("get"in x?!f.__esModule:x.writable||x.configurable)||(x={enumerable:!0,get:function(){return f[g]}}),Object.defineProperty(m,v,x)}:function(m,f,g,v){v===void 0&&(v=g),m[v]=f[g]},a.__exportStar=function(m,f){for(var g in m)g==="default"||Object.prototype.hasOwnProperty.call(f,g)||(0,a.__createBinding)(f,m,g)},a.__values=u,a.__read=d,a.__spread=function(){for(var m=[],f=0;arguments.length>f;f++)m=m.concat(d(arguments[f]));return m},a.__spreadArrays=function(){for(var m=0,f=0,g=arguments.length;g>f;f++)m+=arguments[f].length;var v=Array(m),x=0;for(f=0;g>f;f++)for(var y=arguments[f],b=0,w=y.length;w>b;b++,x++)v[x]=y[b];return v},a.__spreadArray=function(m,f,g){if(g||arguments.length===2)for(var v,x=0,y=f.length;y>x;x++)!v&&x in f||(v||(v=Array.prototype.slice.call(f,0,x)),v[x]=f[x]);return m.concat(v||Array.prototype.slice.call(f))},a.__await=h,a.__asyncGenerator=function(m,f,g){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var v,x=g.apply(m,f||[]),y=[];return v={},b("next"),b("throw"),b("return"),v[Symbol.asyncIterator]=function(){return this},v;function b(A){x[A]&&(v[A]=function(C){return new Promise(function(M,T){y.push([A,C,M,T])>1||w(A,C)})})}function w(A,C){try{(M=x[A](C)).value instanceof h?Promise.resolve(M.value.v).then(_,S):E(y[0][2],M)}catch(T){E(y[0][3],T)}var M}function _(A){w("next",A)}function S(A){w("throw",A)}function E(A,C){A(C),y.shift(),y.length&&w(y[0][0],y[0][1])}},a.__asyncDelegator=function(m){var f,g;return f={},v("next"),v("throw",function(x){throw x}),v("return"),f[Symbol.iterator]=function(){return this},f;function v(x,y){f[x]=m[x]?function(b){return(g=!g)?{value:h(m[x](b)),done:!1}:y?y(b):b}:y}},a.__asyncValues=function(m){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f,g=m[Symbol.asyncIterator];return g?g.call(m):(m=u(m),f={},v("next"),v("throw"),v("return"),f[Symbol.asyncIterator]=function(){return this},f);function v(x){f[x]=m[x]&&function(y){return new Promise(function(b,w){(function(_,S,E,A){Promise.resolve(A).then(function(C){_({value:C,done:E})},S)})(b,w,(y=m[x](y)).done,y.value)})}}},a.__makeTemplateObject=function(m,f){return Object.defineProperty?Object.defineProperty(m,"raw",{value:f}):m.raw=f,m};var p=Object.create?function(m,f){Object.defineProperty(m,"default",{enumerable:!0,value:f})}:function(m,f){m.default=f};a.__importStar=function(m){if(m&&m.__esModule)return m;var f={};if(m!=null)for(var g in m)g!=="default"&&Object.prototype.hasOwnProperty.call(m,g)&&(0,a.__createBinding)(f,m,g);return p(f,m),f},a.__importDefault=function(m){return m&&m.__esModule?m:{default:m}},a.__classPrivateFieldGet=function(m,f,g,v){if(g==="a"&&!v)throw new TypeError("Private accessor was defined without a getter");if(typeof f=="function"?m!==f||!v:!f.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?v:g==="a"?v.call(m):v?v.value:f.get(m)},a.__classPrivateFieldSet=function(m,f,g,v,x){if(v==="m")throw new TypeError("Private method is not writable");if(v==="a"&&!x)throw new TypeError("Private accessor was defined without a setter");if(typeof f=="function"?m!==f||!x:!f.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return v==="a"?x.call(m,g):x?x.value=g:f.set(m,g),g},a.__classPrivateFieldIn=function(m,f){if(f===null||typeof f!="object"&&typeof f!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof m=="function"?f===m:m.has(f)}},93166:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Config=void 0;var u=s(86893),d=s(86893),h=function(){function p(){this.defaultTimeout=100,this.namespace="",this.safeMode=!1,this.width="auto",this.height="auto",this.safePluginsList=["about","enter","backspace","size"],this.license="",this.preset="custom",this.presets={inline:{inline:!0,toolbar:!1,toolbarInline:!0,toolbarInlineForSelection:!0,showXPathInStatusbar:!1,showCharsCounter:!1,showWordsCounter:!1,showPlaceholder:!1}},this.ownerDocument=typeof document<"u"?document:null,this.ownerWindow=typeof window<"u"?window:null,this.shadowRoot=null,this.zIndex=0,this.readonly=!1,this.disabled=!1,this.activeButtonsInReadOnly=["source","fullsize","print","about","dots","selectall"],this.allowCommandsInReadOnly=["selectall","preview","print"],this.toolbarButtonSize="middle",this.allowTabNavigation=!1,this.inline=!1,this.theme="default",this.saveModeInStorage=!1,this.editorClassName=!1,this.editorCssClass=!1,this.className=!1,this.style=!1,this.containerStyle=!1,this.styleValues={},this.triggerChangeEvent=!0,this.direction="",this.language="auto",this.debugLanguage=!1,this.i18n=!1,this.tabIndex=-1,this.toolbar=!0,this.statusbar=!0,this.showTooltip=!0,this.showTooltipDelay=1e3,this.useNativeTooltip=!1,this.defaultActionOnPaste=d.INSERT_AS_HTML,this.enter=u.PARAGRAPH,this.iframe=!1,this.editHTMLDocumentMode=!1,this.enterBlock=this.enter!=="br"?this.enter:u.PARAGRAPH,this.defaultMode=u.MODE_WYSIWYG,this.useSplitMode=!1,this.colors={greyscale:["#000000","#434343","#666666","#999999","#B7B7B7","#CCCCCC","#D9D9D9","#EFEFEF","#F3F3F3","#FFFFFF"],palette:["#980000","#FF0000","#FF9900","#FFFF00","#00F0F0","#00FFFF","#4A86E8","#0000FF","#9900FF","#FF00FF"],full:["#E6B8AF","#F4CCCC","#FCE5CD","#FFF2CC","#D9EAD3","#D0E0E3","#C9DAF8","#CFE2F3","#D9D2E9","#EAD1DC","#DD7E6B","#EA9999","#F9CB9C","#FFE599","#B6D7A8","#A2C4C9","#A4C2F4","#9FC5E8","#B4A7D6","#D5A6BD","#CC4125","#E06666","#F6B26B","#FFD966","#93C47D","#76A5AF","#6D9EEB","#6FA8DC","#8E7CC3","#C27BA0","#A61C00","#CC0000","#E69138","#F1C232","#6AA84F","#45818E","#3C78D8","#3D85C6","#674EA7","#A64D79","#85200C","#990000","#B45F06","#BF9000","#38761D","#134F5C","#1155CC","#0B5394","#351C75","#733554","#5B0F00","#660000","#783F04","#7F6000","#274E13","#0C343D","#1C4587","#073763","#20124D","#4C1130"]},this.colorPickerDefaultTab="background",this.imageDefaultWidth=300,this.removeButtons=[],this.disablePlugins=[],this.extraPlugins=[],this.extraButtons=[],this.extraIcons={},this.createAttributes={table:{style:"border-collapse:collapse;width: 100%;"}},this.sizeLG=900,this.sizeMD=700,this.sizeSM=400,this.buttons=[{group:"font-style",buttons:[]},{group:"list",buttons:[]},{group:"font",buttons:[]},"---",{group:"script",buttons:[]},{group:"media",buttons:[]},`
`,{group:"state",buttons:[]},{group:"clipboard",buttons:[]},{group:"insert",buttons:[]},{group:"indent",buttons:[]},{group:"color",buttons:[]},{group:"form",buttons:[]},"---",{group:"history",buttons:[]},{group:"search",buttons:[]},{group:"source",buttons:[]},{group:"other",buttons:[]},{group:"info",buttons:[]}],this.buttonsMD=["bold","italic","|","ul","ol","eraser","|","font","fontsize","---","image","table","|","link",`
`,"brush","paragraph","align","|","hr","copyformat","fullsize","---","undo","redo","|","dots"],this.buttonsSM=["bold","italic","|","ul","ol","eraser","|","fontsize","brush","paragraph","---","image","table",`
`,"link","|","align","|","undo","redo","|","copyformat","fullsize","---","dots"],this.buttonsXS=["bold","brush","paragraph","eraser","|","fontsize","---","image",`
`,"align","undo","redo","|","link","table","---","dots"],this.events={},this.textIcons=!1,this.showBrowserColorPicker=!0}return Object.defineProperty(p,"defaultOptions",{get:function(){return p.__defaultOptions||(p.__defaultOptions=new p),p.__defaultOptions},enumerable:!1,configurable:!0}),p}();a.Config=h,h.prototype.controls={}},77536:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Async=void 0;var u=s(20255),d=s(4696),h=s(42096),p=s(79736),m=s(26335),f=s(24421),g=s(61817),v=(s(52378),function(){function x(){var y,b,w,_,S=this;this.timers=new Map,this.__callbacks=new Map,this.promisesRejections=new Set,this.requestsIdle=new Set,this.requestsRaf=new Set,this.requestIdleCallbackNative=(b=(y=window.requestIdleCallback)===null||y===void 0?void 0:y.bind(window))!==null&&b!==void 0?b:function(E,A){var C,M=Date.now();return S.setTimeout(function(){E({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-M))}})},(C=A==null?void 0:A.timeout)!==null&&C!==void 0?C:1)},this.cancelIdleCallbackNative=(_=(w=window.cancelIdleCallback)===null||w===void 0?void 0:w.bind(window))!==null&&_!==void 0?_:function(E){S.clearTimeout(E)},this.isDestructed=!1}return x.prototype.delay=function(y){var b=this;return this.promise(function(w){return b.setTimeout(w,y)})},x.prototype.setTimeout=function(y,b){for(var w=[],_=2;arguments.length>_;_++)w[_-2]=arguments[_];if(this.isDestructed)return 0;var S={};(0,g.isNumber)(b)||(b=(S=b).timeout||0),S.label&&this.clearLabel(S.label);var E=d.setTimeout.apply(void 0,u.__spreadArray([y,b],u.__read(w),!1)),A=S.label||E;return this.timers.set(A,E),this.__callbacks.set(A,y),E},x.prototype.updateTimeout=function(y,b){if(!y||!this.timers.has(y))return null;var w=this.__callbacks.get(y);return this.setTimeout(w,{label:y,timeout:b})},x.prototype.clearLabel=function(y){y&&this.timers.has(y)&&((0,d.clearTimeout)(this.timers.get(y)),this.timers.delete(y),this.__callbacks.delete(y))},x.prototype.clearTimeout=function(y){if((0,f.isString)(y))return this.clearLabel(y);(0,d.clearTimeout)(y),this.timers.delete(y),this.__callbacks.delete(y)},x.prototype.debounce=function(y,b,w){var _=this;w===void 0&&(w=!1);var S=0,E=!1,A=[],C=function(){for(var T=[],k=0;arguments.length>k;k++)T[k]=arguments[k];if(!E){S=0;var P=y.apply(void 0,u.__spreadArray([],u.__read(T),!1));if(E=!0,A.length){var D=function(){A.forEach(function(I){return I()}),A.length=0};(0,m.isPromise)(P)?P.finally(D):D()}}},M=function(){for(var T=[],k=0;arguments.length>k;k++)T[k]=arguments[k];E=!1,b?(!S&&w&&C.apply(void 0,u.__spreadArray([],u.__read(T),!1)),(0,d.clearTimeout)(S),S=_.setTimeout(function(){return C.apply(void 0,u.__spreadArray([],u.__read(T),!1))},(0,h.isFunction)(b)?b():b),_.timers.set(y,S)):C.apply(void 0,u.__spreadArray([],u.__read(T),!1))};return(0,p.isPlainObject)(b)&&b.promisify?function(){for(var T=[],k=0;arguments.length>k;k++)T[k]=arguments[k];var P=_.promise(function(D){A.push(D)});return M.apply(void 0,u.__spreadArray([],u.__read(T),!1)),P}:M},x.prototype.throttle=function(y,b,w){var _=this,S,E,A,C=null;return function(){for(var M=[],T=0;arguments.length>T;T++)M[T]=arguments[T];S=!0,A=M,b?C||(E=function(){S?(y.apply(void 0,u.__spreadArray([],u.__read(A),!1)),S=!1,C=_.setTimeout(E,(0,h.isFunction)(b)?b():b),_.timers.set(E,C)):C=null})():y.apply(void 0,u.__spreadArray([],u.__read(A),!1))}},x.prototype.promise=function(y){var b=this,w=function(){},_=new Promise(function(S,E){return b.promisesRejections.add(E),w=E,y(S,E)});return _.finally||(_.finally=function(S){return _.then(S).catch(S),_}),_.finally(function(){b.promisesRejections.delete(w)}).catch(function(){return null}),_.rejectCallback=w,_},x.prototype.promiseState=function(y){var b=this;if(y.status)return y.status;if(!Promise.race)return new Promise(function(_){y.then(function(S){return _("fulfilled"),S},function(S){throw _("rejected"),S}),b.setTimeout(function(){_("pending")},100)});var w={};return Promise.race([y,w]).then(function(_){return _===w?"pending":"fulfilled"},function(){return"rejected"})},x.prototype.requestIdleCallback=function(y,b){var w=this.requestIdleCallbackNative(y,b);return this.requestsIdle.add(w),w},x.prototype.requestIdlePromise=function(y){var b=this;return this.promise(function(w){var _=b.requestIdleCallback(function(){return w(_)},y)})},x.prototype.cancelIdleCallback=function(y){return this.requestsIdle.delete(y),this.cancelIdleCallbackNative(y)},x.prototype.requestAnimationFrame=function(y){var b=requestAnimationFrame(y);return this.requestsRaf.add(b),b},x.prototype.cancelAnimationFrame=function(y){this.requestsRaf.delete(y),cancelAnimationFrame(y)},x.prototype.clear=function(){var y=this;this.requestsIdle.forEach(function(b){return y.cancelIdleCallback(b)}),this.requestsRaf.forEach(function(b){return y.cancelAnimationFrame(b)}),this.timers.forEach(function(b){return(0,d.clearTimeout)(y.timers.get(b))}),this.timers.clear(),this.promisesRejections.forEach(function(b){return b()}),this.promisesRejections.clear()},x.prototype.destruct=function(){this.clear(),this.isDestructed=!0},x}());a.Async=v},22630:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(77536),a)},45113:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Component=void 0;var u=s(40332),d=s(17332),h=s(29411),p=s(22630),m=new Map,f=function(){function g(){this.async=new p.Async,this.ownerWindow=window,this.__componentStatus=h.STATUSES.beforeInit,this.uid="jodit-uid-"+(0,d.uniqueUid)()}return Object.defineProperty(g.prototype,"componentName",{get:function(){return this.__componentName||(this.__componentName="jodit-"+(0,u.kebabCase)(((0,u.isFunction)(this.className)?this.className():"")||(0,u.getClassName)(this))),this.__componentName},enumerable:!1,configurable:!0}),g.prototype.getFullElName=function(v,x,y){var b=[this.componentName];return v&&(v=v.replace(/[^a-z0-9-]/gi,"-"),b.push("__".concat(v))),x&&(b.push("_",x),b.push("_",(0,u.isVoid)(y)?"true":y.toString())),b.join("")},Object.defineProperty(g.prototype,"ownerDocument",{get:function(){return this.ow.document},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"od",{get:function(){return this.ownerDocument},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"ow",{get:function(){return this.ownerWindow},enumerable:!1,configurable:!0}),g.prototype.get=function(v,x){return(0,u.get)(v,x||this)},Object.defineProperty(g.prototype,"isReady",{get:function(){return this.componentStatus===h.STATUSES.ready},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isDestructed",{get:function(){return this.componentStatus===h.STATUSES.destructed},enumerable:!1,configurable:!0}),Object.defineProperty(g.prototype,"isInDestruct",{get:function(){return h.STATUSES.beforeDestruct===this.componentStatus||h.STATUSES.destructed===this.componentStatus},enumerable:!1,configurable:!0}),g.prototype.bindDestruct=function(v){var x=this;return v.hookStatus(h.STATUSES.beforeDestruct,function(){return!x.isInDestruct&&x.destruct()}),this},g.prototype.destruct=function(){this.setStatus(h.STATUSES.destructed),this.async.destruct(),m.get(this)&&m.delete(this)},Object.defineProperty(g.prototype,"componentStatus",{get:function(){return this.__componentStatus},set:function(v){this.setStatus(v)},enumerable:!1,configurable:!0}),g.prototype.setStatus=function(v){return this.setStatusComponent(v,this)},g.prototype.setStatusComponent=function(v,x){if(v!==this.__componentStatus){x===this&&(this.__componentStatus=v);var y=Object.getPrototypeOf(this);y&&(0,u.isFunction)(y.setStatusComponent)&&y.setStatusComponent(v,x);var b=m.get(this),w=b==null?void 0:b[v];w&&w.length&&w.forEach(function(_){return _(x)})}},g.prototype.hookStatus=function(v,x){var y=m.get(this);y||m.set(this,y={}),y[v]||(y[v]=[]),y[v].push(x)},g.isInstanceOf=function(v,x){return v instanceof x},g.STATUSES=h.STATUSES,g}();a.Component=f},56562:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(29411),a),u.__exportStar(s(45113),a),u.__exportStar(s(39840),a)},29411:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.STATUSES=void 0,a.STATUSES={beforeInit:"beforeInit",ready:"ready",beforeDestruct:"beforeDestruct",destructed:"destructed"}},39840:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ViewComponent=void 0;var u=s(20255),d=function(h){function p(m){var f=h.call(this)||this;return f.setParentView(m),f}return u.__extends(p,h),Object.defineProperty(p.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"defaultTimeout",{get:function(){return this.j.defaultTimeout},enumerable:!1,configurable:!0}),p.prototype.i18n=function(m){for(var f,g=[],v=1;arguments.length>v;v++)g[v-1]=arguments[v];return(f=this.j).i18n.apply(f,u.__spreadArray([m],u.__read(g),!1))},p.prototype.setParentView=function(m){return this.jodit=m,m.components.add(this),this},p.prototype.destruct=function(){return this.j.components.delete(this),h.prototype.destruct.call(this)},p}(s(45113).Component);a.ViewComponent=d},86893:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.CLIPBOARD_ID=a.lang=a.TEMP_ATTR=a.BASE_PATH=a.KEY_ALIASES=a.IS_MAC=a.SAFE_COUNT_CHANGE_CALL=a.INSERT_ONLY_TEXT=a.INSERT_AS_TEXT=a.INSERT_CLEAR_HTML=a.INSERT_AS_HTML=a.EMULATE_DBLCLICK_TIMEOUT=a.MARKER_CLASS=a.TEXT_RTF=a.TEXT_HTML=a.TEXT_PLAIN=a.IS_IE=a.MODE_SPLIT=a.MODE_SOURCE=a.MODE_WYSIWYG=a.PARAGRAPH=a.BR=a.COMMAND_KEYS=a.ACCURACY=a.NEARBY=a.KEY_F3=a.KEY_DELETE=a.KEY_SPACE=a.KEY_DOWN=a.KEY_RIGHT=a.KEY_UP=a.KEY_LEFT=a.KEY_ALT=a.KEY_ESC=a.KEY_ENTER=a.KEY_TAB=a.KEY_BACKSPACE=a.KEY_META=a.NO_EMPTY_TAGS=a.INSEPARABLE_TAGS=a.IS_INLINE=a.IS_BLOCK=a.SPACE_REG_EXP_END=a.SPACE_REG_EXP_START=a.SPACE_REG_EXP=a.INVISIBLE_SPACE_REG_EXP_START=a.INVISIBLE_SPACE_REG_EXP_END=a.INVISIBLE_SPACE_REG_EXP=a.NBSP_SPACE=a.INVISIBLE_SPACE=void 0,a.SOURCE_CONSUMER=void 0;var u=s(20255);a.INVISIBLE_SPACE="\uFEFF",a.NBSP_SPACE=" ",a.INVISIBLE_SPACE_REG_EXP=function(){return/[\uFEFF]/g},a.INVISIBLE_SPACE_REG_EXP_END=function(){return/[\uFEFF]+$/g},a.INVISIBLE_SPACE_REG_EXP_START=function(){return/^[\uFEFF]+/g},a.SPACE_REG_EXP=function(){return/[\s\n\t\r\uFEFF\u200b]+/g},a.SPACE_REG_EXP_START=function(){return/^[\s\n\t\r\uFEFF\u200b]+/g},a.SPACE_REG_EXP_END=function(){return/[\s\n\t\r\uFEFF\u200b]+$/g},a.IS_BLOCK=/^(ADDRESS|ARTICLE|ASIDE|BLOCKQUOTE|CANVAS|DD|DFN|DIV|DL|DT|FIELDSET|FIGCAPTION|FIGURE|FOOTER|FORM|H[1-6]|HEADER|HGROUP|HR|LI|MAIN|NAV|NOSCRIPT|OUTPUT|P|PRE|RUBY|SCRIPT|STYLE|OBJECT|OL|SECTION|IFRAME|JODIT|JODIT-MEDIA|UL|TR|TD|TH|TBODY|THEAD|TFOOT|TABLE|BODY|HTML|VIDEO)$/i,a.IS_INLINE=/^(STRONG|SPAN|I|EM|B|SUP|SUB|A|U)$/i;var d=["img","video","svg","iframe","script","input","textarea","link","jodit","jodit-media"];a.INSEPARABLE_TAGS=new Set(u.__spreadArray(u.__spreadArray([],u.__read(d),!1),["br","hr"],!1)),a.NO_EMPTY_TAGS=new Set(d),a.KEY_META="Meta",a.KEY_BACKSPACE="Backspace",a.KEY_TAB="Tab",a.KEY_ENTER="Enter",a.KEY_ESC="Escape",a.KEY_ALT="Alt",a.KEY_LEFT="ArrowLeft",a.KEY_UP="ArrowUp",a.KEY_RIGHT="ArrowRight",a.KEY_DOWN="ArrowDown",a.KEY_SPACE="Space",a.KEY_DELETE="Delete",a.KEY_F3="F3",a.NEARBY=5,a.ACCURACY=10,a.COMMAND_KEYS=[a.KEY_META,a.KEY_BACKSPACE,a.KEY_DELETE,a.KEY_UP,a.KEY_DOWN,a.KEY_RIGHT,a.KEY_LEFT,a.KEY_ENTER,a.KEY_ESC,a.KEY_F3,a.KEY_TAB],a.BR="br",a.PARAGRAPH="p",a.MODE_WYSIWYG=1,a.MODE_SOURCE=2,a.MODE_SPLIT=3,a.IS_IE=typeof navigator<"u"&&(navigator.userAgent.indexOf("MSIE")!==-1||/rv:11.0/i.test(navigator.userAgent)),a.TEXT_PLAIN=a.IS_IE?"text":"text/plain",a.TEXT_HTML=a.IS_IE?"html":"text/html",a.TEXT_RTF=a.IS_IE?"rtf":"text/rtf",a.MARKER_CLASS="jodit-selection_marker",a.EMULATE_DBLCLICK_TIMEOUT=300,a.INSERT_AS_HTML="insert_as_html",a.INSERT_CLEAR_HTML="insert_clear_html",a.INSERT_AS_TEXT="insert_as_text",a.INSERT_ONLY_TEXT="insert_only_text",a.SAFE_COUNT_CHANGE_CALL=10,a.IS_MAC=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),a.KEY_ALIASES={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:a.IS_MAC?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},a.BASE_PATH=function(){if(typeof document>"u")return"";var h=document.currentScript,p=function(f){var g=f.split("/");return/\.js/.test(g[g.length-1])?g.slice(0,g.length-1).join("/")+"/":f};if(h)return p(h.src);var m=document.querySelectorAll("script[src]");return m&&m.length?p(m[m.length-1].src):window.location.href}(),a.TEMP_ATTR="data-jodit-temp",a.lang={},a.CLIPBOARD_ID="clipboard",a.SOURCE_CONSUMER="source-consumer"},31897:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Create=void 0;var u=s(40332),d=(s(52378),s(64968)),h=s(86893),p=function(){function m(f,g){this.document=f,this.createAttributes=g}return Object.defineProperty(m.prototype,"doc",{get:function(){return(0,u.isFunction)(this.document)?this.document():this.document},enumerable:!1,configurable:!0}),m.prototype.element=function(f,g,v){var x=this,y=this.doc.createElement(f.toLowerCase());return this.applyCreateAttributes(y),g&&((0,u.isPlainObject)(g)?(0,u.attr)(y,g):v=g),v&&(0,u.asArray)(v).forEach(function(b){return y.appendChild((0,u.isString)(b)?x.fromHTML(b):b)}),y},m.prototype.div=function(f,g,v){var x=this.element("div",g,v);return f&&(x.className=f),x},m.prototype.sandbox=function(){var f,g=this.element("iframe",{sandbox:"allow-same-origin"});this.doc.body.appendChild(g);var v=(f=g.contentWindow)===null||f===void 0?void 0:f.document;if(!v)throw Error("Iframe error");return v.open(),v.write("<!DOCTYPE html><html><head></head><body></body></html>"),v.close(),v.body},m.prototype.span=function(f,g,v){var x=this.element("span",g,v);return f&&(x.className=f),x},m.prototype.a=function(f,g,v){var x=this.element("a",g,v);return f&&(x.className=f),x},m.prototype.text=function(f){return this.doc.createTextNode(f)},m.prototype.fake=function(){return this.text(h.INVISIBLE_SPACE)},m.prototype.fragment=function(){return this.doc.createDocumentFragment()},m.prototype.fromHTML=function(f,g){var v=this.div();v.innerHTML=f.toString();var x=v.firstChild===v.lastChild&&v.firstChild?v.firstChild:v;if(d.Dom.safeRemove(x),g){var y=(0,u.refs)(x);Object.keys(g).forEach(function(b){var w=y[b];w&&g[b]===!1&&d.Dom.hide(w)})}return x},m.prototype.applyCreateAttributes=function(f){if(this.createAttributes){var g=this.createAttributes;if(g&&g[f.tagName.toLowerCase()]){var v=g[f.tagName.toLowerCase()];(0,u.isFunction)(v)?v(f):(0,u.isPlainObject)(v)&&(0,u.attr)(f,v)}}},m}();a.Create=p},42841:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(31897),a)},32358:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.cache=void 0;var u=s(40332);a.cache=function(d,h,p){var m=p.get;if(!m)throw(0,u.error)("Getter property descriptor expected");p.get=function(){var f=m.call(this);return f&&f.noCache===!0||Object.defineProperty(this,h,{configurable:p.configurable,enumerable:p.enumerable,writable:!1,value:f}),f}}},11441:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.component=void 0;var u=s(20255);a.component=function(d){var h=function(p){function m(){for(var f=[],g=0;arguments.length>g;g++)f[g]=arguments[g];var v=p.apply(this,u.__spreadArray([],u.__read(f),!1))||this,x=v.constructor===m;return x&&(v instanceof m||Object.setPrototypeOf(v,m.prototype),v.setStatus("ready")),v}return u.__extends(m,p),m}(d);return h}},55773:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.throttle=a.debounce=void 0;var u=s(10172),d=s(56562),h=s(56964);function p(m,f,g){return f===void 0&&(f=!1),g===void 0&&(g="debounce"),function(v,x){var y=v[x];if(!(0,u.isFunction)(y))throw(0,h.error)("Handler must be a Function");return v.hookStatus(d.STATUSES.ready,function(b){var w=b.async,_=(0,u.isFunction)(m)?m(b):m;Object.defineProperty(b,x,{configurable:!0,value:w[g](b[x].bind(b),(0,u.isNumber)(_)||(0,u.isPlainObject)(_)?_:b.defaultTimeout,f)})}),{configurable:!0,get:function(){return y.bind(this)}}}}s(52378),a.debounce=p,a.throttle=function(m,f){return f===void 0&&(f=!1),p(m,f,"throttle")}},70669:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.derive=void 0;var u=s(20255),d=s(10172);a.derive=function(){for(var h=[],p=0;arguments.length>p;p++)h[p]=arguments[p];return function(m){for(var f=m.prototype,g=0;h.length>g;g++)for(var v=h[g],x=Object.getOwnPropertyNames(v.prototype),y=function(w){var _=x[w],S=Object.getOwnPropertyDescriptor(v.prototype,_);S!=null&&(0,d.isFunction)(S.value)&&!(0,d.isFunction)(f[_])&&Object.defineProperty(f,_,{enumerable:!0,configurable:!0,writable:!0,value:function(){for(var E,A=[],C=0;arguments.length>C;C++)A[C]=arguments[C];return(E=S.value).call.apply(E,u.__spreadArray([this],u.__read(A),!1))}})},b=0;x.length>b;b++)y(b)}}},64522:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hook=void 0;var u=s(10172),d=s(56964);a.hook=function(h){return function(p,m){if(!(0,u.isFunction)(p[m]))throw(0,d.error)("Handler must be a Function");p.hookStatus(h,function(f){f[m].call(f)})}}},58682:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.idle=void 0;var u=s(20255),d=s(56562),h=s(40332);a.idle=function(){return function(p,m){if(!(0,h.isFunction)(p[m]))throw(0,h.error)("Handler must be a Function");p.hookStatus(d.STATUSES.ready,function(f){var g=f.async,v=f[m];f[m]=function(){for(var x=[],y=0;arguments.length>y;y++)x[y]=arguments[y];return g.requestIdleCallback(v.bind.apply(v,u.__spreadArray([f],u.__read(x),!1)))}})}}},43441:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.autobind=void 0;var u=s(20255);u.__exportStar(s(32358),a),u.__exportStar(s(11441),a),u.__exportStar(s(55773),a),u.__exportStar(s(58682),a),u.__exportStar(s(64522),a),u.__exportStar(s(91627),a),u.__exportStar(s(31418),a),u.__exportStar(s(67587),a),u.__exportStar(s(46163),a),u.__exportStar(s(70669),a);var d=s(70631);Object.defineProperty(a,"autobind",{enumerable:!0,get:function(){return d.default}})},91627:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.nonenumerable=void 0,a.nonenumerable=function(s,u){(Object.getOwnPropertyDescriptor(s,u)||{}).enumerable!==!1&&Object.defineProperty(s,u,{enumerable:!1,set:function(d){Object.defineProperty(this,u,{enumerable:!1,writable:!0,value:d})}})}},31418:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.persistent=void 0;var u=s(56562),d=s(96574);a.persistent=function(h,p){h.hookStatus(u.STATUSES.ready,function(m){var f=(0,d.isViewObject)(m)?m:m.jodit,g="".concat(f.options.namespace).concat(m.componentName,"_prop_").concat(p),v=m[p];Object.defineProperty(m,p,{get:function(){var x;return(x=f.storage.get(g))!==null&&x!==void 0?x:v},set:function(x){f.storage.set(g,x)}})})}},67587:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.wait=void 0;var u=s(20255),d=s(40332),h=s(56562);a.wait=function(p){return function(m,f){if(!(0,d.isFunction)(m[f]))throw(0,d.error)("Handler must be a Function");m.hookStatus(h.STATUSES.ready,function(g){var v=g.async,x=g[f],y=0;Object.defineProperty(g,f,{configurable:!0,value:function b(){for(var w=[],_=0;arguments.length>_;_++)w[_]=arguments[_];v.clearTimeout(y),p(g)?x.apply(g,w):y=v.setTimeout(function(){return b.apply(void 0,u.__spreadArray([],u.__read(w),!1))},10)}})})}}},46163:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.watch=a.getPropertyDescriptor=void 0;var u=s(20255),d=s(42096),h=s(79736),p=s(96574),m=s(88418),f=s(29411),g=s(14556),v=s(56964);function x(b,w){var _;do _=Object.getOwnPropertyDescriptor(b,w),b=Object.getPrototypeOf(b);while(!_&&b);return _}function y(b,w){return function(_,S){if(!(0,d.isFunction)(_[S]))throw(0,v.error)("Handler must be a Function");var E=function(A){var C=function(M){for(var T,k=[],P=1;arguments.length>P;P++)k[P-1]=arguments[P];if(!A.isInDestruct)return(T=A)[S].apply(T,u.__spreadArray([M],u.__read(k),!1))};(0,g.splitArray)(b).forEach(function(M){if(/:/.test(M)){var T=u.__read(M.split(":"),2),k=T[0],P=T[1],D=w,I=(0,p.isViewObject)(A)?A:A.jodit;return k.length&&(D=A.get(k)),(0,d.isFunction)(D)&&(D=D(A)),I.events.on(D||A,P,C),D||I.events.on(P,C),void A.hookStatus("beforeDestruct",function(){I.events.off(D||A,P,C).off(P,C)})}var O=M.split("."),j=u.__read(O,1)[0],N=O.slice(1),R=A[j];(0,h.isPlainObject)(R)&&(0,m.observable)(R).on("change.".concat(N.join(".")),C);var F=x(_,j);Object.defineProperty(A,j,{configurable:!0,set:function(U){var B=R;B!==U&&(R=U,F&&F.set&&F.set.call(A,U),(0,h.isPlainObject)(R)&&(R=(0,m.observable)(R)).on("change.".concat(N.join(".")),C),C(j,B,R))},get:function(){return F&&F.get?F.get.call(A):R}})})};(0,d.isFunction)(_.hookStatus)?_.hookStatus(f.STATUSES.ready,E):E(_)}}a.getPropertyDescriptor=x,a.watch=y,a.default=y},24263:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Dom=void 0;var u=s(20255),d=s(86893),h=s(10172),p=s(12557),m=s(19035),f=s(76502),g=s(37204),v=s(86893),x=function(){function y(){}return y.detach=function(b){for(;b.firstChild;)b.removeChild(b.firstChild)},y.wrapInline=function(b,w,_){var S,E=b,A=b;_.s.save();var C=!1;do C=!1,(S=E.previousSibling)&&!y.isBlock(S)&&(C=!0,E=S);while(C);do C=!1,(S=A.nextSibling)&&!y.isBlock(S)&&(C=!0,A=S);while(C);var M=(0,h.isString)(w)?_.createInside.element(w):w;E.parentNode&&E.parentNode.insertBefore(M,E);for(var T=E;T&&(T=E.nextSibling,M.appendChild(E),E!==A&&T);)E=T;return _.s.restore(),M},y.wrap=function(b,w,_){var S=(0,h.isString)(w)?_.element(w):w;if(y.isNode(b)){if(!b.parentNode)throw(0,f.error)("Element should be in DOM");b.parentNode.insertBefore(S,b),S.appendChild(b)}else{var E=b.extractContents();b.insertNode(S),S.appendChild(E)}return S},y.unwrap=function(b){var w=b.parentNode;if(w){for(;b.firstChild;)w.insertBefore(b.firstChild,b);y.safeRemove(b)}},y.between=function(b,w,_){for(var S=b;S&&S!==w&&(b===S||!_(S));){var E=S.firstChild||S.nextSibling;if(!E){for(;S&&!S.nextSibling;)S=S.parentNode;E=S==null?void 0:S.nextSibling}S=E}},y.replace=function(b,w,_,S,E){S===void 0&&(S=!1),E===void 0&&(E=!1),(0,h.isHTML)(w)&&(w=_.fromHTML(w));var A=(0,h.isString)(w)?_.element(w):w;if(!E)for(;b.firstChild;)A.appendChild(b.firstChild);return S&&y.isElement(b)&&y.isElement(A)&&(0,p.toArray)(b.attributes).forEach(function(C){A.setAttribute(C.name,C.value)}),b.parentNode&&b.parentNode.replaceChild(A,b),A},y.isEmptyTextNode=function(b){return y.isText(b)&&(!b.nodeValue||b.nodeValue.replace(d.INVISIBLE_SPACE_REG_EXP(),"").trim().length===0)},y.isEmptyContent=function(b){return y.each(b,function(w){return y.isEmptyTextNode(w)})},y.isContentEditable=function(b,w){return y.isNode(b)&&!y.closest(b,function(_){return y.isElement(_)&&_.getAttribute("contenteditable")==="false"},w)},y.isEmpty=function(b,w){if(w===void 0&&(w=v.NO_EMPTY_TAGS),!b)return!0;var _;_=(0,h.isFunction)(w)?w:function(E){return w.has(E.nodeName.toLowerCase())};var S=function(E){return E.nodeValue==null||(0,m.trim)(E.nodeValue).length===0};return y.isText(b)?S(b):!(y.isElement(b)&&_(b))&&y.each(b,function(E){if(y.isText(E)&&!S(E)||y.isElement(E)&&_(E))return!1})},y.isNode=function(b){return!!(b&&(0,h.isString)(b.nodeName)&&typeof b.nodeType=="number"&&b.childNodes&&(0,h.isFunction)(b.appendChild))},y.isCell=function(b){return y.isNode(b)&&/^(td|th)$/i.test(b.nodeName)},y.isImage=function(b){return y.isNode(b)&&/^(img|svg|picture|canvas)$/i.test(b.nodeName)},y.isBlock=function(b){return!(0,h.isVoid)(b)&&typeof b=="object"&&y.isNode(b)&&d.IS_BLOCK.test(b.nodeName)},y.isText=function(b){return!!(b&&b.nodeType===Node.TEXT_NODE)},y.isElement=function(b){var w;if(!y.isNode(b))return!1;var _=(w=b.ownerDocument)===null||w===void 0?void 0:w.defaultView;return!!(_&&b.nodeType===Node.ELEMENT_NODE)},y.isFragment=function(b){var w;if(!y.isNode(b))return!1;var _=(w=b.ownerDocument)===null||w===void 0?void 0:w.defaultView;return!!(_&&b.nodeType===Node.DOCUMENT_FRAGMENT_NODE)},y.isHTMLElement=function(b){var w;if(!y.isNode(b))return!1;var _=(w=b.ownerDocument)===null||w===void 0?void 0:w.defaultView;return!!(_&&b instanceof _.HTMLElement)},y.isInlineBlock=function(b){return y.isElement(b)&&!/^(BR|HR)$/i.test(b.tagName)&&["inline","inline-block"].indexOf((0,f.css)(b,"display").toString())!==-1},y.canSplitBlock=function(b){return!(0,h.isVoid)(b)&&y.isHTMLElement(b)&&y.isBlock(b)&&!/^(TD|TH|CAPTION|FORM)$/.test(b.nodeName)&&b.style!==void 0&&!/^(fixed|absolute)/i.test(b.style.position)},y.last=function(b,w){var _=b==null?void 0:b.lastChild;if(!_)return null;do{if(w(_))return _;var S=_.lastChild;if(S||(S=_.previousSibling),!S&&_.parentNode!==b){do _=_.parentNode;while(_&&!(_!=null&&_.previousSibling)&&_.parentNode!==b);S=_==null?void 0:_.previousSibling}_=S}while(_);return null},y.prev=function(b,w,_,S){return S===void 0&&(S=!0),y.find(b,w,_,!1,S)},y.next=function(b,w,_,S){return S===void 0&&(S=!0),y.find(b,w,_,!0,S)},y.prevWithClass=function(b,w){return y.prev(b,function(_){return y.isElement(_)&&_.classList.contains(w)},b.parentNode)},y.nextWithClass=function(b,w){return y.next(b,function(_){return y.isElement(_)&&_.classList.contains(w)},b.parentNode)},y.find=function(b,w,_,S,E){S===void 0&&(S=!0),E===void 0&&(E=!0);for(var A=this.nextGen(b,_,S,E),C=A.next();!C.done;){if(w(C.value))return C.value;C=A.next()}return null},y.nextGen=function(b,w,_,S){var E,A,C;return _===void 0&&(_=!0),S===void 0&&(S=!0),u.__generator(this,function(M){switch(M.label){case 0:E=[],A=b,M.label=1;case 1:for(C=_?A.nextSibling:A.previousSibling;C;)E.unshift(C),C=_?C.nextSibling:C.previousSibling;return[5,u.__values(this.runInStack(b,E,_,S))];case 2:M.sent(),A=A.parentNode,M.label=3;case 3:if(A&&A!==w)return[3,1];M.label=4;case 4:return[2,null]}})},y.each=function(b,w,_){_===void 0&&(_=!0);for(var S=this.eachGen(b,_),E=S.next();!E.done;){if(w(E.value)===!1)return!1;E=S.next()}return!0},y.eachGen=function(b,w){return w===void 0&&(w=!0),this.runInStack(b,[b],w)},y.runInStack=function(b,w,_,S){var E,A;return S===void 0&&(S=!0),u.__generator(this,function(C){switch(C.label){case 0:if(!w.length)return[3,3];if(E=w.pop(),S)for(A=_?E.lastChild:E.firstChild;A;)w.push(A),A=_?A.previousSibling:A.nextSibling;return b===E?[3,2]:[4,E];case 1:C.sent(),C.label=2;case 2:return[3,0];case 3:return[2]}})},y.findWithCurrent=function(b,w,_,S,E){S===void 0&&(S="nextSibling"),E===void 0&&(E="firstChild");var A=b;do{if(w(A))return A||null;if(E&&A&&A[E]){var C=y.findWithCurrent(A[E],w,A,S,E);if(C)return C}for(;A&&!A[S]&&A!==_;)A=A.parentNode;A&&A[S]&&A!==_&&(A=A[S])}while(A&&A!==_);return null},y.findSibling=function(b,w,_){w===void 0&&(w=!0),_===void 0&&(_=function(E){return!y.isEmptyTextNode(E)});for(var S=y.sibling(b,w);S&&!_(S);)S=y.sibling(S,w);return S&&_(S)?S:null},y.findNotEmptySibling=function(b,w){return y.findSibling(b,w,function(_){var S;return!y.isEmptyTextNode(_)&&!!(!y.isText(_)||!((S=_.nodeValue)===null||S===void 0)&&S.length&&(0,m.trim)(_.nodeValue))})},y.findNotEmptyNeighbor=function(b,w,_){return(0,f.call)(w?y.prev:y.next,b,function(S){return!!(S&&(!y.isText(S)||(0,m.trim)((S==null?void 0:S.nodeValue)||"").length))},_)},y.sibling=function(b,w){return w?b.previousSibling:b.nextSibling},y.up=function(b,w,_,S){S===void 0&&(S=!1);var E=b;if(!E)return null;do{if(w(E))return E;if(E===_||!E.parentNode)break;E=E.parentNode}while(E&&E!==_);return E===_&&S&&w(E)?E:null},y.closest=function(b,w,_){var S,E=function(C){return C.toLowerCase()};if((0,h.isFunction)(w))S=w;else if((0,h.isArray)(w)){var A=new Set(w.map(E));S=function(C){return!!(C&&A.has(E(C.nodeName)))}}else S=function(C){return!!(C&&E(w)===E(C.nodeName))};return y.up(b,S,_)},y.furthest=function(b,w,_){for(var S=null,E=b==null?void 0:b.parentElement;E&&E!==_;)w(E)&&(S=E),E=E==null?void 0:E.parentElement;return S},y.appendChildFirst=function(b,w){var _=b.firstChild;_?_!==w&&b.insertBefore(w,_):b.appendChild(w)},y.after=function(b,w){var _=b.parentNode;_&&(_.lastChild===b?_.appendChild(w):_.insertBefore(w,b.nextSibling))},y.before=function(b,w){var _=b.parentNode;_&&_.insertBefore(w,b)},y.prepend=function(b,w){b.insertBefore(w,b.firstChild)},y.append=function(b,w){var _=this;(0,h.isArray)(w)?w.forEach(function(S){_.append(b,S)}):b.appendChild(w)},y.moveContent=function(b,w,_,S){_===void 0&&(_=!1),S===void 0&&(S=function(){return!0});var E=(b.ownerDocument||document).createDocumentFragment();(0,p.toArray)(b.childNodes).filter(function(A){return!!S(A)||(y.safeRemove(A),!1)}).forEach(function(A){E.appendChild(A)}),_&&w.firstChild?w.insertBefore(E,w.firstChild):w.appendChild(E)},y.isOrContains=function(b,w,_){return _===void 0&&(_=!1),b===w?!_:!!(w&&b&&this.up(w,function(S){return S===b},b,!0))},y.safeRemove=function(){for(var b=[],w=0;arguments.length>w;w++)b[w]=arguments[w];b.forEach(function(_){return y.isNode(_)&&_.parentNode&&_.parentNode.removeChild(_)})},y.safeInsertNode=function(b,w){b.collapsed||b.deleteContents(),b.insertNode(w),b.setStartBefore(w),b.collapse(!0),[w.nextSibling,w.previousSibling].forEach(function(_){return y.isText(_)&&!_.nodeValue&&y.safeRemove(_)})},y.hide=function(b){b&&((0,f.dataBind)(b,"__old_display",b.style.display),b.style.display="none")},y.show=function(b){if(b){var w=(0,f.dataBind)(b,"__old_display");b.style.display==="none"&&(b.style.display=w||"")}},y.isTag=function(b,w){if(!this.isElement(b))return!1;var _=b.tagName.toLowerCase(),S=b.tagName.toUpperCase();if(w instanceof Set)return w.has(_)||w.has(S);for(var E=(0,p.asArray)(w).map(function(C){return String(C).toLowerCase()}),A=0;E.length>A;A+=1)if(_===E[A]||S===E[A])return!0;return!1},y.markTemporary=function(b,w){return w&&(0,f.attr)(b,w),(0,f.attr)(b,v.TEMP_ATTR,!0),b},y.isTemporary=function(b){return!!y.isElement(b)&&((0,g.isMarker)(b)||(0,f.attr)(b,v.TEMP_ATTR)==="true")},y.replaceTemporaryFromString=function(b){return b.replace(/<([a-z]+)[^>]+data-jodit-temp[^>]+>(.+?)<\/\1>/gi,"$2")},y.temporaryList=function(b){return(0,f.$$)("[".concat(v.TEMP_ATTR,"]"),b)},y}();a.Dom=x},64968:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(24263),a),u.__exportStar(s(33841),a)},33841:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.LazyWalker=void 0;var u=s(20255),d=s(73852),h=s(43441),p=s(24263),m=function(f){function g(v,x){x===void 0&&(x={});var y=f.call(this)||this;return y.async=v,y.options=x,y.workNodes=null,y.hadAffect=!1,y.isWorked=!1,y.isFinished=!1,y.idleId=0,y}return u.__extends(g,f),g.prototype.setWork=function(v){return this.isWorked&&this.break(),this.workNodes=p.Dom.eachGen(v,!this.options.reverse),this.isFinished=!1,this.startIdleRequest(),this},g.prototype.startIdleRequest=function(){var v;this.idleId=this.async.requestIdleCallback(this.workPerform,{timeout:(v=this.options.timeout)!==null&&v!==void 0?v:10})},g.prototype.break=function(v){this.isWorked&&(this.stop(),this.emit("break",v))},g.prototype.end=function(){this.isWorked&&(this.stop(),this.emit("end",this.hadAffect),this.hadAffect=!1)},g.prototype.stop=function(){this.isWorked=!1,this.isFinished=!0,this.workNodes=null,this.async.cancelIdleCallback(this.idleId)},g.prototype.destruct=function(){f.prototype.destruct.call(this),this.stop()},g.prototype.workPerform=function(v){var x;if(this.workNodes){this.isWorked=!0;for(var y=0,b=(x=this.options.timeoutChunkSize)!==null&&x!==void 0?x:50;!this.isFinished&&(v.timeRemaining()>0||v.didTimeout&&b>=y);){var w=this.workNodes.next();if(y+=1,this.visitNode(w.value)&&(this.hadAffect=!0),w.done)return void this.end()}}else this.end();this.isFinished||this.startIdleRequest()},g.prototype.visitNode=function(v){var x;return!(!v||this.options.whatToShow!==void 0&&v.nodeType!==this.options.whatToShow)&&(x=this.emit("visit",v))!==null&&x!==void 0&&x},u.__decorate([h.autobind],g.prototype,"workPerform",null),g}(d.Eventify);a.LazyWalker=m},3808:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.EventEmitter=void 0;var u=s(20255),d=s(83611),h=s(24421),p=s(42096),m=s(49781),f=s(56964),g=s(14556),v=function(){function x(y){var b=this;this.__mutedEvents=new Set,this.__key="__JoditEventEmitterNamespaces",this.__doc=document,this.__prepareEvent=function(w){w.cancelBubble||(w.composed&&(0,p.isFunction)(w.composedPath)&&w.composedPath()[0]&&Object.defineProperty(w,"target",{value:w.composedPath()[0],configurable:!0,enumerable:!0}),w.type.match(/^touch/)&&w.changedTouches&&w.changedTouches.length&&["clientX","clientY","pageX","pageY"].forEach(function(_){Object.defineProperty(w,_,{value:w.changedTouches[0][_],configurable:!0,enumerable:!0})}),w.originalEvent||(w.originalEvent=w),w.type==="paste"&&w.clipboardData===void 0&&b.__doc.defaultView.clipboardData&&Object.defineProperty(w,"clipboardData",{get:function(){return b.__doc.defaultView.clipboardData},configurable:!0,enumerable:!0}))},this.currents=[],this.__stopped=[],this.__isDestructed=!1,y&&(this.__doc=y),this.__key+=new Date().getTime()}return x.prototype.mute=function(y){return this.__mutedEvents.add(y??"*"),this},x.prototype.isMuted=function(y){return!(!y||!this.__mutedEvents.has(y))||this.__mutedEvents.has("*")},x.prototype.unmute=function(y){return this.__mutedEvents.delete(y??"*"),this},x.prototype.__eachEvent=function(y,b){var w=this;(0,g.splitArray)(y).map(function(_){return _.trim()}).forEach(function(_){var S=_.split(".");b.call(w,S[0],S[1]||d.defaultNameSpace)})},x.prototype.__getStore=function(y){if(!y)throw(0,f.error)("Need subject");if(y[this.__key]===void 0){var b=new d.EventHandlersStore;Object.defineProperty(y,this.__key,{enumerable:!1,configurable:!0,writable:!0,value:b})}return y[this.__key]},x.prototype.__removeStoreFromSubject=function(y){y[this.__key]!==void 0&&Object.defineProperty(y,this.__key,{enumerable:!1,configurable:!0,writable:!0,value:void 0})},x.prototype.__triggerNativeEvent=function(y,b){var w=this.__doc.createEvent("HTMLEvents");(0,h.isString)(b)?w.initEvent(b,!0,!0):(w.initEvent(b.type,b.bubbles,b.cancelable),["screenX","screenY","clientX","clientY","target","srcElement","currentTarget","timeStamp","which","keyCode"].forEach(function(_){Object.defineProperty(w,_,{value:b[_],enumerable:!0})}),Object.defineProperty(w,"originalEvent",{value:b,enumerable:!0})),y.dispatchEvent(w)},Object.defineProperty(x.prototype,"current",{get:function(){return this.currents[this.currents.length-1]},enumerable:!1,configurable:!0}),x.prototype.on=function(y,b,w,_){var S,E,A,C,M=this;if((0,h.isString)(y)||(0,h.isStringArray)(y)?(S=this,E=y,A=b,C=w):(S=y,E=b,A=w,C=_),!(0,h.isString)(E)&&!(0,h.isStringArray)(E)||E.length===0)throw(0,f.error)("Need events names");if(!(0,p.isFunction)(A))throw(0,f.error)("Need event handler");if((0,m.isArray)(S))return S.forEach(function(O){M.on(O,E,A,C)}),this;var T=S,k=this.__getStore(T),P=(0,p.isFunction)(T.addEventListener),D=this,I=function(O){for(var j=[],N=1;arguments.length>N;N++)j[N-1]=arguments[N];if(!D.isMuted(O))return A&&A.call.apply(A,u.__spreadArray([this],u.__read(j),!1))};return P&&(I=function(O){if(!D.isMuted(O.type))return D.__prepareEvent(O),A&&A.call(this,O)===!1?(O.preventDefault(),O.stopImmediatePropagation(),!1):void 0}),this.__eachEvent(E,function(O,j){if(O.length===0)throw(0,f.error)("Need event name");if(k.indexOf(O,j,A)===!1&&(k.set(O,j,{event:O,originalCallback:A,syntheticCallback:I},C==null?void 0:C.top),P)){var N=!!["touchstart","touchend","scroll","mousewheel","mousemove","touchmove"].includes(O)&&{passive:!0};T.addEventListener(O,I,N)}}),this},x.prototype.one=function(y,b,w,_){var S,E,A,C,M=this;(0,h.isString)(y)||(0,h.isStringArray)(y)?(S=this,E=y,A=b,C=w):(S=y,E=b,A=w,C=_);var T=function(){for(var k=[],P=0;arguments.length>P;P++)k[P]=arguments[P];return M.off(S,E,T),A.apply(void 0,u.__spreadArray([],u.__read(k),!1))};return this.on(S,E,T,C),this},x.prototype.off=function(y,b,w){var _,S,E,A=this;if((0,h.isString)(y)||(0,h.isStringArray)(y)?(_=this,S=y,E=b):(_=y,S=b,E=w),(0,m.isArray)(_))return _.forEach(function(D){A.off(D,S,E)}),this;var C=_,M=this.__getStore(C);if(!(0,h.isString)(S)&&!(0,h.isStringArray)(S)||S.length===0)return M.namespaces().forEach(function(D){A.off(C,"."+D)}),this.__removeStoreFromSubject(C),this;var T=(0,p.isFunction)(C.removeEventListener),k=function(D){T&&C.removeEventListener(D.event,D.syntheticCallback,!1)},P=function(D,I){if(D!==""){var O=M.get(D,I);if(O&&O.length)if((0,p.isFunction)(E)){var j=M.indexOf(D,I,E);j!==!1&&(k(O[j]),O.splice(j,1),O.length||M.clearEvents(I,D))}else O.forEach(k),O.length=0,M.clearEvents(I,D)}else M.events(I).forEach(function(N){N!==""&&P(N,I)})};return this.__eachEvent(S,function(D,I){I===d.defaultNameSpace?M.namespaces().forEach(function(O){P(D,O)}):P(D,I)}),M.isEmpty()&&this.__removeStoreFromSubject(C),this},x.prototype.stopPropagation=function(y,b){var w=this,_=(0,h.isString)(y)?this:y,S=(0,h.isString)(y)?y:b;if(typeof S!="string")throw(0,f.error)("Need event names");var E=this.__getStore(_);this.__eachEvent(S,function(A,C){var M=E.get(A,C);M&&w.__stopped.push(M),C===d.defaultNameSpace&&E.namespaces(!0).forEach(function(T){return w.stopPropagation(_,A+"."+T)})})},x.prototype.__removeStop=function(y){if(y){var b=this.__stopped.indexOf(y);b!==-1&&this.__stopped.splice(0,b+1)}},x.prototype.__isStopped=function(y){return y!==void 0&&this.__stopped.indexOf(y)!==-1},x.prototype.fire=function(y,b){for(var w,_,S=this,E=[],A=2;arguments.length>A;A++)E[A-2]=arguments[A];var C=(0,h.isString)(y)?this:y,M=(0,h.isString)(y)?y:b,T=(0,h.isString)(y)?u.__spreadArray([b],u.__read(E),!1):E,k=(0,p.isFunction)(C.dispatchEvent);if(!k&&!(0,h.isString)(M))throw(0,f.error)("Need events names");var P=this.__getStore(C);return!(0,h.isString)(M)&&k?this.__triggerNativeEvent(C,b):this.__eachEvent(M,function(D,I){if(k)S.__triggerNativeEvent(C,D);else{var O=P.get(D,I);if(O)try{u.__spreadArray([],u.__read(O),!1).every(function(j){var N;return!S.__isStopped(O)&&(S.currents.push(D),_=(N=j.syntheticCallback).call.apply(N,u.__spreadArray([C,D],u.__read(T),!1)),S.currents.pop(),_!==void 0&&(w=_),!0)})}finally{S.__removeStop(O)}I!==d.defaultNameSpace||k||P.namespaces().filter(function(j){return j!==I}).forEach(function(j){var N=S.fire.apply(S,u.__spreadArray([C,D+"."+j],u.__read(T),!1));N!==void 0&&(w=N)})}}),w},x.prototype.destruct=function(){this.__isDestructed&&(this.__isDestructed=!0,this.off(this),this.__getStore(this).clear(),this.__removeStoreFromSubject(this))},x}();a.EventEmitter=v},73852:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Eventify=void 0;var u=s(20255),d=function(){function h(){this.__map=new Map}return h.prototype.on=function(p,m){var f;return this.__map.has(p)||this.__map.set(p,new Set),(f=this.__map.get(p))===null||f===void 0||f.add(m),this},h.prototype.off=function(p,m){var f;return this.__map.has(p)&&((f=this.__map.get(p))===null||f===void 0||f.delete(m)),this},h.prototype.destruct=function(){this.__map.clear()},h.prototype.emit=function(p){for(var m,f,g=[],v=1;arguments.length>v;v++)g[v-1]=arguments[v];return this.__map.has(p)&&((m=this.__map.get(p))===null||m===void 0||m.forEach(function(x){f=x.apply(void 0,u.__spreadArray([],u.__read(g),!1))})),f},h}();a.Eventify=d},55395:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(3808),a),u.__exportStar(s(73852),a),u.__exportStar(s(88418),a),u.__exportStar(s(83611),a)},88418:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.observable=void 0;var u=s(20255),d=s(49781),h=s(32756),p=s(79736),m=s(46163),f=Symbol("observable-object");function g(v){return v[f]!==void 0}a.observable=function(v){if(g(v))return v;var x={},y={},b=function(S,E){return(0,d.isArray)(S)?(S.map(function(A){return b(A,E)}),v):(y[S]||(y[S]=[]),y[S].push(E),v)},w=function(S){for(var E=[],A=1;arguments.length>A;A++)E[A-1]=arguments[A];if((0,d.isArray)(S))S.map(function(C){return w.apply(void 0,u.__spreadArray([C],u.__read(E),!1))});else try{!x[S]&&y[S]&&(x[S]=!0,y[S].forEach(function(C){return C.call.apply(C,u.__spreadArray([v],u.__read(E),!1))}))}finally{x[S]=!1}},_=function(S,E){E===void 0&&(E=[]);var A={};g(S)||(Object.defineProperty(S,f,{enumerable:!1,value:!0}),Object.keys(S).forEach(function(C){var M=C,T=E.concat(M).filter(function(P){return P.length});A[M]=S[M];var k=(0,m.getPropertyDescriptor)(S,M);Object.defineProperty(S,M,{set:function(P){var D=A[M];if(!(0,h.isFastEqual)(A[M],P)){w(["beforeChange","beforeChange.".concat(T.join("."))],M,P),(0,p.isPlainObject)(P)&&_(P,T),k&&k.set?k.set.call(v,P):A[M]=P;var I=[];w(u.__spreadArray(["change"],u.__read(T.reduce(function(O,j){return I.push(j),O.push("change.".concat(I.join("."))),O},[])),!1),T.join("."),D,P!=null&&P.valueOf?P.valueOf():P)}},get:function(){return k&&k.get?k.get.call(v):A[M]},enumerable:!0,configurable:!0}),(0,p.isPlainObject)(A[M])&&_(A[M],T)}),Object.defineProperty(v,"on",{value:b}))};return _(v),v}},83611:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.EventHandlersStore=a.defaultNameSpace=void 0,s(52378);var u=s(1853);a.defaultNameSpace="JoditEventDefaultNamespace";var d=function(){function h(){this.__store=new Map}return h.prototype.get=function(p,m){if(this.__store.has(m))return this.__store.get(m)[p]},h.prototype.indexOf=function(p,m,f){var g=this.get(p,m);if(g){for(var v=0;g.length>v;v+=1)if(g[v].originalCallback===f)return v}return!1},h.prototype.namespaces=function(p){p===void 0&&(p=!1);var m=(0,u.toArray)(this.__store.keys());return p?m.filter(function(f){return f!==a.defaultNameSpace}):m},h.prototype.events=function(p){var m=this.__store.get(p);return m?Object.keys(m):[]},h.prototype.set=function(p,m,f,g){g===void 0&&(g=!1);var v=this.__store.get(m);v||this.__store.set(m,v={}),v[p]===void 0&&(v[p]=[]),g?v[p].unshift(f):v[p].push(f)},h.prototype.clear=function(){this.__store.clear()},h.prototype.clearEvents=function(p,m){var f=this.__store.get(p);f&&f[m]&&(delete f[m],Object.keys(f).length||this.__store.delete(p))},h.prototype.isEmpty=function(){return this.__store.size===0},h}();a.EventHandlersStore=d},17332:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.eventEmitter=a.getContainer=a.extendLang=a.modules=a.pluginSystem=a.uniqueUid=a.instances=void 0;var u=s(44540),d=s(64968),h=s(55395),p=s(77892),m=s(96574),f=s(87247),g=s(11278),v=s(86893);a.instances={};var x=1,y=new Set;a.uniqueUid=function(){function w(){return x+=10*(Math.random()+1),Math.round(x).toString(16)}for(var _=w();y.has(_);)_=w();return y.add(_),_},a.pluginSystem=new u.PluginSystem,a.modules={},a.extendLang=function(w){Object.keys(w).forEach(function(_){v.lang[_]?Object.assign(v.lang[_],w[_]):v.lang[_]=w[_]})};var b=new WeakMap;a.getContainer=function(w,_,S,E){S===void 0&&(S="div"),E===void 0&&(E=!1);var A=_?(0,f.getClassName)(_.prototype):"jodit-utils",C=b.get(w)||{},M=A+S,T=(0,m.isViewObject)(w)?w:w.j;if(!C[M]){var k=T.c,P=(0,p.isJoditObject)(w)&&w.o.shadowRoot?w.o.shadowRoot:w.od.body;if(E&&(0,p.isJoditObject)(w)&&w.od!==w.ed){k=w.createInside;var D=S==="style"?w.ed.head:w.ed.body;P=(0,p.isJoditObject)(w)&&w.o.shadowRoot?w.o.shadowRoot:D}var I=k.element(S,{className:"jodit jodit-".concat((0,g.kebabCase)(A),"-container jodit-box")});I.classList.add("jodit_theme_".concat(T.o.theme||"default")),P.appendChild(I),C[M]=I,w.hookStatus("beforeDestruct",function(){d.Dom.safeRemove(I),delete C[M],Object.keys(C).length&&b.delete(w)}),b.set(w,C)}return C[M].classList.remove("jodit_theme_default","jodit_theme_dark"),C[M].classList.add("jodit_theme_".concat(T.o.theme||"default")),C[M]},a.eventEmitter=new h.EventEmitter},34578:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.asArray=void 0;var u=s(49781);a.asArray=function(d){return(0,u.isArray)(d)?d:[d]}},12557:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.toArray=a.splitArray=a.asArray=void 0;var u=s(34578);Object.defineProperty(a,"asArray",{enumerable:!0,get:function(){return u.asArray}});var d=s(14556);Object.defineProperty(a,"splitArray",{enumerable:!0,get:function(){return d.splitArray}});var h=s(1853);Object.defineProperty(a,"toArray",{enumerable:!0,get:function(){return h.toArray}})},14556:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.splitArray=void 0,a.splitArray=function(s){return Array.isArray(s)?s:s.split(/[,\s]+/)}},1853:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.toArray=void 0;var u=s(80861),d=s(28069);a.toArray=function(){for(var h,p=[],m=0;arguments.length>m;m++)p[m]=arguments[m];var f=(0,d.isNativeFunction)(Array.from)?Array.from:(h=(0,u.reset)("Array.from"))!==null&&h!==void 0?h:Array.from;return f.apply(Array,p)}},4696:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(27512),a)},27512:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.clearTimeout=a.setTimeout=void 0;var u=s(20255);a.setTimeout=function(d,h){for(var p=[],m=2;arguments.length>m;m++)p[m-2]=arguments[m];return h?window.setTimeout.apply(window,u.__spreadArray([d,h],u.__read(p),!1)):(d.call.apply(d,u.__spreadArray([null],u.__read(p),!1)),0)},a.clearTimeout=function(d){window.clearTimeout(d)}},31553:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.hasBrowserColorPicker=void 0,a.hasBrowserColorPicker=function(){var s=!0;try{var u=document.createElement("input");u.type="color",u.value="!",s=u.type==="color"&&u.value!=="!"}catch{s=!1}return s}},10172:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(31553),a),u.__exportStar(s(49781),a),u.__exportStar(s(67749),a),u.__exportStar(s(32756),a),u.__exportStar(s(42096),a),u.__exportStar(s(66869),a),u.__exportStar(s(72543),a),u.__exportStar(s(33156),a),u.__exportStar(s(93578),a),u.__exportStar(s(77892),a),u.__exportStar(s(96574),a),u.__exportStar(s(60280),a),u.__exportStar(s(28069),a),u.__exportStar(s(61817),a),u.__exportStar(s(57649),a),u.__exportStar(s(79736),a),u.__exportStar(s(26335),a),u.__exportStar(s(24421),a),u.__exportStar(s(64350),a),u.__exportStar(s(19179),a),u.__exportStar(s(24021),a),u.__exportStar(s(85994),a),u.__exportStar(s(37204),a)},49781:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isArray=void 0,a.isArray=function(s){return Array.isArray(s)}},67749:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isBoolean=void 0,a.isBoolean=function(s){return typeof s=="boolean"}},32756:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isFastEqual=a.isEqual=void 0;var u=s(42554);a.isEqual=function(d,h){return d===h||(0,u.stringify)(d)===(0,u.stringify)(h)},a.isFastEqual=function(d,h){return d===h}},42096:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isFunction=void 0,a.isFunction=function(s){return typeof s=="function"}},72543:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isHtmlFromWord=void 0,a.isHtmlFromWord=function(s){return s.search(/<meta.*?Microsoft Excel\s[\d].*?>/)!==-1||s.search(/<meta.*?Microsoft Word\s[\d].*?>/)!==-1||s.search(/style="[^"]*mso-/)!==-1&&s.search(/<font/)!==-1}},66869:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isHTML=void 0;var u=s(24421);a.isHTML=function(d){return(0,u.isString)(d)&&/<([A-Za-z][A-Za-z0-9]*)\b[^>]*>(.*?)<\/\1>/m.test(d.replace(/[\r\n]/g,""))}},33156:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hasContainer=a.isDestructable=a.isInitable=void 0;var u=s(42096),d=s(24263),h=s(24021);a.isInitable=function(p){return!(0,h.isVoid)(p)&&(0,u.isFunction)(p.init)},a.isDestructable=function(p){return!(0,h.isVoid)(p)&&(0,u.isFunction)(p.destruct)},a.hasContainer=function(p){return!(0,h.isVoid)(p)&&d.Dom.isElement(p.container)}},93578:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isInt=void 0;var u=s(57649),d=s(24421);a.isInt=function(h){return(0,d.isString)(h)&&(0,u.isNumeric)(h)&&(h=parseFloat(h)),typeof h=="number"&&Number.isFinite(h)&&!(h%1)}},77892:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isJoditObject=void 0;var u=s(42096);a.isJoditObject=function(d){return!!(d&&d instanceof Object&&(0,u.isFunction)(d.constructor)&&(typeof Jodit<"u"&&d instanceof Jodit||d.isJodit))}},60280:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isLicense=void 0;var u=s(24421);a.isLicense=function(d){return(0,u.isString)(d)&&d.length===23&&/^[a-z0-9]{5}-[a-z0-9]{5}-[a-z0-9]{5}-[a-z0-9]{5}$/i.test(d)}},37204:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isMarker=void 0;var u=s(24263),d=s(86893);a.isMarker=function(h){return u.Dom.isNode(h)&&u.Dom.isTag(h,"span")&&h.hasAttribute("data-"+d.MARKER_CLASS)}},28069:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isNativeFunction=void 0,a.isNativeFunction=function(s){return!!s&&(typeof s).toLowerCase()==="function"&&(s===Function.prototype||/^\s*function\s*(\b[a-z$_][a-z0-9$_]*\b)*\s*\((|([a-z$_][a-z0-9$_]*)(\s*,[a-z$_][a-z0-9$_]*)*)\)\s*{\s*\[native code]\s*}\s*$/i.test(String(s)))}},61817:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isNumber=void 0,a.isNumber=function(s){return typeof s=="number"&&!isNaN(s)&&isFinite(s)}},57649:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isNumeric=void 0;var u=s(24421);a.isNumeric=function(d){if((0,u.isString)(d)){if(!d.match(/^([+-])?[0-9]+(\.?)([0-9]+)?(e[0-9]+)?$/))return!1;d=parseFloat(d)}return typeof d=="number"&&!isNaN(d)&&isFinite(d)}},79736:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isPlainObject=void 0;var u=s(85994);a.isPlainObject=function(d){return!(!d||typeof d!="object"||d.nodeType||(0,u.isWindow)(d)||d.constructor&&!{}.hasOwnProperty.call(d.constructor.prototype,"isPrototypeOf"))}},26335:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isPromise=void 0,a.isPromise=function(s){return s&&typeof s.then=="function"}},24421:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isStringArray=a.isString=void 0;var u=s(49781);function d(h){return typeof h=="string"}a.isString=d,a.isStringArray=function(h){return(0,u.isArray)(h)&&d(h[0])}},64350:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isURL=void 0,a.isURL=function(s){if(s.includes(" "))return!1;if(typeof URL<"u")try{var u=new URL(s);return["https:","http:","ftp:","file:","rtmp:"].includes(u.protocol)}catch{return!1}var d=document.createElement("a");return d.href=s,!!d.hostname}},19179:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isValidName=void 0,a.isValidName=function(s){return!!s.length&&!/[^0-9A-Za-zа-яА-ЯЁё\w\-_.]/.test(s)}},96574:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isViewObject=void 0;var u=s(42096);a.isViewObject=function(d){return!!(d&&d instanceof Object&&(0,u.isFunction)(d.constructor)&&d.isView)}},24021:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isVoid=void 0,a.isVoid=function(s){return s==null}},85994:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.isWindow=void 0,a.isWindow=function(s){return s!=null&&s===s.window}},13203:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.colorToHex=void 0,a.colorToHex=function(s){if(s==="rgba(0, 0, 0, 0)"||s==="")return!1;if(!s)return"#000000";if(s.substr(0,1)==="#")return s;var u=/([\s\n\t\r]*?)rgb\((\d+), (\d+), (\d+)\)/.exec(s)||/([\s\n\t\r]*?)rgba\((\d+), (\d+), (\d+), ([\d.]+)\)/.exec(s);if(!u)return"#000000";for(var d=parseInt(u[2],10),h=parseInt(u[3],10),p=(parseInt(u[4],10)|h<<8|d<<16).toString(16).toUpperCase();6>p.length;)p="0"+p;return u[1]+"#"+p}},61354:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(13203),a)},66546:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.applyStyles=void 0;var u=s(24263),d=s(76502),h=s(33941);function p(m){return m.replace(/mso-[a-z-]+:[\s]*[^;]+;/gi,"").replace(/mso-[a-z-]+:[\s]*[^";']+$/gi,"").replace(/border[a-z-]*:[\s]*[^;]+;/gi,"").replace(/([0-9.]+)(pt|cm)/gi,function(f,g,v){switch(v.toLowerCase()){case"pt":return(1.328*parseFloat(g)).toFixed(0)+"px";case"cm":return(.02645833*parseFloat(g)).toFixed(0)+"px"}return f})}a.applyStyles=function(m){if(m.indexOf("<html ")===-1)return m;m=(m=m.substring(m.indexOf("<html "),m.length)).substring(0,m.lastIndexOf("</html>")+7);var f=document.createElement("iframe");f.style.display="none",document.body.appendChild(f);var g="";try{var v=f.contentDocument||(f.contentWindow?f.contentWindow.document:null);if(v){v.open(),v.write(m),v.close();try{for(var x=function(b){for(var w=v.styleSheets[b].cssRules,_=function(E){if(w[E].selectorText==="")return"continue";(0,d.$$)(w[E].selectorText,v.body).forEach(function(A){A.style.cssText=p(w[E].style.cssText+";"+A.style.cssText)})},S=0;w.length>S;S+=1)_(S)},y=0;v.styleSheets.length>y;y+=1)x(y)}catch{}u.Dom.each(v.body,function(b){if(u.Dom.isElement(b)){var w=b,_=w.getAttribute("style");_&&(w.style.cssText=p(_)),w.hasAttribute("style")&&!w.getAttribute("style")&&w.removeAttribute("style")}}),g=v.firstChild?(0,h.trim)(v.body.innerHTML):""}}catch{}finally{u.Dom.safeRemove(f)}return g&&(m=g),(0,h.trim)(m.replace(/<(\/)?(html|colgroup|col|o:p)[^>]*>/g,"").replace(/<!--[^>]*>/g,""))}},33316:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.cleanFromWord=void 0;var u=s(24263),d=s(33941),h=s(1853);a.cleanFromWord=function(p){p.indexOf("<html ")!==-1&&(p=(p=p.substring(p.indexOf("<html "),p.length)).substring(0,p.lastIndexOf("</html>")+7));var m="";try{var f=document.createElement("div");f.innerHTML=p;var g=[];f.firstChild&&u.Dom.each(f,function(v){if(v)switch(v.nodeType){case Node.ELEMENT_NODE:switch(v.nodeName){case"STYLE":case"LINK":case"META":g.push(v);break;case"W:SDT":case"W:SDTPR":case"FONT":u.Dom.unwrap(v);break;default:(0,h.toArray)(v.attributes).forEach(function(x){["src","href","rel","content"].indexOf(x.name.toLowerCase())===-1&&v.removeAttribute(x.name)})}break;case Node.TEXT_NODE:break;default:g.push(v)}}),u.Dom.safeRemove.apply(null,g),m=f.innerHTML}catch{}return m&&(p=m),(p=p.split(/(\n)/).filter(d.trim).join(`
`)).replace(/<(\/)?(html|colgroup|col|o:p)[^>]*>/g,"").replace(/<!--[^>]*>/g,"")}},46639:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.htmlspecialchars=void 0,a.htmlspecialchars=function(s){var u=document.createElement("div");return u.textContent=s,u.innerHTML}},13098:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(66546),a),u.__exportStar(s(33316),a),u.__exportStar(s(46639),a),u.__exportStar(s(11336),a),u.__exportStar(s(67128),a),u.__exportStar(s(86645),a)},86645:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.nl2br=void 0,a.nl2br=function(s){return s.replace(/\r\n|\r|\n/g,"<br/>")}},67128:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.sanitizeHTMLElement=a.safeHTML=void 0;var u=s(76502),d=s(24263);function h(p,m){var f=m===void 0?{safeJavaScriptLink:!0,removeOnError:!0}:m,g=f.safeJavaScriptLink,v=f.removeOnError;if(!d.Dom.isElement(p))return!1;var x=!1;v&&p.hasAttribute("onerror")&&((0,u.attr)(p,"onerror",null),x=!0);var y=p.getAttribute("href");return g&&y&&y.trim().indexOf("javascript")===0&&((0,u.attr)(p,"href",location.protocol+"//"+y),x=!0),x}a.safeHTML=function(p,m){(d.Dom.isElement(p)||d.Dom.isFragment(p))&&(m.removeOnError&&(h(p),(0,u.$$)("[onerror]",p).forEach(function(f){return h(f,m)})),m.safeJavaScriptLink&&(h(p),(0,u.$$)('a[href^="javascript"]',p).forEach(function(f){return h(f,m)})))},a.sanitizeHTMLElement=h},11336:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.stripTags=void 0;var u=s(24421),d=s(76502),h=s(33941),p=s(24263),m=new Set(["div","p","br","h1","h2","h3","h4","h5","h6","hr"]),f=new Set(["script","style"]);a.stripTags=function g(v,x,y){x===void 0&&(x=document),y===void 0&&(y=null);var b=x.createElement("div");return(0,u.isString)(v)?b.innerHTML=v:b.appendChild(v),(0,d.$$)("*",b).forEach(function(w){var _=w.parentNode;if(_){if(y&&p.Dom.isTag(w,y)){var S=w.nodeName.toLowerCase(),E=p.Dom.isTag(w,["br","hr","input"])?"%%%jodit-single-".concat(S,"%%%"):"%%%jodit-".concat(S,"%%%").concat(g(w.innerHTML,x,y),"%%%/jodit-").concat(S,"%%%");return p.Dom.before(w,x.createTextNode(E)),void p.Dom.safeRemove(w)}if(p.Dom.isTag(w,f))p.Dom.safeRemove(w);else if(p.Dom.isTag(w,m)){var A=w.nextSibling;p.Dom.isText(A)&&/^\s/.test(A.nodeValue||"")||A&&_.insertBefore(x.createTextNode(" "),A)}}}),(0,h.trim)(b.innerText).replace(/%%%(\/)?jodit(-single)?-([\w\n]+)%%%/g,function(w,_,S,E){return"<".concat(_?"/":"").concat(E,">")})}},40332:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(76502),a),u.__exportStar(s(12557),a),u.__exportStar(s(4696),a),u.__exportStar(s(10172),a),u.__exportStar(s(61354),a),u.__exportStar(s(13098),a),u.__exportStar(s(89693),a),u.__exportStar(s(90954),a),u.__exportStar(s(19035),a)},89693:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(48926),a),u.__exportStar(s(78648),a),u.__exportStar(s(74504),a),u.__exportStar(s(50870),a),u.__exportStar(s(76787),a),u.__exportStar(s(93251),a),u.__exportStar(s(91518),a),u.__exportStar(s(49353),a),u.__exportStar(s(64274),a)},64274:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeColor=void 0;var u=s(61354),d=s(19035);a.normalizeColor=function(h){var p=["#"],m=(0,u.colorToHex)(h);if(!m)return!1;if((m=(m=(0,d.trim)(m.toUpperCase())).substr(1)).length===3){for(var f=0;3>f;f+=1)p.push(m[f]),p.push(m[f]);return p.join("")}return m.length>6&&(m=m.substr(0,6)),"#"+m}},49353:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeCssValue=a.normalizeCssNumericValue=a.NUMBER_FIELDS_REG=void 0;var u=s(57649),d=s(11278),h=s(13203),p=s(24021);a.NUMBER_FIELDS_REG=/^(left|top|bottom|right|width|min|max|height|margin|padding|fontsize|font-size)/i,a.normalizeCssNumericValue=function(m,f){return!(0,p.isVoid)(f)&&a.NUMBER_FIELDS_REG.test(m)&&(0,u.isNumeric)(f.toString())?parseInt(f.toString(),10)+"px":f},a.normalizeCssValue=function(m,f){if((0,d.kebabCase)(m)==="font-weight"){switch(f.toString().toLowerCase()){case"700":case"bold":return 700;case"400":case"normal":return 400;case"900":case"heavy":return 900}return(0,u.isNumeric)(f)?Number(f):f}return/color/i.test(m)&&/^rgb/i.test(f.toString())&&(0,h.colorToHex)(f.toString())||f}},48926:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeKeyAliases=void 0;var u=s(33941),d=s(86893);a.normalizeKeyAliases=function(h){var p={},m={meta:1,ctrl:2,control:2,alt:3,shift:4};return h.replace(/\+\+/g,"+add").split(/[\s]*\+[\s]*/).map(function(f){return(0,u.trim)(f.toLowerCase())}).map(function(f){return d.KEY_ALIASES[f]||f}).sort(function(f,g){return m[f]&&!m[g]?-1:!m[f]&&m[g]?1:m[f]&&m[g]?m[f]-m[g]:f>g?1:-1}).filter(function(f){return!p[f]&&f!==""&&(p[f]=!0)}).join("+")}},78648:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeLicense=void 0,a.normalizeLicense=function(s,u){u===void 0&&(u=8);for(var d=[];s.length;)d.push(s.substr(0,u)),s=s.substr(u);return d[1]=d[1].replace(/./g,"*"),d[2]=d[2].replace(/./g,"*"),d.join("-")}},74504:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeNode=void 0;var u=s(86893),d=s(24263);a.normalizeNode=function h(p){if(p){if(d.Dom.isText(p)&&p.nodeValue!=null&&p.parentNode)for(;d.Dom.isText(p.nextSibling);)p.nextSibling.nodeValue!=null&&(p.nodeValue+=p.nextSibling.nodeValue),p.nodeValue=p.nodeValue.replace((0,u.INVISIBLE_SPACE_REG_EXP)(),""),d.Dom.safeRemove(p.nextSibling);else h(p.firstChild);h(p.nextSibling)}}},50870:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizePath=void 0;var u=s(19035);a.normalizePath=function(){for(var d=[],h=0;arguments.length>h;h++)d[h]=arguments[h];return d.filter(function(p){return(0,u.trim)(p).length}).map(function(p,m){return p=p.replace(/([^:])[\\/]+/g,"$1/"),m&&(p=p.replace(/^\//,"")),m!==d.length-1&&(p=p.replace(/\/$/,"")),p}).join("/")}},76787:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeRelativePath=void 0,a.normalizeRelativePath=function(s){return s.split("/").reduce(function(u,d){switch(d){case"":case".":break;case"..":u.pop();break;default:u.push(d)}return u},[]).join("/")+(s.endsWith("/")?"/":"")}},93251:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeSize=void 0,a.normalizeSize=function(s){return/^[0-9]+$/.test(s.toString())?s+"px":s.toString()}},91518:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeUrl=void 0,a.normalizeUrl=function(){for(var s=[],u=0;arguments.length>u;u++)s[u]=arguments[u];return s.filter(function(d){return d.length}).map(function(d){return d.replace(/\/$/,"")}).join("/").replace(/([^:])[\\/]+/g,"$1/")}},1684:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.getContentWidth=void 0,a.getContentWidth=function(s,u){var d=function(p){return parseInt(p,10)},h=u.getComputedStyle(s);return s.offsetWidth-d(h.getPropertyValue("padding-left")||"0")-d(h.getPropertyValue("padding-right")||"0")}},73874:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getScrollParent=void 0;var u=s(76502),d=s(24263);a.getScrollParent=function h(p){if(!p)return null;var m=d.Dom.isHTMLElement(p),f=m&&(0,u.css)(p,"overflowY");return m&&f!=="visible"&&f!=="hidden"&&p.scrollHeight>=p.clientHeight?p:h(p.parentNode)||document.scrollingElement||document.body}},90954:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(1684),a),u.__exportStar(s(73874),a),u.__exportStar(s(83810),a),u.__exportStar(s(98701),a),u.__exportStar(s(81710),a),u.__exportStar(s(16492),a)},83810:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.innerWidth=void 0,a.innerWidth=function(s,u){var d=u.getComputedStyle(s);return s.clientWidth-(parseFloat(d.paddingLeft||"0")+parseFloat(d.paddingRight||"0"))}},16492:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.size=void 0;var u=s(10172);a.size=function(d){return(0,u.isString)(d)||(0,u.isArray)(d)?d.length:(0,u.isPlainObject)(d)?Object.keys(d).length:0}},98701:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.offset=void 0,a.offset=function(s,u,d,h){var p;h===void 0&&(h=!1);try{p=s.getBoundingClientRect()}catch{p={top:0,bottom:0,left:0,right:0,width:0,height:0}}var m,f,g=d.body,v=d.documentElement||{clientTop:0,clientLeft:0,scrollTop:0,scrollLeft:0},x=d.defaultView||d.parentWindow,y=x.pageYOffset||v.scrollTop||g.scrollTop,b=x.pageXOffset||v.scrollLeft||g.scrollLeft,w=v.clientTop||g.clientTop||0,_=v.clientLeft||g.clientLeft||0,S=u.iframe;if(!h&&u&&u.options&&u.o.iframe&&S){var E=(0,a.offset)(S,u,u.od,!0);m=p.top+E.top,f=p.left+E.left}else m=p.top+y-w,f=p.left+b-_;return{top:Math.round(m),left:Math.round(f),width:p.width,height:p.height}}},81710:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.position=void 0;var u=s(77892);a.position=function d(h,p,m){m===void 0&&(m=!1);var f=h.getBoundingClientRect(),g=f.left,v=f.top;if((0,u.isJoditObject)(p)&&p.iframe&&p.ed.body.contains(h)&&!m){var x=d(p.iframe,p,!0);g+=x.left,v+=x.top}return{left:Math.round(g),top:Math.round(v),width:Math.round(h.offsetWidth),height:Math.round(h.offsetHeight)}}},26596:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.camelCase=void 0,a.camelCase=function(s){return s.replace(/([-_])(.)/g,function(u,d,h){return h.toUpperCase()})}},93163:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.fuzzySearchIndex=void 0;var u=s(86893);a.fuzzySearchIndex=function(d,h,p,m){p===void 0&&(p=0),m===void 0&&(m=1);var f=0,g=0,v=-1,x=0,y=0;for(g=p;d.length>f&&h.length>g;)d[f].toLowerCase()===h[g].toLowerCase()?(f++,x++,y=0,v===-1&&(v=g)):f>0&&(m>y||h[g]===u.INVISIBLE_SPACE?(y++,x++):(f=0,v=-1,x=0,y=0,g--)),g++;return f===d.length?[v,x]:[-1,0]}},11625:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.i18n=a.sprintf=void 0;var u=s(93166),d=s(76502),h=s(24421),p=s(13449),m=s(86893);a.sprintf=function(f,g){if(!g||!g.length)return f;for(var v=/%([sd])/g,x=v.exec(f),y=f,b=0;x&&g[b]!==void 0;)y=y.replace(x[0],g[b].toString()),b+=1,x=v.exec(f);return y},a.i18n=function(f,g,v){if(!(0,h.isString)(f))throw(0,d.error)("i18n: Need string in first argument");if(!f.length)return f;var x=!!(v!=null&&v.debugLanguage),y={},b=function(C){return g&&g.length?(0,a.sprintf)(C,g):C},w=(0,d.defaultLanguage)(u.Config.defaultOptions.language,u.Config.defaultOptions.language),_=(0,d.defaultLanguage)(v==null?void 0:v.language,w),S=function(C){if(C){if((0,h.isString)(C[f]))return b(C[f]);var M=f.toLowerCase();if((0,h.isString)(C[M]))return b(C[M]);var T=(0,p.ucfirst)(f);return(0,h.isString)(C[T])?b(C[T]):void 0}};m.lang[_]!==void 0?y=m.lang[_]:x||(y=m.lang[w]!==void 0?m.lang[w]:m.lang.en);var E=v==null?void 0:v.i18n;if(E&&E[_]){var A=S(E[_]);if(A)return A}return S(y)||(!x&&m.lang.en&&(0,h.isString)(m.lang.en[f])&&m.lang.en[f]?b(m.lang.en[f]):x?"{"+f+"}":b(f))}},19035:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(26596),a),u.__exportStar(s(93163),a),u.__exportStar(s(11625),a),u.__exportStar(s(11278),a),u.__exportStar(s(42554),a),u.__exportStar(s(33941),a),u.__exportStar(s(13449),a)},11278:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.CamelCaseToKebabCase=a.kebabCase=void 0,a.kebabCase=function(s){return s.replace(/([A-Z])([A-Z])([a-z])/g,"$1-$2$3").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()},a.CamelCaseToKebabCase=function(s){return s.replace(/([A-Z])([A-Z])([a-z])/g,"$1-$2$3").replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},42554:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.stringify=void 0,a.stringify=function(s,u){if(u===void 0&&(u={}),typeof s!="object")return String(s);var d=new Set(u.excludeKeys),h=new WeakMap;return JSON.stringify(s,function(p,m){if(!d.has(p)){if(typeof m=="object"&&m!=null){if(h.get(m))return"[refObject]";h.set(m,!0)}return m}},u.prettify)}},33941:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.trimInv=a.trim=void 0;var u=s(86893);a.trim=function(d){return d.replace((0,u.SPACE_REG_EXP_END)(),"").replace((0,u.SPACE_REG_EXP_START)(),"")},a.trimInv=function(d){return d.replace((0,u.INVISIBLE_SPACE_REG_EXP_END)(),"").replace((0,u.INVISIBLE_SPACE_REG_EXP_START)(),"")}},13449:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ucfirst=void 0,a.ucfirst=function(s){return s.length?s[0].toUpperCase()+s.substr(1):""}},60303:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.alignElement=a.clearAlign=a.hAlignElement=void 0;var u=s(64968),d=s(26911);function h(p){u.Dom.each(p,function(m){u.Dom.isHTMLElement(m)&&m.style.textAlign&&(m.style.textAlign="",m.style.cssText.trim().length||m.removeAttribute("style"))})}a.hAlignElement=function(p,m){m&&m!=="normal"?m!=="center"?((0,d.css)(p,"float",m),(0,d.clearCenterAlign)(p)):(0,d.css)(p,{float:"",display:"block",marginLeft:"auto",marginRight:"auto"}):((0,d.css)(p,"float")&&["right","left"].indexOf((0,d.css)(p,"float").toString().toLowerCase())!==-1&&(0,d.css)(p,"float",""),(0,d.clearCenterAlign)(p))},a.clearAlign=h,a.alignElement=function(p,m){if(u.Dom.isNode(m)&&u.Dom.isElement(m))switch(h(m),p.toLowerCase()){case"justifyfull":m.style.textAlign="justify";break;case"justifyright":m.style.textAlign="right";break;case"justifyleft":m.style.textAlign="left";break;case"justifycenter":m.style.textAlign="center"}}},62462:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.loadNextStyle=a.loadNext=a.appendStyleAsync=a.appendScriptAsync=a.appendScript=void 0;var u=s(20255),d=s(48240),h=s(42096),p=s(24421),m=new Map,f=function(g){return function(v,x){return u.__awaiter(void 0,void 0,Promise,function(){var y;return u.__generator(this,function(b){return m.has(x)?[2,m.get(x)]:(y=g(v,x),m.set(x,y),[2,y])})})}};a.appendScript=function(g,v,x){var y=g.c.element("script");return y.type="text/javascript",y.async=!0,(0,h.isFunction)(x)&&!g.isInDestruct&&g.e.on(y,"load",x),y.src||(y.src=(0,d.completeUrl)(v)),g.od.body.appendChild(y),{callback:x,element:y}},a.appendScriptAsync=f(function(g,v){return new Promise(function(x,y){var b=(0,a.appendScript)(g,v,x).element;!g.isInDestruct&&g.e.on(b,"error",y)})}),a.appendStyleAsync=f(function(g,v){return new Promise(function(x,y){var b=g.c.element("link");b.rel="stylesheet",b.media="all",b.crossOrigin="anonymous",!g.isInDestruct&&g.e.on(b,"load",function(){return x(b)}).on(b,"error",y),b.href=(0,d.completeUrl)(v),g.o.shadowRoot?g.o.shadowRoot.appendChild(b):g.od.body.appendChild(b)})}),a.loadNext=function(g,v,x){return x===void 0&&(x=0),(0,p.isString)(v[x])?(0,a.appendScriptAsync)(g,v[x]).then(function(){return(0,a.loadNext)(g,v,x+1)}):Promise.resolve()},a.loadNextStyle=function(g,v,x){return x===void 0&&(x=0),(0,p.isString)(v[x])?(0,a.appendStyleAsync)(g,v[x]).then(function(){return(0,a.loadNextStyle)(g,v,x+1)}):Promise.resolve()}},603:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.assert=void 0;var u=s(20255),d=function(h){function p(m){var f=h.call(this,m)||this;return f.name="AssertionError",f}return u.__extends(p,h),p}(Error);a.assert=function(h,p){if(!h)throw new d("Assertion failed: ".concat(p))}},37682:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.browser=void 0,a.browser=function(s){var u=navigator.userAgent.toLowerCase(),d=/(firefox)[\s/]([\w.]+)/.exec(u)||/(chrome)[\s/]([\w.]+)/.exec(u)||/(webkit)[\s/]([\w.]+)/.exec(u)||/(opera)(?:.*version)[\s/]([\w.]+)/.exec(u)||/(msie)[\s]([\w.]+)/.exec(u)||/(trident)\/([\w.]+)/.exec(u)||0>u.indexOf("compatible")||[];return s==="version"?d[2]:s==="webkit"?d[1]==="chrome"||d[1]==="webkit":s==="ff"?d[1]==="firefox":s==="msie"?d[1]==="trident"||d[1]==="msie":d[1]===s}},71567:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.buildQuery=void 0;var u=s(79736);a.buildQuery=function(d,h){var p=[],m=encodeURIComponent;for(var f in d)if(Object.prototype.hasOwnProperty.call(d,f)){var g=h?h+"["+f+"]":f,v=d[f];p.push((0,u.isPlainObject)(v)?(0,a.buildQuery)(v,g):m(g)+"="+m(v))}return p.join("&")}},48240:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.completeUrl=void 0,a.completeUrl=function(s){return window.location.protocol==="file:"&&/^\/\//.test(s)&&(s="https:"+s),s}},64981:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ConfigFlatten=a.ConfigProto=void 0;var u=s(20255),d=s(7935),h=s(49781),p=s(79736),m=s(24421),f=s(24021),g=s(93166),v=s(67309);a.ConfigProto=function x(y,b,w){if(w===void 0&&(w=0),Object.getPrototypeOf(y)!==Object.prototype)return y;var _=g.Config.defaultOptions;if((0,m.isString)(y.preset)){if(_.presets[y.preset]!==void 0){var S=_.presets[y.preset];Object.keys(S).forEach(function(A){(0,f.isVoid)(y[A])&&(y[A]=S[A])})}delete y.preset}var E={};return Object.keys(y).forEach(function(A){var C=y[A],M=b?b[A]:null;E[A]=(0,p.isPlainObject)(C)&&(0,p.isPlainObject)(M)&&!(0,d.isAtom)(C)?x(C,M,w+1):w!==0&&(0,h.isArray)(C)&&!(0,d.isAtom)(C)&&(0,h.isArray)(M)?u.__spreadArray(u.__spreadArray([],u.__read(C),!1),u.__read(M.slice(C.length)),!1):C}),Object.setPrototypeOf(E,b),E},a.ConfigFlatten=function(x){return(0,v.keys)(x,!1).reduce(function(y,b){return y[b]=x[b],y},{})}},42051:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.convertMediaUrlToVideoEmbed=void 0;var u=s(64350),d=s(67285);a.convertMediaUrlToVideoEmbed=function(h,p,m){if(p===void 0&&(p=400),m===void 0&&(m=345),!(0,u.isURL)(h))return h;var f=document.createElement("a"),g=/(?:http?s?:\/\/)?(?:www\.)?(?:vimeo\.com)\/?(.+)/g;f.href=h,p||(p=400),m||(m=345);var v=f.protocol||"";switch(f.hostname){case"www.vimeo.com":case"vimeo.com":return g.test(h)?h.replace(g,'<iframe width="'+p+'" height="'+m+'" src="'+v+'//player.vimeo.com/video/$1" frameborder="0" allowfullscreen></iframe>'):h;case"youtube.com":case"www.youtube.com":case"youtu.be":case"www.youtu.be":var x=f.search?(0,d.parseQuery)(f.search):{v:f.pathname.substr(1)};return x.v?'<iframe width="'+p+'" height="'+m+'" src="'+v+"//www.youtube.com/embed/"+x.v+'" frameborder="0" allowfullscreen></iframe>':h}return h}},26911:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.clearCenterAlign=a.css=void 0;var u=s(79736),d=s(67749),h=s(49353),p=s(26596),m=s(11278);function f(g,v,x,y){if(y===void 0&&(y=!1),(0,d.isBoolean)(x)&&(y=x,x=void 0),(0,u.isPlainObject)(v)||x!==void 0){var b=function(T,k,P){(P=(0,h.normalizeCssNumericValue)(k,P))===void 0||P!=null&&f(T,k,!0)===(0,h.normalizeCssValue)(k,P)||(T.style[k]=P)};if((0,u.isPlainObject)(v))for(var w=Object.keys(v),_=0;w.length>_;_+=1)b(g,(0,p.camelCase)(w[_]),v[w[_]]);else b(g,(0,p.camelCase)(v),x);return""}var S=(0,m.kebabCase)(v),E=g.ownerDocument||document,A=!!E&&(E.defaultView||E.parentWindow),C=g.style[v],M="";return C!==void 0&&C!==""?M=C:A&&!y&&(M=A.getComputedStyle(g).getPropertyValue(S)),h.NUMBER_FIELDS_REG.test(v)&&/^[-+]?[0-9.]+px$/.test(M.toString())&&(M=parseInt(M.toString(),10)),(0,h.normalizeCssValue)(v,M)}a.css=f,a.clearCenterAlign=function(g){f(g,"display")==="block"&&f(g,"display","");var v=g.style;v.marginLeft==="auto"&&v.marginRight==="auto"&&(v.marginLeft="",v.marginRight="")}},2522:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ctrlKey=void 0,a.ctrlKey=function(s){if(typeof navigator<"u"&&navigator.userAgent.indexOf("Mac OS X")!==-1){if(s.metaKey&&!s.altKey)return!0}else if(s.ctrlKey&&!s.altKey)return!0;return!1}},63122:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.dataBind=void 0;var u=s(96574),d=new WeakMap;a.dataBind=function(h,p,m){var f=d.get(h);if(!f){d.set(h,f={});var g=null;(0,u.isViewObject)(h.j)&&(g=h.j.e),(0,u.isViewObject)(h)&&(g=h.e),g&&g.on("beforeDestruct",function(){d.delete(h)})}return m===void 0?f[p]:(f[p]=m,m)}},93351:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.defaultLanguage=void 0;var u=s(24421);a.defaultLanguage=function(d,h){return h===void 0&&(h="en"),d!=="auto"&&(0,u.isString)(d)?d:document.documentElement&&document.documentElement.lang?document.documentElement.lang:navigator.language?navigator.language.substring(0,2):h}},41579:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isAbort=a.abort=a.options=a.connection=a.error=void 0;var u=s(45339);a.error=function(d){return new TypeError(d)},a.connection=function(d){return new u.ConnectionError(d)},a.options=function(d){return new u.OptionsError(d)},a.abort=function(d){return new u.AbortError(d)},a.isAbort=function(d){return d instanceof u.AbortError}},86768:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.AbortError=void 0;var u=s(20255),d=function(h){function p(m){var f=h.call(this,m)||this;return Object.setPrototypeOf(f,p.prototype),f}return u.__extends(p,h),p}(Error);a.AbortError=d},43380:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ConnectionError=void 0;var u=s(20255),d=function(h){function p(m){var f=h.call(this,m)||this;return Object.setPrototypeOf(f,p.prototype),f}return u.__extends(p,h),p}(Error);a.ConnectionError=d},45339:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(86768),a),u.__exportStar(s(43380),a),u.__exportStar(s(47403),a)},47403:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.OptionsError=void 0;var u=s(20255),d=function(h){function p(m){var f=h.call(this,m)||this;return Object.setPrototypeOf(f,p.prototype),f}return u.__extends(p,h),p}(TypeError);a.OptionsError=d},56964:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(41579),a),u.__exportStar(s(45339),a)},7935:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.fastClone=a.markAsAtomic=a.isAtom=void 0;var u=s(42554);a.isAtom=function(d){return d&&d.isAtom},a.markAsAtomic=function(d){return Object.defineProperty(d,"isAtom",{enumerable:!1,value:!0,configurable:!1}),d},a.fastClone=function(d){return JSON.parse((0,u.stringify)(d))}},87247:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getClassName=a.keepNames=void 0;var u=s(42096);a.keepNames=new Map,a.getClassName=function(d){var h;if((0,u.isFunction)(d.className))return d.className();var p=((h=d.constructor)===null||h===void 0?void 0:h.originalConstructor)||d.constructor;if(a.keepNames.has(p))return a.keepNames.get(p);if(p.name)return p.name;var m=new RegExp(/^\s*function\s*(\S*)\s*\(/),f=p.toString().match(m);return f?f[1]:""}},69384:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.get=void 0;var u=s(20255),d=s(24421),h=s(24021);a.get=function(p,m){var f,g;if(!(0,d.isString)(p)||!p.length)return null;var v=p.split("."),x=m;try{try{for(var y=u.__values(v),b=y.next();!b.done;b=y.next()){var w=b.value;if((0,h.isVoid)(x[w]))return null;x=x[w]}}catch(_){f={error:_}}finally{try{b&&!b.done&&(g=y.return)&&g.call(y)}finally{if(f)throw f.error}}}catch{return null}return(0,h.isVoid)(x)?null:x}},6102:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.humanSizeToBytes=void 0,a.humanSizeToBytes=function(s){if(/^[0-9.]+$/.test(s.toString()))return parseFloat(s);var u=s.substr(-2,2).toUpperCase(),d=["KB","MB","GB","TB"],h=parseFloat(s.substr(0,s.length-2));return d.indexOf(u)!==-1?h*Math.pow(1024,d.indexOf(u)+1):parseInt(s,10)}},76502:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(60303),a),u.__exportStar(s(62462),a),u.__exportStar(s(52378),a),u.__exportStar(s(37682),a),u.__exportStar(s(71567),a),u.__exportStar(s(48240),a),u.__exportStar(s(64981),a),u.__exportStar(s(42051),a),u.__exportStar(s(26911),a),u.__exportStar(s(2522),a),u.__exportStar(s(63122),a),u.__exportStar(s(93351),a),u.__exportStar(s(56964),a),u.__exportStar(s(7935),a),u.__exportStar(s(69384),a),u.__exportStar(s(87247),a),u.__exportStar(s(6102),a),u.__exportStar(s(47580),a),u.__exportStar(s(67285),a),u.__exportStar(s(21498),a),u.__exportStar(s(80861),a),u.__exportStar(s(9005),a),u.__exportStar(s(54188),a),u.__exportStar(s(21518),a),u.__exportStar(s(37228),a),u.__exportStar(s(67309),a),u.__exportStar(s(22362),a)},47580:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.markDeprecated=a.cns=void 0;var u=s(20255);a.cns=console,a.markDeprecated=function(d,h,p){return h===void 0&&(h=[""]),p===void 0&&(p=null),function(){for(var m=[],f=0;arguments.length>f;f++)m[f]=arguments[f];return a.cns.warn('Method "'.concat(h[0],'" deprecated.')+(h[1]?' Use "'.concat(h[1],'" instead'):"")),d.call.apply(d,u.__spreadArray([p],u.__read(m),!1))}}},67285:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.parseQuery=void 0,a.parseQuery=function(s){for(var u={},d=s.substring(1).split("&"),h=0;d.length>h;h+=1){var p=d[h].split("=");u[decodeURIComponent(p[0])]=decodeURIComponent(p[1]||"")}return u}},21498:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.previewBox=void 0;var u=s(24421),d=s(24263),h=s(26911),p=s(67309),m=s(54188);a.previewBox=function(f,g,v,x){v===void 0&&(v="px"),x===void 0&&(x=null);var y=function(M,T){var k=[];try{(0,m.$$)("img",M.editor).forEach(function(P){var D=[(0,p.attr)(P,"width"),(0,p.attr)(P,"height"),P.src];(0,p.attr)(P,{width:P.offsetWidth+T,height:P.offsetHeight+T});var I=M.createInside.a();M.ed.body.appendChild(I),I.href=P.src,P.src=I.href,d.Dom.safeRemove(I),k.push(function(){var O;P.src=(O=D[2])!==null&&O!==void 0?O:"",(0,p.attr)(P,{width:D[0]||null,height:D[1]||null})})})}catch(P){throw k.forEach(function(D){return D()}),k.length=0,P}return k}(f,v);try{var b=f.e.fire("beforePreviewBox",g,v);if(b!=null)return b;var w=f.c.div("jodit__preview-box jodit-context");x&&x.appendChild(w),(0,h.css)(w,{position:"relative",padding:16});var _=f.value||"<div style='position: absolute;left:50%;top:50%;transform: translateX(-50%) translateY(-50%);color:#ccc;'>".concat(f.i18n("Empty"),"</div>");if(f.iframe){var S=f.create.element("iframe");(0,h.css)(S,{minWidth:800,minHeight:600,border:0}),w.appendChild(S);var E=S.contentWindow;if(E&&(f.e.fire("generateDocumentStructure.iframe",E.document,f),w=E.document.body,typeof ResizeObserver=="function")){var A=new ResizeObserver(function(M){S.style.height=E.document.body.offsetHeight+20+"px"});A.observe(E.document.body),f.e.on("beforeDestruct",function(){A.unobserve(E.document.body)})}}else(0,h.css)(w,{minWidth:1024,minHeight:600,border:0});var C=function(M,T){var k=(0,u.isString)(T)?f.c.div():T;(0,u.isString)(T)&&(k.innerHTML=T);for(var P=0;k.childNodes.length>P;P+=1){var D=k.childNodes[P];if(d.Dom.isElement(D)){for(var I=M.ownerDocument.createElement(D.nodeName),O=0;D.attributes.length>O;O+=1)(0,p.attr)(I,D.attributes[O].nodeName,D.attributes[O].nodeValue);D.childNodes.length===0||d.Dom.isTag(D,["table"])?D.nodeName==="SCRIPT"?D.textContent&&(I.textContent=D.textContent):D.innerHTML&&(I.innerHTML=D.innerHTML):C(I,D);try{M.appendChild(I)}catch{}}else try{M.appendChild(D.cloneNode(!0))}catch{}}};return C(w,_),f.e.fire("afterPreviewBox",w),w}finally{y.forEach(function(M){return M()})}}},80861:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.reset=void 0;var u=s(69384),d=s(42096),h={};a.reset=function(p){var m,f;if(!(p in h)){var g=document.createElement("iframe");try{if(g.src="about:blank",document.body.appendChild(g),!g.contentWindow)return null;var v=(0,u.get)(p,g.contentWindow),x=(0,u.get)(p.split(".").slice(0,-1).join("."),g.contentWindow);(0,d.isFunction)(v)&&(h[p]=v.bind(x))}catch{}finally{(m=g.parentNode)===null||m===void 0||m.removeChild(g)}}return(f=h[p])!==null&&f!==void 0?f:null}},9005:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.scrollIntoViewIfNeeded=a.inView=void 0;var u=s(24263);a.inView=function(d,h,p){var m=d.getBoundingClientRect(),f=d,g=m.top,v=m.height;do if(f&&f.parentNode&&((m=(f=f.parentNode).getBoundingClientRect()).bottom<g||m.top>=g+v))return!1;while(f&&f!==h&&f.parentNode);return(p.documentElement&&p.documentElement.clientHeight||0)>=g},a.scrollIntoViewIfNeeded=function(d,h,p){u.Dom.isHTMLElement(d)&&!(0,a.inView)(d,h,p)&&(h.clientHeight!==h.scrollHeight&&(h.scrollTop=d.offsetTop),(0,a.inView)(d,h,p)||d.scrollIntoView())}},54188:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.resolveElement=a.cssPath=a.refs=a.getXPathByElement=a.$$=void 0;var u=s(86893),d=s(24421),h=s(76502),p=s(24263),m=s(26596),f=s(1853),g=s(53929),v=s(45113),x=1;function y(b,w){var _;if(!/:scope/.test(b)||!u.IS_IE||w&&w.nodeType===Node.DOCUMENT_NODE)_=w.querySelectorAll(b);else{var S=w.id,E=S||"_selector_id_"+String(Math.random()).slice(2)+ ++x;b=b.replace(/:scope/g,"#"+E),!S&&w.setAttribute("id",E),_=w.parentNode.querySelectorAll(b),S||w.removeAttribute("id")}return[].slice.call(_)}a.$$=y,a.getXPathByElement=function(b,w){if(!b||b.nodeType!==Node.ELEMENT_NODE||!b.parentNode||w===b)return"";if(b.id)return"//*[@id='"+b.id+"']";var _=[].filter.call(b.parentNode.childNodes,function(S){return S.nodeName===b.nodeName});return(0,a.getXPathByElement)(b.parentNode,w)+"/"+b.nodeName.toLowerCase()+(_.length>1?"["+((0,f.toArray)(_).indexOf(b)+1)+"]":"")},a.refs=function(b){return v.Component.isInstanceOf(b,g.UIElement)&&(b=b.container),y("[ref],[data-ref]",b).reduce(function(w,_){var S=(0,h.attr)(_,"-ref");return S&&(0,d.isString)(S)&&(w[(0,m.camelCase)(S)]=_,w[S]=_),w},{})},a.cssPath=function(b){if(!p.Dom.isElement(b))return null;for(var w=[],_=b;_&&_.nodeType===Node.ELEMENT_NODE;){var S=_.nodeName.toLowerCase();if(_.id){w.unshift(S+="#"+_.id);break}var E=_,A=1;do(E=E.previousElementSibling)&&E.nodeName.toLowerCase()===S&&A++;while(E);w.unshift(S+=":nth-of-type("+A+")"),_=_.parentNode}return w.join(" > ")},a.resolveElement=function(b,w){var _=b;if((0,d.isString)(b))try{_=w.querySelector(b)}catch{throw(0,h.error)('String "'+b+'" should be valid HTML selector')}if(!_||typeof _!="object"||!p.Dom.isElement(_)||!_.cloneNode)throw(0,h.error)('Element "'+b+'" should be string or HTMLElement instance');return _}},21518:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.set=void 0;var u=s(24421),d=s(57649),h=s(49781),p=s(79736);a.set=function(m,f,g){if((0,u.isString)(m)&&m.length){for(var v=m.split("."),x=g,y=v[0],b=0;v.length-1>b;b+=1)(0,h.isArray)(x[y=v[b]])||(0,p.isPlainObject)(x[y])||(x[y]=(0,d.isNumeric)(v[b+1])?[]:{}),x=x[y];x&&(x[v[v.length-1]]=f)}}},37228:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.LimitedStack=void 0;var s=function(){function u(d){this.limit=d,this.stack=[]}return u.prototype.push=function(d){return this.stack.push(d),this.stack.length>this.limit&&this.stack.shift(),this},u.prototype.pop=function(){return this.stack.pop()},u.prototype.find=function(d){return this.stack.find(d)},u}();a.LimitedStack=s},67309:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getDataTransfer=a.memorizeExec=a.keys=a.loadImage=a.callPromise=a.markOwner=a.attr=a.call=void 0;var u=s(20255),d=s(42096),h=s(26335),p=s(24021),m=s(79736),f=s(24421),g=s(63122),v=s(26911),x=s(11278);function y(b,w,_){if(!b||!(0,d.isFunction)(b.getAttribute))return null;if(!(0,f.isString)(w))return Object.keys(w).forEach(function(A){var C=w[A];(0,m.isPlainObject)(C)&&A==="style"?(0,v.css)(b,C):(A==="className"&&(A="class"),y(b,A,C))}),null;var S=(0,x.CamelCaseToKebabCase)(w);if(/^-/.test(S)){var E=y(b,"data".concat(S));if(E)return E;S=S.substr(1)}if(_!==void 0){if(_!=null)return b.setAttribute(S,_.toString()),_.toString();b.hasAttribute(S)&&b.removeAttribute(S)}return b.getAttribute(S)}a.call=function(b){for(var w=[],_=1;arguments.length>_;_++)w[_-1]=arguments[_];return b.apply(void 0,u.__spreadArray([],u.__read(w),!1))},a.attr=y,a.markOwner=function(b,w){y(w,"data-editor_id",b.id),!w.component&&Object.defineProperty(w,"jodit",{value:b})},a.callPromise=function(b,w){return(0,h.isPromise)(b)?b.finally(w):w()},a.loadImage=function(b,w){return w.async.promise(function(_,S){var E=new Image,A=function(){w.e.off(E),S==null||S()},C=function(){w.e.off(E),_(E)};w.e.one(E,"load",C).one(E,"error",A).one(E,"abort",A),E.src=b,E.complete&&C()})},a.keys=function(b,w){if(w===void 0&&(w=!0),w)return Object.keys(b);var _=[];for(var S in b)_.push(S);return _},a.memorizeExec=function(b,w,_,S){var E,A=_.control,C="button".concat(A.command),M=(E=A.args&&A.args[0])!==null&&E!==void 0?E:(0,g.dataBind)(b,C);if((0,p.isVoid)(M))return!1;(0,g.dataBind)(b,C,M),S&&(M=S(M)),b.execCommand(A.command,!1,M??void 0)},a.getDataTransfer=function(b){if(b.clipboardData)return b.clipboardData;try{return b.dataTransfer||new DataTransfer}catch{return null}}},22362:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.val=void 0,a.val=function(s,u,d){var h=s.querySelector(u);return h?(d&&(h.value=d),h.value):""}},33286:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.init=a.initInstance=void 0;var u=s(10172),d=s(90338);function h(p,m,f,g,v){var x=f.requires;if(x!=null&&x.length&&!x.every(function(y){return g.has(y)}))return v[m]=f,!1;if((0,u.isInitable)(f))try{f.init(p)}catch{}return g.add(m),delete v[m],f.hasStyle&&(0,d.loadStyle)(p,m).catch(function(y){}),!0}a.initInstance=function(p,m,f,g,v){h(p,m,f,g,v)&&Object.keys(v).forEach(function(x){h(p,x,v[x],g,v)})},a.init=h},90338:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.loadExtras=a.loadStyle=void 0;var u=s(20255),d=s(62462),h=s(11278),p=s(93498),m=new Set;function f(g,v,x){return v=(0,h.kebabCase)(v),g.basePath+"plugins/"+v+"/"+v+"."+(x?"js":"css")}a.loadStyle=function(g,v){return u.__awaiter(this,void 0,Promise,function(){var x;return u.__generator(this,function(y){return x=f(g,v,!1),m.has(x)?[2]:(m.add(x),[2,(0,d.appendStyleAsync)(g,x)])})})},a.loadExtras=function(g,v,x,y){try{var b=x.filter(function(w){return!g.has((0,p.normalizeName)(w.name))});b.length&&function(w,_,S){_.map(function(E){var A=E.url||f(w,E.name,!0);return(0,d.appendScriptAsync)(w,A).then(S).catch(function(){return null})})}(v,b,y)}catch{}}},24342:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.makeInstance=void 0;var u=s(10172);a.makeInstance=function(d,h){try{try{return(0,u.isFunction)(h)?new h(d):h}catch{if((0,u.isFunction)(h)&&!h.prototype)return h(d)}}catch{}return null}},93498:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.normalizeName=void 0;var u=s(11278);a.normalizeName=function(d){return(0,u.kebabCase)(d).toLowerCase()}},57549:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(44540),a),u.__exportStar(s(85605),a)},13573:function(){},44540:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.PluginSystem=void 0;var u=s(20255);s(13573);var d=s(10172),h=s(12557),p=s(17332),m=s(90338),f=s(93498),g=s(24342),v=s(33286),x=function(){function y(){this.__items=new Map}return y.prototype.add=function(b,w){this.__items.set((0,f.normalizeName)(b),w),p.eventEmitter.fire("plugin:".concat(b,":ready"))},y.prototype.get=function(b){return this.__items.get((0,f.normalizeName)(b))},y.prototype.remove=function(b){this.__items.delete((0,f.normalizeName)(b))},y.prototype.__filter=function(b){var w=[];return this.__items.forEach(function(_,S){b&&!b.has(S)||w.push([S,_])}),w},y.prototype.__init=function(b){var w=this,_=function(P){return{extrasList:P.o.extraPlugins.map(function(D){return(0,d.isString)(D)?{name:D}:D}),disableList:new Set((0,h.splitArray)(P.o.disablePlugins).map(f.normalizeName)),filter:P.o.safeMode?new Set(P.o.safePluginsList):null}}(b),S=_.extrasList,E=_.disableList,A=_.filter,C=new Set,M={},T={};b.__plugins=T;var k=function(){if(!b.isInDestruct){var P=!1;w.__filter(A).forEach(function(D){var I=u.__read(D,2),O=I[0],j=I[1];if(!(E.has(O)||C.has(O)||M[O])){var N=j==null?void 0:j.requires;if(!(N&&(0,d.isArray)(N)&&N.some(function(F){return E.has(F)}))){P=!0;var R=(0,g.makeInstance)(b,j);if(!R)return C.add(O),void delete M[O];(0,v.initInstance)(b,O,R,C,M),T[O]=R}}}),P&&b.e.fire("updatePlugins")}};S&&S.length||(0,m.loadExtras)(this.__items,b,S,k),k(),function(P,D){P.e.on("beforeDestruct",function(){Object.keys(D).forEach(function(I){var O=D[I];(0,d.isDestructable)(O)&&O.destruct(P),delete D[I]}),delete P.__plugins})}(b,T)},y.prototype.wait=function(b){var w=this;return new Promise(function(_){if(w.get(b))return _();var S=function(){_(),p.eventEmitter.off("plugin:".concat(b,":ready"),S)};p.eventEmitter.on("plugin:".concat(b,":ready"),S)})},y}();a.PluginSystem=x},85605:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Plugin=void 0;var u=s(20255),d=s(56562),h=s(43441),p=s(40332),m=function(f){function g(v){var x=f.call(this,v)||this;return x.requires=[],x.buttons=[],x.hasStyle=!1,v.e.on("afterPluginSystemInit",function(){var y;(0,p.isJoditObject)(v)&&((y=x.buttons)===null||y===void 0||y.forEach(function(b){v.registerButton(b)}))}).on("afterInit",function(){x.setStatus(d.STATUSES.ready),x.afterInit(v)}).on("beforeDestruct",x.destruct),x}return u.__extends(g,f),g.prototype.className=function(){return""},g.prototype.init=function(v){},g.prototype.destruct=function(){var v,x,y;if(this.isReady){this.setStatus(d.STATUSES.beforeDestruct);var b=this.j;(0,p.isJoditObject)(b)&&((v=this.buttons)===null||v===void 0||v.forEach(function(w){b==null||b.unregisterButton(w)})),(y=(x=this.j)===null||x===void 0?void 0:x.events)===null||y===void 0||y.off("beforeDestruct",this.destruct),this.beforeDestruct(this.j),f.prototype.destruct.call(this)}},u.__decorate([h.autobind],g.prototype,"destruct",null),g}(d.ViewComponent);a.Plugin=m},9917:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Ajax=void 0;var u=s(20255),d=s(93166),h=s(40332),p=s(56964),m=s(86101),f=s(22630),g=s(43441);s(12144);var v=function(){function x(y,b){b===void 0&&(b=d.Config.prototype.defaultAjaxOptions),this.__async=new f.Async,this.__isFulfilled=!1,this.__activated=!1,this.__isDestructed=!1,this.options=(0,h.ConfigProto)(y||{},b),this.xhr=this.o.xhr?this.o.xhr():new XMLHttpRequest}return x.prototype.__buildParams=function(y,b){return(0,h.isPlainObject)(y)&&this.options.contentType&&this.options.contentType.includes("application/json")?JSON.stringify(y):(0,h.isFunction)(this.o.queryBuild)?this.o.queryBuild.call(this,y,b):(0,h.isString)(y)||y instanceof window.FormData||typeof y=="object"&&y!=null&&(0,h.isFunction)(y.append)?y:(0,h.buildQuery)(y)},Object.defineProperty(x.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),x.prototype.abort=function(){if(this.__isFulfilled)return this;try{this.__isFulfilled=!0,this.xhr.abort()}catch{}return this},x.prototype.send=function(){var y=this;this.__activated=!0;var b=this.xhr,w=this.o,_=this.prepareRequest();return this.__async.promise(function(S,E){return u.__awaiter(y,void 0,void 0,function(){var A,C,M,T,k,P=this;return u.__generator(this,function(D){switch(D.label){case 0:return A=function(){P.__isFulfilled=!0,E(p.connection("Connection error"))},b.onload=C=function(){P.__isFulfilled=!0,S(new m.Response(_,b.status,b.statusText,b.responseType?b.response:b.responseText))},b.onabort=function(){P.__isFulfilled=!0,E(p.abort("Abort connection"))},b.onerror=A,b.ontimeout=A,w.responseType&&(b.responseType=w.responseType),b.onprogress=function(I){var O,j,N=0;I.lengthComputable&&(N=I.loaded/I.total*100),(j=(O=P.options).onProgress)===null||j===void 0||j.call(O,N)},b.onreadystatechange=function(){var I,O;(O=(I=P.options).onProgress)===null||O===void 0||O.call(I,10),b.readyState===XMLHttpRequest.DONE&&(w.successStatuses.includes(b.status)?C():b.statusText&&(P.__isFulfilled=!0,E(p.connection(b.statusText))))},b.withCredentials=(k=w.withCredentials)!==null&&k!==void 0&&k,M=_.data,b.open(_.method,_.url,!0),w.contentType&&b.setRequestHeader&&b.setRequestHeader("Content-type",w.contentType),(0,h.isFunction)(T=w.headers)?[4,T.call(this)]:[3,2];case 1:T=D.sent(),D.label=2;case 2:return T&&b.setRequestHeader&&Object.keys(T).forEach(function(I){b.setRequestHeader(I,T[I])}),this.__async.setTimeout(function(){b.send(M?P.__buildParams(M):void 0)},0),[2]}})})})},x.prototype.prepareRequest=function(){if(!this.o.url)throw p.error("Need URL for AJAX request");var y=this.o.url,b=this.o.data,w=(this.o.method||"get").toLowerCase();if(w==="get"&&b&&(0,h.isPlainObject)(b)){var _=y.indexOf("?");if(_!==-1){var S=(0,h.parseQuery)(y);y=y.substring(0,_)+"?"+(0,h.buildQuery)(u.__assign(u.__assign({},S),b))}else y+="?"+(0,h.buildQuery)(this.o.data)}var E={url:y,method:w,data:b};return x.log.splice(100),x.log.push(E),E},x.prototype.destruct=function(){this.__isDestructed||(this.__isDestructed=!0,this.__activated&&!this.__isFulfilled&&(this.abort(),this.__isFulfilled=!0),this.__async.destruct())},x.log=[],u.__decorate([g.autobind],x.prototype,"destruct",null),x}();a.Ajax=v},12144:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.defaultAjaxOptions={successStatuses:[200,201,202],method:"GET",url:"",data:null,contentType:"application/x-www-form-urlencoded; charset=UTF-8",headers:{"X-REQUESTED-WITH":"XMLHttpRequest"},withCredentials:!1,xhr:function(){return new XMLHttpRequest}}},30056:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(9917),a),u.__exportStar(s(86101),a)},86101:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Response=void 0;var u=s(20255),d=function(){function h(p,m,f,g){this.request=p,this.status=m,this.statusText=f,this.body=g}return Object.defineProperty(h.prototype,"url",{get:function(){return this.request.url},enumerable:!1,configurable:!0}),h.prototype.json=function(){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(p){return[2,JSON.parse(this.body)]})})},h.prototype.text=function(){return Promise.resolve(this.body)},h.prototype.blob=function(){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(p){return[2,this.body]})})},h}();a.Response=d},10109:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(287),a),u.__exportStar(s(10264),a)},287:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.moveNodeInsideStart=void 0;var u=s(64968),d=s(86893);a.moveNodeInsideStart=function(h,p,m){for(var f=u.Dom.findSibling(p,m),g=u.Dom.findSibling(p,!m);u.Dom.isElement(f)&&!u.Dom.isTag(f,d.INSEPARABLE_TAGS)&&u.Dom.isContentEditable(f,h.editor)&&(!g||!u.Dom.closest(p,u.Dom.isElement,h.editor));)m||!f.firstChild?f.appendChild(p):u.Dom.before(f.firstChild,p),f=u.Dom.sibling(p,m),g=u.Dom.sibling(p,!m)}},10264:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.moveTheNodeAlongTheEdgeOutward=void 0;var u=s(64968);a.moveTheNodeAlongTheEdgeOutward=function(d,h,p){for(var m=d;m&&m!==p;){if(u.Dom.findSibling(m,h))return;(m=m.parentElement)&&m!==p&&(h?u.Dom.before(m,d):u.Dom.after(m,d))}}},2123:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(70851),a),u.__exportStar(s(77627),a)},2047:function(){},77627:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Select=void 0;var u=s(20255),d=s(86893),h=s(86893),p=s(64968),m=s(40332),f=s(70851),g=s(43441),v=s(10109),x=(s(52378),s(10172));s(2047);var y=function(){function b(w){var _=this;this.jodit=w,w.e.on("removeMarkers",function(){_.removeMarkers()})}return Object.defineProperty(b.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),b.prototype.errorNode=function(w){if(!p.Dom.isNode(w))throw(0,m.error)("Parameter node must be instance of Node")},Object.defineProperty(b.prototype,"area",{get:function(){return this.j.editor},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"win",{get:function(){return this.j.ew},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"doc",{get:function(){return this.j.ed},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"sel",{get:function(){return this.j.o.shadowRoot&&(0,x.isFunction)(this.j.o.shadowRoot.getSelection)?this.j.o.shadowRoot.getSelection():this.win.getSelection()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"range",{get:function(){var w=this.sel;return w&&w.rangeCount?w.getRangeAt(0):this.createRange()},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isInsideArea",{get:function(){var w=this.sel,_=w!=null&&w.rangeCount?w.getRangeAt(0):null;return!(!_||!p.Dom.isOrContains(this.area,_.startContainer))},enumerable:!1,configurable:!0}),b.prototype.createRange=function(w){w===void 0&&(w=!1);var _=this.doc.createRange();return w&&this.selectRange(_),_},b.prototype.remove=function(){var w=this.sel,_=this.current();if(w&&_)for(var S=0;w.rangeCount>S;S+=1)w.getRangeAt(S).deleteContents(),w.getRangeAt(S).collapse(!0)},b.prototype.clear=function(){var w,_;!((w=this.sel)===null||w===void 0)&&w.rangeCount&&((_=this.sel)===null||_===void 0||_.removeAllRanges())},b.prototype.removeNode=function(w){if(!p.Dom.isOrContains(this.j.editor,w,!0))throw(0,m.error)("Selection.removeNode can remove only editor's children");p.Dom.safeRemove(w),this.j.e.fire("afterRemoveNode",w)},b.prototype.insertCursorAtPoint=function(w,_){var S=this;this.removeMarkers();try{var E=this.createRange();return function(){if(S.doc.caretPositionFromPoint&&(A=S.doc.caretPositionFromPoint(w,_)))E.setStart(A.offsetNode,A.offset);else if(S.doc.caretRangeFromPoint){var A=S.doc.caretRangeFromPoint(w,_);E.setStart(A.startContainer,A.startOffset)}}(),E.collapse(!0),this.selectRange(E),!0}catch{}return!1},Object.defineProperty(b.prototype,"hasMarkers",{get:function(){return!!this.markers.length},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"markers",{get:function(){return(0,m.$$)("span[data-"+d.MARKER_CLASS+"]",this.area)},enumerable:!1,configurable:!0}),b.prototype.removeMarkers=function(){p.Dom.safeRemove.apply(null,this.markers)},b.prototype.marker=function(w,_){w===void 0&&(w=!1);var S=null;_&&(S=_.cloneRange()).collapse(w);var E=this.j.createInside.span();return E.id=d.MARKER_CLASS+"_"+Number(new Date)+"_"+String(Math.random()).slice(2),E.style.lineHeight="0",E.style.display="none",p.Dom.markTemporary(E),(0,m.attr)(E,"data-"+d.MARKER_CLASS,w?"start":"end"),E.appendChild(this.j.createInside.text(d.INVISIBLE_SPACE)),S&&p.Dom.isOrContains(this.area,w?S.startContainer:S.endContainer)&&S.insertNode(E),E},b.prototype.restore=function(){var w=!1,_=function(C){return"span[data-".concat(d.MARKER_CLASS,"=").concat(C?"start":"end","]")},S=this.area.querySelector(_(!0)),E=this.area.querySelector(_(!1));if(S){if(w=this.createRange(),E)w.setStartAfter(S),p.Dom.safeRemove(S),w.setEndBefore(E),p.Dom.safeRemove(E);else{var A=S.previousSibling;p.Dom.isText(A)?w.setStart(A,A.nodeValue?A.nodeValue.length:0):w.setStartBefore(S),p.Dom.safeRemove(S),w.collapse(!0)}w&&this.selectRange(w)}},b.prototype.save=function(w){if(w===void 0&&(w=!1),this.hasMarkers)return[];var _=this.sel;if(!_||!_.rangeCount)return[];for(var S=[],E=_.rangeCount,A=[],C=0;E>C;C+=1)if(A[C]=_.getRangeAt(C),A[C].collapsed){var M=this.marker(!0,A[C]);S[C]={startId:M.id,collapsed:!0,startMarker:M.outerHTML}}else{M=this.marker(!0,A[C]);var T=this.marker(!1,A[C]);S[C]={startId:M.id,endId:T.id,collapsed:!1,startMarker:M.outerHTML,endMarker:T.outerHTML}}if(!w)for(_.removeAllRanges(),C=E-1;C>=0;--C){var k=this.doc.getElementById(S[C].startId);if(k){if(S[C].collapsed)A[C].setStartAfter(k),A[C].collapse(!0);else if(A[C].setStartBefore(k),S[C].endId){var P=this.doc.getElementById(S[C].endId);P&&A[C].setEndAfter(P)}}try{_.addRange(A[C].cloneRange())}catch{}}return S},b.prototype.focus=function(w){var _,S;if(w===void 0&&(w={preventScroll:!0}),!this.isFocused()){var E=(0,m.getScrollParent)(this.j.container),A=E==null?void 0:E.scrollTop;this.j.iframe&&this.doc.readyState==="complete"&&this.j.iframe.focus(w),this.win.focus(),this.area.focus(w),A&&(E!=null&&E.scrollTo)&&E.scrollTo(0,A);var C=this.sel,M=C!=null&&C.rangeCount?C==null?void 0:C.getRangeAt(0):null;if(!M||!p.Dom.isOrContains(this.area,M.startContainer)){var T=this.createRange();T.setStart(this.area,0),T.collapse(!0),this.selectRange(T,!1)}return this.j.editorIsActive||(S=(_=this.j)===null||_===void 0?void 0:_.events)===null||S===void 0||S.fire("focus"),!0}return!1},b.prototype.isCollapsed=function(){for(var w=this.sel,_=0;w&&w.rangeCount>_;_+=1)if(!w.getRangeAt(_).collapsed)return!1;return!0},b.prototype.isFocused=function(){return this.doc.hasFocus&&this.doc.hasFocus()&&this.area===this.doc.activeElement},b.prototype.current=function(w){if(w===void 0&&(w=!0),this.j.getRealMode()===d.MODE_WYSIWYG){var _=this.sel;if(!_||_.rangeCount===0)return null;var S=_.getRangeAt(0),E=S.startContainer,A=!1,C=function(P){return A?P.lastChild:P.firstChild};if(p.Dom.isTag(E,"br")&&_.isCollapsed)return E;if(!p.Dom.isText(E)){if((E=S.startContainer.childNodes[S.startOffset])||(E=S.startContainer.childNodes[S.startOffset-1],A=!0),E&&_.isCollapsed&&!p.Dom.isText(E)){if(!A&&p.Dom.isText(E.previousSibling))E=E.previousSibling;else if(w)for(var M=C(E);M;){if(M&&p.Dom.isText(M)){E=M;break}M=C(M)}}if(E&&!_.isCollapsed&&!p.Dom.isText(E)){var T=E,k=E;do T=T.firstChild,k=k.lastChild;while(T&&k&&!p.Dom.isText(T));T===k&&T&&p.Dom.isText(T)&&(E=T)}}if(E&&p.Dom.isOrContains(this.area,E))return E}return null},b.prototype.insertNode=function(w,_,S){var E=this;_===void 0&&(_=!0),S===void 0&&(S=!0),this.errorNode(w),this.j.e.fire("safeHTML",w),!this.isFocused()&&this.j.isEditorMode()&&(this.focus(),this.restore());var A=this.sel;this.j.history.snapshot.transaction(function(){var C;if(E.isCollapsed()||E.j.execCommand("Delete"),E.j.e.fire("beforeInsertNode",w),A&&A.rangeCount){var M=A.getRangeAt(0);p.Dom.isOrContains(E.area,M.commonAncestorContainer)?p.Dom.isTag(M.startContainer,h.INSEPARABLE_TAGS)&&M.collapsed?(C=M.startContainer.parentNode)===null||C===void 0||C.insertBefore(w,M.startContainer):p.Dom.safeInsertNode(M,w):E.area.appendChild(w)}else E.area.appendChild(w);_&&(w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.lastChild&&E.setCursorAfter(w.lastChild):E.setCursorAfter(w))}),S&&this.j.events&&this.j.__imdSynchronizeValues(),this.j.events&&this.j.e.fire("afterInsertNode",w)},b.prototype.insertHTML=function(w,_){if(_===void 0&&(_=!0),w!==""){var S,E=this.j.createInside.div(),A=this.j.createInside.fragment();if(!this.isFocused()&&this.j.isEditorMode()&&(this.focus(),this.restore()),p.Dom.isNode(w)?E.appendChild(w):E.innerHTML=w.toString(),(this.j.isEditorMode()||this.j.e.fire("insertHTML",E.innerHTML)!==!1)&&(S=E.lastChild)){for(;E.firstChild;)S=E.firstChild,A.appendChild(E.firstChild);this.insertNode(A.firstChild&&A.firstChild===A.lastChild?A.lastChild:A,!1,!1),_&&(S?this.setCursorAfter(S):this.setCursorIn(A)),this.j.__imdSynchronizeValues()}}},b.prototype.insertImage=function(w,_,S){_===void 0&&(_=null),S===void 0&&(S=null);var E=(0,x.isString)(w)?this.j.createInside.element("img"):w;if((0,x.isString)(w)&&E.setAttribute("src",w),S!=null){var A=S.toString();A&&A!=="auto"&&0>String(A).indexOf("px")&&0>String(A).indexOf("%")&&(A+="px"),(0,m.call)(this.j.o.resizer.forImageChangeAttributes?m.attr:m.css,E,"width",A)}_&&typeof _=="object"&&(0,m.css)(E,_);var C=function(){(E.offsetHeight>E.naturalHeight||E.offsetWidth>E.naturalWidth)&&(E.style.width="",E.style.height=""),E.removeEventListener("load",C)};this.j.e.on(E,"load",C),E.complete&&C(),this.insertNode(E),this.j.e.fire("afterInsertImage",E)},b.prototype.eachSelection=function(w){var _,S=this,E=this.sel;if(E&&E.rangeCount){var A=E.getRangeAt(0),C=A.commonAncestorContainer;p.Dom.isHTMLElement(C)||(C=C.parentElement);var M=[],T=A.startOffset,k=C.childNodes.length,P=A.startContainer===this.area?C.childNodes[k>T?T:k-1]:A.startContainer,D=A.endContainer===this.area?C.childNodes[A.endOffset-1]:A.endContainer;p.Dom.isText(P)&&P===A.startContainer&&A.startOffset===((_=P.nodeValue)===null||_===void 0?void 0:_.length)&&P.nextSibling&&(P=P.nextSibling),p.Dom.isText(D)&&D===A.endContainer&&A.endOffset===0&&D.previousSibling&&(D=D.previousSibling);var I=function(j){!j||j===C||p.Dom.isEmptyTextNode(j)||(0,x.isMarker)(j)||M.push(j)};I(P),P!==D&&p.Dom.isOrContains(C,P,!0)&&p.Dom.find(P,function(j){return I(j),j===D||j&&j.contains&&j.contains(D)},C,!0,!1);var O=function(j){if(p.Dom.isOrContains(S.j.editor,j,!0)){if(j.nodeName.match(/^(UL|OL)$/))return(0,m.toArray)(j.childNodes).forEach(O);if(p.Dom.isTag(j,"li"))if(j.firstChild)j=j.firstChild;else{var N=S.j.createInside.text(h.INVISIBLE_SPACE);j.appendChild(N),j=N}w(j)}};M.length===0&&p.Dom.isEmptyTextNode(P)&&M.push(P),M.length===0&&P.firstChild&&M.push(P.firstChild),M.forEach(O)}},b.prototype.cursorInTheEdge=function(w,_,S){var E,A,C=this;S===void 0&&(S=null);var M=!w,T=(E=this.sel)===null||E===void 0?void 0:E.getRangeAt(0);if(S!=null||(S=this.current(!1)),!T||!S||!p.Dom.isOrContains(_,S,!0))return null;var k=w?T.startContainer:T.endContainer,P=w?T.startOffset:T.endOffset,D=function(F){return!!(F&&!p.Dom.isTag(F,"br")&&!p.Dom.isEmptyTextNode(F)&&!p.Dom.isTemporary(F)&&!(p.Dom.isElement(F)&&C.j.e.fire("isInvisibleForCursor",F)===!0))};if(p.Dom.isText(k)){var I=!((A=k.nodeValue)===null||A===void 0)&&A.length?k.nodeValue:"";if(M&&I.replace((0,h.INVISIBLE_SPACE_REG_EXP_END)(),"").length>P)return!1;var O=(0,h.INVISIBLE_SPACE_REG_EXP_START)().exec(I);if(w&&(O&&P>O[0].length||!O&&P>0))return!1}else{var j=(0,m.toArray)(k.childNodes);if(M){if(j.slice(P).some(D))return!1}else if(j.slice(0,P).some(D))return!1}for(var N=S;N&&N!==_;){var R=p.Dom.sibling(N,w);if(R){if((N=R)&&D(N))return!1}else N=N.parentNode}return!0},b.prototype.cursorOnTheLeft=function(w,_){return this.cursorInTheEdge(!0,w,_)},b.prototype.cursorOnTheRight=function(w,_){return this.cursorInTheEdge(!1,w,_)},b.prototype.setCursorAfter=function(w){return this.setCursorNearWith(w,!1)},b.prototype.setCursorBefore=function(w){return this.setCursorNearWith(w,!0)},b.prototype.setCursorNearWith=function(w,_){var S,E,A=this;if(this.errorNode(w),!p.Dom.up(w,function(T){return T===A.area||T&&T.parentNode===A.area},this.area))throw(0,m.error)("Node element must be in editor");var C=this.createRange(),M=null;return p.Dom.isText(w)?_?C.setStart(w,0):C.setEnd(w,(E=(S=w.nodeValue)===null||S===void 0?void 0:S.length)!==null&&E!==void 0?E:0):(M=this.j.createInside.text(d.INVISIBLE_SPACE),_?C.setStartBefore(w):C.setEndAfter(w),C.collapse(_),p.Dom.safeInsertNode(C,M),C.selectNode(M)),C.collapse(_),this.selectRange(C),M},b.prototype.setCursorIn=function(w,_){var S=this;if(_===void 0&&(_=!1),this.errorNode(w),!p.Dom.up(w,function(T){return T===S.area||T&&T.parentNode===S.area},this.area))throw(0,m.error)("Node element must be in editor");var E=this.createRange(),A=w,C=w;do{if(p.Dom.isText(A))break;C=A,A=_?A.firstChild:A.lastChild}while(A);if(!A){var M=this.j.createInside.text(d.INVISIBLE_SPACE);/^(img|br|input)$/i.test(C.nodeName)?A=C:(C.appendChild(M),C=M)}return E.selectNodeContents(A||C),E.collapse(_),this.selectRange(E),C},b.prototype.selectRange=function(w,_){_===void 0&&(_=!0);var S=this.sel;return _&&!this.isFocused()&&this.focus(),S&&(S.removeAllRanges(),S.addRange(w)),this.j.e.fire("changeSelection"),this},b.prototype.select=function(w,_){var S=this;if(_===void 0&&(_=!1),this.errorNode(w),!p.Dom.up(w,function(A){return A===S.area||A&&A.parentNode===S.area},this.area))throw(0,m.error)("Node element must be in editor");var E=this.createRange();return E[_?"selectNodeContents":"selectNode"](w),this.selectRange(E)},Object.defineProperty(b.prototype,"html",{get:function(){var w=this.sel;if(w&&w.rangeCount>0){var _=w.getRangeAt(0).cloneContents(),S=this.j.createInside.div();return S.appendChild(_),S.innerHTML}return""},enumerable:!1,configurable:!0}),b.prototype.wrapInTagGen=function(){var w,_,S,E,A,C,M,T,k,P,D;return u.__generator(this,function(I){switch(I.label){case 0:return this.isCollapsed()?(C=this.jodit.createInside.element("font",h.INVISIBLE_SPACE),this.insertNode(C,!1,!1),w=u.__read(this.markers,1),(_=w[0])?C.appendChild(_):(this.setCursorIn(C),this.save()),[4,C]):[3,2];case 1:return I.sent(),p.Dom.unwrap(C),[2];case 2:(0,m.$$)("*[style*=font-size]",this.area).forEach(function(O){(0,m.attr)(O,"data-font-size",O.style.fontSize.toString()),O.style.removeProperty("font-size")}),this.isCollapsed()?(C=this.j.createInside.element("font"),(0,m.attr)(C,"size",7),this.insertNode(C,!1,!1)):this.j.nativeExecCommand("fontsize",!1,"7"),(0,m.$$)("*[data-font-size]",this.area).forEach(function(O){var j=(0,m.attr)(O,"data-font-size");j&&(O.style.fontSize=j,(0,m.attr)(O,"data-font-size",null))}),S=(0,m.$$)('font[size="7"]',this.area),I.label=3;case 3:I.trys.push([3,8,9,10]),E=u.__values(S),A=E.next(),I.label=4;case 4:return A.done?[3,7]:(T=(C=A.value).lastChild,(M=C.firstChild)&&M===T&&(0,x.isMarker)(M)?(p.Dom.unwrap(C),[3,6]):(M&&(0,x.isMarker)(M)&&p.Dom.before(C,M),T&&(0,x.isMarker)(T)&&p.Dom.after(C,T),[4,C]));case 5:I.sent(),p.Dom.unwrap(C),I.label=6;case 6:return A=E.next(),[3,4];case 7:return[3,10];case 8:return k=I.sent(),P={error:k},[3,10];case 9:try{A&&!A.done&&(D=E.return)&&D.call(E)}finally{if(P)throw P.error}return[7];case 10:return[2]}})},b.prototype.wrapInTag=function(w){var _,S,E=[];try{for(var A=u.__values(this.wrapInTagGen()),C=A.next();!C.done;C=A.next()){var M=C.value;try{if(M.firstChild&&M.firstChild===M.lastChild&&(0,x.isMarker)(M.firstChild))continue;(0,x.isFunction)(w)?w(M):E.push(p.Dom.replace(M,w,this.j.createInside))}finally{var T=M.parentNode;T&&(p.Dom.unwrap(M),p.Dom.isEmpty(T)&&p.Dom.unwrap(T))}}}catch(k){_={error:k}}finally{try{C&&!C.done&&(S=A.return)&&S.call(A)}finally{if(_)throw _.error}}return E},b.prototype.commitStyle=function(w){new f.CommitStyle(w).apply(this.j)},b.prototype.applyStyle=function(w,_){_===void 0&&(_={}),this.commitStyle(u.__assign({style:w},_))},b.prototype.splitSelection=function(w,_){if(!this.isCollapsed())return null;var S=this.createRange(),E=this.range;S.setStartBefore(w);var A=this.cursorOnTheRight(w,_),C=this.cursorOnTheLeft(w,_),M=this.j.createInside.element("br"),T=this.j.createInside.fake(),k=T.cloneNode();try{if(A||C){_?p.Dom.before(_,M):p.Dom.safeInsertNode(E,M);var P=function(N,R){for(var F=R(N);F;){var U=R(F);if(!F||!p.Dom.isTag(F,"br")&&!p.Dom.isEmptyTextNode(F))break;p.Dom.safeRemove(F),F=U}};P(M,function(N){return N.nextSibling}),P(M,function(N){return N.previousSibling}),p.Dom.after(M,k),p.Dom.before(M,T),A?(S.setEndBefore(M),E.setEndBefore(M)):(S.setEndAfter(M),E.setEndAfter(M))}else S.setEnd(E.startContainer,E.startOffset);var D=S.extractContents(),I=function(N){return p.Dom.each(N,function(R){return p.Dom.isEmptyTextNode(R)&&p.Dom.safeRemove(R)})};try{if(I(D),I(w),w.parentNode.insertBefore(D,w),!_&&A&&(M==null?void 0:M.parentNode)){var O=this.createRange();O.setStartBefore(M),this.selectRange(O)}}catch{}var j=function(N){var R,F,U;((R=N==null?void 0:N.parentNode)===null||R===void 0?void 0:R.firstChild)===((F=N==null?void 0:N.parentNode)===null||F===void 0?void 0:F.lastChild)&&((U=N==null?void 0:N.parentNode)===null||U===void 0||U.appendChild(M.cloneNode()))};j(T),j(k)}finally{p.Dom.safeRemove(T),p.Dom.safeRemove(k)}return w.previousElementSibling},b.prototype.expandSelection=function(){var w=this;if(this.isCollapsed())return this;var _=this.range,S=_.cloneRange();if(!p.Dom.isOrContains(this.j.editor,_.commonAncestorContainer,!0))return this;var E=function(O){var j=w.j.createInside.fake(),N=_.cloneRange();return N.collapse(O),p.Dom.safeInsertNode(N,j),(0,v.moveTheNodeAlongTheEdgeOutward)(j,O,w.j.editor),j},A=E(!0),C=E(!1);S.setStartAfter(A),S.setEndBefore(C);var M=p.Dom.findSibling(A,!1),T=p.Dom.findSibling(C,!0);if(M!==T){var k=p.Dom.isElement(M)&&p.Dom.isOrContains(M,C),P=!k&&p.Dom.isElement(T)&&p.Dom.isOrContains(T,A);if(k||P){for(var D=k?M:T,I=D;p.Dom.isElement(D);)(D=k?D.firstElementChild:D.lastElementChild)&&p.Dom.isOrContains(D,k?C:A)&&(I=D);k?S.setStart(I,0):S.setEnd(I,I.childNodes.length)}}return this.selectRange(S),p.Dom.safeRemove(A,C),this},u.__decorate([g.autobind],b.prototype,"createRange",null),u.__decorate([g.autobind],b.prototype,"focus",null),u.__decorate([g.autobind],b.prototype,"setCursorAfter",null),u.__decorate([g.autobind],b.prototype,"setCursorBefore",null),u.__decorate([g.autobind],b.prototype,"setCursorIn",null),b}();a.Select=y},77846:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.extractSelectedPart=void 0;var u=s(67309),d=s(33941),h=s(24263),p=s(37204);function m(f,g,v){var x=g.extractContents();x.textContent&&(0,d.trim)(x.textContent).length||!x.firstChild||h.Dom.unwrap(x.firstChild),f.parentNode&&(0,u.call)(v?h.Dom.before:h.Dom.after,f,x)}a.extractSelectedPart=function(f,g,v){var x=v.s.createRange(),y=(0,p.isMarker)(g.previousSibling)?g.previousSibling:g;x.setStartBefore(f),x.setEndBefore(y),m(f,x,!0);var b=(0,p.isMarker)(g.nextSibling)?g.nextSibling:g;x.setStartAfter(b),x.setEndAfter(f),m(f,x,!1)}},95901:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FiniteStateMachine=void 0,s(24421),s(603);var u=function(){function d(h,p){this.transitions=p,this.silent=!0,this.__previewsStates=new Set,this.setState(h)}return d.prototype.setState=function(h){this.__previewsStates.add(h),this.__state=h},d.prototype.getState=function(){return this.__state},d.prototype.disableSilent=function(){this.silent=!1},d.prototype.dispatch=function(h,p){var m=this.transitions[this.getState()][h];if(m){var f=m.call(this,p);return this.setState(f.next),f}throw new Error("invalid action: ".concat(this.getState(),".").concat(h.toString()))},d}();a.FiniteStateMachine=u},65774:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getSuitChild=void 0;var u=s(24263),d=s(63150),h=s(74477);a.getSuitChild=function(p,m){for(var f=m.firstChild;f&&!(0,d.isNormalNode)(f);)if(!(f=f.nextSibling))return null;return f&&!u.Dom.next(f,d.isNormalNode,m)&&(0,h.isSuitElement)(p,f,!1)?f:null}},66277:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getSuitParent=void 0;var u=s(24263),d=s(63150),h=s(74477);a.getSuitParent=function p(m,f,g){var v=f.parentNode;return v===g||!u.Dom.isHTMLElement(v)||u.Dom.next(f,d.isNormalNode,v)||u.Dom.prev(f,d.isNormalNode,v)?null:m.isElementCommit&&m.elementIsBlock&&!u.Dom.isBlock(v)?p(m,v,g):!(0,h.isSuitElement)(m,v,!1)||u.Dom.isBlock(v)&&!m.elementIsBlock?m.isElementCommit&&!u.Dom.isBlock(v)?p(m,v,g):null:v}},18387:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hasSameStyleKeys=a.hasSameStyle=void 0;var u=s(26911),d=s(24021),h=s(49353),p=s(24263);s(52378),a.hasSameStyle=function(m,f){return!!(!p.Dom.isTag(m,"font")&&p.Dom.isHTMLElement(m)&&Object.keys(f).every(function(g){var v=(0,u.css)(m,g,!0);return v===""&&(f[g]===""||f[g]==null)||!(0,d.isVoid)(v)&&v!==""&&!(0,d.isVoid)(f[g])&&(0,h.normalizeCssValue)(g,f[g]).toString().toLowerCase()===v.toString().toLowerCase()}))},document.createElement("div").style.color="red",a.hasSameStyleKeys=function(m,f){return!!(!p.Dom.isTag(m,"font")&&p.Dom.isHTMLElement(m)&&Object.keys(f).every(function(g){var v=(0,u.css)(m,g,!0);return!(0,d.isVoid)(v)}))}},66162:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(93217),a),u.__exportStar(s(11651),a),u.__exportStar(s(29271),a),u.__exportStar(s(18387),a),u.__exportStar(s(77846),a),u.__exportStar(s(95901),a),u.__exportStar(s(65774),a),u.__exportStar(s(66277),a),u.__exportStar(s(76991),a),u.__exportStar(s(47508),a),u.__exportStar(s(63150),a),u.__exportStar(s(74477),a),u.__exportStar(s(26707),a),u.__exportStar(s(8298),a),u.__exportStar(s(6278),a)},76991:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isInsideInvisibleElement=void 0;var u=s(24263);a.isInsideInvisibleElement=function(d,h){return!!u.Dom.closest(d,["style","script"],h)}},63150:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isNormalNode=void 0;var u=s(24263),d=s(37204);a.isNormalNode=function(h){return!!(h&&!u.Dom.isEmptyTextNode(h)&&!u.Dom.isTemporary(h)&&!(0,d.isMarker)(h))}},47508:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.elementsEqualAttributes=a.isSameAttributes=void 0;var u=s(76502),d=s(16492),h=(s(52378),s(18387));a.isSameAttributes=function(p,m){return!p.attributes.length&&!(0,d.size)(m)||!(0,d.size)(m)||Object.keys(m).every(function(f){return f==="class"?p.classList.contains(m[f]):f==="style"?(0,h.hasSameStyle)(p,m[f]):(0,u.attr)(p,f)===m[f]})},a.elementsEqualAttributes=function(p,m){return p.attributes.length===m.attributes.length&&Array.from(p.attributes).every(function(f){return m.hasAttribute(f.name)&&m.getAttribute(f.name)===f.value})}},74477:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isSameStyleChild=a.findSuitClosest=a.isSuitElement=void 0;var u=s(24263),d=s(63150),h=s(18387);function p(m,f,g){var v;if(!f)return!1;var x=m.element,y=m.elementIsDefault,b=m.options,w=!!(!((v=b.attributes)===null||v===void 0)&&v.style&&(0,h.hasSameStyle)(f,b.attributes.style)),_=f.nodeName.toLowerCase()===x||u.Dom.isTag(f,["ul","ol"])&&m.elementIsList;return!((y&&g||!_)&&(!w||!(0,d.isNormalNode)(f)||m.elementIsList))||!!(!_&&!g&&y&&u.Dom.isInlineBlock(f))}a.isSuitElement=p,a.findSuitClosest=function(m,f,g){return u.Dom.closest(f,function(v){return p(m,v,!0)},g)},a.isSameStyleChild=function(m,f){var g,v,x=m.element,y=m.options;if(!f||!(0,d.isNormalNode)(f))return!1;var b=f.nodeName.toLowerCase()===x,w=!!(!((g=y.attributes)===null||g===void 0)&&g.style&&(0,h.hasSameStyleKeys)(f,(v=y.attributes)===null||v===void 0?void 0:v.style));return b&&w}},11651:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.toggleOrderedList=void 0;var u=s(24263),d=(s(52378),s(77846)),h=s(70851),p=s(93217),m=s(66162);function f(g,v,x,y,b){return y.e.fire("".concat(h._PREFIX,"BeforeUnwrapList"),g,v,b)||((0,d.extractSelectedPart)(v,x,y),u.Dom.unwrap(x.parentElement),u.Dom.replace(x,y.o.enter,y.createInside))}a.toggleOrderedList=function(g,v,x,y){if(!v)return y;var b=v.parentElement;if(!b)return y;var w=x.e.fire("".concat(h._PREFIX,"BeforeToggleList"),y,g,b);if(w!==void 0)return w;var _=x.e.fire.bind(x.e,"".concat(h._PREFIX,"AfterToggleList"));if(y!==h.UNWRAP){var S=(0,p.toggleAttributes)(g,v.parentElement,x,h.INITIAL,!0)===h.CHANGE;if(y===h.REPLACE||S||b.tagName.toLowerCase()!==g.element){var E=f(h.REPLACE,b,v,x,g),A=(0,m.wrapList)(g,E,x);return _(h.REPLACE,A,g),h.REPLACE}}var C=f(h.UNWRAP,b,v,x,g);return _(h.UNWRAP,C,g),h.UNWRAP}},29271:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.wrapList=void 0;var u=s(64968),d=s(70851),h=s(66162);a.wrapList=function(p,m,f){var g=f.e.fire("".concat(d._PREFIX,"BeforeWrapList"),d.REPLACE,m,p),v=g??u.Dom.replace(m,"li",f.createInside),x=v.previousElementSibling,y=v.nextElementSibling,b=u.Dom.isTag(x,p.element)?x:null;return b!=null||(b=u.Dom.isTag(y,p.element)?y:null),u.Dom.isTag(b,["ul","ol"])&&(0,h.isSameAttributes)(b,p.options.attributes)||(b=f.createInside.element(p.element),(0,h.toggleAttributes)(p,b,f,d.INITIAL),u.Dom.before(v,b)),x===b?u.Dom.append(b,v):u.Dom.prepend(b,v),u.Dom.isTag(b.nextElementSibling,p.element)&&(0,h.elementsEqualAttributes)(b,b.nextElementSibling)&&(u.Dom.append(b,Array.from(b.nextElementSibling.childNodes)),u.Dom.safeRemove(b.nextElementSibling)),f.e.fire("".concat(d._PREFIX,"AfterWrapList"),d.WRAP,b,p),b}},93217:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.toggleAttributes=void 0;var u=s(76502),d=s(26911),h=s(63122),p=s(11278),m=s(49353),f=s(16492),g=s(24263),v=s(70851),x=s(17332),y=(s(10172),"toggleAttributes");function b(w,_,S){return(0,u.attr)(_,"style")||((0,u.attr)(_,"style",null),_.tagName.toLowerCase()===w.defaultTag&&(g.Dom.unwrap(_),S=v.UNWRAP)),S}a.toggleAttributes=function(w,_,S,E,A){if(A===void 0&&(A=!1),!A&&w.isApplied(_,y))return E;!A&&w.setApplied(_,y);var C=w.options.attributes;return C&&(0,f.size)(C)>0&&Object.keys(C).forEach(function(M){var T=C[M];switch(M){case"style":E=function(k,P,D,I,O,j){return Object.keys(D).forEach(function(N){var R=I.style.getPropertyValue((0,p.kebabCase)(N)),F=D[N];if(R!==""||F!=null){if(function(U,B,H){var X=U.create.element(B.tagName.toLowerCase());X.style.cssText=B.style.cssText,function(Z){var J;if((0,h.dataBind)(Z,"shadowRoot")!==void 0)return(0,h.dataBind)(Z,"shadowRoot");var ee=(0,x.getContainer)(Z),q=document.createElement("iframe");(0,d.css)(q,{width:0,height:0,position:"absolute",border:0}),q.src="about:blank",ee.appendChild(q);var Y=(J=q.contentWindow)===null||J===void 0?void 0:J.document,Q=Y?Y.body:Z.od.body;return(0,h.dataBind)(Z,"shadowRoot",Q),Q}(U).appendChild(X);var G=(0,d.css)(X,H);return g.Dom.safeRemove(X),G}(P,I,N)===(0,m.normalizeCssValue)(N,F))return R?(!O&&(0,d.css)(I,N,null),void(j=b(k,I,j=v.UNSET))):void 0;j=v.CHANGE,O||((0,d.css)(I,N,F),j=b(k,I,j))}}),j}(w,S,T,_,A,E);break;case"class":E=function(k,P,D,I,O){var j=k.e.fire.bind(k.e,"".concat(v._PREFIX,"AfterToggleAttribute"));return D.classList.contains(P.toString())?(I=v.UNSET,O||(D.classList.remove(P),D.classList.length===0&&((0,u.attr)(D,"class",null),j(I,D,"class",null)))):(I=v.CHANGE,O||(D.classList.add(P),j(I,D,"class",P))),I}(S,T,_,E,A);break;default:E=function(k,P,D,I,O,j){var N=k.e.fire.bind(k.e,"".concat(v._PREFIX,"AfterToggleAttribute"));return(0,u.attr)(D,I)===P?(!O&&(0,u.attr)(D,I,null),j=v.UNSET,!O&&N(j,D,I,P),j):(j=v.CHANGE,O||((0,u.attr)(D,I,P),N(j,D,I,P)),j)}(S,T,_,M,A,E)}}),E}},26707:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.unwrapChildren=void 0;var u=s(24263),d=s(40332),h=s(18387),p=s(74477);a.unwrapChildren=function(m,f){var g,v,x=[],y=[],b=(g=m.options.attributes)===null||g===void 0?void 0:g.style;if(f.firstChild)for(var w=u.Dom.eachGen(f),_=w.next(),S=function(){var E=_.value;!(0,p.isSuitElement)(m,E,!0)||b&&!(0,h.hasSameStyleKeys)(E,b)?b&&(0,p.isSameStyleChild)(m,E)?(v===void 0&&(v=!1),y.push(function(){(0,d.css)(E,Object.keys(b).reduce(function(A,C){return A[C]=null,A},{})),(0,d.attr)(E,"style")||(0,d.attr)(E,"style",null),(0,d.attr)(E,"style")||E.nodeName.toLowerCase()!==m.element||x.push(E)})):u.Dom.isEmptyTextNode(E)||v===void 0&&(v=!1):(v===void 0&&(v=!0),x.push(E)),_=w.next()};!_.done;)S();return y.forEach(function(E){return E()}),x.forEach(u.Dom.unwrap),!!v}},6278:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.wrapUnwrappedText=void 0;var u=s(24263),d=s(37204);a.wrapUnwrappedText=function(h,p,m){var f=m.editor,g=m.createInside,v=function(S,E){E===void 0&&(E="previousSibling");for(var A=S,C=S;C&&!(0,d.isMarker)(C)&&!u.Dom.isTag(C,m.o.enter)&&(A=C,C=C[E]?C[E]:C.parentNode&&!u.Dom.isBlock(C.parentNode)&&C.parentNode!==f?C.parentNode:null,!u.Dom.isBlock(C)););return A},x=v(p),y=v(p,"nextSibling"),b=m.s.createRange();b.setStartBefore(x),b.setEndAfter(y);var w=b.extractContents(),_=g.element(h.element);return _.appendChild(w),u.Dom.safeInsertNode(b,_),h.elementIsBlock&&u.Dom.isEmpty(_)&&!u.Dom.isTag(_.firstElementChild,"br")&&_.appendChild(g.element("br")),_}},8298:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.wrap=void 0;var u=s(64968),d=s(6278),h=s(67309),p=s(29271);a.wrap=function(m,f,g){var v=function(x,y,b){return x.elementIsBlock?u.Dom.up(y,function(w){return u.Dom.isBlock(w)&&!u.Dom.isTag(w,["td","th","tr","tbody","table","li","ul","ol"])},b.editor)||(0,d.wrapUnwrappedText)(x,y,b):((0,h.attr)(y,"size",null),y)}(m,f,g);return m.elementIsList?(0,p.wrapList)(m,v,g):u.Dom.replace(v,m.element,g.createInside,!0)}},3097:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ApplyStyle=void 0;var u=s(74504),d=s(66162),h=s(33090),p=s(70851);a.ApplyStyle=function(m,f){var g=m.s,v=m.editor;g.save(),(0,u.normalizeNode)(v.firstChild);for(var x=m.s.wrapInTagGen(),y=x.next(),b={mode:p.INITIAL,element:y.value,next:h.states.START,jodit:m,style:f};y&&!y.done;){var w=new d.FiniteStateMachine(h.states.START,h.transactions);for(b.element=y.value;w.getState()!==h.states.END;)b=w.dispatch("exec",b);y=x.next()}g.restore()}},70851:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.CommitStyle=a._PREFIX=a.REPLACE=a.INITIAL=a.UNSET=a.CHANGE=a.UNWRAP=a.WRAP=void 0;var u=s(86893),d=s(26596),h=s(3097);a.WRAP="wrap",a.UNWRAP="unwrap",a.CHANGE="change",a.UNSET="unset",a.INITIAL="initial",a.REPLACE="replace",a._PREFIX="commitStyle";var p=function(){function m(f){var g,v,x,y;this.options=f,this.__applyMap=new WeakMap,f.attributes=(g=f.attributes,y=(v=this.options).className,(x=v.style)&&(g?g.style=x:g={style:x},delete this.options.style),y&&(g?g.class=y:g={class:y},delete this.options.className),g)}return m.prototype.isApplied=function(f,g){var v=this.__applyMap.get(f);return!!v&&v[g]},m.prototype.setApplied=function(f,g){var v,x=(v=this.__applyMap.get(f))!==null&&v!==void 0?v:{};x[g]=!0,this.__applyMap.set(f,x)},Object.defineProperty(m.prototype,"elementIsList",{get:function(){return!!(this.options.element&&["ul","ol"].includes(this.options.element))},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"element",{get:function(){return this.options.element||this.defaultTag},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"elementIsBlock",{get:function(){return!!(this.options.element&&u.IS_BLOCK.test(this.options.element))},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isElementCommit",{get:function(){return!!(this.options.element&&this.options.element!==this.options.defaultTag)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"defaultTag",{get:function(){return this.options.defaultTag?this.options.defaultTag:this.elementIsBlock?"p":"span"},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"elementIsDefault",{get:function(){return this.element===this.defaultTag},enumerable:!1,configurable:!0}),m.prototype.apply=function(f){var g=this.options.hooks;try{g&&Object.keys(g).forEach(function(v){f.e.on((0,d.camelCase)(a._PREFIX+"_"+v),g[v])}),(0,h.ApplyStyle)(f,this)}finally{g&&Object.keys(g).forEach(function(v){f.e.off((0,d.camelCase)(a._PREFIX+"_"+v),g[v])}),this.__applyMap=new WeakMap}},m}();a.CommitStyle=p},33090:function(c,a,s){var u;Object.defineProperty(a,"__esModule",{value:!0}),a.transactions=a.states=void 0;var d=s(20255),h=s(2123),p=s(66162),m=s(64968),f=s(2123);s(52378),a.states={START:"START",ELEMENT:"ELEMENT",UNWRAP:"UNWRAP",UNWRAP_CHILDREN:"UNWRAP_CHILDREN",CHANGE:"CHANGE",REPLACE_DEFAULT:"REPLACE_DEFAULT",LIST:"LIST",TOGGLE_LIST:"TOGGLE_LIST",WRAP:"WRAP",EXTRACT:"EXTRACT",END:"END"},a.transactions=((u={})[a.states.START]={exec:function(g){var v=g.element,x=g.jodit,y=g.style,b=g.mode;if((0,p.isInsideInvisibleElement)(v,x.editor)||m.Dom.isEmptyContent(v))return d.__assign(d.__assign({},g),{next:a.states.END});var w=(0,p.getSuitParent)(y,v,x.editor)||(0,p.getSuitChild)(y,v);if(w)return d.__assign(d.__assign({},g),{next:a.states.ELEMENT,element:w});var _=(0,p.findSuitClosest)(y,v,x.editor);return y.elementIsList&&m.Dom.isTag(_,["ul","ol"])?d.__assign(d.__assign({},g),{next:a.states.LIST}):d.__assign(d.__assign({},g),_?{next:a.states.EXTRACT}:{next:b!==f.UNWRAP?a.states.UNWRAP_CHILDREN:a.states.END})}},u[a.states.LIST]={exec:function(g){var v=g.element,x=g.jodit,y=g.mode;if(y!==f.INITIAL&&y!==f.UNWRAP&&y!==h.REPLACE)return d.__assign(d.__assign({},g),{next:a.states.END});var b=m.Dom.closest(v,"li",x.editor);if(!b)return d.__assign(d.__assign({},g),{next:a.states.END});var w=m.Dom.closest(v,["ul","ol"],x.editor);return d.__assign(d.__assign({},g),w?{element:b,next:a.states.TOGGLE_LIST}:{next:a.states.END})}},u[a.states.TOGGLE_LIST]={exec:function(g){return d.__assign(d.__assign({},g),{mode:(0,p.toggleOrderedList)(g.style,g.element,g.jodit,g.mode),next:a.states.END})}},u[a.states.EXTRACT]={exec:function(g){var v=g.element,x=g.jodit,y=g.style,b=(0,p.findSuitClosest)(y,v,x.editor);return y.elementIsBlock||(0,p.extractSelectedPart)(b,v,x),d.__assign(d.__assign({},g),{element:b,next:a.states.ELEMENT})}},u[a.states.UNWRAP_CHILDREN]={exec:function(g){return(0,p.unwrapChildren)(g.style,g.element)?d.__assign(d.__assign({},g),{mode:f.UNWRAP,next:a.states.END}):d.__assign(d.__assign({},g),{next:a.states.WRAP})}},u[a.states.WRAP]={exec:function(g){var v=g.style,x=(0,p.wrap)(v,g.element,g.jodit);return d.__assign(d.__assign({},g),{next:v.elementIsList?a.states.END:a.states.CHANGE,mode:f.WRAP,element:x})}},u[a.states.ELEMENT]={exec:function(g){var v=g.style,x=g.element;return(0,p.toggleAttributes)(v,x,g.jodit,f.INITIAL,!0)!==f.INITIAL?d.__assign(d.__assign({},g),{next:a.states.CHANGE}):m.Dom.isTag(x,v.element)?d.__assign(d.__assign({},g),{next:a.states.UNWRAP}):d.__assign(d.__assign({},g),{next:a.states.END})}},u[a.states.CHANGE]={exec:function(g){var v=g.style,x=g.element,y=g.mode,b=(0,p.toggleAttributes)(v,x,g.jodit,g.mode);return y!==f.WRAP&&b===f.UNSET&&!x.attributes.length&&m.Dom.isTag(x,v.element)?d.__assign(d.__assign({},g),{next:a.states.UNWRAP}):d.__assign(d.__assign({},g),{mode:b,next:a.states.END})}},u[a.states.UNWRAP]={exec:function(g){return g.element.attributes.length&&m.Dom.isTag(g.element,g.style.element)?d.__assign(d.__assign({},g),{next:a.states.REPLACE_DEFAULT}):(m.Dom.unwrap(g.element),d.__assign(d.__assign({},g),{mode:f.UNWRAP,next:a.states.END}))}},u[a.states.REPLACE_DEFAULT]={exec:function(g){return m.Dom.replace(g.element,g.style.defaultTag,g.jodit.createInside,!0),d.__assign(d.__assign({},g),{mode:h.REPLACE,next:a.states.END})}},u[a.states.END]={exec:function(g){return g}},u)},75764:function(c,a){var s;Object.defineProperty(a,"__esModule",{value:!0}),a.LocalStorageProvider=a.canUsePersistentStorage=void 0,a.canUsePersistentStorage=function(){return s===void 0&&(s=function(){var d="___Jodit___"+Math.random().toString();try{localStorage.setItem(d,"1");var h=localStorage.getItem(d)==="1";return localStorage.removeItem(d),h}catch{}return!1}()),s};var u=function(){function d(h){this.rootKey=h}return d.prototype.set=function(h,p){try{var m=localStorage.getItem(this.rootKey),f=m?JSON.parse(m):{};f[h]=p,localStorage.setItem(this.rootKey,JSON.stringify(f))}catch{}return this},d.prototype.delete=function(h){try{localStorage.removeItem(this.rootKey)}catch{}return this},d.prototype.get=function(h){try{var p=localStorage.getItem(this.rootKey),m=p?JSON.parse(p):{};return m[h]!==void 0?m[h]:null}catch{}},d.prototype.exists=function(h){return this.get(h)!=null},d.prototype.clear=function(){try{localStorage.removeItem(this.rootKey)}catch{}return this},d}();a.LocalStorageProvider=u},79905:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.MemoryStorageProvider=void 0;var s=function(){function u(){this.data=new Map}return u.prototype.set=function(d,h){return this.data.set(d,h),this},u.prototype.delete=function(d){return this.data.delete(d),this},u.prototype.get=function(d){return this.data.get(d)},u.prototype.exists=function(d){return this.data.has(d)},u.prototype.clear=function(){return this.data.clear(),this},u}();a.MemoryStorageProvider=s},77462:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(79905),a),u.__exportStar(s(75764),a),u.__exportStar(s(52015),a)},52015:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Storage=a.StorageKey=void 0;var u=s(40332),d=s(75764),h=s(79905);a.StorageKey="Jodit_";var p=function(){function m(f,g){this.provider=f,this.prefix=a.StorageKey,g&&(this.prefix+=g)}return m.prototype.set=function(f,g){return this.provider.set((0,u.camelCase)(this.prefix+f),g),this},m.prototype.delete=function(f){return this.provider.delete((0,u.camelCase)(this.prefix+f)),this},m.prototype.get=function(f){return this.provider.get((0,u.camelCase)(this.prefix+f))},m.prototype.exists=function(f){return this.provider.exists((0,u.camelCase)(this.prefix+f))},m.prototype.clear=function(){return this.provider.clear(),this},m.makeStorage=function(f,g){var v;return f===void 0&&(f=!1),f&&(0,d.canUsePersistentStorage)()&&(v=new d.LocalStorageProvider(a.StorageKey+g)),v||(v=new h.MemoryStorageProvider),new m(v,g)},m}();a.Storage=p},59363:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Dlgs=void 0;var u=s(20255),d=s(87837),h=s(40332),p=function(){function m(){}return m.prototype.dlg=function(f){var g=new d.Dialog(u.__assign({language:this.o.language,shadowRoot:this.o.shadowRoot,ownerWindow:this.o.ownerWindow,defaultTimeout:this.o.defaultTimeout,theme:this.o.theme,globalFullSize:this.o.globalFullSize},f));return(0,h.markOwner)(this,g.container),g.parent=this,g.bindDestruct(this)},m.prototype.confirm=function(f,g,v){return(0,h.isString)(g)&&(g=this.i18n(g)),d.Confirm.call(this.dlg(),this.i18n(f),g,v)},m.prototype.prompt=function(f,g,v,x,y){return(0,h.isString)(g)&&(g=this.i18n(g)),(0,h.isString)(x)&&(x=this.i18n(x)),d.Prompt.call(this.dlg(),this.i18n(f),g,v,x,y)},m.prototype.alert=function(f,g,v,x){return(0,h.isString)(f)&&(f=this.i18n(f)),(0,h.isString)(g)&&(g=this.i18n(g)),d.Alert.call(this.dlg(),f,g,v,x)},m}();a.Dlgs=p},14089:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Elms=void 0;var u=s(1853),d=function(){function h(){}return h.prototype.getElm=function(p){return this.container.querySelector(".".concat(this.getFullElName(p)))},h.prototype.getElms=function(p){return(0,u.toArray)(this.container.querySelectorAll(".".concat(this.getFullElName(p))))},h}();a.Elms=d},59829:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(14089),a),u.__exportStar(s(41681),a),u.__exportStar(s(59363),a)},41681:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Mods=void 0;var u=s(1853),d=s(24021),h=function(){function p(){}return p.prototype.afterSetMod=function(m,f){},p.prototype.setMod=function(m,f,g){if(m=m.toLowerCase(),this.mods[m]===f)return this;var v="".concat(this.componentName,"_").concat(m),x=(g||this.container).classList;return(0,u.toArray)(x).forEach(function(y){y.indexOf(v)===0&&x.remove(y)}),!(0,d.isVoid)(f)&&f!==""&&x.add("".concat(v,"_").concat(f.toString().toLowerCase())),this.mods[m]=f,this.afterSetMod(m,f),this},p.prototype.getMod=function(m){var f;return(f=this.mods[m])!==null&&f!==void 0?f:null},p}();a.Mods=h},96031:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Button=a.UIButton=a.UIButtonState=void 0;var u=s(20255);s(93330);var d=s(53929),h=s(24263),p=s(76502),m=s(24421),f=s(42096),g=s(77904),v=s(47970),x=s(43441),y=s(29411);a.UIButtonState=function(){return{size:"middle",type:"button",name:"",value:"",variant:"initial",disabled:!1,activated:!1,icon:{name:"empty",fill:"",iconURL:""},tooltip:"",text:"",tabIndex:void 0}};var b=function(w){function _(S,E){var A=w.call(this,S)||this;return A.isButton=!0,A.state=(0,a.UIButtonState)(),A.actionHandlers=[],A.updateSize(),A.onChangeSize(),A.onChangeStatus(),E&&A.hookStatus(y.STATUSES.ready,function(){A.setState(E)}),A}return u.__extends(_,w),_.prototype.className=function(){return"UIButton"},_.prototype.setState=function(S){return Object.assign(this.state,S),this},_.prototype.onChangeSize=function(){this.setMod("size",this.state.size)},_.prototype.onChangeType=function(){(0,p.attr)(this.container,"type",this.state.type)},_.prototype.updateSize=function(){var S=this.closest(v.UIList);S&&(this.state.size=S.buttonSize)},_.prototype.onChangeStatus=function(){this.setMod("variant",this.state.variant)},_.prototype.onChangeText=function(){this.text.textContent=this.jodit.i18n(this.state.text)},_.prototype.onChangeTextSetMode=function(){this.setMod("text-icons",!!this.state.text.trim().length)},_.prototype.onChangeDisabled=function(){(0,p.attr)(this.container,"disabled",this.state.disabled||null)},_.prototype.onChangeActivated=function(){(0,p.attr)(this.container,"aria-pressed",this.state.activated)},_.prototype.onChangeName=function(){this.container.classList.add("".concat(this.componentName,"_").concat(this.clearName(this.state.name))),this.name=this.state.name,(0,p.attr)(this.container,"data-ref",this.state.name),(0,p.attr)(this.container,"ref",this.state.name)},_.prototype.onChangeTooltip=function(){this.get("j.o.useNativeTooltip")&&(0,p.attr)(this.container,"title",this.state.tooltip),(0,p.attr)(this.container,"aria-label",this.state.tooltip)},_.prototype.onChangeTabIndex=function(){(0,p.attr)(this.container,"tabindex",this.state.tabIndex)},_.prototype.onChangeIcon=function(){var S=this.get("j.o.textIcons");if(!(S===!0||(0,f.isFunction)(S)&&S(this.state.name))){h.Dom.detach(this.icon);var E=g.Icon.makeIcon(this.j,this.state.icon);E&&this.icon.appendChild(E)}},_.prototype.focus=function(){this.container.focus()},_.prototype.isFocused=function(){var S=this.od.activeElement;return!!(S&&h.Dom.isOrContains(this.container,S))},_.prototype.createContainer=function(){var S=this.componentName,E=this.j.c.element("button",{class:S,type:"button",role:"button",ariaPressed:!1});return this.icon=this.j.c.span(S+"__icon"),this.text=this.j.c.span(S+"__text"),E.appendChild(this.icon),E.appendChild(this.text),this.j.e.on(E,"click",this.onActionFire),E},_.prototype.destruct=function(){return this.j.e.off(this.container),w.prototype.destruct.call(this)},_.prototype.onAction=function(S){return this.actionHandlers.push(S),this},_.prototype.onActionFire=function(S){var E=this;S.buffer={actionTrigger:this},this.actionHandlers.forEach(function(A){return A.call(E,S)})},u.__decorate([(0,x.watch)("state.size")],_.prototype,"onChangeSize",null),u.__decorate([(0,x.watch)("state.type")],_.prototype,"onChangeType",null),u.__decorate([(0,x.watch)("parentElement")],_.prototype,"updateSize",null),u.__decorate([(0,x.watch)("state.variant")],_.prototype,"onChangeStatus",null),u.__decorate([(0,x.watch)("state.text")],_.prototype,"onChangeText",null),u.__decorate([(0,x.watch)("state.text")],_.prototype,"onChangeTextSetMode",null),u.__decorate([(0,x.watch)("state.disabled")],_.prototype,"onChangeDisabled",null),u.__decorate([(0,x.watch)("state.activated")],_.prototype,"onChangeActivated",null),u.__decorate([(0,x.watch)("state.name")],_.prototype,"onChangeName",null),u.__decorate([(0,x.watch)("state.tooltip")],_.prototype,"onChangeTooltip",null),u.__decorate([(0,x.watch)("state.tabIndex")],_.prototype,"onChangeTabIndex",null),u.__decorate([(0,x.watch)("state.icon")],_.prototype,"onChangeIcon",null),u.__decorate([x.autobind],_.prototype,"onActionFire",null),u.__decorate([x.component],_)}(d.UIElement);a.UIButton=b,a.Button=function(w,_,S,E){var A=new b(w);return A.state.tabIndex=w.o.allowTabNavigation?0:-1,(0,m.isString)(_)?(A.state.icon.name=_,A.state.name=_,E&&(A.state.variant=E),S&&(A.state.text=S)):A.setState(_),A}},67252:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIButtonGroup=void 0;var u=s(20255);s(45066);var d=s(61479),h=s(11441),p=s(96031),m=(s(52378),function(f){function g(v,x){x===void 0&&(x={radio:!0});var y,b,w=this;return(w=f.call(this,v,(y=x.options)===null||y===void 0?void 0:y.map(function(_){var S=new p.UIButton(v,{text:_.text,value:_.value,variant:"primary"});return S.onAction(function(){w.select(_.value)}),S}),x)||this).options=x,w.select((b=x.value)!==null&&b!==void 0?b:0),w}return u.__extends(g,f),g.prototype.className=function(){return"UIButtonGroup"},g.prototype.render=function(v){return`<div>
			<div class="&__label">~`.concat(v.label,`~</div>
			<div class="&__options"></div>
		</div>`)},g.prototype.appendChildToContainer=function(v){this.getElm("options").appendChild(v)},g.prototype.select=function(v){var x,y,b=this;this.elements.forEach(function(_,S){S===v||_.state.value===v?_.state.activated=!0:b.options.radio&&(_.state.activated=!1)});var w=this.elements.filter(function(_){return _.state.activated}).map(function(_){return{text:_.state.text,value:_.state.value}});this.jodit.e.fire(this,"select",w),(y=(x=this.options).onChange)===null||y===void 0||y.call(x,w)},u.__decorate([h.component],g)}(d.UIGroup));a.UIButtonGroup=m},96516:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(96031),a),u.__exportStar(s(67252),a),u.__exportStar(s(33627),a)},33627:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UITooltip=void 0;var u=s(20255);s(99895);var d=s(40332),h=s(17332),p=s(43441),m=function(f){function g(v){var x=f.call(this,v)||this;x.__isOpened=!1,x.__useCount=1,x.__delayShowTimeout=0,(0,h.getContainer)(v,g).appendChild(x.container);var y=0;return v.e.off(".tooltip").on("showTooltip.tooltip",function(b,w){v.async.clearTimeout(y),x.__open(b,w)}).on("delayShowTooltip.tooltip",x.__delayOpen).on("escape.tooltip",x.__close).on("hideTooltip.tooltip change.tooltip scroll.tooltip changePlace.tooltip hidePopup.tooltip closeAllPopups.tooltip",function(){x.j.async.clearTimeout(x.__delayShowTimeout),y=v.async.setTimeout(x.__close,x.j.defaultTimeout)}),x}return u.__extends(g,f),g.prototype.className=function(){return"UITooltip"},g.make=function(v){var x=(0,d.dataBind)(v,"ui-tooltip");return x?(x.__useCount+=1,x):(x=new g(v),(0,d.dataBind)(v,"ui-tooltip",x),x)},g.prototype.__delayOpen=function(v,x){var y=this,b=this.j.o.showTooltipDelay||this.j.defaultTimeout;this.j.async.clearTimeout(this.__delayShowTimeout),this.__delayShowTimeout=this.j.async.setTimeout(function(){return y.__open(v,x)},{timeout:b,label:"tooltip"})},g.prototype.__open=function(v,x){this.setMod("visible",!0),this.container.innerHTML=x,this.__isOpened=!0,this.__setPosition(v)},g.prototype.__setPosition=function(v){var x=v();(0,d.css)(this.container,{left:x.x,top:x.y})},g.prototype.__close=function(){this.j.async.clearTimeout(this.__delayShowTimeout),this.__isOpened&&(this.__isOpened=!1,this.setMod("visible",!1),(0,d.css)(this.container,{left:-5e3}))},g.prototype.destruct=function(){var v;this.__useCount--,this.__useCount||((v=this.j)===null||v===void 0||v.e.off(".tooltip"),this.__close(),f.prototype.destruct.call(this))},u.__decorate([p.autobind],g.prototype,"__delayOpen",null),u.__decorate([p.autobind],g.prototype,"__close",null),g}(s(53929).UIElement);a.UITooltip=m},53929:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIElement=void 0;var u=s(20255),d=s(56562),h=s(24263),p=s(59829),m=s(24421),f=s(77904),g=s(43441),v=function(x){function y(w,_){var S=x.call(this,w)||this;return S.name="",S.__parentElement=null,S.mods={},S.container=S.createContainer(_),Object.defineProperty(S.container,"component",{value:S,configurable:!0}),S}var b;return u.__extends(y,x),b=y,Object.defineProperty(y.prototype,"parentElement",{get:function(){return this.__parentElement},set:function(w){var _=this;this.__parentElement=w,w&&w.hookStatus("beforeDestruct",function(){return _.destruct()}),this.updateParentElement(this)},enumerable:!1,configurable:!0}),y.prototype.bubble=function(w){for(var _=this.parentElement;_;)w(_),_=_.parentElement;return this},y.prototype.updateParentElement=function(w){var _;return(_=this.__parentElement)===null||_===void 0||_.updateParentElement(w),this},y.prototype.get=function(w,_){return x.prototype.get.call(this,w,_)||this.getElm(w)},y.prototype.closest=function(w){for(var _=typeof w=="object"?function(E){return E===w}:function(E){return d.Component.isInstanceOf(E,w)},S=this.__parentElement;S;){if(_(S))return S;S=!S.parentElement&&S.container.parentElement?b.closestElement(S.container.parentElement,b):S.parentElement}return null},y.closestElement=function(w,_){var S=h.Dom.up(w,function(E){if(E){var A=E.component;return A&&d.Component.isInstanceOf(A,_)}return!1});return S?S==null?void 0:S.component:null},y.prototype.update=function(){},y.prototype.appendTo=function(w){return w.appendChild(this.container),this},y.prototype.clearName=function(w){return w.replace(/[^a-zA-Z0-9]/g,"_")},y.prototype.render=function(w){return this.j.c.div(this.componentName)},y.prototype.createContainer=function(w){var _=this.render(w);if((0,m.isString)(_)){var S=this.parseTemplate(_);return S.classList.add(this.componentName),S}return _},y.prototype.parseTemplate=function(w){var _=this;return this.j.c.fromHTML(w.replace(/\*([^*]+?)\*/g,function(S,E){return f.Icon.get(E)||""}).replace(/&__/g,this.componentName+"__").replace(/~([^~]+?)~/g,function(S,E){return _.i18n(E)}))},y.prototype.destruct=function(){return h.Dom.safeRemove(this.container),this.parentElement=null,x.prototype.destruct.call(this)},b=u.__decorate([(0,g.derive)(p.Mods,p.Elms)],y)}(d.ViewComponent);a.UIElement=v},38318:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIBlock=void 0;var u=s(20255);s(87682);var d=s(61479),h=s(76502),p=s(11441),m=function(f){function g(v,x,y){y===void 0&&(y={align:"left"});var b=f.call(this,v,x)||this;return b.options=y,b.setMod("align",b.options.align||"left"),b.setMod("width",b.options.width||""),b.options.mod&&b.setMod(b.options.mod,!0),b.options.className&&b.container.classList.add(b.options.className),(0,h.attr)(b.container,"data-ref",y.ref),(0,h.attr)(b.container,"ref",y.ref),b}return u.__extends(g,f),g.prototype.className=function(){return"UIBlock"},u.__decorate([p.component],g)}(d.UIGroup);a.UIBlock=m},26207:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIForm=void 0;var u=s(20255),d=s(61479),h=s(30194),p=s(75840),m=s(76502),f=s(11441),g=s(45113),v=function(x){function y(){for(var b=[],w=0;arguments.length>w;w++)b[w]=arguments[w];var _,S,E=this;return!((_=(E=x.apply(this,u.__spreadArray([],u.__read(b),!1))||this).options)===null||_===void 0)&&_.className&&E.container.classList.add((S=E.options)===null||S===void 0?void 0:S.className),E}return u.__extends(y,x),y.prototype.className=function(){return"UIForm"},y.prototype.submit=function(){this.j.e.fire(this.container,"submit")},y.prototype.validate=function(){var b,w,_,S,E=this.allChildren.filter(function(P){return g.Component.isInstanceOf(P,h.UIInput)});try{for(var A=u.__values(E),C=A.next();!C.done;C=A.next())if(!C.value.validate())return!1}catch(P){b={error:P}}finally{try{C&&!C.done&&(w=A.return)&&w.call(A)}finally{if(b)throw b.error}}var M=this.allChildren.filter(function(P){return g.Component.isInstanceOf(P,p.UISelect)});try{for(var T=u.__values(M),k=T.next();!k.done;k=T.next())if(!k.value.validate())return!1}catch(P){_={error:P}}finally{try{k&&!k.done&&(S=T.return)&&S.call(T)}finally{if(_)throw _.error}}return!0},y.prototype.onSubmit=function(b){var w=this;this.j.e.on(this.container,"submit",function(){var _=w.allChildren.filter(function(S){return g.Component.isInstanceOf(S,h.UIInput)});return!!w.validate()&&(b(_.reduce(function(S,E){return S[E.state.name]=E.value,S},{})),!1)})},y.prototype.createContainer=function(){var b=this.j.c.element("form");return b.classList.add(this.componentName),(0,m.attr)(b,"dir",this.j.o.direction||"auto"),b},u.__decorate([f.component],y)}(d.UIGroup);a.UIForm=v},95963:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(26207),a),u.__exportStar(s(63034),a),u.__exportStar(s(38318),a)},21639:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UITextArea=void 0;var u=s(20255);s(50905);var d=s(30194),h=s(11441),p=function(m){function f(v,x){var y=m.call(this,v,x)||this;return y.state=u.__assign({},g.defaultState),Object.assign(y.state,x),y.state.resizable===!1&&(y.nativeInput.style.resize="none"),y}var g;return u.__extends(f,m),g=f,f.prototype.className=function(){return"UITextArea"},f.prototype.createContainer=function(v){return this.nativeInput=this.j.create.element("textarea"),m.prototype.createContainer.call(this,v)},f.defaultState=u.__assign(u.__assign({},d.UIInput.defaultState),{size:5,resizable:!0}),g=u.__decorate([h.component],f)}(d.UIInput);a.UITextArea=p},63747:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UICheckbox=void 0;var u=s(20255);s(70446);var d=s(30194),h=s(43441),p=s(24263),m=function(f){function g(x,y){var b=f.call(this,x,u.__assign(u.__assign({},y),{type:"checkbox"}))||this;return b.state=u.__assign({},v.defaultState),Object.assign(b.state,y),b}var v;return u.__extends(g,f),v=g,g.prototype.className=function(){return"UICheckbox"},g.prototype.render=function(){return this.j.c.element("label",{className:this.componentName})},g.prototype.onChangeChecked=function(){this.value=this.state.checked.toString(),this.nativeInput.checked=this.state.checked,this.setMod("checked",this.state.checked)},g.prototype.onChangeNativeCheckBox=function(){this.state.checked=this.nativeInput.checked},g.prototype.onChangeSwitch=function(){this.setMod("switch",this.state.switch);var x=this.getElm("switch-slider");this.state.switch?(x||(x=this.j.c.div(this.getFullElName("switch-slider"))),p.Dom.after(this.nativeInput,x)):p.Dom.safeRemove(x)},g.defaultState=u.__assign(u.__assign({},d.UIInput.defaultState),{checked:!1,switch:!1}),u.__decorate([(0,h.watch)("state.checked"),(0,h.hook)("ready")],g.prototype,"onChangeChecked",null),u.__decorate([(0,h.watch)("nativeInput:change")],g.prototype,"onChangeNativeCheckBox",null),u.__decorate([(0,h.watch)("state.switch"),(0,h.hook)("ready")],g.prototype,"onChangeSwitch",null),v=u.__decorate([h.component],g)}(d.UIInput);a.UICheckbox=m},41374:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIFileInput=void 0;var u=s(20255);s(18984);var d=s(30194),h=s(11441),p=s(96031),m=function(f){function g(v,x){var y=f.call(this,v,u.__assign({type:"file"},x))||this;return y.state=u.__assign(u.__assign({},d.UIInput.defaultState),{type:"file",onlyImages:!0}),y}return u.__extends(g,f),g.prototype.className=function(){return"UIFileInput"},g.prototype.createContainer=function(v){this.button=new p.UIButton(this.j,{icon:{name:"plus"}});var x=this.button.container;this.nativeInput||(this.nativeInput=this.createNativeInput(v));var y=this.nativeInput;return y.classList.add(this.getFullElName("input")),x.classList.add(this.componentName),x.appendChild(y),x},g.prototype.createNativeInput=function(v){return this.j.create.fromHTML(`<input
			type="file"
			accept="`.concat(v.onlyImages?"image/*":"*",`"
			tabindex="-1"
			dir="auto"
			multiple=""
		/>`))},u.__decorate([h.component],g)}(d.UIInput);a.UIFileInput=m},63034:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(30194),a),u.__exportStar(s(21639),a),u.__exportStar(s(63747),a),u.__exportStar(s(75840),a),u.__exportStar(s(41374),a)},30194:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIInput=void 0;var u=s(20255);s(4591);var d=s(53929),h=s(76502),p=s(1853),m=s(24263),f=s(43441),g=s(77904),v=s(60081),x=function(y){function b(_,S){var E=y.call(this,_,S)||this;return E.label=E.j.c.span(E.getFullElName("label")),E.icon=E.j.c.span(E.getFullElName("icon")),E.clearButton=E.j.c.span(E.getFullElName("clear"),g.Icon.get("cancel")),E.state=u.__assign({},w.defaultState),E.__errorBox=E.j.c.span(E.getFullElName("error")),E.validators=new Set([]),(S==null?void 0:S.value)!==void 0&&(S.value=S.value.toString()),Object.assign(E.state,S),E.state.clearButton!==void 0&&(E.j.e.on(E.clearButton,"click",function(A){A.preventDefault(),E.nativeInput.value="",E.j.e.fire(E.nativeInput,"input"),E.focus()}).on(E.nativeInput,"input",function(){E.state.clearButton=!!E.value.length}),E.state.clearButton=!!E.value.length),E.j.e.on(E.nativeInput,"focus blur",function(){E.onChangeFocus()}).on(E.nativeInput,"input change",E.onChangeValue),E.onChangeState(),E.onChangeClassName(),E.onChangeStateValue(),E}var w;return u.__extends(b,y),w=b,b.prototype.className=function(){return"UIInput"},b.prototype.onChangeClear=function(){this.state.clearButton?m.Dom.after(this.nativeInput,this.clearButton):m.Dom.safeRemove(this.clearButton)},b.prototype.onChangeClassName=function(_,S){S&&this.container.classList.remove(S),this.state.className&&this.container.classList.add(this.state.className)},b.prototype.onChangeState=function(){this.name=this.state.name;var _=this.nativeInput,S=this.state,E=S.name,A=S.icon,C=S.type,M=S.ref,T=S.required,k=S.placeholder,P=S.autocomplete,D=S.label;(0,h.attr)(_,"name",E),(0,h.attr)(_,"type",C),(0,h.attr)(_,"data-ref",M||E),(0,h.attr)(_,"ref",M||E),(0,h.attr)(_,"required",T||null),(0,h.attr)(_,"autocomplete",P?null:"off"),(0,h.attr)(_,"placeholder",k?this.j.i18n(k):""),A&&g.Icon.exists(A)?(m.Dom.before(_,this.icon),this.icon.innerHTML=g.Icon.get(A)):m.Dom.safeRemove(this.icon),D?(m.Dom.before(this.wrapper,this.label),this.label.innerText=this.j.i18n(D)):m.Dom.safeRemove(this.label),this.updateValidators()},b.prototype.updateValidators=function(){var _,S=this;this.validators.clear(),this.state.required&&this.validators.add(v.inputValidators.required),(_=this.state.validators)===null||_===void 0||_.forEach(function(E){var A=v.inputValidators[E];A&&S.validators.add(A)})},Object.defineProperty(b.prototype,"error",{set:function(_){this.setMod("has-error",!!_),_?(this.__errorBox.innerText=this.j.i18n(_,this.j.i18n(this.state.label||"")),this.container.appendChild(this.__errorBox)):m.Dom.safeRemove(this.__errorBox)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"value",{get:function(){return this.nativeInput.value},set:function(_){this.value!==_&&(this.nativeInput.value=_,this.onChangeValue())},enumerable:!1,configurable:!0}),b.prototype.onChangeStateValue=function(){var _=this.state.value.toString();_!==this.value&&(this.value=_)},b.prototype.onChangeValue=function(){var _,S,E=this.value;this.state.value!==E&&(this.state.value=E,this.j.e.fire(this,"change",E),(S=(_=this.state).onChange)===null||S===void 0||S.call(_,E))},b.prototype.validate=function(){var _=this;return this.error="",(0,p.toArray)(this.validators).every(function(S){return S(_)})},b.prototype.createContainer=function(_){var S=y.prototype.createContainer.call(this);this.wrapper=this.j.c.div(this.getFullElName("wrapper")),this.nativeInput||(this.nativeInput=this.createNativeInput());var E=this.nativeInput;return E.classList.add(this.getFullElName("input")),this.wrapper.appendChild(E),S.appendChild(this.wrapper),(0,h.attr)(E,"dir",this.j.o.direction||"auto"),S},b.prototype.createNativeInput=function(_){return this.j.create.element("input")},b.prototype.focus=function(){this.nativeInput.focus()},Object.defineProperty(b.prototype,"isFocused",{get:function(){return this.nativeInput===this.j.od.activeElement},enumerable:!1,configurable:!0}),b.prototype.onChangeFocus=function(){this.setMod("focused",this.isFocused)},b.defaultState={className:"",autocomplete:!0,name:"",value:"",icon:"",label:"",ref:"",type:"text",placeholder:"",required:!1,validators:[]},u.__decorate([(0,f.watch)("state.clearButton")],b.prototype,"onChangeClear",null),u.__decorate([(0,f.watch)("state.className")],b.prototype,"onChangeClassName",null),u.__decorate([(0,f.watch)(["state.name","state.type","state.label","state.placeholder","state.autocomplete","state.icon"]),(0,f.debounce)()],b.prototype,"onChangeState",null),u.__decorate([(0,f.watch)("state.value")],b.prototype,"onChangeStateValue",null),u.__decorate([f.autobind],b.prototype,"onChangeValue",null),w=u.__decorate([f.component],b)}(d.UIElement);a.UIInput=x},75840:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UISelect=void 0;var u=s(20255);s(64194);var d=s(67309),h=s(11441),p=s(30194),m=s(60081),f=function(g){function v(y,b){var w=g.call(this,y,b)||this;return w.state=u.__assign({},x.defaultState),Object.assign(w.state,b),w}var x;return u.__extends(v,g),x=v,v.prototype.className=function(){return"UISelect"},v.prototype.createContainer=function(y){var b,w=g.prototype.createContainer.call(this,y),_=this.j,S=this.nativeInput,E=function(){return _.create.element("option")};if(y.placeholder!==void 0){var A=E();A.value="",A.text=_.i18n(y.placeholder),S.add(A)}return(b=y.options)===null||b===void 0||b.forEach(function(C){var M=E();M.value=C.value.toString(),M.text=_.i18n(C.text),S.add(M)}),y.size&&y.size>0&&(0,d.attr)(S,"size",y.size),y.multiple&&(0,d.attr)(S,"multiple",""),w},v.prototype.createNativeInput=function(){return this.j.create.element("select")},v.prototype.updateValidators=function(){g.prototype.updateValidators.call(this),this.state.required&&(this.validators.delete(m.inputValidators.required),this.validators.add(m.selectValidators.required))},v.defaultState=u.__assign(u.__assign({},p.UIInput.defaultState),{options:[],size:1,multiple:!1}),x=u.__decorate([h.component],v)}(p.UIInput);a.UISelect=f},60081:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.selectValidators=a.inputValidators=void 0,a.inputValidators=s(63355),a.selectValidators=s(65935)},63355:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.url=a.required=void 0;var u=s(64350),d=s(33941);a.required=function(h){return!!(0,d.trim)(h.value).length||(h.error="Please fill out this field",!1)},a.url=function(h){return!!(0,u.isURL)((0,d.trim)(h.value))||(h.error="Please enter a web address",!1)}},65935:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.required=void 0;var u=s(33941);a.required=function(d){return!!(0,u.trim)(d.value).length||(d.error="Please fill out this field",!1)}},61479:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIGroup=void 0;var u=s(20255);s(70375);var d=s(53929),h=s(43441),p=s(40332),m=(s(52378),s(24263)),f=s(45113),g=function(v){function x(b,w,_){var S=v.call(this,b,_)||this;return S.options=_,S.syncMod=!1,S.elements=[],S.buttonSize="middle",w==null||w.forEach(function(E){return E&&S.append(E)}),_!=null&&_.name&&(S.name=_.name),S}var y;return u.__extends(x,v),y=x,x.prototype.className=function(){return"UIGroup"},Object.defineProperty(x.prototype,"allChildren",{get:function(){for(var b=[],w=u.__spreadArray([],u.__read(this.elements),!1);w.length;){var _=w.shift();(0,p.isArray)(_)?w.push.apply(w,u.__spreadArray([],u.__read(_),!1)):f.Component.isInstanceOf(_,y)?w.push.apply(w,u.__spreadArray([],u.__read(_.elements),!1)):_&&b.push(_)}return b},enumerable:!1,configurable:!0}),x.prototype.update=function(){this.elements.forEach(function(b){return b.update()}),this.setMod("size",this.buttonSize)},x.prototype.append=function(b,w){var _=this;return(0,p.isArray)(b)?(b.forEach(function(S){return _.append(S,w)}),this):(this.elements.push(b),b.name&&b.container.classList.add(this.getFullElName(b.name)),w?this.getElm(w).appendChild(b.container):this.appendChildToContainer(b.container),b.parentElement=this,b.update(),this)},x.prototype.afterSetMod=function(b,w){this.syncMod&&this.elements.forEach(function(_){return _.setMod(b,w)})},x.prototype.appendChildToContainer=function(b){this.container.appendChild(b)},x.prototype.remove=function(b){var w=this.elements.indexOf(b);return w!==-1&&(this.elements.splice(w,1),m.Dom.safeRemove(b.container),b.parentElement=null),this},x.prototype.clear=function(){return this.elements.forEach(function(b){return b.destruct()}),this.elements.length=0,this},x.prototype.destruct=function(){return this.clear(),v.prototype.destruct.call(this)},u.__decorate([(0,h.watch)("buttonSize")],x.prototype,"update",null),y=u.__decorate([h.component],x)}(d.UIElement);a.UIGroup=g},3249:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(61479),a),u.__exportStar(s(47970),a),u.__exportStar(s(75018),a),u.__exportStar(s(58495),a)},47970:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIList=void 0;var u=s(20255);s(90235);var d=s(32070),h=s(43441),p=s(61479),m=s(75018),f=s(58495),g=s(96031),v=s(97642),x=s(38546),y=s(14556),b=s(45113),w=function(_){function S(E){var A=_.call(this,E)||this;return A.mode="horizontal",A.removeButtons=[],A.onChangeMode(),A}return u.__extends(S,_),S.prototype.className=function(){return"UIList"},S.prototype.onChangeMode=function(){this.setMod("mode",this.mode)},S.prototype.makeGroup=function(){return new p.UIGroup(this.jodit)},Object.defineProperty(S.prototype,"buttons",{get:function(){return this.allChildren.filter(function(E){return b.Component.isInstanceOf(E,g.UIButton)})},enumerable:!1,configurable:!0}),S.prototype.getButtonsNames=function(){return this.buttons.map(function(E){return E instanceof g.UIButton&&E.state.name||""}).filter(function(E){return E!==""})},S.prototype.setRemoveButtons=function(E){return this.removeButtons=E||[],this},S.prototype.build=function(E,A){var C=this;A===void 0&&(A=null),E=(0,y.splitArray)(E),this.clear();var M,T=!1,k=this.makeGroup();this.append(k),k.setMod("line",!0);var P=function(I){var O=null;switch(I.name){case`
`:(k=C.makeGroup()).setMod("line",!0),M=C.makeGroup(),k.append(M),C.append(k);break;case"|":T||(T=!0,O=new m.UISeparator(C.j));break;case"---":M.setMod("before-spacer",!0);var j=new f.UISpacer(C.j);k.append(j),M=C.makeGroup(),k.append(M),T=!1;break;default:T=!1,O=C.makeButton(I,A)}O&&(M||(M=C.makeGroup(),k.append(M)),M.append(O))},D=function(I){return!C.removeButtons.includes(I.name)};return E.forEach(function(I){if((0,v.isButtonGroup)(I)){var O=I.buttons.filter(function(N){return N});O.length&&((M=C.makeGroup()).setMod("separated",!0).setMod("group",I.group),k.append(M),(0,d.getStrongControlTypes)(O,C.j.o.controls).filter(D).forEach(P))}else{M||(M=C.makeGroup(),k.append(M));var j=(0,x.getControlType)(I,C.j.o.controls);D(j)&&P(j)}}),this.update(),this},S.prototype.makeButton=function(E,A){return new g.UIButton(this.j)},u.__decorate([(0,h.watch)("mode")],S.prototype,"onChangeMode",null),u.__decorate([h.component],S)}(p.UIGroup);a.UIList=w},75018:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UISeparator=void 0;var u=s(20255),d=s(53929),h=s(11441),p=function(m){function f(){return m!==null&&m.apply(this,arguments)||this}return u.__extends(f,m),f.prototype.className=function(){return"UISeparator"},u.__decorate([h.component],f)}(d.UIElement);a.UISeparator=p},58495:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UISpacer=void 0;var u=s(20255),d=s(53929),h=s(11441),p=function(m){function f(){return m!==null&&m.apply(this,arguments)||this}return u.__extends(f,m),f.prototype.className=function(){return"UISpacer"},u.__decorate([h.component],f)}(d.UIElement);a.UISpacer=p},97642:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.flatButtonsSet=a.isButtonGroup=void 0;var u=s(20255),d=s(49781);a.isButtonGroup=function(h){return(0,d.isArray)(h.buttons)},a.flatButtonsSet=function(h,p){var m=p.getRegisteredButtonGroups();return new Set(h.reduce(function(f,g){var v;return(0,a.isButtonGroup)(g)?f=f.concat(u.__spreadArray(u.__spreadArray([],u.__read(g.buttons),!1),u.__read((v=m[g.group])!==null&&v!==void 0?v:[]),!1)):f.push(g),f},[]))}},38546:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.findControlType=a.getControlType=void 0;var u=s(20255),d=s(40332),h=s(93166);function p(m,f){var g=u.__read(m.split(/\./),2),v=g[0],x=g[1],y=f;return x!=null?f[v]!==void 0&&(y=f[v]):x=v,y[x]?u.__assign({name:x},(0,d.ConfigFlatten)(y[x])):void 0}a.getControlType=function(m,f){var g;return f||(f=h.Config.defaultOptions.controls),(0,d.isString)(m)?g=p(m,f)||{name:m,command:m,tooltip:m}:f[(g=u.__assign({name:"empty"},(0,d.ConfigFlatten)(m))).name]!==void 0&&(g=u.__assign(u.__assign({},(0,d.ConfigFlatten)(f[g.name])),(0,d.ConfigFlatten)(g))),g},a.findControlType=p},32070:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getStrongControlTypes=void 0;var u=s(38546),d=s(93166),h=s(49781),p=s(76502);a.getStrongControlTypes=function(m,f){return((0,h.isArray)(m)?m:(0,p.keys)(m,!1).map(function(g){return(0,p.ConfigProto)({name:g},m[g]||{})})).map(function(g){return(0,u.getControlType)(g,f||d.Config.defaultOptions.controls)})}},77904:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Icon=void 0;var u=s(26911),d=s(40332),h=function(){function p(){}return p.getIcon=function(m){return/<svg/i.test(m)?m:p.icons[m]||p.icons[m.replace(/-/g,"_")]||p.icons[m.replace(/_/g,"-")]||p.icons[(0,d.camelCase)(m)]||p.icons[(0,d.kebabCase)(m)]||p.icons[m.toLowerCase()]},p.exists=function(m){return this.getIcon(m)!==void 0},p.get=function(m,f){return f===void 0&&(f="<span></span>"),this.getIcon(m)||f},p.set=function(m,f){return this.icons[m.replace("_","-")]=f,this},p.makeIcon=function(m,f){var g,v;if(f){var x=f.name.replace(/[^a-zA-Z0-9]/g,"_");if(f.iconURL)v=m.c.span(),(0,u.css)(v,"backgroundImage","url("+f.iconURL.replace("{basePath}",(m==null?void 0:m.basePath)||"")+")");else{var y=m.e.fire("getIcon",f.name,f,x)||p.get(f.name,"")||((g=m.o.extraIcons)===null||g===void 0?void 0:g[f.name]);y&&(v=m.c.fromHTML(y.trim()),/^<svg/i.test(f.name)||v.classList.add("jodit-icon_"+x))}}return v&&(v.classList.add("jodit-icon"),v.style.fill=f.fill),v},p.icons={},p}();a.Icon=h},2074:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(53929),a),u.__exportStar(s(96516),a),u.__exportStar(s(35799),a),u.__exportStar(s(3249),a),u.__exportStar(s(95963),a),u.__exportStar(s(77904),a),u.__exportStar(s(63682),a)},35799:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(12680),a)},12680:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Popup=void 0;var u=s(20255);s(88477);var d=s(24263),h=s(40332),p=(s(52378),s(53929)),m=s(43441),f=s(45113),g=s(17332),v=function(x){function y(b,w){w===void 0&&(w=!0);var _=x.call(this,b)||this;return _.smart=w,_.isOpened=!1,_.strategy="leftBottom",_.viewBound=function(){return{left:0,top:0,width:_.ow.innerWidth,height:_.ow.innerHeight}},_.childrenPopups=new Set,(0,h.attr)(_.container,"role","popup"),_}return u.__extends(y,x),y.prototype.className=function(){return"Popup"},y.prototype.updateParentElement=function(b){var w=this;return b!==this&&f.Component.isInstanceOf(b,y)&&(this.childrenPopups.forEach(function(_){!b.closest(_)&&_.isOpened&&_.close()}),this.childrenPopups.has(b)||this.j.e.on(b,"beforeClose",function(){w.childrenPopups.delete(b)}),this.childrenPopups.add(b)),x.prototype.updateParentElement.call(this,b)},y.prototype.setContent=function(b){d.Dom.detach(this.container);var w,_=this.j.c.div("".concat(this.componentName,"__content"));return f.Component.isInstanceOf(b,p.UIElement)?(w=b.container,b.parentElement=this):w=(0,h.isString)(b)?this.j.c.fromHTML(b):b,_.appendChild(w),this.container.appendChild(_),this.updatePosition(),this},y.prototype.open=function(b,w,_){if(w===void 0&&(w=!1),(0,h.markOwner)(this.jodit,this.container),this.calculateZIndex(),this.isOpened=!0,this.addGlobalListeners(),this.targetBound=w?this.getKeepBound(b):b,_)_.appendChild(this.container);else{var S=(0,g.getContainer)(this.jodit,y);_!==this.container.parentElement&&S.appendChild(this.container)}return this.updatePosition(),this.j.e.fire(this,"afterOpen"),this},y.prototype.calculateZIndex=function(){var b=this;if(!this.container.style.zIndex){var w=function(A){var C=A.container.style.zIndex||A.o.zIndex;return!!C&&(b.setZIndex(1+parseInt(C.toString(),10)),!0)},_=this.j;if(!w(_))for(var S=this.parentElement;S;){if(w(_))return;if(S.container.style.zIndex)return void this.setZIndex(1+parseInt(S.container.style.zIndex.toString(),10));if(!S.parentElement&&S.container.parentElement){var E=p.UIElement.closestElement(S.container.parentElement,p.UIElement);if(E){S=E;continue}}S=S.parentElement}}},y.prototype.getKeepBound=function(b){var w=this,_=b(),S=this.od.elementFromPoint(_.left,_.top);if(!S)return b;var E=d.Dom.isHTMLElement(S)?S:S.parentElement,A=(0,h.position)(E,this.j);return function(){var C=b(),M=(0,h.position)(E,w.j);return u.__assign(u.__assign({},C),{top:C.top+(M.top-A.top),left:C.left+(M.left-A.left)})}},y.prototype.updatePosition=function(){if(!this.isOpened)return this;var b=u.__read(this.calculatePosition(this.targetBound(),this.viewBound(),(0,h.position)(this.container,this.j)),2),w=b[0];return this.setMod("strategy",b[1]),(0,h.css)(this.container,{left:w.left,top:w.top}),this.childrenPopups.forEach(function(_){return _.updatePosition()}),this},y.prototype.throttleUpdatePosition=function(){this.updatePosition()},y.prototype.calculatePosition=function(b,w,_,S){S===void 0&&(S=this.strategy);var E={left:b.left,right:b.left-(_.width-b.width)},A={bottom:b.top+b.height,top:b.top-_.height},C=Object.keys(E).reduce(function(P,D){return P.concat(Object.keys(A).map(function(I){return"".concat(D).concat((0,h.ucfirst)(I))}))},[]),M=function(P){var D=u.__read((0,h.kebabCase)(P).split("-"),2);return{left:E[D[0]],top:A[D[1]],width:_.width,height:_.height}},T=function(P){return y.boxInView(M(S),P)?S:C.find(function(D){if(y.boxInView(M(D),P))return D})||null},k=T((0,h.position)(this.j.container,this.j));return k&&y.boxInView(M(k),w)||(k=T(w)||k||S),[M(k),k]},y.boxInView=function(b,w){return!(-2>b.top-w.top||-2>b.left-w.left||-2>w.top+w.height-(b.top+b.height)||-2>w.left+w.width-(b.left+b.width))},y.prototype.close=function(){return this.isOpened?(this.isOpened=!1,this.childrenPopups.forEach(function(b){return b.close()}),this.j.e.fire(this,"beforeClose"),this.j.e.fire("beforePopupClose",this),this.removeGlobalListeners(),d.Dom.safeRemove(this.container),this):this},y.prototype.closeOnOutsideClick=function(b){this.isOpened&&!this.isOwnClick(b)&&this.close()},y.prototype.isOwnClick=function(b){if(!b.target)return!1;var w=p.UIElement.closestElement(b.target,y);return!!(w&&(this===w||w.closest(this)))},y.prototype.addGlobalListeners=function(){var b=this,w=this.throttleUpdatePosition,_=this.ow;g.eventEmitter.on("closeAllPopups",this.close),this.smart&&this.j.e.on("escape",this.close).on("mousedown touchstart",this.closeOnOutsideClick).on(_,"mousedown touchstart",this.closeOnOutsideClick),this.j.e.on("closeAllPopups",this.close).on("resize",w).on(this.container,"scroll mousewheel",w).on(_,"scroll",w).on(_,"resize",w),d.Dom.up(this.j.container,function(S){S&&b.j.e.on(S,"scroll mousewheel",w)})},y.prototype.removeGlobalListeners=function(){var b=this,w=this.throttleUpdatePosition,_=this.ow;g.eventEmitter.off("closeAllPopups",this.close),this.smart&&this.j.e.off("escape",this.close).off("mousedown touchstart",this.closeOnOutsideClick).off(_,"mousedown touchstart",this.closeOnOutsideClick),this.j.e.off("closeAllPopups",this.close).off("resize",w).off(this.container,"scroll mousewheel",w).off(_,"scroll",w).off(_,"resize",w),d.Dom.up(this.j.container,function(S){S&&b.j.e.off(S,"scroll mousewheel",w)})},y.prototype.setZIndex=function(b){this.container.style.zIndex=b.toString()},y.prototype.destruct=function(){return this.close(),x.prototype.destruct.call(this)},u.__decorate([m.autobind],y.prototype,"updatePosition",null),u.__decorate([(0,m.throttle)(10),m.autobind],y.prototype,"throttleUpdatePosition",null),u.__decorate([m.autobind],y.prototype,"close",null),u.__decorate([m.autobind],y.prototype,"closeOnOutsideClick",null),y}(p.UIElement);a.Popup=v},63682:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ProgressBar=void 0;var u=s(20255);s(50197);var d=s(24263),h=function(p){function m(){return p!==null&&p.apply(this,arguments)||this}return u.__extends(m,p),m.prototype.className=function(){return"ProgressBar"},m.prototype.render=function(){return"<div><div></div></div>"},m.prototype.show=function(){return(this.j.workplace||this.j.container).appendChild(this.container),this},m.prototype.hide=function(){return d.Dom.safeRemove(this.container),this},m.prototype.progress=function(f){return this.container.style.width=f.toFixed(2)+"%",this},m.prototype.destruct=function(){return this.hide(),p.prototype.destruct.call(this)},m}(s(53929).UIElement);a.ProgressBar=h},43608:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ViewWithToolbar=void 0;var u=s(20255);s(39008);var d=s(75902),h=s(40332),p=s(64968),m=s(81438),f=s(56562),g=s(97642),v=s(43441),x=function(y){function b(w,_){_===void 0&&(_=!1);var S=y.call(this,w,_)||this;return S.toolbar=(0,m.makeCollection)(S),S.defaultToolbarContainer=S.c.div("jodit-toolbar__box"),S.registeredButtons=new Set,S.groupToButtons={},S.isJodit=!1,S.isJodit=_,S.e.on("beforeToolbarBuild",S.beforeToolbarBuild),S}return u.__extends(b,y),Object.defineProperty(b.prototype,"toolbarContainer",{get:function(){return this.o.fullsize||!(0,h.isString)(this.o.toolbar)&&!p.Dom.isHTMLElement(this.o.toolbar)?(this.o.toolbar&&p.Dom.appendChildFirst(this.container,this.defaultToolbarContainer),this.defaultToolbarContainer):(0,h.resolveElement)(this.o.toolbar,this.o.shadowRoot||this.od)},enumerable:!1,configurable:!0}),b.prototype.setPanel=function(w){this.o.toolbar=w,this.buildToolbar()},b.prototype.buildToolbar=function(){if(this.o.toolbar){var w=this.o.buttons?(0,h.splitArray)(this.o.buttons):[];this.toolbar.setRemoveButtons(this.o.removeButtons).build(w.concat(this.o.extraButtons||[])).appendTo(this.toolbarContainer)}},b.prototype.getRegisteredButtonGroups=function(){return this.groupToButtons},b.prototype.registerButton=function(w){var _;this.registeredButtons.add(w);var S=(_=w.group)!==null&&_!==void 0?_:"other";return this.groupToButtons[S]||(this.groupToButtons[S]=[]),w.position!=null?this.groupToButtons[S][w.position]=w.name:this.groupToButtons[S].push(w.name),this},b.prototype.unregisterButton=function(w){var _;this.registeredButtons.delete(w);var S=(_=w.group)!==null&&_!==void 0?_:"other",E=this.groupToButtons[S];if(E){var A=E.indexOf(w.name);A!==-1&&E.splice(A,1),E.length===0&&delete this.groupToButtons[S]}return this},b.prototype.beforeToolbarBuild=function(w){var _=this;if(Object.keys(this.groupToButtons).length)return w.map(function(S){return(0,g.isButtonGroup)(S)&&S.group&&_.groupToButtons[S.group]?{group:S.group,buttons:u.__spreadArray(u.__spreadArray([],u.__read(S.buttons),!1),u.__read(_.groupToButtons[S.group]),!1)}:S})},b.prototype.destruct=function(){this.isDestructed||(this.setStatus(f.STATUSES.beforeDestruct),this.e.off("beforeToolbarBuild",this.beforeToolbarBuild),this.toolbar.destruct(),y.prototype.destruct.call(this))},u.__decorate([v.autobind],b.prototype,"beforeToolbarBuild",null),b}(d.View);a.ViewWithToolbar=x},75902:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.View=void 0;var u=s(20255),d=s(77462),h=s(40332),p=s(86893),m=s(87837),f=s(17332),g=s(43441),v=s(59829),x=s(55395),y=s(71014),b=function(w){function _(E,A){A===void 0&&(A=!1);var C=w.call(this)||this;return C.isJodit=A,C.isView=!0,C.parent=null,C.mods={},C.components=new Set,C.version="3.24.9",C.buffer=d.Storage.makeStorage(),C.storage=d.Storage.makeStorage(!0,C.componentName),C.OPTIONS=S.defaultOptions,C.__isFullSize=!1,C.__whoLocked="",C.isLockedNotBy=function(M){return C.isLocked&&C.__whoLocked!==M},C.__modulesInstances=new Map,C.id=new Date().getTime().toString(),C.buffer=d.Storage.makeStorage(),C.initOptions(E),C.initOwners(),C.events=new x.EventEmitter(C.od),C.create=new m.Create(C.od),C.container=C.c.div("jodit ".concat(C.componentName)),C.progressbar=new m.ProgressBar(C),C.message=new y.UIMessages(C,C.container),C}var S;return u.__extends(_,w),S=_,Object.defineProperty(_.prototype,"basePath",{get:function(){return this.o.basePath?this.o.basePath:p.BASE_PATH},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"defaultTimeout",{get:function(){return(0,h.isVoid)(this.o.defaultTimeout)?100:this.o.defaultTimeout},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"c",{get:function(){return this.create},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"container",{get:function(){return this.__container},set:function(E){this.__container=E},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"e",{get:function(){return this.events},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"options",{get:function(){return this.__options},set:function(E){this.__options=E},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),_.prototype.i18n=function(E){for(var A=[],C=1;arguments.length>C;C++)A[C-1]=arguments[C];return(0,h.i18n)(E,A,this.options)},_.prototype.toggleFullSize=function(E){E===void 0&&(E=!this.__isFullSize),E!==this.__isFullSize&&(this.__isFullSize=E,this.e.fire("toggleFullSize",E))},Object.defineProperty(_.prototype,"isLocked",{get:function(){return this.__whoLocked!==""},enumerable:!1,configurable:!0}),_.prototype.lock=function(E){return E===void 0&&(E="any"),!this.isLocked&&(this.__whoLocked=E,!0)},_.prototype.unlock=function(){return!!this.isLocked&&(this.__whoLocked="",!0)},Object.defineProperty(_.prototype,"isFullSize",{get:function(){return this.__isFullSize},enumerable:!1,configurable:!0}),_.prototype.getVersion=function(){return"3.24.9"},_.getVersion=function(){return"3.24.9"},_.prototype.initOptions=function(E){this.options=(0,h.ConfigProto)(E||{},(0,h.ConfigProto)(this.options||{},S.defaultOptions))},_.prototype.initOwners=function(){var E;this.ownerWindow=(E=this.o.ownerWindow)!==null&&E!==void 0?E:window},_.prototype.attachEvents=function(E){var A=this;if(E){var C=E==null?void 0:E.events;C&&Object.keys(C).forEach(function(M){return A.e.on(M,C[M])})}},_.prototype.getInstance=function(E,A){var C=this.e.fire((0,h.camelCase)("getInstance_"+E),A);if(C)return C;var M=f.modules[E],T=this.__modulesInstances;if(!(0,h.isFunction)(M))throw(0,h.error)("Need real module name");if(!T.has(E)){var k=M.prototype instanceof m.ViewComponent?new M(this,A):new M(A);this.components.add(k),T.set(E,k)}return T.get(E)},_.prototype.addDisclaimer=function(E){this.container.appendChild(E)},_.prototype.beforeDestruct=function(){this.e.fire(m.STATUSES.beforeDestruct,this),this.components.forEach(function(E){(0,h.isDestructable)(E)&&!E.isInDestruct&&E.destruct()}),this.components.clear()},_.prototype.destruct=function(){this.isDestructed||(this.progressbar.destruct(),this.message.destruct(),this.async&&this.async.destruct(),this.events&&this.e.destruct(),this.buffer&&this.buffer.clear(),m.Dom.safeRemove(this.container),w.prototype.destruct.call(this))},_.esNext=!1,u.__decorate([(0,g.hook)(m.STATUSES.beforeDestruct)],_.prototype,"beforeDestruct",null),S=u.__decorate([(0,g.derive)(v.Mods,v.Elms)],_)}(m.Component);a.View=b,b.defaultOptions={extraButtons:[],textIcons:!1,namespace:"",removeButtons:[],zIndex:100002,defaultTimeout:100,fullsize:!1,showTooltip:!0,useNativeTooltip:!1,buttons:[],globalFullSize:!0,language:"auto"}},37920:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Jodit=void 0;var u=s(20255),d=s(93166),h=s(86893),p=s(87837),m=s(40332),f=s(77462),g=s(86893),v=s(17332),x=s(43441),y=s(59829),b=s(30056),w="data-jodit-default-style-display",_="data-jodit-default-classes",S=function(A){function C(T,k){var P=A.call(this,k,!0)||this;P.isJodit=!0,P.commands=new Map,P.__selectionLocked=null,P.__wasReadOnly=!1,P.createInside=new p.Create(function(){return P.ed},P.o.createAttributes),P.editorIsActive=!1,P.__mode=h.MODE_WYSIWYG,P.__callChangeCount=0,P.__isSilentChange=!1,P.__elementToPlace=new Map;try{var D=(0,m.resolveElement)(T,P.o.shadowRoot||P.od);if(M.isJoditAssigned(D))return D.component}catch(O){throw P.destruct(),O}P.setStatus(p.STATUSES.beforeInit),P.id=(0,m.attr)((0,m.resolveElement)(T,P.o.shadowRoot||P.od),"id")||new Date().getTime().toString(),v.instances[P.id]=P,P.storage=f.Storage.makeStorage(!0,P.id),P.attachEvents(k),P.e.on(P.ow,"resize",function(){P.e&&P.e.fire("resize")}),P.e.on("prepareWYSIWYGEditor",P.__prepareWYSIWYGEditor),P.selection=new p.Select(P);var I=P.beforeInitHook();return(0,m.callPromise)(I,function(){P.e.fire("beforeInit",P),v.pluginSystem.__init(P),P.e.fire("afterPluginSystemInit",P),P.e.on("changePlace",function(){P.setReadOnly(P.o.readonly),P.setDisabled(P.o.disabled)}),P.places.length=0;var O=P.addPlace(T,k);v.instances[P.id]=P,(0,m.callPromise)(O,function(){P.e&&P.e.fire("afterInit",P),P.afterInitHook(),P.setStatus(p.STATUSES.ready),P.e.fire("afterConstructor",P)})}),P}var M;return u.__extends(C,A),M=C,C.prototype.className=function(){return"Jodit"},C.prototype.waitForReady=function(){var T=this;return this.isReady?Promise.resolve(this):this.async.promise(function(k){T.hookStatus("ready",function(){return k(T)})})},Object.defineProperty(C,"ready",{get:function(){return new Promise(function(T){v.eventEmitter.on("oditready",T)})},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"text",{get:function(){if(this.editor)return this.editor.innerText||"";var T=this.createInside.div();return T.innerHTML=this.getElementValue(),T.innerText||""},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"defaultTimeout",{get:function(){return(0,m.isNumber)(this.o.defaultTimeout)?this.o.defaultTimeout:d.Config.defaultOptions.defaultTimeout},enumerable:!1,configurable:!0}),C.atom=function(T){return(0,m.markAsAtomic)(T)},C.make=function(T,k){return new this(T,k)},C.isJoditAssigned=function(T){return T&&(0,m.isJoditObject)(T.component)&&!T.component.isInDestruct},Object.defineProperty(C,"defaultOptions",{get:function(){return d.Config.defaultOptions},enumerable:!1,configurable:!0}),C.prototype.__setPlaceField=function(T,k){this.currentPlace||(this.currentPlace={},this.places=[this.currentPlace]),this.currentPlace[T]=k},Object.defineProperty(C.prototype,"element",{get:function(){return this.currentPlace.element},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"editor",{get:function(){return this.currentPlace.editor},set:function(T){this.__setPlaceField("editor",T)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"container",{get:function(){return this.currentPlace.container},set:function(T){this.__setPlaceField("container",T)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"workplace",{get:function(){return this.currentPlace.workplace},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"statusbar",{get:function(){return this.currentPlace.statusbar},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"iframe",{get:function(){return this.currentPlace.iframe},set:function(T){this.__setPlaceField("iframe",T)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"history",{get:function(){return this.currentPlace.history},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"observer",{get:function(){return this.history},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"editorWindow",{get:function(){return this.currentPlace.editorWindow},set:function(T){this.__setPlaceField("editorWindow",T)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"ew",{get:function(){return this.editorWindow},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"editorDocument",{get:function(){return this.currentPlace.editorWindow.document},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"ed",{get:function(){return this.editorDocument},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"options",{get:function(){return this.currentPlace.options},set:function(T){this.__setPlaceField("options",T)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"s",{get:function(){return this.selection},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"uploader",{get:function(){return this.getInstance("Uploader",this.o.uploader)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"filebrowser",{get:function(){var T=this,k=(0,m.ConfigProto)({defaultTimeout:T.defaultTimeout,uploader:T.o.uploader,language:T.o.language,license:T.o.license,theme:T.o.theme,shadowRoot:T.o.shadowRoot,defaultCallback:function(P){P.files&&P.files.length&&P.files.forEach(function(D,I){var O=P.baseurl+D;P.isImages&&P.isImages[I]?T.s.insertImage(O,null,T.o.imageDefaultWidth):T.s.insertNode(T.createInside.fromHTML("<a href='".concat(O,"' title='").concat(O,"'>").concat(O,"</a>")))})}},this.o.filebrowser);return T.getInstance("FileBrowser",k)},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"mode",{get:function(){return this.__mode},set:function(T){this.setMode(T)},enumerable:!1,configurable:!0}),C.prototype.getNativeEditorValue=function(){var T=this.e.fire("beforeGetNativeEditorValue");return(0,m.isString)(T)?T:this.editor?this.editor.innerHTML:this.getElementValue()},C.prototype.setNativeEditorValue=function(T){var k={value:T};this.e.fire("beforeSetNativeEditorValue",k)||this.editor&&(this.editor.innerHTML=k.value)},Object.defineProperty(C.prototype,"value",{get:function(){return this.getEditorValue()},set:function(T){this.setEditorValue(T),this.history.__processChanges()},enumerable:!1,configurable:!0}),C.prototype.synchronizeValues=function(){this.__imdSynchronizeValues()},C.prototype.__imdSynchronizeValues=function(){this.setEditorValue()},C.prototype.getEditorValue=function(T,k){var P;if(T===void 0&&(T=!0),(P=this.e.fire("beforeGetValueFromEditor",k))!==void 0)return P;P=this.getNativeEditorValue().replace(h.INVISIBLE_SPACE_REG_EXP(),""),T&&(P=P.replace(/<span[^>]+id="jodit-selection_marker_[^>]+><\/span>/g,"")),P==="<br>"&&(P="");var D={value:P};return this.e.fire("afterGetValueFromEditor",D,k),D.value},C.prototype.setEditorValue=function(T){var k=this.e.fire("beforeSetValueToEditor",T);if(k!==!1)if((0,m.isString)(k)&&(T=k),this.editor){if(!(0,m.isString)(T)&&!(0,m.isVoid)(T))throw(0,m.error)("value must be string");(0,m.isVoid)(T)||this.getNativeEditorValue()===T||this.setNativeEditorValue(T),this.e.fire("postProcessSetEditorValue");var P=this.getElementValue(),D=this.getEditorValue();if(!this.__isSilentChange&&P!==D&&h.SAFE_COUNT_CHANGE_CALL>this.__callChangeCount){this.__setElementValue(D),this.__callChangeCount+=1;try{this.history.__upTick(),this.e.fire("change",D,P),this.e.fire(this.history,"change",D,P)}finally{this.__callChangeCount=0}}}else T!==void 0&&this.__setElementValue(T)},C.prototype.updateElementValue=function(){this.__setElementValue(this.getEditorValue())},C.prototype.getElementValue=function(){return this.element.value!==void 0?this.element.value:this.element.innerHTML},C.prototype.setElementValue=function(T){var k=this.getElementValue();return(T===void 0||(0,m.isString)(T)&&T!==k)&&(T!=null||(T=k),T!==this.getEditorValue()&&this.setEditorValue(T)),this.__setElementValue(T)},C.prototype.__setElementValue=function(T){var k=this;if(!(0,m.isString)(T))throw(0,m.error)("value must be string");if(this.element!==this.container&&T!==this.getElementValue()){var P={value:T},D=this.e.fire("beforeSetElementValue",P);(0,m.callPromise)(D,function(){k.element.value!==void 0?k.element.value=P.value:k.element.innerHTML=P.value,k.e.fire("afterSetElementValue",P)})}},C.prototype.registerCommand=function(T,k,P){var D=T.toLowerCase(),I=this.commands.get(D);if(I===void 0&&this.commands.set(D,I=[]),I.push(k),!(0,m.isFunction)(k)){var O=this.o.commandToHotkeys[D]||this.o.commandToHotkeys[T]||k.hotkeys;O&&this.registerHotkeyToCommand(O,D,P==null?void 0:P.stopPropagation)}return this},C.prototype.registerHotkeyToCommand=function(T,k,P){var D=this;P===void 0&&(P=!0);var I=(0,m.asArray)(T).map(m.normalizeKeyAliases).map(function(O){return O+".hotkey"}).join(" ");this.e.off(I).on(I,function(O,j){return j&&(j.shouldStop=P==null||P),D.execCommand(k)})},C.prototype.execCommand=function(T,k,P){for(var D,I=[],O=3;arguments.length>O;O++)I[O-3]=arguments[O];if(this.s.isFocused()||this.s.focus(),!this.o.readonly||this.o.allowCommandsInReadOnly.includes(T)){var j;if(T=T.toLowerCase(),(j=(D=this.e).fire.apply(D,u.__spreadArray(["beforeCommand",T,k,P],u.__read(I),!1)))!==!1&&(j=this.__execCustomCommands.apply(this,u.__spreadArray([T,k,P],u.__read(I),!1))),j!==!1)if(this.s.focus(),T==="selectall")this.s.select(this.editor,!0),this.s.expandSelection();else try{j=this.nativeExecCommand(T,k,P)}catch{}return this.e.fire("afterCommand",T,k,P),this.setEditorValue(),j}},C.prototype.nativeExecCommand=function(T,k,P){this.__isSilentChange=!0;try{return this.ed.execCommand(T,k,P)}finally{this.__isSilentChange=!1}},C.prototype.__execCustomCommands=function(T,k,P){for(var D=this,I=[],O=3;arguments.length>O;O++)I[O-3]=arguments[O];T=T.toLowerCase();var j,N=this.commands.get(T);if(N!==void 0)return N.forEach(function(R){var F,U=(F=(0,m.isFunction)(R)?R:R.exec).call.apply(F,u.__spreadArray([D,T,k,P],u.__read(I),!1));U!==void 0&&(j=U)}),j},C.prototype.lock=function(T){return T===void 0&&(T="any"),!!A.prototype.lock.call(this,T)&&(this.__selectionLocked=this.s.save(),this.s.clear(),this.editor.classList.add("jodit_lock"),this.e.fire("lock",!0),!0)},C.prototype.unlock=function(){return!!A.prototype.unlock.call(this)&&(this.editor.classList.remove("jodit_lock"),this.__selectionLocked&&this.s.restore(),this.e.fire("lock",!1),!0)},C.prototype.getMode=function(){return this.mode},C.prototype.isEditorMode=function(){return this.getRealMode()===h.MODE_WYSIWYG},C.prototype.getRealMode=function(){if(this.getMode()!==h.MODE_SPLIT)return this.getMode();var T=this.od.activeElement;return T&&(T===this.iframe||p.Dom.isOrContains(this.editor,T)||p.Dom.isOrContains(this.toolbar.container,T))?h.MODE_WYSIWYG:h.MODE_SOURCE},C.prototype.setMode=function(T){var k=this,P=this.getMode(),D={mode:parseInt(T.toString(),10)},I=["jodit-wysiwyg_mode","jodit-source__mode","jodit_split_mode"];this.e.fire("beforeSetMode",D)!==!1&&(this.__mode=[h.MODE_SOURCE,h.MODE_WYSIWYG,h.MODE_SPLIT].includes(D.mode)?D.mode:h.MODE_WYSIWYG,this.o.saveModeInStorage&&this.storage.set("jodit_default_mode",this.mode),I.forEach(function(O){k.container.classList.remove(O)}),this.container.classList.add(I[this.mode-1]),P!==this.getMode()&&this.e.fire("afterSetMode"))},C.prototype.toggleMode=function(){var T=this.getMode();[h.MODE_SOURCE,h.MODE_WYSIWYG,this.o.useSplitMode?h.MODE_SPLIT:9].includes(T+1)?T+=1:T=h.MODE_WYSIWYG,this.setMode(T)},C.prototype.setDisabled=function(T){this.o.disabled=T;var k=this.__wasReadOnly;this.setReadOnly(T||k),this.__wasReadOnly=k,this.editor&&(this.editor.setAttribute("aria-disabled",T.toString()),this.container.classList.toggle("jodit_disabled",T),this.e.fire("disabled",T))},C.prototype.getDisabled=function(){return this.o.disabled},C.prototype.setReadOnly=function(T){this.__wasReadOnly!==T&&(this.__wasReadOnly=T,this.o.readonly=T,T?this.editor&&this.editor.removeAttribute("contenteditable"):this.editor&&this.editor.setAttribute("contenteditable","true"),this.e&&this.e.fire("readonly",T))},C.prototype.getReadOnly=function(){return this.o.readonly},C.prototype.focus=function(){this.getMode()!==h.MODE_SOURCE&&this.s.focus()},Object.defineProperty(C.prototype,"isFocused",{get:function(){return this.s.isFocused()},enumerable:!1,configurable:!0}),C.prototype.beforeInitHook=function(){},C.prototype.afterInitHook=function(){},C.prototype.initOptions=function(T){this.options=(0,m.ConfigProto)(T||{},d.Config.defaultOptions)},C.prototype.initOwners=function(){this.editorWindow=this.o.ownerWindow,this.ownerWindow=this.o.ownerWindow},C.prototype.addPlace=function(T,k){var P=this,D=(0,m.resolveElement)(T,this.o.shadowRoot||this.od);this.attachEvents(k),D.attributes&&(0,m.toArray)(D.attributes).forEach(function(H){var X=H.name,G=H.value;d.Config.defaultOptions[X]===void 0||k&&k[X]!==void 0||(["readonly","disabled"].indexOf(X)!==-1&&(G=G===""||G==="true"),/^[0-9]+(\.)?([0-9]+)?$/.test(G.toString())&&(G=Number(G)),P.options[X]=G)});var I=this.c.div("jodit-container");I.classList.add("jodit"),I.classList.add("jodit-container"),I.classList.add("jodit_theme_".concat(this.o.theme||"default")),E(this.o.className,I),this.o.containerStyle&&(0,m.css)(I,this.o.containerStyle);var O=this.o.styleValues;Object.keys(O).forEach(function(H){var X=(0,m.kebabCase)(H);I.style.setProperty("--jd-".concat(X),O[H])}),I.setAttribute("contenteditable","false");var j=null;this.o.inline&&(["TEXTAREA","INPUT"].indexOf(D.nodeName)===-1&&(I=D,D.setAttribute(_,D.className.toString()),j=I.innerHTML,I.innerHTML=""),I.classList.add("jodit_inline"),I.classList.add("jodit-container")),D!==I&&(D.style.display&&D.setAttribute(w,D.style.display),D.style.display="none");var N=this.c.div("jodit-workplace",{contenteditable:!1});I.appendChild(N),this.message.destruct(),this.message=new p.UIMessages(this,N),D.parentNode&&D!==I&&D.parentNode.insertBefore(I,D),Object.defineProperty(D,"component",{enumerable:!1,configurable:!0,value:this});var R=this.c.div("jodit-wysiwyg",{contenteditable:!0,"aria-disabled":!1,tabindex:this.o.tabIndex});N.appendChild(R);var F={editor:R,element:D,container:I,workplace:N,statusbar:new p.StatusBar(this,I),options:this.isReady?(0,m.ConfigProto)(k||{},d.Config.defaultOptions):this.options,history:new p.History(this),editorWindow:this.ow};this.__elementToPlace.set(R,F),this.setCurrentPlace(F),this.places.push(F),this.setNativeEditorValue(this.getElementValue());var U=this.__initEditor(j),B=this.options;return(0,m.callPromise)(U,function(){B.enableDragAndDropFileToEditor&&B.uploader&&(B.uploader.url||B.uploader.insertImageAsBase64URI)&&P.uploader.bind(P.editor),P.__elementToPlace.get(P.editor)||P.__elementToPlace.set(P.editor,F),P.e.fire("afterAddPlace",F)})},C.prototype.addDisclaimer=function(T){this.workplace.appendChild(T)},C.prototype.setCurrentPlace=function(T){this.currentPlace!==T&&(this.isEditorMode()||this.setMode(h.MODE_WYSIWYG),this.currentPlace=T,this.buildToolbar(),this.isReady&&this.e.fire("changePlace",T))},C.prototype.__initEditor=function(T){var k=this,P=this.__createEditor();return(0,m.callPromise)(P,function(){if(!k.isInDestruct){if(k.element!==k.container){var D=k.getElementValue();D!==k.getEditorValue()&&k.setEditorValue(D)}else T!=null&&k.setEditorValue(T);var I=k.o.defaultMode;if(k.o.saveModeInStorage){var O=k.storage.get("jodit_default_mode");typeof O=="string"&&(I=parseInt(O,10))}k.setMode(I),k.o.readonly&&(k.__wasReadOnly=!1,k.setReadOnly(!0)),k.o.disabled&&k.setDisabled(!0);try{k.ed.execCommand("defaultParagraphSeparator",!1,k.o.enter.toLowerCase())}catch{}try{k.ed.execCommand("enableObjectResizing",!1,"false")}catch{}try{k.ed.execCommand("enableInlineTableEditing",!1,"false")}catch{}}})},C.prototype.__createEditor=function(){var T=this,k=this.editor,P=this.e.fire("createEditor",this);return(0,m.callPromise)(P,function(){if(!T.isInDestruct){if((P===!1||(0,m.isPromise)(P))&&p.Dom.safeRemove(k),E(T.o.editorClassName||T.o.editorCssClass,T.editor),T.o.editorCssClass&&T.editor.classList.add(T.o.editorCssClass),T.o.style&&(0,m.css)(T.editor,T.o.style),T.e.on("synchro",function(){T.setEditorValue()}).on("focus",function(){T.editorIsActive=!0}).on("blur",function(){return T.editorIsActive=!1}),T.__prepareWYSIWYGEditor(),T.o.direction){var D=T.o.direction.toLowerCase()==="rtl"?"rtl":"ltr";T.container.style.direction=D,T.container.setAttribute("dir",D),T.toolbar.setDirection(D)}T.o.triggerChangeEvent&&T.e.on("change",T.async.debounce(function(){T.e&&T.e.fire(T.element,"change")},T.defaultTimeout))}})},C.prototype.__prepareWYSIWYGEditor=function(){var T=this,k=this.editor;if(this.o.direction){var P=this.o.direction.toLowerCase()==="rtl"?"rtl":"ltr";this.editor.style.direction=P,this.editor.setAttribute("dir",P)}this.e.on(k,"mousedown touchstart focus",function(){var D=T.__elementToPlace.get(k);D&&T.setCurrentPlace(D)}).on(k,"compositionend",this.synchronizeValues).on(k,"selectionchange selectionstart keydown keyup input keypress dblclick mousedown mouseup click copy cut dragstart drop dragover paste resize touchstart touchend focus blur",function(D){if(!T.o.readonly&&!T.__isSilentChange&&!(D instanceof T.ew.KeyboardEvent&&D.isComposing)&&T.e&&T.e.fire){if(T.e.fire(D.type,D)===!1)return!1;T.synchronizeValues()}})},C.prototype.fetch=function(T,k){var P=this,D=new b.Ajax(u.__assign({url:T},k),this.o.defaultAjaxOptions),I=function(){P.e.off("beforeDestruct",I),P.progressbar.progress(100).hide(),D.destruct()};this.e.one("beforeDestruct",I),this.progressbar.show().progress(30);var O=D.send();return O.finally(I).catch(function(){return null}),O},C.prototype.destruct=function(){var T=this;if(!this.isInDestruct&&(this.setStatus(p.STATUSES.beforeDestruct),this.__elementToPlace.clear(),this.editor)){var k=this.getEditorValue();this.storage.clear(),this.buffer.clear(),this.commands.clear(),this.__selectionLocked=null,this.e.off(this.ow,"resize"),this.e.off(this.ow),this.e.off(this.od),this.e.off(this.od.body),this.places.forEach(function(P){var D=P.container,I=P.workplace,O=P.statusbar,j=P.element,N=P.iframe,R=P.editor,F=P.history;if(j!==D)if(j.hasAttribute(w)){var U=(0,m.attr)(j,w);U&&(j.style.display=U,j.removeAttribute(w))}else j.style.display="";else j.hasAttribute(_)&&(j.className=(0,m.attr)(j,_)||"",j.removeAttribute(_));j.hasAttribute("style")&&!(0,m.attr)(j,"style")&&j.removeAttribute("style"),O.destruct(),T.e.off(D),T.e.off(j),T.e.off(R),p.Dom.safeRemove(I),p.Dom.safeRemove(R),D!==j&&p.Dom.safeRemove(D),Object.defineProperty(j,"component",{enumerable:!1,configurable:!0,value:null}),p.Dom.safeRemove(N),D===j&&(j.innerHTML=k),F.destruct()}),this.places.length=0,this.currentPlace={},delete v.instances[this.id],A.prototype.destruct.call(this)}},C.fatMode=!1,C.plugins=v.pluginSystem,C.modules=v.modules,C.ns=v.modules,C.decorators={},C.constants=h,C.instances=v.instances,C.lang=g.lang,C.core={Plugin:p.Plugin},u.__decorate([x.cache],C.prototype,"uploader",null),u.__decorate([x.cache],C.prototype,"filebrowser",null),u.__decorate([(0,x.throttle)()],C.prototype,"synchronizeValues",null),u.__decorate([(0,x.watch)(":internalChange")],C.prototype,"updateElementValue",null),u.__decorate([x.autobind],C.prototype,"__prepareWYSIWYGEditor",null),M=u.__decorate([(0,x.derive)(y.Dlgs)],C)}(p.ViewWithToolbar);function E(A,C){A&&A.split(/\s+/).forEach(function(M){return C.classList.add(M)})}a.Jodit=S},26435:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(10172),d={},h=s(90643),p=s(52532),m=s(75178),f=s(51048),g=s(22999),v=s(34145),x=s(40272),y=s(2978),b=s(99113),w=s(51923),_=s(21268),S=s(37289),E=s(26501),A=s(17084),C=s(96891),M=s(31211),T=s(31109),k=s(79375),P=s(21042),D=s(73895);d={ar:h,cs_cz:p,de:m,en:f,es:g,fr:v,he:x,hu:y,id:b,it:w,ja:_,ko:S,mn:E,nl:A,pl:C,pt_br:M,ru:T,tr:k,zh_cn:P,zh_tw:D};var I=s(11399),O=function(N){return N?N.default||N:{}},j={};(0,u.isArray)(O(I))&&O(I).forEach(function(N,R){j[R]=N}),Object.keys(d).forEach(function(N){var R=O(d[N]);(0,u.isArray)(R)?(d[N]={},R.forEach(function(F,U){d[N][j[U]]=F})):d[N]=R}),a.default=d},60403:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ContextMenu=void 0;var u=s(20255);s(47086);var d=s(35799),h=s(96516),p=s(10172),m=s(11441),f=function(g){function v(){return g!==null&&g.apply(this,arguments)||this}return u.__extends(v,g),v.prototype.className=function(){return"ContextMenu"},v.prototype.show=function(x,y,b){var w=this,_=this,S=this.j.c.div(this.getFullElName("actions"));(0,p.isArray)(b)&&(b.forEach(function(E){if(E){var A=(0,h.Button)(w.jodit,E.icon||"empty",E.title);w.jodit&&A.setParentView(w.jodit),A.setMod("context","menu"),A.onAction(function(C){var M;return(M=E.exec)===null||M===void 0||M.call(_,C),_.close(),!1}),S.appendChild(A.container)}}),this.setContent(S).open(function(){return{left:x,top:y,width:0,height:0}},!0))},u.__decorate([m.component],v)}(d.Popup);a.ContextMenu=f},97528:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Alert=void 0;var u=s(6690),d=s(40332),h=s(64968),p=s(2074);a.Alert=function(m,f,g,v){v===void 0&&(v="jodit-dialog_alert"),(0,d.isFunction)(f)&&(g=f,f=void 0);var x=this instanceof u.Dialog?this:new u.Dialog,y=x.c.div(v),b=(0,p.Button)(x,"ok","Ok");return(0,d.asArray)(m).forEach(function(w){y.appendChild(h.Dom.isNode(w)?w:x.c.fromHTML(w))}),b.onAction(function(){g&&(0,d.isFunction)(g)&&g(x)===!1||x.close()}),x.setFooter([b]),x.open(y,f||"&nbsp;",!0,!0),b.focus(),x}},47360:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Confirm=void 0;var u=s(6690),d=s(42096),h=s(96031);a.Confirm=function(p,m,f){var g=this instanceof u.Dialog?this:new u.Dialog,v=g.c.fromHTML('<form class="jodit-dialog_prompt"></form>'),x=g.c.element("label");(0,d.isFunction)(m)&&(f=m,m=void 0),x.appendChild(g.c.fromHTML(p)),v.appendChild(x);var y=function(_){return function(){f&&f(_)===!1||g.close()}},b=(0,h.Button)(g,"cancel","Cancel"),w=(0,h.Button)(g,"ok","Yes");return b.onAction(y(!1)),w.onAction(y(!0)),g.e.on(v,"submit",function(){return y(!0)(),!1}),g.setFooter([w,b]),g.open(v,m||"&nbsp;",!0,!0),w.focus(),g}},6690:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Dialog=void 0;var u=s(20255);s(16462);var d=s(93166),h=s(86893),p=s(40332),m=(s(52378),s(43608)),f=s(64968),g=s(56562),v=s(17332),x=s(43441),y=s(75902),b=s(2074),w=s(71014);d.Config.prototype.dialog={namespace:"",extraButtons:[],resizable:!0,draggable:!0,buttons:["dialog.close"],removeButtons:[],toolbarButtonSize:"middle",zIndex:"inherit"},d.Config.prototype.controls.dialog={close:{icon:"cancel",exec:function(S){S.close()}}};var _=function(S){function E(A){A===void 0&&(A={});var C=S.call(this,A)||this;C.destroyAfterClose=!1,C.moved=!1,C.resizable=!1,C.draggable=!1,C.startX=0,C.startY=0,C.startPoint={x:0,y:0,w:0,h:0},C.lockSelect=function(){C.setMod("moved",!0)},C.unlockSelect=function(){C.setMod("moved",!1)},C.onResize=function(){C.options&&C.o.resizable&&!C.moved&&C.isOpened&&!C.offsetX&&!C.offsetY&&C.setPosition()},C.isModal=!1,C.isOpened=!1;var M=C;M.options=(0,p.ConfigProto)(A,(0,p.ConfigProto)(d.Config.prototype.dialog,y.View.defaultOptions)),f.Dom.safeRemove(M.container);var T=C.getFullElName.bind(C);M.container=C.c.fromHTML('<div class="jodit jodit-dialog '.concat(C.componentName,`">
				<div class="`).concat(T("overlay"),`"></div>
				<div class="`).concat(C.getFullElName("panel"),`">
					<div class="`).concat(T("header"),`">
						<div class="`).concat(T("header-title"),`"></div>
						<div class="`).concat(T("header-toolbar"),`"></div>
					</div>
					<div class="`).concat(T("content"),`"></div>
					<div class="`).concat(T("footer"),`"></div>
					<div class="`).concat(T("resizer"),'">').concat(b.Icon.get("resize_handler"),`</div>
				</div>
			</div>`)),C.o.zIndex&&(C.container.style.zIndex=C.o.zIndex.toString()),(0,p.attr)(M.container,"role","dialog"),Object.defineProperty(M.container,"component",{value:C}),M.setMod("theme",M.o.theme||"default").setMod("resizable",!!M.o.resizable);var k=M.getElm("panel"),P=M.getElm("resizer"),D=M.getElm("header-title"),I=M.getElm("content"),O=M.getElm("footer"),j=M.getElm("header-toolbar");C.message.destruct(),C.message=new w.UIMessages(C,k),C.dialog=k,C.resizer=P,C.dialogbox_header=D,C.dialogbox_content=I,C.dialogbox_footer=O,C.dialogbox_toolbar=j,(0,p.css)(M.dialog,{maxWidth:M.options.maxWidth,minHeight:M.options.minHeight,minWidth:M.options.minWidth});var N=M.getElm("header");N&&M.e.on(N,"pointerdown touchstart",M.onHeaderMouseDown),M.e.on(M.resizer,"mousedown touchstart",M.onResizerMouseDown);var R=v.pluginSystem.get("fullsize");return(0,p.isFunction)(R)&&R(M),C.e.on(M.container,"close_dialog",M.close).on(C.ow,"keydown",C.onEsc).on(C.ow,"resize",C.onResize),C}return u.__extends(E,S),E.prototype.className=function(){return"Dialog"},Object.defineProperty(E.prototype,"destination",{get:function(){var A;return(A=this.o.shadowRoot)!==null&&A!==void 0?A:this.od.body},enumerable:!1,configurable:!0}),E.prototype.setElements=function(A,C){var M=this,T=[];(0,p.asArray)(C).forEach(function(k){if((0,p.isArray)(k)){var P=M.c.div(M.getFullElName("column"));return T.push(P),A.appendChild(P),M.setElements(P,k)}var D;D=(0,p.isString)(k)?M.c.fromHTML(k):(0,p.hasContainer)(k)?k.container:k,T.push(D),D.parentNode!==A&&A.appendChild(D)}),(0,p.toArray)(A.childNodes).forEach(function(k){T.indexOf(k)===-1&&A.removeChild(k)})},E.prototype.onMouseUp=function(){(this.draggable||this.resizable)&&(this.removeGlobalResizeListeners(),this.draggable=!1,this.resizable=!1,this.unlockSelect(),this.e&&(this.removeGlobalResizeListeners(),this.e.fire(this,"endResize endMove")))},E.prototype.onHeaderMouseDown=function(A){var C=A.target;!this.o.draggable||C&&C.nodeName.match(/^(INPUT|SELECT)$/)||(this.draggable=!0,this.startX=A.clientX,this.startY=A.clientY,this.startPoint.x=(0,p.css)(this.dialog,"left"),this.startPoint.y=(0,p.css)(this.dialog,"top"),this.setMaxZIndex(),A.cancelable&&A.preventDefault(),this.lockSelect(),this.addGlobalResizeListeners(),this.e&&this.e.fire(this,"startMove"))},E.prototype.onMouseMove=function(A){this.draggable&&this.o.draggable&&(this.setPosition(this.startPoint.x+A.clientX-this.startX,this.startPoint.y+A.clientY-this.startY),this.e&&this.e.fire(this,"move",A.clientX-this.startX,A.clientY-this.startY),A.stopImmediatePropagation()),this.resizable&&this.o.resizable&&(this.setSize(this.startPoint.w+A.clientX-this.startX,this.startPoint.h+A.clientY-this.startY),this.e&&this.e.fire(this,"resizeDialog",A.clientX-this.startX,A.clientY-this.startY))},E.prototype.onEsc=function(A){if(this.isOpened&&A.key===h.KEY_ESC&&this.getMod("static")!==!0){var C=this.getMaxZIndexDialog();C?C.close():this.close(),A.stopImmediatePropagation()}},E.prototype.onResizerMouseDown=function(A){this.resizable=!0,this.startX=A.clientX,this.startY=A.clientY,this.startPoint.w=this.dialog.offsetWidth,this.startPoint.h=this.dialog.offsetHeight,this.lockSelect(),this.addGlobalResizeListeners(),this.e&&this.e.fire(this,"startResize")},E.prototype.addGlobalResizeListeners=function(){var A=this;A.e.on(A.ow,"pointermove touchmove",A.onMouseMove).on(A.ow,"pointerup touchend",A.onMouseUp)},E.prototype.removeGlobalResizeListeners=function(){var A=this;A.e.off(A.ow,"mousemove pointermove",A.onMouseMove).off(A.ow,"mouseup pointerup",A.onMouseUp)},E.prototype.setSize=function(A,C){return A==null&&(A=this.dialog.offsetWidth),C==null&&(C=this.dialog.offsetHeight),(0,p.css)(this.dialog,{width:A,height:C}),this},E.prototype.calcAutoSize=function(){return this.setSize("auto","auto"),this.setSize(),this},E.prototype.setPosition=function(A,C){var M=this.ow.innerWidth/2-this.dialog.offsetWidth/2,T=this.ow.innerHeight/2-this.dialog.offsetHeight/2;return 0>M&&(M=0),0>T&&(T=0),A!==void 0&&C!==void 0&&(this.offsetX=A,this.offsetY=C,this.moved=Math.abs(A-M)>100||Math.abs(C-T)>100),this.dialog.style.left=(A||M)+"px",this.dialog.style.top=(C||T)+"px",this},E.prototype.setHeader=function(A){return this.setElements(this.dialogbox_header,A),this},E.prototype.setContent=function(A){return this.setElements(this.dialogbox_content,A),this},E.prototype.setFooter=function(A){return this.setElements(this.dialogbox_footer,A),this.setMod("footer",!!A),this},E.prototype.getZIndex=function(){return parseInt((0,p.css)(this.container,"zIndex"),10)||0},E.prototype.getMaxZIndexDialog=function(){var A,C,M=0,T=this;return(0,p.$$)(".jodit-dialog",this.destination).forEach(function(k){A=k.component,C=parseInt((0,p.css)(k,"zIndex"),10),A.isOpened&&!isNaN(C)&&C>M&&(T=A,M=C)}),T},E.prototype.setMaxZIndex=function(){if(!this.getMod("static")){var A=20000004,C=0;(0,p.$$)(".jodit-dialog",this.destination).forEach(function(M){C=parseInt((0,p.css)(M,"zIndex"),10),A=Math.max(isNaN(C)?0:C,A)}),this.container.style.zIndex=(A+1).toString()}},E.prototype.toggleFullSize=function(A){(0,p.isVoid)(A)&&(A=!this.getMod("fullsize")),this.setMod("fullsize",A),S.prototype.toggleFullSize.call(this,A)},E.prototype.open=function(A,C,M,T){if(v.eventEmitter.fire("closeAllPopups hideHelpers"),this.e.fire(this,"beforeOpen")===!1)return this;(0,p.isBoolean)(A)&&(M=A),(0,p.isBoolean)(C)&&(T=C),this.destroyAfterClose=M===!0;var k=(0,p.isBoolean)(A)?void 0:A,P=(0,p.isBoolean)(C)?void 0:C;return P!==void 0&&this.setHeader(P),k&&this.setContent(k),this.setMod("active",!0),this.isOpened=!0,this.setModal(T),this.destination.appendChild(this.container),this.getMod("static")!==!0?(this.setPosition(this.offsetX,this.offsetY),this.setMaxZIndex()):this.container.style.removeProperty("z-index"),this.o.fullsize&&this.toggleFullSize(!0),this.e.fire("afterOpen",this),this},E.prototype.setModal=function(A){return this.isModal=!!A,this.setMod("modal",this.isModal),this},E.prototype.close=function(){return this.isDestructed||!this.isOpened||this.getMod("static")===!0||this.e.fire("beforeClose",this)===!1||(this.setMod("active",!1),this.isOpened=!1,this.isFullSize&&this.toggleFullSize(!1),f.Dom.safeRemove(this.container),this.removeGlobalResizeListeners(),this.destroyAfterClose&&this.destruct(),this.e.fire(this,"afterClose"),this.e.fire(this.ow,"joditCloseDialog")),this},E.prototype.buildToolbar=function(){this.o.buttons&&this.toolbar.build((0,p.splitArray)(this.o.buttons)).setMod("mode","header").appendTo(this.dialogbox_toolbar)},E.prototype.destruct=function(){this.isInDestruct||(this.setStatus(g.STATUSES.beforeDestruct),this.isOpened&&this.close(),this.events&&(this.removeGlobalResizeListeners(),this.events.off(this.container,"close_dialog",self.close).off(this.ow,"keydown",this.onEsc).off(this.ow,"resize",this.onResize)),S.prototype.destruct.call(this))},u.__decorate([x.autobind],E.prototype,"onMouseUp",null),u.__decorate([x.autobind],E.prototype,"onHeaderMouseDown",null),u.__decorate([x.autobind],E.prototype,"onMouseMove",null),u.__decorate([x.autobind],E.prototype,"onEsc",null),u.__decorate([x.autobind],E.prototype,"onResizerMouseDown",null),u.__decorate([x.autobind],E.prototype,"close",null),u.__decorate([(0,x.hook)("ready")],E.prototype,"buildToolbar",null),u.__decorate([x.component],E)}(m.ViewWithToolbar);a.Dialog=_},92080:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Confirm=a.Prompt=a.Alert=a.Dialog=void 0;var u=s(6690);Object.defineProperty(a,"Dialog",{enumerable:!0,get:function(){return u.Dialog}});var d=s(97528);Object.defineProperty(a,"Alert",{enumerable:!0,get:function(){return d.Alert}});var h=s(35789);Object.defineProperty(a,"Prompt",{enumerable:!0,get:function(){return h.Prompt}});var p=s(47360);Object.defineProperty(a,"Confirm",{enumerable:!0,get:function(){return p.Confirm}})},35789:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Prompt=void 0;var u=s(92080),d=s(2074),h=s(40332);a.Prompt=function(p,m,f,g,v){var x=this instanceof u.Dialog?this:new u.Dialog,y=(0,d.Button)(x,"cancel","Cancel"),b=(0,d.Button)(x,"ok","Ok"),w=x.c.element("form",{class:"jodit-dialog_prompt"}),_=x.c.element("input",{autofocus:!0,class:"jodit-input"}),S=x.c.element("label");(0,h.isFunction)(m)&&(f=m,m=void 0),g&&(0,h.attr)(_,"placeholder",g),S.appendChild(x.c.text(p)),w.appendChild(S),w.appendChild(_),y.onAction(x.close);var E=function(){f&&(0,h.isFunction)(f)&&f(_.value)===!1||x.close()};return b.onAction(E),x.e.on(w,"submit",function(){return E(),!1}),x.setFooter([b,y]),x.open(w,m||"&nbsp;",!0,!0),_.focus(),v!==void 0&&v.length&&(_.value=v,_.select()),x}},34468:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(64968),h=s(40332),p=s(46341),m=s(2074),f=s(21347),g=s(35503),v=s(66267),x=s(36303),y=s(48096),b="jodit-filebrowser-preview",w=function(_,S){return _===void 0&&(_="next"),S===void 0&&(S="right"),'<div class="'.concat(b,"__navigation ").concat(b,"__navigation_arrow_").concat(_,'">')+""+m.Icon.get("angle-"+S)+"</a>"};a.default=function(_){if(!_.o.contextMenu)return function(){};var S=(0,p.makeContextMenu)(_);return function(E){var A=(0,f.getItem)(E.target,_.container);if(A){var C=A,M=_.options,T=function(k){return(0,h.attr)(C,k)||""};return _.async.setTimeout(function(){var k=(0,f.elementToItem)(A,(0,v.elementsMap)(_));k&&(_.state.activeElements=[k],S.show(E.clientX,E.clientY,[!(T("data-is-file")==="1"||!M.editImage||!_.dataProvider.canI("ImageResize")&&!_.dataProvider.canI("ImageCrop"))&&{icon:"pencil",title:"Edit",exec:function(){return g.openImageEditor.call(_,T("href"),T("data-name"),T("data-path"),T("data-source"))}},!!_.dataProvider.canI("FileRename")&&{icon:"italic",title:"Rename",exec:function(){_.e.fire("fileRename.filebrowser",T("data-name"),T("data-path"),T("data-source"))}},!!_.dataProvider.canI("FileRemove")&&{icon:"bin",title:"Delete",exec:function(){return u.__awaiter(void 0,void 0,Promise,function(){var P;return u.__generator(this,function(D){switch(D.label){case 0:return D.trys.push([0,2,,3]),[4,(0,y.deleteFile)(_,T("data-name"),T("data-source"))];case 1:return D.sent(),[3,3];case 2:return P=D.sent(),[2,_.status(P)];case 3:return _.state.activeElements=[],[2,(0,x.loadTree)(_).catch(_.status)]}})})}},!!M.preview&&{icon:"eye",title:"Preview",exec:function(){var P=_.dlg({buttons:["fullsize","dialog.close"]}),D=_.c.div(b,'<div class="jodit-icon_loader"></div>'),I=_.c.div(b+"__box"),O=_.c.fromHTML(w()),j=_.c.fromHTML(w("prev","left")),N=function(R){var F=_.c.element("img");F.setAttribute("src",R);var U=function(){var B;_.isInDestruct||(_.e.off(F,"load"),d.Dom.detach(D),M.showPreviewNavigation&&(d.Dom.prevWithClass(C,_.files.getFullElName("item"))&&D.appendChild(j),d.Dom.nextWithClass(C,_.files.getFullElName("item"))&&D.appendChild(O)),D.appendChild(I),I.appendChild(F),P.setPosition(),(B=_==null?void 0:_.events)===null||B===void 0||B.fire("previewOpenedAndLoaded"))};_.e.on(F,"load",U),F.complete&&U()};_.e.on([O,j],"click",function(){if(!(C=this===O?d.Dom.nextWithClass(C,_.files.getFullElName("item")):d.Dom.prevWithClass(C,_.files.getFullElName("item"))))throw(0,h.error)("Need element");d.Dom.detach(D),d.Dom.detach(I),D.innerHTML='<div class="jodit-icon_loader"></div>',N(T("href"))}),_.e.on("beforeDestruct",function(){P.destruct()}),P.container.classList.add(b+"__dialog"),P.setContent(D),P.setPosition(),P.open(),N(T("href")),_.events.on("beforeDestruct",function(){P.destruct()}).fire("previewOpened")}},{icon:"upload",title:"Download",exec:function(){var P=T("href");P&&_.ow.open(P)}}]))},_.defaultTimeout),_.e.on("beforeClose",function(){return S.close()}).on("beforeDestruct",function(){return S.destruct()}),E.stopPropagation(),E.preventDefault(),!1}}}},66267:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.elementsMap=void 0;var s=new WeakMap;a.elementsMap=function(u){var d=s.get(u);return d||s.set(u,d={}),d}},63511:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FileBrowserItem=void 0;var u=s(40332),d=function(){function h(p){var m=this;this.data=p,Object.keys(p).forEach(function(f){m[f]=p[f]})}return h.create=function(p){return p instanceof h?p:new h(p)},Object.defineProperty(h.prototype,"path",{get:function(){return(0,u.normalizePath)(this.data.source.path?this.data.source.path+"/":"/")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"imageURL",{get:function(){var p=this.time||new Date().getTime().toString(),m=this.data,f=m.source,g=m.thumb||m.file;return m.thumbIsAbsolute&&g?g:(0,u.normalizeUrl)(f.baseurl,f.path,g||"")+"?_tmst="+encodeURIComponent(p)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"fileURL",{get:function(){var p=this.data.name,m=this.data,f=m.file,g=m.source;return f!==void 0&&(p=f),m.fileIsAbsolute&&p?p:(0,u.normalizeUrl)(g.baseurl,g.path,p||"")},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"time",{get:function(){var p=this.data.changed;return p&&(typeof p=="number"?new Date(p).toLocaleString():p)||""},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"uniqueHashKey",{get:function(){var p=this.data;return[p.sourceName,p.name,p.file,this.time,p.thumb].join("_").toLowerCase().replace(/[^0-9a-z\-.]/g,"-")},enumerable:!1,configurable:!0}),h.prototype.toJSON=function(){return this.data},h}();a.FileBrowserItem=d},38097:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(93166),h=s(10172),p=s(41374),m=s(6102);d.Config.prototype.filebrowser={namespace:"",extraButtons:[],filter:function(f,g){return g=g.toLowerCase(),(0,h.isString)(f)?f.toLowerCase().indexOf(g)!==-1:(0,h.isString)(f.name)?f.name.toLowerCase().indexOf(g)!==-1:!(0,h.isString)(f.file)||f.file.toLowerCase().indexOf(g)!==-1},sortBy:"changed-desc",sort:function(f,g,v){var x=u.__read(v.toLowerCase().split("-"),2),y=x[0],b=x[1]==="asc",w=function(E,A){return A>E?b?-1:1:E>A?b?1:-1:0};if((0,h.isString)(f))return w(f.toLowerCase(),g.toLowerCase());if(f[y]===void 0||y==="name")return(0,h.isString)(f.name)?w(f.name.toLowerCase(),g.name.toLowerCase()):(0,h.isString)(f.file)?w(f.file.toLowerCase(),g.file.toLowerCase()):0;switch(y){case"changed":var _=new Date(f.changed).getTime(),S=new Date(g.changed).getTime();return b?_-S:S-_;case"size":return _=(0,m.humanSizeToBytes)(f.size),S=(0,m.humanSizeToBytes)(g.size),b?_-S:S-_}return 0},editImage:!0,preview:!0,showPreviewNavigation:!0,showSelectButtonInPreview:!0,contextMenu:!0,howLongShowMsg:3e3,createNewFolder:!0,deleteFolder:!0,renameFolder:!0,moveFolder:!0,moveFile:!0,permissionsPresets:{allowFileDownload:void 0,allowFileMove:void 0,allowFileRemove:void 0,allowFileRename:void 0,allowFileUpload:void 0,allowFileUploadRemote:void 0,allowFiles:void 0,allowFolderCreate:void 0,allowFolderMove:void 0,allowFolderRemove:void 0,allowFolderRename:void 0,allowFolderTree:void 0,allowFolders:void 0,allowGeneratePdf:void 0,allowImageCrop:void 0,allowImageResize:void 0},showFoldersPanel:!0,storeLastOpenedFolder:!0,width:859,height:400,buttons:["filebrowser.upload","filebrowser.remove","filebrowser.update","filebrowser.select","filebrowser.edit","|","filebrowser.tiles","filebrowser.list","|","filebrowser.filter","|","filebrowser.sort"],removeButtons:[],fullsize:!1,showTooltip:!0,view:null,isSuccess:function(f){return f.success},getMessage:function(f){return f.data.messages!==void 0&&(0,h.isArray)(f.data.messages)?f.data.messages.join(" "):""},showFileName:!0,showFileSize:!0,showFileChangeTime:!0,saveStateInStorage:{storeLastOpenedFolder:!0,storeView:!0,storeSortBy:!0},pixelOffsetLoadNewChunk:200,getThumbTemplate:function(f,g,v){var x=this.options,y=this.files.getFullElName("item"),b=x.showFileName,w=x.showFileSize&&f.size,_=x.showFileChangeTime&&f.time,S="";f.file!==void 0&&(S=f.file);var E='<div class="'.concat(y,'-info">').concat(b?'<span class="'.concat(y,'-info-filename">').concat(S,"</span>"):"").concat(w?'<span class="'.concat(y,'-info-filesize">').concat(f.size,"</span>"):"").concat(_?'<span class="'.concat(y,'-info-filechanged">').concat(_,"</span>"):"","</div>");return`<a
			data-jodit-filebrowser-item="true"
			data-is-file="`.concat(f.isImage?0:1,`"
			draggable="true"
			class="`).concat(y,`"
			href="`).concat(f.fileURL,`"
			data-source="`).concat(v,`"
			data-path="`).concat(f.path,`"
			data-name="`).concat(S,`"
			title="`).concat(S,`"
			data-url="`).concat(f.fileURL,`">
				<img
					data-is-file="`).concat(f.isImage?0:1,`"
					data-src="`).concat(f.fileURL,`"
					src="`).concat(f.imageURL,`"
					alt="`).concat(S,`"
					loading="lazy"
				/>
				`).concat(b||w||_?E:"",`
			</a>`)},ajax:u.__assign(u.__assign({},d.Config.prototype.defaultAjaxOptions),{url:"",data:{},cache:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",method:"POST",processData:!0,headers:{},prepareData:function(f){return f},process:function(f){return f}}),create:{data:{action:"folderCreate"}},getLocalFileByUrl:{data:{action:"getLocalFileByUrl"}},resize:{data:{action:"imageResize"}},crop:{data:{action:"imageCrop"}},fileMove:{data:{action:"fileMove"}},folderMove:{data:{action:"folderMove"}},fileRename:{data:{action:"fileRename"}},folderRename:{data:{action:"folderRename"}},fileRemove:{data:{action:"fileRemove"}},folderRemove:{data:{action:"folderRemove"}},items:{data:{action:"files"}},folder:{data:{action:"folders"}},permissions:{data:{action:"permissions"}}},d.Config.prototype.controls.filebrowser={upload:{icon:"plus",isInput:!0,isDisabled:function(f){return!f.dataProvider.canI("FileUpload")},getContent:function(f){var g=new p.UIFileInput(f,{onlyImages:f.state.onlyImages});return f.e.fire("bindUploader.filebrowser",g.container),g.container}},remove:{icon:"bin",isDisabled:function(f){return!f.state.activeElements.length||!f.dataProvider.canI("FileRemove")},exec:function(f){f.e.fire("fileRemove.filebrowser")}},update:{exec:function(f){f.e.fire("update.filebrowser")}},select:{icon:"check",isDisabled:function(f){return!f.state.activeElements.length},exec:function(f){f.e.fire("select.filebrowser")}},edit:{icon:"pencil",isDisabled:function(f){var g=f.state.activeElements;return g.length!==1||!g[0].isImage||!(f.dataProvider.canI("ImageCrop")||f.dataProvider.canI("ImageResize"))},exec:function(f){f.e.fire("edit.filebrowser")}},tiles:{icon:"th",isActive:function(f){return f.state.view==="tiles"},exec:function(f){f.e.fire("view.filebrowser","tiles")}},list:{icon:"th-list",isActive:function(f){return f.state.view==="list"},exec:function(f){f.e.fire("view.filebrowser","list")}},filter:{isInput:!0,getContent:function(f,g,v){var x=v.container.querySelector(".jodit-input");if(x)return x;var y=f.c.element("input",{class:"jodit-input",placeholder:f.i18n("Filter")});return y.value=f.state.filterWord,f.e.on(y,"keydown mousedown",f.async.debounce(function(){f.e.fire("filter.filebrowser",y.value)},f.defaultTimeout)),y}},sort:{isInput:!0,getContent:function(f){var g=f.c.fromHTML('<select class="jodit-input jodit-select">'+'<option value="changed-asc">'.concat(f.i18n("Sort by changed")," (⬆)</option>")+'<option value="changed-desc">'.concat(f.i18n("Sort by changed")," (⬇)</option>")+'<option value="name-asc">'.concat(f.i18n("Sort by name")," (⬆)</option>")+'<option value="name-desc">'.concat(f.i18n("Sort by name")," (⬇)</option>")+'<option value="size-asc">'.concat(f.i18n("Sort by size")," (⬆)</option>")+'<option value="size-desc">'.concat(f.i18n("Sort by size")," (⬇)</option>")+"</select>");return g.value=f.state.sortBy,f.e.on("sort.filebrowser",function(v){g.value!==v&&(g.value=v)}).on(g,"change",function(){f.e.fire("sort.filebrowser",g.value)}),g}}}},82530:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.DEFAULT_SOURCE_NAME=void 0;var u=s(20255),d=s(40332),h=s(30056),p=s(43441),m=s(63511);a.DEFAULT_SOURCE_NAME="default";var f=function(){function g(v,x){this.parent=v,this.options=x,this.__currentPermissions=null,this.ajaxInstances=new Map,this.progressHandler=function(y){}}return Object.defineProperty(g.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),g.prototype.get=function(v){var x=this,y=this.ajaxInstances;if(y.has(v)){var b=y.get(v);b==null||b.abort(),y.delete(v)}var w=(0,d.ConfigProto)(this.options[v]!==void 0?this.options[v]:{},(0,d.ConfigProto)({onProgress:this.progressHandler},this.o.ajax));w.prepareData&&(w.data=w.prepareData.call(this,w.data));var _=new h.Ajax(w);y.set(v,_);var S=_.send();return S.finally(function(){_.destruct(),y.delete(v),x.progressHandler(100)}).catch(function(){return null}),S.then(function(E){return E.json()}).then(function(E){if(E&&!x.isSuccess(E))throw new Error(x.getMessage(E));return E})},g.prototype.onProgress=function(v){this.progressHandler=v},g.prototype.permissions=function(v,x){return u.__awaiter(this,void 0,Promise,function(){var y=this;return u.__generator(this,function(b){return this.o.permissions?(this.o.permissions.data.path=v,this.o.permissions.data.source=x,this.o.permissions.url?[2,this.get("permissions").then(function(w){var _=y.o.permissions.process;if(_||(_=y.o.ajax.process),_){var S=_.call(self,w);S.data.permissions&&(y.__currentPermissions=S.data.permissions)}return y.__currentPermissions})]:[2,null]):[2,null]})})},g.prototype.canI=function(v){var x="allow"+v,y=this.o.permissionsPresets[x];return y!==void 0?y:this.__currentPermissions==null||this.__currentPermissions[x]===void 0||this.__currentPermissions[x]},g.prototype.__items=function(v,x,y,b){var w=this,_=this.options;return _.items?(_.items.data.path=v,_.items.data.source=x,_.items.data.mods=y,this.get("items").then(function(S){var E=w.o.items.process;return E||(E=w.o.ajax.process),E&&(S=E.call(self,S)),b(S)})):Promise.reject("Set Items api options")},g.prototype.items=function(v,x,y){var b=this;return y===void 0&&(y={}),this.__items(v,x,y,function(w){return b.generateItemsList(w.data.sources,y)})},g.prototype.itemsEx=function(v,x,y){var b=this;return y===void 0&&(y={}),this.__items(v,x,y,function(w){return{items:b.generateItemsList(w.data.sources,y),loadedTotal:(_=w.data.sources,_.reduce(function(S,E){return S+E.files.length},0))};var _})},g.prototype.generateItemsList=function(v,x){var y=this;x===void 0&&(x={});var b=[];return v.forEach(function(w){if(w.files&&w.files.length){var _=y.o.sort;(0,d.isFunction)(_)&&x.sortBy&&w.files.sort(function(S,E){return _(S,E,x.sortBy)}),w.files.forEach(function(S){(function(E){var A;return!(!((A=x.filterWord)===null||A===void 0)&&A.length)||y.o.filter===void 0||y.o.filter(E,x.filterWord)})(S)&&function(E){return E.type==="folder"||!x.onlyImages||E.isImage===void 0||E.isImage}(S)&&b.push(m.FileBrowserItem.create(u.__assign(u.__assign({},S),{sourceName:w.name,source:w})))})}}),b},g.prototype.tree=function(v,x){return u.__awaiter(this,void 0,Promise,function(){var y=this;return u.__generator(this,function(b){switch(b.label){case 0:return v=(0,d.normalizeRelativePath)(v),this.o.folder?[4,this.permissions(v,x)]:[2,Promise.reject("Set Folder Api options")];case 1:return b.sent(),this.o.folder.data.path=v,this.o.folder.data.source=x,[2,this.get("folder").then(function(w){var _=y.o.folder.process;return _||(_=y.o.ajax.process),_&&(w=_.call(self,w)),w.data.sources})]}})})},g.prototype.getPathByUrl=function(v){var x=this;return(0,d.set)("options.getLocalFileByUrl.data.url",v,this),this.get("getLocalFileByUrl").then(function(y){if(x.isSuccess(y))return y.data;throw(0,d.error)(x.getMessage(y))})},g.prototype.createFolder=function(v,x,y){var b=this,w=this.o.create;if(!w)throw(0,d.error)("Set Create api options");return w.data.source=y,w.data.path=x,w.data.name=v,this.get("create").then(function(_){if(b.isSuccess(_))return!0;throw(0,d.error)(b.getMessage(_))})},g.prototype.move=function(v,x,y,b){var w=this,_=b?"fileMove":"folderMove",S=this.options[_];if(!S)throw(0,d.error)("Set Move api options");return S.data.from=v,S.data.path=x,S.data.source=y,this.get(_).then(function(E){if(w.isSuccess(E))return!0;throw(0,d.error)(w.getMessage(E))})},g.prototype.remove=function(v,x,y,b){var w=this,_=this.o[v];if(!_)throw(0,d.error)('Set "'.concat(v,'" api options'));return _.data.path=x,_.data.name=y,_.data.source=b,this.get(v).then(function(S){return _.process&&(S=_.process.call(w,S)),w.getMessage(S)})},g.prototype.fileRemove=function(v,x,y){return this.remove("fileRemove",v,x,y)},g.prototype.folderRemove=function(v,x,y){return this.remove("folderRemove",v,x,y)},g.prototype.rename=function(v,x,y,b,w){var _=this,S=this.o[v];if(!S)throw(0,d.error)('Set "'.concat(v,'" api options'));return S.data.path=x,S.data.name=y,S.data.newname=b,S.data.source=w,this.get(v).then(function(E){return S.process&&(E=S.process.call(self,E)),_.getMessage(E)})},g.prototype.folderRename=function(v,x,y,b){return this.rename("folderRename",v,x,y,b)},g.prototype.fileRename=function(v,x,y,b){return this.rename("fileRename",v,x,y,b)},g.prototype.changeImage=function(v,x,y,b,w,_){this.o[v]||(this.o[v]={data:{}});var S=this.o[v];return S.data===void 0&&(S.data={action:v}),S.data.newname=w||b,_&&(S.data.box=_),S.data.path=x,S.data.name=b,S.data.source=y,this.get(v).then(function(){return!0})},g.prototype.crop=function(v,x,y,b,w){return this.changeImage("crop",v,x,y,b,w)},g.prototype.resize=function(v,x,y,b,w){return this.changeImage("resize",v,x,y,b,w)},g.prototype.getMessage=function(v){return this.options.getMessage(v)},g.prototype.isSuccess=function(v){return this.options.isSuccess(v)},g.prototype.destruct=function(){this.ajaxInstances.forEach(function(v){return v.destruct()}),this.ajaxInstances.clear()},u.__decorate([p.autobind],g)}();a.default=f},46341:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.makeContextMenu=a.makeDataProvider=void 0;var u=s(82530),d=s(60403);a.makeDataProvider=function(h,p){return new u.default(h,p)},a.makeContextMenu=function(h){return new d.ContextMenu(h)}},48096:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.deleteFile=void 0,a.deleteFile=function(s,u,d){return s.dataProvider.fileRemove(s.state.currentPath,u,d).then(function(h){s.status(h||s.i18n('File "%s" was deleted',u),!0)}).catch(s.status)}},4253:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.loadItems=void 0,a.loadItems=function(s){return s.files.setMod("active",!0),s.files.setMod("loading",!0),s.dataProvider.items(s.state.currentPath,s.state.currentSource,{sortBy:s.state.sortBy,onlyImages:s.state.onlyImages,filterWord:s.state.filterWord}).then(function(u){u&&(s.state.elements=u,s.state.activeElements=[])}).catch(s.status).finally(function(){return s.files.setMod("loading",!1)})}},36303:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.loadTree=void 0;var u=s(20255),d=s(64968),h=s(4253);a.loadTree=function(p){return u.__awaiter(this,void 0,Promise,function(){var m,f;return u.__generator(this,function(g){return p.tree.setMod("active",!0),d.Dom.detach(p.tree.container),m=(0,h.loadItems)(p),p.o.showFoldersPanel?(p.tree.setMod("loading",!0),f=p.dataProvider.tree(p.state.currentPath,p.state.currentSource).then(function(v){p.state.sources=v}).catch(p.status).finally(function(){return p.tree.setMod("loading",!1)}),[2,Promise.all([f,m])]):(p.tree.setMod("active",!1),[2,m])})})}},50885:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isFileBrowserFilesItem=a.FileBrowser=void 0;var u=s(20255);s(40692);var d=s(93166),h=s(86893),p=s(77462),m=s(40332),f=s(64968),g=s(46341),v=s(86774),x=s(21347),y=s(44734),b=s(82530),w=s(43441),_=s(98782),S=s(55395),E=s(36303),A=s(4253),C=s(56562),M=s(59829),T=s(43608);s(38097);var k=function(P){function D(I){var O,j=this;(j=P.call(this,I)||this).browser=j.c.div(j.componentName),j.status_line=j.c.div(j.getFullElName("status")),j.tree=new _.FileBrowserTree(j),j.files=new _.FileBrowserFiles(j),j.state=(0,S.observable)({currentPath:"",currentSource:b.DEFAULT_SOURCE_NAME,currentBaseUrl:"",activeElements:[],elements:[],sources:[],view:"tiles",sortBy:"changed-desc",filterWord:"",onlyImages:!1}),j.errorHandler=function(J){(0,m.isAbort)(J)||(J instanceof Error?j.status(j.i18n(J.message)):j.status(j.dataProvider.getMessage(J)))},j.close=function(){j._dialog.close()},j.attachEvents(I);var N=j;N.options=(0,m.ConfigProto)(I||{},d.Config.defaultOptions.filebrowser),N.storage=p.Storage.makeStorage(!!j.o.saveStateInStorage,j.componentName),N.dataProvider=(0,g.makeDataProvider)(N,N.options),N._dialog=j.dlg({minWidth:Math.min(700,screen.width),minHeight:300,buttons:(O=j.o.headerButtons)!==null&&O!==void 0?O:["fullsize","dialog.close"]}),j.proxyDialogEvents(N),N.browser.component=j,N.container=N.browser,N.o.showFoldersPanel&&N.browser.appendChild(N.tree.container),N.browser.appendChild(N.files.container),N.browser.appendChild(N.status_line),y.selfListeners.call(N),x.nativeListeners.call(N),v.stateListeners.call(N),N._dialog.setSize(N.o.width,N.o.height),["getLocalFileByUrl","crop","resize","create","fileMove","folderMove","fileRename","folderRename","fileRemove","folderRemove","folder","items","permissions"].forEach(function(J){j.options[J]!=null&&(j.options[J]=(0,m.ConfigProto)(j.options[J],j.o.ajax))});var R=j.o.saveStateInStorage||{storeLastOpenedFolder:!1,storeView:!1,storeSortBy:!1},F=R.storeSortBy,U=R.storeLastOpenedFolder,B=R.storeView&&j.storage.get("view");N.state.view=B&&j.o.view==null?B==="list"?"list":"tiles":N.o.view==="list"?"list":"tiles",N.files.setMod("view",N.state.view);var H=F&&N.storage.get("sortBy");if(H){var X=H.split("-");N.state.sortBy=["changed","name","size"].includes(X[0])?H:"changed-desc"}else N.state.sortBy=N.o.sortBy||"changed-desc";if(U){var G=N.storage.get("currentPath"),Z=N.storage.get("currentSource");N.state.currentPath=G??"",N.state.currentSource=Z??""}return N.initUploader(N),N.setStatus(C.STATUSES.ready),j}return u.__extends(D,P),D.prototype.className=function(){return"Filebrowser"},D.prototype.onSelect=function(I){var O=this;return function(){if(O.state.activeElements.length){var j=[],N=[];O.state.activeElements.forEach(function(F){var U=F.fileURL;U&&(j.push(U),N.push(F.isImage||!1))}),O.close();var R={baseurl:"",files:j,isImages:N};(0,m.isFunction)(I)&&I(R),O.close()}return!1}},Object.defineProperty(D.prototype,"isOpened",{get:function(){return this._dialog.isOpened&&this.browser.style.display!=="none"},enumerable:!1,configurable:!0}),D.prototype.status=function(I,O){I&&!(0,m.isAbort)(I)&&((0,m.isString)(I)||(I=I.message),(0,m.isString)(I)&&(0,m.trim)(I).length&&this.message.message(I,O?"success":"error",this.o.howLongShowMsg))},D.prototype.open=function(I,O){var j=this;return I===void 0&&(I=this.o.defaultCallback),O===void 0&&(O=!1),this.state.onlyImages=O,this.async.promise(function(N,R){if(!j.o.items||!j.o.items.url)throw(0,m.error)("Need set options.filebrowser.ajax.url");var F=0;j.e.off(j.files.container,"dblclick").on(j.files.container,"dblclick",j.onSelect(I)).on(j.files.container,"touchstart",function(){var B=new Date().getTime();h.EMULATE_DBLCLICK_TIMEOUT>B-F&&j.onSelect(I)(),F=B}).off("select.filebrowser").on("select.filebrowser",j.onSelect(I));var U=j.c.div();j.toolbar.build(j.__getButtons()).appendTo(U),j._dialog.open(j.browser,U),j.e.fire("sort.filebrowser",j.state.sortBy),(0,E.loadTree)(j).then(N,R)})},D.prototype.__getButtons=function(){var I,O=this;return((I=this.o.buttons)!==null&&I!==void 0?I:[]).filter(function(j){if(!(0,m.isString)(j))return!0;switch(j){case"filebrowser.upload":return O.dataProvider.canI("FileUpload");case"filebrowser.edit":return O.dataProvider.canI("ImageResize")||O.dataProvider.canI("ImageCrop");case"filebrowser.remove":return O.dataProvider.canI("FileRemove")}return!0})},D.prototype.initUploader=function(I){var O,j=this,N=this,R=(O=I==null?void 0:I.options)===null||O===void 0?void 0:O.uploader,F=(0,m.ConfigProto)(R||{},d.Config.defaultOptions.uploader),U=function(){return(0,A.loadItems)(j)};N.uploader=N.getInstance("Uploader",F),N.uploader.setPath(N.state.currentPath).setSource(N.state.currentSource).bind(N.browser,U,N.errorHandler),this.state.on(["change.currentPath","change.currentSource"],function(){j.uploader.setPath(j.state.currentPath).setSource(j.state.currentSource)}),N.e.on("bindUploader.filebrowser",function(B){N.uploader.bind(B,U,N.errorHandler)})},D.prototype.proxyDialogEvents=function(I){var O=this;["afterClose","beforeOpen"].forEach(function(j){I._dialog.events.on(I.dlg,j,function(){O.e.fire(j)})})},D.prototype.destruct=function(){this.isInDestruct||(P.prototype.destruct.call(this),this._dialog.destruct(),this.events&&this.e.off(".filebrowser"),this.uploader&&this.uploader.destruct())},u.__decorate([w.autobind],D.prototype,"status",null),u.__decorate([w.autobind],D.prototype,"open",null),u.__decorate([(0,w.derive)(M.Dlgs)],D)}(T.ViewWithToolbar);a.FileBrowser=k,a.isFileBrowserFilesItem=function(P){return f.Dom.isElement(P)&&P.classList.contains(_.FileBrowserFiles.prototype.getFullElName("item"))}},63463:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(50885),a)},21347:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.nativeListeners=a.elementToItem=a.getItem=void 0;var u=s(20255),d=s(40332),h=s(34468),p=s(64968),m=s(66267),f=s(36303);a.getItem=function(g,v,x){return x===void 0&&(x="a"),p.Dom.closest(g,function(y){return p.Dom.isTag(y,x)},v)},a.elementToItem=function(g,v){return v[g.dataset.key||""].item},a.nativeListeners=function(){var g=this,v=!1,x=(0,m.elementsMap)(this),y=this;y.e.on(y.tree.container,"dragstart",function(b){var w=(0,a.getItem)(b.target,y.container);w&&y.o.moveFolder&&(v=w)}).on(y.tree.container,"drop",function(b){if((y.o.moveFile||y.o.moveFolder)&&v){var w=(0,d.attr)(v,"-path")||"";if(!y.o.moveFolder&&v.classList.contains(g.tree.getFullElName("item"))||v.classList.contains(g.files.getFullElName("item"))&&(w+=(0,d.attr)(v,"-name"),!y.o.moveFile))return!1;var _=(0,a.getItem)(b.target,y.container);if(!_)return;y.dataProvider.move(w,(0,d.attr)(_,"-path")||"",(0,d.attr)(_,"-source")||"",v.classList.contains(g.files.getFullElName("item"))).then(function(){return(0,f.loadTree)(g)}).catch(y.status),v=!1}}).on(y.files.container,"contextmenu",(0,h.default)(y)).on(y.files.container,"click",function(b){(0,d.ctrlKey)(b)||(g.state.activeElements=[])}).on(y.files.container,"click",function(b){var w=(0,a.getItem)(b.target,y.container);if(w){var _=(0,a.elementToItem)(w,x);if(_)return y.state.activeElements=(0,d.ctrlKey)(b)?u.__spreadArray(u.__spreadArray([],u.__read(y.state.activeElements),!1),[_],!1):[_],b.stopPropagation(),!1}}).on(y.files.container,"dragstart",function(b){if(y.o.moveFile){var w=(0,a.getItem)(b.target,y.container);if(!w)return;v=w}}).on(y.container,"drop",function(b){return b.preventDefault()})}},44734:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.selfListeners=void 0;var u=s(20255),d=s(10172),h=s(40332),p=s(82530),m=s(35503),f=s(36303),g=s(4253),v=s(48096);a.selfListeners=function(){var x=this,y=this.state,b=this.dataProvider,w=this;w.e.on("view.filebrowser",function(_){_!==y.view&&(y.view=_)}).on("sort.filebrowser",function(_){_!==y.sortBy&&(y.sortBy=_,(0,g.loadItems)(w))}).on("filter.filebrowser",function(_){_!==y.filterWord&&(y.filterWord=_,(0,g.loadItems)(w))}).on("openFolder.filebrowser",function(_){var S;S=_.name===".."?_.path.split("/").filter(function(E){return E.length}).slice(0,-1).join("/"):(0,h.normalizePath)(_.path,_.name),w.state.currentPath=S,w.state.currentSource=_.name==="."?p.DEFAULT_SOURCE_NAME:_.source}).on("removeFolder.filebrowser",function(_){w.confirm("Are you sure?","Delete",function(S){S&&b.folderRemove(_.path,_.name,_.source).then(function(E){return w.status(E,!0),(0,f.loadTree)(w)}).catch(w.status)})}).on("renameFolder.filebrowser",function(_){w.prompt("Enter new name","Rename",function(S){if(!(0,d.isValidName)(S))return w.status(w.i18n("Enter new name")),!1;b.folderRename(_.path,_.name,S,_.source).then(function(E){return w.state.activeElements=[],w.status(E,!0),(0,f.loadTree)(w)}).catch(w.status)},"type name",_.name)}).on("addFolder.filebrowser",function(_){w.prompt("Enter Directory name","Create directory",function(S){b.createFolder(S,_.path,_.source).then(function(){return(0,f.loadTree)(w)}).catch(w.status)},"type name")}).on("fileRemove.filebrowser",function(){w.state.activeElements.length&&w.confirm("Are you sure?","",function(_){if(_){var S=[];w.state.activeElements.forEach(function(E){S.push((0,v.deleteFile)(w,E.file||E.name||"",E.sourceName))}),w.state.activeElements=[],Promise.all(S).then(function(){return(0,f.loadTree)(w).catch(w.status)},w.status)}})}).on("edit.filebrowser",function(){if(w.state.activeElements.length===1){var _=u.__read(x.state.activeElements,1)[0];m.openImageEditor.call(w,_.fileURL,_.file||"",_.path,_.sourceName)}}).on("fileRename.filebrowser",function(_,S,E){w.state.activeElements.length===1&&w.prompt("Enter new name","Rename",function(A){if(!(0,d.isValidName)(A))return w.status(w.i18n("Enter new name")),!1;b.fileRename(S,_,A,E).then(function(C){w.state.activeElements=[],w.status(C,!0),(0,g.loadItems)(w)}).catch(w.status)},"type name",_)}).on("update.filebrowser",function(){(0,f.loadTree)(x).then(x.status,x.status)})}},86774:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.stateListeners=void 0;var u=s(64968),d=s(89693),h=s(2074),p=s(66267),m=s(36303);a.stateListeners=function(){var f=this,g=(0,p.elementsMap)(this),v=this,x=v.state,y=v.files,b=v.create,w=v.options;x.on(["change.currentPath","change.currentSource"],this.async.debounce(function(){f.o.saveStateInStorage&&f.o.saveStateInStorage.storeLastOpenedFolder&&f.storage.set("currentPath",f.state.currentPath).set("currentSource",f.state.currentSource),(0,m.loadTree)(f).catch(f.status)},this.defaultTimeout)).on("beforeChange.activeElements",function(){x.activeElements.forEach(function(_){var S=g[_.uniqueHashKey].elm;S&&S.classList.remove(y.getFullElName("item","active",!0))})}).on("change.activeElements",function(){f.e.fire("changeSelection"),x.activeElements.forEach(function(_){var S=g[_.uniqueHashKey].elm;S&&S.classList.add(y.getFullElName("item","active",!0))})}).on("change.view",function(){y.setMod("view",x.view),f.o.saveStateInStorage&&f.o.saveStateInStorage.storeView&&f.storage.set("view",x.view)}).on("change.sortBy",function(){f.o.saveStateInStorage&&f.o.saveStateInStorage.storeSortBy&&f.storage.set("sortBy",x.sortBy)}).on("change.elements",this.async.debounce(function(){u.Dom.detach(y.container),x.elements.length?x.elements.forEach(function(_){f.files.container.appendChild(function(S){var E=S.uniqueHashKey;if(g[E])return g[E].elm;var A=b.fromHTML(w.getThumbTemplate.call(f,S,S.source,S.sourceName.toString()));return A.dataset.key=E,g[E]={item:S,elm:A},g[E].elm}(_))}):y.container.appendChild(b.div(f.componentName+"_no-files_true",f.i18n("There are no files")))},this.defaultTimeout)).on("change.sources",this.async.debounce(function(){u.Dom.detach(f.tree.container),x.sources.forEach(function(_){var S=_.name;if(S&&S!=="default"&&f.tree.container.appendChild(b.div(f.tree.getFullElName("source-title"),S)),_.folders.forEach(function(A){var C,M=b.a(f.tree.getFullElName("item"),{draggable:"draggable",href:"#","data-path":(0,d.normalizePath)(_.path,A+"/"),"data-name":A,"data-source":S,"data-source-path":_.path},b.span(f.tree.getFullElName("item-title"),A)),T=function(k){return function(P){f.e.fire("".concat(k,".filebrowser"),{name:A,path:(0,d.normalizePath)(_.path+"/"),source:S}),P.stopPropagation(),P.preventDefault()}};f.e.on(M,"click",T("openFolder")),f.tree.container.appendChild(M),A!==".."&&A!=="."&&(w.renameFolder&&f.dataProvider.canI("FolderRename")&&((C=(0,h.Button)(f,{icon:{name:"pencil"},name:"rename",tooltip:"Rename",size:"tiny"})).onAction(T("renameFolder")),M.appendChild(C.container)),w.deleteFolder&&f.dataProvider.canI("FolderRemove")&&((C=(0,h.Button)(f,{icon:{name:"cancel"},name:"remove",tooltip:"Delete",size:"tiny"})).onAction(T("removeFolder")),M.appendChild(C.container)))}),w.createNewFolder&&f.dataProvider.canI("FolderCreate")){var E=(0,h.Button)(f,"plus","Add folder","secondary");E.onAction(function(){f.e.fire("addFolder",{path:(0,d.normalizePath)(_.path+"/"),source:S})}),f.tree.append(E)}})},this.defaultTimeout))}},21505:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FileBrowserFiles=void 0;var u=s(20255);s(27452);var d=function(h){function p(){return h!==null&&h.apply(this,arguments)||this}return u.__extends(p,h),p.prototype.className=function(){return"FilebrowserFiles"},p}(s(2074).UIGroup);a.FileBrowserFiles=d},98782:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(21505),a),u.__exportStar(s(42472),a)},42472:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FileBrowserTree=void 0;var u=s(20255);s(51422);var d=function(h){function p(){return h!==null&&h.apply(this,arguments)||this}return u.__extends(p,h),p.prototype.className=function(){return"FilebrowserTree"},p}(s(2074).UIGroup);a.FileBrowserTree=d},3107:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Command=void 0;var s=function(){function u(d,h,p,m){this.oldValue=d,this.newValue=h,this.history=p,this.tick=m}return u.prototype.undo=function(){this.history.snapshot.restore(this.oldValue)},u.prototype.redo=function(){this.history.snapshot.restore(this.newValue)},u}();a.Command=s},15432:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.History=void 0;var u=s(20255),d=s(93166),h=s(56562),p=s(31648),m=s(3621),f=s(3107),g=s(43441);d.Config.prototype.history={enable:!0,maxHistoryLength:1/0,timeout:1e3},d.Config.prototype.observer=d.Config.prototype.history;var v=function(x){function y(b,w,_){w===void 0&&(w=new m.Stack(b.o.history.maxHistoryLength)),_===void 0&&(_=new p.Snapshot(b));var S=x.call(this,b)||this;return S.updateTick=0,S.__stack=w,S.snapshot=_,b.o.history.enable&&b.e.on("afterAddPlace.history",function(){S.isInDestruct||(S.startValue=S.snapshot.make(),b.events.on("internalChange internalUpdate",function(){S.startValue=S.snapshot.make()}).on(b.editor,["changeSelection","selectionstart","selectionchange","mousedown","mouseup","keydown","keyup"].map(function(E){return E+".history"}).join(" "),function(){S.startValue.html===S.j.getNativeEditorValue()&&(S.startValue=S.snapshot.make())}).on(S,"change.history",S.onChange))}),S}return u.__extends(y,x),y.prototype.className=function(){return"History"},Object.defineProperty(y.prototype,"startValue",{get:function(){return this.__startValue},set:function(b){this.__startValue=b},enumerable:!1,configurable:!0}),y.prototype.__upTick=function(){this.updateTick+=1},y.prototype.onChange=function(){this.__processChanges()},y.prototype.__processChanges=function(){!this.snapshot.isBlocked&&this.j.o.history.enable&&this.updateStack()},y.prototype.updateStack=function(b){b===void 0&&(b=!1);var w=this.snapshot.make();if(!p.Snapshot.equal(w,this.startValue)){var _=new f.Command(this.startValue,w,this,this.updateTick);if(b){var S=this.__stack.current();S&&this.updateTick===S.tick&&this.__stack.replace(_)}else this.__stack.push(_);this.startValue=w,this.fireChangeStack()}},y.prototype.redo=function(){this.__stack.redo()&&(this.startValue=this.snapshot.make(),this.fireChangeStack())},y.prototype.canRedo=function(){return this.__stack.canRedo()},y.prototype.undo=function(){this.__stack.undo()&&(this.startValue=this.snapshot.make(),this.fireChangeStack())},y.prototype.canUndo=function(){return this.__stack.canUndo()},y.prototype.clear=function(){this.startValue=this.snapshot.make(),this.__stack.clear(),this.fireChangeStack()},Object.defineProperty(y.prototype,"length",{get:function(){return this.__stack.length},enumerable:!1,configurable:!0}),y.prototype.fireChangeStack=function(){var b;this.j&&!this.j.isInDestruct&&((b=this.j.events)===null||b===void 0||b.fire("changeStack"))},y.prototype.destruct=function(){this.isInDestruct||(this.j.events&&this.j.e.off(".history"),this.snapshot.destruct(),x.prototype.destruct.call(this))},u.__decorate([(0,g.debounce)()],y.prototype,"onChange",null),y}(h.ViewComponent);a.History=v},31648:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Snapshot=void 0;var u=s(20255),d=s(56562),h=s(64968),p=s(86893),m=function(f){function g(){var v=f!==null&&f.apply(this,arguments)||this;return v.__isBlocked=!1,v}return u.__extends(g,f),g.prototype.className=function(){return"Snapshot"},g.equal=function(v,x){return v.html===x.html&&JSON.stringify(v.range)===JSON.stringify(x.range)},g.countNodesBeforeInParent=function(v){if(!v.parentNode)return 0;for(var x=v.parentNode.childNodes,y=0,b=null,w=0;x.length>w;w+=1){if(!b||this.isIgnoredNode(x[w])||h.Dom.isText(b)&&h.Dom.isText(x[w])||(y+=1),x[w]===v)return y;b=x[w]}return 0},g.strokeOffset=function(v,x){for(;h.Dom.isText(v);)h.Dom.isText(v=v.previousSibling)&&v.nodeValue&&(x+=v.nodeValue.length);return x},g.prototype.calcHierarchyLadder=function(v){var x=[];if(!v||!v.parentNode||!h.Dom.isOrContains(this.j.editor,v))return[];for(;v&&v!==this.j.editor;)v&&!g.isIgnoredNode(v)&&x.push(g.countNodesBeforeInParent(v)),v=v.parentNode;return x.reverse()},g.prototype.getElementByLadder=function(v){var x,y=this.j.editor;for(x=0;y&&v.length>x;x+=1)y=y.childNodes[v[x]];return y},Object.defineProperty(g.prototype,"isBlocked",{get:function(){return this.__isBlocked},enumerable:!1,configurable:!0}),g.prototype.__block=function(v){this.__isBlocked=v},g.prototype.transaction=function(v){this.__block(!0);try{v()}catch{}this.__block(!1)},g.prototype.make=function(){var v={html:"",range:{startContainer:[],startOffset:0,endContainer:[],endOffset:0}};v.html=this.removeJoditSelection(this.j.editor);var x=this.j.s.sel;if(x&&x.rangeCount){var y=x.getRangeAt(0),b=this.calcHierarchyLadder(y.startContainer),w=this.calcHierarchyLadder(y.endContainer),_=g.strokeOffset(y.startContainer,y.startOffset),S=g.strokeOffset(y.endContainer,y.endOffset);b.length||y.startContainer===this.j.editor||(_=0),w.length||y.endContainer===this.j.editor||(S=0),v.range={startContainer:b,startOffset:_,endContainer:w,endOffset:S}}return v},g.prototype.restore=function(v){var x=this;this.transaction(function(){var y=x.storeScrollState();x.j.getNativeEditorValue()!==v.html&&(x.j.value=v.html),x.restoreOnlySelection(v),x.restoreScrollState(y)})},g.prototype.storeScrollState=function(){return[this.j.ow.scrollY,this.j.editor.scrollTop]},g.prototype.restoreScrollState=function(v){var x=this.j,y=x.ow;y.scrollTo(y.scrollX,v[0]),x.editor.scrollTop=v[1]},g.prototype.restoreOnlySelection=function(v){try{if(v.range){var x=this.j.ed.createRange();x.setStart(this.getElementByLadder(v.range.startContainer),v.range.startOffset),x.setEnd(this.getElementByLadder(v.range.endContainer),v.range.endOffset),this.j.s.selectRange(x)}}catch{this.j.editor.lastChild&&this.j.s.setCursorAfter(this.j.editor.lastChild)}},g.prototype.destruct=function(){this.__block(!1),f.prototype.destruct.call(this)},g.isIgnoredNode=function(v){return h.Dom.isText(v)&&!v.nodeValue||h.Dom.isTemporary(v)},g.prototype.removeJoditSelection=function(v){var x=v.cloneNode(!0);return x.querySelectorAll("[".concat(p.TEMP_ATTR,"]")).forEach(h.Dom.unwrap),x.innerHTML},g}(d.ViewComponent);a.Snapshot=m},3621:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.Stack=void 0;var s=function(){function u(d){this.size=d,this.commands=[],this.stackPosition=-1}return Object.defineProperty(u.prototype,"length",{get:function(){return this.commands.length},enumerable:!1,configurable:!0}),u.prototype.clearRedo=function(){this.commands.length=this.stackPosition+1},u.prototype.clear=function(){this.commands.length=0,this.stackPosition=-1},u.prototype.push=function(d){this.clearRedo(),this.commands.push(d),this.stackPosition+=1,this.commands.length>this.size&&(this.commands.shift(),this.stackPosition-=1)},u.prototype.replace=function(d){this.commands[this.stackPosition]=d},u.prototype.current=function(){return this.commands[this.stackPosition]},u.prototype.undo=function(){return!!this.canUndo()&&(this.commands[this.stackPosition]&&this.commands[this.stackPosition].undo(),this.stackPosition-=1,!0)},u.prototype.redo=function(){return!!this.canRedo()&&(this.stackPosition+=1,this.commands[this.stackPosition]&&this.commands[this.stackPosition].redo(),!0)},u.prototype.canUndo=function(){return this.stackPosition>=0},u.prototype.canRedo=function(){return this.commands.length-1>this.stackPosition},u}();a.Stack=s},95356:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.imageeditor={min_width:20,min_height:20,closeAfterSave:!1,width:"85%",height:"85%",crop:!0,resize:!0,resizeUseRatio:!0,resizeMinWidth:20,resizeMinHeight:20,cropUseRatio:!0,cropDefaultWidth:"70%",cropDefaultHeight:"70%"},d.Icon.set("crop",s(3610)).set("resize",s(56170))},35503:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.openImageEditor=a.ImageEditor=void 0;var u=s(20255);s(62820);var d=s(93166),h=s(56562),p=s(40332),m=s(64968),f=s(96516),g=s(9249),v=s(43441);s(95356);var x="jodit-image-editor",y="resize",b="crop",w=function(_){function S(A){var C=_.call(this,A)||this;C.resizeUseRatio=!0,C.cropUseRatio=!0,C.clicked=!1,C.start_x=0,C.start_y=0,C.top_x=0,C.top_y=0,C.width=0,C.height=0,C.activeTab=y,C.naturalWidth=0,C.naturalHeight=0,C.ratio=0,C.new_h=0,C.new_w=0,C.diff_x=0,C.diff_y=0,C.cropBox={x:0,y:0,w:0,h:0},C.resizeBox={w:0,h:0},C.calcCropBox=function(){var P=C.crop_box.parentNode,D=.8*P.offsetWidth,I=.8*P.offsetHeight,O=D,j=I,N=C.naturalWidth,R=C.naturalHeight;D>N&&I>R?(O=N,j=R):C.ratio>D/I?(O=D,j=R*(D/N)):(O=N*(I/R),j=I),(0,p.css)(C.crop_box,{width:O,height:j})},C.showCrop=function(){if(C.cropImage){C.calcCropBox();var P=C.cropImage.offsetWidth||C.image.offsetWidth||C.image.naturalWidth;C.new_w=E.calcValueByPercent(P,C.o.cropDefaultWidth);var D=C.cropImage.offsetHeight||C.image.offsetHeight||C.image.naturalHeight;C.new_h=C.cropUseRatio?C.new_w/C.ratio:E.calcValueByPercent(D,C.o.cropDefaultHeight),(0,p.css)(C.cropHandler,{backgroundImage:"url("+(0,p.attr)(C.cropImage,"src")+")",width:C.new_w,height:C.new_h,left:P/2-C.new_w/2,top:D/2-C.new_h/2}),C.j.e.fire(C.cropHandler,"updatesize")}},C.updateCropBox=function(){if(C.cropImage){var P=C.cropImage.offsetWidth/C.naturalWidth,D=C.cropImage.offsetHeight/C.naturalHeight;C.cropBox.x=(0,p.css)(C.cropHandler,"left")/P,C.cropBox.y=(0,p.css)(C.cropHandler,"top")/D,C.cropBox.w=C.cropHandler.offsetWidth/P,C.cropBox.h=C.cropHandler.offsetHeight/D,C.sizes.textContent=C.cropBox.w.toFixed(0)+"x"+C.cropBox.h.toFixed(0)}},C.updateResizeBox=function(){C.resizeBox.w=C.image.offsetWidth||C.naturalWidth,C.resizeBox.h=C.image.offsetHeight||C.naturalHeight},C.setHandlers=function(){var P=C,D=(0,p.refs)(C.editor),I=D.widthInput,O=D.heightInput;P.j.e.on([P.editor.querySelector(".jodit_bottomright"),P.cropHandler],"mousedown.".concat(x),C.onResizeHandleMouseDown).on(C.j.ow,"resize.".concat(x),function(){C.j.e.fire(P.resizeHandler,"updatesize"),P.showCrop(),C.j.e.fire(P.cropHandler,"updatesize")}),P.j.e.on((0,p.toArray)(C.editor.querySelectorAll(".".concat(x,"__slider-title"))),"click",C.onTitleModeClick).on([I,O],"input",C.onChangeSizeInput);var j=(0,p.refs)(C.editor),N=j.keepAspectRatioResize,R=j.keepAspectRatioCrop;N&&N.addEventListener("change",function(){C.resizeUseRatio=N.checked}),R&&R.addEventListener("change",function(){C.cropUseRatio=R.checked}),P.j.e.on(P.resizeHandler,"updatesize",function(){(0,p.css)(P.resizeHandler,{top:0,left:0,width:P.image.offsetWidth||P.naturalWidth,height:P.image.offsetHeight||P.naturalHeight}),C.updateResizeBox()}).on(P.cropHandler,"updatesize",function(){if(P.cropImage){var F=(0,p.css)(P.cropHandler,"left"),U=(0,p.css)(P.cropHandler,"top"),B=P.cropHandler.offsetWidth,H=P.cropHandler.offsetHeight;0>F&&(F=0),0>U&&(U=0),F+B>P.cropImage.offsetWidth&&(B=P.cropImage.offsetWidth-F,P.cropUseRatio&&(H=B/P.ratio)),U+H>P.cropImage.offsetHeight&&(H=P.cropImage.offsetHeight-U,P.cropUseRatio&&(B=H*P.ratio)),(0,p.css)(P.cropHandler,{width:B,height:H,left:F,top:U,backgroundPosition:-F-1+"px "+(-U-1)+"px",backgroundSize:P.cropImage.offsetWidth+"px "+P.cropImage.offsetHeight+"px"}),P.updateCropBox()}}),Object.values(P.buttons).forEach(function(F){F.onAction(function(){var U={action:P.activeTab,box:P.activeTab===y?P.resizeBox:P.cropBox};switch(F){case P.buttons.saveas:P.j.prompt("Enter new name","Save in new file",function(B){if(!(0,p.trim)(B))return P.j.alert("The name should not be empty"),!1;P.onSave(B,U,P.hide,function(H){P.j.alert(H.message)})});break;case P.buttons.save:P.onSave(void 0,U,P.hide,function(B){P.j.alert(B.message)});break;case P.buttons.reset:P.activeTab===y?((0,p.css)(P.image,{width:null,height:null}),I.value=P.naturalWidth.toString(),O.value=P.naturalHeight.toString(),P.j.e.fire(P.resizeHandler,"updatesize")):P.showCrop()}})})},C.options=A&&A.o&&A.o.imageeditor?A.o.imageeditor:d.Config.defaultOptions.imageeditor;var M=C.options;C.resizeUseRatio=M.resizeUseRatio,C.cropUseRatio=M.cropUseRatio,C.buttons={reset:(0,f.Button)(C.j,"update","Reset"),save:(0,f.Button)(C.j,"save","Save"),saveas:(0,f.Button)(C.j,"save","Save as ...")},C.activeTab=M.resize?y:b,C.editor=(0,g.form)(C.j,C.options);var T=(0,p.refs)(C.editor),k=T.cropBox;return C.resize_box=T.resizeBox,C.crop_box=k,C.sizes=C.editor.querySelector(".".concat(x,"__area.").concat(x,"__area_crop .jodit-image-editor__sizes")),C.resizeHandler=C.editor.querySelector(".".concat(x,"__resizer")),C.cropHandler=C.editor.querySelector(".".concat(x,"__croper")),C._dialog=C.j.dlg({buttons:["fullsize","dialog.close"]}),C._dialog.setContent(C.editor),C._dialog.setSize(C.o.width,C.o.height),C._dialog.setHeader([C.buttons.reset,C.buttons.save,C.buttons.saveas]),C.setHandlers(),C}var E;return u.__extends(S,_),E=S,S.prototype.className=function(){return"ImageEditor"},S.prototype.onTitleModeClick=function(A){var C=this,M=A.target,T=M==null?void 0:M.parentElement;if(T){(0,p.$$)(".".concat(x,"__slider,.").concat(x,"__area"),C.editor).forEach(function(P){return P.classList.remove("".concat(x,"_active"))}),T.classList.add("".concat(x,"_active")),this.activeTab=(0,p.attr)(T,"-area")||y;var k=C.editor.querySelector(".".concat(x,"__area.").concat(x,"__area_")+C.activeTab);k&&k.classList.add("".concat(x,"_active")),C.activeTab===b&&C.showCrop()}},S.prototype.onChangeSizeInput=function(A){var C,M=this,T=A.target,k=(0,p.refs)(this.editor),P=k.widthInput,D=k.heightInput,I=(0,p.attr)(T,"data-ref")==="widthInput",O=parseInt(T.value,10),j=I?M.o.min_height:M.o.min_width;O>(I?M.o.min_width:M.o.min_height)&&((0,p.css)(M.image,I?"width":"height",O),M.resizeUseRatio&&(C=Math.round(I?O/M.ratio:O*M.ratio))>j&&((0,p.css)(M.image,I?"height":"width",C),I?D.value=C.toString():P.value=C.toString())),this.j.e.fire(M.resizeHandler,"updatesize")},S.prototype.onResizeHandleMouseDown=function(A){var C=this;C.target=A.target,A.preventDefault(),A.stopImmediatePropagation(),C.clicked=!0,C.start_x=A.clientX,C.start_y=A.clientY,C.activeTab===b?(C.top_x=(0,p.css)(C.cropHandler,"left"),C.top_y=(0,p.css)(C.cropHandler,"top"),C.width=C.cropHandler.offsetWidth,C.height=C.cropHandler.offsetHeight):(C.width=C.image.offsetWidth,C.height=C.image.offsetHeight),C.j.e.on(this.j.ow,"mousemove",this.onGlobalMouseMove).one(this.j.ow,"mouseup",this.onGlobalMouseUp)},S.prototype.onGlobalMouseUp=function(A){this.clicked&&(this.clicked=!1,A.stopImmediatePropagation(),this.j.e.off(this.j.ow,"mousemove",this.onGlobalMouseMove))},S.prototype.onGlobalMouseMove=function(A){var C=this;if(C.clicked){var M=(0,p.refs)(this.editor),T=M.widthInput,k=M.heightInput;C.diff_x=A.clientX-C.start_x,C.diff_y=A.clientY-C.start_y,C.activeTab===y&&C.resizeUseRatio||C.activeTab===b&&C.cropUseRatio?C.diff_x?(C.new_w=C.width+C.diff_x,C.new_h=Math.round(C.new_w/C.ratio)):(C.new_h=C.height+C.diff_y,C.new_w=Math.round(C.new_h*C.ratio)):(C.new_w=C.width+C.diff_x,C.new_h=C.height+C.diff_y),C.activeTab===y?(C.new_w>C.o.resizeMinWidth&&((0,p.css)(C.image,"width",C.new_w+"px"),T.value=C.new_w.toString()),C.new_h>C.o.resizeMinHeight&&((0,p.css)(C.image,"height",C.new_h+"px"),k.value=C.new_h.toString()),this.j.e.fire(C.resizeHandler,"updatesize")):(C.target!==C.cropHandler?(C.top_x+C.new_w>C.cropImage.offsetWidth&&(C.new_w=C.cropImage.offsetWidth-C.top_x),C.top_y+C.new_h>C.cropImage.offsetHeight&&(C.new_h=C.cropImage.offsetHeight-C.top_y),(0,p.css)(C.cropHandler,{width:C.new_w,height:C.new_h})):(C.top_x+C.diff_x+C.cropHandler.offsetWidth>C.cropImage.offsetWidth&&(C.diff_x=C.cropImage.offsetWidth-C.top_x-C.cropHandler.offsetWidth),(0,p.css)(C.cropHandler,"left",C.top_x+C.diff_x),C.top_y+C.diff_y+C.cropHandler.offsetHeight>C.cropImage.offsetHeight&&(C.diff_y=C.cropImage.offsetHeight-C.top_y-C.cropHandler.offsetHeight),(0,p.css)(C.cropHandler,"top",C.top_y+C.diff_y)),this.j.e.fire(C.cropHandler,"updatesize"))}},Object.defineProperty(S.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),S.prototype.hide=function(){this._dialog.close()},S.prototype.open=function(A,C){var M=this;return this.j.async.promise(function(T){var k=new Date().getTime();M.image=M.j.c.element("img"),(0,p.$$)("img,.jodit-icon_loader",M.resize_box).forEach(m.Dom.safeRemove),(0,p.$$)("img,.jodit-icon_loader",M.crop_box).forEach(m.Dom.safeRemove),(0,p.css)(M.cropHandler,"background","transparent"),M.onSave=C,M.resize_box.appendChild(M.j.c.element("i",{class:"jodit-icon_loader"})),M.crop_box.appendChild(M.j.c.element("i",{class:"jodit-icon_loader"})),/\?/.test(A)?A+="&_tst="+k:A+="?_tst="+k,M.image.setAttribute("src",A),M._dialog.open();var P=(0,p.refs)(M.editor),D=P.widthInput,I=P.heightInput,O=function(){M.isDestructed||(M.image.removeEventListener("load",O),M.naturalWidth=M.image.naturalWidth,M.naturalHeight=M.image.naturalHeight,D.value=M.naturalWidth.toString(),I.value=M.naturalHeight.toString(),M.ratio=M.naturalWidth/M.naturalHeight,M.resize_box.appendChild(M.image),M.cropImage=M.image.cloneNode(!0),M.crop_box.appendChild(M.cropImage),m.Dom.safeRemove.apply(null,(0,p.$$)(".jodit-icon_loader",M.editor)),M.activeTab===b&&M.showCrop(),M.j.e.fire(M.resizeHandler,"updatesize"),M.j.e.fire(M.cropHandler,"updatesize"),M._dialog.setPosition(),M.j.e.fire("afterImageEditor"),T(M._dialog))};M.image.addEventListener("load",O),M.image.complete&&O()})},S.prototype.destruct=function(){this.isDestructed||(this._dialog&&!this._dialog.isInDestruct&&this._dialog.destruct(),m.Dom.safeRemove(this.editor),this.j.e&&this.j.e.off(this.j.ow,"mousemove",this.onGlobalMouseMove).off(this.j.ow,"mouseup",this.onGlobalMouseUp).off(this.ow,".".concat(x)).off(".".concat(x)),_.prototype.destruct.call(this))},S.calcValueByPercent=function(A,C){var M,T=C.toString(),k=parseFloat(A.toString());return(M=/^[-+]?[0-9]+(px)?$/.exec(T))?parseInt(T,10):(M=/^([-+]?[0-9.]+)%$/.exec(T))?Math.round(k*(parseFloat(M[1])/100)):k||0},u.__decorate([v.autobind],S.prototype,"onTitleModeClick",null),u.__decorate([(0,v.debounce)(),v.autobind],S.prototype,"onChangeSizeInput",null),u.__decorate([v.autobind],S.prototype,"onResizeHandleMouseDown",null),u.__decorate([v.autobind],S.prototype,"onGlobalMouseUp",null),u.__decorate([(0,v.throttle)(10)],S.prototype,"onGlobalMouseMove",null),u.__decorate([v.autobind],S.prototype,"hide",null),u.__decorate([v.autobind],S.prototype,"open",null),E=u.__decorate([v.component],S)}(h.ViewComponent);a.ImageEditor=w,a.openImageEditor=function(_,S,E,A,C,M){var T=this;return this.getInstance("ImageEditor",this.o).open(_,function(k,P,D,I){return(0,p.call)(P.action==="resize"?T.dataProvider.resize:T.dataProvider.crop,E,A,S,k,P.box).then(function(O){O&&(D(),C&&C())}).catch(function(O){I(O),M&&M(O)})})}},9249:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.form=void 0;var u=s(2074),d="jodit-image-editor",h=u.Icon.get.bind(u.Icon),p=function(m,f){return f===void 0&&(f="jodti-image-editor_active"),m?f:""};a.form=function(m,f){var g=m.i18n.bind(m),v=function(x,y,b){return b===void 0&&(b=!0),`<div class="jodit-form__group">
			<label>`.concat(g(x),`</label>

			<label class='jodit-switcher'>
				<input `).concat(p(b,"checked"),' data-ref="').concat(y,`" type="checkbox"/>
				<span class="jodit-switcher__slider"></span>
			</label>
	</div>`)};return m.create.fromHTML('<form class="'.concat(d,` jodit-properties">
		<div class="jodit-grid jodit-grid_xs-column">
			<div class="jodit_col-lg-3-4 jodit_col-sm-5-5">
			`).concat(f.resize?'<div class="'.concat(d,"__area ").concat(d,"__area_resize ").concat(d,`_active">
							<div data-ref="resizeBox" class="`).concat(d,`__box"></div>
							<div class="`).concat(d,`__resizer">
								<i class="jodit_bottomright"></i>
							</div>
						</div>`):"",`
			`).concat(f.crop?'<div class="'.concat(d,"__area ").concat(d,"__area_crop ").concat(p(!f.resize),`">
							<div data-ref="cropBox" class="`).concat(d,`__box">
								<div class="`).concat(d,`__croper">
									<i class="jodit_bottomright"></i>
									<i class="`).concat(d,`__sizes"></i>
								</div>
							</div>
						</div>`):"",`
			</div>
			<div class="jodit_col-lg-1-4 jodit_col-sm-5-5">
			`).concat(f.resize?'<div data-area="resize" class="'.concat(d,"__slider ").concat(d,`_active">
							<div class="`).concat(d,`__slider-title">
								`).concat(h("resize"),`
								`).concat(g("Resize"),`
							</div>
							<div class="`).concat(d,`__slider-content">
								<div class="jodit-form__group">
									<label>
										`).concat(g("Width"),`
									</label>
									<input type="number" data-ref="widthInput" class="jodit-input"/>
								</div>
								<div class="jodit-form__group">
									<label>
										`).concat(g("Height"),`
									</label>
									<input type="number" data-ref="heightInput" class="jodit-input"/>
								</div>
								`).concat(v("Keep Aspect Ratio","keepAspectRatioResize"),`
							</div>
						</div>`):"",`
			`).concat(f.crop?'<div data-area="crop" class="'.concat(d,"__slider ").concat(p(!f.resize),`'">
							<div class="`).concat(d,`__slider-title">
								`).concat(h("crop"),`
								`).concat(g("Crop"),`
							</div>
							<div class="`).concat(d,`__slider-content">
								`).concat(v("Keep Aspect Ratio","keepAspectRatioCrop"),`
							</div>
						</div>`):"",`
			</div>
		</div>
	</form>`))}},87837:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.PluginSystem=a.UIMessages=a.Uploader=a.ToolbarCollection=a.ToolbarEditorCollection=a.Table=a.StatusBar=a.CommitStyle=a.Select=a.Snapshot=a.History=a.ImageEditor=a.Helpers=a.ViewWithToolbar=a.View=a.Icon=a.ProgressBar=a.UIBlock=a.UICheckbox=a.UITextArea=a.UIInput=a.UIForm=a.UIList=a.UIGroup=a.UISeparator=a.Popup=a.UIButton=a.UIElement=a.Create=a.Plugin=a.LazyWalker=a.Dom=a.ContextMenu=a.STATUSES=a.ViewComponent=a.Component=a.Async=void 0;var u=s(20255);u.__exportStar(s(55395),a);var d=s(22630);Object.defineProperty(a,"Async",{enumerable:!0,get:function(){return d.Async}}),u.__exportStar(s(30056),a);var h=s(56562);Object.defineProperty(a,"Component",{enumerable:!0,get:function(){return h.Component}}),Object.defineProperty(a,"ViewComponent",{enumerable:!0,get:function(){return h.ViewComponent}}),Object.defineProperty(a,"STATUSES",{enumerable:!0,get:function(){return h.STATUSES}});var p=s(60403);Object.defineProperty(a,"ContextMenu",{enumerable:!0,get:function(){return p.ContextMenu}}),u.__exportStar(s(92080),a);var m=s(64968);Object.defineProperty(a,"Dom",{enumerable:!0,get:function(){return m.Dom}}),Object.defineProperty(a,"LazyWalker",{enumerable:!0,get:function(){return m.LazyWalker}});var f=s(57549);Object.defineProperty(a,"Plugin",{enumerable:!0,get:function(){return f.Plugin}});var g=s(42841);Object.defineProperty(a,"Create",{enumerable:!0,get:function(){return g.Create}});var v=s(2074);Object.defineProperty(a,"UIElement",{enumerable:!0,get:function(){return v.UIElement}}),Object.defineProperty(a,"UIButton",{enumerable:!0,get:function(){return v.UIButton}}),Object.defineProperty(a,"Popup",{enumerable:!0,get:function(){return v.Popup}}),Object.defineProperty(a,"UISeparator",{enumerable:!0,get:function(){return v.UISeparator}}),Object.defineProperty(a,"UIGroup",{enumerable:!0,get:function(){return v.UIGroup}}),Object.defineProperty(a,"UIList",{enumerable:!0,get:function(){return v.UIList}}),Object.defineProperty(a,"UIForm",{enumerable:!0,get:function(){return v.UIForm}}),Object.defineProperty(a,"UIInput",{enumerable:!0,get:function(){return v.UIInput}}),Object.defineProperty(a,"UITextArea",{enumerable:!0,get:function(){return v.UITextArea}}),Object.defineProperty(a,"UICheckbox",{enumerable:!0,get:function(){return v.UICheckbox}}),Object.defineProperty(a,"UIBlock",{enumerable:!0,get:function(){return v.UIBlock}}),Object.defineProperty(a,"ProgressBar",{enumerable:!0,get:function(){return v.ProgressBar}}),Object.defineProperty(a,"Icon",{enumerable:!0,get:function(){return v.Icon}});var x=s(75902);Object.defineProperty(a,"View",{enumerable:!0,get:function(){return x.View}});var y=s(43608);Object.defineProperty(a,"ViewWithToolbar",{enumerable:!0,get:function(){return y.ViewWithToolbar}}),u.__exportStar(s(63463),a);var b=s(40332);a.Helpers=b;var w=s(35503);Object.defineProperty(a,"ImageEditor",{enumerable:!0,get:function(){return w.ImageEditor}});var _=s(15432);Object.defineProperty(a,"History",{enumerable:!0,get:function(){return _.History}});var S=s(31648);Object.defineProperty(a,"Snapshot",{enumerable:!0,get:function(){return S.Snapshot}});var E=s(2123);Object.defineProperty(a,"Select",{enumerable:!0,get:function(){return E.Select}}),Object.defineProperty(a,"CommitStyle",{enumerable:!0,get:function(){return E.CommitStyle}});var A=s(38603);Object.defineProperty(a,"StatusBar",{enumerable:!0,get:function(){return A.StatusBar}});var C=s(25120);Object.defineProperty(a,"Table",{enumerable:!0,get:function(){return C.Table}});var M=s(81698);Object.defineProperty(a,"ToolbarEditorCollection",{enumerable:!0,get:function(){return M.ToolbarEditorCollection}});var T=s(72719);Object.defineProperty(a,"ToolbarCollection",{enumerable:!0,get:function(){return T.ToolbarCollection}}),u.__exportStar(s(3890),a);var k=s(50454);Object.defineProperty(a,"Uploader",{enumerable:!0,get:function(){return k.Uploader}});var P=s(71014);Object.defineProperty(a,"UIMessages",{enumerable:!0,get:function(){return P.UIMessages}});var D=s(44540);Object.defineProperty(a,"PluginSystem",{enumerable:!0,get:function(){return D.PluginSystem}})},37762:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIMessage=void 0;var u=s(20255),d=s(2074),h=s(11441),p=function(m){function f(g,v){var x=m.call(this,g)||this;return x.setMod("active",!0),x.setMod("variant",v.variant),x.container.textContent=v.text,x}return u.__extends(f,m),f.prototype.className=function(){return"UIMessage"},u.__decorate([h.component],f)}(d.UIElement);a.UIMessage=p},71014:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UIMessages=void 0;var u=s(20255);s(63421);var d=s(26911),h=s(61479),p=s(11441),m=s(46163),f=s(37762),g=function(v){function x(y,b,w){w===void 0&&(w={defaultTimeout:3e3,defaultOffset:5});var _=v.call(this,y)||this;return _.__box=b,_.options=w,_.__messages=new Set,_}return u.__extends(x,v),x.prototype.className=function(){return"UIMessages"},x.prototype.info=function(y,b){this.__message(y,"info",b)},x.prototype.success=function(y,b){this.__message(y,"success",b)},x.prototype.error=function(y,b){this.__message(y,"error",b)},x.prototype.message=function(y,b,w){this.__message(y,b,w)},x.prototype.__message=function(y,b,w){b===void 0&&(b="info");var _=y+":"+b;if(this.__messages.has(_))this.async.updateTimeout(_,w||this.options.defaultTimeout);else{this.__box.appendChild(this.container);var S=new f.UIMessage(this.j,{text:y,variant:b});this.append(S),this.__calcOffsets(),this.__messages.add(_);var E=this.__getRemoveCallback(S,_);this.j.e.on(S.container,"pointerdown",E),this.async.setTimeout(E,{label:_,timeout:w||this.options.defaultTimeout})}},x.prototype.__getRemoveCallback=function(y,b){var w=this,_=function(S){S&&S.preventDefault(),y.isInDestruct||(w.async.clearTimeout(b),w.j.e.off(y.container,"pointerdown",_),w.__messages.delete(b),y.setMod("active",!1),w.async.setTimeout(function(){w.remove(y),y.destruct(),w.__calcOffsets()},300))};return _},x.prototype.__calcOffsets=function(){var y=this,b=5;this.elements.forEach(function(w){(0,d.css)(w.container,"bottom",b+"px"),b+=w.container.offsetHeight+y.options.defaultOffset})},u.__decorate([(0,m.watch)(":errorMessage")],x.prototype,"__message",null),u.__decorate([p.component],x)}(h.UIGroup);a.UIMessages=g},38603:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.StatusBar=void 0;var u=s(20255);s(32115);var d=s(56562),h=s(64968),p=s(59829),m=s(43441),f=function(g){function v(x,y){var b=g.call(this,x)||this;return b.target=y,b.mods={},b.container=x.c.div("jodit-status-bar"),y.appendChild(b.container),b.hide(),b}return u.__extends(v,g),v.prototype.className=function(){return"StatusBar"},v.prototype.hide=function(){this.container.classList.add("jodit_hidden")},v.prototype.show=function(){this.container.classList.remove("jodit_hidden")},Object.defineProperty(v.prototype,"isShown",{get:function(){return!this.container.classList.contains("jodit_hidden")},enumerable:!1,configurable:!0}),v.prototype.getHeight=function(){var x,y;return(y=(x=this.container)===null||x===void 0?void 0:x.offsetHeight)!==null&&y!==void 0?y:0},v.prototype.findEmpty=function(x){x===void 0&&(x=!1);for(var y=this.getElms(x?"item-right":"item"),b=0;y.length>b;b+=1)if(!y[b].innerHTML.trim().length)return y[b]},v.prototype.append=function(x,y){var b;y===void 0&&(y=!1);var w=this.findEmpty(y)||this.j.c.div(this.getFullElName("item"));y&&w.classList.add(this.getFullElName("item-right")),w.appendChild(x),(b=this.container)===null||b===void 0||b.appendChild(w),this.j.o.statusbar&&this.show(),this.j.e.fire("resize")},v.prototype.destruct=function(){this.isInDestruct||(this.setStatus(d.STATUSES.beforeDestruct),h.Dom.safeRemove(this.container),g.prototype.destruct.call(this))},u.__decorate([m.component,(0,m.derive)(p.Mods,p.Elms)],v)}(d.ViewComponent);a.StatusBar=f},25120:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Table=void 0;var u=s(20255),d=s(86893),h=s(64968),p=s(40332),m=s(56562),f=s(17332),g=s(43441),v=new WeakMap,x=function(b){function w(){var _=b!==null&&b.apply(this,arguments)||this;return _.selected=new Set,_}return u.__extends(w,b),w.prototype.className=function(){return"Table"},w.prototype.recalculateStyles=function(){var _=(0,f.getContainer)(this.j,w,"style",!0),S=[];this.selected.forEach(function(E){var A=(0,p.cssPath)(E);A&&S.push(A)}),_.innerHTML=S.length?S.join(",")+"{".concat(this.jodit.options.table.selectionCellStyle,"}"):""},w.prototype.addSelection=function(_){this.selected.add(_),this.recalculateStyles();var S=h.Dom.closest(_,"table",this.j.editor);if(S){var E=w.selectedByTable.get(S)||new Set;E.add(_),w.selectedByTable.set(S,E)}},w.prototype.removeSelection=function(_){this.selected.delete(_),this.recalculateStyles();var S=h.Dom.closest(_,"table",this.j.editor);if(S){var E=w.selectedByTable.get(S);E&&(E.delete(_),E.size||w.selectedByTable.delete(S))}},w.prototype.getAllSelectedCells=function(){return(0,p.toArray)(this.selected)},w.getSelectedCellsByTable=function(_){var S=w.selectedByTable.get(_);return S?(0,p.toArray)(S):[]},w.prototype.destruct=function(){return this.selected.clear(),b.prototype.destruct.call(this)},w.getRowsCount=function(_){return _.rows.length},w.getColumnsCount=function(_){return w.formalMatrix(_).reduce(function(S,E){return Math.max(S,E.length)},0)},w.formalMatrix=function(_,S){for(var E=[[]],A=(0,p.toArray)(_.rows),C=function(P,D){E[D]===void 0&&(E[D]=[]);for(var I,O,j=P.colSpan,N=P.rowSpan,R=0;E[D][R];)R+=1;for(O=0;N>O;O+=1)for(I=0;j>I;I+=1){if(E[D+O]===void 0&&(E[D+O]=[]),S&&S(P,D+O,R+I,j,N)===!1)return!1;E[D+O][R+I]=P}},M=0;A.length>M;M+=1)for(var T=(0,p.toArray)(A[M].cells),k=0;T.length>k;k+=1)if(C(T[k],M)===!1)return E;return E},w.formalCoordinate=function(_,S,E){E===void 0&&(E=!1);var A=0,C=0,M=1,T=1;return w.formalMatrix(_,function(k,P,D,I,O){if(S===k)return A=P,C=D,M=I||1,T=O||1,E&&(C+=(I||1)-1,A+=(O||1)-1),!1}),[A,C,M,T]},w.appendRow=function(_,S,E,A){var C,M;if(S)M=S.cloneNode(!0),(0,p.$$)("td,th",S).forEach(function(P){var D=(0,p.attr)(P,"rowspan");if(D&&parseInt(D,10)>1){var I=parseInt(D,10)-1;(0,p.attr)(P,"rowspan",I>1?I:null)}}),(0,p.$$)("td,th",M).forEach(function(P){P.innerHTML=""});else{var T=w.getColumnsCount(_);M=A.element("tr");for(var k=0;T>k;k+=1)M.appendChild(A.element("td"))}E&&S&&S.nextSibling?S.parentNode&&S.parentNode.insertBefore(M,S.nextSibling):!E&&S?S.parentNode&&S.parentNode.insertBefore(M,S):(((C=_.getElementsByTagName("tbody"))===null||C===void 0?void 0:C[0])||_).appendChild(M)},w.removeRow=function(_,S){var E,A=w.formalMatrix(_),C=_.rows[S];A[S].forEach(function(M,T){if(E=!1,0>S-1||A[S-1][T]!==M)if(A[S+1]&&A[S+1][T]===M){if(M.parentNode===C&&M.parentNode.nextSibling){E=!0;for(var k=T+1;A[S+1][k]===M;)k+=1;var P=h.Dom.next(M.parentNode,function(I){return h.Dom.isTag(I,"tr")},_);P&&(A[S+1][k]?P.insertBefore(M,A[S+1][k]):P.appendChild(M))}}else h.Dom.safeRemove(M);else E=!0;if(E&&(M.parentNode===C||M!==A[S][T-1])){var D=M.rowSpan;(0,p.attr)(M,"rowspan",D-1>1?D-1:null)}}),h.Dom.safeRemove(C)},w.appendColumn=function(_,S,E,A){var C,M=w.formalMatrix(_);for((S===void 0||0>S)&&(S=w.getColumnsCount(_)-1),C=0;M.length>C;C+=1){var T=A.element("td"),k=M[C][S],P=!1;E?(M[C]&&k&&S+1>=M[C].length||k!==M[C][S+1])&&(k.nextSibling?h.Dom.before(k.nextSibling,T):k.parentNode&&k.parentNode.appendChild(T),P=!0):(0>S-1||M[C][S]!==M[C][S-1]&&M[C][S].parentNode)&&(h.Dom.before(M[C][S],T),P=!0),P||(0,p.attr)(M[C][S],"colspan",parseInt((0,p.attr)(M[C][S],"colspan")||"1",10)+1)}},w.removeColumn=function(_,S){var E,A=w.formalMatrix(_);A.forEach(function(C,M){var T=C[S];if(E=!1,0>S-1||A[M][S-1]!==T?C.length>S+1&&A[M][S+1]===T?E=!0:h.Dom.safeRemove(T):E=!0,E&&(0>M-1||T!==A[M-1][S])){var k=T.colSpan;(0,p.attr)(T,"colspan",k-1>1?(k-1).toString():null)}})},w.getSelectedBound=function(_,S){var E,A,C,M=[[1/0,1/0],[0,0]],T=w.formalMatrix(_);for(E=0;T.length>E;E+=1)for(A=0;T[E]&&T[E].length>A;A+=1)S.includes(T[E][A])&&(M[0][0]=Math.min(E,M[0][0]),M[0][1]=Math.min(A,M[0][1]),M[1][0]=Math.max(E,M[1][0]),M[1][1]=Math.max(A,M[1][1]));for(E=M[0][0];M[1][0]>=E;E+=1)for(C=1,A=M[0][1];M[1][1]>=A;A+=1){for(;T[E]&&T[E][A-C]&&T[E][A]===T[E][A-C];)M[0][1]=Math.min(A-C,M[0][1]),M[1][1]=Math.max(A-C,M[1][1]),C+=1;for(C=1;T[E]&&T[E][A+C]&&T[E][A]===T[E][A+C];)M[0][1]=Math.min(A+C,M[0][1]),M[1][1]=Math.max(A+C,M[1][1]),C+=1;for(C=1;T[E-C]&&T[E][A]===T[E-C][A];)M[0][0]=Math.min(E-C,M[0][0]),M[1][0]=Math.max(E-C,M[1][0]),C+=1;for(C=1;T[E+C]&&T[E][A]===T[E+C][A];)M[0][0]=Math.min(E+C,M[0][0]),M[1][0]=Math.max(E+C,M[1][0]),C+=1}return M},w.normalizeTable=function(_){var S,E,A,C,M=[],T=w.formalMatrix(_);for(E=0;T[0].length>E;E+=1){for(A=1e6,C=!1,S=0;T.length>S;S+=1)if(T[S][E]!==void 0){if(2>T[S][E].colSpan){C=!0;break}A=Math.min(A,T[S][E].colSpan)}if(!C)for(S=0;T.length>S;S+=1)T[S][E]!==void 0&&w.mark(T[S][E],"colspan",T[S][E].colSpan-A+1,M)}for(S=0;T.length>S;S+=1){for(A=1e6,C=!1,E=0;T[S].length>E;E+=1)if(T[S][E]!==void 0){if(2>T[S][E].rowSpan){C=!0;break}A=Math.min(A,T[S][E].rowSpan)}if(!C)for(E=0;T[S].length>E;E+=1)T[S][E]!==void 0&&w.mark(T[S][E],"rowspan",T[S][E].rowSpan-A+1,M)}for(S=0;T.length>S;S+=1)for(E=0;T[S].length>E;E+=1)T[S][E]!==void 0&&(T[S][E].hasAttribute("rowspan")&&T[S][E].rowSpan===1&&(0,p.attr)(T[S][E],"rowspan",null),T[S][E].hasAttribute("colspan")&&T[S][E].colSpan===1&&(0,p.attr)(T[S][E],"colspan",null),T[S][E].hasAttribute("class")&&!(0,p.attr)(T[S][E],"class")&&(0,p.attr)(T[S][E],"class",null));w.unmark(M)},w.mergeSelected=function(_,S){var E,A=[],C=w.getSelectedBound(_,w.getSelectedCellsByTable(_)),M=0,T=null,k=0,P=0,D=0,I=new Set,O=[];C&&(C[0][0]-C[1][0]||C[0][1]-C[1][1])&&(w.formalMatrix(_,function(j,N,R,F,U){if(!(C[0][0]>N||N>C[1][0]||C[0][1]>R||R>C[1][1])){if(I.has(E=j))return;I.add(E),N===C[0][0]&&E.style.width&&(M+=E.offsetWidth),(0,p.trim)(j.innerHTML.replace(/<br(\/)?>/g,""))!==""&&A.push(j.innerHTML),F>1&&(P+=F-1),U>1&&(D+=U-1),T?(w.mark(E,"remove",1,O),y(S).removeSelection(E)):(T=j,k=R)}}),P=C[1][1]-C[0][1]+1,D=C[1][0]-C[0][0]+1,T&&(P>1&&w.mark(T,"colspan",P,O),D>1&&w.mark(T,"rowspan",D,O),M&&(w.mark(T,"width",(M/_.offsetWidth*100).toFixed(d.ACCURACY)+"%",O),k&&w.setColumnWidthByDelta(_,k,0,!0,O)),T.innerHTML=A.join("<br/>"),y(S).addSelection(T),I.delete(T),w.unmark(O),w.normalizeTable(_),(0,p.toArray)(_.rows).forEach(function(j,N){j.cells.length||h.Dom.safeRemove(j)})))},w.splitHorizontal=function(_,S){var E,A,C,M,T,k=[];w.getSelectedCellsByTable(_).forEach(function(P){(A=S.createInside.element("td")).appendChild(S.createInside.element("br")),C=S.createInside.element("tr"),E=w.formalCoordinate(_,P),2>P.rowSpan?(w.formalMatrix(_,function(D,I,O){E[0]===I&&E[1]!==O&&D!==P&&w.mark(D,"rowspan",D.rowSpan+1,k)}),h.Dom.after(h.Dom.closest(P,"tr",_),C),C.appendChild(A)):(w.mark(P,"rowspan",P.rowSpan-1,k),w.formalMatrix(_,function(D,I,O){I>E[0]&&E[0]+P.rowSpan>I&&E[1]>O&&D.parentNode.rowIndex===I&&(T=D),I>E[0]&&D===P&&(M=_.rows[I])}),T?h.Dom.after(T,A):M.insertBefore(A,M.firstChild)),P.colSpan>1&&w.mark(A,"colspan",P.colSpan,k),w.unmark(k),y(S).removeSelection(P)}),this.normalizeTable(_)},w.splitVertical=function(_,S){var E,A,C,M=[];w.getSelectedCellsByTable(_).forEach(function(T){E=w.formalCoordinate(_,T),2>T.colSpan?w.formalMatrix(_,function(P,D,I){E[1]===I&&E[0]!==D&&P!==T&&w.mark(P,"colspan",P.colSpan+1,M)}):w.mark(T,"colspan",T.colSpan-1,M),(A=S.createInside.element("td")).appendChild(S.createInside.element("br")),T.rowSpan>1&&w.mark(A,"rowspan",T.rowSpan,M);var k=T.offsetWidth;h.Dom.after(T,A),w.mark(T,"width",(100*(C=k/_.offsetWidth/2)).toFixed(d.ACCURACY)+"%",M),w.mark(A,"width",(100*C).toFixed(d.ACCURACY)+"%",M),w.unmark(M),y(S).removeSelection(T)}),w.normalizeTable(_)},w.setColumnWidthByDelta=function(_,S,E,A,C){for(var M=w.formalMatrix(_),T=0,k=0;M.length>k;k+=1)if(1>=(P=M[k][S]).colSpan||1>=M.length){w.mark(P,"width",((P.offsetWidth+E)/_.offsetWidth*100).toFixed(d.ACCURACY)+"%",C),T=k;break}for(k=T+1;M.length>k;k+=1){var P;w.mark(P=M[k][S],"width",null,C)}A||w.unmark(C)},w.mark=function(_,S,E,A){var C;A.push(_);var M=(C=v.get(_))!==null&&C!==void 0?C:{};M[S]=E===void 0?1:E,v.set(_,M)},w.unmark=function(_){_.forEach(function(S){var E=v.get(S);E&&(Object.keys(E).forEach(function(A){var C=E[A];switch(A){case"remove":h.Dom.safeRemove(S);break;case"rowspan":(0,p.attr)(S,"rowspan",(0,p.isNumber)(C)&&C>1?C:null);break;case"colspan":(0,p.attr)(S,"colspan",(0,p.isNumber)(C)&&C>1?C:null);break;case"width":C==null?(S.style.removeProperty("width"),(0,p.attr)(S,"style")||(0,p.attr)(S,"style",null)):S.style.width=C.toString()}delete E[A]}),v.delete(S))})},w.selectedByTable=new WeakMap,u.__decorate([(0,g.debounce)()],w.prototype,"recalculateStyles",null),w}(m.ViewComponent);a.Table=x;var y=function(b){return b.getInstance("Table",b.o)}},48197:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ToolbarButton=void 0;var u=s(20255);s(53362);var d=s(96516),h=s(43441),p=s(64968),m=s(12680),f=s(81438),g=s(40332),v=s(77904),x=s(72719),y=s(29411),b=s(38546),w=function(_){function S(E,A,C){C===void 0&&(C=null);var M=_.call(this,E)||this;return M.control=A,M.target=C,M.state=u.__assign(u.__assign({},(0,d.UIButtonState)()),{theme:"toolbar",currentValue:"",hasTrigger:!1}),M.openedPopup=null,E.e.on([M.button,M.trigger],"mousedown",function(T){return T.preventDefault()}),M.onAction(M.onClick),M.hookStatus(y.STATUSES.ready,function(){M.initFromControl(),M.initTooltip(),M.update()}),A.mods&&Object.keys(A.mods).forEach(function(T){A.mods&&M.setMod(T,A.mods[T])}),M}return u.__extends(S,_),S.prototype.className=function(){return"ToolbarButton"},Object.defineProperty(S.prototype,"toolbar",{get:function(){return this.closest(x.ToolbarCollection)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"button",{get:function(){return this.container.querySelector("button.".concat(this.componentName,"__button"))},enumerable:!1,configurable:!0}),S.prototype.update=function(){var E=this.control,A=this.state,C=this.closest(x.ToolbarCollection);A.disabled=this.calculateDisabledStatus(C),A.activated=this.calculateActivatedStatus(C),(0,g.isFunction)(E.update)&&C&&E.update(this,C.jodit),_.prototype.update.call(this)},S.prototype.calculateActivatedStatus=function(E){return!((0,g.isJoditObject)(this.j)&&!this.j.editorIsActive)&&(!(!(0,g.isFunction)(this.control.isActive)||!this.control.isActive(this.j,this.control,this))||!!(E&&E.shouldBeActive(this)))},S.prototype.calculateDisabledStatus=function(E){return!!this.j.o.disabled||!(!this.j.o.readonly||this.j.o.activeButtonsInReadOnly&&this.j.o.activeButtonsInReadOnly.includes(this.control.name))||!(!(0,g.isFunction)(this.control.isDisabled)||!this.control.isDisabled(this.j,this.control,this))||!!(E&&E.shouldBeDisabled(this))},S.prototype.onChangeActivated=function(){(0,g.attr)(this.button,"aria-pressed",this.state.activated),_.prototype.onChangeActivated.call(this)},S.prototype.onChangeText=function(){(0,g.isFunction)(this.control.template)?this.text.innerHTML=this.control.template(this.j,this.control.name,this.j.i18n(this.state.text)):_.prototype.onChangeText.call(this),this.setMod("text-icons",!!this.text.innerText.trim().length)},S.prototype.onChangeTabIndex=function(){(0,g.attr)(this.button,"tabindex",this.state.tabIndex)},S.prototype.onChangeTooltip=function(){(0,g.attr)(this.button,"aria-label",this.state.tooltip),_.prototype.onChangeTooltip.call(this)},S.prototype.createContainer=function(){var E=this.componentName,A=this.j.c.span(E),C=_.prototype.createContainer.call(this);return(0,g.attr)(A,"role","listitem"),C.classList.remove(E),C.classList.add(E+"__button"),Object.defineProperty(C,"component",{value:this}),A.appendChild(C),this.trigger=this.j.c.fromHTML('<span role="trigger" class="'.concat(E,'__trigger">').concat(v.Icon.get("chevron"),"</span>")),A},S.prototype.focus=function(){var E;(E=this.container.querySelector("button"))===null||E===void 0||E.focus()},S.prototype.onChangeHasTrigger=function(){this.state.hasTrigger?this.container.appendChild(this.trigger):p.Dom.safeRemove(this.trigger),this.setMod("with-trigger",this.state.hasTrigger||null)},S.prototype.onChangeDisabled=function(){var E=this.state.disabled?"disabled":null;(0,g.attr)(this.trigger,"disabled",E),(0,g.attr)(this.button,"disabled",E),(0,g.attr)(this.container,"disabled",E)},S.prototype.initTooltip=function(){var E=this;this.j.o.textIcons||!this.j.o.showTooltip||this.j.o.useNativeTooltip||this.j.e.off(this.container,"mouseenter mouseleave").on(this.container,"mousemove",function(A){E.state.tooltip&&!E.state.disabled&&E.j.e.fire("delayShowTooltip",function(){return{x:A.clientX+10,y:A.clientY+10}},E.state.tooltip)}).on(this.container,"mouseleave",function(){E.j.e.fire("hideTooltip")})},S.prototype.initFromControl=function(){var E,A=this.control,C=this.state;this.updateSize(),C.name=A.name;var M=this.j.o.textIcons;if(M===!0||(0,g.isFunction)(M)&&M(A.name)||A.template)C.icon=(0,d.UIButtonState)().icon,C.text=A.text||A.name;else{if(A.iconURL)C.icon.iconURL=A.iconURL;else{var T=A.icon||A.name;C.icon.name=v.Icon.exists(T)||!((E=this.j.o.extraIcons)===null||E===void 0)&&E[T]?T:""}A.iconURL||C.icon.name||(C.text=A.text||A.name)}A.tooltip&&(C.tooltip=this.j.i18n((0,g.isFunction)(A.tooltip)?A.tooltip(this.j,A,this):A.tooltip)),C.hasTrigger=!!(A.list||A.popup&&A.exec)},S.prototype.onTriggerClick=function(E){var A,C,M,T=this;if(this.openedPopup)this.closePopup();else{var k=this.control;if(E.buffer={actionTrigger:this},k.list)return this.openControlList(k);if((0,g.isFunction)(k.popup)){var P=this.openPopup();if(P.parentElement=this,this.j.e.fire((0,g.camelCase)("before-".concat(k.name,"-open-popup")),this.target,k,P)!==!1){var D=(M=(C=(A=this.toolbar)===null||A===void 0?void 0:A.getTarget(this))!==null&&C!==void 0?C:this.target)!==null&&M!==void 0?M:null,I=k.popup(this.j,D,k,this.closePopup,this);I&&P.setContent((0,g.isString)(I)?this.j.c.fromHTML(I):I).open(function(){return(0,g.position)(T.container)},!1,this.j.o.allowTabNavigation?this.container:void 0)}this.j.e.fire((0,g.camelCase)("after-".concat(k.name,"-open-popup")),P.container)}}},S.prototype.openControlList=function(E){var A,C=this,M=(A=this.jodit.options.controls)!==null&&A!==void 0?A:{},T=function(O){return(0,b.findControlType)(O,M)},k=E.list,P=this.openPopup(),D=(0,f.makeCollection)(this.j);P.parentElement=this,D.parentElement=P,D.mode="vertical";var I=function(O,j){if((0,g.isString)(j)&&T(j))return u.__assign({name:j.toString()},T(j));if((0,g.isString)(O)&&T(O))return u.__assign(u.__assign({name:O.toString()},T(O)),typeof j=="object"?j:{});(function(F){return(0,g.isPlainObject)(F)&&"title"in F&&"value"in F})(O)&&(j=O.value,O=O.title);var N=E.childTemplate,R={name:O.toString(),template:N&&function(F,U,B){return N(F,U,B,C)},exec:E.childExec?function(F,U,B){var H;return(H=E.childExec)===null||H===void 0?void 0:H.call(E,F,U,u.__assign(u.__assign({},B),{parentControl:E}))}:E.exec,data:E.data,command:E.command,isActive:E.isChildActive,isDisabled:E.isChildDisabled,mode:E.mode,args:u.__spreadArray(u.__spreadArray([],u.__read(E.args?E.args:[]),!1),[O,j],!1)};return(0,g.isString)(j)&&(R.text=j),R};D.build((0,g.isArray)(k)?k.map(I):(0,g.keys)(k,!1).map(function(O){return I(O,k[O])}),this.target),P.setContent(D.container).open(function(){return(0,g.position)(C.container)},!1,this.j.o.allowTabNavigation?this.container:void 0),this.state.activated=!0},S.prototype.onOutsideClick=function(E){this.openedPopup&&(E&&p.Dom.isNode(E.target)&&(p.Dom.isOrContains(this.container,E.target)||this.openedPopup.isOwnClick(E))||this.closePopup())},S.prototype.openPopup=function(){return this.closePopup(),this.openedPopup=new m.Popup(this.j,!1),this.j.e.on(this.ow,"mousedown touchstart",this.onOutsideClick).on("escape closeAllPopups",this.onOutsideClick),this.openedPopup},S.prototype.closePopup=function(){this.openedPopup&&(this.j.e.off(this.ow,"mousedown touchstart",this.onOutsideClick).off("escape closeAllPopups",this.onOutsideClick),this.state.activated=!1,this.openedPopup.close(),this.openedPopup.destruct(),this.openedPopup=null)},S.prototype.onClick=function(E){var A,C,M,T,k,P,D,I=this.control;if((0,g.isFunction)(I.exec)){var O=(M=(C=(A=this.toolbar)===null||A===void 0?void 0:A.getTarget(this))!==null&&C!==void 0?C:this.target)!==null&&M!==void 0?M:null,j=I.exec(this.j,O,{control:I,originalEvent:E,button:this});if(j!==!1&&j!==!0&&((k=(T=this.j)===null||T===void 0?void 0:T.e)===null||k===void 0||k.fire("synchro"),this.parentElement&&this.parentElement.update(),(D=(P=this.j)===null||P===void 0?void 0:P.e)===null||D===void 0||D.fire("closeAllPopups afterExec")),j!==!1)return}return I.list?this.openControlList(I):(0,g.isFunction)(I.popup)?this.onTriggerClick(E):void((I.command||I.name)&&((0,g.call)((0,g.isJoditObject)(this.j)?this.j.execCommand.bind(this.j):this.j.od.execCommand.bind(this.j.od),I.command||I.name,!1,I.args&&I.args[0]),this.j.e.fire("closeAllPopups")))},S.prototype.destruct=function(){return this.closePopup(),_.prototype.destruct.call(this)},u.__decorate([(0,h.watch)("state.tooltip")],S.prototype,"onChangeTooltip",null),u.__decorate([(0,h.watch)("state.hasTrigger")],S.prototype,"onChangeHasTrigger",null),u.__decorate([(0,h.watch)("trigger:click")],S.prototype,"onTriggerClick",null),u.__decorate([h.autobind],S.prototype,"onOutsideClick",null),u.__decorate([h.autobind],S.prototype,"closePopup",null),u.__decorate([h.component],S)}(d.UIButton);a.ToolbarButton=w},34375:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ToolbarContent=void 0;var u=s(20255);s(48904);var d=s(96516),h=s(64968),p=s(40332),m=s(43441),f=function(g){function v(x,y,b){b===void 0&&(b=null);var w=g.call(this,x)||this;return w.control=y,w.target=b,w.container.classList.add("".concat(w.componentName,"_").concat(w.clearName(y.name))),(0,p.attr)(w.container,"role","content"),w}return u.__extends(v,g),v.prototype.className=function(){return"ToolbarContent"},v.prototype.update=function(){var x=this.control.getContent(this.j,this.control,this);((0,p.isString)(x)||x.parentNode!==this.container)&&(h.Dom.detach(this.container),this.container.appendChild((0,p.isString)(x)?this.j.create.fromHTML(x):x)),g.prototype.update.call(this)},v.prototype.createContainer=function(){return this.j.c.span(this.componentName)},u.__decorate([m.component],v)}(d.UIButton);a.ToolbarContent=f},3890:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(48197),a),u.__exportStar(s(34375),a)},72719:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ToolbarCollection=void 0;var u=s(20255);s(85796);var d=s(40332),h=s(2074),p=s(81438),m=s(43441),f=function(g){function v(x){var y=g.call(this,x)||this;return y.__listenEvents="updatePlugins updateToolbar changeStack mousedown mouseup keydown change afterInit readonly afterResize selectionchange changeSelection focus afterSetMode touchstart focus blur",y.update=y.j.async.debounce(y.__immediateUpdate,function(){return y.j.defaultTimeout}),y.__tooltip=null,y.__initEvents(),y.__tooltip=h.UITooltip.make(x),y}return u.__extends(v,g),v.prototype.className=function(){return"ToolbarCollection"},Object.defineProperty(v.prototype,"firstButton",{get:function(){return u.__read(this.buttons,1)[0]||null},enumerable:!1,configurable:!0}),v.prototype.makeButton=function(x,y){return y===void 0&&(y=null),(0,p.makeButton)(this.j,x,y)},v.prototype.shouldBeActive=function(x){},v.prototype.shouldBeDisabled=function(x){},v.prototype.getTarget=function(x){return x.target||null},v.prototype.__immediateUpdate=function(){this.isDestructed||this.j.isLocked||(g.prototype.update.call(this),this.j.e.fire("afterUpdateToolbar"))},v.prototype.setDirection=function(x){this.container.style.direction=x,this.container.setAttribute("dir",x)},v.prototype.__initEvents=function(){this.j.e.on(this.__listenEvents,this.update).on("afterSetMode focus",this.__immediateUpdate)},v.prototype.hide=function(){this.container.remove()},v.prototype.show=function(){this.appendTo(this.j.toolbarContainer)},v.prototype.showInline=function(x){throw(0,d.error)("The method is not implemented for this class.")},v.prototype.build=function(x,y){y===void 0&&(y=null);var b=this.j.e.fire("beforeToolbarBuild",x);return b&&(x=b),g.prototype.build.call(this,x,y),this},v.prototype.destruct=function(){var x;this.isDestructed||((x=this.__tooltip)===null||x===void 0||x.destruct(),this.j.e.off(this.__listenEvents,this.update).off("afterSetMode focus",this.__immediateUpdate),g.prototype.destruct.call(this))},u.__decorate([m.autobind],v.prototype,"__immediateUpdate",null),u.__decorate([m.component],v)}(h.UIList);a.ToolbarCollection=f},81698:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ToolbarEditorCollection=void 0;var u=s(20255),d=s(72719),h=s(86893),p=s(64968),m=s(40332),f=s(43441),g=function(v){function x(y){var b=v.call(this,y)||this;return b.checkActiveStatus=function(w,_){var S=0,E=0;return Object.keys(w).forEach(function(A){var C=w[A];(0,m.isFunction)(C)?C(b.j,(0,m.css)(_,A).toString())&&(S+=1):C.indexOf((0,m.css)(_,A).toString())!==-1&&(S+=1),E+=1}),E===S},b.prependInvisibleInput(b.container),b}return u.__extends(x,v),x.prototype.className=function(){return"ToolbarEditorCollection"},x.prototype.shouldBeDisabled=function(y){var b=v.prototype.shouldBeDisabled.call(this,y);if(b!==void 0)return b;var w=y.control.mode===void 0?h.MODE_WYSIWYG:y.control.mode;return!(w===h.MODE_SPLIT||w===this.j.getRealMode())},x.prototype.shouldBeActive=function(y){var b=this,w=v.prototype.shouldBeActive.call(this,y);if(w!==void 0)return w;var _=this.j.selection?this.j.s.current():null;if(!_)return!1;if(y.control.tags){var S=y.control.tags;if(p.Dom.up(_,function(A){if(A&&S.indexOf(A.nodeName.toLowerCase())!==-1)return!0},this.j.editor))return!0}if(y.control.css){var E=y.control.css;if(p.Dom.up(_,function(A){if(A&&!p.Dom.isText(A))return b.checkActiveStatus(E,A)},this.j.editor))return!0}return!1},x.prototype.getTarget=function(y){return y.target||this.j.s.current()||null},x.prototype.prependInvisibleInput=function(y){var b=this.j.create.element("input",{tabIndex:-1,disabled:!0,style:"width: 0; height:0; position: absolute; visibility: hidden;"});p.Dom.appendChildFirst(y,b)},x.prototype.showInline=function(y){this.jodit.e.fire("showInlineToolbar",y)},x.prototype.hide=function(){this.jodit.e.fire("hidePopup"),v.prototype.hide.call(this),this.jodit.e.fire("toggleToolbar")},x.prototype.show=function(){v.prototype.show.call(this),this.jodit.e.fire("toggleToolbar")},u.__decorate([f.component],x)}(d.ToolbarCollection);a.ToolbarEditorCollection=g},81438:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.makeButton=a.makeCollection=void 0;var u=s(40332),d=s(72719),h=s(81698),p=s(48197),m=s(34375);a.makeCollection=function(f,g){var v=(0,u.isJoditObject)(f)?new h.ToolbarEditorCollection(f):new d.ToolbarCollection(f);return f.o.textIcons&&v.container.classList.add("jodit_text_icons"),g&&(v.parentElement=g),f.o.toolbarButtonSize&&(v.buttonSize=f.o.toolbarButtonSize),v},a.makeButton=function(f,g,v){if(v===void 0&&(v=null),(0,u.isFunction)(g.getContent))return new m.ToolbarContent(f,g,v);var x=new p.ToolbarButton(f,g,v);return x.state.tabIndex=f.o.allowTabNavigation?0:-1,x}},36262:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(93166),h=s(49781),p=s(77892);d.Config.prototype.enableDragAndDropFileToEditor=!0,d.Config.prototype.uploader={url:"",insertImageAsBase64URI:!1,imagesExtensions:["jpg","png","jpeg","gif"],headers:null,data:null,filesVariableName:function(m){return"files[".concat(m,"]")},withCredentials:!1,pathVariableName:"path",format:"json",method:"POST",prepareData:function(m){return m},isSuccess:function(m){return m.success},getMessage:function(m){return m.data.messages!==void 0&&(0,h.isArray)(m.data.messages)?m.data.messages.join(" "):""},processFileName:function(m,f,g){return[m,f,g]},process:function(m){return m.data},error:function(m){this.j.e.fire("errorMessage",m.message,"error",4e3)},getDisplayName:function(m,f){return m+f},defaultHandlerSuccess:function(m){var f=this,g=this.j||this;(0,p.isJoditObject)(g)&&m.files&&m.files.length&&m.files.forEach(function(v,x){var y=u.__read(m.isImages&&m.isImages[x]?["img","src"]:["a","href"],2),b=y[0],w=y[1],_=g.createInside.element(b);_.setAttribute(w,m.baseurl+v),b==="a"&&(_.textContent=g.o.uploader.getDisplayName.call(f,m.baseurl,v)),b==="img"?g.s.insertImage(_,null,g.o.imageDefaultWidth):g.s.insertNode(_)})},defaultHandlerError:function(m){this.j.e.fire("errorMessage",m.message)},contentType:function(m){return(this.ow.FormData===void 0||typeof m=="string")&&"application/x-www-form-urlencoded; charset=UTF-8"}}},55778:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.buildData=void 0;var u=s(40332);a.buildData=function(d,h){if((0,u.isFunction)(d.o.buildData))return d.o.buildData.call(d,h);var p=d.ow.FormData;if(p!==void 0){if(h instanceof p||(0,u.isString)(h))return h;var m=new p;return Object.keys(h).forEach(function(f){m.append(f,h[f])}),m}return h}},98099:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.dataURItoBlob=void 0,a.dataURItoBlob=function(s){for(var u=atob(s.split(",")[1]),d=s.split(",")[0].split(":")[1].split(";")[0],h=new ArrayBuffer(u.length),p=new Uint8Array(h),m=0;u.length>m;m+=1)p[m]=u.charCodeAt(m);return new Blob([p],{type:d})}},41566:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hasItems=a.hasFiles=void 0;var u=s(20255);u.__exportStar(s(32937),a),u.__exportStar(s(98099),a),u.__exportStar(s(55778),a),u.__exportStar(s(30863),a),u.__exportStar(s(20704),a),a.hasFiles=function(d){return!!(d&&d.files&&d.files.length>0)},a.hasItems=function(d){return!!(d&&d.items&&d.items.length>0)}},32937:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.processOldBrowserDrag=void 0;var u=s(86893),d=s(17332),h=s(40332),p=s(64968),m=s(41566);a.processOldBrowserDrag=function(f,g,v,x,y){if(g&&(!g.types.length||g.types[0]!==u.TEXT_PLAIN)){var b=f.j.c.div("",{tabindex:-1,style:"left: -9999px; top: 0; width: 0; height: 100%;line-height: 140%; overflow: hidden; position: fixed; z-index: 2147483647; word-break: break-all;",contenteditable:!0});(0,d.getContainer)(f.j,f.constructor).appendChild(b);var w=(0,h.isJoditObject)(f.j)?f.j.s.save():null;b.focus(),f.j.async.setTimeout(function(){var _=b.firstChild;if(p.Dom.safeRemove(b),_&&_.hasAttribute("src")){var S=(0,h.attr)(_,"src")||"";w&&(0,h.isJoditObject)(f.j)&&f.j.s.restore(),(0,m.sendFiles)(f,[(0,m.dataURItoBlob)(S)],v,x).finally(y)}},f.j.defaultTimeout)}}},20704:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.sendFiles=void 0;var u=s(20255),d=s(40332),h=s(30863);a.sendFiles=function(p,m,f,g,v){if(!m)return Promise.reject((0,d.error)("Need files"));var x=p.o,y=(0,d.toArray)(m);if(!y.length)return Promise.reject((0,d.error)("Need files"));var b=[];if(x.insertImageAsBase64URI){var w,_=void 0,S=function(){if((w=y[_])&&w.type){var I=w.type.match(/\/([a-z0-9]+)/i),O=I[1]?I[1].toLowerCase():"";if(x.imagesExtensions.includes(O)){var j=new FileReader;b.push(p.j.async.promise(function(N,R){j.onerror=R,j.onloadend=function(){var F={baseurl:"",files:[j.result],isImages:[!0]};((0,d.isFunction)(f)?f:x.defaultHandlerSuccess).call(p,F),N(F)},j.readAsDataURL(w)})),y[_]=null}}};for(_=0;y.length>_;_+=1)S()}if((y=y.filter(function(I){return I})).length){var E=new FormData;E.append(x.pathVariableName,p.path),E.append("source",p.source);var A=void 0;for(_=0;y.length>_;_+=1)if(A=y[_]){var C=/\.[\d\w]+$/.test(A.name),M=A.type.match(/\/([a-z0-9]+)/i),T=M&&M[1]?M[1].toLowerCase():"",k=y[_].name||Math.random().toString().replace(".","");if(!C&&T){var P=T;["jpeg","jpg"].includes(P)&&(P="jpeg|jpg"),new RegExp(".("+P+")$","i").test(k)||(k+="."+T)}var D=u.__read(x.processFileName.call(p,x.filesVariableName(_),y[_],k),3);E.append(D[0],D[1],D[2])}v&&v(E),x.data&&(0,d.isPlainObject)(x.data)&&Object.keys(x.data).forEach(function(I){E.append(I,x.data[I])}),x.prepareData.call(p,E),b.push((0,h.send)(p,E).then(function(I){return x.isSuccess.call(p,I)?(((0,d.isFunction)(f)?f:x.defaultHandlerSuccess).call(p,x.process.call(p,I)),I):(((0,d.isFunction)(g)?g:x.defaultHandlerError).call(p,(0,d.error)(x.getMessage.call(p,I))),I)}).then(function(){p.j.events&&p.j.e.fire("filesWereUploaded")}))}return Promise.all(b)}},30863:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.send=a.ajaxInstances=void 0;var u=s(30056),d=s(40332),h=s(55778);a.ajaxInstances=new WeakMap,a.send=function(p,m){var f=(0,h.buildData)(p,m),g=function(v){var x=new u.Ajax({xhr:function(){var b=new XMLHttpRequest;return p.j.ow.FormData!==void 0&&b.upload?(p.j.progressbar.show().progress(10),b.upload.addEventListener("progress",function(w){if(w.lengthComputable){var _=w.loaded/w.total;_*=100,p.j.progressbar.show().progress(_),100>_||p.j.progressbar.hide()}},!1)):p.j.progressbar.hide(),b},method:p.o.method||"POST",data:v,url:(0,d.isFunction)(p.o.url)?p.o.url(v):p.o.url,headers:p.o.headers,queryBuild:p.o.queryBuild,contentType:p.o.contentType.call(p,v),withCredentials:p.o.withCredentials||!1}),y=a.ajaxInstances.get(p);return y||(y=new Set,a.ajaxInstances.set(p,y)),y.add(x),p.j.e.one("beforeDestruct",x.destruct),x.send().then(function(b){return b.json()}).catch(function(b){p.o.error.call(p,b)}).finally(function(){x.destruct(),y==null||y.delete(x)})};return(0,d.isPromise)(f)?f.then(g).catch(function(v){p.o.error.call(p,v)}):g(f)}},50454:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.Uploader=void 0;var u=s(20255);s(28654);var d=s(93166),h=s(86893),p=s(40332),m=s(56562),f=s(41566);s(36262);var g=function(v){function x(y,b){var w=v.call(this,y)||this;return w.path="",w.source="default",w.options=(0,p.ConfigProto)(b||{},(0,p.ConfigProto)(d.Config.defaultOptions.uploader,(0,p.isJoditObject)(y)?y.o.uploader:{})),w}return u.__extends(x,v),Object.defineProperty(x.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),x.prototype.className=function(){return"Uploader"},Object.defineProperty(x.prototype,"o",{get:function(){return this.options},enumerable:!1,configurable:!0}),x.prototype.setPath=function(y){return this.path=y,this},x.prototype.setSource=function(y){return this.source=y,this},x.prototype.bind=function(y,b,w){var _=function(){y.classList.remove("jodit_drag_hover")},S=this,E=function(A){var C,M,T,k=A.clipboardData,P=function(O){M&&(O.append("extension",T),O.append("mimetype",M.type))};if(!h.IS_IE&&(0,f.hasFiles)(k))return(0,f.sendFiles)(S,k.files,b,w).finally(_),!1;if(h.IS_IE)return(0,f.processOldBrowserDrag)(S,k,b,w,_);if((0,f.hasItems)(k)){var D=k.items;for(C=0;D.length>C;C+=1)if(D[C].kind==="file"&&D[C].type==="image/png"){if(M=D[C].getAsFile()){var I=M.type.match(/\/([a-z0-9]+)/i);T=I[1]?I[1].toLowerCase():"",(0,f.sendFiles)(S,[M],b,w,P).finally(_)}A.preventDefault();break}}};S.j&&S.j.editor!==y?S.j.e.on(y,"paste",E):S.j.e.on("beforePaste",E),this.attachEvents(y,b,w,_)},x.prototype.attachEvents=function(y,b,w,_){var S=this;S.j.e.on(y,"dragend dragover dragenter dragleave drop",function(A){A.preventDefault()}).on(y,"dragover",function(A){((0,f.hasFiles)(A.dataTransfer)||(0,f.hasItems)(A.dataTransfer))&&(y.classList.add("jodit_drag_hover"),A.preventDefault())}).on(y,"dragend dragleave",function(A){y.classList.remove("jodit_drag_hover"),(0,f.hasFiles)(A.dataTransfer)&&A.preventDefault()}).on(y,"drop",function(A){y.classList.remove("jodit_drag_hover"),(0,f.hasFiles)(A.dataTransfer)&&(A.preventDefault(),A.stopImmediatePropagation(),(0,f.sendFiles)(S,A.dataTransfer.files,b,w).finally(_))});var E=y.querySelector("input[type=file]");E&&S.j.e.on(E,"change",function(){(0,f.sendFiles)(S,E.files,b,w).then(function(){E.value="",/safari/i.test(navigator.userAgent)||(E.type="",E.type="file")}).finally(_)})},x.prototype.uploadRemoteImage=function(y,b,w){var _=this,S=_.o,E=(0,p.isFunction)(w)?w:S.defaultHandlerError;(0,f.send)(_,{action:"fileUploadRemote",url:y}).then(function(A){S.isSuccess.call(_,A)?((0,p.isFunction)(b)?b:S.defaultHandlerSuccess).call(_,S.process.call(_,A)):E.call(_,(0,p.error)(S.getMessage.call(_,A)))}).catch(function(A){return E.call(_,A)})},x.prototype.destruct=function(){this.setStatus(m.STATUSES.beforeDestruct);var y=f.ajaxInstances.get(this);y&&(y.forEach(function(b){try{b.destruct()}catch{}}),y.clear()),v.prototype.destruct.call(this)},x}(m.ViewComponent);a.Uploader=g},75243:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.ColorPickerWidget=void 0,s(60819);var u=s(40332),d=s(2074),h=s(64968);d.Icon.set("palette",s(95331)),a.ColorPickerWidget=function(p,m,f){var g="jodit-color-picker",v=(0,u.normalizeColor)(f),x=p.c.div(g),y=p.o.textIcons?"<span>".concat(p.i18n("palette"),"</span>"):d.Icon.get("palette"),b=function(_){var S=[];return(0,u.isPlainObject)(_)?Object.keys(_).forEach(function(E){S.push('<div class="'.concat(g,"__group ").concat(g,"__group-").concat(E,'">')),S.push(b(_[E])),S.push("</div>")}):(0,u.isArray)(_)&&_.forEach(function(E){S.push("<span class='".concat(g,"__color-item ").concat(v===E?g+"__color-item_active_true":"",`' title="`).concat(E,'" style="background-color:').concat(E,'" data-color="').concat(E,'"></span>'))}),S.join("")};x.appendChild(p.c.fromHTML('<div class="'.concat(g,'__groups">').concat(b(p.o.colors),"</div>"))),x.appendChild(p.c.fromHTML('<div data-ref="extra" class="'.concat(g,'__extra"></div>')));var w=(0,u.refs)(x).extra;return p.o.showBrowserColorPicker&&(0,u.hasBrowserColorPicker)()&&(w.appendChild(p.c.fromHTML('<div class="'.concat(g,'__native">').concat(y,'<input type="color" value="#ffffff"/></div>'))),p.e.on(x,"change",function(_){_.stopPropagation();var S=_.target;if(S&&S.tagName&&h.Dom.isTag(S,"input")){var E=S.value||"";(0,u.isFunction)(m)&&m(E),_.preventDefault()}})),p.e.on(x,"mousedown touchend",function(_){_.stopPropagation(),_.preventDefault();var S=_.target;if(S&&S.tagName&&!h.Dom.isTag(S,"svg")&&!h.Dom.isTag(S,"path")||!S.parentNode||(S=h.Dom.closest(S.parentNode,"span",p.editor)),h.Dom.isTag(S,"span")&&S.classList.contains(g+"__color-item")){var E=(0,u.attr)(S,"-color")||"";m&&(0,u.isFunction)(m)&&m(E)}}),p.e.fire("afterGenerateColorPicker",x,w,m,v),x}},83029:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.FileSelectorWidget=void 0;var u=s(40332),d=s(64968),h=s(2074),p=s(60929);a.FileSelectorWidget=function(m,f,g,v,x){var y;x===void 0&&(x=!0);var b=[];if(f.upload&&m.o.uploader&&(m.o.uploader.url||m.o.uploader.insertImageAsBase64URI)){var w=m.c.fromHTML('<div class="jodit-drag-and-drop__file-box">'+"<strong>".concat(m.i18n(x?"Drop image":"Drop file"),"</strong>")+"<span><br>".concat(m.i18n("or click"),"</span>")+'<input type="file" accept="'.concat(x?"image/*":"*",'" tabindex="-1" dir="auto" multiple=""/>')+"</div>");m.uploader.bind(w,function(E){var A=(0,u.isFunction)(f.upload)?f.upload:m.o.uploader.defaultHandlerSuccess;(0,u.isFunction)(A)&&A.call(m,E),m.e.fire("closeAllPopups")},function(E){m.e.fire("errorMessage",E.message),m.e.fire("closeAllPopups")}),b.push({icon:"upload",name:"Upload",content:w})}if(f.filebrowser&&(m.o.filebrowser.ajax.url||m.o.filebrowser.items.url)&&b.push({icon:"folder",name:"Browse",content:function(){v&&v(),f.filebrowser&&m.filebrowser.open(f.filebrowser,x)}}),f.url){var _=new h.UIButton(m,{type:"submit",variant:"primary",text:"Insert"}),S=new h.UIForm(m,[new h.UIInput(m,{required:!0,label:"URL",name:"url",type:"text",placeholder:"https://"}),new h.UIInput(m,{name:"text",label:"Alternative text"}),new h.UIBlock(m,[_])]);y=null,g&&!d.Dom.isText(g)&&(d.Dom.isTag(g,"img")||(0,u.$$)("img",g).length)&&(y=g.tagName==="IMG"?g:(0,u.$$)("img",g)[0],(0,u.val)(S.container,"input[name=url]",(0,u.attr)(y,"src")),(0,u.val)(S.container,"input[name=text]",(0,u.attr)(y,"alt")),_.state.text="Update"),g&&d.Dom.isTag(g,"a")&&((0,u.val)(S.container,"input[name=url]",(0,u.attr)(g,"href")),(0,u.val)(S.container,"input[name=text]",(0,u.attr)(g,"title")),_.state.text="Update"),S.onSubmit(function(E){(0,u.isFunction)(f.url)&&f.url.call(m,E.url,E.text)}),b.push({icon:"link",name:"URL",content:S.container})}return(0,p.TabsWidget)(m,b)}},718:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(75243),a),u.__exportStar(s(60929),a),u.__exportStar(s(83029),a)},60929:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.TabsWidget=void 0,s(96410);var u=s(40332),d=s(42096),h=s(2074),p=s(56562),m=s(24263);a.TabsWidget=function(f,g,v){var x=f.c.div("jodit-tabs"),y=f.c.div("jodit-tabs__wrapper"),b=f.c.div("jodit-tabs__buttons"),w={},_=[],S="",E=0;x.appendChild(b),x.appendChild(y);var A=function(M){w[M]&&(_.forEach(function(T){T.state.activated=!1}),(0,u.$$)(".jodit-tab",y).forEach(function(T){T.classList.remove("jodit-tab_active")}),w[M].button.state.activated=!0,w[M].tab.classList.add("jodit-tab_active"))};if(g.forEach(function(M){var T=M.icon,k=M.name,P=M.content,D=f.c.div("jodit-tab"),I=(0,h.Button)(f,T||k,k);f.e.on(I.container,"mousedown",function(O){return O.preventDefault()}),S||(S=k),b.appendChild(I.container),_.push(I),I.container.classList.add("jodit-tabs__button","jodit-tabs__button_columns_"+g.length),(0,d.isFunction)(P)?D.appendChild(f.c.div("jodit-tab_empty")):D.appendChild(p.Component.isInstanceOf(P,h.UIElement)?P.container:P),y.appendChild(D),I.onAction(function(){return A(k),(0,d.isFunction)(P)&&!m.Dom.isElement(P)&&P.call(f),v&&(v.__activeTab=k),!1}),w[k]={button:I,tab:D},E+=1}),!E)return x;if((0,u.$$)("a",b).forEach(function(M){M.style.width=(100/E).toFixed(10)+"%"}),A(v&&v.__activeTab&&w[v.__activeTab]?v.__activeTab:S),v){var C=v.__activeTab;Object.defineProperty(v,"__activeTab",{configurable:!0,enumerable:!1,get:function(){return C},set:function(M){C=M,A(M)}})}return x}},55692:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(33126);var u=s(93166),d=s(40332),h=s(86893),p=s(17332),m=s(77904);u.Config.prototype.controls.about={exec:function(f){var g=f.dlg(),v=f.i18n.bind(f);g.setMod("theme",f.o.theme).setHeader(v("About Jodit")).setContent(`<div class="jodit-about">
					<div>`.concat(v("Jodit Editor")," v.").concat(f.getVersion(),`</div>
					<div>`).concat(v("License: %s",(0,d.isLicense)(f.o.license)?(0,d.normalizeLicense)(f.o.license):"MIT"),`</div>
					<div>
						<a href="`).concat("https://xdsoft.net/jodit/",'" target="_blank">').concat("https://xdsoft.net/jodit/",`</a>
					</div>
					<div>
						<a href="https://xdsoft.net/jodit/docs/" target="_blank">`).concat(v("Jodit User's Guide"),`</a>
						`).concat(v("contains detailed help for using"),`
					</div>
					<div>`).concat(v("Copyright © XDSoft.net - Chupurnov Valeriy. All rights reserved."),`</div>
				</div>`)),(0,d.css)(g.dialog,{minHeight:200,minWidth:420}),g.open(!0)},tooltip:"About Jodit",mode:h.MODE_SOURCE+h.MODE_WYSIWYG},p.pluginSystem.add("about",function(f){f.registerButton({name:"about",group:"info"})}),m.Icon.set("about",s(84279))},66031:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.addNewLine=void 0;var u=s(20255);s(30724);var d=s(87837),h=s(40332),p=s(43441),m=s(17332);s(46360);var f="addnewline",g=function(v){function x(){var y=v!==null&&v.apply(this,arguments)||this;return y.line=y.j.c.fromHTML('<div role="button" tabindex="-1" title="'.concat(y.j.i18n("Break"),'" class="jodit-add-new-line"><span>').concat(d.Icon.get("enter"),"</span></div>")),y.isMatchedTag=function(b){return!!(b&&y.j.o.addNewLineTagsTriggers.includes(b.nodeName.toLowerCase()))},y.preview=!1,y.lineInFocus=!1,y.isShown=!1,y.hideForce=function(){y.isShown&&(y.isShown=!1,y.j.async.clearTimeout(y.timeout),y.lineInFocus=!1,d.Dom.safeRemove(y.line),y.line.style.setProperty("--jd-offset-handle","0"))},y.canGetFocus=function(b){return b!=null&&d.Dom.isBlock(b)&&!/^(img|table|iframe|hr)$/i.test(b.nodeName)},y.onClickLine=function(b){var w=y.j,_=w.createInside.element(w.o.enter);y.preview&&y.current&&y.current.parentNode?y.current===w.editor?d.Dom.prepend(w.editor,_):y.current.parentNode.insertBefore(_,y.current):w.editor.appendChild(_),w.s.setCursorIn(_),(0,h.scrollIntoViewIfNeeded)(_,w.editor,w.ed),w.synchronizeValues(),y.hideForce(),b.preventDefault()},y}return u.__extends(x,v),x.prototype.show=function(){this.isShown||this.j.o.readonly||this.j.isLocked||(this.isShown=!0,this.j.async.clearTimeout(this.timeout),this.line.classList.toggle("jodit-add-new-line_after",!this.preview),this.j.container.appendChild(this.line),this.line.style.width=this.j.container.clientWidth+"px")},x.prototype.onLock=function(y){y&&this.isShown&&this.hideForce()},x.prototype.hide=function(){this.isShown&&!this.lineInFocus&&(this.timeout=this.j.async.setTimeout(this.hideForce,{timeout:500,label:"add-new-line-hide"}))},x.prototype.afterInit=function(y){var b=this;y.o.addNewLine&&(y.e.on(this.line,"mousemove",function(w){w.stopPropagation()}).on(this.line,"mousedown touchstart",this.onClickLine).on("change",this.hideForce).on(this.line,"mouseenter",function(){b.j.async.clearTimeout(b.timeout),b.lineInFocus=!0}).on(this.line,"mouseleave",function(){b.lineInFocus=!1}).on("changePlace",this.addEventListeners.bind(this)),this.addEventListeners())},x.prototype.addEventListeners=function(){var y=this.j;y.e.off(y.editor,"."+f).off(y.container,"."+f).on([y.ow,y.ew,y.editor],"scroll."+f,this.hideForce).on(y.editor,"click."+f,this.hide).on(y.container,"mouseleave."+f,this.hide).on(y.editor,"mousemove."+f,this.onMouseMove)},x.prototype.onDblClickEditor=function(y){var b=this.j;if(!b.o.readonly&&b.o.addNewLineOnDBLClick&&y.target===b.editor&&b.s.isCollapsed()){var w=(0,h.offset)(b.editor,b,b.ed),_=y.pageY-b.ew.pageYOffset,S=b.createInside.element(b.o.enter);Math.abs(_-w.top)<Math.abs(_-(w.height+w.top))&&b.editor.firstChild?b.editor.insertBefore(S,b.editor.firstChild):b.editor.appendChild(S),b.s.setCursorIn(S),b.synchronizeValues(),this.hideForce(),y.preventDefault()}},x.prototype.onMouseMove=function(y){var b=this.j,w=b.ed.elementFromPoint(y.clientX,y.clientY);if(d.Dom.isHTMLElement(w)&&!d.Dom.isOrContains(this.line,w)&&d.Dom.isOrContains(b.editor,w))if(b.editor===w||this.isMatchedTag(w)||(w=d.Dom.closest(w,this.isMatchedTag,b.editor)),w){if(this.isMatchedTag(w)){var _=d.Dom.up(w,d.Dom.isBlock,b.editor);_&&_!==b.editor&&(w=_)}var S=(0,h.position)(w,this.j),E=!1,A=y.clientY,C=y.clientX;if(this.j.iframe){var M=(0,h.position)(this.j.iframe,this.j,!0);A+=M.top,C+=M.left}var T=this.j.o.addNewLineDeltaShow;Math.abs(A-S.top)>T||(E=S.top,this.preview=!0),Math.abs(A-(S.top+S.height))>T||(E=S.top+S.height,this.preview=!1),E===!1||(b.editor!==w||this.preview)&&(0,h.call)(this.preview?d.Dom.prev:d.Dom.next,w,this.canGetFocus,b.editor)?(this.current=!1,this.hide()):(this.line.style.top=E+"px",this.current=w,this.show(),this.line.style.setProperty("--jd-offset-handle",C-S.left-10+"px"))}else this.hide()},x.prototype.beforeDestruct=function(){this.j.async.clearTimeout(this.timeout),this.j.e.off(this.line).off("changePlace",this.addEventListeners),d.Dom.safeRemove(this.line),this.j.e.off([this.j.ow,this.j.ew,this.j.editor],"."+f).off(this.j.container,"."+f)},u.__decorate([(0,p.watch)(":lock")],x.prototype,"onLock",null),u.__decorate([p.autobind],x.prototype,"hide",null),u.__decorate([(0,p.watch)(":dblclick")],x.prototype,"onDblClickEditor",null),u.__decorate([(0,p.debounce)(function(y){return 5*y.defaultTimeout})],x.prototype,"onMouseMove",null),x}(d.Plugin);a.addNewLine=g,m.pluginSystem.add("addNewLine",g)},46360:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(2074);u.Config.prototype.addNewLine=!0,u.Config.prototype.addNewLineOnDBLClick=!0,u.Config.prototype.addNewLineTagsTriggers=["table","iframe","img","hr","pre","jodit"],u.Config.prototype.addNewLineDeltaShow=20,d.Icon.set("enter",s(11257))},91241:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.backspace=void 0;var u=s(20255),d=s(57549),h=s(64968),p=s(86893),m=s(40332),f=s(10109),g=s(17332),v=s(90089),x=s(95441);s(48229);var y=function(b){function w(){var _=b!==null&&b.apply(this,arguments)||this;return _.requires=["hotkeys"],_}return u.__extends(w,b),w.prototype.afterInit=function(_){var S=this;_.e.on("afterCommand.delete",function(E){E==="delete"&&S.afterDeleteCommand()}),_.registerCommand("deleteButton",{exec:function(){return S.onDelete(!1)},hotkeys:_.o.delete.hotkeys.delete},{stopPropagation:!1}).registerCommand("backspaceButton",{exec:function(){return S.onDelete(!0)},hotkeys:_.o.delete.hotkeys.backspace},{stopPropagation:!1}).registerCommand("deleteWordButton",{exec:function(){return S.onDelete(!1,"word")},hotkeys:_.o.delete.hotkeys.deleteWord}).registerCommand("backspaceWordButton",{exec:function(){return S.onDelete(!0,"word")},hotkeys:_.o.delete.hotkeys.backspaceWord}).registerCommand("deleteSentenceButton",{exec:function(){return S.onDelete(!1,"sentence")},hotkeys:_.o.delete.hotkeys.deleteSentence}).registerCommand("backspaceSentenceButton",{exec:function(){return S.onDelete(!0,"sentence")},hotkeys:_.o.delete.hotkeys.backspaceSentence})},w.prototype.beforeDestruct=function(_){_.e.off("afterCommand.delete")},w.prototype.afterDeleteCommand=function(){var _=this.j,S=_.s.current();if(S&&h.Dom.isTag(S.firstChild,"br")&&_.s.removeNode(S.firstChild),!((0,m.trim)(_.editor.textContent||"")||_.editor.querySelector("img,table,jodit,iframe,hr")||S&&h.Dom.closest(S,"table",_.editor))){_.editor.innerHTML="";var E=_.s.setCursorIn(_.editor);_.s.removeNode(E)}},w.prototype.onDelete=function(_,S){S===void 0&&(S="char");var E=this.j,A=E.selection;if(A.isFocused()||A.focus(),(0,x.checkNotCollapsed)(E))return!1;var C=A.range,M=E.createInside.text(p.INVISIBLE_SPACE);try{if(h.Dom.safeInsertNode(C,M),!h.Dom.isOrContains(E.editor,M))return;if(E.e.fire("backSpaceBeforeCases",_,M)||((0,f.moveNodeInsideStart)(E,M,_),v.cases.some(function(T){if((0,m.isFunction)(T)&&T(E,M,_,S))return!0})))return!1}catch(T){throw T}finally{E.e.fire("backSpaceAfterDelete",_,M),this.safeRemoveEmptyNode(M)}return!1},w.prototype.safeRemoveEmptyNode=function(_){var S,E,A=this.j.s.range;A.startContainer===_&&(_.previousSibling?h.Dom.isText(_.previousSibling)?A.setStart(_.previousSibling,(E=(S=_.previousSibling.nodeValue)===null||S===void 0?void 0:S.length)!==null&&E!==void 0?E:0):A.setStartAfter(_.previousSibling):_.nextSibling&&(h.Dom.isText(_.nextSibling)?A.setStart(_.nextSibling,0):A.setStartBefore(_.nextSibling)),A.collapse(!0),this.j.s.selectRange(A)),h.Dom.safeRemove(_)},w}(d.Plugin);a.backspace=y,g.pluginSystem.add("backspace",y)},31078:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkJoinNeighbors=void 0;var u=s(24263),d=s(30861);function h(p,m,f,g){if(m&&u.Dom.isElement(f)){u.Dom.moveContent(m,f,!g,(0,d.getMoveFilter)(p));for(var v=m;v&&v!==p.editor&&u.Dom.isEmpty(v);){var x=v.parentElement;u.Dom.safeRemove(v),v=x}return!0}return!1}a.checkJoinNeighbors=function(p,m,f){for(var g=m,v=g;g&&!u.Dom.findNotEmptySibling(g,f)&&g.parentElement!==p.editor;)v=g=g.parentElement;if(u.Dom.isElement(v)&&u.Dom.isContentEditable(v,p.editor)){var x=u.Dom.findNotEmptySibling(v,f);if(x&&(function(y,b,w,_){var S=u.Dom.isTag(w,["ol","ul"]),E=u.Dom.isTag(b,["ol","ul"]),A=function(C,M){return M?C.firstElementChild:C.lastElementChild};return E?(w=y.createInside.element(y.o.enterBlock),u.Dom.before(b,w),h(y,A(b,_),w,_)):!(!w||!S||E)&&h(y,b,A(w,!_),_)}(p,v,x,f)||h(p,v,x,f)))return p.s.setCursorBefore(m),!0}return!1}},92156:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkJoinTwoLists=void 0;var u=s(24263),d=s(67309),h=s(30861);a.checkJoinTwoLists=function(p,m,f){var g=u.Dom.findSibling(m,f),v=u.Dom.findSibling(m,!f);if(!u.Dom.closest(m,u.Dom.isElement,p.editor)&&u.Dom.isTag(g,["ul","ol"])&&u.Dom.isTag(v,["ul","ol"])&&u.Dom.isTag(g.lastElementChild,"li")&&u.Dom.isTag(v.firstElementChild,"li")){var x=p.s,y=x.setCursorBefore,b=x.setCursorAfter,w=g.lastElementChild;return(0,d.call)(f?u.Dom.prepend:u.Dom.append,v.firstElementChild,m),u.Dom.moveContent(v,g,!f,(0,h.getMoveFilter)(p)),u.Dom.safeRemove(v),(0,d.call)(f?u.Dom.append:u.Dom.prepend,w,m),(0,d.call)(f?y:b,m),!0}return!1}},95441:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.checkNotCollapsed=void 0,a.checkNotCollapsed=function(s){return!s.s.isCollapsed()&&(s.execCommand("Delete"),!0)}},13116:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkRemoveChar=void 0;var u=s(64968),d=s(40332),h=s(86893),p=s(30861);a.checkRemoveChar=function m(f,g,v,x){var y,b,w,_,S=v?-1:1,E=u.Dom.sibling(g,!v),A=u.Dom.sibling(g,v),C=null,M=!1,T=function(j){var N=u.Dom.sibling(j,v);return!N&&j.parentNode&&j.parentNode!==f.editor&&(N=(0,p.findMostNestedNeighbor)(j,!v,f.editor,!0)),N};for(A||(A=T(g));A&&(u.Dom.isText(A)||u.Dom.isInlineBlock(A));){for(;u.Dom.isInlineBlock(A);)A=v?A==null?void 0:A.lastChild:A==null?void 0:A.firstChild;if(!A)break;if(!((y=A.nodeValue)===null||y===void 0)&&y.length){var k=(0,d.toArray)(A.nodeValue),P=k.length,D=v?P-1:0;if(k[D]===h.INVISIBLE_SPACE)for(;k[D]===h.INVISIBLE_SPACE;)D+=S;if(_=k[D],k[D+S]===h.INVISIBLE_SPACE){for(D+=S;k[D]===h.INVISIBLE_SPACE;)D+=S;D+=v?1:-1}if(k=v&&0>D?[]:k.slice(v?0:D+1,v?D:P),!E||!u.Dom.isText(E)||(v?/^ /:/ $/).test((b=E.nodeValue)!==null&&b!==void 0?b:"")||!(0,d.trimInv)(E.nodeValue||"").length)for(var I=v?k.length-1:0;(v?I>=0:k.length>I)&&k[I]===" ";I+=v?-1:1)k[I]=h.NBSP_SPACE;A.nodeValue=k.join("")}if(!((w=A.nodeValue)===null||w===void 0)&&w.length||(C=A),!(0,d.isVoid)(_)&&_!==h.INVISIBLE_SPACE){M=!0,(0,d.call)(v?u.Dom.after:u.Dom.before,A,g),(x==="sentence"||x==="word"&&_!==" "&&_!==h.NBSP_SPACE)&&m(f,g,v,x);break}var O=T(A);C&&(u.Dom.safeRemove(C),C=null),A=O}return C&&(u.Dom.safeRemove(C),C=null),M&&(function(j,N){for(var R=j.parentElement;R&&u.Dom.isInlineBlock(R)&&u.Dom.isTag(R,N);){var F=R.parentElement;u.Dom.isEmpty(R)&&(u.Dom.after(R,j),u.Dom.safeRemove(R)),R=F}}(g,["a"]),function(j,N){N.parentElement!==j.editor&&u.Dom.isBlock(N.parentElement)&&u.Dom.each(N.parentElement,u.Dom.isEmptyTextNode)&&u.Dom.after(N,j.createInside.element("br"))}(f,g),f.s.setCursorBefore(g),u.Dom.isTag(g.previousSibling,"br")&&!u.Dom.findNotEmptySibling(g,!1)&&u.Dom.after(g,f.createInside.element("br"))),M}},74217:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkRemoveContentNotEditable=void 0;var u=s(64968),d=s(40332),h=s(10109);a.checkRemoveContentNotEditable=function(p,m,f){var g=u.Dom.findSibling(m,f);return!g&&m.parentElement&&m.parentElement!==p.editor&&(g=u.Dom.findSibling(m.parentElement,f)),!(!u.Dom.isElement(g)||u.Dom.isContentEditable(g,p.editor)||((0,d.call)(f?u.Dom.before:u.Dom.after,g,m),u.Dom.safeRemove(g),(0,h.moveNodeInsideStart)(p,m,f),(0,d.call)(f?p.s.setCursorBefore:p.s.setCursorAfter,m),0))}},34181:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkRemoveEmptyNeighbor=void 0;var u=s(24263);a.checkRemoveEmptyNeighbor=function(d,h,p){var m=u.Dom.closest(h,u.Dom.isElement,d.editor);if(!m)return!1;var f=u.Dom.findNotEmptySibling(m,p);return!(!f||!u.Dom.isEmpty(f)||(u.Dom.safeRemove(f),d.s.setCursorBefore(h),0))}},13890:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkRemoveEmptyParent=void 0;var u=s(64968),d=s(86893),h=s(92156);a.checkRemoveEmptyParent=function(p,m,f){var g=!1,v=p.s,x=v.setCursorBefore,y=v.setCursorIn,b=u.Dom.closest(m,u.Dom.isElement,p.editor);if(!b||!u.Dom.isEmpty(b))return!1;var w=u.Dom.findNotEmptyNeighbor(m,f,p.editor);do{if(!b||!u.Dom.isEmpty(b)||u.Dom.isCell(b))break;u.Dom.after(b,m);var _=u.Dom.closest(b,function(S){return u.Dom.isElement(S)&&S!==b},p.editor);u.Dom.safeRemove(b),g=!0,b=_}while(b);return!(!g||!(0,h.checkJoinTwoLists)(p,m,f))||(!w||u.Dom.isText(w)||u.Dom.isTag(w,d.INSEPARABLE_TAGS)?x(m):y(w,!f),g)}},8249:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkRemoveUnbreakableElement=void 0;var u=s(24263),d=s(86893),h=s(13890);a.checkRemoveUnbreakableElement=function(p,m,f){var g=u.Dom.findSibling(m,f);return!(!u.Dom.isElement(g)||!u.Dom.isTag(g,d.INSEPARABLE_TAGS)&&!u.Dom.isEmpty(g)||(u.Dom.safeRemove(g),u.Dom.isTag(g,"br")&&!u.Dom.findNotEmptySibling(m,!1)&&u.Dom.after(m,p.createInside.element("br")),p.s.setCursorBefore(m),u.Dom.isTag(g,"br")&&(0,h.checkRemoveEmptyParent)(p,m,f),0))}},58368:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkTableCell=void 0;var u=s(24263);a.checkTableCell=function(d,h){return!!u.Dom.isCell(h.parentElement)}},6028:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkUnwrapFirstListItem=void 0;var u=s(24263),d=s(76502);a.checkUnwrapFirstListItem=function(h,p,m){var f,g=u.Dom.closest(p,u.Dom.isElement,h.editor),v=h.s;if(u.Dom.isTag(g,"li")&&((f=g==null?void 0:g.parentElement)===null||f===void 0?void 0:f[m?"firstElementChild":"lastElementChild"])===g&&v.cursorInTheEdge(m,g)){var x=g.parentElement,y=h.createInside.element(h.o.enterBlock);return(0,d.call)(m?u.Dom.before:u.Dom.after,x,y),u.Dom.moveContent(g,y),u.Dom.safeRemove(g),u.Dom.isEmpty(x)&&u.Dom.safeRemove(x),(0,d.call)(m?v.setCursorBefore:v.setCursorAfter,p),!0}return!1}},90089:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.cases=void 0;var u=s(8249),d=s(74217),h=s(13116),p=s(58368),m=s(13890),f=s(34181),g=s(92156),v=s(31078),x=s(6028);a.cases=[u.checkRemoveUnbreakableElement,d.checkRemoveContentNotEditable,h.checkRemoveChar,p.checkTableCell,m.checkRemoveEmptyParent,f.checkRemoveEmptyNeighbor,g.checkJoinTwoLists,v.checkJoinNeighbors,x.checkUnwrapFirstListItem]},48229:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.delete={hotkeys:{delete:["delete","cmd+backspace"],deleteWord:["ctrl+delete","cmd+alt+backspace","ctrl+alt+backspace"],deleteSentence:["ctrl+shift+delete","cmd+shift+delete"],backspace:["backspace"],backspaceWord:["ctrl+backspace"],backspaceSentence:["ctrl+shift+backspace","cmd+shift+backspace"]}}},30861:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getMoveFilter=a.findMostNestedNeighbor=void 0;var u=s(64968);a.findMostNestedNeighbor=function(d,h,p,m){m===void 0&&(m=!1);var f=function(v){return h?v.firstChild:v.lastChild},g=u.Dom.findNotEmptyNeighbor(d,!h,p);if(m&&u.Dom.isElement(g)&&!u.Dom.isInlineBlock(g))return null;if(g)do{if(!f(g))return g;g=f(g)}while(g);return null},a.getMoveFilter=function(d){return function(h){return d.e.fire("backSpaceIsMovedIgnore",h)!==!0}}},87565:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.bold=void 0;var u=s(20255),d=s(93166),h=s(40332),p=s(17332),m=s(77904);function f(g){var v=function(x){var y,b=d.Config.defaultOptions.controls[x],w=u.__assign({},b.css);return Object.keys(w).forEach(function(_){y||(y={}),y[_]=(0,h.isArray)(w[_])?w[_][0]:w[_]}),g.s.applyStyle(y,{element:b.tags?b.tags[0]:void 0}),g.synchronizeValues(),!1};["bold","italic","underline","strikethrough"].forEach(function(x){g.registerButton({name:x,group:"font-style"})}),["superscript","subscript"].forEach(function(x){g.registerButton({name:x,group:"script"})}),g.registerCommand("bold",{exec:v,hotkeys:["ctrl+b","cmd+b"]}).registerCommand("italic",{exec:v,hotkeys:["ctrl+i","cmd+i"]}).registerCommand("underline",{exec:v,hotkeys:["ctrl+u","cmd+u"]}).registerCommand("strikethrough",{exec:v}).registerCommand("subscript",{exec:v}).registerCommand("superscript",{exec:v})}s(58334),s(90740),a.bold=f,p.pluginSystem.add("bold",f),m.Icon.set("bold",s(25141)).set("italic",s(24557)).set("strikethrough",s(10859)).set("subscript",s(9813)).set("superscript",s(93395)).set("underline",s(98213))},90740:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.controls.subscript={tags:["sub"],tooltip:"subscript"},u.Config.prototype.controls.superscript={tags:["sup"],tooltip:"superscript"},u.Config.prototype.controls.bold={tagRegExp:/^(strong|b)$/i,tags:["strong","b"],css:{"font-weight":["bold","700"]},tooltip:"Bold"},u.Config.prototype.controls.italic={tagRegExp:/^(em|i)$/i,tags:["em","i"],css:{"font-style":"italic"},tooltip:"Italic"},u.Config.prototype.controls.underline={tagRegExp:/^(u)$/i,tags:["u"],css:{"text-decoration-line":"underline"},tooltip:"Underline"},u.Config.prototype.controls.strikethrough={tagRegExp:/^(s)$/i,tags:["s"],css:{"text-decoration-line":"line-through"},tooltip:"Strike through"}},58334:function(){},60894:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.classSpan=void 0;var u=s(20255),d=s(57549),h=s(93166),p=s(64968),m=s(40332),f=s(17332),g=s(2074);h.Config.prototype.controls.classSpan={command:"applyClassName",exec:m.memorizeExec,list:["enabled","disabled","activated","text-left","text-center","text-right","warning","error"],isChildActive:function(x,y){var b=x.s.current();if(b){var w=p.Dom.closest(b,p.Dom.isElement,x.editor)||x.editor;return!!(y.args&&w.classList.contains(y.args[0].toString()))}return!1},isActive:function(x,y){var b=x.s.current();if(b){var w=p.Dom.closest(b,p.Dom.isElement,x.editor)||x.editor,_=!1;return y.list&&Object.keys(y.list).forEach(function(S){w.classList.contains(S)&&(_=!0)}),!!(w&&w!==x.editor&&y.list!==void 0&&_)}return!1},childTemplate:function(x,y,b){return'<span class="'.concat(y,'">').concat(x.i18n(b),"</span>")},tooltip:"Insert className"};var v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.buttons=[{name:"classSpan",group:"font"}],b}return u.__extends(y,x),y.prototype.afterInit=function(b){b.registerCommand("applyClassName",function(w,_,S){return b.s.applyStyle(void 0,{className:S}),!1})},y.prototype.beforeDestruct=function(){},y}(d.Plugin);a.classSpan=v,f.pluginSystem.add("classSpan",v),g.Icon.set("class-span",s(20026))},90302:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.cleanHtml=void 0;var u=s(20255),d=s(67128),h=s(85605),p=s(43441),m=s(33841),f=s(17332),g=s(24263),v=s(57713);s(98889);var x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.buttons=[{name:"eraser",group:"font-style"}],w.currentSelectionNode=null,w.walker=new m.LazyWalker(w.j.async,{timeout:w.j.o.cleanHTML.timeout}),w}return u.__extends(b,y),b.prototype.afterInit=function(w){},Object.defineProperty(b.prototype,"isEditMode",{get:function(){return!(this.j.isInDestruct||!this.j.isEditorMode()||this.j.getReadOnly())},enumerable:!1,configurable:!0}),b.prototype.onChangeCleanHTML=function(){if(this.isEditMode){var w=this.j;this.walker.setWork(w.editor),this.currentSelectionNode=w.s.current()}},b.prototype.startWalker=function(){var w=this,_=this.jodit,S=(0,v.getHash)(this.j.o.cleanHTML.allowTags),E=(0,v.getHash)(this.j.o.cleanHTML.denyTags);this.walker.on("visit",function(A){return(0,v.visitNodeWalker)(_,A,S,E,w.currentSelectionNode)}).on("end",function(A){w.j.e.fire(A?"internalChange finishedCleanHTMLWorker":"finishedCleanHTMLWorker")})},b.prototype.beforeCommand=function(w){if(w.toLowerCase()==="removeformat")return this.j.s.isCollapsed()?(0,v.removeFormatForCollapsedSelection)(this.j):(0,v.removeFormatForSelection)(this.j),!1},b.prototype.onBeforeSetNativeEditorValue=function(w){var _=this.j.o.cleanHTML.useIframeSandbox?this.j.createInside.sandbox():this.j.createInside.div();return _.innerHTML=w.value,this.onSafeHTML(_),w.value=_.innerHTML,(0,d.safeHTML)(_,{safeJavaScriptLink:!0,removeOnError:!0}),g.Dom.safeRemove(_),!1},b.prototype.onSafeHTML=function(w){(0,d.safeHTML)(w,this.j.o.cleanHTML)},b.prototype.beforeDestruct=function(){this.walker.destruct()},u.__decorate([(0,p.watch)([":change",":afterSetMode",":afterInit",":mousedown",":keydown"])],b.prototype,"onChangeCleanHTML",null),u.__decorate([(0,p.hook)("ready")],b.prototype,"startWalker",null),u.__decorate([(0,p.watch)(":beforeCommand")],b.prototype,"beforeCommand",null),u.__decorate([(0,p.watch)(":beforeSetNativeEditorValue")],b.prototype,"onBeforeSetNativeEditorValue",null),u.__decorate([(0,p.watch)(":safeHTML")],b.prototype,"onSafeHTML",null),b}(h.Plugin);a.cleanHtml=x,f.pluginSystem.add("cleanHtml",x)},98889:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.cleanHTML={timeout:300,removeEmptyElements:!0,fillEmptyParagraph:!0,replaceNBSP:!0,replaceOldTags:{i:"em",b:"strong"},allowTags:!1,denyTags:"script",useIframeSandbox:!1,removeOnError:!0,safeJavaScriptLink:!0,disableCleanFilter:null},u.Config.prototype.controls.eraser={command:"removeFormat",tooltip:"Clear Formatting"},d.Icon.set("eraser",s(66911))},38655:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getHash=void 0;var u=s(33941),d=s(24421);a.getHash=function(h){var p=/([^[]*)\[([^\]]+)]/,m=/[\s]*,[\s]*/,f=/^(.*)[\s]*=[\s]*(.*)$/,g={};return(0,d.isString)(h)?(h.split(m).map(function(v){v=(0,u.trim)(v);var x=p.exec(v),y={};if(x){var b=x[2].split(m);x[1]&&(b.forEach(function(w){w=(0,u.trim)(w);var _=f.exec(w);_?y[_[1]]=_[2]:y[w]=!0}),g[x[1].toUpperCase()]=y)}else g[v.toUpperCase()]=!0}),g):!!h&&(Object.keys(h).forEach(function(v){g[v.toUpperCase()]=h[v]}),g)}},57713:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(38655),a),u.__exportStar(s(72170),a),u.__exportStar(s(87783),a),u.__exportStar(s(88972),a)},72170:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isInlineBlock=a.removeFormatForCollapsedSelection=void 0;var u=s(24263),d=s(86893);function h(p){return u.Dom.isInlineBlock(p)&&!u.Dom.isTag(p,d.INSEPARABLE_TAGS)}a.removeFormatForCollapsedSelection=function(p,m){var f=p.s,g=m;if(!g){g=p.createInside.fake();var v=f.range;u.Dom.safeInsertNode(v,g),v.collapse()}var x=u.Dom.furthest(g,h,p.editor);if(x)if(f.cursorOnTheLeft(x))u.Dom.before(x,g);else if(f.cursorOnTheRight(x))u.Dom.after(x,g);else{var y=f.splitSelection(x);y&&u.Dom.after(y,g)}m||(f.setCursorBefore(g),u.Dom.safeRemove(g))},a.isInlineBlock=h},87783:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.removeFormatForSelection=void 0;var u=s(24263),d=s(76502),h=s(72170);a.removeFormatForSelection=function(p){var m=p.s,f=p.editor,g=p.createInside,v=m.range,x=v.cloneRange(),y=v.cloneRange(),b=g.fake(),w=g.fake();x.collapse(!0),y.collapse(!1),u.Dom.safeInsertNode(x,b),u.Dom.safeInsertNode(y,w),v.setStartBefore(b),v.collapse(!0),m.selectRange(v),(0,h.removeFormatForCollapsedSelection)(p,b),v.setEndAfter(w),v.collapse(!1),m.selectRange(v),(0,h.removeFormatForCollapsedSelection)(p,w);var _=[];u.Dom.between(b,w,function(E){(0,h.isInlineBlock)(E)&&!u.Dom.isTag(E,["a"])&&_.push(E),u.Dom.isElement(E)&&(0,d.attr)(E,"style")&&(0,d.attr)(E,"style",null)}),_.forEach(function(E){return u.Dom.unwrap(E)});var S=function(E,A){if(!u.Dom.findNotEmptySibling(E,A)){var C=E.parentNode;if(C&&C!==f&&(0,d.attr)(C,"style"))return(0,d.attr)(C,"style",null),S(C,A),!0}};S(b,!0)&&S(w,!1),v.setStartAfter(b),v.setEndBefore(w),m.selectRange(v),u.Dom.safeRemove(b),u.Dom.safeRemove(w)}},9948:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.allowAttributes=void 0;var u=s(24263);a.allowAttributes=function(d,h,p,m){if(m&&u.Dom.isElement(h)&&m[h.nodeName]!==!0){var f=h.attributes;if(f&&f.length){for(var g=[],v=0;f.length>v;v+=1){var x=m[h.nodeName][f[v].name];(!x||x!==!0&&x!==f[v].value)&&g.push(f[v].name)}g.length&&(p=!0),g.forEach(function(y){h.removeAttribute(y)})}}return p}},74722:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.fillEmptyParagraph=void 0;var u=s(24263),d=s(86893);a.fillEmptyParagraph=function(h,p,m){if(h.o.cleanHTML.fillEmptyParagraph&&u.Dom.isBlock(p)&&u.Dom.isEmpty(p,d.INSEPARABLE_TAGS)){var f=h.createInside.element("br");return p.appendChild(f),!0}return m}},2549:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(55901),a),u.__exportStar(s(9948),a),u.__exportStar(s(74722),a),u.__exportStar(s(75096),a),u.__exportStar(s(28194),a),u.__exportStar(s(94254),a),u.__exportStar(s(64701),a)},28194:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.removeEmptyTextNode=void 0;var u=s(24263);a.removeEmptyTextNode=function(d,h,p,m,f,g){return u.Dom.isText(h)&&!h.nodeValue?(h===g&&d.s.isCollapsed()&&d.s.setCursorAfter(h),u.Dom.safeRemove(h),!0):p}},94254:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.removeInvTextNodes=void 0;var u=s(86893),d=s(24263);a.removeInvTextNodes=function(h,p,m,f,g,v){return v!==p&&d.Dom.isText(p)&&p.nodeValue!=null&&(0,u.INVISIBLE_SPACE_REG_EXP)().test(p.nodeValue)?(p.nodeValue=p.nodeValue.replace((0,u.INVISIBLE_SPACE_REG_EXP)(),""),p===v&&h.s.isCollapsed()&&h.s.setCursorAfter(p),p.nodeValue||d.Dom.safeRemove(p),!0):m}},55901:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.replaceOldTags=void 0;var u=s(24263);a.replaceOldTags=function(d,h,p){var m=function(f,g,v){if(!v||!u.Dom.isHTMLElement(g))return g;var x=v[g.nodeName.toLowerCase()]||v[g.nodeName];return x?u.Dom.replace(g,x,f.createInside,!0,!1):g}(d,h,d.o.cleanHTML.replaceOldTags);return h!==m?(h=m,!0):p}},64701:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.sanitizeAttributes=void 0;var u=s(24263),d=s(40332);a.sanitizeAttributes=function(h,p,m){return!(!u.Dom.isElement(p)||!(0,d.sanitizeHTMLElement)(p,{safeJavaScriptLink:h.options.cleanHTML.safeJavaScriptLink,removeOnError:h.options.cleanHTML.removeOnError}))||m}},75096:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.tryRemoveNode=void 0;var u=s(24263),d=s(86893),h=s(33941);a.tryRemoveNode=function(p,m,f,g,v,x){return function(y,b,w,_,S){return!(u.Dom.isText(b)||!(_&&!_[b.nodeName]||S&&S[b.nodeName]))||y.o.cleanHTML.removeEmptyElements&&u.Dom.isElement(b)&&b.nodeName.match(d.IS_INLINE)!=null&&!u.Dom.isTemporary(b)&&(0,h.trim)(b.innerHTML).length===0&&(w==null||!u.Dom.isOrContains(b,w))}(p,m,x,g,v)?(u.Dom.safeRemove(m),!0):f}},88972:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.visitNodeWalker=void 0;var u=s(20255),d=s(2549),h=Object.keys(d);a.visitNodeWalker=function(p,m,f,g,v){var x,y,b=!1,w=p.o.cleanHTML.disableCleanFilter;try{for(var _=u.__values(h),S=_.next();!S.done;S=_.next()){var E=S.value;if(!(w&&w.has(E)||(b=(0,d[E])(p,m,b,f,g,v),m.isConnected)))return!0}}catch(A){x={error:A}}finally{try{S&&!S.done&&(y=_.return)&&y.call(_)}finally{if(x)throw x.error}}return b}},92138:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.clipboard=void 0;var u=s(86893),d=s(40332),h=s(17332);s(31473);var p=function(){function m(){this.buttons=[{name:"cut",group:"clipboard"},{name:"copy",group:"clipboard"},{name:"paste",group:"clipboard"},{name:"selectall",group:"clipboard"}]}return m.prototype.init=function(f){var g;(g=this.buttons)===null||g===void 0||g.forEach(function(v){return f.registerButton(v)}),f.e.off("copy.".concat(u.CLIPBOARD_ID," cut.").concat(u.CLIPBOARD_ID)).on("copy.".concat(u.CLIPBOARD_ID," cut.").concat(u.CLIPBOARD_ID),function(v){var x,y=f.s.html,b=(0,d.getDataTransfer)(v)||(0,d.getDataTransfer)(f.ew)||(0,d.getDataTransfer)(v.originalEvent);b&&(b.setData(u.TEXT_PLAIN,(0,d.stripTags)(y)),b.setData(u.TEXT_HTML,y)),f.buffer.set(u.CLIPBOARD_ID,y),f.e.fire("pasteStack",{html:y,action:f.o.defaultActionOnPaste||u.INSERT_AS_HTML}),v.type==="cut"&&(f.s.remove(),f.s.focus()),v.preventDefault(),(x=f==null?void 0:f.events)===null||x===void 0||x.fire("afterCopy",y)})},m.prototype.destruct=function(f){var g,v;(g=f==null?void 0:f.buffer)===null||g===void 0||g.set(u.CLIPBOARD_ID,""),(v=f==null?void 0:f.events)===null||v===void 0||v.off("."+u.CLIPBOARD_ID)},m}();a.clipboard=p,h.pluginSystem.add("clipboard",p)},31473:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.controls.cut={command:"cut",isDisabled:function(h){return h.s.isCollapsed()},tooltip:"Cut selection"},u.Config.prototype.controls.copy={command:"copy",isDisabled:function(h){return h.s.isCollapsed()},tooltip:"Copy selection"},u.Config.prototype.controls.selectall={icon:"select-all",command:"selectall",tooltip:"Select all"},d.Icon.set("copy",s(50018)).set("cut",s(99738)).set("paste",s(9185)).set("select-all",s(8619))},88412:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.color=void 0;var u=s(40332),d=s(17332);function h(p){p.registerButton({name:"brush",group:"color"});var m=function(f,g,v){var x=(0,u.normalizeColor)(v);switch(f){case"background":p.s.applyStyle({backgroundColor:x||""});break;case"forecolor":p.s.applyStyle({color:x||""})}return p.synchronizeValues(),!1};p.registerCommand("forecolor",m).registerCommand("background",m)}s(21924),a.color=h,d.pluginSystem.add("color",h)},21924:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(40332),h=s(718),p=s(77904),m=s(24263);p.Icon.set("brush",s(73894)),u.Config.prototype.controls.brush={update:function(f,g){var v=(0,d.dataBind)(f,"color"),x=function(_,S){S&&S!==(0,d.css)(g.editor,_).toString()&&(f.state.icon.fill=S)};if(v){var y=(0,d.dataBind)(f,"color");x(y==="color"?y:"background-color",v)}else{var b=g.s.current();if(b&&!f.state.disabled){var w=m.Dom.closest(b,m.Dom.isElement,g.editor)||g.editor;x("color",(0,d.css)(w,"color").toString()),x("background-color",(0,d.css)(w,"background-color").toString())}f.state.icon.fill="",f.state.activated=!1}},popup:function(f,g,v,x,y){var b="",w="",_=[],S=null;return g&&g!==f.editor&&m.Dom.isNode(g)&&(m.Dom.isElement(g)&&f.s.isCollapsed()&&!m.Dom.isTag(g,["br","hr"])&&(S=g),m.Dom.up(g,function(E){if(m.Dom.isHTMLElement(E)){var A=(0,d.css)(E,"color",!0),C=(0,d.css)(E,"background-color",!0);if(A)return b=A.toString(),!0;if(C)return w=C.toString(),!0}},f.editor)),_=[{name:"Background",content:(0,h.ColorPickerWidget)(f,function(E){S?S.style.backgroundColor=E:f.execCommand("background",!1,E),(0,d.dataBind)(y,"color",E),(0,d.dataBind)(y,"color-mode","background"),x()},w)},{name:"Text",content:(0,h.ColorPickerWidget)(f,function(E){S?S.style.color=E:f.execCommand("forecolor",!1,E),(0,d.dataBind)(y,"color",E),(0,d.dataBind)(y,"color-mode","color"),x()},b)}],f.o.colorPickerDefaultTab!=="background"&&(_=_.reverse()),(0,h.TabsWidget)(f,_,S)},exec:function(f,g,v){var x=v.button,y=(0,d.dataBind)(x,"color-mode"),b=(0,d.dataBind)(x,"color");if(!y)return!1;if(g&&g!==f.editor&&m.Dom.isNode(g)&&m.Dom.isElement(g))switch(y){case"color":g.style.color=b;break;case"background":g.style.backgroundColor=b}else f.execCommand(y==="background"?y:"forecolor",!1,b)},tooltip:"Fill color or set the text color"}},79308:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.copyFormat=void 0;var u=s(93166),d=s(24263),h=s(26911),p=s(17332),m=s(77904),f="copy-format",g=["fontWeight","fontStyle","fontSize","color","margin","padding","borderWidth","borderStyle","borderColor","borderRadius","backgroundColor","textDecorationLine","fontFamily"],v=function(y,b,w,_){var S=(0,h.css)(w,b);return S===_[b]&&(S=w.parentNode&&w!==y.editor&&w.parentNode!==y.editor?v(y,b,w.parentNode,_):void 0),S};function x(y){y.registerButton({name:"copyformat",group:"clipboard"}),(0,p.extendLang)(s(9188))}u.Config.prototype.controls.copyformat={exec:function(y,b,w){var _=w.button;if(b){if(y.buffer.exists(f))y.buffer.delete(f),y.e.off(y.editor,"mouseup."+f);else{var S={},E=d.Dom.up(b,function(M){return M&&!d.Dom.isText(M)},y.editor)||y.editor,A=y.createInside.span();y.editor.appendChild(A),g.forEach(function(M){S[M]=(0,h.css)(A,M)}),A!==y.editor&&d.Dom.safeRemove(A);var C=function(M,T,k){var P={};return T&&g.forEach(function(D){P[D]=v(M,D,T,k),D.match(/border(Style|Color)/)&&!P.borderWidth&&(P[D]=void 0)}),P}(y,E,S);y.e.on(y.editor,"mouseup."+f,function(){y.buffer.delete(f);var M=y.s.current();M&&(d.Dom.isTag(M,"img")?(0,h.css)(M,C):y.s.applyStyle(C)),y.e.off(y.editor,"mouseup."+f)}),y.buffer.set(f,!0)}_.update()}},isActive:function(y){return y.buffer.exists(f)},tooltip:"Paint format"},a.copyFormat=x,p.pluginSystem.add("copyformat",x),m.Icon.set("copyformat",s(83301))},9188:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.zh_tw=a.zh_cn=a.tr=a.ru=a.pt_br=a.pl=a.nl=a.mn=a.ko=a.ja=a.it=a.id=a.hu=a.he=a.fr=a.fa=a.es=a.de=a.cs_cz=a.ar=void 0;var u=s(80078);a.ar=u;var d=s(16986);a.cs_cz=d;var h=s(59347);a.de=h;var p=s(63640);a.es=p;var m=s(53434);a.fa=m;var f=s(85638);a.fr=f;var g=s(31743);a.he=g;var v=s(66219);a.hu=v;var x=s(50331);a.id=x;var y=s(25582);a.it=y;var b=s(82066);a.ja=b;var w=s(71925);a.ko=w;var _=s(12689);a.mn=_;var S=s(65274);a.nl=S;var E=s(58548);a.pl=E;var A=s(82958);a.pt_br=A;var C=s(52315);a.ru=C;var M=s(87727);a.tr=M;var T=s(9396);a.zh_cn=T;var k=s(28765);a.zh_tw=k},9412:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.draggableTags=["img","jodit-media","jodit"]},30598:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.dragAndDropElement=void 0;var u,d=s(20255),h=s(40332),p=s(57549),m=s(64968),f=s(17332),g=s(43441);s(9412),function(x){x[x.IDLE=0]="IDLE",x[x.WAIT_DRAGGING=1]="WAIT_DRAGGING",x[x.DRAGGING=2]="DRAGGING"}(u||(u={}));var v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.dragList=[],b.draggable=null,b.isCopyMode=!1,b.diffStep=10,b.startX=0,b.startY=0,b.state=u.IDLE,b}return d.__extends(y,x),y.prototype.afterInit=function(){this.dragList=this.j.o.draggableTags?(0,h.splitArray)(this.j.o.draggableTags).filter(Boolean).map(function(b){return b.toLowerCase()}):[],this.dragList.length&&this.j.e.on("mousedown dragstart",this.onDragStart)},y.prototype.onDragStart=function(b){var w=this;if(b.type==="dragstart"&&this.draggable)return!1;if(u.IDLE>=this.state){var _=b.target;if(this.dragList.length&&_){var S=function(A){return!!(A&&w.dragList.includes(A.nodeName.toLowerCase()))},E=m.Dom.furthest(_,S,this.j.editor)||(S(_)?_:null);E&&(m.Dom.isTag(E.parentElement,"a")&&E.parentElement.firstChild===E&&E.parentElement.lastChild===E&&(E=E.parentElement),this.startX=b.clientX,this.startY=b.clientY,this.isCopyMode=(0,h.ctrlKey)(b),this.draggable=E.cloneNode(!0),(0,h.dataBind)(this.draggable,"target",E),this.state=u.WAIT_DRAGGING,this.addDragListeners())}}},y.prototype.onDrag=function(b){var w,_;if(this.draggable&&this.state!==u.IDLE){var S=b.clientY;if(this.state!==u.WAIT_DRAGGING||Math.sqrt(Math.pow(b.clientX-this.startX,2)+Math.pow(S-this.startY,2))>=this.diffStep){if(this.state===u.WAIT_DRAGGING&&(this.j.lock("drag-and-drop-element"),this.state=u.DRAGGING),this.j.e.fire("hidePopup hideResizer"),!this.draggable.parentNode){var E=(0,h.dataBind)(this.draggable,"target");(0,h.css)(this.draggable,{zIndex:1e13,pointerEvents:"none",pointer:"drag",position:"fixed",opacity:.7,display:"inline-block",left:b.clientX,top:b.clientY,width:(w=E==null?void 0:E.offsetWidth)!==null&&w!==void 0?w:100,height:(_=E==null?void 0:E.offsetHeight)!==null&&_!==void 0?_:100}),(0,f.getContainer)(this.j,y).appendChild(this.draggable)}(0,h.css)(this.draggable,{left:b.clientX,top:b.clientY}),this.j.s.insertCursorAtPoint(b.clientX,b.clientY)}}},y.prototype.onDragEnd=function(){this.isInDestruct||(this.removeDragListeners(),this.j.unlock(),this.state=u.IDLE,this.draggable&&(m.Dom.safeRemove(this.draggable),this.draggable=null))},y.prototype.onDrop=function(){if(this.draggable&&this.state>=u.DRAGGING){var b=(0,h.dataBind)(this.draggable,"target");this.onDragEnd(),this.isCopyMode&&(b=b.cloneNode(!0));var w=b.parentElement;this.j.s.insertNode(b,!0,!1),w&&m.Dom.isEmpty(w)&&!m.Dom.isTag(w,["td","th"])&&m.Dom.safeRemove(w),m.Dom.isTag(b,"img")&&this.j.e&&this.j.e.fire("afterInsertImage",b),this.j.e.fire("synchro")}else this.onDragEnd()},y.prototype.addDragListeners=function(){this.j.e.on(this.j.editor,"mousemove",this.onDrag).on("mouseup",this.onDrop).on([this.j.ew,this.ow],"mouseup",this.onDragEnd)},y.prototype.removeDragListeners=function(){this.j.e.off(this.j.editor,"mousemove",this.onDrag).off("mouseup",this.onDrop).off([this.j.ew,this.ow],"mouseup",this.onDragEnd)},y.prototype.beforeDestruct=function(){this.onDragEnd(),this.j.e.off("mousedown dragstart",this.onDragStart),this.removeDragListeners()},d.__decorate([g.autobind],y.prototype,"onDragStart",null),d.__decorate([(0,g.throttle)(function(b){return b.defaultTimeout/10})],y.prototype,"onDrag",null),d.__decorate([g.autobind],y.prototype,"onDragEnd",null),d.__decorate([g.autobind],y.prototype,"onDrop",null),y}(p.Plugin);a.dragAndDropElement=v,f.pluginSystem.add("dragAndDropElement",v)},19268:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.dragAndDrop=void 0;var u=s(20255),d=s(86893),h=s(24263),p=s(40332),m=s(57549),f=s(43441),g=s(63463),v=s(17332),x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.isFragmentFromEditor=!1,w.isCopyMode=!1,w.startDragPoint={x:0,y:0},w.draggable=null,w.bufferRange=null,w.getText=function(_){var S=(0,p.getDataTransfer)(_);return S?S.getData(d.TEXT_HTML)||S.getData(d.TEXT_PLAIN):null},w}return u.__extends(b,y),b.prototype.afterInit=function(){this.j.e.on([window,this.j.ed,this.j.editor],"dragstart.DragAndDrop",this.onDragStart)},b.prototype.onDragStart=function(w){var _=w.target;if(this.onDragEnd(),this.isFragmentFromEditor=h.Dom.isOrContains(this.j.editor,_,!0),this.isCopyMode=!this.isFragmentFromEditor||(0,p.ctrlKey)(w),this.isFragmentFromEditor){var S=this.j.s.sel,E=S&&S.rangeCount?S.getRangeAt(0):null;E&&(this.bufferRange=E.cloneRange())}else this.bufferRange=null;this.startDragPoint.x=w.clientX,this.startDragPoint.y=w.clientY,(0,g.isFileBrowserFilesItem)(_)&&(_=_.querySelector("img")),h.Dom.isTag(_,"img")&&(this.draggable=_.cloneNode(!0),(0,p.dataBind)(this.draggable,"target",_)),this.addDragListeners()},b.prototype.addDragListeners=function(){this.j.e.on("dragover",this.onDrag).on("drop.DragAndDrop",this.onDrop).on(window,"dragend.DragAndDrop drop.DragAndDrop mouseup.DragAndDrop",this.onDragEnd)},b.prototype.removeDragListeners=function(){this.j.e.off("dragover",this.onDrag).off("drop.DragAndDrop",this.onDrop).off(window,"dragend.DragAndDrop drop.DragAndDrop mouseup.DragAndDrop",this.onDragEnd)},b.prototype.onDrag=function(w){this.draggable&&(this.j.e.fire("hidePopup"),this.j.s.insertCursorAtPoint(w.clientX,w.clientY),w.preventDefault(),w.stopPropagation())},b.prototype.onDragEnd=function(){this.draggable&&(h.Dom.safeRemove(this.draggable),this.draggable=null),this.isCopyMode=!1,this.removeDragListeners()},b.prototype.onDrop=function(w){if(!w.dataTransfer||!w.dataTransfer.files||!w.dataTransfer.files.length){if(!this.isFragmentFromEditor&&!this.draggable)return this.j.e.fire("paste",w),w.preventDefault(),w.stopPropagation(),!1;var _=this.j.s.sel,S=this.bufferRange||(_&&_.rangeCount?_.getRangeAt(0):null),E=null;if(!this.draggable&&S)E=this.isCopyMode?S.cloneContents():S.extractContents();else if(this.draggable)if(this.isCopyMode){var A=u.__read((0,p.attr)(this.draggable,"-is-file")==="1"?["a","href"]:["img","src"],2),C=A[0],M=A[1];(E=this.j.createInside.element(C)).setAttribute(M,(0,p.attr)(this.draggable,"data-src")||(0,p.attr)(this.draggable,"src")||""),C==="a"&&(E.textContent=(0,p.attr)(E,M)||"")}else E=(0,p.dataBind)(this.draggable,"target");else this.getText(w)&&(E=this.j.createInside.fromHTML(this.getText(w)));_&&_.removeAllRanges(),this.j.s.insertCursorAtPoint(w.clientX,w.clientY),E&&(this.j.s.insertNode(E,!1,!1),S&&E.firstChild&&E.lastChild&&(S.setStartBefore(E.firstChild),S.setEndAfter(E.lastChild),this.j.s.selectRange(S),this.j.e.fire("synchro")),h.Dom.isTag(E,"img")&&this.j.events&&this.j.e.fire("afterInsertImage",E)),w.preventDefault(),w.stopPropagation()}this.isFragmentFromEditor=!1,this.removeDragListeners()},b.prototype.beforeDestruct=function(){this.onDragEnd(),this.j.e.off(window,".DragAndDrop").off(".DragAndDrop").off([window,this.j.ed,this.j.editor],"dragstart.DragAndDrop",this.onDragStart)},u.__decorate([f.autobind],b.prototype,"onDragStart",null),u.__decorate([(0,f.throttle)(function(w){return w.defaultTimeout/10})],b.prototype,"onDrag",null),u.__decorate([f.autobind],b.prototype,"onDragEnd",null),u.__decorate([f.autobind],b.prototype,"onDrop",null),b}(m.Plugin);a.dragAndDrop=x,v.pluginSystem.add("dragAndDrop",x)},95049:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(69516),a)},69516:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.removeExtraBr=void 0;var u=s(24263);a.removeExtraBr=function(d,h){if(d.o.dtd.removeExtraBr&&!u.Dom.isTag(h,"br")){var p=u.Dom.furthest(h,u.Dom.isBlock,d.editor);if(p&&!u.Dom.isTag(p,["table","pre","blockquote","code"])){var m=u.Dom.isTag(h,"br")?h:u.Dom.findNotEmptySibling(h,!1);if(!u.Dom.isTag(m,"br"))return;d.s.setCursorBefore(m),u.Dom.safeRemove(m)}}}},73967:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkBlockNesting=void 0;var u=s(24263);a.checkBlockNesting=function(d,h){if(u.Dom.isFragment(h)&&(h=h.firstChild),d.o.dtd.checkBlockNesting&&u.Dom.isBlock(h)){var p=u.Dom.furthest(d.s.current(),u.Dom.isBlock,d.editor);p&&!d.o.dtd.blockLimits[p.tagName.toLowerCase()]&&(d.s.setCursorAfter(p),u.Dom.isEmpty(p)&&u.Dom.safeRemove(p))}}},73690:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(73967),a)},20173:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.dtd={removeExtraBr:!0,checkBlockNesting:!0,blockLimits:{article:1,aside:1,audio:1,body:1,caption:1,details:1,dir:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,header:1,hgroup:1,main:1,menu:1,nav:1,ol:1,section:1,table:1,td:1,th:1,tr:1,ul:1,video:1}}},96899:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(57549),h=s(17332),p=s(46163);s(20173);var m=s(73690),f=s(95049),g=function(v){function x(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(x,v),x.prototype.afterInit=function(y){},x.prototype.beforeDestruct=function(y){},x.prototype.__onBeforeInsertNode=function(y){var b=this;Object.keys(m).forEach(function(w){m[w](b.j,y)})},x.prototype.__onAfterInsertNode=function(y){var b=this;Object.keys(f).forEach(function(w){f[w](b.j,y)})},u.__decorate([(0,p.watch)(":beforeInsertNode")],x.prototype,"__onBeforeInsertNode",null),u.__decorate([(0,p.watch)(":afterInsertNode")],x.prototype,"__onAfterInsertNode",null),x}(d.Plugin);h.pluginSystem.add("dtd",g)},33122:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.enter=void 0;var u=s(20255),d=s(24263),h=s(85605),p=s(86893),m=s(43441),f=s(67749),g=s(23217),v=s(17332);s(26231);var x=function(y){function b(){return y!==null&&y.apply(this,arguments)||this}return u.__extends(b,y),b.prototype.afterInit=function(w){var _=this,S=w.o.enter.toLowerCase(),E=S===p.BR.toLowerCase();w.o.enterBlock||(w.o.enterBlock=E?p.PARAGRAPH:S),w.registerCommand("enter",function(A,C,M){return M===void 0&&(M={}),_.onEnter(M)})},b.prototype.onEnterKeyDown=function(w){if(w.key===p.KEY_ENTER){var _=this.j,S=_.e.fire("beforeEnter",w);return S!==void 0?S:(_.s.isCollapsed()||_.execCommand("Delete"),_.s.focus(),this.onEnter(w),_.e.fire("afterEnter",w),_.synchronizeValues(),!1)}},b.prototype.onEnter=function(w){var _=this.jodit,S=_.createInside.fake();try{d.Dom.safeInsertNode(_.s.range,S),(0,g.moveCursorOutFromSpecialTags)(_,S,["a"]);var E=(0,g.getBlockWrapper)(S,_),A=d.Dom.isTag(E,"li");if((!A||w!=null&&w.shiftKey)&&(0,g.checkBR)(S,_,w==null?void 0:w.shiftKey))return!1;if(E||(0,g.hasPreviousBlock)(S,_)||(E=(0,g.wrapText)(S,_)),!E)return(0,g.insertParagraph)(S,_,A?"li":_.o.enter),!1;if(!(0,g.checkUnsplittableBox)(S,_,E))return!1;if(A&&this.__isEmptyListLeaf(E))return(0,g.processEmptyLILeaf)(S,_,E),!1;(0,g.splitFragment)(S,_,E)}finally{S.isConnected&&_.s.setCursorBefore(S),d.Dom.safeRemove(S)}},b.prototype.__isEmptyListLeaf=function(w){var _=this.j.e.fire("enterIsEmptyListLeaf",w);return(0,f.isBoolean)(_)?_:d.Dom.isEmpty(w)},b.prototype.beforeDestruct=function(w){w.e.off("keydown.enter")},u.__decorate([(0,m.watch)(":keydown.enter")],b.prototype,"onEnterKeyDown",null),b}(h.Plugin);a.enter=x,v.pluginSystem.add("enter",x)},94149:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkBR=void 0;var u=s(24263),d=s(9005),h=s(86893);function p(m){if(!m)return!1;var f=u.Dom.findSibling(m,!0);return!(!f||!u.Dom.isTag(f,"br"))&&f}a.checkBR=function(m,f,g){var v=!!u.Dom.closest(m,["pre","blockquote"],f.editor);if(f.o.enter.toLowerCase()===h.BR.toLowerCase()||g&&!v||!g&&v){if(v&&function(b){var w=p(p(b));return!!w&&(u.Dom.safeRemove(p(b)),u.Dom.safeRemove(w),!0)}(m))return!1;var x=f.createInside.element("br");if(u.Dom.before(m,x),!u.Dom.findNotEmptySibling(x,!1)){var y=x.cloneNode();u.Dom.after(x,y),u.Dom.before(y,m)}return(0,d.scrollIntoViewIfNeeded)(x,f.editor,f.ed),!0}return!1}},58921:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.checkUnsplittableBox=void 0;var u=s(24263);a.checkUnsplittableBox=function(d,h,p){return!!u.Dom.canSplitBlock(p)||(u.Dom.before(d,h.createInside.element("br")),!1)}},70638:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getBlockWrapper=void 0;var u=s(86893),d=s(24263);a.getBlockWrapper=function h(p,m,f){f===void 0&&(f=u.IS_BLOCK);var g=p,v=m.editor;do{if(!g||g===v)break;if(f.test(g.nodeName))return d.Dom.isTag(g,"li")?g:h(g.parentNode,m,/^li$/i)||g;g=g.parentNode}while(g&&g!==v);return null}},50781:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hasPreviousBlock=void 0;var u=s(24263);a.hasPreviousBlock=function(d,h){return!!u.Dom.prev(d,function(p){return u.Dom.isBlock(p)||u.Dom.isImage(p)},h.editor)}},23217:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(94149),a),u.__exportStar(s(58921),a),u.__exportStar(s(92291),a),u.__exportStar(s(70638),a),u.__exportStar(s(50781),a),u.__exportStar(s(90443),a),u.__exportStar(s(52521),a),u.__exportStar(s(81512),a),u.__exportStar(s(29575),a)},90443:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.insertParagraph=void 0;var u=s(24263),d=s(9005);a.insertParagraph=function(h,p,m,f){var g=m.toLowerCase()==="br",v=p.createInside,x=v.element(m),y=v.element("br");return g||x.appendChild(y),f&&f.cssText&&x.setAttribute("style",f.cssText),u.Dom.after(h,x),u.Dom.before(g?x:y,h),(0,d.scrollIntoViewIfNeeded)(x,p.editor,p.ed),x}},29575:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.moveCursorOutFromSpecialTags=void 0;var u=s(24263);a.moveCursorOutFromSpecialTags=function(d,h,p){var m=d.s,f=u.Dom.closest(h,p,d.editor);f&&(m.cursorOnTheRight(f,h)?u.Dom.after(f,h):m.cursorOnTheLeft(f,h)&&u.Dom.before(f,h))}},92291:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.processEmptyLILeaf=void 0;var u=s(24263),d=s(54188),h=s(90443);a.processEmptyLILeaf=function(p,m,f){var g=u.Dom.closest(f,["ol","ul"],m.editor);if(g){var v=g.parentElement,x=u.Dom.isTag(v,"li"),y=x?v:g,b=m.s.createRange();b.setStartAfter(f),b.setEndAfter(g);var w=b.extractContents();u.Dom.after(y,p),u.Dom.safeRemove(f),(0,d.$$)("li",g).length||u.Dom.safeRemove(g);var _=(0,h.insertParagraph)(p,m,x?"li":m.o.enter);w.querySelector("li")&&(x?_.appendChild(w):u.Dom.after(_,w))}}},52521:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.splitFragment=void 0;var u=s(9005),d=s(24263),h=s(90443);a.splitFragment=function(p,m,f){var g=m.s,v=m.o.enter.toLowerCase(),x=d.Dom.isTag(f,"li"),y=f.tagName.toLowerCase()===v||x,b=g.cursorOnTheRight(f,p),w=g.cursorOnTheLeft(f,p);if(!y&&(b||w))return b?d.Dom.after(f,p):d.Dom.before(f,p),(0,h.insertParagraph)(p,m,v),void(w&&!b&&d.Dom.prepend(f,p));var _=g.splitSelection(f,p);(0,u.scrollIntoViewIfNeeded)(_,m.editor,m.ed)}},81512:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.wrapText=void 0;var u=s(24263);a.wrapText=function(d,h){var p=d;u.Dom.up(p,function(g){g&&g.hasChildNodes()&&g!==h.editor&&(p=g)},h.editor);var m=u.Dom.wrapInline(p,h.o.enter,h);if(u.Dom.isEmpty(m)){var f=h.createInside.element("br");m.appendChild(f),u.Dom.before(f,d)}return m}},26231:function(){},10135:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.file=void 0;var u=s(93166),d=s(24263),h=s(718),p=s(17332);function m(f){f.registerButton({name:"file",group:"media"})}u.Config.prototype.controls.file={popup:function(f,g,v,x){var y=function(w,_){_===void 0&&(_=""),f.s.insertNode(f.createInside.fromHTML('<a href="'.concat(w,'" title="').concat(_,'">').concat(_||w,"</a>")))},b=null;return g&&(d.Dom.isTag(g,"a")||d.Dom.closest(g,"a",f.editor))&&(b=d.Dom.isTag(g,"a")?g:d.Dom.closest(g,"a",f.editor)),(0,h.FileSelectorWidget)(f,{filebrowser:function(w){w.files&&w.files.forEach(function(_){return y(w.baseurl+_)}),x()},upload:!0,url:function(w,_){b?(b.setAttribute("href",w),b.setAttribute("title",_)):y(w,_),x()}},b,x,!1)},tags:["a"],tooltip:"Insert file"},a.file=m,p.pluginSystem.add("file",m)},66994:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.focus=void 0;var u=s(93166),d=s(64968),h=s(17332);function p(m){m.o.saveSelectionOnBlur&&m.e.on("blur",function(){m.isEditorMode()&&m.s.save(!0)}).on("focus",function(){m.s.restore()});var f=function(){if(m.s.focus(),m.o.cursorAfterAutofocus==="end"){var g=d.Dom.last(m.editor,function(v){return d.Dom.isText(v)});g&&m.s.setCursorIn(g,!1)}};m.e.on("afterInit",function(){m.o.autofocus&&(m.defaultTimeout?m.async.setTimeout(f,300):f())}),m.e.on("afterInit afterAddPlace",function(){m.e.off(m.editor,"mousedown.autofocus").on(m.editor,"mousedown.autofocus",function(g){m.isEditorMode()&&g.target&&d.Dom.isBlock(g.target)&&!g.target.childNodes.length&&(m.editor===g.target?m.s.focus():m.s.setCursorIn(g.target))})})}u.Config.prototype.autofocus=!1,u.Config.prototype.cursorAfterAutofocus="end",u.Config.prototype.saveSelectionOnBlur=!0,a.focus=p,h.pluginSystem.add("focus",p)},8082:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(93166),h=s(24263),p=s(76502),m=s(77904);d.Config.prototype.defaultFontSizePoints="px",m.Icon.set("font",s(84142)).set("fontsize",s(57292)),d.Config.prototype.controls.fontsize={command:"fontsize",data:{cssRule:"font-size"},list:["8","9","10","11","12","14","16","18","24","30","36","48","60","72","96"],exec:function(f,g,v){var x=v.control;return(0,p.memorizeExec)(f,g,{control:x},function(y){var b;return((b=x.command)===null||b===void 0?void 0:b.toLowerCase())==="fontsize"?"".concat(y).concat(f.o.defaultFontSizePoints):y})},childTemplate:function(f,g,v){return"".concat(v).concat(f.o.defaultFontSizePoints)},tooltip:"Font size",isChildActive:function(f,g){var v,x,y=f.s.current(),b=((v=g.data)===null||v===void 0?void 0:v.cssRule)||"font-size",w=((x=g.data)===null||x===void 0?void 0:x.normalize)||function(E){return/pt$/i.test(E)&&f.o.defaultFontSizePoints==="pt"?E.replace(/pt$/i,""):E};if(y){var _=h.Dom.closest(y,h.Dom.isElement,f.editor)||f.editor,S=(0,p.css)(_,b);return!!(S&&g.args&&w(g.args[0].toString())===w(S.toString()))}return!1}},d.Config.prototype.controls.font=u.__assign(u.__assign({},d.Config.prototype.controls.fontsize),{command:"fontname",list:{"":"Default","helvetica,sans-serif":"Helvetica","arial,helvetica,sans-serif":"Arial","georgia,palatino,serif":"Georgia","impact,charcoal,sans-serif":"Impact","tahoma,geneva,sans-serif":"Tahoma","times new roman,times,serif":"Times New Roman","verdana,geneva,sans-serif":"Verdana"},childTemplate:function(f,g,v){var x=!1;try{x=g.indexOf("dings")===-1&&document.fonts.check("16px ".concat(g),v)}catch{}return'<span data-style="'.concat(g,'" style="').concat(x?"font-family: ".concat(g,"!important;"):"",'">').concat(v,"</span>")},data:{cssRule:"font-family",normalize:function(f){return f.toLowerCase().replace(/['"]+/g,"").replace(/[^a-z0-9]+/g,",")}},tooltip:"Font family"})},54798:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.font=void 0;var u=s(40332),d=s(17332);function h(p){p.registerButton({name:"font",group:"font"}).registerButton({name:"fontsize",group:"font"});var m=function(f,g,v){switch(f){case"fontsize":p.s.applyStyle({fontSize:(0,u.normalizeSize)(v)});break;case"fontname":p.s.applyStyle({fontFamily:v})}return p.synchronizeValues(),!1};p.registerCommand("fontsize",m).registerCommand("fontname",m)}s(8082),a.font=h,d.pluginSystem.add("font",h)},12908:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.formatBlock=void 0;var u=s(93166),d=s(87837),h=s(40332),p=s(17332);function m(f){f.registerButton({name:"paragraph",group:"font"}),f.registerCommand("formatblock",function(g,v,x){return f.s.applyStyle(void 0,{element:x}),f.synchronizeValues(),!1})}s(77904).Icon.set("paragraph",s(18019)),u.Config.prototype.controls.paragraph={command:"formatBlock",update:function(f,g){var v=f.control,x=g.s.current();if(x&&g.o.textIcons){var y=(d.Dom.closest(x,d.Dom.isBlock,g.editor)||g.editor).nodeName.toLowerCase(),b=v.list;f&&v.data&&v.data.currentValue!==y&&b&&b[y]&&(g.o.textIcons?f.state.text=y:f.state.icon.name=y,v.data.currentValue=y)}return!1},exec:h.memorizeExec,data:{currentValue:"left"},list:{p:"Normal",h1:"Heading 1",h2:"Heading 2",h3:"Heading 3",h4:"Heading 4",blockquote:"Quote",pre:"Code"},isChildActive:function(f,g){var v=f.s.current();if(v){var x=d.Dom.closest(v,d.Dom.isBlock,f.editor);return!!(x&&x!==f.editor&&g.args!==void 0&&x.nodeName.toLowerCase()===g.args[0])}return!1},isActive:function(f,g){var v=f.s.current();if(v){var x=d.Dom.closest(v,d.Dom.isBlock,f.editor);return!!(x&&x!==f.editor&&g.list!==void 0&&!d.Dom.isTag(x,"p")&&g.list[x.nodeName.toLowerCase()]!==void 0)}return!1},childTemplate:function(f,g,v){return"<".concat(g,' style="margin:0;padding:0"><span>').concat(f.i18n(v),"</span></").concat(g,">")},tooltip:"Insert format block"},a.formatBlock=m,p.pluginSystem.add("formatBlock",m)},15045:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(14320);var u=s(93166),d=s(86893),h=s(77904);u.Config.prototype.fullsize=!1,u.Config.prototype.globalFullSize=!0,h.Icon.set("fullsize",s(45146)).set("shrink",s(53576)),u.Config.prototype.controls.fullsize={exec:function(p){p.toggleFullSize()},update:function(p,m){var f=m.isFullSize?"shrink":"fullsize";p.state.activated=m.isFullSize,m.o.textIcons?p.state.text=f:p.state.icon.name=f},tooltip:"Open in fullsize",mode:d.MODE_SOURCE+d.MODE_WYSIWYG}},65123:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.fullsize=void 0,s(14320);var u=s(26911),d=s(77892),h=s(17332);s(15045);var p=new Set;function m(f){f.registerButton({name:"fullsize"});var g=!1,v=0,x=0,y=!1,b=function(){var _=f.container;f.events&&(g?(v=(0,u.css)(_,"height",!0),x=(0,u.css)(_,"width",!0),(0,u.css)(_,{height:f.ow.innerHeight,width:f.ow.innerWidth}),y=!0):y&&(0,u.css)(_,{height:v||"auto",width:x||"auto"}))},w=function(_){var S=f.container,E=f.events;if(S){if(_===void 0&&(_=!S.classList.contains("jodit_fullsize")),f.setMod("fullsize",_),f.o.fullsize=_,g=_,S.classList.toggle("jodit_fullsize",_),f.toolbar&&((0,d.isJoditObject)(f)&&f.toolbarContainer.appendChild(f.toolbar.container),(0,u.css)(f.toolbar.container,"width","auto")),_?p.add(S):p.delete(S),f.o.globalFullSize&&(p.size===1&&_||p.size===0&&!_)){for(var A=S.parentNode;A&&A.nodeType!==Node.DOCUMENT_NODE&&A.nodeType!==Node.DOCUMENT_FRAGMENT_NODE;)A.classList.toggle("jodit_fullsize-box_true",_),A=A.parentNode;b()}E.fire("afterResize")}};f.o.globalFullSize&&f.e.on(f.ow,"resize",b),f.e.on("afterInit afterOpen",function(){var _;f.toggleFullSize((_=f==null?void 0:f.options)===null||_===void 0?void 0:_.fullsize)}).on("toggleFullSize",w).on("beforeDestruct",function(){g&&w(!1)}).on("beforeDestruct",function(){f.events&&f.e.off(f.ow,"resize",b)})}a.fullsize=m,h.pluginSystem.add("fullsize",m)},16829:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.commandToHotkeys={removeFormat:["ctrl+shift+m","cmd+shift+m"],insertOrderedList:["ctrl+shift+7","cmd+shift+7"],insertUnorderedList:["ctrl+shift+8, cmd+shift+8"],selectall:["ctrl+a","cmd+a"]}},83228:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hotkeys=void 0;var u=s(20255),d=s(57549),h=s(40332),p=s(86893),m=s(17332);s(16829);var f=function(g){function v(){var x=g!==null&&g.apply(this,arguments)||this;return x.onKeyPress=function(y){var b=x.specialKeys[y.which],w=(y.key||String.fromCharCode(y.which)).toLowerCase(),_=[b||w];return["alt","ctrl","shift","meta"].forEach(function(S){y[S+"Key"]&&b!==S&&_.push(S)}),(0,h.normalizeKeyAliases)(_.join("+"))},x.specialKeys={8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",59:";",61:"=",91:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},x}return u.__extends(v,g),v.prototype.afterInit=function(x){var y=this;(0,h.keys)(x.o.commandToHotkeys,!1).forEach(function(w){var _=x.o.commandToHotkeys[w];_&&((0,h.isArray)(_)||(0,h.isString)(_))&&x.registerHotkeyToCommand(_,w)});var b=!1;x.e.off(".hotkeys").on([x.ow,x.ew],"keydown.hotkeys",function(w){if(w.key===p.KEY_ESC)return y.j.e.fire("escape",w)}).on("keydown.hotkeys",function(w){var _=y.onKeyPress(w),S={shouldStop:!0};if(y.j.e.fire(_+".hotkey",w.type,S)===!1){if(S.shouldStop)return b=!0,x.e.stopPropagation("keydown"),!1;w.preventDefault()}},{top:!0}).on("keyup.hotkeys",function(){if(b)return b=!1,x.e.stopPropagation("keyup"),!1},{top:!0})},v.prototype.beforeDestruct=function(x){x.events&&x.e.off(".hotkeys")},v}(d.Plugin);a.hotkeys=f,m.pluginSystem.add("hotkeys",f)},43889:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.hr=void 0;var u=s(93166),d=s(64968),h=s(17332);function p(m){m.registerButton({name:"hr",group:"insert"}),m.registerCommand("insertHorizontalRule",function(){var f=m.createInside.element("hr");m.s.insertNode(f,!1,!1);var g=d.Dom.closest(f.parentElement,d.Dom.isBlock,m.editor);g&&d.Dom.isEmpty(g)&&g!==m.editor&&(d.Dom.after(g,f),d.Dom.safeRemove(g));var v=d.Dom.next(f,d.Dom.isBlock,m.editor,!1);return v||(v=m.createInside.element(m.o.enter),d.Dom.after(f,v)),m.s.setCursorIn(v),!1})}s(77904).Icon.set("hr",s(14655)),u.Config.prototype.controls.hr={command:"insertHorizontalRule",tags:["hr"],tooltip:"Insert Horizontal Line"},a.hr=p,h.pluginSystem.add("hr",p)},2509:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.iframeBaseUrl="",u.Config.prototype.iframeTitle="Jodit Editor",u.Config.prototype.iframeDoctype="<!DOCTYPE html>",u.Config.prototype.iframeDefaultSrc="about:blank",u.Config.prototype.iframeStyle='html{margin:0;padding:0;min-height: 100%;}body{box-sizing:border-box;font-size:13px;line-height:1.6;padding:10px;margin:0;background:transparent;color:#000;position:relative;z-index:2;user-select:auto;margin:0px;overflow:auto;outline:none;}table{width:100%;border:none;border-collapse:collapse;empty-cells: show;max-width: 100%;}th,td{padding: 2px 5px;border:1px solid #ccc;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}p{margin-top:0;}.jodit_editor .jodit_iframe_wrapper{display: block;clear: both;user-select: none;position: relative;}.jodit_editor .jodit_iframe_wrapper:after {position:absolute;content:"";z-index:1;top:0;left:0;right: 0;bottom: 0;cursor: pointer;display: block;background: rgba(0, 0, 0, 0);} .jodit_disabled{user-select: none;-o-user-select: none;-moz-user-select: none;-khtml-user-select: none;-webkit-user-select: none;-ms-user-select: none}',u.Config.prototype.iframeCSSLinks=[]},93300:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.iframe=void 0;var u=s(40332),d=s(40332),h=s(86893),p=s(17332);function m(f){var g=f.options;f.e.on("afterSetMode",function(){f.isEditorMode()&&f.s.focus()}).on("generateDocumentStructure.iframe",function(v,x){var y=v||x.iframe.contentWindow.document;if(y.open(),y.write(g.iframeDoctype+'<html dir="'.concat(g.direction,'" class="jodit" lang="').concat((0,u.defaultLanguage)(g.language),'">')+"<head>"+"<title>".concat(g.iframeTitle,"</title>")+(g.iframeBaseUrl?'<base href="'.concat(g.iframeBaseUrl,'"/>'):"")+'</head><body class="jodit-wysiwyg"></body></html>'),y.close(),g.iframeCSSLinks&&g.iframeCSSLinks.forEach(function(w){var _=y.createElement("link");_.setAttribute("rel","stylesheet"),_.setAttribute("href",w),y.head&&y.head.appendChild(_)}),g.iframeStyle){var b=y.createElement("style");b.innerHTML=g.iframeStyle,y.head&&y.head.appendChild(b)}}).on("createEditor",function(){if(g.iframe){var v=f.c.element("iframe");v.style.display="block",v.src="about:blank",v.className="jodit-wysiwyg_iframe",v.setAttribute("allowtransparency","true"),v.setAttribute("tabindex",g.tabIndex.toString()),v.setAttribute("frameborder","0"),f.workplace.appendChild(v),f.iframe=v;var x=f.e.fire("generateDocumentStructure.iframe",null,f);return(0,u.callPromise)(x,function(){if(!f.iframe)return!1;var y=f.iframe.contentWindow.document;f.editorWindow=f.iframe.contentWindow;var b=function(){(0,u.attr)(y.body,"contenteditable",f.getMode()!==h.MODE_SOURCE&&!f.getReadOnly()||null)},w=function(A){var C=/<body.*<\/body>/im,M="{%%BODY%%}",T=C.exec(A);return T&&(A=A.replace(C,M).replace(/<span([^>]*?)>(.*?)<\/span>/gim,"").replace(/&lt;span([^&]*?)&gt;(.*?)&lt;\/span&gt;/gim,"").replace(M,T[0].replace(/(<body[^>]+?)min-height["'\s]*:[\s"']*[0-9]+(px|%)/im,"$1").replace(/(<body[^>]+?)([\s]*["'])?contenteditable["'\s]*=[\s"']*true["']?/im,"$1").replace(/<(style|script|span)[^>]+jodit[^>]+>.*?<\/\1>/g,"")).replace(/(class\s*=\s*)(['"])([^"']*)(jodit-wysiwyg|jodit)([^"']*\2)/g,"$1$2$3$5").replace(/(<[^<]+?)\sclass="[\s]*"/gim,"$1").replace(/(<[^<]+?)\sstyle="[\s;]*"/gim,"$1").replace(/(<[^<]+?)\sdir="[\s]*"/gim,"$1")),A};if(g.editHTMLDocumentMode){var _=f.element.tagName;if(_!=="TEXTAREA"&&_!=="INPUT")throw(0,d.error)("If enable `editHTMLDocumentMode` - source element should be INPUT or TEXTAREA");f.e.on("beforeGetNativeEditorValue",function(){return w(f.o.iframeDoctype+y.documentElement.outerHTML)}).on("beforeSetNativeEditorValue",function(A){var C=A.value;return!f.isLocked&&(/<(html|body)/i.test(C)?w(y.documentElement.outerHTML)!==w(C)&&(y.open(),y.write(f.o.iframeDoctype+w(C)),y.close(),f.editor=y.body,f.e.fire("safeHTML",f.editor),b(),f.e.fire("prepareWYSIWYGEditor"),f.e.stopPropagation("beforeSetNativeEditorValue")):y.body.innerHTML=C,!0)},{top:!0})}if(f.editor=y.body,f.e.on("afterSetMode afterInit afterAddPlace",b),g.height==="auto"){y.documentElement&&(y.documentElement.style.overflowY="hidden");var S=f.async.throttle(function(){if(f.editor&&f.iframe&&g.height==="auto"){var A=f.ew.getComputedStyle(f.editor),C=parseInt(A.marginTop||"0",10)+parseInt(A.marginBottom||"0",10);(0,u.css)(f.iframe,"height",f.editor.offsetHeight+C)}},f.defaultTimeout/2);if(f.e.on("change afterInit afterSetMode resize",S).on([f.iframe,f.ew,y.documentElement],"load",S).on(y,"readystatechange DOMContentLoaded",S),typeof ResizeObserver=="function"){var E=new ResizeObserver(S);E.observe(y.body),f.e.on("beforeDestruct",function(){E.unobserve(y.body)})}}return y.documentElement&&f.e.on(y.documentElement,"mousedown touchend",function(){f.s.isFocused()||(f.s.focus(),f.editor===y.body&&f.s.setCursorIn(y.body))}).on(f.ew,"mousedown touchstart keydown keyup touchend click mouseup mousemove scroll",function(A){var C;(C=f.events)===null||C===void 0||C.fire(f.ow,A)}),!1})}})}s(2509),a.iframe=m,p.pluginSystem.add("iframe",m)},18226:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.imageProcessor={replaceDataURIToBlobIdInView:!0}},92575:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.imageProcessor=void 0;var u=s(20255),d=s(40332),h=s(57549),p=s(43441),m=s(86893),f=s(17332);s(18226);var g="__jodit_imageprocessor_binded",v="__jodit_imageprocessor_bindedblob-id",x=function(y){function b(){return y!==null&&y.apply(this,arguments)||this}return u.__extends(b,y),b.prototype.afterInit=function(w){},b.prototype.beforeDestruct=function(w){var _,S,E=w.buffer.get(v);if(E){var A=Object.keys(E);try{for(var C=u.__values(A),M=C.next();!M.done;M=C.next())URL.revokeObjectURL(M.value)}catch(T){_={error:T}}finally{try{M&&!M.done&&(S=C.return)&&S.call(C)}finally{if(_)throw _.error}}w.buffer.delete(v)}},b.prototype.onAfterGetValueFromEditor=function(w,_){if(_!==m.SOURCE_CONSUMER)return this.onBeforeSetElementValue(w)},b.prototype.onBeforeSetElementValue=function(w){var _,S,E=this.jodit;if(E.o.imageProcessor.replaceDataURIToBlobIdInView){var A=E.buffer.get(v);if(A){var C=Object.keys(A);try{for(var M=u.__values(C),T=M.next();!T.done;T=M.next())for(var k=T.value;w.value.includes(k);)w.value=w.value.replace(k,A[k])}catch(P){_={error:P}}finally{try{T&&!T.done&&(S=M.return)&&S.call(M)}finally{if(_)throw _.error}}}}},b.prototype.afterChange=function(w){return u.__awaiter(this,void 0,Promise,function(){var _;return u.__generator(this,function(S){return(_=this.jodit).editor?((0,d.$$)("img",_.editor).forEach(function(E){(0,d.dataBind)(E,g)||((0,d.dataBind)(E,g,!0),E.complete||_.e.on(E,"load",function A(){var C;!_.isInDestruct&&((C=_.e)===null||C===void 0||C.fire("resize")),_.e.off(E,"load",A)}),E.src&&/^data:/.test(E.src)&&function(A,C){if(A.o.imageProcessor.replaceDataURIToBlobIdInView&&typeof ArrayBuffer<"u"&&typeof URL<"u"){var M=C.src,T=function(P){for(var D=atob(P.split(",")[1]),I=P.split(",")[0].split(":")[1].split(";")[0],O=new ArrayBuffer(D.length),j=new Uint8Array(O),N=0;D.length>N;N++)j[N]=D.charCodeAt(N);return new Blob([O],{type:I})}(M);C.src=URL.createObjectURL(T),A.e.fire("internalUpdate");var k=A.buffer.get(v)||{};k[C.src]=M,A.buffer.set(v,k)}}(_,E),_.e.on(E,"mousedown touchstart",function(){_.s.select(E)}))}),[2]):[2]})})},u.__decorate([(0,p.watch)(":afterGetValueFromEditor")],b.prototype,"onAfterGetValueFromEditor",null),u.__decorate([(0,p.watch)(":beforeSetElementValue")],b.prototype,"onBeforeSetElementValue",null),u.__decorate([(0,p.watch)([":change",":afterInit",":changePlace"]),(0,p.debounce)()],b.prototype,"afterChange",null),b}(h.Plugin);a.imageProcessor=x,f.pluginSystem.add("imageProcessor",x)},1601:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.image={dialogWidth:600,openOnDblClick:!0,editSrc:!0,useImageEditor:!0,editTitle:!0,editAlt:!0,editLink:!0,editSize:!0,editBorderRadius:!0,editMargins:!0,editClass:!0,availableClasses:[],editStyle:!0,editId:!0,editAlign:!0,showPreview:!0,selectImageAfterClose:!0}},15747:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.imageProperties=void 0;var u=s(20255);s(9947);var d=s(87837),h=s(40332),p=s(718),m=s(96516),f=s(43441),g=s(35503),v=s(17332),x=s(49391),y=s(27506),b=s(50109);s(1601);var w=function(E){return E=(0,h.trim)(E),/^[0-9]+$/.test(E)?E+"px":E},_=function(E){return/^[-+]?[0-9.]+px$/.test(E.toString())?parseFloat(E.toString()):E},S=function(E){function A(){var C=E!==null&&E.apply(this,arguments)||this;return C.state={image:new Image,get ratio(){return this.image.naturalWidth/this.image.naturalHeight||1},sizeIsLocked:!0,marginIsLocked:!0},C.activeTabState={__activeTab:"Image"},C}return u.__extends(A,E),A.prototype.onChangeMarginIsLocked=function(){var C=this;if(this.form){var M=(0,h.refs)(this.form),T=M.lockMargin;[M.marginRight,M.marginBottom,M.marginLeft].forEach(function(k){(0,h.attr)(k,"disabled",C.state.marginIsLocked||null)}),T.innerHTML=d.Icon.get(this.state.marginIsLocked?"lock":"unlock")}},A.prototype.onChangeSizeIsLocked=function(){if(this.form){var C=(0,h.refs)(this.form),M=C.lockSize,T=C.imageWidth;M.innerHTML=d.Icon.get(this.state.sizeIsLocked?"lock":"unlock"),M.classList.remove("jodit-properties__lock"),M.classList.remove("jodit-properties__unlock"),M.classList.add(this.state.sizeIsLocked?"jodit-properties__lock":"jodit-properties__unlock"),this.j.e.fire(T,"change")}},A.prototype.open=function(){return this.makeForm(),this.activeTabState.__activeTab="Image",this.j.e.fire("hidePopup"),(0,h.markOwner)(this.j,this.dialog.container),this.state.marginIsLocked=!0,this.state.sizeIsLocked=!0,this.onChangeMarginIsLocked(),this.onChangeSizeIsLocked(),this.updateValues(),this.dialog.open().setModal(!0).setPosition(),!1},A.prototype.makeForm=function(){var C=this;if(!this.dialog){this.dialog=this.j.dlg({minWidth:Math.min(400,screen.width),minHeight:590,buttons:["fullsize","dialog.close"]});var M=this.j,T=M.o,k=M.i18n.bind(M),P={check:(0,m.Button)(M,"ok","Apply","primary"),remove:(0,m.Button)(M,"bin","Delete")};M.e.on(this.dialog,"afterClose",function(){C.state.image.parentNode&&T.image.selectImageAfterClose&&M.s.select(C.state.image)}),P.remove.onAction(function(){M.s.removeNode(C.state.image),C.dialog.close()});var D=this.dialog;D.setHeader(k("Image properties"));var I=(0,x.form)(M);this.form=I,D.setContent(I);var O=(0,h.refs)(this.form).tabsBox;O&&O.appendChild((0,p.TabsWidget)(M,[{name:"Image",content:(0,y.mainTab)(M)},{name:"Advanced",content:(0,b.positionTab)(M)}],this.activeTabState)),P.check.onAction(this.onApply);var j=(0,h.refs)(this.form),N=j.editImage;M.e.on(j.changeImage,"click",this.openImagePopup),T.image.useImageEditor&&M.e.on(N,"click",this.openImageEditor);var R=(0,h.refs)(I),F=R.lockSize,U=R.lockMargin,B=R.imageWidth,H=R.imageHeight;F&&M.e.on(F,"click",function(){C.state.sizeIsLocked=!C.state.sizeIsLocked}),M.e.on(U,"click",function(G){C.state.marginIsLocked=!C.state.marginIsLocked,G.preventDefault()});var X=function(G){if((0,h.isNumeric)(B.value)&&(0,h.isNumeric)(H.value)){var Z=parseFloat(B.value),J=parseFloat(H.value);G.target===B?H.value=Math.round(Z/C.state.ratio).toString():B.value=Math.round(J*C.state.ratio).toString()}};M.e.on([B,H],"change keydown mousedown paste",function(G){C.state.sizeIsLocked&&M.async.setTimeout(X.bind(C,G),{timeout:M.defaultTimeout,label:"image-properties-changeSize"})}),D.setFooter([P.remove,P.check]),D.setSize(this.j.o.image.dialogWidth)}},A.prototype.updateValues=function(){var C,M,T=this,k=this.j.o,P=this.state.image,D=(0,h.refs)(this.form),I=D.marginTop,O=D.marginRight,j=D.marginBottom,N=D.marginLeft,R=D.imageSrc,F=D.id,U=D.classes,B=D.align,H=D.style,X=D.imageTitle,G=D.imageAlt,Z=D.borderRadius,J=D.imageLink,ee=D.imageWidth,q=D.imageHeight,Y=D.imageLinkOpenInNewTab,Q=D.imageViewSrc,ie=D.lockSize;D.lockMargin.checked=T.state.marginIsLocked,ie.checked=T.state.sizeIsLocked,R.value=(0,h.attr)(P,"src")||"",Q&&(0,h.attr)(Q,"src",(0,h.attr)(P,"src")||""),function(){X.value=(0,h.attr)(P,"title")||"",G.value=(0,h.attr)(P,"alt")||"";var le=d.Dom.closest(P,"a",T.j.editor);le?(J.value=(0,h.attr)(le,"href")||"",Y.checked=(0,h.attr)(le,"target")==="_blank"):(J.value="",Y.checked=!1)}(),C=(0,h.attr)(P,"width")||(0,h.css)(P,"width",!0)||!1,M=(0,h.attr)(P,"height")||(0,h.css)(P,"height",!0)||!1,ee.value=C!==!1?_(C).toString():P.offsetWidth.toString(),q.value=M!==!1?_(M).toString():P.offsetHeight.toString(),T.state.sizeIsLocked=function(){if(!(0,h.isNumeric)(ee.value)||!(0,h.isNumeric)(q.value))return!1;var le=parseFloat(ee.value),de=parseFloat(q.value);return 1>Math.abs(le-de*T.state.ratio)}(),function(){if(k.image.editMargins){var le=!0,de=!1;[I,O,j,N].forEach(function(De){var Me=(0,h.attr)(De,"data-ref")||"",Ee=P.style.getPropertyValue((0,h.kebabCase)(Me));if(!Ee)return de=!0,void(De.value="");/^[0-9]+(px)?$/.test(Ee)&&(Ee=parseInt(Ee,10)),De.value=Ee.toString()||"",(de&&De.value||le&&Me!=="marginTop"&&De.value!==I.value)&&(le=!1)}),T.state.marginIsLocked=le}}(),U.value=((0,h.attr)(P,"class")||"").replace(/jodit_focused_image[\s]*/,""),F.value=(0,h.attr)(P,"id")||"",Z.value=(parseInt(P.style.borderRadius||"0",10)||"0").toString(),P.style.cssFloat&&["left","right"].indexOf(P.style.cssFloat.toLowerCase())!==-1?B.value=(0,h.css)(P,"float"):(0,h.css)(P,"display")==="block"&&P.style.marginLeft==="auto"&&P.style.marginRight==="auto"&&(B.value="center"),H.value=(0,h.attr)(P,"style")||""},A.prototype.onApply=function(){var C=(0,h.refs)(this.form),M=C.imageSrc,T=C.borderRadius,k=C.imageTitle,P=C.imageAlt,D=C.imageLink,I=C.imageWidth,O=C.imageHeight,j=C.marginTop,N=C.marginRight,R=C.marginBottom,F=C.marginLeft,U=C.imageLinkOpenInNewTab,B=C.align,H=C.classes,X=C.id,G=this.j.o,Z=this.state.image;if(G.image.editStyle&&(0,h.attr)(Z,"style",C.style.value||null),!M.value)return d.Dom.safeRemove(Z),void this.dialog.close();(0,h.attr)(Z,"src",M.value),Z.style.borderRadius=T.value!=="0"&&/^[0-9]+$/.test(T.value)?T.value+"px":"",(0,h.attr)(Z,"title",k.value||null),(0,h.attr)(Z,"alt",P.value||null);var J=d.Dom.closest(Z,"a",this.j.editor);if(D.value?(J||(J=d.Dom.wrap(Z,"a",this.j.createInside)),(0,h.attr)(J,"href",D.value),(0,h.attr)(J,"target",U.checked?"_blank":null)):J&&J.parentNode&&J.parentNode.replaceChild(Z,J),I.value!==Z.offsetWidth.toString()||O.value!==Z.offsetHeight.toString()){var ee=(0,h.trim)(I.value)?w(I.value):null,q=(0,h.trim)(O.value)?w(O.value):null;(0,h.css)(Z,{width:ee,height:q}),(0,h.attr)(Z,"width",(0,h.attr)(Z,"width")?ee:null),(0,h.attr)(Z,"height",(0,h.attr)(Z,"height")?q:null)}var Y=[j,N,R,F];G.image.editMargins&&(this.state.marginIsLocked?(0,h.css)(Z,"margin",w(j.value)):Y.forEach(function(Q){var ie=(0,h.attr)(Q,"data-ref")||"";(0,h.css)(Z,ie,w(Q.value))})),G.image.editClass&&(0,h.attr)(Z,"class",H.value||null),G.image.editId&&(0,h.attr)(Z,"id",X.value||null),G.image.editAlign&&(0,h.hAlignElement)(Z,B.value),this.j.synchronizeValues(),this.dialog.close()},A.prototype.openImageEditor=function(){var C=this,M=(0,h.attr)(this.state.image,"src")||"",T=this.j.c.element("a"),k=function(){T.host===location.host||C.j.confirm("You can only edit your own images. Download this image on the host?",function(P){P&&C.j.uploader&&C.j.uploader.uploadRemoteImage(T.href.toString(),function(D){C.j.alert("The image has been successfully uploaded to the host!",function(){(0,h.isString)(D.newfilename)&&((0,h.attr)(C.state.image,"src",D.baseurl+D.newfilename),C.updateValues())})},function(D){C.j.alert("There was an error loading %s",D.message)})})};T.href=M,this.j.filebrowser.dataProvider.getPathByUrl(T.href.toString()).then(function(P){g.openImageEditor.call(C.j.filebrowser,T.href,P.name,P.path,P.source,function(){var D=new Date().getTime();(0,h.attr)(C.state.image,"src",M+(M.indexOf("?")!==-1?"":"?")+"&_tmp="+D.toString()),C.updateValues()},function(D){C.j.alert(D.message)})}).catch(function(P){C.j.alert(P.message,k)})},A.prototype.openImagePopup=function(C){var M=this,T=new d.Popup(this.j),k=(0,h.refs)(this.form).changeImage;T.setZIndex(this.dialog.getZIndex()+1),T.setContent((0,p.FileSelectorWidget)(this.j,{upload:function(P){P.files&&P.files.length&&(0,h.attr)(M.state.image,"src",P.baseurl+P.files[0]),M.updateValues(),T.close()},filebrowser:function(P){P&&(0,h.isArray)(P.files)&&P.files.length&&((0,h.attr)(M.state.image,"src",P.files[0]),T.close(),M.updateValues())}},this.state.image,T.close)).open(function(){return(0,h.position)(k)}),C.stopPropagation()},A.prototype.afterInit=function(C){var M=this,T=this;C.e.on("afterConstructor changePlace",function(){C.e.off(C.editor,".imageproperties").on(C.editor,"dblclick.imageproperties",function(k){var P=k.target;if(d.Dom.isTag(P,"img"))if(C.o.image.openOnDblClick){if(M.j.e.fire("openOnDblClick",P)===!1)return;T.state.image=P,C.o.readonly||(k.stopImmediatePropagation(),k.preventDefault(),T.open())}else k.stopImmediatePropagation(),C.s.select(P)})}).on("openImageProperties.imageproperties",function(k){M.state.image=k,M.open()})},A.prototype.beforeDestruct=function(C){this.dialog&&this.dialog.destruct(),C.e.off(C.editor,".imageproperties").off(".imageproperties")},u.__decorate([(0,f.watch)("state.marginIsLocked")],A.prototype,"onChangeMarginIsLocked",null),u.__decorate([(0,f.watch)("state.sizeIsLocked")],A.prototype,"onChangeSizeIsLocked",null),u.__decorate([f.autobind],A.prototype,"onApply",null),u.__decorate([f.autobind],A.prototype,"openImageEditor",null),u.__decorate([f.autobind],A.prototype,"openImagePopup",null),A}(d.Plugin);a.imageProperties=S,v.pluginSystem.add("imageProperties",S)},49391:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.form=void 0;var u=s(77904);a.form=function(d){var h=d.o.image,p=h.showPreview,m=h.editSize,f=u.Icon.get.bind(u.Icon);return d.c.fromHTML(`<form class="jodit-properties">
		<div class="jodit-grid jodit-grid_xs-column">
			<div class="jodit_col-lg-2-5 jodit_col-xs-5-5">
				<div class="jodit-properties_view_box">
					<div style="`.concat(p?"":"display:none",`" class="jodit-properties_image_view">
						<img data-ref="imageViewSrc" src="" alt=""/>
					</div>
					<div style="`).concat(m?"":"display:none",`" class="jodit-form__group jodit-properties_image_sizes">
						<input data-ref="imageWidth" type="text" class="jodit-input"/>
						<a data-ref="lockSize" class="jodit-properties__lock">`).concat(f("lock"),`</a>
						<input data-ref="imageHeight" type="text" class="imageHeight jodit-input"/>
					</div>
				</div>
			</div>
			<div data-ref="tabsBox" class="jodit_col-lg-3-5 jodit_col-xs-5-5"></div>
		</div>
	</form>`))}},27506:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.mainTab=void 0;var u=s(77904);a.mainTab=function(d){var h=d.o,p=d.i18n.bind(d),m=u.Icon.get.bind(u.Icon),f=h.filebrowser.ajax.url||h.uploader.url,g=h.image.useImageEditor;return d.c.fromHTML('<div style="'.concat(h.image.editSrc?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Src"),`</label>
			<div class="jodit-input_group">
				<input data-ref="imageSrc" class="jodit-input" type="text"/>
				<div
					class="jodit-input_group-buttons"
					style="`).concat(f?"":"display: none",`"
				>
						<a
							data-ref="changeImage"
							class="jodit-button"
						>`).concat(m("image"),`</a>
						<a
							data-ref="editImage"
							class="jodit-button"
							style="`).concat(g?"":"display: none",`"
						>`).concat(m("crop"),`</a>
				</div>
			</div>
		</div>
		<div style="`).concat(h.image.editTitle?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Title"),`</label>
			<input data-ref="imageTitle" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editAlt?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Alternative"),`</label>
			<input data-ref="imageAlt" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editLink?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Link"),`</label>
			<input data-ref="imageLink" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editLink?"":"display:none",`" class="jodit-form__group">
			<label class="jodit_vertical_middle">
				<input data-ref="imageLinkOpenInNewTab" type="checkbox" class="jodit-checkbox"/>
				<span>`).concat(p("Open link in new tab"),`</span>
			</label>
		</div>`))}},50109:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.positionTab=void 0;var u=s(77904);a.positionTab=function(d){var h=d.o,p=d.i18n.bind(d),m=u.Icon.get.bind(u.Icon),f=[];return h.image.availableClasses.length>0?(f.push('<select data-ref="classes" class="jodit-input jodit-select">'),h.image.availableClasses.forEach(function(g){f.push(typeof g=="string"?'<option value="'.concat(g,'">').concat(g,"</option>"):'<option value="'.concat(g[0],'">').concat(g[1],"</option>"))}),f.push("</select>")):f.push('<input data-ref="classes" type="text" class="jodit-input"/>'),d.c.fromHTML('<div style="'.concat(h.image.editMargins?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Margins"),`</label>
			<div class="jodit-grid jodit_vertical_middle">
				<input class="jodit_col-lg-1-5 jodit-input" data-ref="marginTop" type="text" placeholder="`).concat(p("top"),`"/>
				<a style="text-align: center;" data-ref="lockMargin" class="jodit-properties__lock jodit_col-lg-1-5">`).concat(m("lock"),`</a>
				<input disabled="true" class="jodit_col-lg-1-5 jodit-input" data-ref="marginRight" type="text" placeholder="`).concat(p("right"),`"/>
				<input disabled="true" class="jodit_col-lg-1-5 jodit-input" data-ref="marginBottom" type="text" placeholder="`).concat(p("bottom"),`"/>
				<input disabled="true" class="jodit_col-lg-1-5 jodit-input" data-ref="marginLeft" type="text" placeholder="`).concat(p("left"),`"/>
			</div>
		</div>
		<div
			style="`).concat(h.image.editAlign?"":"display:none",`"
			class="jodit-form__group"
		>
			<label>`).concat(p("Align"),`</label>
			<select data-ref="align" class="jodit-select">
				<option value="">`).concat(p("--Not Set--"),`</option>
				<option value="left">`).concat(p("Left"),`</option>
				<option value="center">`).concat(p("Center"),`</option>
				<option value="right">`).concat(p("Right"),`</option>
			</select>
		</div>
		<div style="`).concat(h.image.editStyle?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Styles"),`</label>
			<input data-ref="style" type="text" class="jodit-input"/>
		</div>
		<div style="`).concat(h.image.editClass?"":"display:none",`" class="jodit-form__group">
			<label>`).concat(p("Classes"),`</label>
			`).concat(f.join(""),`
		</div>
		<div style="`).concat(h.image.editId?"":"display:none",`" class="jodit-form__group">
			<label>Id</label>
			<input data-ref="id" type="text" class="jodit-input"/>
		</div>
		<div
			style="`).concat(h.image.editBorderRadius?"":"display:none",`"
			class="jodit-form__group"
		>
			<label>`).concat(p("Border radius"),`</label>
				<input data-ref="borderRadius" type="number" class="jodit-input"/>
		</div>`))}},67547:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.image=void 0;var u=s(20255),d=s(64968),h=s(40332),p=s(718),m=s(93166),f=s(17332);function g(v){v.registerButton({name:"image",group:"media"})}s(77904).Icon.set("image",s(53477)),m.Config.prototype.controls.image={popup:function(v,x,y,b){var w=null;return x&&!d.Dom.isText(x)&&d.Dom.isHTMLElement(x)&&(d.Dom.isTag(x,"img")||(0,h.$$)("img",x).length)&&(w=d.Dom.isTag(x,"img")?x:(0,h.$$)("img",x)[0]),v.s.save(),(0,p.FileSelectorWidget)(v,{filebrowser:function(_){v.s.restore(),_.files&&_.files.forEach(function(S){return v.s.insertImage(_.baseurl+S,null,v.o.imageDefaultWidth)}),b()},upload:!0,url:function(_,S){return u.__awaiter(void 0,void 0,void 0,function(){var E;return u.__generator(this,function(A){switch(A.label){case 0:return v.s.restore(),/^[a-z\d_-]+(\.[a-z\d_-]+)+/i.test(_)&&(_="//"+_),(E=w||v.createInside.element("img")).setAttribute("src",_),E.setAttribute("alt",S),w?[3,2]:[4,v.s.insertImage(E,null,v.o.imageDefaultWidth)];case 1:A.sent(),A.label=2;case 2:return b(),[2]}})})}},w,b)},tags:["img"],tooltip:"Insert Image"},a.image=g,f.pluginSystem.add("image",g)},2916:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(64968),h=s(77904),p=s(26011);h.Icon.set("indent",s(90053)).set("outdent",s(72230)),u.Config.prototype.controls.indent={tooltip:"Increase Indent"},u.Config.prototype.controls.outdent={isDisabled:function(m){var f=m.s.current();if(f){var g=d.Dom.closest(f,d.Dom.isBlock,m.editor);if(g){var v=(0,p.getKey)(m.o.direction,g);return!g.style[v]||0>=parseInt(g.style[v],10)}}return!0},tooltip:"Decrease Indent"},u.Config.prototype.indentMargin=10},26011:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.getKey=void 0;var u=s(24263);a.getKey=function(d,h){return"".concat(u.Dom.isCell(h)?"padding":"margin").concat(d==="rtl"?"Right":"Left")}},71838:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.indent=void 0;var u=s(86893),d=s(64968),h=s(40332),p=s(17332);s(2916);var m=s(26011);function f(g){g.registerButton({name:"indent",group:"indent"}).registerButton({name:"outdent",group:"indent"});var v=function(x){var y=[];return g.s.eachSelection(function(b){g.s.save();var w=!!b&&d.Dom.up(b,d.Dom.isBlock,g.editor),_=g.o.enter;if(!w&&b&&(w=d.Dom.wrapInline(b,_!==u.BR?_:u.PARAGRAPH,g)),!w)return g.s.restore(),!1;var S=y.includes(w);if(w&&!S){var E=(0,m.getKey)(g.o.direction,w);y.push(w);var A=w.style[E]?parseInt(w.style[E],10):0;w.style[E]=(A+=g.o.indentMargin*(x==="outdent"?-1:1))>0?A+"px":"",(0,h.attr)(w,"style")||(0,h.attr)(w,"style",null)}g.s.restore()}),g.synchronizeValues(),!1};g.registerCommand("indent",{exec:v,hotkeys:["ctrl+]","cmd+]"]}),g.registerCommand("outdent",{exec:v,hotkeys:["ctrl+[","cmd+["]})}a.indent=f,p.pluginSystem.add("indent",f)},70022:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(55692),s(66031),s(91241),s(87565),s(60894),s(90302),s(92138),s(88412),s(79308),s(19268),s(30598),s(33122),s(10135),s(66994),s(54798),s(12908),s(65123),s(83228),s(43889),s(93300),s(67547),s(92575),s(15747),s(71838),s(54752),s(54452),s(46324),s(27738),s(61421),s(27582),s(76303),s(19806),s(52598),s(19483),s(15428),s(47224),s(83211),s(88297),s(72930),s(51197),s(2327),s(47608),s(90523),s(69257),s(14889),s(95323),s(37458),s(71003),s(86030),s(17002),s(1557),s(82808),s(48560),s(32246),s(45842),s(23308),s(19889),s(20728),s(96899),s(18238)},35387:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.toolbarInline=!0,u.Config.prototype.toolbarInlineForSelection=!1,u.Config.prototype.toolbarInlineDisableFor=[],u.Config.prototype.toolbarInlineDisabledButtons=["source"],d.Icon.set("addcolumn",s(78321)).set("addrow",s(77654)).set("merge",s(43371)).set("th",s(52242)).set("splitg",s(44563)).set("splitv",s(53183)).set("th-list",s(18548)),u.Config.prototype.popup={a:s(27487).Z,img:s(97425).default,cells:s(59500).Z,toolbar:s(55350).Z,jodit:s(66686).Z,iframe:s(66686).Z,"jodit-media":s(66686).Z,selection:["bold","underline","italic","ul","ol",`
`,"outdent","indent","fontsize","brush","cut",`
`,"paragraph","link","align","dots"]}},27487:function(c,a,s){var u=s(76502);a.Z=[{name:"eye",tooltip:"Open link",exec:function(d,h){var p=(0,u.attr)(h,"href");h&&p&&d.ow.open(p)}},{name:"link",tooltip:"Edit link",icon:"pencil"},"unlink","brush","file"]},59500:function(c,a,s){var u=s(10172),d=s(26911),h=s(718),p=function(m){return m.args&&(0,u.isString)(m.args[0])?m.args[0].toLowerCase():""};a.Z=[{name:"brush",popup:function(m,f,g,v){if((0,u.isJoditObject)(m)){var x=m.getInstance("Table",m.o).getAllSelectedCells();if(!x.length)return!1;var y=function(b){return(0,h.ColorPickerWidget)(m,function(w){x.forEach(function(_){(0,d.css)(_,b,w)}),m.lock(),m.synchronizeValues(),v(),m.unlock()},(0,d.css)(x[0],b))};return(0,h.TabsWidget)(m,[{name:"Background",content:y("background-color")},{name:"Text",content:y("color")},{name:"Border",content:y("border-color")}])}},tooltip:"Background"},{name:"valign",list:["Top","Middle","Bottom","Normal"],childTemplate:function(m,f,g){return g},exec:function(m,f,g){var v=p(g.control);m.getInstance("Table",m.o).getAllSelectedCells().forEach(function(x){(0,d.css)(x,"vertical-align",v==="normal"?"":v)})},tooltip:"Vertical align"},{name:"splitv",list:{tablesplitv:"Split vertical",tablesplitg:"Split horizontal"},tooltip:"Split"},{name:"align",icon:"left"},`
`,{name:"merge",command:"tablemerge",tooltip:"Merge"},{name:"addcolumn",list:{tableaddcolumnbefore:"Insert column before",tableaddcolumnafter:"Insert column after"},exec:function(m,f,g){var v=g.control;if((0,u.isJoditObject)(m)){var x=p(v);m.execCommand(x,!1,f)}},tooltip:"Add column"},{name:"addrow",list:{tableaddrowbefore:"Insert row above",tableaddrowafter:"Insert row below"},exec:function(m,f,g){var v=g.control;if((0,u.isJoditObject)(m)){var x=p(v);m.execCommand(x,!1,f)}},tooltip:"Add row"},{name:"delete",icon:"bin",list:{tablebin:"Delete table",tablebinrow:"Delete row",tablebincolumn:"Delete column",tableempty:"Empty cell"},exec:function(m,f,g){var v=g.control;if((0,u.isJoditObject)(m)){var x=p(v);m.execCommand(x,!1,f),m.e.fire("hidePopup")}},tooltip:"Delete"}]},66686:function(c,a,s){var u=s(97425);a.Z=[{name:"bin",tooltip:"Delete",exec:function(d,h){h&&d.s.removeNode(h)}},u.align]},97425:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.align=void 0;var u=s(64968),d=s(24421),h=s(26911),p=s(60303);a.align={name:"left",childTemplate:function(m,f,g){return g},list:["Left","Right","Center","Normal"],exec:function(m,f,g){var v=g.control;if(u.Dom.isTag(f,["img","jodit","jodit-media"])){var x=v.args&&(0,d.isString)(v.args[0])?v.args[0].toLowerCase():"";if(!x)return!1;(0,p.hAlignElement)(f,x),u.Dom.isTag(f,["jodit","jodit-media"])&&f.firstElementChild&&(0,p.hAlignElement)(f.firstElementChild,x),m.synchronizeValues(),m.e.fire("recalcPositionPopup")}},tooltip:"Horizontal align"},a.default=[{name:"delete",icon:"bin",tooltip:"Delete",exec:function(m,f){f&&m.s.removeNode(f)}},{name:"pencil",exec:function(m,f){f.tagName.toLowerCase()==="img"&&m.e.fire("openImageProperties",f)},tooltip:"Edit"},{name:"valign",list:["Top","Middle","Bottom","Normal"],tooltip:"Vertical align",exec:function(m,f,g){var v=g.control;if(u.Dom.isTag(f,"img")){var x=v.args&&(0,d.isString)(v.args[0])?v.args[0].toLowerCase():"";if(!x)return!1;(0,h.css)(f,"vertical-align",x==="normal"?"":x),m.e.fire("recalcPositionPopup")}}},a.align]},55350:function(c,a){a.Z=["bold","italic","|","ul","ol","eraser","|","fontsize","brush","paragraph","---","image","table",`
`,"link","|","align","|","undo","redo","|","copyformat","fullsize","---","dots"]},54752:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.inlinePopup=void 0;var u=s(20255);s(45109);var d=s(57549),h=s(81438),p=s(35799),m=s(40332),f=s(64968),g=s(2074),v=s(43441),x=s(17332);s(35387);var y=function(b){function w(){var _=b!==null&&b.apply(this,arguments)||this;return _.requires=["select"],_.type=null,_.popup=new p.Popup(_.jodit,!1),_.toolbar=(0,h.makeCollection)(_.jodit,_.popup),_.snapRange=null,_.elmsList=(0,m.keys)(_.j.o.popup,!1).filter(function(S){return!_.isExcludedTarget(S)}),_}return u.__extends(w,b),w.prototype.onClick=function(_){var S=this,E=this.elmsList,A=f.Dom.isTag(_,"img")?_:f.Dom.closest(_,E,this.j.editor);if(A&&this.canShowPopupForType(A.nodeName.toLowerCase()))return this.showPopup(function(){return(0,m.position)(A,S.j)},A.nodeName.toLowerCase(),A),!1},w.prototype.showPopup=function(_,S,E){if(S=S.toLowerCase(),!this.canShowPopupForType(S))return!1;if(this.type!==S||E!==this.previousTarget){this.previousTarget=E;var A=this.j.o.popup[S],C=void 0;C=(0,m.isFunction)(A)?A(this.j,E,this.popup.close):A,(0,m.isArray)(C)&&(this.toolbar.build(C,E),this.toolbar.buttonSize=this.j.o.toolbarButtonSize,C=this.toolbar.container),this.popup.setContent(C),this.type=S}return this.popup.open(_),!0},w.prototype.hidePopup=function(_){(0,m.isString)(_)&&_!==this.type||this.popup.close()},w.prototype.onOutsideClick=function(){this.popup.close()},w.prototype.canShowPopupForType=function(_){var S=this.j.o.popup[_.toLowerCase()];return!(this.j.o.readonly||!this.j.o.toolbarInline||!S||this.isExcludedTarget(_))},w.prototype.isExcludedTarget=function(_){return(0,m.splitArray)(this.j.o.toolbarInlineDisableFor).map(function(S){return S.toLowerCase()}).includes(_.toLowerCase())},w.prototype.afterInit=function(_){var S=this;this.j.e.on("getDiffButtons.mobile",function(E){if(S.toolbar===E){var A=S.toolbar.getButtonsNames();return(0,m.toArray)(_.registeredButtons).filter(function(C){return!S.j.o.toolbarInlineDisabledButtons.includes(C.name)}).filter(function(C){var M=(0,m.isString)(C)?C:C.name;return M&&M!=="|"&&M!==`
`&&!A.includes(M)})}}).on("hidePopup",this.hidePopup).on("showInlineToolbar",this.showInlineToolbar).on("showPopup",function(E,A,C){S.showPopup(A,C||((0,m.isString)(E)?E:E.nodeName),(0,m.isString)(E)?void 0:E)}).on("mousedown keydown",this.onSelectionStart).on("change",function(){S.popup.isOpened&&S.previousTarget&&!S.previousTarget.parentNode&&(S.hidePopup(),S.previousTarget=void 0)}).on([this.j.ew,this.j.ow],"mouseup keyup",this.onSelectionEnd),this.addListenersForElements()},w.prototype.onSelectionStart=function(){this.snapRange=this.j.s.range.cloneRange()},w.prototype.onSelectionEnd=function(_){if(!(_&&_.target&&g.UIElement.closestElement(_.target,p.Popup))){var S=this.snapRange,E=this.j.s.range;S&&!E.collapsed&&E.startContainer===S.startContainer&&E.startOffset===S.startOffset&&E.endContainer===S.endContainer&&E.endOffset===S.endOffset||this.onSelectionChange()}},w.prototype.onSelectionChange=function(){if(this.j.o.toolbarInlineForSelection){var _="selection",S=this.j.s.sel,E=this.j.s.range;S!=null&&S.isCollapsed||this.isSelectedTarget(E)||this.tableModule.getAllSelectedCells().length?this.type===_&&this.popup.isOpened&&this.hidePopup():this.j.s.current()&&this.showPopup(function(){return E.getBoundingClientRect()},_)}},w.prototype.isSelectedTarget=function(_){var S=_.startContainer;return f.Dom.isElement(S)&&S===_.endContainer&&f.Dom.isTag(S.childNodes[_.startOffset],(0,m.keys)(this.j.o.popup,!1))&&_.startOffset===_.endOffset-1},Object.defineProperty(w.prototype,"tableModule",{get:function(){return this.j.getInstance("Table",this.j.o)},enumerable:!1,configurable:!0}),w.prototype.beforeDestruct=function(_){_.e.off("showPopup").off([this.j.ew,this.j.ow],"mouseup keyup",this.onSelectionEnd),this.removeListenersForElements()},w.prototype._eventsList=function(){var _=this.elmsList;return _.map(function(S){return(0,m.camelCase)("click_".concat(S))}).concat(_.map(function(S){return(0,m.camelCase)("touchstart_".concat(S))})).join(" ")},w.prototype.addListenersForElements=function(){this.j.e.on(this._eventsList(),this.onClick)},w.prototype.removeListenersForElements=function(){this.j.e.off(this._eventsList(),this.onClick)},w.prototype.showInlineToolbar=function(_){var S=this;this.showPopup(function(){return _||S.j.s.range.getBoundingClientRect()},"toolbar")},u.__decorate([v.autobind],w.prototype,"onClick",null),u.__decorate([(0,v.wait)(function(_){return!_.j.isLocked})],w.prototype,"showPopup",null),u.__decorate([(0,v.watch)(":clickEditor"),v.autobind],w.prototype,"hidePopup",null),u.__decorate([(0,v.watch)(":outsideClick")],w.prototype,"onOutsideClick",null),u.__decorate([v.autobind],w.prototype,"onSelectionStart",null),u.__decorate([v.autobind],w.prototype,"onSelectionEnd",null),u.__decorate([(0,v.debounce)(function(_){return _.defaultTimeout})],w.prototype,"onSelectionChange",null),u.__decorate([v.autobind],w.prototype,"showInlineToolbar",null),w}(d.Plugin);a.inlinePopup=y,x.pluginSystem.add("inlinePopup",y)},54452:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.justify=void 0;var u=s(93166),d=s(24263),h=s(26911),p=s(60303),m=s(17332);function f(g){g.registerButton({name:"align",group:"indent"});var v=function(x){return g.s.focus(),g.s.eachSelection(function(y){if(y){var b=d.Dom.up(y,d.Dom.isBlock,g.editor);b||(b=d.Dom.wrapInline(y,g.o.enterBlock,g)),(0,p.alignElement)(x,b)}}),!1};g.registerCommand("justifyfull",v),g.registerCommand("justifyright",v),g.registerCommand("justifyleft",v),g.registerCommand("justifycenter",v)}s(77904).Icon.set("justify",s(87498)),u.Config.prototype.controls.align={name:"left",tooltip:"Align",update:function(g,v){var x=g.control,y=v.s.current();if(y){var b=d.Dom.closest(y,d.Dom.isBlock,v.editor)||v.editor,w=(0,h.css)(b,"text-align").toString();x.defaultValue&&x.defaultValue.indexOf(w)!==-1&&(w="left"),x.data&&x.data.currentValue!==w&&x.list&&x.list.indexOf(w)!==-1&&(v.o.textIcons?g.state.text=w:g.state.icon.name=w,x.data.currentValue=w)}},isActive:function(g,v){var x=g.s.current();if(x&&v.defaultValue){var y=d.Dom.closest(x,d.Dom.isBlock,g.editor)||g.editor;return v.defaultValue.indexOf((0,h.css)(y,"text-align").toString())===-1}return!1},defaultValue:["left","start","inherit"],data:{currentValue:"left"},list:["center","left","right","justify"]},u.Config.prototype.controls.center={command:"justifyCenter",css:{"text-align":"center"},tooltip:"Align Center"},u.Config.prototype.controls.justify={command:"justifyFull",css:{"text-align":"justify"},tooltip:"Align Justify"},u.Config.prototype.controls.left={command:"justifyLeft",css:{"text-align":"left"},tooltip:"Align Left"},u.Config.prototype.controls.right={command:"justifyRight",css:{"text-align":"right"},tooltip:"Align Right"},a.justify=f,m.pluginSystem.add("justify",f)},46324:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.keyArrowOutside=void 0;var u=s(20255),d=s(57549),h=s(43441),p=s(86893),m=s(24263),f=s(17332),g=function(v){function x(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(x,v),x.prototype.afterInit=function(y){},x.prototype.beforeDestruct=function(y){},x.prototype.onKeyDownArrow=function(y){var b;if(y.key===p.KEY_RIGHT&&this.j.selection.isCollapsed()){var w=this.j.selection.range,_=w.endContainer,S=w.endOffset;if(m.Dom.isText(_)&&((b=_.nodeValue)===null||b===void 0?void 0:b.length)===S){var E=_.parentNode;m.Dom.isInlineBlock(E)&&!m.Dom.findNotEmptyNeighbor(E,!1,this.j.editor)&&m.Dom.after(E,this.j.createInside.text(p.NBSP_SPACE))}}},u.__decorate([(0,h.watch)(":keydown")],x.prototype,"onKeyDownArrow",null),x}(d.Plugin);a.keyArrowOutside=g,f.pluginSystem.add("keyArrowOutside",g)},19250:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.limitWords=!1,u.Config.prototype.limitChars=!1,u.Config.prototype.limitHTML=!1},27738:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.limit=void 0;var u=s(20255),d=s(57549),h=s(86893),p=s(43441),m=s(17332);s(19250);var f=function(v){function x(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(x,v),x.prototype.afterInit=function(y){var b=this,w=y.o;if(y&&(w.limitWords||w.limitChars)){var _=null;y.e.off(".limit").on("beforePaste.limit",function(){_=y.history.snapshot.make()}).on("keydown.limit keyup.limit beforeEnter.limit",this.checkPreventKeyPressOrPaste).on("change.limit",this.checkPreventChanging).on("afterPaste.limit",function(){if(b.__shouldDenyInput(!0)&&_)return y.history.snapshot.restore(_),y.e.fire("denyPaste.limit"),!1})}},x.prototype.shouldPreventInsertHTML=function(y){return(!y||!(h.COMMAND_KEYS.includes(y.key)||y.ctrlKey||y.metaKey))&&this.__shouldDenyInput(!1)},x.prototype.__shouldDenyInput=function(y){var b=this.jodit,w=b.o,_=w.limitWords,S=w.limitChars,E=this.__splitWords(b.o.limitHTML?b.value:b.text);if(_&&g(E.length,_,y))return b.e.fire("denyWords.limit limit.limit"),!0;var A=!!(S&&g(E.join("").length,S,y));return A&&b.e.fire("denyChars.limit limit.limit"),A},x.prototype.checkPreventKeyPressOrPaste=function(y){if(this.shouldPreventInsertHTML(y))return!1},x.prototype.checkPreventChanging=function(y,b){var w=this.jodit;this.__shouldDenyInput(!0)&&(w.value=b)},x.prototype.__splitWords=function(y){return y.replace((0,h.INVISIBLE_SPACE_REG_EXP)(),"").split((0,h.SPACE_REG_EXP)()).filter(function(b){return b.length})},x.prototype.beforeDestruct=function(y){y.e.off(".limit")},u.__decorate([p.autobind],x.prototype,"checkPreventKeyPressOrPaste",null),u.__decorate([p.autobind],x.prototype,"checkPreventChanging",null),x}(d.Plugin);function g(v,x,y){return y?v>x:v>=x}a.limit=f,m.pluginSystem.add("limit",f)},29490:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(40332),h=s(77904);u.Config.prototype.defaultLineHeight=null,h.Icon.set("line-height",s(7986)),u.Config.prototype.controls.lineHeight={command:"applyLineHeight",tags:["ol"],tooltip:"Line height",list:[1,1.1,1.2,1.3,1.4,1.5,2],exec:function(p,m,f){return(0,d.memorizeExec)(p,m,{control:f.control},function(g){return g})}}},26752:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.zh_tw=a.zh_cn=a.tr=a.ru=a.pt_br=a.pl=a.nl=a.mn=a.ko=a.ja=a.it=a.id=a.hu=a.he=a.fr=a.fa=a.es=a.de=a.cs_cz=a.ar=void 0;var u=s(47762);a.ar=u;var d=s(97495);a.cs_cz=d;var h=s(80131);a.de=h;var p=s(1201);a.es=p;var m=s(89912);a.fa=m;var f=s(3405);a.fr=f;var g=s(14129);a.he=g;var v=s(93729);a.hu=v;var x=s(16106);a.id=x;var y=s(89690);a.it=y;var b=s(33216);a.ja=b;var w=s(17282);a.ko=w;var _=s(52841);a.mn=_;var S=s(91761);a.nl=S;var E=s(61675);a.pl=E;var A=s(69709);a.pt_br=A;var C=s(82591);a.ru=C;var M=s(87649);a.tr=M;var T=s(60268);a.zh_cn=T;var k=s(58214);a.zh_tw=k},61421:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.lineHeight=void 0;var u=s(20255),d=s(57549),h=s(40332),p=s(43441),m=s(24263),f=s(17332);s(29490);var g=function(v){function x(y){var b=v.call(this,y)||this;return b.buttons=[{name:"lineHeight",group:"font"}],(0,f.extendLang)(s(26752)),b}return u.__extends(x,v),x.prototype.afterInit=function(y){(0,h.css)(y.editor,{lineHeight:y.o.defaultLineHeight}),y.registerCommand("applyLineHeight",this.applyLineHeight)},x.prototype.applyLineHeight=function(y,b,w){var _,S=this.j,E=S.s,A=S.createInside,C=S.editor,M=S.o;E.isFocused()||E.focus(),E.save();var T=function(P){var D=m.Dom.closest(P,m.Dom.isBlock,C);D||(D=m.Dom.wrap(P,M.enter,A));var I=(0,h.css)(D,"lineHeight");_===void 0&&(_=I.toString()!==w.toString()),(0,h.css)(D,"lineHeight",_?w:null)};try{if(E.isCollapsed()){var k=A.fake();E.insertNode(k,!1,!1),T(k),m.Dom.safeRemove(k)}else E.eachSelection(T)}finally{E.restore()}},x.prototype.beforeDestruct=function(y){(0,h.css)(y.editor,{lineHeight:null})},u.__decorate([p.autobind],x.prototype,"applyLineHeight",null),x}(d.Plugin);a.lineHeight=g,f.pluginSystem.add("lineHeight",g)},56367:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(54238),h=s(24263),p=s(77904);u.Config.prototype.link={formTemplate:d.formTemplate,followOnDblClick:!1,processVideoLink:!0,processPastedLink:!0,noFollowCheckbox:!0,openInNewTabCheckbox:!0,modeClassName:"input",selectMultipleClassName:!0,selectSizeClassName:3,selectOptionsClassName:[],hotkeys:["ctrl+k","cmd+k"]},p.Icon.set("link",s(23075)).set("unlink",s(10655)),u.Config.prototype.controls.unlink={exec:function(m,f){var g=h.Dom.closest(f,"a",m.editor);g&&h.Dom.unwrap(g),m.synchronizeValues(),m.e.fire("hidePopup")},tooltip:"Unlink"},u.Config.prototype.controls.link={isActive:function(m){var f=m.s.current();return!!(f&&h.Dom.closest(f,"a",m.editor))},popup:function(m,f,g,v){return m.e.fire("generateLinkForm.link",f,v)},tags:["a"],tooltip:"Insert link"}},27582:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.link=void 0;var u=s(20255),d=s(64968),h=s(40332),p=s(57549),m=s(43441),f=s(17332);s(56367);var g=function(v){function x(){var y=v!==null&&v.apply(this,arguments)||this;return y.buttons=[{name:"link",group:"insert"}],y}return u.__extends(x,v),x.prototype.afterInit=function(y){var b=this;y.o.link.followOnDblClick&&y.e.on("dblclick.link",this.onDblClickOnLink),y.o.link.processPastedLink&&y.e.on("processPaste.link",this.onProcessPasteLink),y.e.on("generateLinkForm.link",this.__generateForm),y.registerCommand("openLinkDialog",{exec:function(){var w=y.dlg({resizable:!1}),_=b.__generateForm(y.s.current(),function(){w.close()});_.container.classList.add("jodit-dialog_alert"),w.setContent(_),w.open(),y.async.requestIdleCallback(function(){var S=(0,h.refs)(_.container).url_input;S==null||S.focus()})},hotkeys:y.o.link.hotkeys})},x.prototype.onDblClickOnLink=function(y){if(d.Dom.isTag(y.target,"a")){var b=(0,h.attr)(y.target,"href");b&&(location.href=b,y.preventDefault())}},x.prototype.onProcessPasteLink=function(y,b){var w=this.jodit;if((0,h.isURL)(b)&&w.o.link.processPastedLink){if(w.e.stopPropagation("processPaste"),w.o.link.processVideoLink){var _=(0,h.convertMediaUrlToVideoEmbed)(b);if(_!==b)return w.createInside.fromHTML(_)}if(w.s.isCollapsed()){var S=w.createInside.element("a");return S.setAttribute("href",b),S.textContent=b,w.e.fire("applyLink",w,S,null),S}return w.s.applyStyle(void 0,{element:"a",attributes:{href:b}}),!0}},x.prototype.__generateForm=function(y,b){var w,_=this.jodit,S=_.i18n.bind(_),E=_.o.link,A=E.openInNewTabCheckbox,C=E.noFollowCheckbox,M=E.formClassName,T=E.modeClassName,k=(0,E.formTemplate)(_),P=(0,h.isString)(k)?_.c.fromHTML(k,{target_checkbox_box:A,nofollow_checkbox_box:C}):k,D=d.Dom.isElement(P)?P:P.container,I=(0,h.refs)(D),O=I.insert,j=I.unlink,N=I.content_input_box,R=I.target_checkbox,F=I.nofollow_checkbox,U=I.url_input,B=d.Dom.isImage(y),H=I.content_input,X=I.className_input,G=I.className_select;H||(H=_.c.element("input",{type:"hidden",ref:"content_input"})),M&&D.classList.add(M),B&&d.Dom.hide(N);var Z=function(){return w?w.innerText:(0,h.stripTags)(_.s.range.cloneContents(),_.ed)};if(w=!(!y||!d.Dom.closest(y,"a",_.editor))&&d.Dom.closest(y,"a",_.editor),!B&&y&&(H.value=Z()),w){if(U.value=(0,h.attr)(w,"href")||"",T)switch(T){case"input":X&&(X.value=(0,h.attr)(w,"class")||"");break;case"select":if(G){for(var J=0;G.selectedOptions.length>J;J++){var ee=G.options.item(J);ee&&(ee.selected=!1)}((0,h.attr)(w,"class")||"").split(" ").forEach(function(Q){if(Q)for(var ie=0;G.options.length>ie;ie++){var le=G.options.item(ie);le!=null&&le.value&&le.value===Q&&(le.selected=!0)}})}}A&&R&&(R.checked=(0,h.attr)(w,"target")==="_blank"),C&&F&&(F.checked=(0,h.attr)(w,"rel")==="nofollow"),O.textContent=S("Update")}else d.Dom.hide(j);_.editor.normalize();var q=_.history.snapshot.make();j&&_.e.on(j,"click",function(Q){_.s.restore(),_.history.snapshot.restore(q),w&&d.Dom.unwrap(w),_.synchronizeValues(),b(),Q.preventDefault()});var Y=function(){if(!U.value.trim().length)return U.focus(),U.classList.add("jodit_error"),!1;var Q;_.s.restore(),_.s.removeMarkers(),_.editor.normalize(),_.history.snapshot.restore(q);var ie=Z()!==H.value.trim(),le=_.createInside;if(w)Q=[w];else{if(_.s.isCollapsed()){var de=le.element("a");_.s.insertNode(de,!1,!1),Q=[de]}else{var De=_.s.current();Q=d.Dom.isTag(De,["img"])?[d.Dom.wrap(De,"a",le)]:_.s.wrapInTag("a")}Q.forEach(function(Me){return _.s.select(Me)})}return Q.forEach(function(Me){var Ee;if((0,h.attr)(Me,"href",U.value),T&&(X??G)){if(T==="input")X.value===""&&Me.hasAttribute("class")&&(0,h.attr)(Me,"class",null),X.value!==""&&(0,h.attr)(Me,"class",X.value);else if(T==="select"){Me.hasAttribute("class")&&(0,h.attr)(Me,"class",null);for(var Te=0;G.selectedOptions.length>Te;Te++){var $e=(Ee=G.selectedOptions.item(Te))===null||Ee===void 0?void 0:Ee.value;$e&&Me.classList.add($e)}}}if(!B){var ze=Me.textContent;H.value.trim().length?ie&&(ze=H.value):ze=U.value,ze!==Me.textContent&&(Me.textContent=ze)}A&&R&&(0,h.attr)(Me,"target",R.checked?"_blank":null),C&&F&&(0,h.attr)(Me,"rel",F.checked?"nofollow":null),_.e.fire("applyLink",_,Me,P)}),_.synchronizeValues(),b(),!1};return d.Dom.isElement(P)?_.e.on(P,"submit",function(Q){return Q.preventDefault(),Q.stopImmediatePropagation(),Y(),!1}):P.onSubmit(Y),P},x.prototype.beforeDestruct=function(y){y.e.off("generateLinkForm.link",this.__generateForm).off("dblclick.link",this.onDblClickOnLink).off("processPaste.link",this.onProcessPasteLink)},u.__decorate([m.autobind],x.prototype,"onDblClickOnLink",null),u.__decorate([m.autobind],x.prototype,"onProcessPasteLink",null),u.__decorate([m.autobind],x.prototype,"__generateForm",null),x}(p.Plugin);a.link=g,f.pluginSystem.add("link",g)},54238:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.formTemplate=void 0;var u=s(95963),d=s(96516);a.formTemplate=function(h){var p=h.o.link,m=p.openInNewTabCheckbox,f=p.noFollowCheckbox,g=p.modeClassName,v=p.selectSizeClassName,x=p.selectMultipleClassName,y=p.selectOptionsClassName;return new u.UIForm(h,[new u.UIBlock(h,[new u.UIInput(h,{name:"url",type:"text",ref:"url_input",label:"URL",placeholder:"http://",required:!0})]),new u.UIBlock(h,[new u.UIInput(h,{name:"content",ref:"content_input",label:"Text"})],{ref:"content_input_box"}),g?new u.UIBlock(h,[g==="input"?new u.UIInput(h,{name:"className",ref:"className_input",label:"Class name"}):g==="select"?new u.UISelect(h,{name:"className",ref:"className_select",label:"Class name",size:v,multiple:x,options:y}):null]):null,m?new u.UICheckbox(h,{name:"target",ref:"target_checkbox",label:"Open in new tab"}):null,f?new u.UICheckbox(h,{name:"nofollow",ref:"nofollow_checkbox",label:"No follow"}):null,new u.UIBlock(h,[new d.UIButton(h,{name:"unlink",variant:"default",text:"Unlink"}),new d.UIButton(h,{name:"insert",type:"submit",variant:"primary",text:"Insert"})],{align:"full"})])}},11737:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.mediaFakeTag="jodit-media",u.Config.prototype.mediaInFakeBlock=!0,u.Config.prototype.mediaBlocks=["video","audio"]},76303:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.media=void 0;var u=s(86893),d=s(76502),h=s(17332);function p(m){var f="jodit_fake_wrapper",g=m.options,v=g.mediaFakeTag,x=g.mediaBlocks;g.mediaInFakeBlock&&m.e.on("afterGetValueFromEditor",function(y){var b=new RegExp("<".concat(v,"[^>]+data-").concat(f,"[^>]+>([^]+?)</").concat(v,">"),"ig");b.test(y.value)&&(y.value=y.value.replace(b,"$1"))}).on("change afterInit afterSetMode changePlace",m.async.debounce(function(){m.isDestructed||m.getMode()===u.MODE_SOURCE||(0,d.$$)(x.join(","),m.editor).forEach(function(y){(0,d.dataBind)(y,f)||((0,d.dataBind)(y,f,!0),function(b){var w;if(b.parentNode&&(0,d.attr)(b.parentNode,"data-jodit_iframe_wrapper"))b=b.parentNode;else{var _=m.createInside.element(v,((w={"data-jodit-temp":1,contenteditable:!1,draggable:!0})["data-".concat(f)]=1,w));(0,d.attr)(_,"style",(0,d.attr)(b,"style")),_.style.display=b.style.display==="inline-block"?"inline-block":"block",_.style.width=b.offsetWidth+"px",_.style.height=b.offsetHeight+"px",b.parentNode&&b.parentNode.insertBefore(_,b),_.appendChild(b),b=_}m.e.off(b,"mousedown.select touchstart.select").on(b,"mousedown.select touchstart.select",function(){m.s.setCursorAfter(b)})}(y))})},m.defaultTimeout))}s(11737),a.media=p,h.pluginSystem.add("media",p)},8860:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(86893),h=s(81438),p=s(40332),m=s(72719);u.Config.prototype.mobileTapTimeout=300,u.Config.prototype.toolbarAdaptive=!0,u.Config.prototype.controls.dots={mode:d.MODE_SOURCE+d.MODE_WYSIWYG,popup:function(f,g,v,x,y){var b=v.data;return b===void 0&&(b={toolbar:(0,h.makeCollection)(f),rebuild:function(){var w;if(y){var _=f.e.fire("getDiffButtons.mobile",y.closest(m.ToolbarCollection));if(_&&b){b.toolbar.build((0,p.splitArray)(_));var S=((w=f.toolbar.firstButton)===null||w===void 0?void 0:w.container.offsetWidth)||36;b.toolbar.container.style.width=3*(S+4)+"px"}}}},v.data=b),b.rebuild(),b.toolbar},tooltip:"Show all"}},19806:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.mobile=void 0;var u=s(40332),d=s(97642),h=s(17332);function p(m){var f=0,g=(0,u.splitArray)(m.o.buttons);m.o.mobileTapTimeout&&m.e.on("touchend",function(v){if(v.changedTouches&&v.changedTouches.length){var x=new Date().getTime(),y=x-f;y>m.o.mobileTapTimeout&&(f=x,1.5*m.o.mobileTapTimeout>y&&m.s.insertCursorAtPoint(v.clientX,v.clientY))}}),m.e.on("getDiffButtons.mobile",function(v){if(v===m.toolbar){var x=(0,d.flatButtonsSet)((0,u.splitArray)(m.o.buttons),m),y=(0,d.flatButtonsSet)(g,m);return(0,u.toArray)(x).reduce(function(b,w){return y.has(w)||b.push(w),b},[])}}),m.o.toolbarAdaptive&&m.e.on("resize afterInit recalcAdaptive changePlace afterAddPlace",function(){var v;if(m.o.toolbar){var x=((v=m.container.parentElement)!==null&&v!==void 0?v:m.container).offsetWidth,y=(0,u.splitArray)(m.isFullSize||x>=m.o.sizeLG?m.o.buttons:m.o.sizeMD>x?m.o.sizeSM>x?m.o.buttonsXS:m.o.buttonsSM:m.o.buttonsMD);y.toString()!==g.toString()&&(g=y,m.e.fire("closeAllPopups"),m.toolbar.setRemoveButtons(m.o.removeButtons).build(g.concat(m.o.extraButtons)))}}).on(m.ow,"load resize",function(){return m.e.fire("recalcAdaptive")})}s(8860),a.mobile=p,h.pluginSystem.add("mobile",p)},73013:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(63122),h=function(p,m,f){var g,v=f.control,x="button".concat(v.command),y=(g=v.args&&v.args[0])!==null&&g!==void 0?g:(0,d.dataBind)(p,x);(0,d.dataBind)(p,x,y),p.execCommand(v.command,!1,y==="default"?null:y)};s(77904).Icon.set("ol",s(15476)).set("ul",s(59403)),u.Config.prototype.controls.ul={command:"insertUnorderedList",tags:["ul"],tooltip:"Insert Unordered List",list:{default:"Default",circle:"Circle",disc:"Dot",square:"Quadrate"},exec:h},u.Config.prototype.controls.ol={command:"insertOrderedList",tags:["ol"],tooltip:"Insert Ordered List",list:{default:"Default","lower-alpha":"Lower Alpha","lower-greek":"Lower Greek","lower-roman":"Lower Roman","upper-alpha":"Upper Alpha","upper-roman":"Upper Roman"},exec:h}},52598:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.orderedList=void 0;var u=s(20255),d=s(57549),h=s(43441),p=s(17332);s(73013);var m=function(f){function g(){var v=f!==null&&f.apply(this,arguments)||this;return v.buttons=[{name:"ul",group:"list"},{name:"ol",group:"list"}],v}return u.__extends(g,f),g.prototype.afterInit=function(v){v.registerCommand("insertUnorderedList",this.onCommand).registerCommand("insertOrderedList",this.onCommand)},g.prototype.onCommand=function(v,x,y){return this.jodit.s.applyStyle({listStyleType:y??null},{element:v==="insertunorderedlist"?"ul":"ol"}),this.jodit.synchronizeValues(),!1},g.prototype.beforeDestruct=function(v){},u.__decorate([h.autobind],g.prototype,"onCommand",null),g}(d.Plugin);a.orderedList=m,p.pluginSystem.add("orderedList",m)},47470:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(86893);u.Config.prototype.askBeforePasteFromWord=!0,u.Config.prototype.processPasteFromWord=!0,u.Config.prototype.defaultActionOnPasteFromWord=null,u.Config.prototype.pasteFromWordActionList=[{value:d.INSERT_AS_HTML,text:"Keep"},{value:d.INSERT_AS_TEXT,text:"Clean"},{value:d.INSERT_ONLY_TEXT,text:"Insert only Text"}]},15428:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.pasteFromWord=void 0;var u=s(20255),d=s(57549),h=s(40332),p=s(86893),m=s(43441),f=s(64280),g=s(17332);s(47470);var v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.requires=["paste"],b}return u.__extends(y,x),y.prototype.afterInit=function(b){},y.prototype.beforeDestruct=function(b){},y.prototype.processWordHTML=function(b,w,_){var S=this,E=this.j,A=E.o,C=A.askBeforePasteFromWord,M=A.defaultActionOnPasteFromWord,T=A.defaultActionOnPaste,k=A.pasteFromWordActionList;return!(!A.processPasteFromWord||!(0,h.isHtmlFromWord)(w)||(C?(0,f.askInsertTypeDialog)(E,"The pasted content is coming from a Microsoft Word/Excel document. Do you want to keep the format or clean it up?","Word Paste Detected",function(P){S.insertFromWordByType(b,w,P,_)},k):this.insertFromWordByType(b,w,M||T,_),0))},y.prototype.insertFromWordByType=function(b,w,_,S){var E;switch(_){case p.INSERT_AS_HTML:w=(0,h.applyStyles)(w);var A=(E=this.j.events)===null||E===void 0?void 0:E.fire("beautifyHTML",w);(0,h.isString)(A)&&(w=A);break;case p.INSERT_AS_TEXT:w=(0,h.cleanFromWord)(w);break;case p.INSERT_ONLY_TEXT:w=(0,h.stripTags)((0,h.cleanFromWord)(w))}(0,f.pasteInsertHtml)(b,this.j,w)},u.__decorate([(0,m.watch)(":processHTML")],y.prototype,"processWordHTML",null),y}(d.Plugin);a.pasteFromWord=v,g.pluginSystem.add("pasteFromWord",v)},47224:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.pasteStorage=void 0;var u=s(20255);s(71708);var d=s(86893),h=s(85605),p=s(24263),m=s(40332),f=s(96031),g=s(17332),v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.currentIndex=0,b.list=[],b.container=null,b.listBox=null,b.previewBox=null,b.dialog=null,b.paste=function(){if(b.j.s.focus(),b.j.s.insertHTML(b.list[b.currentIndex]),b.currentIndex!==0){var w=b.list[0];b.list[0]=b.list[b.currentIndex],b.list[b.currentIndex]=w}b.dialog&&b.dialog.close(),b.j.synchronizeValues(),b.j.e.fire("afterPaste")},b.onKeyDown=function(w){var _=b.currentIndex;[d.KEY_UP,d.KEY_DOWN,d.KEY_ENTER].indexOf(w.key)!==-1&&(w.key===d.KEY_UP&&(_===0?_=b.list.length-1:_-=1),w.key===d.KEY_DOWN&&(_===b.list.length-1?_=0:_+=1),w.key!==d.KEY_ENTER?(_!==b.currentIndex&&b.selectIndex(_),w.stopImmediatePropagation(),w.preventDefault()):b.paste())},b.selectIndex=function(w){b.listBox&&(0,m.toArray)(b.listBox.childNodes).forEach(function(_,S){_.classList.remove("jodit_active"),w===S&&b.previewBox&&(_.classList.add("jodit_active"),b.previewBox.innerHTML=b.list[w],_.focus())}),b.currentIndex=w},b.showDialog=function(){2>b.list.length||(b.dialog||b.createDialog(),b.listBox&&(b.listBox.innerHTML=""),b.previewBox&&(b.previewBox.innerHTML=""),b.list.forEach(function(w,_){var S=b.j.c.element("a");S.textContent=_+1+". "+w.replace((0,d.SPACE_REG_EXP)(),""),b.j.e.on(S,"keydown",b.onKeyDown),(0,m.attr)(S,"href","#"),(0,m.attr)(S,"data-index",_.toString()),(0,m.attr)(S,"tab-index","-1"),b.listBox&&b.listBox.appendChild(S)}),b.dialog&&b.dialog.open(),b.j.async.setTimeout(function(){b.selectIndex(0)},100))},b}return u.__extends(y,x),y.prototype.createDialog=function(){var b=this;this.dialog=this.j.dlg();var w=(0,f.Button)(this.j,"paste","Paste","primary");w.onAction(this.paste);var _=(0,f.Button)(this.j,"","Cancel");_.onAction(this.dialog.close),this.container=this.j.c.div(),this.container.classList.add("jodit-paste-storage"),this.listBox=this.j.c.div(),this.previewBox=this.j.c.div(),this.container.appendChild(this.listBox),this.container.appendChild(this.previewBox),this.dialog.setHeader(this.j.i18n("Choose Content to Paste")),this.dialog.setContent(this.container),this.dialog.setFooter([w,_]),this.j.e.on(this.listBox,"click dblclick",function(S){var E=S.target;return p.Dom.isTag(E,"a")&&E.hasAttribute("data-index")&&b.selectIndex(parseInt((0,m.attr)(E,"-index")||"0",10)),S.type==="dblclick"&&b.paste(),!1})},y.prototype.afterInit=function(){var b=this;this.j.e.off("afterCopy.paste-storage").on("pasteStorageList.paste-storage",function(){return b.list.length}).on("afterCopy.paste-storage",function(w){b.list.indexOf(w)!==-1&&b.list.splice(b.list.indexOf(w),1),b.list.unshift(w),b.list.length>5&&(b.list.length=5)}),this.j.registerCommand("showPasteStorage",{exec:this.showDialog,hotkeys:["ctrl+shift+v","cmd+shift+v"]})},y.prototype.beforeDestruct=function(){this.dialog&&this.dialog.destruct(),this.j.e.off(".paste-storage"),p.Dom.safeRemove(this.previewBox),p.Dom.safeRemove(this.listBox),p.Dom.safeRemove(this.container),this.container=null,this.listBox=null,this.previewBox=null,this.dialog=null,this.list=[]},y}(h.Plugin);a.pasteStorage=v,g.pluginSystem.add("pasteStorage",v)},24703:function(c,a,s){var u;Object.defineProperty(a,"__esModule",{value:!0});var d=s(20255),h=s(86893),p=s(93166),m=s(64280);p.Config.prototype.askBeforePasteHTML=!0,p.Config.prototype.processPasteHTML=!0,p.Config.prototype.pasteHTMLActionList=[{value:h.INSERT_AS_HTML,text:"Keep"},{value:h.INSERT_AS_TEXT,text:"Insert as Text"},{value:h.INSERT_ONLY_TEXT,text:"Insert only Text"}],p.Config.prototype.memorizeChoiceWhenPasteFragment=!1,p.Config.prototype.nl2brInPlainText=!0;var f="pasteStorage";p.Config.prototype.controls.paste={tooltip:"Paste from clipboard",exec:function(g,v,x){var y=x.control;return d.__awaiter(this,void 0,void 0,function(){var b,w,_,S,E;return d.__generator(this,function(A){switch(A.label){case 0:if(y.name===f)return g.execCommand("showPasteStorage"),[2];if(g.s.focus(),b="",w=!0,!navigator.clipboard)return[3,11];A.label=1;case 1:return A.trys.push([1,6,,7]),[4,navigator.clipboard.read()];case 2:return(_=A.sent())&&_.length?[4,_[0].getType(h.TEXT_PLAIN)]:[3,5];case 3:return S=A.sent(),[4,new Response(S).text()];case 4:b=A.sent(),A.label=5;case 5:return w=!1,[3,7];case 6:return A.sent(),[3,7];case 7:if(!w)return[3,11];A.label=8;case 8:return A.trys.push([8,10,,11]),[4,navigator.clipboard.readText()];case 9:return b=A.sent(),w=!1,[3,11];case 10:return A.sent(),[3,11];case 11:return w&&(b=g.buffer.get(h.CLIPBOARD_ID)||"",w=b.length===0),E=g.value,w?(g.ed.execCommand("paste"),!(w=E===g.value)&&g.e.fire("afterPaste")):b.length?((0,m.pasteInsertHtml)(null,g,b),g.e.fire("afterPaste")):w&&g.alert("Your browser doesn't support direct access to the clipboard.",function(){g.s.focus()}),[2]}})})},list:(u={},u[f]="Paste Storage",u),isChildDisabled:function(g){return 2>g.e.fire("pasteStorageList")}}},64280:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.askInsertTypeDialog=a.getAllTypes=a.pasteInsertHtml=void 0;var u=s(20255),d=s(10172),h=s(24263),p=s(86893),m=s(96031);a.pasteInsertHtml=function(f,g,v){if(!g.isInDestruct){(function(y){return!!(y&&y.type==="drop")})(f)&&g.s.insertCursorAtPoint(f.clientX,f.clientY);var x=g.e.fire("beforePasteInsert",v);!(0,d.isVoid)(x)&&((0,d.isString)(x)||(0,d.isNumber)(x)||h.Dom.isNode(x))&&(v=x),(0,d.isString)(v)&&(v=function(y){var b=(y=y.replace(/<meta[^>]+?>/g,"")).search(/<!--StartFragment-->/i);b!==-1&&(y=y.substring(b+20));var w=y.search(/<!--EndFragment-->/i);return w!==-1&&(y=y.substring(0,w)),y}(v)),g.s.insertHTML(v)}},a.getAllTypes=function(f){var g=f.types,v="";if((0,d.isArray)(g)||{}.toString.call(g)==="[object DOMStringList]")for(var x=0;g.length>x;x+=1)v+=g[x]+";";else v=(g||p.TEXT_PLAIN).toString()+";";return v},a.askInsertTypeDialog=function(f,g,v,x,y){if(f.e.fire("beforeOpenPasteDialog",g,v,x,y)!==!1){var b=f.confirm('<div style="word-break: normal; white-space: normal">'.concat(f.i18n(g),"</div>"),f.i18n(v)),w=y.map(function(S){var E=S.text,A=S.value;return(0,m.Button)(f,{text:E,name:E.toLowerCase(),tabIndex:0}).onAction(function(){b.close(),x(A)})});b.e.one(b,"afterClose",function(){f.s.isFocused()||f.s.focus()});var _=(0,m.Button)(f,{text:"Cancel",tabIndex:0}).onAction(function(){b.close()});return b.setFooter(u.__spreadArray(u.__spreadArray([],u.__read(w),!1),[_],!1)),w[0].focus(),w[0].state.variant="primary",f.e.fire("afterOpenPasteDialog",b,g,v,x,y),b}}},19483:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.paste=void 0;var u=s(20255),d=s(85605),h=s(86893),p=s(24263),m=s(43441),f=s(40332),g=s(17332),v=s(64280);s(24703);var x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.pasteStack=new f.LimitedStack(20),w._isDialogOpened=!1,w}return u.__extends(b,y),b.prototype.afterInit=function(w){var _=this;w.e.on("paste.paste",this.onPaste).on("pasteStack.paste",function(S){return _.pasteStack.push(S)}),w.o.nl2brInPlainText&&this.j.e.on("processPaste.paste",this.onProcessPasteReplaceNl2Br)},b.prototype.beforeDestruct=function(w){w.e.off("paste.paste",this.onPaste).off("processPaste.paste",this.onProcessPasteReplaceNl2Br).off(".paste")},b.prototype.onPaste=function(w){try{if(this.customPasteProcess(w)===!1||this.j.e.fire("beforePaste",w)===!1)return w.preventDefault(),!1;this.defaultPasteProcess(w)}finally{this.j.e.fire("afterPaste",w)}},b.prototype.customPasteProcess=function(w){if(this.j.o.processPasteHTML){var _,S=(0,f.getDataTransfer)(w),E={html:S==null?void 0:S.getData(h.TEXT_HTML),plain:S==null?void 0:S.getData(h.TEXT_PLAIN),rtf:S==null?void 0:S.getData(h.TEXT_RTF)};for(_ in E){var A=E[_];if((0,f.isHTML)(A)&&(this.j.e.fire("processHTML",w,A,E)||this.processHTML(w,A)))return!1}}},b.prototype.defaultPasteProcess=function(w){var _=(0,f.getDataTransfer)(w),S=(_==null?void 0:_.getData(h.TEXT_HTML))||(_==null?void 0:_.getData(h.TEXT_PLAIN));if(_&&S&&(0,f.trim)(S)!==""){var E=this.j.e.fire("processPaste",w,S,(0,v.getAllTypes)(_));E!==void 0&&(S=E),((0,f.isString)(S)||p.Dom.isNode(S))&&this.insertByType(w,S,this.j.o.defaultActionOnPaste),w.preventDefault(),w.stopPropagation()}},b.prototype.processHTML=function(w,_){var S=this;if(this.j.o.askBeforePasteHTML){if(this.j.o.memorizeChoiceWhenPasteFragment){var E=this.pasteStack.find(function(C){return C.html===_});if(E)return this.insertByType(w,_,E.action||this.j.o.defaultActionOnPaste),!0}if(this._isDialogOpened)return!0;var A=(0,v.askInsertTypeDialog)(this.j,"Your code is similar to HTML. Keep as HTML?","Paste as HTML",function(C){S._isDialogOpened=!1,S.insertByType(w,_,C)},this.j.o.pasteHTMLActionList);return A&&(this._isDialogOpened=!0,A.e.on("beforeClose",function(){S._isDialogOpened=!1})),!0}return!1},b.prototype.insertByType=function(w,_,S){if(this.pasteStack.push({html:_,action:S}),(0,f.isString)(_))switch(this.j.buffer.set(h.CLIPBOARD_ID,_),S){case h.INSERT_CLEAR_HTML:_=(0,f.cleanFromWord)(_);break;case h.INSERT_ONLY_TEXT:_=(0,f.stripTags)(_);break;case h.INSERT_AS_TEXT:_=(0,f.htmlspecialchars)(_)}(0,v.pasteInsertHtml)(w,this.j,_)},b.prototype.onProcessPasteReplaceNl2Br=function(w,_,S){if(S===h.TEXT_PLAIN+";"&&!(0,f.isHTML)(_))return(0,f.nl2br)(_)},u.__decorate([m.autobind],b.prototype,"onPaste",null),u.__decorate([m.autobind],b.prototype,"onProcessPasteReplaceNl2Br",null),b}(d.Plugin);a.paste=x,g.pluginSystem.add("paste",x)},76952:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.showPlaceholder=!0,u.Config.prototype.placeholder="Type something",u.Config.prototype.useInputsPlaceholder=!0},83211:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.placeholder=a.isEditorEmpty=void 0;var u=s(20255);s(51629);var d=s(86893),h=s(67309),p=s(26911),m=s(37204),f=s(24263),g=s(85605),v=s(86893),x=s(43441),y=s(17332);function b(_){var S;if(!_.firstChild)return!0;var E=_.firstChild;if(v.INSEPARABLE_TAGS.has((S=E.nodeName)===null||S===void 0?void 0:S.toLowerCase())||/^(TABLE)$/i.test(E.nodeName))return!1;var A=f.Dom.next(E,function(C){return C&&!f.Dom.isEmptyTextNode(C)},_);return f.Dom.isText(E)&&!A?f.Dom.isEmptyTextNode(E):!A&&f.Dom.each(E,function(C){return!f.Dom.isTag(C,["ul","li","ol"])&&(f.Dom.isEmpty(C)||f.Dom.isTag(C,"br"))})}s(76952),a.isEditorEmpty=b;var w=function(_){function S(){var E=_!==null&&_.apply(this,arguments)||this;return E.addNativeListeners=function(){E.j.e.off(E.j.editor,"input.placeholder keydown.placeholder").on(E.j.editor,"input.placeholder keydown.placeholder",E.toggle)},E.addEvents=function(){var A=E.j;A.o.useInputsPlaceholder&&A.element.hasAttribute("placeholder")&&(E.placeholderElm.innerHTML=(0,h.attr)(A.element,"placeholder")||""),A.e.fire("placeholder",E.placeholderElm.innerHTML),A.e.off(".placeholder").on("changePlace.placeholder",E.addNativeListeners).on("change.placeholder focus.placeholder keyup.placeholder mouseup.placeholder keydown.placeholder mousedown.placeholder afterSetMode.placeholder changePlace.placeholder",E.toggle).on(window,"load",E.toggle),E.addNativeListeners(),E.toggle()},E}return u.__extends(S,_),S.prototype.afterInit=function(E){var A=this;E.o.showPlaceholder&&(this.placeholderElm=E.c.fromHTML('<span data-ref="placeholder" style="display: none;" class="jodit-placeholder">'.concat(E.i18n(E.o.placeholder),"</span>")),E.o.direction==="rtl"&&(this.placeholderElm.style.right="0px",this.placeholderElm.style.direction="rtl"),E.e.on("readonly",function(C){C?A.hide():A.toggle()}).on("changePlace",this.addEvents),this.addEvents())},S.prototype.show=function(){var E=this.j;if(!E.o.readonly){var A=0,C=0,M=E.s.current(),T=M&&f.Dom.closest(M,f.Dom.isBlock,E.editor)||E.editor,k=E.ew.getComputedStyle(T),P=E.ew.getComputedStyle(E.editor);E.workplace.appendChild(this.placeholderElm);var D=E.editor.firstChild;if(f.Dom.isElement(D)&&!(0,m.isMarker)(D)){var I=E.ew.getComputedStyle(D);A=parseInt(I.getPropertyValue("margin-top"),10),C=parseInt(I.getPropertyValue("margin-left"),10),this.placeholderElm.style.fontSize=parseInt(I.getPropertyValue("font-size"),10)+"px",this.placeholderElm.style.lineHeight=I.getPropertyValue("line-height")}else this.placeholderElm.style.fontSize=parseInt(k.getPropertyValue("font-size"),10)+"px",this.placeholderElm.style.lineHeight=k.getPropertyValue("line-height");(0,p.css)(this.placeholderElm,{display:"block",textAlign:k.getPropertyValue("text-align"),paddingTop:parseInt(P.paddingTop,10)+"px",paddingLeft:parseInt(P.paddingLeft,10)+"px",paddingRight:parseInt(P.paddingRight,10)+"px",marginTop:Math.max(parseInt(k.getPropertyValue("margin-top"),10),A),marginLeft:Math.max(parseInt(k.getPropertyValue("margin-left"),10),C)})}},S.prototype.hide=function(){f.Dom.safeRemove(this.placeholderElm)},S.prototype.toggle=function(){var E=this.j;E.editor&&!E.isInDestruct&&(E.getRealMode()===d.MODE_WYSIWYG&&b(E.editor)?this.show():this.hide())},S.prototype.beforeDestruct=function(E){this.hide(),E.e.off(".placeholder").off(window,"load",this.toggle)},u.__decorate([(0,x.debounce)(function(E){return E.defaultTimeout/10},!0)],S.prototype,"toggle",null),S}(g.Plugin);a.placeholder=w,y.pluginSystem.add("placeholder",w)},88297:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.poweredByJodit=void 0;var u=s(17332);function d(h){var p=h.o;p.hidePoweredByJodit||p.inline||!(p.showCharsCounter||p.showWordsCounter||p.showXPathInStatusbar)||h.hookStatus("ready",function(){h.statusbar.append(h.create.fromHTML(`<a
						tabindex="-1"
						style="text-transform: uppercase"
						class="jodit-status-bar-link"
						target="_blank"
						href="https://xdsoft.net/jodit/">
							Powered by Jodit
						</a>`),!0)})}a.poweredByJodit=d,u.pluginSystem.add("poweredByJodit",d)},72930:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.preview=void 0,s(54860);var u=s(93166),d=s(86893),h=s(21498),p=s(17332);function m(f){f.registerButton({name:"preview"}),f.registerCommand("preview",function(g,v,x){var y=f.dlg();y.setSize(1024,600).open("",f.i18n("Preview")).setModal(!0),(0,h.previewBox)(f,x,"px",y.getElm("content"))})}u.Config.prototype.controls.preview={icon:"eye",command:"preview",mode:d.MODE_SOURCE+d.MODE_WYSIWYG,tooltip:"Preview"},a.preview=m,p.pluginSystem.add("preview",m)},20137:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.generateCriticalCSS=void 0;var u=s(20255),d=s(1853);a.generateCriticalCSS=function(h){var p=function(f,g){return g===void 0&&(g=f.ownerDocument.styleSheets),(0,d.toArray)(g).map(function(v){try{return(0,d.toArray)(v.cssRules)}catch{}return[]}).flat().filter(function(v){try{return!!(v&&f.matches(v.selectorText))}catch{}return!1})},m=function(){function f(g,v,x){var y=this;this.css={};var b=x||{},w=function(_){var S=_.selectorText.split(",").map(function(M){return M.trim()}).sort().join(",");!y.css[S]&&(y.css[S]={});for(var E=_.style.cssText.split(/;(?![A-Za-z0-9])/),A=0;E.length>A;A++)if(E[A]){var C=E[A].split(":");C[0]=C[0].trim(),C[1]=C[1].trim(),y.css[S][C[0]]=C[1].replace(/var\(([^)]+)\)/g,function(M,T){var k=u.__read(T.split(","),2),P=k[0],D=k[1];return(h.ew.getComputedStyle(h.editor).getPropertyValue(P.trim())||D||M).trim()})}};(function(){for(var _=g.innerHeight,S=v.createTreeWalker(h.editor,NodeFilter.SHOW_ELEMENT,function(){return NodeFilter.FILTER_ACCEPT});S.nextNode();){var E=S.currentNode;if(_>E.getBoundingClientRect().top||b.scanFullPage){var A=p(E);if(A)for(var C=0;A.length>C;C++)w(A[C])}}})()}return f.prototype.generateCSS=function(){var g="";for(var v in this.css)if(!/:not\(/.test(v)){for(var x in g+=v+" { ",this.css[v])g+=x+": "+this.css[v][x]+"; ";g+=`}
`}return g},f}();try{return new m(h.ew,h.ed,{scanFullPage:!0}).generateCSS()}catch{}return""}},51197:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.print=void 0;var u=s(93166),d=s(17332),h=s(64968),p=s(93351),m=s(86893),f=s(17332),g=s(77904),v=s(20137),x=s(21498);function y(b){b.registerButton({name:"print"})}g.Icon.set("print",s(22860)),u.Config.prototype.controls.print={exec:function(b){var w=b.create.element("iframe");Object.assign(w.style,{position:"fixed",right:0,bottom:0,width:0,height:0,border:0}),(0,d.getContainer)(b,u.Config).appendChild(w);var _=function(){b.e.off(b.ow,"mousemove",_),h.Dom.safeRemove(w)},S=w.contentWindow;if(S){b.e.on(S,"onbeforeunload onafterprint",_).on(b.ow,"mousemove",_),b.o.iframe?(b.e.fire("generateDocumentStructure.iframe",S.document,b),S.document.body.innerHTML=b.value):(S.document.write('<!doctype html><html lang="'+(0,p.defaultLanguage)(b.o.language)+'"><head><title></title></head><style>'+(0,v.generateCriticalCSS)(b)+"</style><body></body></html>"),S.document.close(),(0,x.previewBox)(b,void 0,"px",S.document.body));var E=S.document.createElement("style");E.innerHTML=`@media print {
					body {
							-webkit-print-color-adjust: exact;
					}
			}`,S.document.head.appendChild(E),S.focus(),S.print()}},mode:m.MODE_SOURCE+m.MODE_WYSIWYG,tooltip:"Print"},a.print=y,f.pluginSystem.add("print",y)},2327:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.redoUndo=void 0;var u=s(20255),d=s(93166),h=s(86893),p=s(85605),m=s(17332);s(77904).Icon.set("redo",s(95600)).set("undo",s(76214)),d.Config.prototype.controls.redo={mode:h.MODE_SPLIT,isDisabled:function(g){return!g.history.canRedo()},tooltip:"Redo"},d.Config.prototype.controls.undo={mode:h.MODE_SPLIT,isDisabled:function(g){return!g.history.canUndo()},tooltip:"Undo"};var f=function(g){function v(){var x=g!==null&&g.apply(this,arguments)||this;return x.buttons=[{name:"undo",group:"history"},{name:"redo",group:"history"}],x}return u.__extends(v,g),v.prototype.beforeDestruct=function(){},v.prototype.afterInit=function(x){var y=function(b){return x.history[b](),!1};x.registerCommand("redo",{exec:y,hotkeys:["ctrl+y","ctrl+shift+z","cmd+y","cmd+shift+z"]}),x.registerCommand("undo",{exec:y,hotkeys:["ctrl+z","cmd+z"]})},v}(p.Plugin);a.redoUndo=f,m.pluginSystem.add("redoUndo",f)},52444:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.tableAllowCellResize=!0},47608:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.resizeCells=void 0;var u=s(20255);s(47818);var d=s(86893),h=s(87837),p=s(40332),m=s(43441),f=s(24263),g=s(17332);s(52444);var v="table_processor_observer-resize",x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.selectMode=!1,w.resizeDelta=0,w.createResizeHandle=function(){w.resizeHandler||(w.resizeHandler=w.j.c.div("jodit-table-resizer"),w.j.e.on(w.resizeHandler,"mousedown.table touchstart.table",w.onHandleMouseDown).on(w.resizeHandler,"mouseenter.table",function(){w.j.async.clearTimeout(w.hideTimeout)}))},w.hideTimeout=0,w.drag=!1,w.minX=0,w.maxX=0,w.startX=0,w}return u.__extends(b,y),Object.defineProperty(b.prototype,"module",{get:function(){return this.j.getInstance("Table",this.j.o)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isRTL",{get:function(){return this.j.o.direction==="rtl"},enumerable:!1,configurable:!0}),b.prototype.showResizeHandle=function(){this.j.async.clearTimeout(this.hideTimeout),this.j.workplace.appendChild(this.resizeHandler)},b.prototype.hideResizeHandle=function(){var w=this;this.hideTimeout=this.j.async.setTimeout(function(){f.Dom.safeRemove(w.resizeHandler)},{timeout:this.j.defaultTimeout,label:"hideResizer"})},b.prototype.onHandleMouseDown=function(w){var _=this;if(!this.j.isLocked){this.drag=!0,this.j.e.on(this.j.ow,"mouseup.resize-cells touchend.resize-cells",this.onMouseUp).on(this.j.ew,"mousemove.table touchmove.table",this.onMouseMove),this.startX=w.clientX,this.j.lock(v),this.resizeHandler.classList.add("jodit-table-resizer_moved");var S,E=this.workTable.getBoundingClientRect();if(this.minX=0,this.maxX=1e6,this.wholeTable!=null)E=this.workTable.parentNode.getBoundingClientRect(),this.minX=E.left,this.maxX=this.minX+E.width;else{var A=h.Table.formalCoordinate(this.workTable,this.workCell,!0);h.Table.formalMatrix(this.workTable,function(C,M,T){A[1]===T&&(S=C.getBoundingClientRect(),_.minX=Math.max(S.left+d.NEARBY/2,_.minX)),A[1]+(_.isRTL?-1:1)===T&&(S=C.getBoundingClientRect(),_.maxX=Math.min(S.left+S.width-d.NEARBY/2,_.maxX))})}return!1}},b.prototype.onMouseMove=function(w){if(this.drag){this.j.e.fire("closeAllPopups");var _=w.clientX,S=(0,p.offset)(this.resizeHandler.parentNode||this.j.od.documentElement,this.j,this.j.od,!0);this.minX>_&&(_=this.minX),_>this.maxX&&(_=this.maxX),this.resizeDelta=_-this.startX+(this.j.o.iframe?S.left:0),this.resizeHandler.style.left=_-(this.j.o.iframe?0:S.left)+"px";var E=this.j.s.sel;E&&E.removeAllRanges()}},b.prototype.onMouseUp=function(w){(this.selectMode||this.drag)&&(this.selectMode=!1,this.j.unlock()),this.resizeHandler&&this.drag&&(this.drag=!1,this.j.e.off(this.j.ew,"mousemove.table touchmove.table",this.onMouseMove),this.resizeHandler.classList.remove("jodit-table-resizer_moved"),this.startX!==w.clientX&&(this.wholeTable==null?this.resizeColumns():this.resizeTable()),this.j.synchronizeValues(),this.j.s.focus())},b.prototype.resizeColumns=function(){var w=this.resizeDelta,_=[];h.Table.setColumnWidthByDelta(this.workTable,h.Table.formalCoordinate(this.workTable,this.workCell,!0)[1],w,!0,_);var S=(0,p.call)(this.isRTL?f.Dom.prev:f.Dom.next,this.workCell,f.Dom.isCell,this.workCell.parentNode);h.Table.setColumnWidthByDelta(this.workTable,h.Table.formalCoordinate(this.workTable,S)[1],-w,!1,_)},b.prototype.resizeTable=function(){var w=this.resizeDelta*(this.isRTL?-1:1),_=this.workTable.offsetWidth,S=(0,p.getContentWidth)(this.workTable.parentNode,this.j.ew),E=!this.wholeTable;if(this.isRTL?!E:E)this.workTable.style.width=(_+w)/S*100+"%";else{var A=this.isRTL?"marginRight":"marginLeft",C=parseInt(this.j.ew.getComputedStyle(this.workTable)[A]||"0",10);this.workTable.style.width=(_-w)/S*100+"%",this.workTable.style[A]=(C+w)/S*100+"%"}},b.prototype.setWorkCell=function(w,_){_===void 0&&(_=null),this.wholeTable=_,this.workCell=w,this.workTable=f.Dom.up(w,function(S){return f.Dom.isTag(S,"table")},this.j.editor)},b.prototype.calcHandlePosition=function(w,_,S,E){S===void 0&&(S=0),E===void 0&&(E=0);var A=(0,p.offset)(_,this.j,this.j.ed);if(S>d.NEARBY&&A.width-d.NEARBY>S)this.hideResizeHandle();else{var C=(0,p.offset)(this.j.workplace,this.j,this.j.od,!0),M=(0,p.offset)(w,this.j,this.j.ed);if(this.resizeHandler.style.left=(S>d.NEARBY?A.left+A.width:A.left)-C.left+E+"px",Object.assign(this.resizeHandler.style,{height:M.height+"px",top:M.top-C.top+"px"}),this.showResizeHandle(),S>d.NEARBY){var T=(0,p.call)(this.isRTL?f.Dom.prev:f.Dom.next,_,f.Dom.isCell,_.parentNode);this.setWorkCell(_,!!T&&null)}else{var k=(0,p.call)(this.isRTL?f.Dom.next:f.Dom.prev,_,f.Dom.isCell,_.parentNode);this.setWorkCell(k||_,!k||null)}}},b.prototype.afterInit=function(w){var _=this;w.o.tableAllowCellResize&&w.e.off(this.j.ow,".resize-cells").off(".resize-cells").on("change.resize-cells afterCommand.resize-cells afterSetMode.resize-cells",function(){(0,p.$$)("table",w.editor).forEach(_.observe)}).on(this.j.ow,"scroll.resize-cells",function(){if(_.drag){var S=f.Dom.up(_.workCell,function(A){return f.Dom.isTag(A,"table")},w.editor);if(S){var E=S.getBoundingClientRect();_.resizeHandler.style.top=E.top+"px"}}}).on("beforeSetMode.resize-cells",function(){_.module.getAllSelectedCells().forEach(function(S){_.module.removeSelection(S),h.Table.normalizeTable(f.Dom.closest(S,"table",w.editor))})})},b.prototype.observe=function(w){var _=this;(0,p.dataBind)(w,v)||((0,p.dataBind)(w,v,!0),this.j.e.on(w,"mouseleave.resize-cells",function(S){_.resizeHandler&&_.resizeHandler!==S.relatedTarget&&_.hideResizeHandle()}).on(w,"mousemove.resize-cells touchmove.resize-cells",this.j.async.throttle(function(S){if(!_.j.isLocked){var E=f.Dom.up(S.target,f.Dom.isCell,w);E&&_.calcHandlePosition(w,E,S.offsetX)}},{timeout:this.j.defaultTimeout})),this.createResizeHandle())},b.prototype.beforeDestruct=function(w){w.events&&(w.e.off(this.j.ow,".resize-cells"),w.e.off(".resize-cells"))},u.__decorate([m.autobind],b.prototype,"onHandleMouseDown",null),u.__decorate([m.autobind],b.prototype,"onMouseMove",null),u.__decorate([m.autobind],b.prototype,"onMouseUp",null),u.__decorate([m.autobind],b.prototype,"observe",null),b}(h.Plugin);a.resizeCells=x,g.pluginSystem.add("resizeCells",x)},91637:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.allowResizeX=!1,u.Config.prototype.allowResizeY=!0},90523:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.resizeHandler=void 0;var u=s(20255),d=s(57549),h=s(64968),p=s(43441),m=s(2074),f=s(17332);s(91637);var g=function(v){function x(){var y=v!==null&&v.apply(this,arguments)||this;return y.isResized=!1,y.start={x:0,y:0,w:0,h:0},y.handle=y.j.c.div("jodit-editor__resize",m.Icon.get("resize_handler")),y}return u.__extends(x,v),x.prototype.afterInit=function(y){var b=this,w=y.o,_=w.height,S=w.width,E=y.o.allowResizeY;_==="auto"&&S!=="auto"&&(E=!1),_==="auto"&&S==="auto"||!w.allowResizeX&&!E||(y.statusbar.setMod("resize-handle",!0),y.e.on("toggleFullSize.resizeHandler",function(){b.handle.style.display=y.isFullSize?"none":"block"}).on(this.handle,"mousedown touchstart",this.onHandleResizeStart).on(y.ow,"mouseup touchend",this.onHandleResizeEnd),y.container.appendChild(this.handle))},x.prototype.onHandleResizeStart=function(y){this.isResized=!0,this.start.x=y.clientX,this.start.y=y.clientY,this.start.w=this.j.container.offsetWidth,this.start.h=this.j.container.offsetHeight,this.j.lock(),this.j.e.on(this.j.ow,"mousemove touchmove",this.onHandleResize),y.preventDefault()},x.prototype.onHandleResize=function(y){this.isResized&&(this.j.o.allowResizeY&&this.j.e.fire("setHeight",this.start.h+y.clientY-this.start.y),this.j.o.allowResizeX&&this.j.e.fire("setWidth",this.start.w+y.clientX-this.start.x),this.j.e.fire("resize"))},x.prototype.onHandleResizeEnd=function(){this.isResized&&(this.isResized=!1,this.j.e.off(this.j.ow,"mousemove touchmove",this.onHandleResize),this.j.unlock())},x.prototype.beforeDestruct=function(){h.Dom.safeRemove(this.handle),this.j.e.off(this.j.ow,"mouseup touchsend",this.onHandleResizeEnd)},x.requires=["size"],u.__decorate([p.autobind],x)}(d.Plugin);a.resizeHandler=g,f.pluginSystem.add("resizeHandler",g)},36560:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.allowResizeTags=["img","iframe","table","jodit"],u.Config.prototype.resizer={showSize:!0,hideSizeTimeout:1e3,forImageChangeAttributes:!0,min_width:10,min_height:10,useAspectRatio:["img"]}},69257:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.resizer=void 0;var u=s(20255);s(6316);var d=s(86893),h=s(86893),p=s(24263),m=s(40332),f=s(85605),g=s(17332),v=s(43441),x=s(17332);s(36560);var y="__jodit-resizer_binded",b=function(w){function _(){var S=w!==null&&w.apply(this,arguments)||this;return S.LOCK_KEY="resizer",S.element=null,S.isResizeMode=!1,S.isShown=!1,S.startX=0,S.startY=0,S.width=0,S.height=0,S.ratio=0,S.rect=S.j.c.fromHTML('<div title="'.concat(S.j.i18n("Press Alt for custom resizing"),`" class="jodit-resizer">
				<div class="jodit-resizer__top-left"></div>
				<div class="jodit-resizer__top-right"></div>
				<div class="jodit-resizer__bottom-right"></div>
				<div class="jodit-resizer__bottom-left"></div>
				<span>100x100</span>
			</div>`)),S.sizeViewer=S.rect.getElementsByTagName("span")[0],S.pointerX=0,S.pointerY=0,S.isAltMode=!1,S.onClickElement=function(E){S.isResizeMode||S.element===E&&S.isShown||(S.element=E,S.show(),p.Dom.isTag(S.element,"img")&&!S.element.complete&&S.j.e.one(S.element,"load",S.updateSize))},S.updateSize=function(){if(!S.isInDestruct&&S.isShown&&S.element&&S.rect){var E=S.getWorkplacePosition(),A=(0,m.offset)(S.element,S.j,S.j.ed),C=parseInt(S.rect.style.left||"0",10),M=parseInt(S.rect.style.top||"0",10),T=A.top-E.top,k=A.left-E.left;M===T&&C===k&&S.rect.offsetWidth===S.element.offsetWidth&&S.rect.offsetHeight===S.element.offsetHeight||((0,m.css)(S.rect,{top:T,left:k,width:S.element.offsetWidth,height:S.element.offsetHeight}),S.j.events&&(S.j.e.fire(S.element,"changesize"),isNaN(C)||S.j.e.fire("resize")))}},S.hideSizeViewer=function(){S.sizeViewer.style.opacity="0"},S}return u.__extends(_,w),_.prototype.afterInit=function(S){var E=this;(0,m.$$)("div",this.rect).forEach(function(A){S.e.on(A,"mousedown.resizer touchstart.resizer",E.onStartResizing.bind(E,A))}),g.eventEmitter.on("hideHelpers",this.hide),S.e.on("readonly",function(A){A&&E.hide()}).on("afterInit changePlace",this.addEventListeners.bind(this)).on("afterGetValueFromEditor.resizer",function(A){var C=/<jodit[^>]+data-jodit_iframe_wrapper[^>]+>(.*?<iframe[^>]*>.*?<\/iframe>.*?)<\/jodit>/gi;C.test(A.value)&&(A.value=A.value.replace(C,"$1"))}).on("hideResizer",this.hide).on("change afterInit afterSetMode",this.onChangeEditor),this.addEventListeners(),this.onChangeEditor()},_.prototype.onEditorClick=function(S){for(var E=S.target,A=this.j,C=A.editor,M=A.options.allowResizeTags;E&&E!==C;){if(p.Dom.isTag(E,M))return this.bind(E),void this.onClickElement(E);E=E.parentNode}},_.prototype.addEventListeners=function(){var S=this,E=this.j;E.e.off(E.editor,".resizer").off(E.ow,".resizer").on(E.editor,"keydown.resizer",function(A){S.isShown&&A.key===d.KEY_DELETE&&S.element&&!p.Dom.isTag(S.element,"table")&&S.onDelete(A)}).on(E.ow,"resize.resizer",this.updateSize).on("resize.resizer",this.updateSize).on([E.ow,E.editor],"scroll.resizer",function(){S.isShown&&!S.isResizeMode&&S.hide()}).on(E.ow,"keydown.resizer",this.onKeyDown).on(E.ow,"keyup.resizer",this.onKeyUp).on(E.ow,"mouseup.resizer touchend.resizer",this.onClickOutside)},_.prototype.onStartResizing=function(S,E){if(!this.element||!this.element.parentNode)return this.hide(),!1;this.handle=S,E.cancelable&&E.preventDefault(),E.stopImmediatePropagation(),this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.ratio=this.width/this.height,this.isResizeMode=!0,this.startX=E.clientX,this.startY=E.clientY,this.pointerX=E.clientX,this.pointerY=E.clientY;var A=this.j;A.e.fire("hidePopup"),A.lock(this.LOCK_KEY),A.e.on(A.ow,"mousemove.resizer touchmove.resizer",this.onResize)},_.prototype.onEndResizing=function(){var S=this.j;S.unlock(),this.isResizeMode=!1,this.isAltMode=!1,S.synchronizeValues(),S.e.off(S.ow,"mousemove.resizer touchmove.resizer",this.onResize)},_.prototype.onResize=function(S){if(this.isResizeMode){if(!this.element)return;this.pointerX=S.clientX,this.pointerY=S.clientY;var E=void 0,A=void 0;if(this.j.options.iframe){var C=this.getWorkplacePosition();E=S.clientX+C.left-this.startX,A=S.clientY+C.top-this.startY}else E=this.pointerX-this.startX,A=this.pointerY-this.startY;var M=this.handle.className,T=0,k=0,P=this.j.o.resizer.useAspectRatio;!this.isAltMode&&(P===!0||Array.isArray(P)&&p.Dom.isTag(this.element,P))?(E?(T=this.width+(M.match(/left/)?-1:1)*E,k=Math.round(T/this.ratio)):(k=this.height+(M.match(/top/)?-1:1)*A,T=Math.round(k*this.ratio)),T>(0,m.innerWidth)(this.j.editor,this.j.ow)&&(T=(0,m.innerWidth)(this.j.editor,this.j.ow),k=Math.round(T/this.ratio))):(T=this.width+(M.match(/left/)?-1:1)*E,k=this.height+(M.match(/top/)?-1:1)*A),T>this.j.o.resizer.min_width&&this.applySize(this.element,"width",this.rect.parentNode.offsetWidth>T?T:"100%"),k>this.j.o.resizer.min_height&&this.applySize(this.element,"height",k),this.updateSize(),this.showSizeViewer(this.element.offsetWidth,this.element.offsetHeight),S.stopImmediatePropagation()}},_.prototype.onKeyDown=function(S){this.isAltMode=S.key===h.KEY_ALT,!this.isAltMode&&this.isResizeMode&&this.onEndResizing()},_.prototype.onKeyUp=function(){this.isAltMode&&this.isResizeMode&&this.element&&(this.width=this.element.offsetWidth,this.height=this.element.offsetHeight,this.ratio=this.width/this.height,this.startX=this.pointerX,this.startY=this.pointerY),this.isAltMode=!1},_.prototype.onClickOutside=function(S){if(this.isShown){if(!this.isResizeMode)return this.hide();S.stopImmediatePropagation(),this.onEndResizing()}},_.prototype.getWorkplacePosition=function(){return(0,m.offset)(this.rect.parentNode||this.j.od.documentElement,this.j,this.j.od,!0)},_.prototype.applySize=function(S,E,A){var C=p.Dom.isImage(S)&&this.j.o.resizer.forImageChangeAttributes;C&&(0,m.attr)(S,E,A),C&&!S.style[E]||(0,m.css)(S,E,A)},_.prototype.onDelete=function(S){this.element&&(this.element.tagName!=="JODIT"?this.j.s.select(this.element):(p.Dom.safeRemove(this.element),this.hide(),S.preventDefault()))},_.prototype.onChangeEditor=function(){this.isShown&&(this.element&&this.element.parentNode?this.updateSize():this.hide()),(0,m.$$)("iframe",this.j.editor).forEach(this.bind)},_.prototype.bind=function(S){var E=this;if(p.Dom.isHTMLElement(S)&&this.j.o.allowResizeTags.includes(S.tagName.toLowerCase())&&!(0,m.dataBind)(S,y)){var A;if((0,m.dataBind)(S,y,!0),p.Dom.isTag(S,"iframe")){var C=S;p.Dom.isHTMLElement(S.parentNode)&&(0,m.attr)(S.parentNode,"-jodit_iframe_wrapper")?S=S.parentNode:(A=this.j.createInside.element("jodit",{"data-jodit-temp":1,contenteditable:!1,draggable:!0,"data-jodit_iframe_wrapper":1}),(0,m.attr)(A,"style",(0,m.attr)(S,"style")),(0,m.css)(A,{display:S.style.display==="inline-block"?"inline-block":"block",width:S.offsetWidth,height:S.offsetHeight}),S.parentNode&&S.parentNode.insertBefore(A,S),A.appendChild(S),this.j.e.on(A,"click",function(){(0,m.attr)(A,"data-jodit-wrapper_active",!0)}),S=A),this.j.e.off(S,"mousedown.select touchstart.select").on(S,"mousedown.select touchstart.select",function(){E.j.s.select(S)}).off(S,"changesize").on(S,"changesize",function(){C.setAttribute("width",S.offsetWidth+"px"),C.setAttribute("height",S.offsetHeight+"px")})}this.j.e.on(S,"dragstart",this.hide),h.IS_IE&&this.j.e.on(S,"mousedown",function(M){p.Dom.isTag(S,"img")&&M.preventDefault()})}},_.prototype.showSizeViewer=function(S,E){this.j.o.resizer.showSize&&(this.sizeViewer.offsetWidth>S||this.sizeViewer.offsetHeight>E?this.hideSizeViewer():(this.sizeViewer.style.opacity="1",this.sizeViewer.textContent="".concat(S," x ").concat(E),this.j.async.setTimeout(this.hideSizeViewer,{timeout:this.j.o.resizer.hideSizeTimeout,label:"hideSizeViewer"})))},_.prototype.show=function(){this.j.o.readonly||this.isShown||(this.isShown=!0,this.rect.parentNode||((0,m.markOwner)(this.j,this.rect),this.j.workplace.appendChild(this.rect)),this.j.isFullSize&&(this.rect.style.zIndex=(0,m.css)(this.j.container,"zIndex").toString()),this.updateSize())},_.prototype.hide=function(){this.isResizeMode||(this.isResizeMode=!1,this.isShown=!1,this.element=null,p.Dom.safeRemove(this.rect),(0,m.$$)("[data-jodit-wrapper_active='true']",this.j.editor).forEach(function(S){return(0,m.attr)(S,"data-jodit-wrapper_active",!1)}))},_.prototype.beforeDestruct=function(S){this.hide(),g.eventEmitter.off("hideHelpers",this.hide),S.e.off(this.j.ow,".resizer").off(".resizer")},u.__decorate([(0,v.watch)(":click")],_.prototype,"onEditorClick",null),u.__decorate([v.autobind],_.prototype,"onStartResizing",null),u.__decorate([v.autobind],_.prototype,"onEndResizing",null),u.__decorate([v.autobind],_.prototype,"onResize",null),u.__decorate([v.autobind],_.prototype,"onKeyDown",null),u.__decorate([v.autobind],_.prototype,"onKeyUp",null),u.__decorate([v.autobind],_.prototype,"onClickOutside",null),u.__decorate([(0,v.debounce)()],_.prototype,"onChangeEditor",null),u.__decorate([v.autobind],_.prototype,"bind",null),u.__decorate([v.autobind],_.prototype,"hide",null),_}(f.Plugin);a.resizer=b,x.pluginSystem.add("resizer",b)},61975:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);s(59535),u.Config.prototype.useSearch=!0,u.Config.prototype.search={lazyIdleTimeout:0},d.Icon.set("search",s(41197)),u.Config.prototype.controls.find={tooltip:"Find",icon:"search",exec:function(h,p,m){var f=m.control;switch(f.args&&f.args[0]){case"findPrevious":h.e.fire("searchPrevious");break;case"findNext":h.e.fire("searchNext");break;case"replace":h.execCommand("openReplaceDialog");break;default:h.execCommand("openSearchDialog")}},list:{search:"Find",findNext:"Find Next",findPrevious:"Find Previous",replace:"Replace"},childTemplate:function(h,p,m){return m}}},73934:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(18562),a),u.__exportStar(s(3928),a)},18562:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.SentenceFinder=void 0;var u=s(20255),d=s(93163),h=function(){function p(m){m===void 0&&(m=d.fuzzySearchIndex),this.searchIndex=m,this.queue=[],this.value=""}return p.prototype.add=function(m){var f,g=((f=m.nodeValue)!==null&&f!==void 0?f:"").toLowerCase();if(g.length){var v=this.value.length;this.queue.push({startIndex:v,endIndex:v+g.length,node:m}),this.value+=g}},p.prototype.ranges=function(m,f){var g;f===void 0&&(f=0);var v=[],x=f,y=0,b=0;do if(y=(g=u.__read(this.searchIndex(m,this.value,x),2))[1],(x=g[0])!==-1){for(var w=void 0,_=0,S=void 0,E=0,A=b;this.queue.length>A;A+=1)if(!w&&this.queue[A].endIndex>x&&(w=this.queue[A].node,_=x-this.queue[A].startIndex),w&&this.queue[A].endIndex>=x+y){S=this.queue[A].node,E=x+y-this.queue[A].startIndex,b=A;break}w&&S&&v.push({startContainer:w,startOffset:_,endContainer:S,endOffset:E}),x+=y}while(x!==-1);return v.length===0?null:v},p}();a.SentenceFinder=h},3928:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.isSelectionWrapper=a.clearSelectionWrappersFromHTML=a.clearSelectionWrappers=a.getSelectionWrappers=a.wrapRangesTextsInTmpSpan=void 0;var u=s(20255),d=s(24263),h=s(54188),p="jd-tmp-selection";function m(g){return(0,h.$$)("[".concat(p,"]"),g)}function f(g){return d.Dom.isElement(g)&&g.hasAttribute(p)}a.wrapRangesTextsInTmpSpan=function(g,v,x,y){var b,w,_;if(g.startContainer.nodeValue!=null&&g.endContainer.nodeValue!=null){var S=x.element("span",((b={})[p]=!0,b));d.Dom.markTemporary(S);var E=g.startContainer.nodeValue,A=0;if(g.startOffset!==0){var C=x.text(E.substring(0,g.startOffset));g.startContainer.nodeValue=E.substring(g.startOffset),d.Dom.before(g.startContainer,C),g.startContainer===g.endContainer&&(g.endOffset-=A=g.startOffset),g.startOffset=0}var M=g.endContainer.nodeValue;if(g.endOffset!==M.length){C=x.text(M.substring(g.endOffset)),g.endContainer.nodeValue=M.substring(0,g.endOffset),d.Dom.after(g.endContainer,C);try{for(var T=u.__values(v),k=T.next();!k.done;k=T.next()){var P=k.value;if(P.startContainer!==g.endContainer)break;P.startContainer=C,P.startOffset=P.startOffset-g.endOffset-A,P.endContainer===g.endContainer&&(P.endContainer=C,P.endOffset=P.endOffset-g.endOffset-A)}}catch(O){w={error:O}}finally{try{k&&!k.done&&(_=T.return)&&_.call(T)}finally{if(w)throw w.error}}g.endOffset=g.endContainer.nodeValue.length}var D=g.startContainer;do{if(!D||(d.Dom.isText(D)&&!f(D.parentNode)&&d.Dom.wrap(D,S.cloneNode(),x),D===g.endContainer))break;var I=D.firstChild||D.nextSibling;if(!I){for(;D&&!D.nextSibling&&D!==y;)D=D.parentNode;I=D==null?void 0:D.nextSibling}D=I}while(D&&D!==y)}},a.getSelectionWrappers=m,a.clearSelectionWrappers=function(g){m(g).forEach(function(v){return d.Dom.unwrap(v)})},a.clearSelectionWrappersFromHTML=function(g){return g.replace(RegExp("<span[^>]+".concat(p,"[^>]+>(.*?)</span>"),"g"),"$1")},a.isSelectionWrapper=f},59535:function(){},14889:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.search=void 0;var u=s(20255),d=s(64968),h=s(57549),p=s(43441),m=s(72235),f=s(40332),g=s(17332),v=s(73934);s(61975);var x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.buttons=[{name:"find",group:"search"}],w.previousQuery="",w.drawPromise=null,w.walker=null,w.walkerCount=null,w.cache={},w.wrapFrameRequest=0,w}return u.__extends(b,y),Object.defineProperty(b.prototype,"ui",{get:function(){return new m.UISearch(this.j)},enumerable:!1,configurable:!0}),b.prototype.updateCounters=function(){return u.__awaiter(this,void 0,Promise,function(){var w;return u.__generator(this,function(_){switch(_.label){case 0:return this.ui.isOpened?(w=this.ui,[4,this.calcCounts(this.ui.query)]):[2];case 1:return w.count=_.sent(),[2]}})})},b.prototype.onPressReplaceButton=function(){this.findAndReplace(this.ui.query),this.updateCounters()},b.prototype.tryScrollToElement=function(w){var _=d.Dom.closest(w,d.Dom.isElement,this.j.editor);_||(_=d.Dom.prev(w,d.Dom.isElement,this.j.editor)),_&&_!==this.j.editor&&(0,f.scrollIntoViewIfNeeded)(_,this.j.editor,this.j.ed)},b.prototype.calcCounts=function(w){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(_){switch(_.label){case 0:return[4,this.findQueryBounds(w,"walkerCount")];case 1:return[2,_.sent().length]}})})},b.prototype.findQueryBounds=function(w,_){return u.__awaiter(this,void 0,Promise,function(){var S;return u.__generator(this,function(E){return(S=this[_])&&S.break(),S=new d.LazyWalker(this.j.async,{timeout:this.j.o.search.lazyIdleTimeout}),this[_]=S,[2,this.find(S,w).catch(function(A){return[]})]})})},b.prototype.findAndReplace=function(w){return u.__awaiter(this,void 0,Promise,function(){var _,S,E,A,C;return u.__generator(this,function(M){switch(M.label){case 0:return[4,this.findQueryBounds(w,"walker")];case 1:if(!(_=M.sent()).length)return[2,!1];if((S=this.findCurrentIndexInRanges(_,this.j.s.range))===-1&&(S=0),!(E=_[S]))return[3,6];M.label=2;case 2:return M.trys.push([2,,4,5]),(A=this.j.ed.createRange()).setStart(E.startContainer,E.startOffset),A.setEnd(E.endContainer,E.endOffset),A.deleteContents(),C=this.j.createInside.text(this.ui.replace),d.Dom.safeInsertNode(A,C),(0,v.clearSelectionWrappers)(this.j.editor),this.j.s.setCursorAfter(C),this.tryScrollToElement(C),this.cache={},this.ui.currentIndex=S,[4,this.findAndSelect(w,!0).catch(function(T){return null})];case 3:return M.sent(),[3,5];case 4:return this.j.synchronizeValues(),[7];case 5:return this.j.e.fire("afterFindAndReplace"),[2,!0];case 6:return[2,!1]}})})},b.prototype.findAndSelect=function(w,_){var S;return u.__awaiter(this,void 0,Promise,function(){var E,A,C,M;return u.__generator(this,function(T){switch(T.label){case 0:return[4,this.findQueryBounds(w,"walker")];case 1:if(!(E=T.sent()).length)return[2,!1];if(this.previousQuery===w&&(0,v.getSelectionWrappers)(this.j.editor).length||((S=this.drawPromise)===null||S===void 0||S.rejectCallback(),this.j.async.cancelAnimationFrame(this.wrapFrameRequest),(0,v.clearSelectionWrappers)(this.j.editor),this.drawPromise=this.drawSelectionRanges(E)),this.previousQuery=w,this.ui.currentIndex=(A=(A=this.ui.currentIndex-1)==-1?0:_?A===E.length-1?0:A+1:A===0?E.length-1:A-1)+1,!(C=E[A]))return[3,4];M=this.j.ed.createRange();try{M.setStart(C.startContainer,C.startOffset),M.setEnd(C.endContainer,C.endOffset),this.j.s.selectRange(M)}catch{}return this.tryScrollToElement(C.startContainer),[4,this.updateCounters()];case 2:return T.sent(),[4,this.drawPromise];case 3:return T.sent(),this.j.e.fire("afterFindAndSelect"),[2,!0];case 4:return[2,!1]}})})},b.prototype.findCurrentIndexInRanges=function(w,_){return w.findIndex(function(S){return S.startContainer===_.startContainer&&S.startOffset===_.startOffset&&S.endContainer===_.startContainer&&S.endOffset===_.endOffset})},b.prototype.isValidCache=function(w){return u.__awaiter(this,void 0,Promise,function(){return u.__generator(this,function(_){switch(_.label){case 0:return[4,w];case 1:return[2,_.sent().every(function(S){var E,A,C,M;return S.startContainer.isConnected&&S.startOffset<=((A=(E=S.startContainer.nodeValue)===null||E===void 0?void 0:E.length)!==null&&A!==void 0?A:0)&&S.endContainer.isConnected&&S.endOffset<=((M=(C=S.endContainer.nodeValue)===null||C===void 0?void 0:C.length)!==null&&M!==void 0?M:0)})]}})})},b.prototype.find=function(w,_){return u.__awaiter(this,void 0,Promise,function(){var S,E,A=this;return u.__generator(this,function(C){switch(C.label){case 0:return _.length?(E=S=this.cache[_])?[4,this.isValidCache(S)]:[3,2]:[2,[]];case 1:E=C.sent(),C.label=2;case 2:return E?[2,S]:(this.cache[_]=this.j.async.promise(function(M){var T=new v.SentenceFinder(A.j.o.search.fuzzySearch);w.on("break",function(){M([])}).on("visit",function(k){return d.Dom.isText(k)&&T.add(k),!1}).on("end",function(){var k;M((k=T.ranges(_))!==null&&k!==void 0?k:[])}).setWork(A.j.editor)}),[2,this.cache[_]])}})})},b.prototype.drawSelectionRanges=function(w){var _=this,S=this.j,E=S.async,A=S.createInside,C=S.editor;E.cancelAnimationFrame(this.wrapFrameRequest);var M,T=u.__spreadArray([],u.__read(w),!1),k=0;return E.promise(function(P){var D=function(){do(M=T.shift())&&(0,v.wrapRangesTextsInTmpSpan)(M,T,A,C),k+=1;while(M&&5>=k);T.length?_.wrapFrameRequest=E.requestAnimationFrame(D):P()};D()})},b.prototype.onAfterGetValueFromEditor=function(w){w.value=(0,v.clearSelectionWrappersFromHTML)(w.value)},b.prototype.afterInit=function(w){var _=this;if(w.o.useSearch){var S=this;w.e.on("beforeSetMode.search",function(){_.ui.close()}).on(this.ui,"afterClose",function(){(0,v.clearSelectionWrappers)(w.editor),_.ui.currentIndex=0,_.ui.count=0,_.cache={}}).on("click",function(){_.ui.currentIndex=0,(0,v.clearSelectionWrappers)(w.editor)}).on("change.search",function(){_.cache={}}).on("keydown.search mousedown.search",w.async.debounce(function(){_.ui.selInfo&&(w.s.removeMarkers(),_.ui.selInfo=null),_.ui.isOpened&&_.updateCounters()},w.defaultTimeout)).on("searchNext.search searchPrevious.search",function(){return _.ui.isOpened||_.ui.open(),S.findAndSelect(S.ui.query,w.e.current==="searchNext").catch(function(E){})}).on("search.search",function(E,A){return A===void 0&&(A=!0),_.ui.currentIndex=0,S.findAndSelect(E||"",A).catch(function(C){})}),w.registerCommand("search",{exec:function(E,A,C){return C===void 0&&(C=!0),A&&S.findAndSelect(A,C).catch(function(M){}),!1}}).registerCommand("openSearchDialog",{exec:function(E,A){return S.ui.open(A),!1},hotkeys:["ctrl+f","cmd+f"]}).registerCommand("openReplaceDialog",{exec:function(E,A,C){return w.o.readonly||S.ui.open(A,C,!0),!1},hotkeys:["ctrl+h","cmd+h"]})}},b.prototype.beforeDestruct=function(w){this.ui.destruct(),w.e.off(".search")},u.__decorate([p.cache],b.prototype,"ui",null),u.__decorate([(0,p.watch)("ui:needUpdateCounters")],b.prototype,"updateCounters",null),u.__decorate([(0,p.watch)("ui:pressReplaceButton")],b.prototype,"onPressReplaceButton",null),u.__decorate([p.autobind],b.prototype,"findQueryBounds",null),u.__decorate([p.autobind],b.prototype,"findAndReplace",null),u.__decorate([p.autobind],b.prototype,"findAndSelect",null),u.__decorate([p.autobind],b.prototype,"find",null),u.__decorate([(0,p.watch)(":afterGetValueFromEditor")],b.prototype,"onAfterGetValueFromEditor",null),b}(h.Plugin);a.search=x,g.pluginSystem.add("search",x)},72235:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.UISearch=void 0;var u=s(20255);s(88582);var d=s(2074),h=s(40332),p=s(86893),m=s(86893),f=s(43441),g=s(64968),v=function(x){function y(b){var w=x.call(this,b)||this;w.selInfo=null,w._currentIndex=0,w.isOpened=!1;var _=(0,h.refs)(w.container),S=_.replace,E=_.cancel,A=_.next,C=_.prev,M=_.replaceBtn,T=_.current,k=_.count;return w.queryInput=_.query,w.replaceInput=S,w.closeButton=E,w.replaceButton=M,w.currentBox=T,w.countBox=k,b.e.on(w.closeButton,"pointerdown",function(){return w.close(),!1}).on(w.queryInput,"input",function(){w.currentIndex=0}).on(w.queryInput,"pointerdown",function(){b.s.isFocused()&&(b.s.removeMarkers(),w.selInfo=b.s.save())}).on(w.replaceButton,"pointerdown",function(){return b.e.fire(w,"pressReplaceButton"),!1}).on(A,"pointerdown",function(){return b.e.fire("searchNext"),!1}).on(C,"pointerdown",function(){return b.e.fire("searchPrevious"),!1}).on(w.queryInput,"input",function(){w.setMod("empty-query",!(0,h.trim)(w.queryInput.value).length)}).on(w.queryInput,"keydown",w.j.async.debounce(function(P){P.key===m.KEY_ENTER?(P.preventDefault(),P.stopImmediatePropagation(),b.e.fire("searchNext")&&w.close()):b.e.fire(w,"needUpdateCounters")},w.j.defaultTimeout)),w}return u.__extends(y,x),y.prototype.className=function(){return"UISearch"},y.prototype.render=function(){return`<div>
			<div class="&__box">
				<div class="&__inputs">
					<input data-ref="query" tabindex="0" placeholder="~Search for~" type="text"/>
					<input data-ref="replace" tabindex="0" placeholder="~Replace with~" type="text"/>
				</div>
				<div class="&__counts">
					<span data-ref="counter-box">
						<span data-ref="current">0</span><span>/</span><span data-ref="count">0</span>
					</span>
				</div>
				<div class="&__buttons">
					<button data-ref="next" tabindex="0" type="button">`.concat(d.Icon.get("angle-down"),`</button>
					<button data-ref="prev" tabindex="0" type="button">`).concat(d.Icon.get("angle-up"),`</button>
					<button data-ref="cancel" tabindex="0" type="button">`).concat(d.Icon.get("cancel"),`</button>
					<button data-ref="replace-btn" tabindex="0" type="button" class="jodit-ui-button">~Replace~</button>
				</div>
			</div>
		</div>`)},Object.defineProperty(y.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(b){this._currentIndex=b,this.currentBox.innerText=b.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"count",{set:function(b){this.countBox.innerText=b.toString()},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"query",{get:function(){return this.queryInput.value},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"replace",{get:function(){return this.replaceInput.value},enumerable:!1,configurable:!0}),y.prototype.onEditorKeyDown=function(b){if(this.isOpened){var w=this.j;if(w.getRealMode()===p.MODE_WYSIWYG)switch(b.key){case m.KEY_ESC:this.close();break;case m.KEY_F3:this.queryInput.value&&(w.e.fire(b.shiftKey?"searchPrevious":"searchNext"),b.preventDefault())}}},y.prototype.open=function(b,w,_){_===void 0&&(_=!1),this.isOpened||(this.j.workplace.appendChild(this.container),this.isOpened=!0),this.calcSticky(this.j.e.fire("getStickyState.sticky")||!1),this.j.e.fire("hidePopup"),this.setMod("replace",_);var S=b??(this.j.s.sel||"").toString();S&&(this.queryInput.value=S),w&&(this.replaceInput.value=w),this.setMod("empty-query",!S.length),this.j.e.fire(this,"needUpdateCounters"),S?this.queryInput.select():this.queryInput.focus()},y.prototype.close=function(){this.isOpened&&(this.j.s.restore(),g.Dom.safeRemove(this.container),this.isOpened=!1,this.j.e.fire(this,"afterClose"))},y.prototype.calcSticky=function(b){if(this.isOpened)if(this.setMod("sticky",b),b){var w=(0,h.position)(this.j.toolbarContainer);(0,h.css)(this.container,{top:w.top+w.height,left:w.left+w.width})}else(0,h.css)(this.container,{top:null,left:null})},u.__decorate([(0,f.watch)([":keydown","queryInput:keydown"])],y.prototype,"onEditorKeyDown",null),u.__decorate([f.autobind],y.prototype,"open",null),u.__decorate([f.autobind],y.prototype,"close",null),u.__decorate([(0,f.watch)(":toggleSticky")],y.prototype,"calcSticky",null),u.__decorate([f.component],y)}(d.UIElement);a.UISearch=v},14189:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.tableAllowCellSelection=!0},37458:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.selectCells=void 0;var u=s(20255),d=s(57549),h=s(87837),p=s(24263),m=s(40332),f=s(86893),g=s(43441),v=s(17332);s(14189);var x="table_processor_observer",y="onMoveTableSelectCell",b=function(w){function _(){var S=w!==null&&w.apply(this,arguments)||this;return S.requires=["select"],S.selectedCell=null,S.isSelectionMode=!1,S}return u.__extends(_,w),Object.defineProperty(_.prototype,"module",{get:function(){return this.j.getInstance("Table",this.j.o)},enumerable:!1,configurable:!0}),_.prototype.afterInit=function(S){var E=this;S.o.tableAllowCellSelection&&S.e.on("keydown.select-cells",function(A){A.key===f.KEY_TAB&&E.unselectCells()}).on("beforeCommand.select-cells",this.onExecCommand).on("afterCommand.select-cells",this.onAfterCommand).on(["clickEditor","mousedownTd","mousedownTh","touchstartTd","touchstartTh"].map(function(A){return A+".select-cells"}).join(" "),this.onStartSelection).on("clickTr clickTbody",function(){var A,C=E.module.getAllSelectedCells().length;if(C)return C>1&&((A=E.j.s.sel)===null||A===void 0||A.removeAllRanges()),!1})},_.prototype.onStartSelection=function(S){if(!this.j.o.readonly&&(this.unselectCells(),S!==this.j.editor)){var E=p.Dom.closest(S,"table",this.j.editor);if(S&&E)return S.firstChild||S.appendChild(this.j.createInside.element("br")),this.isSelectionMode=!0,this.selectedCell=S,this.module.addSelection(S),this.j.e.on(E,"mousemove.select-cells touchmove.select-cells",this.j.async.throttle(this.onMove.bind(this,E),{label:y,timeout:this.j.defaultTimeout/2})).on(E,"mouseup.select-cells touchend.select-cells",this.onStopSelection.bind(this,E)),!1}},_.prototype.onOutsideClick=function(){this.selectedCell=null,this.onRemoveSelection()},_.prototype.onChange=function(){this.j.isLocked||this.isSelectionMode||this.onRemoveSelection()},_.prototype.onMove=function(S,E){var A,C=this;if((!this.j.o.readonly||this.j.isLocked)&&!this.j.isLockedNotBy(x)){var M=this.j.ed.elementFromPoint(E.clientX,E.clientY);if(M){var T=p.Dom.closest(M,["td","th"],S);if(T&&this.selectedCell){T!==this.selectedCell&&this.j.lock(x),this.unselectCells();for(var k=h.Table.getSelectedBound(S,[T,this.selectedCell]),P=h.Table.formalMatrix(S),D=k[0][0];k[1][0]>=D;D+=1)for(var I=k[0][1];k[1][1]>=I;I+=1)this.module.addSelection(P[D][I]);var O;this.module.getAllSelectedCells().length>1&&((A=this.j.s.sel)===null||A===void 0||A.removeAllRanges()),this.j.e.fire("hidePopup"),E.stopPropagation(),O=C.j.createInside.fromHTML('<div style="color:rgba(0,0,0,0.01);width:0;height:0">&nbsp;</div>'),T.appendChild(O),C.j.async.setTimeout(function(){var j;(j=O.parentNode)===null||j===void 0||j.removeChild(O)},C.j.defaultTimeout/5)}}}},_.prototype.onRemoveSelection=function(S){var E;if(!(!((E=S==null?void 0:S.buffer)===null||E===void 0)&&E.actionTrigger)&&!this.selectedCell&&this.module.getAllSelectedCells().length)return this.j.unlock(),this.unselectCells(),void this.j.e.fire("hidePopup","cells");this.isSelectionMode=!1,this.selectedCell=null},_.prototype.onStopSelection=function(S,E){var A=this;if(this.selectedCell){this.isSelectionMode=!1,this.j.unlock();var C=this.j.ed.elementFromPoint(E.clientX,E.clientY);if(C){var M=p.Dom.closest(C,["td","th"],S);if(M){var T=p.Dom.closest(M,"table",S);if(!T||T===S){var k=h.Table.getSelectedBound(S,[M,this.selectedCell]),P=h.Table.formalMatrix(S),D=P[k[1][0]][k[1][1]],I=P[k[0][0]][k[0][1]];this.j.e.fire("showPopup",S,function(){var O=(0,m.position)(I,A.j),j=(0,m.position)(D,A.j);return{left:O.left,top:O.top,width:j.left-O.left+j.width,height:j.top-O.top+j.height}},"cells"),(0,m.$$)("table",this.j.editor).forEach(function(O){A.j.e.off(O,"mousemove.select-cells touchmove.select-cells mouseup.select-cells touchend.select-cells")}),this.j.async.clearTimeout(y)}}}}},_.prototype.unselectCells=function(S){var E=this.module,A=E.getAllSelectedCells();A.length&&A.forEach(function(C){S&&S===C||E.removeSelection(C)})},_.prototype.onExecCommand=function(S){if(/table(splitv|splitg|merge|empty|bin|binrow|bincolumn|addcolumn|addrow)/.test(S)){S=S.replace("table","");var E=this.module.getAllSelectedCells();if(E.length){var A=u.__read(E,1)[0];if(!A)return;var C=p.Dom.closest(A,"table",this.j.editor);if(!C)return;switch(S){case"splitv":h.Table.splitVertical(C,this.j);break;case"splitg":h.Table.splitHorizontal(C,this.j);break;case"merge":h.Table.mergeSelected(C,this.j);break;case"empty":E.forEach(function(T){return p.Dom.detach(T)});break;case"bin":p.Dom.safeRemove(C);break;case"binrow":new Set(E.map(function(T){return T.parentNode})).forEach(function(T){h.Table.removeRow(C,T.rowIndex)});break;case"bincolumn":var M=new Set;E.reduce(function(T,k){return M.has(k.cellIndex)||(T.push(k),M.add(k.cellIndex)),T},[]).forEach(function(T){h.Table.removeColumn(C,T.cellIndex)});break;case"addcolumnafter":case"addcolumnbefore":h.Table.appendColumn(C,A.cellIndex,S==="addcolumnafter",this.j.createInside);break;case"addrowafter":case"addrowbefore":h.Table.appendRow(C,A.parentNode,S==="addrowafter",this.j.createInside)}}return!1}},_.prototype.onAfterCommand=function(S){/^justify/.test(S)&&this.module.getAllSelectedCells().forEach(function(E){return(0,m.alignElement)(S,E)})},_.prototype.beforeDestruct=function(S){this.onRemoveSelection(),S.e.off(".select-cells")},u.__decorate([g.autobind],_.prototype,"onStartSelection",null),u.__decorate([(0,g.watch)(":outsideClick")],_.prototype,"onOutsideClick",null),u.__decorate([(0,g.watch)(":change")],_.prototype,"onChange",null),u.__decorate([g.autobind],_.prototype,"onRemoveSelection",null),u.__decorate([g.autobind],_.prototype,"onStopSelection",null),u.__decorate([g.autobind],_.prototype,"onExecCommand",null),u.__decorate([g.autobind],_.prototype,"onAfterCommand",null),_}(d.Plugin);a.selectCells=b,v.pluginSystem.add("selectCells",b)},33100:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.select={normalizeSelectionBeforeCutAndCopy:!1}},95323:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.select=void 0;var u=s(20255),d=s(57549),h=s(43441),p=s(26596),m=s(24263),f=s(2074),g=s(17332);s(33100);var v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.proxyEventsList=["click","mousedown","touchstart","mouseup","touchend"],b}return u.__extends(y,x),y.prototype.afterInit=function(b){var w=this;this.proxyEventsList.forEach(function(_){b.e.on(_+".select",w.onStartSelection)})},y.prototype.beforeDestruct=function(b){var w=this;this.proxyEventsList.forEach(function(_){b.e.on(_+".select",w.onStartSelection)})},y.prototype.onStartSelection=function(b){for(var w,_=this.j,S=b.target;w===void 0&&S&&S!==_.editor;)w=_.e.fire((0,p.camelCase)(b.type+"_"+S.nodeName.toLowerCase()),S,b),S=S.parentElement;b.type==="click"&&w===void 0&&S===_.editor&&_.e.fire(b.type+"Editor",S,b)},y.prototype.onOutsideClick=function(b){var w=this,_=b.target;m.Dom.up(_,function(S){return S===w.j.editor})||f.UIElement.closestElement(_,f.Popup)||this.j.e.fire("outsideClick",b)},y.prototype.beforeCommandCut=function(b){var w=this.j.s;if(b==="cut"&&!w.isCollapsed()){var _=w.current();_&&m.Dom.isOrContains(this.j.editor,_)&&this.onCopyNormalizeSelectionBound()}},y.prototype.onCopyNormalizeSelectionBound=function(b){var w=this.j,_=w.editor;w.o.select.normalizeSelectionBeforeCutAndCopy&&!w.s.isCollapsed()&&(!b||b.isTrusted&&m.Dom.isNode(b.target)&&m.Dom.isOrContains(_,b.target))&&this.jodit.s.expandSelection()},u.__decorate([h.autobind],y.prototype,"onStartSelection",null),u.__decorate([(0,h.watch)("ow:click")],y.prototype,"onOutsideClick",null),u.__decorate([(0,h.watch)([":beforeCommand"])],y.prototype,"beforeCommandCut",null),u.__decorate([(0,h.watch)([":copy",":cut"])],y.prototype,"onCopyNormalizeSelectionBound",null),y}(d.Plugin);a.select=v,g.pluginSystem.add("select",v)},53387:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.minWidth=200,u.Config.prototype.maxWidth="100%",u.Config.prototype.minHeight=200,u.Config.prototype.maxHeight="auto",u.Config.prototype.saveHeightInStorage=!1},71003:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.size=void 0;var u=s(20255);s(30962);var d=s(61817),h=s(26911),p=s(85605),m=s(43441),f=s(17332);s(53387);var g=function(v){function x(){var y=v!==null&&v.apply(this,arguments)||this;return y.__resizeWorkspaces=y.j.async.debounce(y.__resizeWorkspaceImd,y.j.defaultTimeout,!0),y}return u.__extends(x,v),x.prototype.afterInit=function(y){y.e.on("setHeight.size",this.__setHeight).on("setWidth.size",this.__setWidth).on("afterInit.size changePlace.size",this.__initialize,{top:!0}).on(y.ow,"load.size",this.__resizeWorkspaces).on("afterInit.size resize.size afterUpdateToolbar.size scroll.size afterResize.size",this.__resizeWorkspaces).on("toggleFullSize.size toggleToolbar.size",this.__resizeWorkspaceImd),this.__initialize()},x.prototype.__initialize=function(){var y=this.j;if(!y.o.inline){var b=y.o.height;if(y.o.saveHeightInStorage&&b!=="auto"){var w=y.storage.get("height");w&&(b=w)}(0,h.css)(y.editor,{minHeight:"100%"}),(0,h.css)(y.container,{minHeight:y.o.minHeight,maxHeight:y.o.maxHeight,minWidth:y.o.minWidth,maxWidth:y.o.maxWidth}),this.__setHeight(b),this.__setWidth(y.o.width)}},x.prototype.__setHeight=function(y){if((0,d.isNumber)(y)){var b=this.j.o,w=b.minHeight,_=b.maxHeight;(0,d.isNumber)(w)&&w>y&&(y=w),(0,d.isNumber)(_)&&y>_&&(y=_)}(0,h.css)(this.j.container,"height",y),this.j.o.saveHeightInStorage&&this.j.storage.set("height",y),this.__resizeWorkspaceImd()},x.prototype.__setWidth=function(y){if((0,d.isNumber)(y)){var b=this.j.o,w=b.minWidth,_=b.maxWidth;(0,d.isNumber)(w)&&w>y&&(y=w),(0,d.isNumber)(_)&&y>_&&(y=_)}(0,h.css)(this.j.container,"width",y),this.__resizeWorkspaceImd()},x.prototype.__getNotWorkHeight=function(){var y,b;return(((y=this.j.toolbarContainer)===null||y===void 0?void 0:y.offsetHeight)||0)+(((b=this.j.statusbar)===null||b===void 0?void 0:b.getHeight())||0)+2},x.prototype.__resizeWorkspaceImd=function(){if(this.j&&!this.j.isDestructed&&this.j.o&&!this.j.o.inline&&this.j.container&&this.j.container.parentNode){var y=((0,h.css)(this.j.container,"minHeight")||0)-this.__getNotWorkHeight();if((0,d.isNumber)(y)&&y>0&&([this.j.workplace,this.j.iframe,this.j.editor].map(function(w){w&&(0,h.css)(w,"minHeight",y)}),this.j.e.fire("setMinHeight",y)),(0,d.isNumber)(this.j.o.maxHeight)){var b=this.j.o.maxHeight-this.__getNotWorkHeight();[this.j.workplace,this.j.iframe,this.j.editor].map(function(w){w&&(0,h.css)(w,"maxHeight",b)}),this.j.e.fire("setMaxHeight",b)}this.j.container&&(0,h.css)(this.j.workplace,"height",this.j.o.height!=="auto"||this.j.isFullSize?this.j.container.offsetHeight-this.__getNotWorkHeight():"auto")}},x.prototype.beforeDestruct=function(y){y.e.off(y.ow,"load.size",this.__resizeWorkspaces).off(".size")},u.__decorate([(0,m.throttle)()],x.prototype,"__initialize",null),u.__decorate([m.autobind],x.prototype,"__resizeWorkspaceImd",null),u.__decorate([m.autobind],x)}(p.Plugin);a.size=g,f.pluginSystem.add("size",g)},13985:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(86893),h=s(77904);u.Config.prototype.beautifyHTML=!d.IS_IE,u.Config.prototype.sourceEditor="ace",u.Config.prototype.sourceEditorNativeOptions={showGutter:!0,theme:"ace/theme/idle_fingers",mode:"ace/mode/html",wrap:!0,highlightActiveLine:!0},u.Config.prototype.sourceEditorCDNUrlsJS=["https://cdnjs.cloudflare.com/ajax/libs/ace/1.4.2/ace.js"],u.Config.prototype.beautifyHTMLCDNUrlsJS=["https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.4/beautify.min.js","https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.14.4/beautify-html.min.js"],h.Icon.set("source",s(9342)),u.Config.prototype.controls.source={mode:d.MODE_SPLIT,exec:function(p){p.toggleMode()},isActive:function(p){return p.getRealMode()===d.MODE_SOURCE},tooltip:"Change mode"}},34186:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.AceEditor=void 0;var u=s(20255),d=s(86893),h=s(40332),p=function(m){function f(){var g=m!==null&&m.apply(this,arguments)||this;return g.className="jodit_ace_editor",g.proxyOnBlur=function(v){g.j.e.fire("blur",v)},g.proxyOnFocus=function(v){g.j.e.fire("focus",v)},g.proxyOnMouseDown=function(v){g.j.e.fire("mousedown",v)},g}return u.__extends(f,m),f.prototype.aceExists=function(){return this.j.ow.ace!==void 0},f.prototype.getLastColumnIndex=function(g){return this.instance.session.getLine(g).length},f.prototype.getLastColumnIndices=function(){for(var g=this.instance.session.getLength(),v=[],x=0,y=0;g>y;y++)x+=this.getLastColumnIndex(y),y>0&&(x+=1),v[y]=x;return v},f.prototype.getRowColumnIndices=function(g){var v=this.getLastColumnIndices();if(v[0]>=g)return{row:0,column:g};for(var x=1,y=1;v.length>y;y++)g>v[y]&&(x=y+1);return{row:x,column:g-v[x-1]-1}},f.prototype.setSelectionRangeIndices=function(g,v){var x=this.getRowColumnIndices(g),y=this.getRowColumnIndices(v);this.instance.getSelection().setSelectionRange({start:x,end:y})},f.prototype.getIndexByRowColumn=function(g,v){return this.getLastColumnIndices()[g]-this.getLastColumnIndex(g)+v},f.prototype.init=function(g){var v=this,x=function(){if(v.instance===void 0&&v.aceExists()){var y=v.j.c.div("jodit-source__mirror-fake");v.container.appendChild(y),v.instance=g.ow.ace.edit(y),v.instance.setTheme(g.o.sourceEditorNativeOptions.theme),v.instance.renderer.setShowGutter(g.o.sourceEditorNativeOptions.showGutter),v.instance.getSession().setMode(g.o.sourceEditorNativeOptions.mode),v.instance.setHighlightActiveLine(g.o.sourceEditorNativeOptions.highlightActiveLine),v.instance.getSession().setUseWrapMode(!0),v.instance.setOption("indentedSoftWrap",!1),v.instance.setOption("wrap",g.o.sourceEditorNativeOptions.wrap),v.instance.getSession().setUseWorker(!1),v.instance.$blockScrolling=1/0,v.instance.on("change",v.toWYSIWYG),v.instance.on("focus",v.proxyOnFocus),v.instance.on("mousedown",v.proxyOnMouseDown),v.instance.on("blur",v.proxyOnBlur),g.getRealMode()!==d.MODE_WYSIWYG&&v.setValue(v.getValue());var b=v.j.async.debounce(function(){g.isInDestruct||(v.instance.setOption("maxLines",g.o.height!=="auto"?g.workplace.offsetHeight/v.instance.renderer.lineHeight:1/0),v.instance.resize())},2*v.j.defaultTimeout);g.e.on("afterResize afterSetMode",b),b(),v.onReady()}};g.e.on("afterSetMode",function(){g.getRealMode()!==d.MODE_SOURCE&&g.getMode()!==d.MODE_SPLIT||(v.fromWYSIWYG(),x())}),x(),this.aceExists()||(0,h.loadNext)(g,g.o.sourceEditorCDNUrlsJS).then(function(){g.isInDestruct||x()}).catch(function(){return null})},f.prototype.destruct=function(){var g,v;this.instance.off("change",this.toWYSIWYG),this.instance.off("focus",this.proxyOnFocus),this.instance.off("mousedown",this.proxyOnMouseDown),this.instance.destroy(),(v=(g=this.j)===null||g===void 0?void 0:g.events)===null||v===void 0||v.off("aceInited.source")},f.prototype.setValue=function(g){if(!this.j.o.editHTMLDocumentMode&&this.j.o.beautifyHTML){var v=this.j.e.fire("beautifyHTML",g);(0,h.isString)(v)&&(g=v)}this.instance.setValue(g),this.instance.clearSelection()},f.prototype.getValue=function(){return this.instance.getValue()},f.prototype.setReadOnly=function(g){this.instance.setReadOnly(g)},Object.defineProperty(f.prototype,"isFocused",{get:function(){return this.instance.isFocused()},enumerable:!1,configurable:!0}),f.prototype.focus=function(){this.instance.focus()},f.prototype.blur=function(){this.instance.blur()},f.prototype.getSelectionStart=function(){var g=this.instance.selection.getRange();return this.getIndexByRowColumn(g.start.row,g.start.column)},f.prototype.getSelectionEnd=function(){var g=this.instance.selection.getRange();return this.getIndexByRowColumn(g.end.row,g.end.column)},f.prototype.selectAll=function(){this.instance.selection.selectAll()},f.prototype.insertRaw=function(g){var v=this.instance.selection.getCursor(),x=this.instance.session.insert(v,g);this.instance.selection.setRange({start:v,end:x},!1)},f.prototype.setSelectionRange=function(g,v){this.setSelectionRangeIndices(g,v)},f.prototype.setPlaceHolder=function(g){},f.prototype.replaceUndoManager=function(){var g=this.jodit.history;this.instance.commands.addCommand({name:"Undo",bindKey:{win:"Ctrl-Z",mac:"Command-Z"},exec:function(){g.undo()}}),this.instance.commands.addCommand({name:"Redo",bindKey:{win:"Ctrl-Shift-Z",mac:"Command-Shift-Z"},exec:function(){g.redo()}})},f}(s(36729).SourceEditor);a.AceEditor=p},58633:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.TextAreaEditor=void 0;var u=s(20255),d=s(26911),h=s(24263),p=function(m){function f(){var g=m!==null&&m.apply(this,arguments)||this;return g.autosize=g.j.async.debounce(function(){g.instance.style.height="auto",g.instance.style.height=g.instance.scrollHeight+"px"},g.j.defaultTimeout),g}return u.__extends(f,m),f.prototype.init=function(g){var v=this;this.instance=g.c.element("textarea",{class:"jodit-source__mirror"}),this.container.appendChild(this.instance),g.e.on(this.instance,"mousedown keydown touchstart input",g.async.debounce(this.toWYSIWYG,g.defaultTimeout)).on("setMinHeight.source",function(x){(0,d.css)(v.instance,"minHeight",x)}).on(this.instance,"change keydown mousedown touchstart input",this.autosize).on("afterSetMode.source",this.autosize).on(this.instance,"mousedown focus",function(x){g.e.fire(x.type,x)}),this.autosize(),this.onReady()},f.prototype.destruct=function(){h.Dom.safeRemove(this.instance)},f.prototype.getValue=function(){return this.instance.value},f.prototype.setValue=function(g){this.instance.value=g},f.prototype.insertRaw=function(g){var v=this.getValue();if(0>this.getSelectionStart())this.setValue(v+g);else{var x=this.getSelectionStart(),y=this.getSelectionEnd();this.setValue(v.substring(0,x)+g+v.substring(y,v.length))}},f.prototype.getSelectionStart=function(){return this.instance.selectionStart},f.prototype.getSelectionEnd=function(){return this.instance.selectionEnd},f.prototype.setSelectionRange=function(g,v){v===void 0&&(v=g),this.instance.setSelectionRange(g,v)},Object.defineProperty(f.prototype,"isFocused",{get:function(){return this.instance===this.j.od.activeElement},enumerable:!1,configurable:!0}),f.prototype.focus=function(){this.instance.focus()},f.prototype.blur=function(){this.instance.blur()},f.prototype.setPlaceHolder=function(g){this.instance.setAttribute("placeholder",g)},f.prototype.setReadOnly=function(g){g?this.instance.setAttribute("readonly","true"):this.instance.removeAttribute("readonly")},f.prototype.selectAll=function(){this.instance.select()},f.prototype.replaceUndoManager=function(){var g=this,v=this.jodit.history;this.j.e.on(this.instance,"keydown",function(x){if((x.ctrlKey||x.metaKey)&&x.key==="z")return x.shiftKey?v.redo():v.undo(),g.setSelectionRange(g.getValue().length),!1})},f}(s(36729).SourceEditor);a.TextAreaEditor=p},52834:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);u.__exportStar(s(58633),a),u.__exportStar(s(34186),a)},94785:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.createSourceEditor=void 0;var u=s(40332),d=s(52834);a.createSourceEditor=function(h,p,m,f,g){var v;if((0,u.isFunction)(h))v=h(p);else switch(h){case"ace":if(!p.o.shadowRoot){v=new d.AceEditor(p,m,f,g);break}default:v=new d.TextAreaEditor(p,m,f,g)}return v.init(p),v.onReadyAlways(function(){v.setReadOnly(p.o.readonly)}),v}},36729:function(c,a){Object.defineProperty(a,"__esModule",{value:!0}),a.SourceEditor=void 0;var s=function(){function u(d,h,p,m){this.jodit=d,this.container=h,this.toWYSIWYG=p,this.fromWYSIWYG=m,this.className="",this.isReady=!1}return Object.defineProperty(u.prototype,"j",{get:function(){return this.jodit},enumerable:!1,configurable:!0}),u.prototype.onReady=function(){this.replaceUndoManager(),this.isReady=!0,this.j.e.fire(this,"ready")},u.prototype.onReadyAlways=function(d){var h;this.isReady?d():(h=this.j.events)===null||h===void 0||h.on(this,"ready",d)},u}();a.SourceEditor=s},86030:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.source=void 0;var u=s(20255);s(68197);var d=s(86893),h=s(86893),p=s(57549),m=s(24263),f=s(40332),g=s(43441),v=s(17332),x=s(94785);s(13985);var y=function(b){function w(){var _=b!==null&&b.apply(this,arguments)||this;return _.buttons=[{name:"source",group:"source"}],_.__lock=!1,_.__oldMirrorValue="",_.tempMarkerStart="{start-jodit-selection}",_.tempMarkerStartReg=/{start-jodit-selection}/g,_.tempMarkerEnd="{end-jodit-selection}",_.tempMarkerEndReg=/{end-jodit-selection}/g,_.getSelectionStart=function(){var S,E;return(E=(S=_.sourceEditor)===null||S===void 0?void 0:S.getSelectionStart())!==null&&E!==void 0?E:0},_.getSelectionEnd=function(){var S,E;return(E=(S=_.sourceEditor)===null||S===void 0?void 0:S.getSelectionEnd())!==null&&E!==void 0?E:0},_}return u.__extends(w,b),w.prototype.onInsertHTML=function(_){var S;if(!this.j.o.readonly&&!this.j.isEditorMode())return(S=this.sourceEditor)===null||S===void 0||S.insertRaw(_),this.toWYSIWYG(),!1},w.prototype.fromWYSIWYG=function(_){if(_===void 0&&(_=!1),!this.__lock||_===!0){this.__lock=!0;var S=this.j.getEditorValue(!1,h.SOURCE_CONSUMER);S!==this.getMirrorValue()&&this.setMirrorValue(S),this.__lock=!1}},w.prototype.toWYSIWYG=function(){if(!this.__lock){var _=this.getMirrorValue();_!==this.__oldMirrorValue&&(this.__lock=!0,this.j.value=_,this.__lock=!1,this.__oldMirrorValue=_)}},w.prototype.getNormalPosition=function(_,S){for(S=S.replace(/<(script|style|iframe)[^>]*>[^]*?<\/\1>/im,function(A){for(var C="",M=0;A.length>M;M+=1)C+=h.INVISIBLE_SPACE;return C});_>0&&S[_]===h.INVISIBLE_SPACE;)_--;for(var E=_;E>0;){if(S[--E]==="<"&&S[E+1]!==void 0&&S[E+1].match(/[\w/]+/i))return E;if(S[E]===">")return _}return _},w.prototype.clnInv=function(_){return _.replace(d.INVISIBLE_SPACE_REG_EXP(),"")},w.prototype.onSelectAll=function(_){var S;if(_.toLowerCase()==="selectall"&&this.j.getRealMode()===h.MODE_SOURCE)return(S=this.sourceEditor)===null||S===void 0||S.selectAll(),!1},w.prototype.getMirrorValue=function(){var _;return((_=this.sourceEditor)===null||_===void 0?void 0:_.getValue())||""},w.prototype.setMirrorValue=function(_){var S;(S=this.sourceEditor)===null||S===void 0||S.setValue(_)},w.prototype.setFocusToMirror=function(){var _;(_=this.sourceEditor)===null||_===void 0||_.focus()},w.prototype.saveSelection=function(){if(this.j.getRealMode()===d.MODE_WYSIWYG)this.j.s.save(),this.j.synchronizeValues(),this.fromWYSIWYG(!0);else{if(this.j.o.editHTMLDocumentMode)return;var _=this.getMirrorValue();if(this.getSelectionStart()===this.getSelectionEnd()){var S=this.j.s.marker(!0),E=this.getNormalPosition(this.getSelectionStart(),this.getMirrorValue());this.setMirrorValue(_.substring(0,E)+this.clnInv(S.outerHTML)+_.substring(E))}else{var A=this.j.s.marker(!0),C=this.j.s.marker(!1),M=(E=this.getNormalPosition(this.getSelectionStart(),_),this.getNormalPosition(this.getSelectionEnd(),_));this.setMirrorValue(_.substring(0,E)+this.clnInv(A.outerHTML)+_.substring(E,M-E)+this.clnInv(C.outerHTML)+_.substring(M))}this.toWYSIWYG()}},w.prototype.removeSelection=function(){if(this.j.getRealMode()===d.MODE_WYSIWYG)return this.__lock=!0,this.j.s.restore(),void(this.__lock=!1);var _=this.getMirrorValue(),S=0,E=0;try{if(_=_.replace(/<span[^>]+data-jodit-selection_marker=(["'])start\1[^>]*>[<>]*?<\/span>/gim,this.tempMarkerStart).replace(/<span[^>]+data-jodit-selection_marker=(["'])end\1[^>]*>[<>]*?<\/span>/gim,this.tempMarkerEnd),!this.j.o.editHTMLDocumentMode&&this.j.o.beautifyHTML){var A=this.j.e.fire("beautifyHTML",_);(0,f.isString)(A)&&(_=A)}if(E=S=_.indexOf(this.tempMarkerStart),_=_.replace(this.tempMarkerStartReg,""),S!==-1){var C=_.indexOf(this.tempMarkerEnd);C!==-1&&(E=C)}_=_.replace(this.tempMarkerEndReg,"")}finally{_=_.replace(this.tempMarkerEndReg,"").replace(this.tempMarkerStartReg,"")}this.setMirrorValue(_),this.setMirrorSelectionRange(S,E),this.toWYSIWYG(),this.setFocusToMirror()},w.prototype.setMirrorSelectionRange=function(_,S){var E;(E=this.sourceEditor)===null||E===void 0||E.setSelectionRange(_,S)},w.prototype.onReadonlyReact=function(){var _;(_=this.sourceEditor)===null||_===void 0||_.setReadOnly(this.j.o.readonly)},w.prototype.afterInit=function(_){var S=this;if(this.mirrorContainer=_.c.div("jodit-source"),_.workplace.appendChild(this.mirrorContainer),_.e.on("afterAddPlace changePlace afterInit",function(){_.workplace.appendChild(S.mirrorContainer)}),this.sourceEditor=(0,x.createSourceEditor)("area",_,this.mirrorContainer,this.toWYSIWYG,this.fromWYSIWYG),_.e.on(_.ow,"keydown",function(A){var C;A.key===h.KEY_ESC&&(!((C=S.sourceEditor)===null||C===void 0)&&C.isFocused)&&S.sourceEditor.blur()}),this.onReadonlyReact(),_.e.on("placeholder.source",function(A){var C;(C=S.sourceEditor)===null||C===void 0||C.setPlaceHolder(A)}).on("change.source",this.syncValueFromWYSIWYG).on("beautifyHTML",function(A){return A}),_.o.beautifyHTML){var E=function(){var A,C=_.ow.html_beautify;return!(!C||_.isInDestruct||((A=_.events)===null||A===void 0||A.off("beautifyHTML").on("beautifyHTML",function(M){return C(M)}),0))};E()||(0,f.loadNext)(_,_.o.beautifyHTMLCDNUrlsJS).then(E)}this.syncValueFromWYSIWYG(!0),this.initSourceEditor(_)},w.prototype.syncValueFromWYSIWYG=function(_){_===void 0&&(_=!1);var S=this.j;S.getMode()!==h.MODE_SPLIT&&S.getMode()!==h.MODE_SOURCE||this.fromWYSIWYG(_)},w.prototype.initSourceEditor=function(_){var S,E=this;if(_.o.sourceEditor!=="area"){var A=(0,x.createSourceEditor)(_.o.sourceEditor,_,this.mirrorContainer,this.toWYSIWYG,this.fromWYSIWYG);A.onReadyAlways(function(){var C,M;(C=E.sourceEditor)===null||C===void 0||C.destruct(),E.sourceEditor=A,E.syncValueFromWYSIWYG(!0),(M=_.events)===null||M===void 0||M.fire("sourceEditorReady",_)})}else(S=this.sourceEditor)===null||S===void 0||S.onReadyAlways(function(){var C;E.syncValueFromWYSIWYG(!0),(C=_.events)===null||C===void 0||C.fire("sourceEditorReady",_)})},w.prototype.beforeDestruct=function(){this.sourceEditor&&(this.sourceEditor.destruct(),delete this.sourceEditor),m.Dom.safeRemove(this.mirrorContainer)},u.__decorate([(0,g.watch)(":insertHTML.source")],w.prototype,"onInsertHTML",null),u.__decorate([g.autobind],w.prototype,"fromWYSIWYG",null),u.__decorate([g.autobind],w.prototype,"toWYSIWYG",null),u.__decorate([g.autobind],w.prototype,"getNormalPosition",null),u.__decorate([(0,g.watch)(":beforeCommand.source")],w.prototype,"onSelectAll",null),u.__decorate([(0,g.watch)(":beforeSetMode.source")],w.prototype,"saveSelection",null),u.__decorate([(0,g.watch)(":afterSetMode.source")],w.prototype,"removeSelection",null),u.__decorate([g.autobind],w.prototype,"setMirrorSelectionRange",null),u.__decorate([(0,g.watch)(":readonly.source")],w.prototype,"onReadonlyReact",null),u.__decorate([g.autobind],w.prototype,"syncValueFromWYSIWYG",null),w}(p.Plugin);a.source=y,v.pluginSystem.add("source",y)},50876:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.spellcheck=!1,d.Icon.set("spellcheck",s(69546)),u.Config.prototype.controls.spellcheck={isActive:function(h){return h.o.spellcheck},icon:s(69546),name:"spellcheck",command:"toggleSpellcheck",tooltip:"Spellcheck"}},87882:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.zh_tw=a.zh_cn=a.tr=a.ru=a.pt_br=a.pl=a.nl=a.mn=a.ko=a.ja=a.it=a.id=a.hu=a.he=a.fr=a.fa=a.es=a.de=a.cs_cz=a.ar=void 0;var u=s(5586);a.ar=u;var d=s(66023);a.cs_cz=d;var h=s(65860);a.de=h;var p=s(86055);a.es=p;var m=s(50037);a.fa=m;var f=s(7118);a.fr=f;var g=s(30298);a.he=g;var v=s(52107);a.hu=v;var x=s(31240);a.id=x;var y=s(4101);a.it=y;var b=s(69286);a.ja=b;var w=s(13402);a.ko=w;var _=s(1242);a.mn=_;var S=s(89574);a.nl=S;var E=s(63630);a.pl=E;var A=s(72212);a.pt_br=A;var C=s(82570);a.ru=C;var M=s(19323);a.tr=M;var T=s(50279);a.zh_cn=T;var k=s(98364);a.zh_tw=k},17002:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.spellcheck=void 0;var u=s(20255),d=s(57549),h=s(67309),p=s(43441),m=s(17332);s(50876);var f=function(g){function v(x){var y=g.call(this,x)||this;return y.buttons=[{group:"state",name:"spellcheck"}],(0,m.extendLang)(s(87882)),y}return u.__extends(v,g),v.prototype.afterInit=function(x){var y=this;x.e.on("afterInit afterAddPlace prepareWYSIWYGEditor",this.toggleSpellcheck),this.toggleSpellcheck(),x.registerCommand("toggleSpellcheck",function(){y.jodit.o.spellcheck=!y.jodit.o.spellcheck,y.toggleSpellcheck(),y.j.e.fire("updateToolbar")})},v.prototype.toggleSpellcheck=function(){(0,h.attr)(this.jodit.editor,"spellcheck",this.jodit.o.spellcheck)},v.prototype.beforeDestruct=function(x){},u.__decorate([p.autobind],v.prototype,"toggleSpellcheck",null),v}(d.Plugin);a.spellcheck=f,m.pluginSystem.add("spellcheck",f)},59818:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.showCharsCounter=!0,u.Config.prototype.countHTMLChars=!1,u.Config.prototype.showWordsCounter=!0},1557:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.stat=void 0;var u=s(20255),d=s(86893),h=s(85605),p=s(24263),m=s(17332);s(59818);var f=function(g){function v(){var x=g!==null&&g.apply(this,arguments)||this;return x.charCounter=null,x.wordCounter=null,x.reInit=function(){x.j.o.showCharsCounter&&x.charCounter&&x.j.statusbar.append(x.charCounter,!0),x.j.o.showWordsCounter&&x.wordCounter&&x.j.statusbar.append(x.wordCounter,!0),x.j.e.off("change keyup",x.calc).on("change keyup",x.calc),x.calc()},x.calc=x.j.async.throttle(function(){var y=x.j.text;if(x.j.o.showCharsCounter&&x.charCounter){var b=x.j.o.countHTMLChars?x.j.value:y.replace((0,d.SPACE_REG_EXP)(),"");x.charCounter.textContent=x.j.i18n("Chars: %d",b.length)}x.j.o.showWordsCounter&&x.wordCounter&&(x.wordCounter.textContent=x.j.i18n("Words: %d",y.replace((0,d.INVISIBLE_SPACE_REG_EXP)(),"").split((0,d.SPACE_REG_EXP)()).filter(function(w){return w.length}).length))},x.j.defaultTimeout),x}return u.__extends(v,g),v.prototype.afterInit=function(){this.charCounter=this.j.c.span(),this.wordCounter=this.j.c.span(),this.j.e.on("afterInit changePlace afterAddPlace",this.reInit),this.reInit()},v.prototype.beforeDestruct=function(){p.Dom.safeRemove(this.charCounter),p.Dom.safeRemove(this.wordCounter),this.j.e.off("afterInit changePlace afterAddPlace",this.reInit),this.charCounter=null,this.wordCounter=null},v}(h.Plugin);a.stat=f,m.pluginSystem.add("stat",f)},40790:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166);u.Config.prototype.toolbarSticky=!0,u.Config.prototype.toolbarDisableStickyForMobile=!0,u.Config.prototype.toolbarStickyOffset=0},82808:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.sticky=void 0;var u=s(20255);s(60057);var d=s(86893),h=s(85605),p=s(24263),m=s(40332),f=s(43441),g=s(17332);s(40790);var v=function(x){function y(){var b=x!==null&&x.apply(this,arguments)||this;return b.isToolbarSticked=!1,b.createDummy=function(w){d.IS_IE&&!b.dummyBox&&(b.dummyBox=b.j.c.div(),b.dummyBox.classList.add("jodit_sticky-dummy_toolbar"),b.j.container.insertBefore(b.dummyBox,w))},b.addSticky=function(w){b.isToolbarSticked||(b.createDummy(w),b.j.container.classList.add("jodit_sticky"),b.isToolbarSticked=!0),(0,m.css)(w,{top:b.j.o.toolbarStickyOffset||null,width:b.j.container.offsetWidth-2}),d.IS_IE&&b.dummyBox&&(0,m.css)(b.dummyBox,{height:w.offsetHeight})},b.removeSticky=function(w){b.isToolbarSticked&&((0,m.css)(w,{width:"",top:""}),b.j.container.classList.remove("jodit_sticky"),b.isToolbarSticked=!1)},b}return u.__extends(y,x),y.prototype.afterInit=function(b){var w=this;b.e.on(b.ow,"scroll.sticky wheel.sticky mousewheel.sticky resize.sticky",this.onScroll).on("getStickyState.sticky",function(){return w.isToolbarSticked})},y.prototype.onScroll=function(){var b=this.jodit,w=b.ow.pageYOffset||b.od.documentElement&&b.od.documentElement.scrollTop||0,_=(0,m.offset)(b.container,b,b.od,!0),S=b.getMode()===d.MODE_WYSIWYG&&w+b.o.toolbarStickyOffset>_.top&&_.top+_.height>w+b.o.toolbarStickyOffset&&!(b.o.toolbarDisableStickyForMobile&&this.isMobile());if(b.o.toolbarSticky&&b.o.toolbar===!0&&this.isToolbarSticked!==S){var E=b.toolbarContainer;E&&(S?this.addSticky(E):this.removeSticky(E)),b.e.fire("toggleSticky",S)}},y.prototype.isMobile=function(){return this.j&&this.j.options&&this.j.container&&this.j.o.sizeSM>=this.j.container.offsetWidth},y.prototype.beforeDestruct=function(b){this.dummyBox&&p.Dom.safeRemove(this.dummyBox),b.e.off(b.ow,"scroll.sticky wheel.sticky mousewheel.sticky resize.sticky",this.onScroll).off(".sticky")},u.__decorate([(0,f.throttle)()],y.prototype,"onScroll",null),y}(h.Plugin);a.sticky=v,g.pluginSystem.add("sticky",v)},31750:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(77904);u.Config.prototype.usePopupForSpecialCharacters=!1,u.Config.prototype.specialCharacters=["!","&quot;","#","$","%","&amp;","'","(",")","*","+","-",".","/","0","1","2","3","4","5","6","7","8","9",":",";","&lt;","=","&gt;","?","@","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","[","]","^","_","`","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","{","|","}","~","&euro;","&lsquo;","&rsquo;","&ldquo;","&rdquo;","&ndash;","&mdash;","&iexcl;","&cent;","&pound;","&curren;","&yen;","&brvbar;","&sect;","&uml;","&copy;","&ordf;","&laquo;","&raquo;","&not;","&reg;","&macr;","&deg;","&sup2;","&sup3;","&acute;","&micro;","&para;","&middot;","&cedil;","&sup1;","&ordm;","&frac14;","&frac12;","&frac34;","&iquest;","&Agrave;","&Aacute;","&Acirc;","&Atilde;","&Auml;","&Aring;","&AElig;","&Ccedil;","&Egrave;","&Eacute;","&Ecirc;","&Euml;","&Igrave;","&Iacute;","&Icirc;","&Iuml;","&ETH;","&Ntilde;","&Ograve;","&Oacute;","&Ocirc;","&Otilde;","&Ouml;","&times;","&Oslash;","&Ugrave;","&Uacute;","&Ucirc;","&Uuml;","&Yacute;","&THORN;","&szlig;","&agrave;","&aacute;","&acirc;","&atilde;","&auml;","&aring;","&aelig;","&ccedil;","&egrave;","&eacute;","&ecirc;","&euml;","&igrave;","&iacute;","&icirc;","&iuml;","&eth;","&ntilde;","&ograve;","&oacute;","&ocirc;","&otilde;","&ouml;","&divide;","&oslash;","&ugrave;","&uacute;","&ucirc;","&uuml;","&yacute;","&thorn;","&yuml;","&OElig;","&oelig;","&#372;","&#374","&#373","&#375;","&sbquo;","&#8219;","&bdquo;","&hellip;","&trade;","&#9658;","&bull;","&rarr;","&rArr;","&hArr;","&diams;","&asymp;"],d.Icon.set("symbols",s(43158)),u.Config.prototype.controls.symbols={hotkeys:["ctrl+shift+i","cmd+shift+i"],tooltip:"Insert Special Character",popup:function(h,p,m,f){var g=h.e.fire("generateSpecialCharactersTable.symbols");if(g){if(h.o.usePopupForSpecialCharacters){var v=h.c.div();return v.classList.add("jodit-symbols"),v.appendChild(g),h.e.on(g,"close_dialog",f),v}h.alert(g,"Select Special Character",void 0,"jodit-symbols").bindDestruct(h);var x=g.querySelector("a");x&&x.focus()}}}},21236:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.zh_tw=a.zh_cn=a.tr=a.ru=a.pt_br=a.pl=a.nl=a.mn=a.ko=a.ja=a.it=a.id=a.hu=a.he=a.fr=a.fa=a.es=a.de=a.cs_cz=a.ar=void 0;var u=s(54261);a.ar=u;var d=s(60425);a.cs_cz=d;var h=s(7057);a.de=h;var p=s(48356);a.es=p;var m=s(11428);a.fa=m;var f=s(29084);a.fr=f;var g=s(22876);a.he=g;var v=s(20890);a.hu=v;var x=s(75987);a.id=x;var y=s(60379);a.it=y;var b=s(99950);a.ja=b;var w=s(60934);a.ko=w;var _=s(45913);a.mn=_;var S=s(21994);a.nl=S;var E=s(38128);a.pl=E;var A=s(71515);a.pt_br=A;var C=s(58194);a.ru=C;var M=s(65802);a.tr=M;var T=s(86628);a.zh_cn=T;var k=s(32210);a.zh_tw=k},48560:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.symbols=void 0;var u=s(20255);s(33393);var d=s(86893),h=s(85605),p=s(24263),m=s(76502),f=s(17332);s(31750);var g=function(v){function x(y){var b=v.call(this,y)||this;return b.buttons=[{name:"symbols",group:"insert"}],b.countInRow=17,(0,f.extendLang)(s(21236)),b}return u.__extends(x,v),x.prototype.afterInit=function(y){var b=this;y.e.on("generateSpecialCharactersTable.symbols",function(){for(var w=y.c.fromHTML(`<div class="jodit-symbols__container">
						<div class="jodit-symbols__container_table">
							<table class="jodit-symbols__table"><tbody></tbody></table>
						</div>
						<div class="jodit-symbols__container_preview">
							<div class="jodit-symbols__preview"></div>
						</div>
					</div>`),_=w.querySelector(".jodit-symbols__preview"),S=w.querySelector("table").tBodies[0],E=[],A=0;y.o.specialCharacters.length>A;){for(var C=y.c.element("tr"),M=0;b.countInRow>M&&y.o.specialCharacters.length>A;M+=1,A+=1){var T=y.c.element("td"),k=y.c.fromHTML(`<a
									data-index="`.concat(A,`"
									data-index-j="`).concat(M,`"
									role="option"
									tabindex="-1"
							>`).concat(y.o.specialCharacters[A],"</a>"));E.push(k),T.appendChild(k),C.appendChild(T)}S.appendChild(C)}var P=b;return y.e.on(E,"focus",function(){_.innerHTML=this.innerHTML}).on(E,"mousedown",function(D){p.Dom.isTag(this,"a")&&(y.s.focus(),y.s.insertHTML(this.innerHTML),y.e.fire(this,"close_dialog"),D&&D.preventDefault(),D&&D.stopImmediatePropagation())}).on(E,"mouseenter",function(){p.Dom.isTag(this,"a")&&this.focus()}).on(E,"keydown",function(D){var I=D.target;if(p.Dom.isTag(I,"a")){var O=parseInt((0,m.attr)(I,"-index")||"0",10),j=parseInt((0,m.attr)(I,"data-index-j")||"0",10),N=void 0;switch(D.key){case d.KEY_UP:case d.KEY_DOWN:E[N=D.key===d.KEY_UP?O-P.countInRow:O+P.countInRow]===void 0&&(N=D.key===d.KEY_UP?Math.floor(E.length/P.countInRow)*P.countInRow+j:j)>E.length-1&&(N-=P.countInRow),E[N]&&E[N].focus();break;case d.KEY_RIGHT:case d.KEY_LEFT:E[N=D.key===d.KEY_LEFT?O-1:O+1]===void 0&&(N=D.key===d.KEY_LEFT?E.length-1:0),E[N]&&E[N].focus();break;case d.KEY_ENTER:y.e.fire(I,"mousedown"),D.stopImmediatePropagation(),D.preventDefault()}}}),w})},x.prototype.beforeDestruct=function(y){y.e.off("generateSpecialCharactersTable.symbols")},x}(h.Plugin);a.symbols=g,f.pluginSystem.add("symbols",g)},15797:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(20255).__exportStar(s(41170),a)},41170:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.onTabInsideLi=void 0;var u=s(20255),d=s(24263);s(603),a.onTabInsideLi=function(h,p){if(p===void 0&&(p=!1),!h.o.tab.tabInsideLiInsertNewList)return!1;var m=u.__read(function(b){var w=b.createInside.fake(),_=b.createInside.fake(),S=b.s.range.cloneRange();S.collapse(!0),S.insertNode(w);var E=b.s.range.cloneRange();return E.collapse(!1),E.insertNode(_),[w,_]}(h),2),f=m[0],g=m[1];try{var v=function(b,w,_){var S=d.Dom.closest(w,"li",b.editor);return!!S&&!(!_&&!d.Dom.isTag(S.previousElementSibling,"li"))&&!(_&&!d.Dom.closest(S,"li",b.editor))&&S}(h,f,p);if(!v||!function(b,w,_){var S=d.Dom.closest(_,"li",w.editor);return!(!S||S!==b&&!b.contains(S))}(v,h,f))return!1;var x=d.Dom.closest(v,["ol","ul"],h.editor);return!(!x||p&&!d.Dom.closest(x,"li",h.editor)||(p?function(b,w,_){var S=d.Dom.closest(w,"li",b.editor),E=Array.from(w.children).filter(function(T){return d.Dom.isTag(T,"li")});d.Dom.after(S,_);var A=E.indexOf(_);if(A!==0&&E.length!==1||d.Dom.safeRemove(w),A!==E.length-1){var C=w.cloneNode();d.Dom.append(_,C);for(var M=A+1;E.length>M;M+=1)d.Dom.append(C,E[M])}}(h,x,v):function(b,w,_){var S=_.previousElementSibling,E=S.lastElementChild,A=d.Dom.isTag(E,w.tagName)?E:b.createInside.element(w.tagName,Array.from(w.attributes).reduce(function(C,M){return C[M.name]=M.value,C},{}));A.appendChild(_),E!==A&&S.appendChild(A)}(h,x,v),0))}finally{var y=h.s.createRange();y.setStartAfter(f),y.setEndBefore(g),h.s.selectRange(y),d.Dom.safeRemove(f),d.Dom.safeRemove(g)}return!1}},56198:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.tab={tabInsideLiInsertNewList:!0}},32246:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(57549),h=s(43441),p=s(86893),m=s(17332),f=s(15797);s(56198);var g=function(v){function x(){return v!==null&&v.apply(this,arguments)||this}return u.__extends(x,v),x.prototype.afterInit=function(y){},x.prototype.__onTab=function(y){if(y.key===p.KEY_TAB&&this.__onShift(y.shiftKey))return!1},x.prototype.__onCommand=function(y){if((y==="indent"||y==="outdent")&&this.__onShift(y==="outdent"))return!1},x.prototype.__onShift=function(y){var b=(0,f.onTabInsideLi)(this.j,y);return b&&this.j.e.fire("afterTab",y),b},x.prototype.beforeDestruct=function(y){},u.__decorate([(0,h.watch)(":keydown.tab")],x.prototype,"__onTab",null),u.__decorate([(0,h.watch)(":beforeCommand.tab")],x.prototype,"__onCommand",null),x}(d.Plugin);m.pluginSystem.add("tab",g)},23308:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.tableKeyboardNavigation=void 0;var u=s(86893),d=s(24263),h=s(25120),p=s(17332);function m(f){f.e.off(".tableKeyboardNavigation").on("keydown.tableKeyboardNavigation",function(g){var v,x;if((g.key===u.KEY_TAB||g.key===u.KEY_LEFT||g.key===u.KEY_RIGHT||g.key===u.KEY_UP||g.key===u.KEY_DOWN)&&(v=f.s.current(),x=d.Dom.up(v,function(M){return M&&M.nodeName&&/^td|th$/i.test(M.nodeName)},f.editor))){var y=f.s.range;if(g.key===u.KEY_TAB||v===x||(g.key!==u.KEY_LEFT&&g.key!==u.KEY_UP||!(d.Dom.prev(v,function(M){return g.key===u.KEY_UP?d.Dom.isTag(M,"br"):!!M},x)||g.key!==u.KEY_UP&&d.Dom.isText(v)&&y.startOffset!==0))&&(g.key!==u.KEY_RIGHT&&g.key!==u.KEY_DOWN||!(d.Dom.next(v,function(M){return g.key===u.KEY_DOWN?d.Dom.isTag(M,"br"):!!M},x)||g.key!==u.KEY_DOWN&&d.Dom.isText(v)&&v.nodeValue&&y.startOffset!==v.nodeValue.length))){var b=d.Dom.up(x,function(M){return M&&/^table$/i.test(M.nodeName)},f.editor),w=null;switch(g.key){case u.KEY_TAB:case u.KEY_LEFT:var _=g.key===u.KEY_LEFT||g.shiftKey?"prev":"next";(w=d.Dom[_](x,function(M){return M&&/^td|th$/i.test(M.tagName)},b))||(h.Table.appendRow(b,_!=="next"&&b.querySelector("tr"),_==="next",f.createInside),w=d.Dom[_](x,d.Dom.isCell,b));break;case u.KEY_UP:case u.KEY_DOWN:var S=0,E=0,A=h.Table.formalMatrix(b,function(M,T,k){M===x&&(S=T,E=k)});g.key===u.KEY_UP?A[S-1]!==void 0&&(w=A[S-1][E]):A[S+1]!==void 0&&(w=A[S+1][E])}if(w){if(w.firstChild)g.key===u.KEY_TAB?f.s.select(w,!0):f.s.setCursorIn(w,g.key===u.KEY_RIGHT||g.key===u.KEY_DOWN);else{var C=f.createInside.element("br");w.appendChild(C),f.s.setCursorBefore(C)}return!1}}}})}a.tableKeyboardNavigation=m,p.pluginSystem.add("tableKeyboardNavigation",m)},30739:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(64968),h=s(76502),p=s(40332),m=s(77904);u.Config.prototype.table={selectionCellStyle:"border: 1px double #1e88e5 !important;",useExtraClassesOptions:!1},m.Icon.set("table",s(51716)),u.Config.prototype.controls.table={data:{cols:10,rows:10,classList:{"table table-bordered":"Bootstrap Bordered","table table-striped":"Bootstrap Striped","table table-dark":"Bootstrap Dark"}},popup:function(f,g,v,x,y){for(var b=v.data&&v.data.rows?v.data.rows:10,w=v.data&&v.data.cols?v.data.cols:10,_=f.c.fromHTML('<form class="jodit-form jodit-form__inserter"><div class="jodit-form__table-creator-box"><div class="jodit-form__container"></div><div class="jodit-form__options">'+function(){if(!f.o.table.useExtraClassesOptions)return"";var I=[];if(v.data){var O=v.data.classList;Object.keys(O).forEach(function(j){I.push('<label class="jodit_vertical_middle"><input class="jodit-checkbox" value="'.concat(j,'" type="checkbox"/>').concat(O[j],"</label>"))})}return I.join("")}()+'</div></div><label class="jodit-form__center"><span>1</span> &times; <span>1</span></label></form>'),S=_.querySelectorAll("span")[0],E=_.querySelectorAll("span")[1],A=_.querySelector(".jodit-form__container"),C=_.querySelector(".jodit-form__options"),M=[],T=b*w,k=0;T>k;k+=1)M[k]||M.push(f.c.element("span",{dataIndex:k}));if(f.e.on(A,"mousemove",function(I,O){var j=I.target;if(d.Dom.isTag(j,"span")){for(var N=O===void 0||isNaN(O)?parseInt((0,h.attr)(j,"-index")||"0",10):O||0,R=Math.ceil((N+1)/w),F=N%w+1,U=0;M.length>U;U+=1)M[U].className=U%w+1>F||R<Math.ceil((U+1)/w)?"":"jodit_hovered";E.textContent=F.toString(),S.textContent=R.toString()}}).on(A,"touchstart mousedown",function(I){var O=I.target;if(I.preventDefault(),I.stopImmediatePropagation(),d.Dom.isTag(O,"span")){var j=parseInt((0,h.attr)(O,"-index")||"0",10),N=Math.ceil((j+1)/w),R=j%w+1,F=f.createInside,U=F.element("tbody"),B=F.element("table");B.appendChild(U);for(var H,X,G=null,Z=1;N>=Z;Z+=1){H=F.element("tr");for(var J=1;R>=J;J+=1)X=F.element("td"),G||(G=X),(0,p.css)(X,"width",(100/R).toFixed(4)+"%"),X.appendChild(F.element("br")),H.appendChild(F.text(`
`)),H.appendChild(F.text("	")),H.appendChild(X);U.appendChild(F.text(`
`)),U.appendChild(H)}(0,p.$$)("input[type=checkbox]:checked",C).forEach(function(ee){ee.value.split(/[\s]+/).forEach(function(q){B.classList.add(q)})}),f.editor.firstChild&&f.s.insertNode(F.text(`
`),!1,!1),f.s.insertNode(B,!1),G&&(f.s.setCursorIn(G),(0,p.scrollIntoViewIfNeeded)(G,f.editor,f.ed)),x()}}),y&&y.parentElement){for(k=0;b>k;k+=1){for(var P=f.c.div(),D=0;w>D;D+=1)P.appendChild(M[k*w+D]);A.appendChild(P)}M[0]&&(M[0].className="hovered")}return _},tooltip:"Insert table"}},45842:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.table=void 0,s(51057);var u=s(17332);function d(h){h.registerButton({name:"table",group:"insert"})}s(30739),a.table=d,u.pluginSystem.add("table",d)},79114:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(93166),d=s(718),h=s(40332),p=s(95963),m=s(96516);s(77904).Icon.set("video",s(49222)),u.Config.prototype.controls.video={popup:function(f,g,v,x){var y=new p.UIForm(f,[new p.UIBlock(f,[new p.UIInput(f,{name:"url",required:!0,label:"URL",placeholder:"https://",validators:["url"]})]),new p.UIBlock(f,[(0,m.Button)(f,"","Insert","primary").onAction(function(){return y.submit()})])]),b=new p.UIForm(f,[new p.UIBlock(f,[new p.UITextArea(f,{name:"code",required:!0,label:"Embed code"})]),new p.UIBlock(f,[(0,m.Button)(f,"","Insert","primary").onAction(function(){return b.submit()})])]),w=[],_=function(S){f.s.restore(),f.s.insertHTML(S),x()};return f.s.save(),w.push({icon:"link",name:"Link",content:y.container},{icon:"source",name:"Code",content:b.container}),y.onSubmit(function(S){_((0,h.convertMediaUrlToVideoEmbed)(S.url))}),b.onSubmit(function(S){_(S.code)}),(0,d.TabsWidget)(f,w)},tags:["iframe"],tooltip:"Insert youtube/vimeo video"}},19889:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(17332);s(79114),u.pluginSystem.add("video",function(d){d.registerButton({name:"video",group:"media"})})},64401:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.wrapNodes={exclude:["hr","style","br"],emptyBlockAfterInit:!0}},20728:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255),d=s(57549),h=s(64968),p=s(24421),m=s(43441),f=s(17332);s(64401);var g=function(v){function x(){var y=v!==null&&v.apply(this,arguments)||this;return y.isSuitableStart=function(b){return h.Dom.isText(b)&&(0,p.isString)(b.nodeValue)&&/[^\s]/.test(b.nodeValue)||y.isNotClosed(b)&&!h.Dom.isTemporary(b)},y.isSuitable=function(b){return h.Dom.isText(b)||y.isNotClosed(b)},y.isNotClosed=function(b){return h.Dom.isElement(b)&&!(h.Dom.isBlock(b)||h.Dom.isTag(b,y.j.o.wrapNodes.exclude))},y}return u.__extends(x,v),x.prototype.afterInit=function(y){y.o.enter.toLowerCase()!=="br"&&y.e.on("drop.wtn focus.wtn keydown.wtn mousedown.wtn afterInit.wtn",this.preprocessInput,{top:!0}).on("afterInit.wtn postProcessSetEditorValue.wtn",this.postProcessSetEditorValue)},x.prototype.beforeDestruct=function(y){y.e.off(".wtn")},x.prototype.postProcessSetEditorValue=function(){var y=this.jodit;if(y.isEditorMode()){for(var b=y.editor.firstChild,w=!1;b;){if(b=this.checkAloneListLeaf(b,y),this.isSuitableStart(b)){w||y.s.save(),w=!0;var _=y.createInside.element(y.o.enter);for(h.Dom.before(b,_);b&&this.isSuitable(b);){var S=b.nextSibling;_.appendChild(b),b=S}_.normalize(),b=_}b=b&&b.nextSibling}w&&(y.s.restore(),y.e.current==="afterInit"&&y.e.fire("internalChange"))}},x.prototype.checkAloneListLeaf=function(y,b){var w=y,_=y;do{if(!h.Dom.isElement(_)||!h.Dom.isTag(_,"li")||h.Dom.isTag(_.parentElement,["ul","ol"]))break;var S=h.Dom.findNotEmptySibling(_,!1);h.Dom.isTag(w,"ul")?w.appendChild(_):w=h.Dom.wrap(_,"ul",b.createInside),_=S}while(_);return w},x.prototype.preprocessInput=function(){var y=this.jodit,b=y.e.current==="afterInit";if(y.isEditorMode()&&!y.editor.firstChild&&(y.o.wrapNodes.emptyBlockAfterInit||!b)){var w=y.createInside.element(y.o.enter),_=y.createInside.element("br");h.Dom.append(w,_),h.Dom.append(y.editor,w),y.s.isFocused()&&y.s.setCursorBefore(_),y.e.fire("internalChange")}},u.__decorate([m.autobind],x.prototype,"postProcessSetEditorValue",null),u.__decorate([m.autobind],x.prototype,"preprocessInput",null),x}(d.Plugin);f.pluginSystem.add("wrapNodes",g)},71707:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(93166).Config.prototype.showXPathInStatusbar=!0},18238:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0});var u=s(20255);s(64618);var d=s(86893),h=s(60403),p=s(64968),m=s(40332),f=s(57549),g=s(81438),v=s(17332);s(71707);var x=function(y){function b(){var w=y!==null&&y.apply(this,arguments)||this;return w.onContext=function(_,S){return w.menu||(w.menu=new h.ContextMenu(w.j)),w.menu.show(S.clientX,S.clientY,[{icon:"bin",title:_===w.j.editor?"Clear":"Remove",exec:function(){_!==w.j.editor?p.Dom.safeRemove(_):w.j.value="",w.j.synchronizeValues()}},{icon:"select-all",title:"Select",exec:function(){w.j.s.select(_)}}]),!1},w.onSelectPath=function(_,S){w.j.s.focus();var E=(0,m.attr)(S.target,"-path")||"/";if(E==="/")return w.j.execCommand("selectall"),!1;try{var A=w.j.ed.evaluate(E,w.j.editor,null,XPathResult.ANY_TYPE,null).iterateNext();if(A)return w.j.s.select(A),!1}catch{}return w.j.s.select(_),!1},w.tpl=function(_,S,E,A){var C=w.j.c.fromHTML('<span class="jodit-xpath__item"><a role="button" data-path="'.concat(S,'" title="').concat(A,`" tabindex="-1"'>`).concat((0,m.trim)(E),"</a></span>")),M=C.firstChild;return w.j.e.on(M,"click",w.onSelectPath.bind(w,_)).on(M,"contextmenu",w.onContext.bind(w,_)),C},w.removeSelectAll=function(){w.selectAllButton&&(w.selectAllButton.destruct(),delete w.selectAllButton)},w.appendSelectAll=function(){w.removeSelectAll(),w.selectAllButton=(0,g.makeButton)(w.j,u.__assign({name:"selectall"},w.j.o.controls.selectall)),w.selectAllButton.state.size="tiny",w.container&&w.container.insertBefore(w.selectAllButton.container,w.container.firstChild)},w.calcPathImd=function(){if(!w.isDestructed){var _,S,E,A=w.j.s.current();w.container&&(w.container.innerHTML=d.INVISIBLE_SPACE),A&&p.Dom.up(A,function(C){C&&w.j.editor!==C&&!p.Dom.isText(C)&&(_=C.nodeName.toLowerCase(),S=(0,m.getXPathByElement)(C,w.j.editor).replace(/^\//,""),E=w.tpl(C,S,_,w.j.i18n("Select %s",_)),w.container&&w.container.insertBefore(E,w.container.firstChild))},w.j.editor),w.appendSelectAll()}},w.calcPath=w.j.async.debounce(w.calcPathImd,2*w.j.defaultTimeout),w}return u.__extends(b,y),b.prototype.afterInit=function(){var w=this;this.j.o.showXPathInStatusbar&&(this.container=this.j.c.div("jodit-xpath"),this.j.e.off(".xpath").on("mouseup.xpath change.xpath keydown.xpath changeSelection.xpath",this.calcPath).on("afterSetMode.xpath afterInit.xpath changePlace.xpath",function(){w.j.o.showXPathInStatusbar&&w.container&&(w.j.statusbar.append(w.container),w.j.getRealMode()===d.MODE_WYSIWYG?w.calcPath():(w.container&&(w.container.innerHTML=d.INVISIBLE_SPACE),w.appendSelectAll()))}),this.calcPath())},b.prototype.beforeDestruct=function(){this.j&&this.j.events&&this.j.e.off(".xpath"),this.removeSelectAll(),this.menu&&this.menu.destruct(),p.Dom.safeRemove(this.container),delete this.menu,delete this.container},b}(f.Plugin);v.pluginSystem.add("xpath",x)},89019:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),s(61227),s(690),s(66622),s(69220),s(10444),Array.prototype.includes||(Array.prototype.includes=function(u){return this.indexOf(u)>-1}),typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(u,d){if(u==null)throw new TypeError("Cannot convert undefined or null to object");for(var h=Object(u),p=1;arguments.length>p;p++){var m=arguments[p];if(m!=null)for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(h[f]=m[f])}return h},writable:!0,configurable:!0}),Array.prototype.find||(Array.prototype.find=function(u){return this.indexOf(u)>-1?u:void 0}),String.prototype.endsWith||(String.prototype.endsWith=function(u){return this[this.length-1]===u})},15261:function(c,a,s){Object.defineProperty(a,"__esModule",{value:!0}),a.valign=a.upload=a.update=a.unlock=a.settings=a.save=a.right=a.resize_handler=a.plus=a.pencil=a.ok=a.lock=a.left=a.info_circle=a.folder=a.file=a.eye=a.dots=a.chevron=a.check=a.center=a.cancel=a.bin=a.angle_up=a.angle_right=a.angle_left=a.angle_down=void 0;var u=s(1755);a.angle_down=u;var d=s(74911);a.angle_left=d;var h=s(8805);a.angle_right=h;var p=s(16547);a.angle_up=p;var m=s(10856);a.bin=m;var f=s(98441);a.cancel=f;var g=s(52488);a.center=g;var v=s(9370);a.check=v;var x=s(66543);a.chevron=x;var y=s(608);a.dots=y;var b=s(42840);a.eye=b;var w=s(79096);a.file=w;var _=s(33014);a.folder=_;var S=s(91677);a.info_circle=S;var E=s(8259);a.left=E;var A=s(64467);a.lock=A;var C=s(86934);a.ok=C;var M=s(76133);a.pencil=M;var T=s(45519);a.plus=T;var k=s(90265);a.resize_handler=k;var P=s(81279);a.right=P;var D=s(68899);a.save=D;var I=s(70744);a.settings=I;var O=s(19201);a.unlock=O;var j=s(84930);a.update=j;var N=s(99704);a.upload=N;var R=s(2304);a.valign=R},80078:function(c){c.exports={"copy-format":"نسخ التنسيق"}},16986:function(c){c.exports={"copy-format":"Kopírovat formát"}},59347:function(c){c.exports={"copy-format":"Format kopierenт"}},63640:function(c){c.exports={"copy-format":"Copiar formato"}},53434:function(c){c.exports={"copy-format":"کپی کردن قالب"}},85638:function(c){c.exports={"copy-format":"Format de copie"}},31743:function(c){c.exports={"copy-format":"העתק עיצוב"}},66219:function(c){c.exports={"copy-format":"Formátum másolás"}},50331:function(c){c.exports={"copy-format":"salin format"}},25582:function(c){c.exports={"copy-format":"Copia il formato"}},82066:function(c){c.exports={"copy-format":"copyformat"}},71925:function(c){c.exports={"copy-format":"복사 형식"}},12689:function(c){c.exports={"copy-format":"Формат хуулах"}},65274:function(c){c.exports={"copy-format":"opmaak kopiëren"}},58548:function(c){c.exports={"copy-format":"format kopii"}},82958:function(c){c.exports={"copy-format":"Copiar formato"}},52315:function(c){c.exports={"copy-format":"Копировать формат"}},87727:function(c){c.exports={"copy-format":"Kopyalama Biçimi"}},9396:function(c){c.exports={"copy-format":"复制格式"}},28765:function(c){c.exports={"copy-format":"複製格式"}},47762:function(c){c.exports={"Line height":"ارتفاع الخط"}},97495:function(c){c.exports={"Line height":"Výška čáry"}},80131:function(c){c.exports={"Line height":"Zeilenhöhe"}},1201:function(c){c.exports={"Line height":"Altura de la línea"}},89912:function(c){c.exports={"Line height":"ارتفاع خط"}},3405:function(c){c.exports={"Line height":"Hauteur de ligne"}},14129:function(c){c.exports={"Line height":"גובה שורה"}},93729:function(c){c.exports={"Line height":"Vonal magassága"}},16106:function(c){c.exports={"Line height":"Tinggi baris"}},89690:function(c){c.exports={"Line height":"Altezza linea"}},33216:function(c){c.exports={"Line height":"ラインの高さ"}},17282:function(c){c.exports={"Line height":"선 높이"}},52841:function(c){c.exports={"Line height":"Зураасны өндөр"}},91761:function(c){c.exports={"Line height":"Lijnhoogte"}},61675:function(c){c.exports={"Line height":"Wysokość linii"}},69709:function(c){c.exports={"Line height":"Altura da linha"}},82591:function(c){c.exports={"Line height":"Высота линии"}},87649:function(c){c.exports={"Line height":"Çizgi yüksekliği"}},60268:function(c){c.exports={"Line height":"线高"}},58214:function(c){c.exports={"Line height":"ความสูงเส้น"}},5586:function(c){c.exports={Spellcheck:"التدقيق الإملائي"}},66023:function(c){c.exports={Spellcheck:"Kontrola pravopisu"}},65860:function(c){c.exports={Spellcheck:"Rechtschreibprüfung"}},86055:function(c){c.exports={Spellcheck:"Corrección ortográfica"}},50037:function(c){c.exports={Spellcheck:"غلطیابی املایی"}},7118:function(c){c.exports={Spellcheck:"Vérification Orthographique"}},30298:function(c){c.exports={Spellcheck:"בדיקת איות"}},52107:function(c){c.exports={Spellcheck:"Helyesírás-ellenőrzés"}},31240:function(c){c.exports={Spellcheck:"Spellchecking"}},4101:function(c){c.exports={Spellcheck:"Controllo ortografico"}},69286:function(c){c.exports={Spellcheck:"スペルチェック"}},13402:function(c){c.exports={Spellcheck:"맞춤법 검사"}},1242:function(c){c.exports={Spellcheck:"Дүрмийн алдаа шалгах"}},89574:function(c){c.exports={Spellcheck:"Spellingcontrole"}},63630:function(c){c.exports={Spellcheck:"Sprawdzanie pisowni"}},72212:function(c){c.exports={Spellcheck:"Verificação ortográfica"}},82570:function(c){c.exports={Spellcheck:"Проверка орфографии"}},19323:function(c){c.exports={Spellcheck:"Yazım denetimi"}},50279:function(c){c.exports={Spellcheck:"拼写检查"}},98364:function(c){c.exports={Spellcheck:"สะกดคำ"}},54261:function(c){c.exports={symbols:"رمز"}},60425:function(c){c.exports={symbols:"symbol"}},7057:function(c){c.exports={symbols:"Symbol"}},48356:function(c){c.exports={symbols:"Símbolo"}},11428:function(c){c.exports={symbols:"سمبل"}},29084:function(c){c.exports={symbols:"caractère"}},22876:function(c){c.exports={symbols:"תו מיוחד"}},20890:function(c){c.exports={symbols:"Szimbólum"}},75987:function(c){c.exports={symbols:"simbol"}},60379:function(c){c.exports={symbols:"Simbolo"}},99950:function(c){c.exports={symbols:"symbol"}},60934:function(c){c.exports={symbols:"기호"}},45913:function(c){c.exports={symbols:"тэмдэгт"}},21994:function(c){c.exports={symbols:"symbool"}},38128:function(c){c.exports={symbols:"symbol"}},71515:function(c){c.exports={symbols:"Símbolo"}},58194:function(c){c.exports={symbols:"символ"}},65802:function(c){c.exports={symbols:"Sembol"}},86628:function(c){c.exports={symbols:"符号"}},32210:function(c){c.exports={symbols:"符號"}},52378:function(c){c.exports={assert(){}}}},i={};function o(c){var a=i[c];if(a!==void 0)return a.exports;var s=i[c]={exports:{}};return n[c].call(s.exports,s,s.exports,o),s.exports}o.m=n,r=[],o.O=function(c,a,s,u){if(!a){var d=1/0;for(f=0;r.length>f;f++){a=r[f][0],s=r[f][1],u=r[f][2];for(var h=!0,p=0;a.length>p;p++)(!1&u||d>=u)&&Object.keys(o.O).every(function(g){return o.O[g](a[p])})?a.splice(p--,1):(h=!1,d>u&&(d=u));if(h){r.splice(f--,1);var m=s();m!==void 0&&(c=m)}}return c}u=u||0;for(var f=r.length;f>0&&r[f-1][2]>u;f--)r[f]=r[f-1];r[f]=[a,s,u]},o.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),o.o=function(c,a){return Object.prototype.hasOwnProperty.call(c,a)},o.r=function(c){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})},function(){var c={670:0};o.O.j=function(u){return c[u]===0};var a=function(u,d){var h,p,m=d[0],f=d[1],g=d[2],v=0;if(m.some(function(y){return c[y]!==0})){for(h in f)o.o(f,h)&&(o.m[h]=f[h]);if(g)var x=g(o)}for(u&&u(d);m.length>v;v++)o.o(c,p=m[v])&&c[p]&&c[p][0](),c[p]=0;return o.O(x)},s=self.webpackChunkjodit=self.webpackChunkjodit||[];s.forEach(a.bind(null,0)),s.push=a.bind(null,s.push.bind(s))}();var l={};return function(){var c=l;Object.defineProperty(c,"__esModule",{value:!0}),c.CommitMode=c.Jodit=void 0,o(90176),typeof window<"u"&&o(89019);var a=o(37920);Object.defineProperty(c,"Jodit",{enumerable:!0,get:function(){return a.Jodit}});var s=o(26435),u=o(43441),d=o(86893),h=o(87837),p=o(15261);o(70022),o(91147),Object.keys(d).forEach(function(f){a.Jodit[f]=d[f]});var m=function(f){return f!=="__esModule"};Object.keys(p).filter(m).forEach(function(f){h.Icon.set(f.replace("_","-"),p[f])}),Object.keys(h).filter(m).forEach(function(f){a.Jodit.modules[f]=h[f]}),Object.keys(u).filter(m).forEach(function(f){a.Jodit.decorators[f]=u[f]}),["Confirm","Alert","Prompt"].forEach(function(f){a.Jodit[f]=h[f]}),Object.keys(s.default).filter(m).forEach(function(f){a.Jodit.lang[f]=s.default[f]}),c.CommitMode=function(){}}(),o.O(l)}()})}(RA)),RA.exports}(function(e,t){(function(r,n){e.exports=n(V,fFe())})(self,(r,n)=>(()=>{var i={922:a=>{a.exports=function(s){var u=[];return u.toString=function(){return this.map(function(d){var h="",p=d[5]!==void 0;return d[4]&&(h+="@supports (".concat(d[4],") {")),d[2]&&(h+="@media ".concat(d[2]," {")),p&&(h+="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {")),h+=s(d),p&&(h+="}"),d[2]&&(h+="}"),d[4]&&(h+="}"),h}).join("")},u.i=function(d,h,p,m,f){typeof d=="string"&&(d=[[null,d,void 0]]);var g={};if(p)for(var v=0;v<this.length;v++){var x=this[v][0];x!=null&&(g[x]=!0)}for(var y=0;y<d.length;y++){var b=[].concat(d[y]);p&&g[b[0]]||(f!==void 0&&(b[5]===void 0||(b[1]="@layer".concat(b[5].length>0?" ".concat(b[5]):""," {").concat(b[1],"}")),b[5]=f),h&&(b[2]&&(b[1]="@media ".concat(b[2]," {").concat(b[1],"}")),b[2]=h),m&&(b[4]?(b[1]="@supports (".concat(b[4],") {").concat(b[1],"}"),b[4]=m):b[4]="".concat(m)),u.push(b))}},u}},155:a=>{a.exports=function(s,u){return u||(u={}),s&&(s=String(s.__esModule?s.default:s),/^['"].*['"]$/.test(s)&&(s=s.slice(1,-1)),u.hash&&(s+=u.hash),/["'() \t\n]|(%20)/.test(s)||u.needQuotes?'"'.concat(s.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):s)}},499:a=>{a.exports=function(s){return s[1]}},428:(a,s,u)=>{var d=u(134);function h(){}function p(){}p.resetWarningCache=h,a.exports=function(){function m(v,x,y,b,w,_){if(_!==d){var S=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw S.name="Invariant Violation",S}}function f(){return m}m.isRequired=m;var g={array:m,bigint:m,bool:m,func:m,number:m,object:m,string:m,symbol:m,any:m,arrayOf:f,element:m,elementType:m,instanceOf:f,node:m,objectOf:f,oneOf:f,oneOfType:f,shape:f,exact:f,checkPropTypes:p,resetWarningCache:h};return g.PropTypes=g,g}},526:(a,s,u)=>{a.exports=u(428)()},134:a=>{a.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},472:(a,s,u)=>{u.d(s,{Z:()=>E});var d=u(499),h=u.n(d),p=u(922),m=u.n(p),f=u(155),g=u.n(f),v=new URL(u(456),u.b),x=new URL(u(963),u.b),y=new URL(u(910),u.b),b=m()(h()),w=g()(v),_=g()(x),S=g()(y);b.push([a.id,`/*!
 * jodit - Jodit is awesome and usefully wysiwyg editor with filebrowser
 * Author: Chupurnov <chupurnov@gmail.com> (https://xdsoft.net/)
 * Version: v3.24.7
 * Url: https://xdsoft.net/jodit/
 * License(s): MIT
 */
	.jodit-wysiwyg{outline:0}.jodit-wysiwyg ::-moz-selection, .jodit-wysiwyg::-moz-selection{background:#b5d6fd;color:#4c4c4c}.jodit-wysiwyg ::selection,.jodit-wysiwyg::selection{background:#b5d6fd;color:#4c4c4c}.jodit-container:not(.jodit_inline) .jodit-wysiwyg{margin:0;outline:0;overflow-x:auto;padding:8px;position:relative}.jodit-container:not(.jodit_inline) .jodit-wysiwyg img{max-width:100%;position:relative}.jodit-container:not(.jodit_inline) .jodit-wysiwyg jodit-media{position:relative}.jodit-container:not(.jodit_inline) .jodit-wysiwyg jodit-media *{position:relative;z-index:0}.jodit-container:not(.jodit_inline) .jodit-wysiwyg jodit-media:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:1}.jodit-form{color:#4c4c4c;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px}.jodit-form.jodit_error{border-color:#ff3b3b;-webkit-box-shadow:inset 0 0 3px 0 hsla(0,0%,74%,.3);box-shadow:inset 0 0 3px 0 hsla(0,0%,74%,.3)}@media (max-width:768px){.jodit-form{min-width:150px}}.jodit-form button{background:#d6d6d6;border:none;color:#4c4c4c;cursor:pointer;font-size:16px;height:36px;line-height:1;margin-bottom:8px;margin-top:8px;outline:none;padding:8px;text-decoration:none;-webkit-transition:background .2s ease 0s;-o-transition:background .2s ease 0s;transition:background .2s ease 0s}.jodit-form button:hover{background-color:#ecebe9;color:#4c4c4c}.jodit-form button:active{background:#ecebe9;color:#4c4c4c}.jodit-form label{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;margin-bottom:8px;text-align:left;white-space:nowrap}.jodit-form label:last-child{margin-bottom:0}.jodit-form .jodit-form__center{-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit .jodit-input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:1px solid #dadada;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit .jodit-select{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:1px solid #dadada;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit .jodit-textarea{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:1px solid #dadada;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit .jodit-input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit .jodit-select[disabled]{background-color:#f0f0f0;color:#dadada}.jodit .jodit-textarea[disabled]{background-color:#f0f0f0;color:#dadada}.jodit .jodit-input_has-error_true{border-color:#ff3b3b}.jodit .jodit-select_has-error_true{border-color:#ff3b3b}.jodit .jodit-textarea_has-error_true{border-color:#ff3b3b}.jodit .jodit-input:focus{border-color:#66afe9;outline:0}.jodit-checkbox{border:0;cursor:pointer;height:16px;margin:0 calc(8px/2) 0 0;outline:none;padding:0;position:relative;width:16px;z-index:2}.jodit-select{background-image:url(`+w+');background-position:98% 50%;background-repeat:no-repeat;padding-right:calc(8px*2)}.jodit-textarea{height:auto}.jodit-form__group{min-width:180px}.jodit-textarea{min-width:180px}.jodit-form__group{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-form__group{margin-bottom:8px}.jodit-form__group>label{margin-bottom:8px}.jodit-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#dadada;border:0;border-radius:.25rem;color:#4c4c4c;cursor:pointer;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;height:calc(8px*4);-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;line-height:1;margin:0;padding:0 8px;position:relative;text-decoration:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:auto}.jodit-button svg{display:inline-block;height:24px;width:24px}.jodit-button svg+span{margin-left:calc(8px/2)}.jodit-button:active,.jodit-button:focus{outline:0}.jodit-button.disabled{opacity:.7}.jodit-buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:8px}.jodit-button .jodit_icon,.jodit-button svg,.jodit-dialog__header .jodit_icon,.jodit-dialog__header svg{display:inline-block;height:16px;vertical-align:middle;width:16px}.jodit-switcher{display:inline-block;height:32px;position:relative;width:60px}.jodit-switcher input{height:0;opacity:0;width:0}.jodit-switcher .jodit-switcher__slider{background-color:#dadada;border-radius:32px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0;-webkit-transition:.4s;-o-transition:.4s;transition:.4s}.jodit-switcher .jodit-switcher__slider:before{background-color:#fff;border-radius:50%;bottom:4px;content:"";height:calc(32px - 4px*2);left:4px;position:absolute;-webkit-transition:.4s;-o-transition:.4s;transition:.4s;width:calc(32px - 4px*2)}input:checked+.jodit-switcher__slider{background-color:#2196f3}input:checked+.jodit-switcher__slider:before{-webkit-transform:translateX(calc(60px - 4px*2 - calc(32px - 4px*2)));-ms-transform:translateX(calc(60px - 4px*2 - calc(32px - 4px*2)));transform:translateX(calc(60px - 4px*2 - calc(32px - 4px*2)))}input:focus+.jodit-switcher__slider{-webkit-box-shadow:0 0 1px #2196f3;box-shadow:0 0 1px #2196f3}.jodit-button-group{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-button-group input{display:none}.jodit-button-group button{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex:1;flex:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;text-align:center}.jodit-button-group button+button{margin-left:-1px}.jodit-button-group button:first-child,.jodit-button-group input:first-child+button{border-bottom-right-radius:0;border-right:0;border-top-right-radius:0}.jodit-button-group button:last-child,.jodit-button-group input:last-child+button{border-bottom-left-radius:0;border-left:0;border-top-left-radius:0}.jodit-button-group input[type=checkbox]:checked+button,.jodit-button-group input[type=checkbox]:not(:checked)+button+button{background-image:none;-webkit-box-shadow:inset 0 2px 4px rgba(0,0,0,.3),0 1px 2px rgba(0,0,0,.05);box-shadow:inset 0 2px 4px rgba(0,0,0,.3),0 1px 2px rgba(0,0,0,.05)}.jodit_text_icons .jodit_icon{font-size:14px;width:auto}.jodit_text_icons .jodit_icon:first-letter{text-transform:uppercase}.jodit_text_icons .jodit-tabs .jodit-tabs__buttons>a{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;width:auto}.jodit_text_icons .jodit-tabs .jodit-tabs__buttons>a i{width:auto}.jodit_text_icons.jodit-dialog .jodit-button{color:rgba(0,0,0,.75);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;padding:8px;width:auto}.jodit_text_icons.jodit-dialog .jodit-dialog__header a{color:rgba(0,0,0,.75);font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;padding:8px;width:auto}.jodit_text_icons.jodit-dialog .jodit-button .jodit_icon,.jodit_text_icons.jodit-dialog .jodit-dialog__header a .jodit_icon{width:auto}.jodit-grid{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%}.jodit-grid.jodit-grid_column{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}@media (max-width:480px){.jodit-grid.jodit-grid_xs-column{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.jodit-grid [class*=jodit_col-]{-webkit-box-flex:1;-ms-flex:1 1 auto;flex:1 1 auto}.jodit-grid .jodit_col-lg-5-5{width:100%}.jodit-grid .jodit_col-lg-4-5{width:80%}.jodit-grid .jodit_col-lg-3-5{width:60%}.jodit-grid .jodit_col-lg-2-5{width:40%}.jodit-grid .jodit_col-lg-1-5{width:20%}.jodit-grid .jodit_col-lg-4-4{width:100%}.jodit-grid .jodit_col-lg-3-4{width:75%}.jodit-grid .jodit_col-lg-2-4{width:50%}.jodit-grid .jodit_col-lg-1-4{width:25%}@media (max-width:992px){.jodit-grid .jodit_col-md-5-5{width:100%}.jodit-grid .jodit_col-md-4-5{width:80%}.jodit-grid .jodit_col-md-3-5{width:60%}.jodit-grid .jodit_col-md-2-5{width:40%}.jodit-grid .jodit_col-md-1-5{width:20%}.jodit-grid .jodit_col-md-4-4{width:100%}.jodit-grid .jodit_col-md-3-4{width:75%}.jodit-grid .jodit_col-md-2-4{width:50%}.jodit-grid .jodit_col-md-1-4{width:25%}}@media (max-width:768px){.jodit-grid .jodit_col-sm-5-5{width:100%}.jodit-grid .jodit_col-sm-4-5{width:80%}.jodit-grid .jodit_col-sm-3-5{width:60%}.jodit-grid .jodit_col-sm-2-5{width:40%}.jodit-grid .jodit_col-sm-1-5{width:20%}.jodit-grid .jodit_col-sm-4-4{width:100%}.jodit-grid .jodit_col-sm-3-4{width:75%}.jodit-grid .jodit_col-sm-2-4{width:50%}.jodit-grid .jodit_col-sm-1-4{width:25%}}@media (max-width:480px){.jodit-grid .jodit_col-xs-5-5{width:100%}.jodit-grid .jodit_col-xs-4-5{width:80%}.jodit-grid .jodit_col-xs-3-5{width:60%}.jodit-grid .jodit_col-xs-2-5{width:40%}.jodit-grid .jodit_col-xs-1-5{width:20%}.jodit-grid .jodit_col-xs-4-4{width:100%}.jodit-grid .jodit_col-xs-3-4{width:75%}.jodit-grid .jodit_col-xs-2-4{width:50%}.jodit-grid .jodit_col-xs-1-4{width:25%}}@-webkit-keyframes a{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes a{to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.jodit-icon_loader{-webkit-animation:a 2s ease-out 0s infinite;animation:a 2s ease-out 0s infinite;background:url('+_+') no-repeat 50%;background-size:100% 100%;display:inline-block;height:48px;vertical-align:middle;width:48px;will-change:transform}.jodit-icon{fill:#4c4c4c;background:50% no-repeat;background-size:contain;height:14px;overflow:visible;-webkit-transform-origin:0 0!important;-ms-transform-origin:0 0!important;transform-origin:0 0!important;width:14px}.jodit-icon{stroke:#4c4c4c}.jodit-icon_close{stroke:#4c4c4c}svg.jodit-icon{height:auto;isolation:isolate}.jodit-icon_text{font-size:14px}.jodit,.jodit *,.jodit-container,.jodit-container *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit .jodit-workplace,.jodit-container .jodit-workplace{overflow:auto;position:relative}.jodit .jodit-workplace .jodit-wysiwyg,.jodit .jodit-workplace .jodit-wysiwyg_iframe,.jodit-container .jodit-workplace .jodit-wysiwyg,.jodit-container .jodit-workplace .jodit-wysiwyg_iframe{height:100%;width:100%}.jodit-wysiwyg [contenteditable=false]{cursor:default}.jodit-container:not(.jodit_inline){background-color:#f5f5f6;border:1px solid #dadada;border-radius:3px}.jodit-container:not(.jodit_inline) .jodit-workplace{background-color:#fff;border:0 solid #dadada;max-height:100%}.jodit-container:not(.jodit_inline).jodit_disabled{background:#dadada}.jodit-container:not(.jodit_inline).jodit_disabled .jodit-workplace{opacity:.4}.jodit_disabled,.jodit_lock{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.jodit_hidden{display:none!important}.jodit_vertical_middle{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-box,.jodit-context-menu{background:0 0;border:0;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;width:auto}.jodit-context-menu{-webkit-box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);display:inline-block;position:fixed;-webkit-transform:translateZ(0);transform:translateZ(0);z-index:10000001;z-index:30000005}.jodit-context-menu__content{overflow-scrolling:touch;background:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;max-height:300px;overflow:auto;padding:8px}.jodit-context-menu_padding_false .jodit-context-menu__content{padding:0}.jodit-context-menu_max-height_false .jodit-context-menu__content{max-height:-webkit-fit-content;max-height:-moz-fit-content;max-height:fit-content}.jodit-context-menu .jodit-ui-button{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-context-menu__actions{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px}.jodit-context-menu__actions button{width:100%}.jodit-context-menu_theme_dark .jodit-context-menu__content{background-color:#575757}.jodit-popup{background:0 0;border:0;-webkit-box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);box-shadow:0 4px 1px -2px rgba(76,76,76,.2),0 3px 3px 0 rgba(76,76,76,.15),0 1px 4px 0 rgba(76,76,76,.13);display:inline-block;float:none;height:auto;margin:0;max-width:none;outline:0;padding:0;position:static;position:fixed;-webkit-transform:translateZ(0);transform:translateZ(0);width:auto;z-index:10000001}.jodit-popup__content{overflow-scrolling:touch;background:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;max-height:300px;overflow:auto;padding:8px}.jodit-popup_padding_false .jodit-popup__content{padding:0}.jodit-popup_max-height_false .jodit-popup__content{max-height:-webkit-fit-content;max-height:-moz-fit-content;max-height:fit-content}.jodit-ui-button-icon-text__icon{display:none}.jodit-ui-button-icon-text__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-ui-button-icon-text__text{display:none}.jodit-ui-button-icon-text__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button-icon-text_context_menu .jodit-ui-button-icon-text__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-ui-button-icon-text_context_menu .jodit-ui-button-icon-text__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-ui-button-icon-text__icon:not(:empty)+.jodit-ui-button-icon-text__text:not(:empty){margin-left:8px}.jodit-ui-button-icon-text__icon:empty+.jodit-ui-button-icon-text__text:not(:empty){padding:0 8px}.jodit-ui-button-clear,.jodit-ui-button_clear{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;font-style:normal;outline:0;padding:0;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-ui-button-sizes{height:34px;min-width:34px}.jodit-ui-button-sizes .jodit-icon{height:14px;width:14px}.jodit-ui-button-sizes button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-ui-button-sizes_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_tiny{height:16px;min-width:16px}.jodit-ui-button-sizes_size_tiny .jodit-icon{height:8px;width:8px}.jodit-ui-button-sizes_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-ui-button-sizes_size_tiny_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_xsmall{height:22px;min-width:22px}.jodit-ui-button-sizes_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-ui-button-sizes_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-ui-button-sizes_size_xsmall_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_small{height:28px;min-width:28px}.jodit-ui-button-sizes_size_small .jodit-icon{height:12px;width:12px}.jodit-ui-button-sizes_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-ui-button-sizes_size_small_text-icons_true button{padding:0 8px}.jodit-ui-button-sizes_size_large{height:40px;min-width:40px}.jodit-ui-button-sizes_size_large .jodit-icon{height:16px;width:16px}.jodit-ui-button-sizes_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-ui-button-sizes_size_large_text-icons_true button{padding:0 8px}.jodit-ui-button-variants_variant_default{background-color:#e3e3e3;color:#212529}.jodit-ui-button-variants_variant_default svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_default [disabled]{opacity:.7}.jodit-ui-button-variants_variant_default:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button-variants_variant_default:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_default:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button-variants_variant_default:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_default:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button-variants_variant_primary{background-color:#007bff;color:#fff}.jodit-ui-button-variants_variant_primary svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_primary [disabled]{opacity:.7}.jodit-ui-button-variants_variant_primary:hover:not([disabled]){background-color:#0069d9;color:#fff}.jodit-ui-button-variants_variant_primary:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_primary:active:not([disabled]){background-color:#0062cc;color:#fff}.jodit-ui-button-variants_variant_primary:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_primary:focus:not([disabled]){outline:1px dashed #0062cc}.jodit-ui-button-variants_variant_secondary{background-color:#d8d8d8;border-radius:0;color:#212529}.jodit-ui-button-variants_variant_secondary svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_secondary [disabled]{opacity:.7}.jodit-ui-button-variants_variant_secondary:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button-variants_variant_secondary:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_secondary:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button-variants_variant_secondary:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button-variants_variant_secondary:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button-variants_variant_success{background-color:#28a745;color:#fff}.jodit-ui-button-variants_variant_success svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_success [disabled]{opacity:.7}.jodit-ui-button-variants_variant_success:hover:not([disabled]){background-color:#218838;color:#fff}.jodit-ui-button-variants_variant_success:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_success:active:not([disabled]){background-color:#1e7e34;color:#fff}.jodit-ui-button-variants_variant_success:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_success:focus:not([disabled]){outline:1px dashed #1e7e34}.jodit-ui-button-variants_variant_danger{background-color:#dc3545;color:#fff}.jodit-ui-button-variants_variant_danger svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_danger [disabled]{opacity:.7}.jodit-ui-button-variants_variant_danger:hover:not([disabled]){background-color:#c82333;color:#fff}.jodit-ui-button-variants_variant_danger:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_danger:active:not([disabled]){background-color:#bd2130;color:#fff}.jodit-ui-button-variants_variant_danger:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button-variants_variant_danger:focus:not([disabled]){outline:1px dashed #bd2130}.jodit-ui-button-style{border-radius:3px;padding:0 8px}.jodit-ui-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,.75);display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button-style{-webkit-box-align:center;-ms-flex-align:center;align-items:center;color:rgba(0,0,0,.75);display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;cursor:pointer;font-style:normal;height:34px;min-width:34px;outline:0;padding:0;padding:0 8px;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-ui-button:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-ui-button:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-ui-button:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-ui-button[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-ui-button[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-ui-button[disabled]{opacity:.3;pointer-events:none}.jodit-ui-button .jodit-icon{height:14px;width:14px}.jodit-ui-button button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-ui-button_text-icons_true button{padding:0 8px}.jodit-ui-button_size_tiny{height:16px;min-width:16px}.jodit-ui-button_size_tiny .jodit-icon{height:8px;width:8px}.jodit-ui-button_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-ui-button_size_tiny_text-icons_true button{padding:0 8px}.jodit-ui-button_size_xsmall{height:22px;min-width:22px}.jodit-ui-button_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-ui-button_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-ui-button_size_xsmall_text-icons_true button{padding:0 8px}.jodit-ui-button_size_small{height:28px;min-width:28px}.jodit-ui-button_size_small .jodit-icon{height:12px;width:12px}.jodit-ui-button_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-ui-button_size_small_text-icons_true button{padding:0 8px}.jodit-ui-button_size_large{height:40px;min-width:40px}.jodit-ui-button_size_large .jodit-icon{height:16px;width:16px}.jodit-ui-button_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-ui-button_size_large_text-icons_true button{padding:0 8px}.jodit-ui-button__icon{display:none}.jodit-ui-button__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-ui-button__text{display:none}.jodit-ui-button__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-button_context_menu .jodit-ui-button__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-ui-button_context_menu .jodit-ui-button__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-ui-button__icon:not(:empty)+.jodit-ui-button__text:not(:empty){margin-left:8px}.jodit-ui-button__icon:empty+.jodit-ui-button__text:not(:empty){padding:0 8px}.jodit-ui-button:focus:not([disabled]){outline:1px dashed #b5d6fd}.jodit-ui-button_variant_default{background-color:#e3e3e3;color:#212529}.jodit-ui-button_variant_default svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_default [disabled]{opacity:.7}.jodit-ui-button_variant_default:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button_variant_default:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_default:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button_variant_default:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_default:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button_variant_primary{background-color:#007bff;color:#fff}.jodit-ui-button_variant_primary svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_primary [disabled]{opacity:.7}.jodit-ui-button_variant_primary:hover:not([disabled]){background-color:#0069d9;color:#fff}.jodit-ui-button_variant_primary:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_primary:active:not([disabled]){background-color:#0062cc;color:#fff}.jodit-ui-button_variant_primary:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_primary:focus:not([disabled]){outline:1px dashed #0062cc}.jodit-ui-button_variant_secondary{background-color:#d8d8d8;border-radius:0;color:#212529}.jodit-ui-button_variant_secondary svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_secondary [disabled]{opacity:.7}.jodit-ui-button_variant_secondary:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-ui-button_variant_secondary:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_secondary:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-ui-button_variant_secondary:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-ui-button_variant_secondary:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-ui-button_variant_success{background-color:#28a745;color:#fff}.jodit-ui-button_variant_success svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_success [disabled]{opacity:.7}.jodit-ui-button_variant_success:hover:not([disabled]){background-color:#218838;color:#fff}.jodit-ui-button_variant_success:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_success:active:not([disabled]){background-color:#1e7e34;color:#fff}.jodit-ui-button_variant_success:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_success:focus:not([disabled]){outline:1px dashed #1e7e34}.jodit-ui-button_variant_danger{background-color:#dc3545;color:#fff}.jodit-ui-button_variant_danger svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_danger [disabled]{opacity:.7}.jodit-ui-button_variant_danger:hover:not([disabled]){background-color:#c82333;color:#fff}.jodit-ui-button_variant_danger:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_danger:active:not([disabled]){background-color:#bd2130;color:#fff}.jodit-ui-button_variant_danger:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-ui-button_variant_danger:focus:not([disabled]){outline:1px dashed #bd2130}.jodit-ui-list{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-ui-list_mode_vertical .jodit-ui-group{background-color:transparent;border:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-ui-list_mode_vertical .jodit-toolbar-button{height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2)}.jodit-ui-list_mode_vertical .jodit-toolbar-button__button{cursor:pointer;height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2);width:100%}.jodit-ui-list_mode_vertical .jodit-toolbar-button__text:not(:empty){-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left}.jodit-ui-separator{border-left:0;border-right:1px solid #dadada;cursor:default;margin:2px;padding:0}.jodit-ui-break{border-top:1px solid #dadada;-ms-flex-preferred-size:100%;flex-basis:100%;height:0!important;width:0}.jodit-ui-spacer{-webkit-box-flex:1;-ms-flex:1;flex:1}.jodit-ui-group{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:0;-ms-flex:0 0 auto;flex:0 0 auto;-ms-flex-negative:0;flex-shrink:0;-ms-flex-wrap:wrap;flex-wrap:wrap;max-width:100%}.jodit-ui-group_line_true{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch}.jodit-ui-group_separated_true:not(:last-child):not(.jodit-ui-group_before-spacer_true):after{border-left:0;border-right:1px solid #dadada;content:"";cursor:default;margin:2px;padding:0}.jodit-ui-group:last-child{border-bottom:0}.jodit-ui-button-group{margin-bottom:8px}.jodit-ui-button-group__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-button-group__options{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start}.jodit-ui-button-group .jodit-ui-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.jodit-ui-button-group .jodit-ui-button+.jodit-ui-button{border-bottom-left-radius:0;border-left:1px solid hsla(0,0%,86%,.4);border-top-left-radius:0}.jodit-ui-button-group .jodit-ui-button[aria-pressed=true]:not([disabled]){background-color:#dcdcdc;border-left:0;-webkit-box-shadow:inset 0 0 3px 0 #4c4c4c;box-shadow:inset 0 0 3px 0 #4c4c4c;color:#4c4c4c;outline:0}.jodit-ui-button-group .jodit-ui-button[aria-pressed=true]:not([disabled])+.jodit-ui-button{border:0}.jodit-ui-tooltip{background:#727171;background-clip:padding-box;border-radius:2px;color:#fff;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-size:11px;line-height:1.4;max-width:120px;opacity:0;padding:calc(8px/4) calc(8px/2);position:fixed;text-rendering:optimizeLegibility;-webkit-transition:opacity .2s ease 0s;-o-transition:opacity .2s ease 0s;transition:opacity .2s ease 0s;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:normal;width:auto;z-index:30000006}@media (max-width:768px){.jodit-ui-tooltip{display:none}}.jodit-ui-tooltip.jodit-ui-tooltip_visible_true{opacity:1}.jodit-dialog{border:0;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:0;position:absolute;width:0;will-change:left,top,width,height}.jodit-dialog_moved_true{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-dialog *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-dialog .jodit_elfinder,.jodit-dialog .jodit_elfinder *{-webkit-box-sizing:initial;box-sizing:initial}.jodit-dialog__overlay{background-color:rgba(0,0,0,.5);display:none;height:100%;left:0;overflow:auto;position:fixed;text-align:center;top:0;white-space:nowrap;width:100%;z-index:20000003}.jodit-dialog_static_true .jodit-dialog__overlay{display:none}.jodit-dialog_active_true,.jodit-dialog_modal_true .jodit-dialog__overlay{display:block}.jodit-dialog__panel{background-color:#fff;-webkit-box-shadow:0 8px calc(8px*2) rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);box-shadow:0 8px calc(8px*2) rgba(0,0,0,.19),0 6px 6px rgba(0,0,0,.23);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-flow:column nowrap;flex-flow:column nowrap;left:0;max-height:100%;max-width:100%;min-height:100px;min-width:200px;position:fixed;text-align:left;top:0;white-space:normal;z-index:20000004}@media (max-width:480px){.jodit-dialog:not(.jodit-dialog_adaptive_false) .jodit-dialog__panel{height:100%!important;left:0!important;max-width:100%;top:0!important;width:100%!important}}.jodit-dialog_static_true{-webkit-box-sizing:border-box;box-sizing:border-box;display:block;height:auto;position:relative;width:auto;z-index:inherit}.jodit-dialog_static_true .jodit-dialog__panel{border:1px solid #dadada;-webkit-box-shadow:none;box-shadow:none;left:auto!important;position:relative;top:auto!important;width:100%!important;z-index:inherit}.jodit-dialog_theme_dark{background-color:#353535;color:#fff}.jodit-dialog_theme_dark .jodit-dialog__panel{background-color:#353535;color:#fff}.jodit-dialog__header{border-bottom:1px solid #dadada;cursor:move;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;min-height:50px;text-align:left}.jodit-dialog__header-title{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-negative:3;flex-shrink:3;font-size:18px;font-weight:400;line-height:48px;margin:0;padding:0 8px;vertical-align:top}.jodit-dialog__header-toolbar{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-negative:3;flex-shrink:3;font-size:18px;font-weight:400;line-height:48px;margin:0;padding:0 8px;vertical-align:top}@media (max-width:480px){.jodit-dialog__header-toolbar{padding-left:0}}.jodit-dialog__header-button{color:#222;-ms-flex-preferred-size:48px;flex-basis:48px;font-size:28px;height:48px;line-height:48px;text-align:center;text-decoration:none;-webkit-transition:background-color .2s ease 0s;-o-transition:background-color .2s ease 0s;transition:background-color .2s ease 0s}.jodit-dialog__header-button:hover{background-color:#ecebe9}.jodit-dialog__header .jodit_toolbar{background:transparent;border:0;-webkit-box-shadow:none;box-shadow:none}.jodit-dialog__header .jodit_toolbar>li.jodit-toolbar-button .jodit-input{padding-left:8px;width:auto}@media (max-width:480px){.jodit-dialog:not(.jodit-dialog_adaptive_false) .jodit-dialog__header{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.jodit-dialog_slim_true .jodit-dialog__header{min-height:10px}.jodit-dialog_slim_true .jodit-dialog__header-title{padding:0 calc(8px/4)}.jodit-dialog_slim_true .jodit-dialog__header-toolbar{padding:0 calc(8px/4)}.jodit-dialog_theme_dark .jodit-dialog__header{border-color:#4c4c4c}.jodit-dialog_fullsize_true .jodit-dialog__header{cursor:default}.jodit-dialog__content{-webkit-box-flex:1;-ms-flex:1;flex:1;min-height:100px;overflow:auto}.jodit-dialog__content .jodit-form__group{margin-bottom:calc(8px*1.5);padding:0 8px}.jodit-dialog__content .jodit-form__group:first-child{margin-top:8px}.jodit-dialog__content .jodit-form__group label+.jodit-grid{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group label+.jodit-input_group{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group label+.jodit-select{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group label+input{margin-top:calc(8px/2)}.jodit-dialog__content .jodit-form__group .jodit-input_group{border-collapse:separate;display:table;width:100%}.jodit-dialog__content .jodit-form__group .jodit-input_group>*{display:table-cell;height:34px;vertical-align:middle}.jodit-dialog__content .jodit-form__group .jodit-input_group>input{margin:0!important}.jodit-dialog__content .jodit-form__group .jodit-input_group>input:not([class*=col-]){width:100%}.jodit-dialog__content .jodit-form__group .jodit-input_group-buttons{font-size:0;vertical-align:middle;white-space:nowrap;width:1%}.jodit-dialog__content .jodit-form__group .jodit-input_group-buttons>.jodit-button{border:1px solid #dadada;border-radius:0;height:34px;line-height:34px;margin-left:-1px}.jodit-dialog__footer{display:none;-ms-flex-wrap:nowrap;flex-wrap:nowrap;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:8px}.jodit-dialog__footer button{margin-right:calc(8px/2)}.jodit-dialog__footer button:last-child{margin-right:0}.jodit-dialog__column{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-dialog__resizer{display:none;position:relative}.jodit-dialog__resizer svg{fill:#a5a5a5;bottom:0;cursor:nwse-resize;height:12px;overflow:hidden;position:absolute;right:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:12px}.jodit-dialog_resizable_true .jodit-dialog__resizer{display:block}@media (max-width:480px){.jodit-dialog__resizer{display:none}}.jodit-dialog_prompt{max-width:300px;min-width:200px;padding:8px;word-break:break-all}.jodit-dialog_prompt label{display:block;margin-bottom:calc(8px/2)}.jodit-dialog_alert{max-width:300px;min-width:200px;padding:8px;word-break:break-all}.jodit-dialog_footer_true .jodit-dialog__footer{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit_fullsize .jodit-dialog__panel{bottom:0!important;height:100%!important;left:0!important;right:0!important;top:0!important;width:100%!important}.jodit_fullsize .jodit-dialog__panel .jodit-dialog__resizer{display:none}.jodit-dialog .jodit-ui-messages{z-index:20000004}.jodit-toolbar__box:not(:empty){background-color:#fff;border-bottom:1px solid #dadada;border-radius:3px 3px 0 0;overflow:hidden}.jodit-toolbar__box:not(:empty):not(:empty){background-color:#f9f9f9}.jodit-toolbar__box:not(:empty) .jodit-toolbar-editor-collection:after{background-color:#f9f9f9}.jodit-ui-messages{bottom:0;height:0;overflow:visible;position:absolute;right:0;width:0;z-index:3}.jodit-ui-message{background:#cfe2ff;border:1px solid #b6d4fe;border-radius:0.375rem;bottom:0;color:#084298;cursor:pointer;display:block;font-size:1rem;opacity:0;padding:0.5rem 1rem;position:absolute;right:calc(8px/2);-webkit-transition:opacity .1s linear,bottom .3s linear,-webkit-transform .1s ease-out;transition:opacity .1s linear,bottom .3s linear,-webkit-transform .1s ease-out;-o-transition:opacity .1s linear,bottom .3s linear,transform .1s ease-out;transition:opacity .1s linear,bottom .3s linear,transform .1s ease-out;transition:opacity .1s linear,bottom .3s linear,transform .1s ease-out,-webkit-transform .1s ease-out;white-space:pre}.jodit-ui-message_active_true{opacity:1}.jodit-ui-message:active{-webkit-transform:scale(.76);-ms-transform:scale(.76);transform:scale(.76)}.jodit-ui-message_variant_danger{background:#f8d7da;border-color:#f5c2c7;color:#842029}.jodit-ui-message_variant_error{background:#f8d7da;border-color:#f5c2c7;color:#842029}.jodit-ui-message_variant_secondary{background:#e2e3e5;border-color:#d3d6d8;color:#41464b}.jodit-ui-message_variant_success{background:#d1e7dd;border-color:#badbcc;color:#0f5132}.jodit-ui-label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-input{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:8px}.jodit-ui-input__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:0;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit-ui-input__input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit-ui-input__input_has-error_true{border-color:#ff3b3b}.jodit-ui-input__input:focus{outline:0}.jodit-ui-input_theme_dark .jodit-ui-input__input{background-color:#dadada}.jodit-ui-input_has-error_true .jodit-ui-input__input{border-color:#ff3b3b}.jodit-ui-input__error{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-input__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-input__error{color:#ff3b3b}.jodit-ui-input_has-error_true .jodit-ui-input__label{color:#ff3b3b}.jodit-ui-input__wrapper{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;min-width:200px}@media (max-width:480px){.jodit-ui-input__wrapper{min-width:140px}}.jodit-ui-input_theme_dark .jodit-ui-input__wrapper{background-color:#dadada;border-color:#dadada}.jodit-ui-input_focused_true .jodit-ui-input__wrapper{border-color:#1e88e5}.jodit-ui-input__icon:not(:empty){-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px}.jodit-ui-input__icon:not(:empty) svg{fill:#dadada;height:16px;width:16px}.jodit-ui-input__icon:not(:empty)+.jodit-ui-input__input{padding-left:0}.jodit-ui-input__clear{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.8;padding:0 8px 0 0}.jodit-ui-input__clear:active{opacity:1;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.jodit-ui-input__clear svg{fill:#dadada;height:12px;width:12px}.jodit-ui-input_theme_dark .jodit-ui-input__clear svg{fill:#4c4c4c}.jodit-ui-input_theme_dark .jodit-ui-input__icon svg{fill:#4c4c4c}.jodit-ui-block .jodit-ui-input{margin-bottom:0}.jodit-ui-select{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:8px}.jodit-ui-select__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:0;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit-ui-select__input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit-ui-select__input_has-error_true{border-color:#ff3b3b}.jodit-ui-select__input:focus{outline:0}.jodit-ui-select_theme_dark .jodit-ui-select__input{background-color:#dadada}.jodit-ui-select_has-error_true .jodit-ui-select__input{border-color:#ff3b3b}.jodit-ui-select__error{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-select__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-select__error{color:#ff3b3b}.jodit-ui-select_has-error_true .jodit-ui-select__label{color:#ff3b3b}.jodit-ui-select__wrapper{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;min-width:200px}@media (max-width:480px){.jodit-ui-select__wrapper{min-width:140px}}.jodit-ui-select_theme_dark .jodit-ui-select__wrapper{background-color:#dadada;border-color:#dadada}.jodit-ui-select_focused_true .jodit-ui-select__wrapper{border-color:#1e88e5}.jodit-ui-select__icon:not(:empty){-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px}.jodit-ui-select__icon:not(:empty) svg{fill:#dadada;height:16px;width:16px}.jodit-ui-select__icon:not(:empty)+.jodit-ui-select__input{padding-left:0}.jodit-ui-select__clear{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.8;padding:0 8px 0 0}.jodit-ui-select__clear:active{opacity:1;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.jodit-ui-select__clear svg{fill:#dadada;height:12px;width:12px}.jodit-ui-select_theme_dark .jodit-ui-select__clear svg{fill:#4c4c4c}.jodit-ui-select_theme_dark .jodit-ui-select__icon svg{fill:#4c4c4c}.jodit-ui-select__input{background-image:url('+S+');background-position:98% 50%;background-repeat:no-repeat;padding-right:calc(8px*2)}.jodit-ui-select_size_tiny{margin-bottom:0}.jodit-ui-select_size_tiny .jodit-ui-select__input{height:calc(32px/1.8);line-height:calc(32px/1.8)}.jodit-ui-select_variant_outline .jodit-ui-select__wrapper{border:0}.jodit-ui-select_variant_outline .jodit-ui-select__wrapper select{outline:0}.jodit-ui-select_width_auto{width:auto}.jodit-ui-select_width_auto .jodit-ui-select__wrapper{min-width:auto}.jodit-ui-text-area{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin-bottom:8px;width:100%}.jodit-ui-text-area__input{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:#fff;border:0;border-radius:0;-webkit-box-sizing:border-box;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;height:32px;line-height:32px;outline:none;padding:0 8px;width:100%}.jodit-ui-text-area__input[disabled]{background-color:#f0f0f0;color:#dadada}.jodit-ui-text-area__input_has-error_true{border-color:#ff3b3b}.jodit-ui-text-area__input:focus{outline:0}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__input{background-color:#dadada}.jodit-ui-text-area_has-error_true .jodit-ui-text-area__input{border-color:#ff3b3b}.jodit-ui-text-area__error{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-text-area__label{color:#a5a5a5;display:block;font-size:.8em;margin-bottom:calc(8px/4)}.jodit-ui-text-area__error{color:#ff3b3b}.jodit-ui-text-area_has-error_true .jodit-ui-text-area__label{color:#ff3b3b}.jodit-ui-text-area__wrapper{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#fff;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;min-width:200px}@media (max-width:480px){.jodit-ui-text-area__wrapper{min-width:140px}}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__wrapper{background-color:#dadada;border-color:#dadada}.jodit-ui-text-area_focused_true .jodit-ui-text-area__wrapper{border-color:#1e88e5}.jodit-ui-text-area__icon:not(:empty){-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding:0 8px}.jodit-ui-text-area__icon:not(:empty) svg{fill:#dadada;height:16px;width:16px}.jodit-ui-text-area__icon:not(:empty)+.jodit-ui-text-area__input{padding-left:0}.jodit-ui-text-area__clear{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;opacity:.8;padding:0 8px 0 0}.jodit-ui-text-area__clear:active{opacity:1;-webkit-transform:scale(1.1);-ms-transform:scale(1.1);transform:scale(1.1)}.jodit-ui-text-area__clear svg{fill:#dadada;height:12px;width:12px}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__clear svg{fill:#4c4c4c}.jodit-ui-text-area_theme_dark .jodit-ui-text-area__icon svg{fill:#4c4c4c}.jodit-ui-text-area__wrapper{-webkit-box-flex:1;-ms-flex:1;flex:1}.jodit-ui-text-area__input{height:100%;min-height:60px}.jodit-ui-checkbox{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end;margin-bottom:8px}.jodit-ui-checkbox__input{margin-right:8px}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__wrapper{display:inline-block;height:34px;margin-right:8px;position:relative;width:60px}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__wrapper input{height:0;opacity:0;width:0}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__switch-slider{background-color:#ccc;border-radius:34px;bottom:0;cursor:pointer;left:0;position:absolute;right:0;top:0;-webkit-transition:.4s;-o-transition:.4s;transition:.4s}.jodit-ui-checkbox_switch_true .jodit-ui-checkbox__switch-slider:before{background-color:#fff;border-radius:50%;bottom:4px;content:"";height:26px;left:4px;position:absolute;-webkit-transition:.4s;-o-transition:.4s;transition:.4s;width:26px}.jodit-ui-checkbox_switch_true.jodit-ui-checkbox_checked_true .jodit-ui-checkbox__switch-slider{background-color:#2196f3}.jodit-ui-checkbox_switch_true.jodit-ui-checkbox_checked_true .jodit-ui-checkbox__switch-slider:before{-webkit-transform:translateX(26px);-ms-transform:translateX(26px);transform:translateX(26px)}.jodit-ui-checkbox_switch_true.jodit-ui-checkbox_focused_true .jodit-ui-checkbox__switch-slider{-webkit-box-shadow:0 0 1px #2196f3;box-shadow:0 0 1px #2196f3}.jodit-ui-block .jodit-ui-checkbox{margin-bottom:0}.jodit-ui-file-input{overflow:hidden;position:relative}.jodit-ui-file-input__input{bottom:0;cursor:pointer;font-size:400px;margin:0 calc(8px*-1) 0 0;opacity:0;padding:0;position:absolute;right:0;top:0}.jodit-ui-block{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:stretch;-ms-flex-pack:stretch;justify-content:stretch;margin-bottom:8px}.jodit-ui-block_width_full{width:100%}.jodit-ui-block_align_full{-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between}.jodit-ui-block_align_right{-webkit-box-pack:end;-ms-flex-pack:end;justify-content:flex-end}.jodit-ui-block_padding_true{padding:8px}@-webkit-keyframes b{30%{opacity:.6}60%{opacity:0}to{opacity:.6}}@keyframes b{30%{opacity:.6}60%{opacity:0}to{opacity:.6}}.jodit-progress-bar{border-radius:1px;height:2px;left:0;opacity:.7;position:absolute;top:0;z-index:2147483647}.jodit-progress-bar div{background:#b91f1f;height:2px;position:relative;-webkit-transition:width .5s ease-out,opacity .5s linear;-o-transition:width .5s ease-out,opacity .5s linear;transition:width .5s ease-out,opacity .5s linear;will-change:width,opacity}.jodit-progress-bar div:after{-webkit-animation:b 2s ease-out 0s infinite;animation:b 2s ease-out 0s infinite;border-radius:100%;-webkit-box-shadow:#b91f1f 1px 0 6px 1px;box-shadow:#b91f1f 1px 0 6px 1px;content:"";display:inline-block;height:2px;opacity:.6;position:absolute;top:0}.jodit-progress-bar div:before{-webkit-animation:b 2s ease-out 0s infinite;animation:b 2s ease-out 0s infinite;border-radius:100%;-webkit-box-shadow:#b91f1f 1px 0 6px 1px;box-shadow:#b91f1f 1px 0 6px 1px;content:"";display:inline-block;height:2px;opacity:.6;position:absolute;top:0}.jodit-progress-bar div:before{clip:rect(-6px,90px,14px,-6px);right:-80px;width:180px}.jodit-progress-bar div:after{clip:rect(-6px,22px,14px,8px);right:0;width:20px}.jodit-toolbar-collection,.jodit-toolbar-editor-collection{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));position:relative}.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#dadada calc(14px + calc((14px - 4px)*2) + 2px*2));position:relative}.jodit-toolbar-collection_mode_horizontal:after{background-color:#fff;bottom:0;content:"";display:block;height:1px;left:0;position:absolute;width:100%}.jodit-toolbar-editor-collection_mode_horizontal:after{background-color:#fff;bottom:0;content:"";display:block;height:1px;left:0;position:absolute;width:100%}.jodit-toolbar-collection_size_tiny.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-collection_size_tiny.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-editor-collection_size_tiny.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-editor-collection_size_tiny.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px);background-image:repeating-linear-gradient(transparent 0,transparent 19px,#dadada 20px)}.jodit-toolbar-collection_size_xsmall.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-collection_size_xsmall.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-editor-collection_size_xsmall.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-editor-collection_size_xsmall.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px);background-image:repeating-linear-gradient(transparent 0,transparent 25px,#dadada 26px)}.jodit-toolbar-collection_size_small.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-collection_size_small.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-editor-collection_size_small.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-editor-collection_size_small.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px);background-image:repeating-linear-gradient(transparent 0,transparent 31px,#dadada 32px)}.jodit-toolbar-collection_size_middle.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-collection_size_middle.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-editor-collection_size_middle.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-editor-collection_size_middle.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px);background-image:repeating-linear-gradient(transparent 0,transparent 37px,#dadada 38px)}.jodit-toolbar-collection_size_large.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-collection_size_large.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-editor-collection_size_large.jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-editor-collection_size_large.jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px);background-image:repeating-linear-gradient(transparent 0,transparent 43px,#dadada 44px)}.jodit-toolbar-collection_mode_vertical .jodit-ui-group,.jodit-toolbar-editor-collection_mode_vertical .jodit-ui-group{background-color:transparent;border:0;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.jodit-toolbar-collection_mode_vertical .jodit-toolbar-button{height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2)}.jodit-toolbar-editor-collection_mode_vertical .jodit-toolbar-button{height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2)}.jodit-toolbar-collection_mode_vertical .jodit-toolbar-button__button{cursor:pointer;height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2);width:100%}.jodit-toolbar-editor-collection_mode_vertical .jodit-toolbar-button__button{cursor:pointer;height:auto;min-height:calc(14px + calc((14px - 4px)*2) + 2px*2);width:100%}.jodit-toolbar-collection_mode_vertical .jodit-toolbar-button__text:not(:empty),.jodit-toolbar-editor-collection_mode_vertical .jodit-toolbar-button__text:not(:empty){-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left}.jodit-toolbar-collection .jodit-toolbar-button{margin:2px 1px;padding:0}.jodit-toolbar-collection .jodit-toolbar-content{margin:2px 1px;padding:0}.jodit-toolbar-editor-collection .jodit-toolbar-button{margin:2px 1px;padding:0}.jodit-toolbar-editor-collection .jodit-toolbar-content{margin:2px 1px;padding:0}.jodit-dialog .jodit-toolbar-collection_mode_horizontal,.jodit-dialog .jodit-toolbar-editor-collection_mode_horizontal{background-image:none}.jodit-toolbar-button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid transparent;border-radius:3px;display:-webkit-box;display:-ms-flexbox;display:flex;height:34px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:34px;overflow:hidden}.jodit-toolbar-button__icon{display:none}.jodit-toolbar-button__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-toolbar-button__text{display:none}.jodit-toolbar-button__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-toolbar-button_context_menu .jodit-toolbar-button__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-toolbar-button_context_menu .jodit-toolbar-button__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-toolbar-button__icon:not(:empty)+.jodit-toolbar-button__text:not(:empty){margin-left:8px}.jodit-toolbar-button__icon:empty+.jodit-toolbar-button__text:not(:empty){padding:0 8px;padding:0}.jodit-toolbar-button .jodit-icon{height:14px;width:14px}.jodit-toolbar-button button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-toolbar-button_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_tiny{height:16px;min-width:16px}.jodit-toolbar-button_size_tiny .jodit-icon{height:8px;width:8px}.jodit-toolbar-button_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-toolbar-button_size_tiny_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_xsmall{height:22px;min-width:22px}.jodit-toolbar-button_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-toolbar-button_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-toolbar-button_size_xsmall_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_small{height:28px;min-width:28px}.jodit-toolbar-button_size_small .jodit-icon{height:12px;width:12px}.jodit-toolbar-button_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-toolbar-button_size_small_text-icons_true button{padding:0 8px}.jodit-toolbar-button_size_large{height:40px;min-width:40px}.jodit-toolbar-button_size_large .jodit-icon{height:16px;width:16px}.jodit-toolbar-button_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-toolbar-button_size_large_text-icons_true button{padding:0 8px}.jodit-toolbar-button__button{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:0;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0,0,0,.75);cursor:pointer;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-style:normal;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;outline:0;padding:0;padding:0 8px;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-toolbar-button__button:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__button:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__button:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__button[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__button[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-toolbar-button__button[disabled]{opacity:.3;pointer-events:none}.jodit-toolbar-button__trigger{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-radius:0 3px 3px 0;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;opacity:.4;width:14px}.jodit-toolbar-button__trigger:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__trigger:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-button__trigger:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__trigger[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-button__trigger[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-toolbar-button__trigger[disabled]{opacity:.3;pointer-events:none}.jodit-toolbar-button__trigger svg{width:10px}.jodit-toolbar-button_size_tiny .jodit-toolbar-button__trigger{width:8px}.jodit-toolbar-button_size_tiny .jodit-toolbar-button__trigger svg{width:4px}.jodit-toolbar-button_size_xsmall .jodit-toolbar-button__trigger{width:10px}.jodit-toolbar-button_size_xsmall .jodit-toolbar-button__trigger svg{width:6px}.jodit-toolbar-button_size_small .jodit-toolbar-button__trigger{width:12px}.jodit-toolbar-button_size_small .jodit-toolbar-button__trigger svg{width:8px}.jodit-toolbar-button_size_large .jodit-toolbar-button__trigger{width:16px}.jodit-toolbar-button_size_large .jodit-toolbar-button__trigger svg{width:12px}.jodit-toolbar-button_with-trigger_true .jodit-toolbar-button__button{border-radius:3px 0 0 3px}.jodit-toolbar-button_with-trigger_true:hover:not([disabled]){border-color:#dadada}.jodit-toolbar-button_stroke_false svg{stroke:none}.jodit-toolbar-content{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-appearance:none;-moz-appearance:none;appearance:none;background:0 0;border:1px solid transparent;border-radius:3px;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:rgba(0,0,0,.75);cursor:pointer;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;font-style:normal;height:34px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;min-width:34px;outline:0;padding:0;position:relative;text-align:center;text-decoration:none;text-transform:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-toolbar-content:focus-visible:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-content:hover:not([disabled]){background-color:#dcdcdc;opacity:1;outline:0}.jodit-toolbar-content:active:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-content[aria-pressed=true]:not([disabled]){background-color:hsla(0,0%,86%,.4);outline:0}.jodit-toolbar-content[aria-pressed=true]:hover:not([disabled]){background-color:hsla(0,0%,86%,.6)}.jodit-toolbar-content[disabled]{opacity:.3;pointer-events:none}.jodit-toolbar-content .jodit-icon{height:14px;width:14px}.jodit-toolbar-content button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:34px;min-width:34px;padding:0}.jodit-toolbar-content_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_tiny{height:16px;min-width:16px}.jodit-toolbar-content_size_tiny .jodit-icon{height:8px;width:8px}.jodit-toolbar-content_size_tiny button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:16px;min-width:16px;padding:0}.jodit-toolbar-content_size_tiny_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_xsmall{height:22px;min-width:22px}.jodit-toolbar-content_size_xsmall .jodit-icon{height:10px;width:10px}.jodit-toolbar-content_size_xsmall button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:22px;min-width:22px;padding:0}.jodit-toolbar-content_size_xsmall_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_small{height:28px;min-width:28px}.jodit-toolbar-content_size_small .jodit-icon{height:12px;width:12px}.jodit-toolbar-content_size_small button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:28px;min-width:28px;padding:0}.jodit-toolbar-content_size_small_text-icons_true button{padding:0 8px}.jodit-toolbar-content_size_large{height:40px;min-width:40px}.jodit-toolbar-content_size_large .jodit-icon{height:16px;width:16px}.jodit-toolbar-content_size_large button{-webkit-appearance:none;-moz-appearance:none;appearance:none;height:40px;min-width:40px;padding:0}.jodit-toolbar-content_size_large_text-icons_true button{padding:0 8px}.jodit-toolbar-content__icon{display:none}.jodit-toolbar-content__icon:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex}.jodit-toolbar-content__text{display:none}.jodit-toolbar-content__text:not(:empty){display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-toolbar-content_context_menu .jodit-toolbar-content__text{-webkit-box-pack:left;-ms-flex-pack:left;justify-content:left;padding-left:8px;position:relative}.jodit-toolbar-content_context_menu .jodit-toolbar-content__text:before{border-left:1px solid #dadada;content:"";height:35px;left:0;position:absolute;top:calc(8px*-1)}.jodit-toolbar-content__icon:not(:empty)+.jodit-toolbar-content__text:not(:empty){margin-left:8px}.jodit-toolbar-content__icon:empty+.jodit-toolbar-content__text:not(:empty){padding:0 8px}.jodit-toolbar-content:focus:not([disabled]){outline:1px dashed #b5d6fd}.jodit-toolbar-content_variant_default{background-color:#e3e3e3;color:#212529}.jodit-toolbar-content_variant_default svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_default [disabled]{opacity:.7}.jodit-toolbar-content_variant_default:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-toolbar-content_variant_default:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_default:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-toolbar-content_variant_default:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_default:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-toolbar-content_variant_primary{background-color:#007bff;color:#fff}.jodit-toolbar-content_variant_primary svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_primary [disabled]{opacity:.7}.jodit-toolbar-content_variant_primary:hover:not([disabled]){background-color:#0069d9;color:#fff}.jodit-toolbar-content_variant_primary:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_primary:active:not([disabled]){background-color:#0062cc;color:#fff}.jodit-toolbar-content_variant_primary:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_primary:focus:not([disabled]){outline:1px dashed #0062cc}.jodit-toolbar-content_variant_secondary{background-color:#d8d8d8;border-radius:0;color:#212529}.jodit-toolbar-content_variant_secondary svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_secondary [disabled]{opacity:.7}.jodit-toolbar-content_variant_secondary:hover:not([disabled]){background-color:#c9cdd1;color:#212529}.jodit-toolbar-content_variant_secondary:hover:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_secondary:active:not([disabled]){background-color:#dae0e5;color:#212529}.jodit-toolbar-content_variant_secondary:active:not([disabled]) svg{fill:#212529;stroke:#212529}.jodit-toolbar-content_variant_secondary:focus:not([disabled]){outline:1px dashed #dae0e5}.jodit-toolbar-content_variant_success{background-color:#28a745;color:#fff}.jodit-toolbar-content_variant_success svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_success [disabled]{opacity:.7}.jodit-toolbar-content_variant_success:hover:not([disabled]){background-color:#218838;color:#fff}.jodit-toolbar-content_variant_success:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_success:active:not([disabled]){background-color:#1e7e34;color:#fff}.jodit-toolbar-content_variant_success:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_success:focus:not([disabled]){outline:1px dashed #1e7e34}.jodit-toolbar-content_variant_danger{background-color:#dc3545;color:#fff}.jodit-toolbar-content_variant_danger svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_danger [disabled]{opacity:.7}.jodit-toolbar-content_variant_danger:hover:not([disabled]){background-color:#c82333;color:#fff}.jodit-toolbar-content_variant_danger:hover:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_danger:active:not([disabled]){background-color:#bd2130;color:#fff}.jodit-toolbar-content_variant_danger:active:not([disabled]) svg{fill:#fff;stroke:#fff}.jodit-toolbar-content_variant_danger:focus:not([disabled]){outline:1px dashed #bd2130}.jodit-toolbar-content:hover:not([disabled]){background-color:transparent;opacity:1;outline:0}.jodit-filebrowser{display:-webkit-box;display:-ms-flexbox;display:flex;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;height:100%}.jodit-filebrowser_no-files_true{padding:8px}@media (max-width:480px){.jodit-filebrowser{-webkit-box-orient:vertical;-webkit-box-direction:reverse;-ms-flex-flow:column-reverse;flex-flow:column-reverse}}.jodit-dialog .jodit-dialog__header-title.jodit-filebrowser__title-box{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;padding-left:8px}.jodit-filebrowser-preview{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:100%;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:auto;max-height:100%;max-width:Min(100%,1000px);min-height:Min(100%,500px);min-width:400px;position:relative;text-align:center}@media (max-width:768px){.jodit-filebrowser-preview{height:100%;max-height:100%;max-width:100%;min-height:auto;min-width:auto}}.jodit-filebrowser-preview__box{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-ms-flex-positive:1;flex-grow:1;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-filebrowser-preview__navigation{cursor:pointer;height:100%;left:0;position:absolute;top:0}.jodit-filebrowser-preview__navigation_arrow_next{left:auto;right:0}.jodit-filebrowser-preview__navigation svg{fill:#9e9ba7;height:45px;position:relative;top:50%;-webkit-transform:translateY(-50%);-ms-transform:translateY(-50%);transform:translateY(-50%);-webkit-transition:fill .3s linear;-o-transition:fill .3s linear;transition:fill .3s linear;width:45px}.jodit-filebrowser-preview__navigation:hover svg{fill:#000}.jodit-filebrowser-preview img{max-height:100%;max-width:100%}.jodit-image-editor{height:100%;overflow:hidden;padding:8px;width:100%}@media (max-width:768px){.jodit-image-editor{height:auto}}.jodit-image-editor>div,.jodit-image-editor>div>div{height:100%}@media (max-width:768px){.jodit-image-editor>div,.jodit-image-editor>div>div{height:auto;min-height:200px}}.jodit-image-editor *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-image-editor .jodit-image-editor__slider-title{background-color:#f9f9f9;border-bottom:1px solid hsla(0,0%,62%,.31);color:#333;cursor:pointer;font-weight:700;line-height:1em;padding:.8em 1em;-o-text-overflow:ellipsis;text-overflow:ellipsis;text-shadow:#f3f3f3 0 1px 0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;white-space:nowrap}.jodit-image-editor .jodit-image-editor__slider-title svg{display:inline-block;margin-right:8px;vertical-align:middle;width:16px}.jodit-image-editor .jodit-image-editor__slider-content{display:none}.jodit-image-editor .jodit-image-editor__slider.jodit-image-editor_active .jodit-image-editor__slider-title{background-color:#5d5d5d;color:#fff;text-shadow:#000 0 1px 0}.jodit-image-editor .jodit-image-editor__slider.jodit-image-editor_active .jodit-image-editor__slider-title svg{fill:#fff}.jodit-image-editor .jodit-image-editor__slider.jodit-image-editor_active .jodit-image-editor__slider-content{display:block}.jodit-image-editor__area{background-color:#eee;background-image:-o-linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada),-o-linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada);background-image:linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada),linear-gradient(45deg,#dadada 25%,transparent 25%,transparent 75%,#dadada 75%,#dadada);background-position:0 0,15px 15px;background-size:30px 30px;display:none;height:100%;overflow:hidden;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:100%}.jodit-image-editor__area.jodit-image-editor_active{display:block}.jodit-image-editor__area .jodit-image-editor__box{height:100%;overflow:hidden;pointer-events:none;position:relative;z-index:1}.jodit-image-editor__area .jodit-image-editor__box img{max-height:100%;max-width:100%;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-image-editor__area .jodit-image-editor__croper{background-repeat:no-repeat;border:1px solid #fff;-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;height:100px;left:20px;pointer-events:none;position:absolute;top:8px;width:100px;z-index:2}.jodit-image-editor__area .jodit-image-editor__resizer{background-repeat:no-repeat;border:1px solid #fff;-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;height:100px;left:20px;pointer-events:none;position:absolute;top:8px;width:100px;z-index:2}.jodit-image-editor__area .jodit-image-editor__croper i.jodit_bottomright{background-color:#8c7878;border:1px solid #383838;border-radius:50%;bottom:calc(8px*-1);-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;cursor:se-resize;display:inline-block;height:20px;pointer-events:all;position:absolute;right:calc(8px*-1);width:20px;z-index:4}.jodit-image-editor__area .jodit-image-editor__resizer i.jodit_bottomright{background-color:#8c7878;border:1px solid #383838;border-radius:50%;bottom:calc(8px*-1);-webkit-box-shadow:0 0 11px #000;box-shadow:0 0 11px #000;cursor:se-resize;display:inline-block;height:20px;pointer-events:all;position:absolute;right:calc(8px*-1);width:20px;z-index:4}.jodit-image-editor__area .jodit-image-editor__croper i.jodit_bottomright:active,.jodit-image-editor__area .jodit-image-editor__resizer i.jodit_bottomright:active{border:1px solid #ff0}.jodit-image-editor__area.jodit-image-editor__area_crop{background:#eee;height:100%;line-height:100%;position:relative;text-align:center}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box{height:100%;line-height:100%;overflow:visible;pointer-events:all;text-align:left}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box img{height:100%;max-height:100%;max-width:100%;width:100%}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box:after{background:hsla(0,0%,100%,.3);bottom:0;content:"";left:0;margin:auto;position:absolute;right:0;top:0;z-index:1}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box .jodit-image-editor__croper{cursor:move;pointer-events:all}.jodit-image-editor__area.jodit-image-editor__area_crop .jodit-image-editor__box .jodit-image-editor__croper i.jodit-image-editor__sizes{background:rgba(0,0,0,.2);border-radius:.4em;bottom:-30px;color:#fff;display:block;font-size:12px;left:100%;padding:9px 6px;position:absolute;text-align:center;text-shadow:none;white-space:pre}.jodit-image-editor__area.jodit-image-editor__area_crop.jodit-image-editor_active{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-filebrowser-files{display:none;height:100%;overflow-anchor:auto;position:relative;vertical-align:top}.jodit-filebrowser-files .jodit-button{border-radius:0}.jodit-filebrowser-files_loading_true:before{content:"";height:100%;left:0;position:absolute;top:0;width:100%}.jodit-filebrowser-files_loading_true:after{-webkit-animation:a 2s ease-out 0s infinite;animation:a 2s ease-out 0s infinite;background:url('+_+') no-repeat 50%;background-size:100% 100%;content:"";display:inline-block;height:48px;left:50%;margin-left:calc(48px/-2);margin-top:calc(48px/-2);opacity:.7;position:absolute;top:50%;vertical-align:middle;width:48px;will-change:transform}.jodit-filebrowser-files_active_true{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-filebrowser-files::-webkit-scrollbar{width:calc(8px/2)}.jodit-filebrowser-files::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.jodit-filebrowser-files::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.jodit-filebrowser-files_active_true{-ms-flex-line-pack:start;align-content:flex-start;-ms-flex-wrap:wrap;flex-wrap:wrap;overflow-y:auto;padding:calc(8px/2);width:100%}.jodit-filebrowser-files__item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:1px solid #dadada;display:-webkit-box;display:-ms-flexbox;display:flex;font-size:0;height:150px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:calc(8px/2);overflow:hidden;position:relative;text-align:center;-webkit-transition:border .1s linear,bottom .1s linear;-o-transition:border .1s linear,bottom .1s linear;transition:border .1s linear,bottom .1s linear;width:150px}@media (max-width:480px){.jodit-filebrowser-files__item{width:calc(50% - 8px)}}.jodit-filebrowser-files__item img{max-width:100%}.jodit-filebrowser-files__item:hover{border-color:#433b5c}.jodit-filebrowser-files__item_active_true{background-color:#b5b5b5;border-color:#1e88e5}.jodit-filebrowser-files__item_active_true .jodit-filebrowser-files__item-info{background-color:#b5b5b5;color:#fff;text-shadow:none}.jodit-filebrowser-files__item-info{background-color:#e9e9e9;bottom:0;color:#333;font-size:14px;left:0;line-height:16px;opacity:.85;overflow:visible;padding:.3em .6em;position:absolute;right:0;text-align:left;text-shadow:#eee 0 1px 0;-webkit-transition:opacity .4s ease;-o-transition:opacity .4s ease;transition:opacity .4s ease;white-space:normal}.jodit-filebrowser-files__item-info>span{display:block;font-size:.75em;overflow:hidden;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:nowrap}.jodit-filebrowser-files__item-info>span.jodit-filebrowser-files__item-info-filename{font-size:.9em;font-weight:700}.jodit-filebrowser-files__item:hover:not(.jodit-filebrowser-files__item_active_true) .jodit-filebrowser-files__item-info{bottom:-100px}.jodit-filebrowser-files_view_list{scroll-behavior:smooth}.jodit-filebrowser-files_view_list a{border-width:0 0 1px;display:block;height:26px;line-height:26px;margin:0;text-align:left;white-space:nowrap;width:100%}.jodit-filebrowser-files_view_list a img{display:inline-block;margin-left:4px;max-width:16px;min-width:16px;vertical-align:middle}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info{background-color:transparent;display:inline-block;font-size:0;height:100%;line-height:inherit;margin-left:4px;padding:0;position:static;vertical-align:middle;width:calc(100% - 20px)}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info>span{display:inline-block;font-size:12px;height:100%}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info-filename{width:50%}.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info-filechanged,.jodit-filebrowser-files_view_list a .jodit-filebrowser-files__item-info-filesize{width:25%}.jodit-filebrowser-files_view_list a:hover{background-color:#433b5c}.jodit-filebrowser-files_view_list a:hover .jodit-filebrowser-files__item-info{color:#fff;text-shadow:none}.jodit-filebrowser-files_view_list a:before{content:"";display:inline-block;height:100%;vertical-align:middle}.jodit-filebrowser-tree{display:none;height:100%;overflow-anchor:auto;position:relative;vertical-align:top}.jodit-filebrowser-tree .jodit-button{border-radius:0}.jodit-filebrowser-tree_active_true{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-filebrowser-tree_loading_true:before{content:"";height:100%;left:0;position:absolute;top:0;width:100%}.jodit-filebrowser-tree_loading_true:after{-webkit-animation:a 2s ease-out 0s infinite;animation:a 2s ease-out 0s infinite;background:url('+_+') no-repeat 50%;background-size:100% 100%;content:"";display:inline-block;height:48px;left:50%;margin-left:calc(48px/-2);margin-top:calc(48px/-2);opacity:.7;position:absolute;top:50%;vertical-align:middle;width:48px;will-change:transform}.jodit-filebrowser-tree::-webkit-scrollbar{width:calc(8px/2)}.jodit-filebrowser-tree::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.jodit-filebrowser-tree::-webkit-scrollbar-thumb{background-color:#a9a9a9;outline:1px solid #708090}.jodit-filebrowser-tree_active_true{background-color:#3f3f3f;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-width:290px;min-width:200px;overflow-y:auto;width:31%;z-index:2}@media (max-width:480px){.jodit-filebrowser-tree_active_true{height:100px;max-width:100%;width:auto}}.jodit-filebrowser-tree_active_true::-webkit-scrollbar{width:calc(8px/2)}.jodit-filebrowser-tree_active_true::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3)}.jodit-filebrowser-tree_active_true::-webkit-scrollbar-thumb{background-color:hsla(0,0%,50%,.5);outline:1px solid #708090}.jodit-filebrowser-tree__item{-webkit-box-align:center;-ms-flex-align:center;align-items:center;border-bottom:1px solid #474747;color:#b1b1b1;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;min-height:38px;padding:calc(8px/2) 8px;position:relative;text-decoration:none;-webkit-transition:background-color .2s ease 0s;-o-transition:background-color .2s ease 0s;transition:background-color .2s ease 0s;word-break:break-all}.jodit-filebrowser-tree__item-title{color:#b1b1b1;-webkit-box-flex:1;-ms-flex:1;flex:1}.jodit-filebrowser-tree__item .jodit-icon_folder{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;height:calc(12px + 4px);-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-left:calc(8px/2);opacity:.3;width:calc(12px + 4px)}.jodit-filebrowser-tree__item .jodit-icon_folder svg{fill:#b1b1b1!important;stroke:#b1b1b1!important;height:12px;width:12px}.jodit-filebrowser-tree__item .jodit-icon_folder:hover{background:#696969}.jodit-filebrowser-tree__item:hover{background-color:#ecebe9}.jodit-filebrowser-tree__item:hover-title{color:#222}.jodit-filebrowser-tree__item:hover i.jodit-icon_folder{opacity:.6}.jodit-filebrowser-tree__source-title{background:#5a5a5a;border-bottom:1px solid #484848;color:#969696;display:block;font-size:12px;padding:2px 4px;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;word-break:break-all}a+.jodit-filebrowser-tree__source-title{margin-top:8px}.jodit-status-bar{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#f9f9f9;border-radius:0 0 3px 3px;color:rgba(0,0,0,.75);display:-webkit-box;display:-ms-flexbox;display:flex;font-size:11px;height:20px;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;overflow:hidden;padding:0 calc(8px/2);text-transform:uppercase}.jodit-status-bar_resize-handle_true{padding-right:14px}.jodit-status-bar:before{content:"";-webkit-box-flex:1;-ms-flex:auto;flex:auto;-webkit-box-ordinal-group:2;-ms-flex-order:1;order:1}.jodit-status-bar .jodit-status-bar__item{line-height:1.57142857em;margin:0 8px 0 0;-webkit-box-ordinal-group:1;-ms-flex-order:0;order:0;padding:0}.jodit-status-bar .jodit-status-bar__item{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-size:11px}.jodit-status-bar .jodit-status-bar__item>span{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px;font-size:11px}.jodit-status-bar .jodit-status-bar__item.jodit-status-bar__item-right{margin:0 0 0 8px;-webkit-box-ordinal-group:3;-ms-flex-order:2;order:2}.jodit-status-bar .jodit-status-bar__item a{border-radius:3px;cursor:default;text-decoration:none}.jodit-status-bar .jodit-status-bar__item a:hover{background-color:#dadada;text-decoration:none}.jodit-status-bar a.jodit-status-bar-link{cursor:pointer}.jodit-status-bar a.jodit-status-bar-link{background-color:transparent;color:rgba(0,0,0,.75)}.jodit-status-bar a.jodit-status-bar-link:hover{background-color:transparent;color:rgba(0,0,0,.75)}.jodit-status-bar a.jodit-status-bar-link:visited{background-color:transparent;color:rgba(0,0,0,.75)}.jodit-status-bar a.jodit-status-bar-link:hover{text-decoration:underline}.jodit-workplace+.jodit-status-bar:not(:empty){border-top:1px solid #dadada}.jodit_disabled .jodit-status-bar{opacity:.4}.jodit-drag-and-drop__file-box{border:1px dashed #dadada;margin:8px 0;overflow:hidden;padding:25px 0;position:relative;text-align:center;width:100%}.jodit_uploadfile_button{border:1px dashed #dadada;margin:8px 0;overflow:hidden;padding:25px 0;position:relative;text-align:center;width:100%}.jodit-drag-and-drop__file-box:hover{background-color:#ecebe9}.jodit_uploadfile_button:hover{background-color:#ecebe9}.jodit-drag-and-drop__file-box input,.jodit_uploadfile_button input{bottom:0;cursor:pointer;font-size:400px;left:0;margin:0;opacity:0;padding:0;position:absolute;right:0;top:0}@media (max-width:768px){.jodit-drag-and-drop__file-box{max-width:100%;min-width:180px;width:auto}}.jodit-about{padding:20px}.jodit-about a{color:#459ce7;text-decoration:none}.jodit-about a:focus,.jodit-about a:hover{color:#23527c;outline:0;text-decoration:underline}.jodit-about div{margin-bottom:calc(8px/2)}.jodit-add-new-line{display:block;height:1px;outline:none;position:fixed;top:0;z-index:1}.jodit-add-new-line,.jodit-add-new-line *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-add-new-line:after{background-color:#6b6b6b;content:"";display:block;height:1px;width:100%}.jodit-add-new-line span{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background:hsla(40,7%,92%,.3);border:1px solid #6b6b6b;cursor:pointer;display:-webkit-box;display:-ms-flexbox;display:flex;height:30px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;left:calc(100% - 30px);position:absolute;width:30px}.jodit-add-new-line span:hover{background:#ecebe9}.jodit-add-new-line_after span{bottom:0}.jodit-add-new-line svg{fill:#6b6b6b;width:16px}.jodit-source__mode .jodit-add-new-line{display:none!important}.jodit-color-picker{margin:0;text-align:left;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-color-picker__group{display:-webkit-box;display:-ms-flexbox;display:flex;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-bottom:calc(8px/2);max-width:calc(24px*10);white-space:normal}.jodit-color-picker__color-item{border:1px solid transparent;display:block;height:24px;text-align:center;text-decoration:none;vertical-align:middle;width:24px}.jodit-color-picker__color-item:hover{border-color:#000}.jodit-color-picker__color-item:active{border:2px solid #1e88e5}.jodit-color-picker__color-item_active_true{border:2px solid #1e88e5}.jodit-color-picker__native svg{display:inline-block;height:16px;margin-right:4px;width:16px}.jodit-color-picker__native input{-webkit-appearance:none;-moz-appearance:none;appearance:none;border:none;height:18px;padding:0;width:18px}.jodit-color-picker__native input[type=color]::-webkit-color-swatch-wrapper{padding:0}.jodit-color-picker__native input input[type=color]::-webkit-color-swatch{border:none}.jodit-tabs{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;font-size:14px}.jodit-tabs .jodit-tabs__buttons{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;line-height:18px;margin-bottom:calc(8px/2);margin-top:4px}.jodit-tabs .jodit-tabs__buttons>*{cursor:pointer;margin-left:calc(8px/2)}.jodit-tabs .jodit-tabs__buttons>:only-of-type{width:100%}.jodit-tabs .jodit-tabs__buttons>:first-child{margin-left:0}@media (max-width:480px){.jodit-tabs .jodit-tabs__buttons{display:block}.jodit-tabs .jodit-tabs__buttons>*{margin-left:0;width:100%}}.jodit-tabs__button{min-width:80px}.jodit-tabs__button_columns_3{width:33.33333%}.jodit-tabs__button_columns_2{width:50%}.jodit-tabs .jodit-tabs__wrapper .jodit-tab{display:none}.jodit-tabs .jodit-tabs__wrapper .jodit-tab.jodit-tab_active{display:block}.jodit-tabs .jodit-tabs__wrapper .jodit-tab.jodit-tab_empty{min-height:100px;min-width:220px}.jodit_fullsize-box_true{overflow:visible!important;position:static!important;z-index:100000!important}body.jodit_fullsize-box_true,html.jodit_fullsize-box_true{height:0!important;overflow:hidden!important;width:0!important}html.jodit_fullsize-box_true{position:fixed!important}.jodit_fullsize{bottom:0;left:0;max-width:none!important;position:absolute;right:0;top:0;z-index:100000}.jodit_fullsize .toolbar{width:100%!important}.jodit_fullsize .jodit__area,.jodit_fullsize .jodit_editor{height:100%}.jodit-properties__lock>svg,.jodit-properties__unlock>svg{fill:#222;display:inline-block;font-size:8px;font-style:normal;height:14px;line-height:14px;overflow:hidden;-webkit-transform-origin:0 0!important;-ms-transform-origin:0 0!important;transform-origin:0 0!important;vertical-align:middle;width:14px}.jodit-properties .jodit-properties_view_box{padding:8px}.jodit-properties .jodit-properties_view_box .jodit-properties_image_view{-webkit-box-align:center;-ms-flex-align:center;align-items:center;background-color:#f6f6f6;display:-webkit-box;display:-ms-flexbox;display:flex;height:150px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin:0 0 8px;padding:0}.jodit-properties .jodit-properties_view_box .jodit-properties_image_view img{max-height:100%;max-width:100%}.jodit-properties .jodit-properties_view_box .jodit-properties_image_sizes.jodit-form__group{-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;margin:0!important;min-width:auto;padding:0!important}.jodit-properties .jodit-properties_view_box .jodit-properties_image_sizes.jodit-form__group a{cursor:pointer;display:inline-block}.jodit-properties .jodit-properties_view_box .jodit-properties_image_sizes.jodit-form__group .jodit-input{width:calc(50% - 8px)!important}.jodit-popup-inline__container{min-width:700px;z-index:1300}.jodit-paste-storage{max-width:600px;padding:8px}@media (max-width:768px){.jodit-paste-storage{max-width:100%}}.jodit-paste-storage>div{border:1px solid #dadada;max-height:300px;max-width:100%}.jodit-paste-storage>div:first-child{margin-bottom:8px}.jodit-paste-storage>div:first-child a{border:1px solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:#4c4c4c;display:block;margin:0;max-width:100%;outline:none;overflow:hidden;padding:calc(8px/2);text-decoration:none;-o-text-overflow:ellipsis;text-overflow:ellipsis;white-space:pre}.jodit-paste-storage>div:first-child a.jodit_active{background-color:#575757;color:#fff}.jodit-paste-storage>div:first-child a:focus{outline:none}.jodit-paste-storage>div:last-child{overflow:auto;padding:8px}.jodit-paste-storage>div:last-child li,.jodit-paste-storage>div:last-child ul{margin:0}.jodit-placeholder{color:#a5a5a5;display:block;left:0;padding:8px;pointer-events:none;position:absolute;top:0;-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important;width:100%;z-index:1}.jodit__preview-box table{border:none;border-collapse:collapse;empty-cells:show;margin-bottom:1em;margin-top:1em;max-width:100%}.jodit__preview-box table tr{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit__preview-box table tr td{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit__preview-box table tr th{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-table-resizer{cursor:col-resize;margin-left:calc(8px/-2);padding-left:calc(8px/2);padding-right:calc(8px/2);position:absolute;z-index:3}.jodit-table-resizer:after{border:0;content:"";display:block;height:100%;width:0}.jodit-table-resizer_moved{background-color:#b5d6fd;z-index:2}.jodit-table-resizer_moved:after{border-right:1px solid moved}[data-jodit_iframe_wrapper]{display:block;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[data-jodit_iframe_wrapper] iframe{position:relative}[data-jodit_iframe_wrapper]:after{background:transparent;bottom:0;content:"";cursor:pointer;display:block;left:0;position:absolute;right:0;top:0;z-index:1}[data-jodit_iframe_wrapper][data-jodit-wrapper_active=true] iframe{z-index:2}.jodit_lock [data-jodit-wrapper_active=true] iframe{z-index:1}.jodit-resizer{font-size:0;height:100px;left:0;outline:3px solid #98c1f1;pointer-events:none;position:absolute;top:0;width:100px}.jodit-resizer,.jodit-resizer *{-webkit-box-sizing:border-box;box-sizing:border-box}.jodit-resizer>span{background-color:#a5a5a5;color:#fff;display:inline-block;font-size:12px;height:24px;left:50%;line-height:24px;margin-left:calc(70px/-2);margin-top:calc(24px/-2);opacity:0;overflow:visible;position:absolute;text-align:center;top:50%;-webkit-transition:opacity .2s linear;-o-transition:opacity .2s linear;transition:opacity .2s linear;width:70px}.jodit-resizer>div{background-color:#5ba4f3;display:inline-block;height:10px;pointer-events:all;position:absolute;width:10px;z-index:4}.jodit-resizer>div:hover{background-color:#537ebb}.jodit-resizer>div:first-child{cursor:nwse-resize;left:calc(10px/-2);top:calc(10px/-2)}.jodit-resizer>div:nth-child(2){cursor:nesw-resize;right:calc(10px/-2);top:calc(10px/-2)}.jodit-resizer>div:nth-child(3){bottom:calc(10px/-2);cursor:nwse-resize;right:calc(10px/-2)}.jodit-resizer>div:nth-child(4){bottom:calc(10px/-2);cursor:nesw-resize;left:calc(10px/-2)}.jodit-ui-search{height:0;position:absolute;right:0;top:0;width:0}.jodit-ui-search_sticky_true{position:fixed}.jodit-ui-search__box{background-color:#f9f9f9;border:solid #dadada;border-width:0 0 1px 1px;display:-webkit-box;display:-ms-flexbox;display:flex;max-width:100vw;padding:calc(8px/2);position:absolute;right:0;width:320px}.jodit-ui-search__box input{background-color:transparent;border:0;height:100%;margin:0;outline:none;padding:0 8px;width:100%}.jodit-ui-search__box input[data-ref=replace]{display:none}.jodit-ui-search__box input:not(:focus)+input:not(:focus){border-top:1px solid #dadada}.jodit-ui-search__buttons{height:30px}.jodit-ui-search__counts{height:30px}.jodit-ui-search__inputs{height:30px}.jodit-ui-search__inputs{padding-right:calc(8px/2);width:60%}.jodit-ui-search__counts{border-left:1px solid #dadada;color:#dadada;width:15%}.jodit-ui-search__buttons,.jodit-ui-search__counts{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.jodit-ui-search__buttons{-webkit-box-flex:1;-ms-flex:1;flex:1;padding-left:0}.jodit-ui-search__buttons button{background-color:transparent;border:1px solid transparent;height:100%;margin-right:1%;width:32%}.jodit-ui-search__buttons button[data-ref=replace-btn]{border:1px solid #dadada;display:none;margin-top:2px;width:100%}.jodit-ui-search__buttons button:hover{background-color:#ecebe9}.jodit-ui-search__buttons button:focus{border:1px solid rgba(181,214,253,.995)}.jodit-ui-search__buttons button:active{border:1px solid #b5d6fd;-webkit-transform:scale(0.95);-ms-transform:scale(0.95);transform:scale(0.95)}.jodit-ui-search_empty-query_true [data-ref=next],.jodit-ui-search_empty-query_true [data-ref=prev]{opacity:.5}.jodit-ui-search_replace_true .jodit-ui-search__counts{height:calc(30px*2)}.jodit-ui-search_replace_true .jodit-ui-search__inputs{height:calc(30px*2)}.jodit-ui-search_replace_true .jodit-ui-search__counts input{height:50%;-webkit-transition:background-color 0.1s linear;-o-transition:background-color 0.1s linear;transition:background-color 0.1s linear}.jodit-ui-search_replace_true .jodit-ui-search__inputs input{height:50%;-webkit-transition:background-color 0.1s linear;-o-transition:background-color 0.1s linear;transition:background-color 0.1s linear}.jodit-ui-search_replace_true .jodit-ui-search__counts input:focus{-webkit-box-shadow:inset 0 0 3px 0 #dadada;box-shadow:inset 0 0 3px 0 #dadada}.jodit-ui-search_replace_true .jodit-ui-search__inputs input:focus{-webkit-box-shadow:inset 0 0 3px 0 #dadada;box-shadow:inset 0 0 3px 0 #dadada}.jodit-ui-search_replace_true .jodit-ui-search__counts input[data-ref=replace],.jodit-ui-search_replace_true .jodit-ui-search__inputs input[data-ref=replace]{display:block}.jodit-ui-search_replace_true .jodit-ui-search__buttons{-ms-flex-wrap:wrap;flex-wrap:wrap}.jodit-ui-search_replace_true .jodit-ui-search__buttons button[data-ref=replace-btn]{display:block}[jd-tmp-selection]{background-color:#7fffd4}.jodit-container:not(.jodit_inline){min-height:100px}.jodit-container:not(.jodit_inline) .jodit-workplace{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;height:auto;min-height:50px;overflow:hidden}.jodit-container:not(.jodit_inline) .jodit-editor__resize{position:relative}.jodit-container:not(.jodit_inline) .jodit-editor__resize svg{fill:#a5a5a5;bottom:0;cursor:nwse-resize;height:12px;overflow:hidden;position:absolute;right:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:12px}.jodit-source{background-color:#323232;display:none;-webkit-box-flex:1;-ms-flex:auto;flex:auto;overflow:auto;position:relative}.jodit-source,.jodit-source .jodit-source__mirror-fake{min-height:100%}.jodit-source *{font:12px/normal Monaco,Menlo,Ubuntu Mono,Consolas,source-code-pro,monospace}.jodit-container.jodit-source__mode .jodit-wysiwyg,.jodit-container.jodit-source__mode .jodit-wysiwyg_iframe{display:none!important}.jodit-container.jodit-source__mode .jodit-source{display:block!important}.jodit-container.jodit_split_mode .jodit-workplace{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:nowrap;flex-wrap:nowrap}.jodit-container.jodit_split_mode .jodit-source,.jodit-container.jodit_split_mode .jodit-wysiwyg,.jodit-container.jodit_split_mode .jodit-wysiwyg_iframe{display:block!important;-webkit-box-flex:1;-ms-flex:1;flex:1;width:50%}.jodit-source__mirror{background:#323232;border:0;-webkit-box-shadow:none;box-shadow:none;-webkit-box-sizing:border-box;box-sizing:border-box;color:#f0f0f0;height:100%;line-height:1.5;font:12px/normal Monaco,Menlo,Ubuntu Mono,Consolas,source-code-pro,monospace;margin:0;min-height:100%;outline:none;overflow:auto;padding:8px;resize:none;-moz-tab-size:2em;-o-tab-size:2em;tab-size:2em;white-space:pre-wrap;width:100%;z-index:2}.jodit-source__mirror::-moz-selection{background:#bdbdbd}.jodit-source__mirror::selection{background:#bdbdbd}.jodit_sticky-dummy_toolbar{display:none}.jodit_sticky>.jodit-toolbar__box{border-bottom:1px solid #dadada;left:auto;position:fixed;position:sticky;top:0;z-index:3}.jodit_sticky .jodit_sticky-dummy_toolbar{display:block}.jodit-symbols{padding:8px;width:460px}.jodit-symbols__container{display:-webkit-box;display:-ms-flexbox;display:flex}.jodit-symbols__container_table{width:88%}.jodit-symbols__container_preview{width:12%}.jodit-symbols__preview{border:1px solid #dadada;font-size:34px;padding:20px 0;text-align:center}.jodit-symbols__table{border:0;border-spacing:0;table-layout:fixed}.jodit-symbols__table td{padding:0}.jodit-symbols__table td a{border:1px solid transparent;-webkit-box-sizing:border-box;box-sizing:border-box;color:#4c4c4c;cursor:pointer;display:inline-block;font-size:16px;height:calc(18px*1.2);line-height:calc(18px*1.2);text-align:center;text-decoration:none;vertical-align:top;width:calc(18px*1.2)}.jodit-symbols__table td a:focus{outline:2px solid #dadada}.jodit-symbols__table td a:hover{outline:2px solid #dadada}.jodit-context table,.jodit-wysiwyg table{border:none;border-collapse:collapse;empty-cells:show;margin-bottom:1em;margin-top:1em;max-width:100%}.jodit-context table tr,.jodit-wysiwyg table tr{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.jodit-context table tr td{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-context table tr th{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-wysiwyg table tr td{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-wysiwyg table tr th{border:1px solid #dadada;min-width:2em;padding:.4em;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text;vertical-align:middle}.jodit-form__inserter .jodit-form__table-creator-box{display:-webkit-box;display:-ms-flexbox;display:flex}@media (max-width:768px){.jodit-form__inserter .jodit-form__table-creator-box{-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container{font-size:0;margin:0;min-width:180px;padding:0}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container>div>span{border:1px solid #dadada;-webkit-box-sizing:border-box;box-sizing:border-box;display:inline-block;height:18px;margin-bottom:2px;margin-left:2px;vertical-align:top;width:18px}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container>div>span:first-child{margin-left:0}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__container>div>span.jodit_hovered{background:#7a450f;border-color:#7a450f}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__options{font-size:14px}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__options label{padding-top:0;text-align:left}.jodit-form__inserter .jodit-form__table-creator-box .jodit-form__options label input{margin-right:8px}.jodit-form__inserter label{font-size:14px;margin:0;padding:8px;text-align:center}.jodit-xpath{-webkit-box-align:center;-ms-flex-align:center;align-items:center;display:-webkit-box;display:-ms-flexbox;display:flex;margin-left:calc(8px/-2)}.jodit-xpath__item{display:-webkit-box;display:-ms-flexbox;display:flex;height:11px;line-height:calc(11px - 1px)}.jodit-xpath__item a{color:#4c4c4c;font-size:11px;margin-left:2px;outline:0;padding:0 3px}.jodit-dialog_theme_dark .jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit-dialog_theme_dark .jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit_theme_dark .jodit-toolbar-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit_theme_dark .jodit-toolbar-editor-collection_mode_horizontal{background-image:-o-repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2));background-image:repeating-linear-gradient(transparent 0,transparent calc(calc(14px + calc((14px - 4px)*2) + 2px*2) - 1px),#6b6b6b calc(14px + calc((14px - 4px)*2) + 2px*2))}.jodit-dialog_theme_dark .jodit-toolbar-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-toolbar-editor-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar-editor-collection_mode_horizontal:after{background-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-toolbar__box:not(:empty){border-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar__box:not(:empty){border-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-toolbar__box:not(:empty) .jodit-toolbar-editor-collection:after{background-color:#6b6b6b}.jodit_theme_dark .jodit-toolbar__box:not(:empty) .jodit-toolbar-editor-collection:after{background-color:#6b6b6b}.jodit-dialog_theme_dark .jodit-ui-group_separated_true:not(:last-child):not(.jodit-ui-group_before-spacer_true):after{border-right-color:#6b6b6b}.jodit_theme_dark .jodit-ui-group_separated_true:not(:last-child):not(.jodit-ui-group_before-spacer_true):after{border-right-color:#6b6b6b}.jodit-dialog_theme_dark.jodit-container{background-color:#575757;border-color:#6b6b6b}.jodit_theme_dark.jodit-container{background-color:#575757;border-color:#6b6b6b}.jodit-dialog_theme_dark.jodit-container.jodit_disabled{background-color:#575757}.jodit_theme_dark.jodit-container.jodit_disabled{background-color:#575757}.jodit-dialog_theme_dark.jodit-container:not(.jodit_inline) .jodit-workplace{border-color:#575757}.jodit_theme_dark.jodit-container:not(.jodit_inline) .jodit-workplace{border-color:#575757}.jodit-dialog_theme_dark .jodit-popup__content{background:#787878}.jodit_theme_dark .jodit-popup__content{background:#787878}.jodit-dialog_theme_dark .jodit-toolbar-button__text{color:#d1cccc}.jodit-dialog_theme_dark .jodit-ui-button__text{color:#d1cccc}.jodit_theme_dark .jodit-toolbar-button__text{color:#d1cccc}.jodit_theme_dark .jodit-ui-button__text{color:#d1cccc}.jodit-dialog_theme_dark .jodit-toolbar-button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-toolbar-button__button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-toolbar-button__trigger:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-ui-button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-ui-button__button:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-ui-button__trigger:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-toolbar-button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-toolbar-button__button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-toolbar-button__trigger:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-ui-button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-ui-button__button:hover:not([disabled]){background-color:#787878}.jodit_theme_dark .jodit-ui-button__trigger:hover:not([disabled]){background-color:#787878}.jodit-dialog_theme_dark .jodit-status-bar{background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit_theme_dark .jodit-status-bar{background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){background-color:#5f5c5c;border-color:#6b6b6b;color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar .jodit-status-bar__item a{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar .jodit-status-bar__item span{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar a.jodit-status-bar-link{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar a.jodit-status-bar-link:hover{color:#d1cccc}.jodit-dialog_theme_dark .jodit-status-bar a.jodit-status-bar-link:visited{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item a{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item span{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:hover{color:#d1cccc}.jodit-dialog_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:visited{color:#d1cccc}.jodit_theme_dark .jodit-status-bar{color:#d1cccc}.jodit_theme_dark .jodit-status-bar .jodit-status-bar__item a{color:#d1cccc}.jodit_theme_dark .jodit-status-bar .jodit-status-bar__item span{color:#d1cccc}.jodit_theme_dark .jodit-status-bar a.jodit-status-bar-link{color:#d1cccc}.jodit_theme_dark .jodit-status-bar a.jodit-status-bar-link:hover{color:#d1cccc}.jodit_theme_dark .jodit-status-bar a.jodit-status-bar-link:visited{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty){color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item a{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) .jodit-status-bar__item span{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:hover{color:#d1cccc}.jodit_theme_dark .jodit-workplace+.jodit-status-bar:not(:empty) a.jodit-status-bar-link:visited{color:#d1cccc}.jodit-dialog_theme_dark .jodit-toolbar__box:not(:empty){background:#5f5c5c}.jodit_theme_dark .jodit-toolbar__box:not(:empty){background:#5f5c5c}.jodit-dialog_theme_dark .jodit-icon{fill:silver;stroke:silver}.jodit-dialog_theme_dark .jodit-toolbar-button .jodit-toolbar-button__trigger{fill:silver;stroke:silver}.jodit-dialog_theme_dark .jodit__upload-button svg{fill:silver;stroke:silver}.jodit_theme_dark .jodit-icon{fill:silver;stroke:silver}.jodit_theme_dark .jodit-toolbar-button .jodit-toolbar-button__trigger{fill:silver;stroke:silver}.jodit_theme_dark .jodit__upload-button svg{fill:silver;stroke:silver}.jodit-dialog_theme_dark .jodit-icon-close{stroke:silver}.jodit_theme_dark .jodit-icon-close{stroke:silver}.jodit-dialog_theme_dark .jodit-wysiwyg{background-color:#575757;color:#d1cccc}.jodit-dialog_theme_dark .jodit-wysiwyg_iframe{background-color:#575757;color:#d1cccc}.jodit_theme_dark .jodit-wysiwyg{background-color:#575757;color:#d1cccc}.jodit_theme_dark .jodit-wysiwyg_iframe{background-color:#575757;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form input[type=text]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form input[type=url]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form textarea{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit_theme_dark .jodit-form input[type=text]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit_theme_dark .jodit-form input[type=url]{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit_theme_dark .jodit-form textarea{background-color:rgba(81,81,81,.41);border-color:#686767;color:#d1cccc}.jodit-dialog_theme_dark .jodit-form button{background-color:hsla(0,0%,41%,.75);color:#d1cccc}.jodit_theme_dark .jodit-form button{background-color:hsla(0,0%,41%,.75);color:#d1cccc}.jodit-dialog_theme_dark .jodit-placeholder{color:hsla(0,5%,81%,.8)}.jodit_theme_dark .jodit-placeholder{color:hsla(0,5%,81%,.8)}.jodit-dialog_theme_dark .jodit-drag-and-drop__file-box{color:#d1cccc}.jodit-dialog_theme_dark .jodit_uploadfile_button{color:#d1cccc}.jodit_theme_dark .jodit-drag-and-drop__file-box{color:#d1cccc}.jodit_theme_dark .jodit_uploadfile_button{color:#d1cccc}.jodit-dialog_theme_dark .jodit-drag-and-drop__file-box:hover{background-color:hsla(0,0%,41%,.75)}.jodit-dialog_theme_dark .jodit_uploadfile_button:hover{background-color:hsla(0,0%,41%,.75)}.jodit_theme_dark .jodit-drag-and-drop__file-box:hover{background-color:hsla(0,0%,41%,.75)}.jodit_theme_dark .jodit_uploadfile_button:hover{background-color:hsla(0,0%,41%,.75)}.jodit-dialog_theme_dark .jodit-add-new-line:before{border-top-color:#686767}.jodit_theme_dark .jodit-add-new-line:before{border-top-color:#686767}.jodit-dialog_theme_dark .jodit-add-new-line span{background:hsla(0,0%,41%,.75);border-color:#686767}.jodit_theme_dark .jodit-add-new-line span{background:hsla(0,0%,41%,.75);border-color:#686767}.jodit-dialog_theme_dark .jodit-add-new-line span svg{fill:#d1cccc}.jodit_theme_dark .jodit-add-new-line span svg{fill:#d1cccc}.jodit-dialog_theme_dark .jodit-resizer>i{background:hsla(0,0%,41%,.75);border-color:silver}.jodit_theme_dark .jodit-resizer>i{background:hsla(0,0%,41%,.75);border-color:silver}.jodit-dialog_theme_dark .jodit-input{background-color:#787878;border-color:#444;color:#444}.jodit-dialog_theme_dark .jodit-select{background-color:#787878;border-color:#444;color:#444}.jodit_theme_dark .jodit-input{background-color:#787878;border-color:#444;color:#444}.jodit_theme_dark .jodit-select{background-color:#787878;border-color:#444;color:#444}.jodit-dialog_theme_dark.jodit-dialog{background-color:#575757}.jodit_theme_dark.jodit-dialog{background-color:#575757}.jodit-dialog_theme_dark.jodit-dialog .jodit-dialog__header{border-color:#444}.jodit-dialog_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item{border-color:#444}.jodit_theme_dark.jodit-dialog .jodit-dialog__header{border-color:#444}.jodit_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item{border-color:#444}.jodit-dialog_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item-info{background-color:#d1cccc}.jodit_theme_dark.jodit-dialog .jodit-filebrowser__files.active .jodit-filebrowser__files-item-info{background-color:#d1cccc}',""]);const E=b},379:a=>{var s=[];function u(p){for(var m=-1,f=0;f<s.length;f++)if(s[f].identifier===p){m=f;break}return m}function d(p,m){for(var f={},g=[],v=0;v<p.length;v++){var x=p[v],y=m.base?x[0]+m.base:x[0],b=f[y]||0,w="".concat(y," ").concat(b);f[y]=b+1;var _=u(w),S={css:x[1],media:x[2],sourceMap:x[3],supports:x[4],layer:x[5]};if(_!==-1)s[_].references++,s[_].updater(S);else{var E=h(S,m);m.byIndex=v,s.splice(v,0,{identifier:w,updater:E,references:1})}g.push(w)}return g}function h(p,m){var f=m.domAPI(m);return f.update(p),function(g){if(g){if(g.css===p.css&&g.media===p.media&&g.sourceMap===p.sourceMap&&g.supports===p.supports&&g.layer===p.layer)return;f.update(p=g)}else f.remove()}}a.exports=function(p,m){var f=d(p=p||[],m=m||{});return function(g){g=g||[];for(var v=0;v<f.length;v++){var x=u(f[v]);s[x].references--}for(var y=d(g,m),b=0;b<f.length;b++){var w=u(f[b]);s[w].references===0&&(s[w].updater(),s.splice(w,1))}f=y}}},569:a=>{var s={};a.exports=function(u,d){var h=function(p){if(s[p]===void 0){var m=document.querySelector(p);if(window.HTMLIFrameElement&&m instanceof window.HTMLIFrameElement)try{m=m.contentDocument.head}catch{m=null}s[p]=m}return s[p]}(u);if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(d)}},216:a=>{a.exports=function(s){var u=document.createElement("style");return s.setAttributes(u,s.attributes),s.insert(u,s.options),u}},565:(a,s,u)=>{a.exports=function(d){var h=u.nc;h&&d.setAttribute("nonce",h)}},795:a=>{a.exports=function(s){var u=s.insertStyleElement(s);return{update:function(d){(function(h,p,m){var f="";m.supports&&(f+="@supports (".concat(m.supports,") {")),m.media&&(f+="@media ".concat(m.media," {"));var g=m.layer!==void 0;g&&(f+="@layer".concat(m.layer.length>0?" ".concat(m.layer):""," {")),f+=m.css,g&&(f+="}"),m.media&&(f+="}"),m.supports&&(f+="}");var v=m.sourceMap;v&&typeof btoa<"u"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),p.styleTagTransform(f,h,p.options)})(u,s,d)},remove:function(){(function(d){if(d.parentNode===null)return!1;d.parentNode.removeChild(d)})(u)}}}},589:a=>{a.exports=function(s,u){if(u.styleSheet)u.styleSheet.cssText=s;else{for(;u.firstChild;)u.removeChild(u.firstChild);u.appendChild(document.createTextNode(s))}}},963:a=>{a.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAABGdBTUEAAK/INwWK6QAAABl0RVh0U29mdHdhcmUAQWRvYmUgSW1hZ2VSZWFkeXHJZTwAABRsSURBVHja7F1/aJfVGn/33RgUg8FiNfK2WCykyS7GLoYyUbwYipZMumgLo+iPS9HlXhSHkRXdislESxMz0mapuaFo2myjkfnNlTQ2FJdTu8NvLVcrdbpcfGvxrfs823m/vXt3fjznvOedzr0PPJzzPe+7d+97Ps95nuc851fGAw884CD98ccfI1Jqmc3UpEyQz4FkMqRTgYshn8fymZ57SyGbzf5mENIOz9+ngE9Atg/SLkhPQHoWeEDn3SmpSZlJnvf7ypUrTpb7IyMjY+gGN6WWmaY84l2T3c+u58D1csjOgvwsyBdBvsDRo2zgMl/ZNM59vcAJ4Dj8nzikLa5QmBLv28YCfPd3li7gPHBMwKdcEwhCJgN6FoLOWJtUgiWovALG04FXsbI44xbgw8AplbaU/Q+ZQNgGf0gA/JWhC1aQyle1eN91rPRKKKuEsjzZvSph0m2RiutpIYRrfZC8B+l7kB6jgq0CnQIy9X39v2NYQW5FeUFQlQVN/aALyiYBPw/5M5B+Dvw02vMggqcDukEl57F3xHf9H747+4bA5oD6dzqaYEgAqIDbBl9RhvZ4H/B5yL+IDp3oXhmwNkm3lTLn80VIz+O3QFqm2/rHwgeI6QDOa006LZ3Q4lHNNwK3AVeYAD4WgmHQUivYNzWyb7xufICYaavXVbuKZ6MXfwRVJ+TnXW+Am/oMnNaO3/Y5pPitcyh/a6LqtXwAt+J01LVFEzAJ0jpIj7JunJYd1wHchnBQHUSC3Uan8WPgPVgHlBiBCcAkH4Da2i2DjwGZlcy5W0K17zLwVb9NgaY4iJpawJs+BCnWwUo3SKXT4oOAP8IHCFsIfMCguj8JaQ2kOaaA227d10ALuIR1gHVxErjctPtHBd8btSR3A4MIgSePAZxqVPeQlthq7ZRuZVABCVkLuGkJpGgKsY4ybfUEVO84qhsoAzSgrUfHZ1UQVe99B6o2oMYdwg7latAq5iROGoueQExW6UE0gCe/ANIh9SZ6jqkWsN3STZ0rHWEgpkNmEvILxqQbSAXaAPxqSBswQkbpbpo6fGPR0m3GBYjBIIwqNjCTEAr4wkBQUA0AjKNrdZCu0okAqgQhTKCDhFxV91BNgsDuYx3WQZptG3xtDUCJEDKvthGuLVEJlq4gUMyAylfQERadPrhKOHTmB3Ces4RFEXNsgW8UClbZcEhxqPQIpHOord2k1ZsAH4YvYNJXN3EgWX4Ocw4LbIEvDQSJfADJtULWxSuj+BBUP4DaC6D0DkyFg6JKTVo/5brvXqzbo2zSi3af3/9bGgrW1Ar5kH4MXEzVHEHVf5CuYZC4fti9AoI/gXX8Eda5Tp9f9I4xWWsnOoc5zNMv1okjmKp/vzay3epNJ4+YmALdoWBPWTHksc5zTU1AekqYt7LcWTruTYTZQdmQHoB0GuXv/de8L8e7xrsuA8kPNtx3AZIOxp3APc7wvD6kvi+//DLh3nvPPfegWs1jf4dBGGxpOA+hlOXzgw7VBjEBnDKcs4jzDOZDOmjqD2SJQFGBx9JaSOcQ7xVO2RIJhf86AfB+Z3huHs7Ra2pra+ugtubTp0+jMLgC0e6/ftddd6EgzMO5iGwSaq4NITCdLczy6GzXAj8KnDIxAaM0AKeViwCtgbRSNgGUJwQyDaACngO4w6S/CXgb8KEvvvgiFUaw59y5c64mWXvnnXdmsijdYxjpdP6cXh6oS0g1Bb48zpFEzValA3663pcuXaoleSzFltBIlWhRmWx+v6yMcQJ4PU7A/Oyzz/qca0R33HEHrjlAEJa73rns24JqA0keTUGTjglIJpNOxsMPP6wLfiGkx53hxRbcewwXc1BAx0u4gGMNcP2nn36acq4juv322ytZ5K7UlhBo5LER3AvcTXU60wKgYbsyWTCi3LTV6wLvKesGrvrkk0/qneucCgoKHoJkHbxvYRAhMMij/zMbVzZRTMAvv/wycj4AoRv4Mk7oII4HkLp+vC6drwxt/FrgKeMBfKTe3t69UMFTgPG9B3WcQdMeBsvjhJJqnYGqjMrKSmr/tZxNWAi87o9i+1l5O6SPNjc3dzrjlPLz83HyC/aWpqk0gWZUUHZtJvxuUZmAtAYgtHycr/a6qIXz2DQI5OH1UDRjPIOPdOHChU6o+JmQXW+68JYS4vUB/bozvN5RGAImdwPZA3AC51RKrMAfyBHFGCRBnz4oe7ypqemgc4PQxYsX0YytuOWWW3BRaa3DWd0U1A/w/Z4KvBx4jcoExAitE6dzPStr3RR/QKQ5fOUJ4PsaGxtvGPC9dOnSJfyu+7ALa9MJFPx+lkU05YNBBDVdg0uwKc4eAWCZ83cC8jM+/PDDLucGpr6+Pvy+GWz/ASs9AMFvd7ax1ATEFOBjmLdSBraN3gBwHHhmQ0NDrzMB6PLly73MUYubOs3EiB/GJebyTEB6QogCnGrV6KAFR7AVeP4HH3ww4EwgunLlCn7vfACi1UQDqMb5PWUvm5qAB3HESXNomKz2GaOHv/DAgQNJZwJSf38/fvdC3J5G1iPQnf3jK5sGvx80MQHP69hxHWZ/2wN8//vvv3/BmcD0008/XWCaoEcUJ6C0eoUWeFbXBOBCzTKKJ2/YExgEXrRv374eJyLn6tWrWA+LAJRBy+o/rQUQUx0TsFwzRKzLK/bu3dseQf8nDQwMYH2sCOL0ibx9Vr6cagIKmf0nxe8pguC7vn/Pnj2bIshH088//4z1st+m+veUI6ZFFBOwLGj/XqIh0O4/HkEtJgDmcZ4/EED9e69VKk0ACoDN1u/jqrq6uv4IZjElk0msnypbwPs0wTKVCUBnYbLuMC5REA7v3r37vQhikhBgPTWrTAEFeB9NZt3C0SbAr/6DdPM4jF7/PyNotUzBU26vgAo8x+7zri3jmgAgnOJdKYrVB9QEb+zcubMrgpVOv/76K9bXGzrACwTJfw1D+9k8EzAXOE8GviEPAK+JIDXSAlhvA7yWTWztvMfiXM65PBNQrgLfUBi2v/vuu70RnPo0ODjYC0BtN3D2VNfLR5gAz04eRn17yb0p4A0RlIEI6y+la/MV1xf4fYACSEtDiP031dbWRrY/AP32229dAGCTrs1XrHHEaesFXh+gXCfooyEM2yIIrdC2ADZ/1D1eM+CagHLJ5ExTxrl9hyLsrDiDWI99EjApgPvLRwhAmQh4HV/Axwe3bt06GMEXnFKpFK4tOBgQcH95WdoEAE01nc8Xi8VEArA3gs4q7VWpfsHaCpEg4GrnoeXhOEKUw3u4yZYqbGo4Lk2KR5hZpcOsXjO9GIm0AYFycTErmoDJVLWu0Tto3bJly0CEmT36/fffkzh/UKfVE3yLkix3Xx+v5FjYaaslgiwUZxDrdbrm38guF6EAFFKAF5kEwcFPrRFcoVCrIdAiKsSlYUWqFi/zBwTXOiKsQqGOIKe1cQRmSAPkmYIv0ADY9Yuif+GYgC5Wv9kB1L6X8lAA8k3BFwhB94YNG1IRXPYJutwpINwBpNjSI/O5AhDQGUxEUIVKCRMBEGiFIQG4yX+Daf+fPacvwihUM2Czfm/KcgMLtjZZhudEY//hks2VVJlZ7tJvi5SMMApVA9gMsOVkXYvDFiO6fggFACUqJ6qKcaMBbD5uAH2AlE0fIKJxRSnUAGizcykePtWzjOo1VA2gpa0V2CVRALBbURDwQV4qiGAKVQDyLZ571JfFum0lFqTJvScvgilUytPxAxSY9boawMbD3OtFEUahaoAinQap0gA4JSzhPswSFz733HOZEVT2KZlMYr0WesGV7KpOoQRqgG6DVi4rx5EqjFWfjSCz3vqLHd9IoGyYnoBjNwpAwhBoWXlpJAChCECpv66p5ycJBCSBcwI7daZ7E83FtAiuUGgaT/WLACaYhk4MBCVk0UDKWb2c3+URVqFogOm8OqccqMW5d+Dmm29OuGsDOyw7gmUvvfRSFBCySFevXsX6LBO1cIoG8NEQ5u7KoFbLi0Kz3fODI7JGeHbwTSJADcxCq1cAWnR39yYIQUWEmVX1X2G6SYTgnhavABwL0uoF91dUV1dnR9AFp/7+fjysq0IGvIEGODYkAOwa7t/XYXl3kDzgBRF8Vgg3eczT2SqGYP97vBoA83ELrd6/WPSJCDsr6v8Jw91BRdfS6za9ewQ1qVo9RQv47plXU1NTHEFoTpcvX8aTwueJgKdoAI4wpE8Y9e4SdtgdGLK4S1gm8L8jGAO1fqy/TNmiUE1hQIwPj9AADOQk7ugRdJ9ADj+2bt26aI6AAV26dAnr7THqnsFEYTgEnBRtFl0fwk6hOcCrIjiNaBXOAKIcuq3hG4w4fTXma+lNOEHEZFs4hcA8+eqrr0a+gAZdvHgRbf+TsrMDDMxBr2v/eT7A0L5+8HN7AKdPFhncHMGqZftfB84Wga0yBwKtsN1hk4B5PsCIrd0C2HwRz924cWNlBK2afvzxx0rX89c5Qo4gCNv85bwDI7r8XUKqynfL/KmHazZt2pQbQSymH374AffuqeEB7gWXCrzHFCCmXf5niE4NWxPkJFAJ41GmtRHMUtWP9TNJdYScgQZYo3NoFEYF21WmgAq8776KzZs3Px1BPZq+//57rJcKXhg3oClo90b/qCeHvqLjA2j6B+u2bNlSFkH+J3333XdlAMo6ntq3cJroK6K4gOzgyP2oBaj2nqIdPGXYKzjw5ptvToqgd5yenh5U+Qcgmy07UdxQA7QD7xfFClSnh68Oelag6H5n+Fj6j9566638iQz++fPn8wGMRq/dV4EviwVwrq0W9QpUJsAdINof5LRQxfNLgBu2bt06IaePffvttzjDp8EZ3r6dDL7sQEkfyAdVW82rjo9H/hdkB2y2ft89eEB149tvvz2hlqh/8803OazlTzMFX6ENcKLvU7LgEMUEuIc9vqLb+inBJE8ezyo+un379gkxaPT111/jdx4FEGbJwOd1A2VdQ9896Pj1qIJDMSJI6yHpNGnpGlHFqVgp77zzzg29tjCRSBQx8KfKWrmJBvDkO4HXU3oI7pQwFUDpc/8s9ABk14uB23bs2HFDTiU7d+7cAqj4NrbESxtojeAQYjWoOnyaqwF4AsFSnDm81lT1y2YZ+cpwLmHDzp07a3bt2nVDTCrt6urKBq5hDl8eBXCTHgGjtWxTaVK8IEYFjKWrvVPIdU8VE2kMgUCsBD6ye/fukvEM/ldffVUCFX4EsitVtl3UYjU0wDHg1dQIodQJFJShKXgE0j5dLaACn6MJkKcDH6+rq6uur68fV72EM2fO5Jw9e7YasseBp5u0cKoQsDxO9Vrqqn6R2hdGAjWEoBvSR03B9wPNA95HGDVcBXxqz549D40H8E+fPo3vecoZntGTreqzmwgBRyDw2Plu3TBxxmuvvcYFUQYwy+OQ5UoV6DITQzEJnGsdbLSyfvHixdfVptSnTp2qZMJaqtsVVtWbAiP0zap498ryt956q5OxYcMGyj/gpbhbxS5IlwSJBQQYYsZVzWtREBYtWnTN9ic+efIkOq1LmM9SZDKplioQgrJ6ZpZTVODd32kBIEoZL0UvvdFdCBoUfGo8gXM0/UHgHTireeHChaFrhePHj+N0dzxqdxnwg2xwS0vD6YIvwAOnd89nvhkZeJduu+02J2Pjxo0UKZO9GM7w+cjdFMIgCmiqAXj39bO5DPFYLNY8b948ayeXtLW1lbIT1mcxzjVZUGtqCjh44Bj/34H7ZXjJhCItAAHAd1Mc0fvcPYAqCPhBhIHDF5jP0MF2QkmwE02HTMjs2bPTpqOlpSXPVeHABSwoVcLsOebzTWZH2fADOClO7ZqB3yfDTWUSUACyiHZG9UJY0SiNH7PKIjsiqt6BooegIhTMOYxHUTweN3q26EAN/wkr3t+qvEaKczbvxzoXPcf7brL/a9oNFKXYPZzpnUpGlX6dbqHIDIRNlIWXsuibbjdQkGLdzoQ0YfJ/uJFAamsndllw19HZzDlxVGFmkcqilFnSEFotnnKNOlZPGQX0lWOdzoa01xR47nCwDtBEpwbHoedj94wy0KSKCOoIQhgaQrXZgkoYdMCXPAvrcr57WITuXEHlcLCu00cQGjza7BEcRjbRAFSNQAXXVAh0zuY1BV/Q2r3pekixnz+oGRomvVtMV9Vr3I/98RXAC73LzoM4grIWb1sIxgp8iSnAOlsIKdZhynB8QG8wiKIBDPyCQ5C9F0cRKY6gDFwZ2DaFIEzwCS3e3b/nXlzKras1dFr/KA2go/5FLVRwfzdzDtfodgupZoFqGohbqIYGPsH+Yx3NxF6V7D2omkXlmMZM1T8PDMXfoUl4BruKkHaaaANbtj2MnoEJ+L6/72RdvGe8Kt9kjqBOj4SsAUyvce7BCSV/Ba6C/EBYXcSg5oIKtqkj5ikbgLSKqfwWaheRWqZ6j1gIAFPuQW2AI3lTIN0b1CSonMSwYgCU6wqQ8NunsOHcQcozVKZIVwhiKjVuMEihY0YwevgPSDG0eUy3ezjWYOsEhRRAHWPf/A93Egc1MKTj+FGEIGZhIEgJiMzPYPlmHNxgjmLTtRSCsOw+o2YWzcNvbTYIBVsVgrQGsAW+6cCSJx9nUcS/QbrfVAjCDgQZ/P1+yOM33Q9pPMizqCaAKgSxsMCntk6B2sdVyYsh/QvwC7hriY4QhCkUGi0e3/kF/AYow29pJ8YArJkAihDEwgRfVyNw8rif7X+B74Y8qs03nOGNDq0IgQ3Afff0sXecAfm72bv3UFoxpdWbtH7V32cFcfgoLcyCEKQdJ9zVHNL/AM9ijOP808MYD/CP7UvuO8ZGP+OMB3nP4T1PNfYvey/KXAPKd2XpevA27iWYANk9g8yZamblOa5A4FQtZ/jEsjybWsBTaX1sQkbcA/iACAQd0E2EQgU8RUiyKC02qGnQjS6qwPP9LQJwiLFLuUwQcBuaIiYQuBjTPc8wk/32VtYJFq104xQnmLlJMPuNNr3fUEuQQtDUVm8DeNcc/F+AAQBKd8HaIWdjwQAAAABJRU5ErkJggg=="},910:a=>{a.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0Ljk1IDEwIj48ZGVmcz48c3R5bGU+LmNscy0ye2ZpbGw6IzQ0NH08L3N0eWxlPjwvZGVmcz48cGF0aCBzdHlsZT0iZmlsbDojZmZmIiBkPSJNMCAwaDQuOTV2MTBIMHoiLz48cGF0aCBjbGFzcz0iY2xzLTIiIGQ9Im0xLjQxIDQuNjcgMS4wNy0xLjQ5IDEuMDYgMS40OUgxLjQxek0zLjU0IDUuMzMgMi40OCA2LjgyIDEuNDEgNS4zM2gyLjEzeiIvPjwvc3ZnPg=="},456:a=>{a.exports="data:image/svg+xml;charset=utf-8,%3Csvg id=%27Layer_1%27 data-name=%27Layer 1%27 xmlns=%27http://www.w3.org/2000/svg%27 viewBox=%270 0 4.95 10%27%3E%3Cdefs%3E%3Cstyle%3E.cls-2{fill:%23444}%3C/style%3E%3C/defs%3E%3Cpath style=%27fill:%23fff%27 d=%27M0 0h4.95v10H0z%27/%3E%3Cpath class=%27cls-2%27 d=%27m1.41 4.67 1.07-1.49 1.06 1.49H1.41zM3.54 5.33 2.48 6.82 1.41 5.33h2.13z%27/%3E%3C/svg%3E"},342:a=>{a.exports=n},787:a=>{a.exports=r}},o={};function l(a){var s=o[a];if(s!==void 0)return s.exports;var u=o[a]={id:a,exports:{}};return i[a](u,u.exports,l),u.exports}l.m=i,l.n=a=>{var s=a&&a.__esModule?()=>a.default:()=>a;return l.d(s,{a:s}),s},l.d=(a,s)=>{for(var u in s)l.o(s,u)&&!l.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:s[u]})},l.o=(a,s)=>Object.prototype.hasOwnProperty.call(a,s),l.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},l.b=document.baseURI||self.location.href,l.nc=void 0;var c={};return(()=>{l.r(c),l.d(c,{Jodit:()=>d.Jodit,default:()=>T});var a=l(787),s=l.n(a),u=l(526),d=l(342),h=l(379),p=l.n(h),m=l(795),f=l.n(m),g=l(569),v=l.n(g),x=l(565),y=l.n(x),b=l(216),w=l.n(b),_=l(589),S=l.n(_),E=l(472),A={};A.styleTagTransform=S(),A.setAttributes=y(),A.insert=v().bind(null,"head"),A.domAPI=f(),A.insertStyleElement=w(),p()(E.Z,A),E.Z&&E.Z.locals&&E.Z.locals;var C=d.Jodit.modules.Helpers.isFunction,M=(0,a.forwardRef)(function(k,P){var D=k.className,I=k.config,O=k.id,j=k.name,N=k.onBlur,R=k.onChange,F=k.tabIndex,U=k.value,B=k.editorRef,H=(0,a.useRef)(null);(0,a.useLayoutEffect)(function(){P&&(C(P)?P(H.current):P.current=H.current)},[H,P]),(0,a.useEffect)(function(){var G=H.current,Z=d.Jodit.make(G,I);return H.current=Z,C(B)&&B(Z),function(){Z&&Z.destruct(),H.current=G}},[I,B]);var X=function(G){var Z=(0,a.useRef)();return(0,a.useEffect)(function(){Z.current=G},[G]),Z.current}(D);return(0,a.useEffect)(function(){var G,Z,J=(G=H.current)===null||G===void 0||(Z=G.container)===null||Z===void 0?void 0:Z.classList;X!==D&&typeof X=="string"&&X.split(/\s+/).forEach(function(ee){return J==null?void 0:J.remove(ee)}),D&&typeof D=="string"&&D.split(/\s+/).forEach(function(ee){return J==null?void 0:J.add(ee)})},[D,X]),(0,a.useEffect)(function(){H.current.workplace&&(H.current.workplace.tabIndex=F||-1)},[F]),(0,a.useEffect)(function(){if(H.current.events&&(N||R)){var G=function(J){return N&&N(H.current.value,J)},Z=function(J){return R&&R(J)};return H.current.events.on("blur",G).on("change",Z),function(){var J,ee;(J=H.current)===null||J===void 0||(ee=J.events)===null||ee===void 0||ee.off("blur",G).off("change",Z)}}},[N,R]),(0,a.useEffect)(function(){var G=function(){var Z;H.current&&(H==null||(Z=H.current)===null||Z===void 0?void 0:Z.value)!==U&&(H.current.value=U)};H.current&&(H.current.isReady?G():H.current.waitForReady().then(G))},[U]),s().createElement("div",{className:"jodit-react-container"},s().createElement("textarea",{name:j,id:O,ref:H}))});M.displayName="JoditEditor",M.propTypes={className:u.string,config:u.object,id:u.string,name:u.string,onBlur:u.func,onChange:u.func,editorRef:u.func,tabIndex:u.number,value:u.string};const T=M})(),c})())})(AQ);var mFe=AQ.exports;const gFe=Jh(mFe);function MQ(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=MQ(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function Lu(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=MQ(e))&&(n&&(n+=" "),n+=t);return n}const kv=e=>typeof e=="number"&&!isNaN(e),Kh=e=>typeof e=="string",To=e=>typeof e=="function",rw=e=>Kh(e)||To(e)?e:null,zA=e=>V.isValidElement(e)||Kh(e)||To(e)||kv(e);function vFe(e,t,r){r===void 0&&(r=300);const{scrollHeight:n,style:i}=e;requestAnimationFrame(()=>{i.minHeight="initial",i.height=n+"px",i.transition=`all ${r}ms`,requestAnimationFrame(()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,r)})})}function e3(e){let{enter:t,exit:r,appendPosition:n=!1,collapse:i=!0,collapseDuration:o=300}=e;return function(l){let{children:c,position:a,preventExitTransition:s,done:u,nodeRef:d,isIn:h}=l;const p=n?`${t}--${a}`:t,m=n?`${r}--${a}`:r,f=V.useRef(0);return V.useLayoutEffect(()=>{const g=d.current,v=p.split(" "),x=y=>{y.target===d.current&&(g.dispatchEvent(new Event("d")),g.removeEventListener("animationend",x),g.removeEventListener("animationcancel",x),f.current===0&&y.type!=="animationcancel"&&g.classList.remove(...v))};g.classList.add(...v),g.addEventListener("animationend",x),g.addEventListener("animationcancel",x)},[]),V.useEffect(()=>{const g=d.current,v=()=>{g.removeEventListener("animationend",v),i?vFe(g,u,o):u()};h||(s?v():(f.current=1,g.className+=` ${m}`,g.addEventListener("animationend",v)))},[h]),mt.createElement(mt.Fragment,null,c)}}function L7(e,t){return e!=null?{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}:{}}const ja={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const r=this.list.get(e).filter(n=>n!==t);return this.list.set(e,r),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach(t=>{const r=setTimeout(()=>{t(...[].slice.call(arguments,1))},0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(r)})}},fx=e=>{let{theme:t,type:r,...n}=e;return mt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:t==="colored"?"currentColor":`var(--toastify-icon-color-${r})`,...n})},LA={info:function(e){return mt.createElement(fx,{...e},mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return mt.createElement(fx,{...e},mt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return mt.createElement(fx,{...e},mt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return mt.createElement(fx,{...e},mt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return mt.createElement("div",{className:"Toastify__spinner"})}};function yFe(e){const[,t]=V.useReducer(p=>p+1,0),[r,n]=V.useState([]),i=V.useRef(null),o=V.useRef(new Map).current,l=p=>r.indexOf(p)!==-1,c=V.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:l,getToast:p=>o.get(p)}).current;function a(p){let{containerId:m}=p;const{limit:f}=c.props;!f||m&&c.containerId!==m||(c.count-=c.queue.length,c.queue=[])}function s(p){n(m=>p==null?[]:m.filter(f=>f!==p))}function u(){const{toastContent:p,toastProps:m,staleId:f}=c.queue.shift();h(p,m,f)}function d(p,m){let{delay:f,staleId:g,...v}=m;if(!zA(p)||function(T){return!i.current||c.props.enableMultiContainer&&T.containerId!==c.props.containerId||o.has(T.toastId)&&T.updateId==null}(v))return;const{toastId:x,updateId:y,data:b}=v,{props:w}=c,_=()=>s(x),S=y==null;S&&c.count++;const E={...w,style:w.toastStyle,key:c.toastKey++,...Object.fromEntries(Object.entries(v).filter(T=>{let[k,P]=T;return P!=null})),toastId:x,updateId:y,data:b,closeToast:_,isIn:!1,className:rw(v.className||w.toastClassName),bodyClassName:rw(v.bodyClassName||w.bodyClassName),progressClassName:rw(v.progressClassName||w.progressClassName),autoClose:!v.isLoading&&(A=v.autoClose,C=w.autoClose,A===!1||kv(A)&&A>0?A:C),deleteToast(){const T=L7(o.get(x),"removed");o.delete(x),ja.emit(4,T);const k=c.queue.length;if(c.count=x==null?c.count-c.displayedToast:c.count-1,c.count<0&&(c.count=0),k>0){const P=x==null?c.props.limit:1;if(k===1||P===1)c.displayedToast++,u();else{const D=P>k?k:P;c.displayedToast=D;for(let I=0;I<D;I++)u()}}else t()}};var A,C;E.iconOut=function(T){let{theme:k,type:P,isLoading:D,icon:I}=T,O=null;const j={theme:k,type:P};return I===!1||(To(I)?O=I(j):V.isValidElement(I)?O=V.cloneElement(I,j):Kh(I)||kv(I)?O=I:D?O=LA.spinner():(N=>N in LA)(P)&&(O=LA[P](j))),O}(E),To(v.onOpen)&&(E.onOpen=v.onOpen),To(v.onClose)&&(E.onClose=v.onClose),E.closeButton=w.closeButton,v.closeButton===!1||zA(v.closeButton)?E.closeButton=v.closeButton:v.closeButton===!0&&(E.closeButton=!zA(w.closeButton)||w.closeButton);let M=p;V.isValidElement(p)&&!Kh(p.type)?M=V.cloneElement(p,{closeToast:_,toastProps:E,data:b}):To(p)&&(M=p({closeToast:_,toastProps:E,data:b})),w.limit&&w.limit>0&&c.count>w.limit&&S?c.queue.push({toastContent:M,toastProps:E,staleId:g}):kv(f)?setTimeout(()=>{h(M,E,g)},f):h(M,E,g)}function h(p,m,f){const{toastId:g}=m;f&&o.delete(f);const v={content:p,props:m};o.set(g,v),n(x=>[...x,g].filter(y=>y!==f)),ja.emit(4,L7(v,v.props.updateId==null?"added":"updated"))}return V.useEffect(()=>(c.containerId=e.containerId,ja.cancelEmit(3).on(0,d).on(1,p=>i.current&&s(p)).on(5,a).emit(2,c),()=>{o.clear(),ja.emit(3,c)}),[]),V.useEffect(()=>{c.props=e,c.isToastActive=l,c.displayedToast=r.length}),{getToastToRender:function(p){const m=new Map,f=Array.from(o.values());return e.newestOnTop&&f.reverse(),f.forEach(g=>{const{position:v}=g.props;m.has(v)||m.set(v,[]),m.get(v).push(g)}),Array.from(m,g=>p(g[0],g[1]))},containerRef:i,isToastActive:l}}function N7(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function B7(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function bFe(e){const[t,r]=V.useState(!1),[n,i]=V.useState(!1),o=V.useRef(null),l=V.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,c=V.useRef(e),{autoClose:a,pauseOnHover:s,closeToast:u,onClick:d,closeOnClick:h}=e;function p(b){if(e.draggable){b.nativeEvent.type==="touchstart"&&b.nativeEvent.preventDefault(),l.didMove=!1,document.addEventListener("mousemove",v),document.addEventListener("mouseup",x),document.addEventListener("touchmove",v),document.addEventListener("touchend",x);const w=o.current;l.canCloseOnClick=!0,l.canDrag=!0,l.boundingRect=w.getBoundingClientRect(),w.style.transition="",l.x=N7(b.nativeEvent),l.y=B7(b.nativeEvent),e.draggableDirection==="x"?(l.start=l.x,l.removalDistance=w.offsetWidth*(e.draggablePercent/100)):(l.start=l.y,l.removalDistance=w.offsetHeight*(e.draggablePercent===80?1.5*e.draggablePercent:e.draggablePercent/100))}}function m(b){if(l.boundingRect){const{top:w,bottom:_,left:S,right:E}=l.boundingRect;b.nativeEvent.type!=="touchend"&&e.pauseOnHover&&l.x>=S&&l.x<=E&&l.y>=w&&l.y<=_?g():f()}}function f(){r(!0)}function g(){r(!1)}function v(b){const w=o.current;l.canDrag&&w&&(l.didMove=!0,t&&g(),l.x=N7(b),l.y=B7(b),l.delta=e.draggableDirection==="x"?l.x-l.start:l.y-l.start,l.start!==l.x&&(l.canCloseOnClick=!1),w.style.transform=`translate${e.draggableDirection}(${l.delta}px)`,w.style.opacity=""+(1-Math.abs(l.delta/l.removalDistance)))}function x(){document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",x),document.removeEventListener("touchmove",v),document.removeEventListener("touchend",x);const b=o.current;if(l.canDrag&&l.didMove&&b){if(l.canDrag=!1,Math.abs(l.delta)>l.removalDistance)return i(!0),void e.closeToast();b.style.transition="transform 0.2s, opacity 0.2s",b.style.transform=`translate${e.draggableDirection}(0)`,b.style.opacity="1"}}V.useEffect(()=>{c.current=e}),V.useEffect(()=>(o.current&&o.current.addEventListener("d",f,{once:!0}),To(e.onOpen)&&e.onOpen(V.isValidElement(e.children)&&e.children.props),()=>{const b=c.current;To(b.onClose)&&b.onClose(V.isValidElement(b.children)&&b.children.props)}),[]),V.useEffect(()=>(e.pauseOnFocusLoss&&(document.hasFocus()||g(),window.addEventListener("focus",f),window.addEventListener("blur",g)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",f),window.removeEventListener("blur",g))}),[e.pauseOnFocusLoss]);const y={onMouseDown:p,onTouchStart:p,onMouseUp:m,onTouchEnd:m};return a&&s&&(y.onMouseEnter=g,y.onMouseLeave=f),h&&(y.onClick=b=>{d&&d(b),l.canCloseOnClick&&u()}),{playToast:f,pauseToast:g,isRunning:t,preventExitTransition:n,toastRef:o,eventHandlers:y}}function TQ(e){let{closeToast:t,theme:r,ariaLabel:n="close"}=e;return mt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${r}`,type:"button",onClick:i=>{i.stopPropagation(),t(i)},"aria-label":n},mt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},mt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function xFe(e){let{delay:t,isRunning:r,closeToast:n,type:i="default",hide:o,className:l,style:c,controlledProgress:a,progress:s,rtl:u,isIn:d,theme:h}=e;const p=o||a&&s===0,m={...c,animationDuration:`${t}ms`,animationPlayState:r?"running":"paused",opacity:p?0:1};a&&(m.transform=`scaleX(${s})`);const f=Lu("Toastify__progress-bar",a?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":u}),g=To(l)?l({rtl:u,type:i,defaultClassName:f}):Lu(f,l);return mt.createElement("div",{role:"progressbar","aria-hidden":p?"true":"false","aria-label":"notification timer",className:g,style:m,[a&&s>=1?"onTransitionEnd":"onAnimationEnd"]:a&&s<1?null:()=>{d&&n()}})}const wFe=e=>{const{isRunning:t,preventExitTransition:r,toastRef:n,eventHandlers:i}=bFe(e),{closeButton:o,children:l,autoClose:c,onClick:a,type:s,hideProgressBar:u,closeToast:d,transition:h,position:p,className:m,style:f,bodyClassName:g,bodyStyle:v,progressClassName:x,progressStyle:y,updateId:b,role:w,progress:_,rtl:S,toastId:E,deleteToast:A,isIn:C,isLoading:M,iconOut:T,closeOnClick:k,theme:P}=e,D=Lu("Toastify__toast",`Toastify__toast-theme--${P}`,`Toastify__toast--${s}`,{"Toastify__toast--rtl":S},{"Toastify__toast--close-on-click":k}),I=To(m)?m({rtl:S,position:p,type:s,defaultClassName:D}):Lu(D,m),O=!!_||!c,j={closeToast:d,type:s,theme:P};let N=null;return o===!1||(N=To(o)?o(j):V.isValidElement(o)?V.cloneElement(o,j):TQ(j)),mt.createElement(h,{isIn:C,done:A,position:p,preventExitTransition:r,nodeRef:n},mt.createElement("div",{id:E,onClick:a,className:I,...i,style:f,ref:n},mt.createElement("div",{...C&&{role:w},className:To(g)?g({type:s}):Lu("Toastify__toast-body",g),style:v},T!=null&&mt.createElement("div",{className:Lu("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!M})},T),mt.createElement("div",null,l)),N,mt.createElement(xFe,{...b&&!O?{key:`pb-${b}`}:{},rtl:S,theme:P,delay:c,isRunning:t,isIn:C,closeToast:d,hide:u,type:s,style:y,className:x,controlledProgress:O,progress:_||0})))},t3=function(e,t){return t===void 0&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},_Fe=e3(t3("bounce",!0));e3(t3("slide",!0));e3(t3("zoom"));e3(t3("flip"));const F7=V.forwardRef((e,t)=>{const{getToastToRender:r,containerRef:n,isToastActive:i}=yFe(e),{className:o,style:l,rtl:c,containerId:a}=e;function s(u){const d=Lu("Toastify__toast-container",`Toastify__toast-container--${u}`,{"Toastify__toast-container--rtl":c});return To(o)?o({position:u,rtl:c,defaultClassName:d}):Lu(d,rw(o))}return V.useEffect(()=>{t&&(t.current=n.current)},[]),mt.createElement("div",{ref:n,className:"Toastify",id:a},r((u,d)=>{const h=d.length?{...l}:{...l,pointerEvents:"none"};return mt.createElement("div",{className:s(u),style:h,key:`container-${u}`},d.map((p,m)=>{let{content:f,props:g}=p;return mt.createElement(wFe,{...g,isIn:i(g.toastId),style:{...g.style,"--nth":m+1,"--len":d.length},key:`toast-${g.key}`},f)}))}))});F7.displayName="ToastContainer",F7.defaultProps={position:"top-right",transition:_Fe,autoClose:5e3,closeButton:TQ,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let NA,Hd=new Map,K0=[],SFe=1;function PQ(){return""+SFe++}function EFe(e){return e&&(Kh(e.toastId)||kv(e.toastId))?e.toastId:PQ()}function Dv(e,t){return Hd.size>0?ja.emit(0,e,t):K0.push({content:e,options:t}),t.toastId}function X_(e,t){return{...t,type:t&&t.type||e,toastId:EFe(t)}}function mx(e){return(t,r)=>Dv(t,X_(e,r))}function Nr(e,t){return Dv(e,X_("default",t))}Nr.loading=(e,t)=>Dv(e,X_("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Nr.promise=function(e,t,r){let n,{pending:i,error:o,success:l}=t;i&&(n=Kh(i)?Nr.loading(i,r):Nr.loading(i.render,{...r,...i}));const c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},a=(u,d,h)=>{if(d==null)return void Nr.dismiss(n);const p={type:u,...c,...r,data:h},m=Kh(d)?{render:d}:d;return n?Nr.update(n,{...p,...m}):Nr(m.render,{...p,...m}),h},s=To(e)?e():e;return s.then(u=>a("success",l,u)).catch(u=>a("error",o,u)),s},Nr.success=mx("success"),Nr.info=mx("info"),Nr.error=mx("error"),Nr.warning=mx("warning"),Nr.warn=Nr.warning,Nr.dark=(e,t)=>Dv(e,X_("default",{theme:"dark",...t})),Nr.dismiss=e=>{Hd.size>0?ja.emit(1,e):K0=K0.filter(t=>e!=null&&t.options.toastId!==e)},Nr.clearWaitingQueue=function(e){return e===void 0&&(e={}),ja.emit(5,e)},Nr.isActive=e=>{let t=!1;return Hd.forEach(r=>{r.isToastActive&&r.isToastActive(e)&&(t=!0)}),t},Nr.update=function(e,t){t===void 0&&(t={}),setTimeout(()=>{const r=function(n,i){let{containerId:o}=i;const l=Hd.get(o||NA);return l&&l.getToast(n)}(e,t);if(r){const{props:n,content:i}=r,o={delay:100,...n,...t,toastId:t.toastId||e,updateId:PQ()};o.toastId!==e&&(o.staleId=e);const l=o.render||i;delete o.render,Dv(l,o)}},0)},Nr.done=e=>{Nr.update(e,{progress:1})},Nr.onChange=e=>(ja.on(4,e),()=>{ja.off(4,e)}),Nr.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Nr.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},ja.on(2,e=>{NA=e.containerId||e,Hd.set(NA,e),K0.forEach(t=>{ja.emit(0,t.content,t.options)}),K0=[]}).on(3,e=>{Hd.delete(e.containerId||e),Hd.size===0&&ja.off(0).off(1).off(5)});var kQ={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function r(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=i(o,n(c)))}return o}function n(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return r.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)t.call(o,c)&&o[c]&&(l=i(l,c));return l}function i(o,l){return l?o?o+" "+l:o+l:o}e.exports?(r.default=r,e.exports=r):window.classNames=r})()})(kQ);var CFe=kQ.exports;const rg=Jh(CFe);function K_(e){"@babel/helpers - typeof";return K_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K_(e)}var AFe;function Qh(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:AFe;return t?e.split(" ").map(function(r){return t[r]||r}).join(" "):e}var U7={};function V7(e){U7[e]||(typeof console<"u"&&console.error(e),U7[e]=!0)}var MFe=(typeof window>"u"?"undefined":K_(window))==="object"&&window.Element||function(){};function TFe(e,t,r){if(!(e[t]instanceof MFe))return new Error("Invalid prop `"+t+"` supplied to `"+r+"`. Expected prop to be an instance of Element. Validation failed.")}Ve.oneOfType([Ve.string,Ve.func,TFe,Ve.shape({current:Ve.any})]);var m1=Ve.oneOfType([Ve.func,Ve.string,Ve.shape({$$typeof:Ve.symbol,render:Ve.func}),Ve.arrayOf(Ve.oneOfType([Ve.func,Ve.string,Ve.shape({$$typeof:Ve.symbol,render:Ve.func})]))]);function PFe(e){var t=K_(e);return e!=null&&(t==="object"||t==="function")}var kFe=["className","cssModule","fluid","tag"];function _4(){return _4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_4.apply(this,arguments)}function DFe(e,t){if(e==null)return{};var r=jFe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function jFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var IFe={tag:m1,fluid:Ve.oneOfType([Ve.bool,Ve.string]),className:Ve.string,cssModule:Ve.object};function DQ(e){var t=e.className,r=e.cssModule,n=e.fluid,i=e.tag,o=i===void 0?"div":i,l=DFe(e,kFe),c="container";n===!0?c="container-fluid":n&&(c="container-".concat(n));var a=Qh(rg(t,c),r);return mt.createElement(o,_4({},l,{className:a}))}DQ.propTypes=IFe;var OFe=["className","cssModule","variant","innerRef"];function S4(){return S4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},S4.apply(this,arguments)}function H7(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),r.push.apply(r,n)}return r}function RFe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?H7(Object(r),!0).forEach(function(n){zFe(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H7(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zFe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LFe(e,t){if(e==null)return{};var r=NFe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function NFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var BFe={active:Ve.bool,"aria-label":Ve.string,onClick:Ve.func,variant:Ve.oneOf(["white"]),className:Ve.string,cssModule:Ve.object,innerRef:Ve.oneOfType([Ve.object,Ve.string,Ve.func])};function jQ(e){var t=e.className;e.cssModule;var r=e.variant,n=e.innerRef,i=LFe(e,OFe),o=Qh(rg(t,"btn-close",r&&"btn-close-".concat(r)));return mt.createElement("button",S4({ref:n,type:"button",className:o},RFe({"aria-label":"close"},i)))}jQ.propTypes=BFe;var FFe=["active","aria-label","block","className","close","cssModule","color","outline","size","tag","innerRef"];function E4(){return E4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},E4.apply(this,arguments)}function UFe(e,t){if(e==null)return{};var r=VFe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function VFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var HFe={active:Ve.bool,"aria-label":Ve.string,block:Ve.bool,children:Ve.node,className:Ve.string,cssModule:Ve.object,close:Ve.bool,color:Ve.string,disabled:Ve.bool,innerRef:Ve.oneOfType([Ve.object,Ve.func,Ve.string]),onClick:Ve.func,outline:Ve.bool,size:Ve.string,tag:m1};function C4(e){var t=V.useCallback(function(x){if(e.disabled){x.preventDefault();return}if(e.onClick)return e.onClick(x)},[e.onClick,e.disabled]),r=e.active,n=e["aria-label"],i=e.block,o=e.className,l=e.close,c=e.cssModule,a=e.color,s=a===void 0?"secondary":a,u=e.outline,d=e.size,h=e.tag,p=h===void 0?"button":h,m=e.innerRef,f=UFe(e,FFe);if(l)return mt.createElement(jQ,f);var g="btn".concat(u?"-outline":"","-").concat(s),v=Qh(rg(o,"btn",g,d?"btn-".concat(d):!1,i?"d-block w-100":!1,{active:r,disabled:e.disabled}),c);return f.href&&p==="button"&&(p="a"),mt.createElement(p,E4({type:p==="button"&&f.onClick?"button":void 0},f,{className:v,ref:m,onClick:t,"aria-label":n}))}C4.propTypes=HFe;function A4(e){"@babel/helpers - typeof";return A4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A4(e)}var WFe=["className","cssModule","tag","innerRef"];function M4(){return M4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},M4.apply(this,arguments)}function GFe(e,t){if(e==null)return{};var r=qFe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function qFe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function YFe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $Fe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function XFe(e,t,r){return $Fe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function KFe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T4(e,t)}function T4(e,t){return T4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},T4(e,t)}function QFe(e){var t=JFe();return function(){var n=Q_(e),i;if(t){var o=Q_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return ZFe(this,i)}}function ZFe(e,t){if(t&&(A4(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return P4(e)}function P4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function JFe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Q_(e){return Q_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Q_(e)}var eUe={children:Ve.node,tag:m1,innerRef:Ve.oneOfType([Ve.object,Ve.func,Ve.string]),className:Ve.string,cssModule:Ve.object},IQ=function(e){KFe(r,e);var t=QFe(r);function r(n){var i;return YFe(this,r),i=t.call(this,n),i.getRef=i.getRef.bind(P4(i)),i.submit=i.submit.bind(P4(i)),i}return XFe(r,[{key:"getRef",value:function(i){this.props.innerRef&&this.props.innerRef(i),this.ref=i}},{key:"submit",value:function(){this.ref&&this.ref.submit()}},{key:"render",value:function(){var i=this.props,o=i.className,l=i.cssModule,c=i.tag,a=c===void 0?"form":c,s=i.innerRef,u=GFe(i,WFe),d=Qh(o,l);return mt.createElement(a,M4({},u,{ref:s,className:d}))}}]),r}(V.Component);IQ.propTypes=eUe;function k4(e){"@babel/helpers - typeof";return k4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k4(e)}var tUe=["className","cssModule","type","bsSize","valid","invalid","tag","addon","plaintext","innerRef"];function D4(){return D4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},D4.apply(this,arguments)}function rUe(e,t){if(e==null)return{};var r=nUe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nUe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}function iUe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oUe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function aUe(e,t,r){return oUe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function sUe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&j4(e,t)}function j4(e,t){return j4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},j4(e,t)}function lUe(e){var t=uUe();return function(){var n=Z_(e),i;if(t){var o=Z_(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return cUe(this,i)}}function cUe(e,t){if(t&&(k4(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I4(e)}function I4(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uUe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z_(e){return Z_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z_(e)}var dUe={children:Ve.node,type:Ve.string,size:Ve.oneOfType([Ve.number,Ve.string]),bsSize:Ve.string,valid:Ve.bool,invalid:Ve.bool,tag:m1,innerRef:Ve.oneOfType([Ve.object,Ve.func,Ve.string]),plaintext:Ve.bool,addon:Ve.bool,className:Ve.string,cssModule:Ve.object},O4=function(e){sUe(r,e);var t=lUe(r);function r(n){var i;return iUe(this,r),i=t.call(this,n),i.getRef=i.getRef.bind(I4(i)),i.focus=i.focus.bind(I4(i)),i}return aUe(r,[{key:"getRef",value:function(i){this.props.innerRef&&this.props.innerRef(i),this.ref=i}},{key:"focus",value:function(){this.ref&&this.ref.focus()}},{key:"render",value:function(){var i=this.props,o=i.className,l=i.cssModule,c=i.type,a=c===void 0?"text":c,s=i.bsSize,u=i.valid,d=i.invalid,h=i.tag,p=i.addon,m=i.plaintext,f=i.innerRef,g=rUe(i,tUe),v=["switch","radio","checkbox"].indexOf(a)>-1,x=/\D/g,y=a==="textarea",b=a==="select",w=a==="range",_=h||(b||y?a:"input"),S="form-control";m?(S="".concat(S,"-plaintext"),_=h||"input"):w?S="form-range":b?S="form-select":v&&(p?S=null:S="form-check-input"),g.size&&x.test(g.size)&&(V7(`Please use the prop "bsSize" instead of the "size" to bootstrap's input sizing.`),s=g.size,delete g.size);var E=Qh(rg(o,d&&"is-invalid",u&&"is-valid",s?b?"form-select-".concat(s):"form-control-".concat(s):!1,S),l);return(_==="input"||h&&typeof h=="function")&&(g.type=a==="switch"?"checkbox":a),g.children&&!(m||a==="select"||typeof _!="string"||_==="select")&&(V7('Input with a type of "'.concat(a,'" cannot have children. Please use "value"/"defaultValue" instead.')),delete g.children),mt.createElement(_,D4({},g,{ref:f,className:E,"aria-invalid":d}))}}]),r}(mt.Component);O4.propTypes=dUe;var hUe=["className","cssModule","hidden","widths","tag","check","size","for"];function R4(){return R4=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},R4.apply(this,arguments)}function BA(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pUe(e,t){if(e==null)return{};var r=fUe(e,t),n,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function fUe(e,t){if(e==null)return{};var r={},n=Object.keys(e),i,o;for(o=0;o<n.length;o++)i=n[o],!(t.indexOf(i)>=0)&&(r[i]=e[i]);return r}var mUe=["xs","sm","md","lg","xl","xxl"],FA=Ve.oneOfType([Ve.number,Ve.string]),nf=Ve.oneOfType([Ve.bool,Ve.string,Ve.number,Ve.shape({size:FA,order:FA,offset:FA})]),gUe={children:Ve.node,hidden:Ve.bool,check:Ve.bool,size:Ve.string,for:Ve.string,tag:m1,className:Ve.string,cssModule:Ve.object,xs:nf,sm:nf,md:nf,lg:nf,xl:nf,xxl:nf,widths:Ve.array},W7=function(t,r,n){return n===!0||n===""?t?"col":"col-".concat(r):n==="auto"?t?"col-auto":"col-".concat(r,"-auto"):t?"col-".concat(n):"col-".concat(r,"-").concat(n)};function Q0(e){var t=e.className,r=e.cssModule,n=e.hidden,i=e.widths,o=i===void 0?mUe:i,l=e.tag,c=l===void 0?"label":l,a=e.check,s=e.size,u=e.for,d=pUe(e,hUe),h=[];o.forEach(function(g,v){var x=e[g];if(delete d[g],!(!x&&x!=="")){var y=!v,b;if(PFe(x)){var w,_=y?"-":"-".concat(g,"-");b=W7(y,g,x.size),h.push(Qh(rg((w={},BA(w,b,x.size||x.size===""),BA(w,"order".concat(_).concat(x.order),x.order||x.order===0),BA(w,"offset".concat(_).concat(x.offset),x.offset||x.offset===0),w))),r)}else b=W7(y,g,x),h.push(b)}});var p=s||h.length,m=!(a||p),f=Qh(rg(t,n?"visually-hidden":!1,a?"form-check-label":!1,s?"col-form-label-".concat(s):!1,h,p?"col-form-label":!1,m?"form-label":!1),r);return mt.createElement(c,R4({htmlFor:u},d,{className:f}))}Q0.propTypes=gUe;const vUe=()=>{const e=By(),t=V.useRef(null),[r,n]=V.useState({title:"",tag:"",content:""}),i=async a=>{if(a.preventDefault(),r.title.trim()===""){Nr.error("Post title is required !!");return}if(r.content.trim()===""){Nr.error("Post content is required !!");return}console.log(r);try{const s=new FormData;s.append("title",r.title),s.append("tags",r.tag),s.append("desc",r.content),s.append("image",a.target.image.files[0]),console.log(s.tags);const u=await op.post("http://localhost:3000/api/v1/post/addPost",s,{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"http://localhost:5173/"}});console.log(u),e("/empower")}catch(s){console.log(s)}},o=a=>{n({...r,[a.target.name]:a.target.value})},l=a=>{n({...r,tag:a.target.value})},c=a=>{n({...r,content:a})};return z.jsx("div",{className:"wrapper",children:z.jsx("div",{className:"textedit-cont",children:z.jsxs("div",{className:"card-body",children:[z.jsx("h3",{className:"custom-heading",children:"What is going on in your mind?"}),z.jsxs(IQ,{onSubmit:i,children:[z.jsxs("div",{className:"head-3",children:[z.jsxs("div",{className:"my-3",children:[z.jsx(Q0,{htmlFor:"title",className:"custom-label",children:"Post Title"}),z.jsx(O4,{type:"text",id:"title",placeholder:"Enter here",className:"custom-input",name:"title",onChange:o})]}),z.jsxs("div",{className:"my-3",children:[" ",z.jsx(Q0,{htmlFor:"tag",className:"custom-label",children:"Tag:"}),z.jsxs("select",{className:"type-select",onChange:l,children:[z.jsx("option",{className:"type-option",value:"",children:"Select Type"}),z.jsx("option",{className:"type-option",value:"type1",children:"Type 1"}),z.jsx("option",{className:"type-option",value:"type2",children:"Type 2"})]})]})]}),z.jsxs("div",{className:"my-3",children:[z.jsx(Q0,{htmlFor:"content",className:"custom-label",children:"Post Content"}),z.jsx(gFe,{ref:t,value:r.content,onChange:a=>c(a)})]}),z.jsxs("div",{className:"mt-3",children:[z.jsx(Q0,{htmlFor:"image",className:"custom-label",children:"Select Post Banner"}),z.jsx(O4,{id:"image",type:"file"})]}),z.jsxs(DQ,{className:"text-center",children:[z.jsx(C4,{type:"submit",className:"rounded-0",color:"primary",children:"Create Post"}),z.jsx(C4,{className:"rounded-0 ms-2",color:"danger",children:"Reset Content"})]})]})]})})})},yUe="/womenBG.jpg",bUe="/wT.jpg",xUe="/sp.jpg",wUe="/kN.jpg",_Ue=()=>{const e=[{title:"Arundhati Bhattacharya ",img:"path/to/image1.jpg",desc:"Arundhati Bhattacharya, a luminary in the Indian tech industry, is making waves as the CEO of Salesforce India. With a trailblazing career that includes being the first woman Chairperson of the State Bank of India, Bhattacharya is a driving force in technological innovation and digital transformation in banking.",socialLinks:[{url:"https://twitter.com/example1",icon:"twitter"},{url:"https://facebook.com/example1",icon:"linkedIn"}]},{title:"Debjani Ghosh ",img:"path/to/image2.jpg",desc:`Leading the National Association of Software and Service Companies, Debjani Ghosh is a key advocate for India’s IT sector. Her focus on digitalization and gender diversity has marked her as a pivotal figure in shaping the industry’s contribution to India’s economic landscape.
      `,socialLinks:[{url:"https://twitter.com/example1",icon:"twitter"},{url:"https://facebook.com/example1",icon:"linkedIn"}]},{title:"Falguni Nayar",img:"path/to/image3.jpg",desc:`From a successful career in investment banking to founding Nykaa, Falguni Nayar has transformed the landscape of Indian e-commerce in beauty and fashion. Under her guidance, Nykaa has become a household name, synonymous with quality and style.
      `,socialLinks:[{url:"https://twitter.com/example1",icon:"twitter"},{url:"https://facebook.com/example1",icon:"linkedIn"}]},{title:"Vinita Gupta",img:"path/to/image4.jpg",desc:`Steering Lupin Limited, a global pharmaceutical giant, Vinita Gupta is a powerhouse in the industry. Her strategic vision has been instrumental in Lupin’s global expansion and positioning as a formidable player in the pharmaceutical world.
     `,socialLinks:[{url:"https://twitter.com/example1",icon:"twitter"},{url:"https://facebook.com/example1",icon:"linkedIn"}]}];return z.jsxs("div",{className:"empower-cont",children:[z.jsxs("div",{className:"empower-title",children:[z.jsxs("div",{className:"empower-head",children:[z.jsxs("h1",{children:["Empow",z.jsx("span",{style:{color:"hotpink"},children:"HER "})]}),z.jsxs("p",{style:{color:"white",fontSize:"26px"},children:["The Ultimate Hub for Women's Growth and Leadership.",z.jsx("br",{}),"A portal for growth, netwoking and all things good!!"]}),z.jsx("button",{className:"readmore2",style:{color:"white"},children:"Read more"})]}),z.jsx("img",{src:yUe,alt:""})]}),z.jsx("div",{className:"filler",children:z.jsx("h1",{children:" Our Aim"})}),z.jsxs("div",{className:"empower-hero",children:[z.jsxs("div",{className:"herosec",children:[z.jsxs("div",{className:"herosec1",children:[z.jsx("h2",{children:"Connecting Women across Professions"}),z.jsx("p",{className:"hero-desc",children:"Create a vibrant network that connects aspiring women professionals with experienced mentors. This platform is designed to facilitate mentorship and guidance, crucial for career development and personal growth, and helps women navigate through their professional landscapes.?"})]}),z.jsx("img",{src:bUe,alt:""})]}),z.jsxs("div",{className:"herosec2",children:[z.jsxs("div",{className:"herosec1",children:[z.jsx("h2",{children:"Tailored Support for Women's Career Journeys"}),z.jsx("p",{className:"hero-desc",children:"Provide specialized support and resources that address the unique challenges faced by women in the workforce. This section is committed to equipping women with essential tools and advice for their career advancement, ensuring their success and growth in professional settings."})]}),z.jsx("img",{src:xUe,alt:""})]}),z.jsxs("div",{className:"herosec",children:[z.jsxs("div",{className:"herosec1",children:[z.jsx("h2",{children:"Knowledge Sharing by Inspirational Women"}),z.jsx("p",{className:"hero-desc",children:"Cultivate a space where distinguished women leaders share their knowledge through blogs and articles. This feature is focused on empowering women by offering insights, experiences, and practical advice from successful figures in various fields, creating a community of informed and empowered women professionals."})]}),z.jsx("img",{src:wUe,alt:""})]})]}),z.jsx("div",{className:"filler",children:z.jsx("h1",{children:" Top Women Voices"})}),z.jsx("div",{className:"empower-profiles",style:{display:"flex",flexWrap:"wrap"},children:e.map(t=>z.jsx(Uw,{title:t.title,img:t.img,desc:t.desc,socialLinks:t.socialLinks},t.title))}),z.jsx("div",{className:"filler",children:z.jsx("h1",{children:" Top Stories"})}),z.jsx(pFe,{}),z.jsxs(Kf,{to:"/createPost",children:[z.jsx(zne,{})," Add Post"]})]})},SUe="/jb.jpg";function EUe(e){return Dr({tag:"svg",attr:{role:"img",viewBox:"0 0 24 24"},child:[{tag:"title",attr:{},child:[]},{tag:"path",attr:{d:"M11.999 0c-2.25 0-4.5.06-6.6.21a5.57 5.57 0 00-5.19 5.1c-.24 3.21-.27 6.39-.06 9.6a5.644 5.644 0 005.7 5.19h3.15v-3.9h-3.15c-.93.03-1.74-.63-1.83-1.56-.18-3-.15-6 .06-9 .06-.84.72-1.47 1.56-1.53 2.04-.15 4.2-.21 6.36-.21s4.32.09 6.36.18c.81.06 1.5.69 1.56 1.53.24 3 .24 6 .06 9-.12.93-.9 1.62-1.83 1.59h-3.15l-6 3.9V24l6-3.9h3.15c2.97.03 5.46-2.25 5.7-5.19.21-3.18.18-6.39-.03-9.57a5.57 5.57 0 00-5.19-5.1c-2.13-.18-4.38-.24-6.63-.24zm-5.04 8.76c-.36 0-.66.3-.66.66v2.34c0 .33.18.63.48.78 1.62.78 3.42 1.2 5.22 1.26 1.8-.06 3.6-.48 5.22-1.26.3-.15.48-.45.48-.78V9.42c0-.09-.03-.15-.09-.21a.648.648 0 00-.87-.36c-1.5.66-3.12 1.02-4.77 1.05-1.65-.03-3.27-.42-4.77-1.08a.566.566 0 00-.24-.06z"}}]})(e)}function CUe(e){return Dr({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeMiterlimit:"10",strokeWidth:"32",d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z"}},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M320 320L192 192m0 128l128-128"}}]})(e)}const AUe=({clos:e})=>{const[t,r]=V.useState([]),[n,i]=V.useState(""),o=V.useRef(null),l=async()=>{if(n.trim()){r(c=>[...c,{text:n,type:"user"}]),i("");try{console.log(n);const c=await op.post("https://4166-2409-4071-2308-217b-51a0-e976-9bb7-5ecd.ngrok-free.app/webhook",{text:n},{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:5173"}});console.log(c),r(a=>[...a,{text:c.data,type:"chatbot"}]),o.current.scrollTop=o.current.scrollHeight}catch(c){console.error("Error processing message:",c)}}};return z.jsx(Hfe,{component:"main",maxWidth:"xs",style:{marginTop:"50px",background:"black"},children:z.jsxs(YG,{elevation:3,style:{padding:"20px",display:"flex",flexDirection:"column",alignItems:"center",background:"rgba(60, 60, 60, 0.329)",color:"white",width:"400px",maxHeight:"400px"},children:[z.jsxs("div",{className:"inline-head",style:{display:"flex ",alignItems:"center",justifyContent:"space-around",width:"100%"},children:[z.jsx("h2",{style:{color:"aqua"},children:" InfoBOT "}),z.jsx("span",{children:z.jsx(CUe,{style:{fontSize:"2rem",color:"red",cursor:"pointer"},onClick:e})})]}),z.jsx(Ife,{ref:o,style:{width:"410px",marginTop:"20px",paddingTop:"20px",paddingBottom:"20px",maxHeight:"600px",overflowY:"auto",border:"1px solid #ccc",background:"black"},children:t.map((c,a)=>z.jsx("div",{style:{textAlign:c.type==="chatbot"?"left":"right",marginBottom:"24px"},children:z.jsx(Wpe,{component:"span",variant:"body1",style:{color:c.type==="chatbot"?"white":"lime",padding:"8px",borderRadius:"7px"},children:c.text})},a))}),z.jsxs(yE,{container:!0,spacing:2,style:{marginTop:"20px"},children:[z.jsx(yE,{item:!0,xs:8,children:z.jsx(Gge,{variant:"outlined",fullWidth:!0,placeholder:"Type your message...",value:n,onChange:c=>i(c.target.value),style:{color:"white",background:"gray"}})}),z.jsx(yE,{item:!0,xs:4,children:z.jsx(Vfe,{variant:"contained",color:"primary",fullWidth:!0,onClick:l,style:{padding:"13px"},children:"Send"})})]})]})})},MUe=()=>{const[e,t]=V.useState();return V.useEffect(()=>{(async()=>{try{const n=await op.post("http://localhost:3000/api/v1/job/fetchLastAddedJob",{headers:{"Content-Type":"multipart/form-data","Access-Control-Allow-Origin":"http://localhost:5173/"}});console.log(n),t(n.data.data)}catch(n){console.log(n)}})()},[]),z.jsx(z.Fragment,{children:e&&z.jsxs("div",{className:"job-post-card",children:[z.jsx("h2",{children:e.jobTitle}),z.jsxs("div",{className:"top-line",children:[z.jsxs("p",{children:[z.jsx(pH,{})," ",z.jsx("span",{children:e.jobLocation})]}),z.jsxs("p",{children:[z.jsx(Hk,{})," ",e.jobTimings]})]}),z.jsx("p",{children:e.jobDescription}),z.jsx("p",{children:e.interviewDetails}),z.jsxs("div",{className:"top-line",children:[z.jsxs("p",{children:["Experience: ",e.minExperience," - ",e.maxExperience]}),z.jsxs("p",{children:[" ",z.jsx(hH,{})," ",z.jsx("span",{children:e.monthlySalary})," "]})," "]}),z.jsxs("p",{children:["Preferred Language: ",e.preferredLanguage]}),z.jsxs("p",{children:["Skills: ",e.skills]})]})})},TUe=()=>{V.useEffect(()=>{},[]),V.useState([]);const[e,t]=V.useState(!1),r=()=>{t(!e)};return z.jsxs("div",{className:"js-cont",children:[z.jsxs("div",{className:"job-cont-head",children:[z.jsxs("div",{className:"header",children:[z.jsx("h2",{children:"JOb Posting Made Easy"}),z.jsx("p",{children:"Simplify your hiring process with our user-friendly job posting platform. Create, edit, and publish job listings effortlessly, reaching a wider audience to find the perfect candidates for your team"}),z.jsx("button",{className:"read-btn",children:z.jsx(Kf,{to:"/job",style:{color:"black"},children:"Post a Job"})})]}),z.jsx("div",{className:"img_section",children:z.jsx("img",{src:SUe,alt:"",className:"img_about"})})]}),z.jsx(MUe,{}),z.jsx("h3",{className:"my-projects",children:"Listed Users"}),z.jsx("div",{className:"js-users-cont",children:Xge.map((n,i)=>z.jsxs("div",{className:"user-card",children:[z.jsx("h3",{children:n.name}),z.jsx("p",{children:n.desc}),z.jsx("a",{href:n.resume,children:"Link to Resume"}),z.jsx("span",{children:n.country}),z.jsx("span",{children:n.email})]},i))}),z.jsxs("div",{className:"js-chatbot",children:[!e&&z.jsx(EUe,{className:"bot-icon",onClick:r}),e&&z.jsx(AUe,{clos:r})]})]})};function PUe(){x2();const e=Tte([{path:"/",element:z.jsx(z8e,{}),children:[{index:!0,element:z.jsx(P8e,{})},{path:"/auth",element:z.jsx(Kle,{})},{path:"/sign",element:z.jsx(Zge,{})},{path:"/about",element:z.jsx(FK,{})},{path:"/hero",element:z.jsx(UK,{})},{path:"/createPost",element:z.jsx(vUe,{})},{path:"/user",element:z.jsx(Qge,{})},{path:"/userProfile",element:z.jsx(rle,{})},{path:"/addproject",element:z.jsx(tle,{})},{path:"/empower",element:z.jsx(_Ue,{})},{path:"/js",element:z.jsx(TUe,{})}]}]);return z.jsx(z.Fragment,{children:z.jsx(wV,{children:z.jsx(Lte,{router:e})})})}UA.createRoot(document.getElementById("root")).render(z.jsx(mt.StrictMode,{children:z.jsx(wV,{children:z.jsx(PUe,{})})}))});export default kUe();
